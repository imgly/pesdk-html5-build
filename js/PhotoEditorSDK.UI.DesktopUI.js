(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("photoeditorsdk/js/PhotoEditorSDK"), require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["photoeditorsdk", "react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["PhotoEditorDesktopUI"] = factory(require("photoeditorsdk/js/PhotoEditorSDK"), require("react"), require("react-dom"));
	else
		root["PhotoEditorDesktopUI"] = factory(root["PhotoEditorSDK"], root["React"], root["ReactDOM"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_32__, __WEBPACK_EXTERNAL_MODULE_147__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 133);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(135), __esModule: true };

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(145), __esModule: true };

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(137), __esModule: true };

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(140), __esModule: true };

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return Promise; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return Vector2; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return SDKUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return EventEmitter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return Color; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Base64; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return RenderType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return OptionType; });
/* unused harmony export UniformType */
/* unused harmony export EXIF */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return SDK; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return now; });
/* unused harmony export ColorMatrix */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return ImageFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return Rectangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return adonis; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_dom__ = __webpack_require__(147);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_dom__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_prop_types__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__themes__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_adonis__ = __webpack_require__(153);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_adonis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_adonis__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_base_component__ = __webpack_require__(90);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_utils__ = __webpack_require__(169);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_constants__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lib_shared_state__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_shared_async_animation_frame__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_shared_log__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_shared_loaders_image_loader__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_shared_constants__ = __webpack_require__(104);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return __WEBPACK_IMPORTED_MODULE_7__lib_utils__["a"]; });
/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, "l", function() { return __WEBPACK_IMPORTED_MODULE_1_react___default.a; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return __WEBPACK_IMPORTED_MODULE_6__components_base_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return __WEBPACK_IMPORTED_MODULE_8__lib_constants__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return __WEBPACK_IMPORTED_MODULE_9__lib_shared_state__["a"]; });
/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, "m", function() { return __WEBPACK_IMPORTED_MODULE_2_react_dom___default.a; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return __WEBPACK_IMPORTED_MODULE_10_shared_async_animation_frame__["b"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return __WEBPACK_IMPORTED_MODULE_10_shared_async_animation_frame__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return __WEBPACK_IMPORTED_MODULE_11_shared_log__["a"]; });
/* harmony reexport (binding) */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_5_adonis__, "withTheme")) __webpack_require__.d(__webpack_exports__, "A", function() { return __WEBPACK_IMPORTED_MODULE_5_adonis__["withTheme"]; });
/* harmony reexport (binding) */ if(__webpack_require__.o(__WEBPACK_IMPORTED_MODULE_5_adonis__, "ThemeProvider")) __webpack_require__.d(__webpack_exports__, "t", function() { return __WEBPACK_IMPORTED_MODULE_5_adonis__["ThemeProvider"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return __WEBPACK_IMPORTED_MODULE_12_shared_loaders_image_loader__["a"]; });
/* harmony reexport (default from non-hamory) */ __webpack_require__.d(__webpack_exports__, "k", function() { return __WEBPACK_IMPORTED_MODULE_3_prop_types___default.a; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return __WEBPACK_IMPORTED_MODULE_13_shared_constants__["a"]; });
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



















var env = ("production");
var adonis = new __WEBPACK_IMPORTED_MODULE_5_adonis___default.a(global.adonisOptions || {
  injection: env === 'production' || env === 'test' ? false : 'pre',
  theme: __WEBPACK_IMPORTED_MODULE_4__themes__["a" /* DefaultTheme */],
  minified: env === 'production',
  cssSelectorPrefix: '.pesdk-desktop-editor ',
  classNamePrefix: 'pesdk-',
  hashedStyles: env === 'production'
});

var Base64 = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Base64;
var Color = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Color;
var ColorMatrix = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.ColorMatrix;
var EventEmitter = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.EventEmitter;
var EXIF = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.EXIF;
var OptionType = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.OptionType;
var Promise = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Promise;
var SDKUtils = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Utils;
var RenderType = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.RenderType;
var ImageFormat = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.ImageFormat;
var SDK = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a;
var UniformType = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.UniformType;
var Vector2 = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Vector2;
var Rectangle = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Rectangle;

var now = typeof window !== 'undefined' && window.performance && window.performance.now ? window.performance.now.bind(window.performance) : __webpack_require__(105);


/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

/* @module */
/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

module.exports = __webpack_require__(134).default;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(216), __esModule: true };

/***/ }),
/* 7 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_7__;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(154), __esModule: true };

/***/ }),
/* 9 */
/***/ (function(module, exports) {

var core = module.exports = { version: '2.5.3' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(176), __esModule: true };

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__(64)('wks');
var uid = __webpack_require__(41);
var Symbol = __webpack_require__(13).Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(13);
var core = __webpack_require__(9);
var ctx = __webpack_require__(24);
var hide = __webpack_require__(19);
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && key in exports) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),
/* 13 */
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(17);
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),
/* 15 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return rAF; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return cAF; });
/*
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * requestAnimationFrame polyfill by Erik MÃ¶ller. fixes from Paul Irish and Tino Zijdel
 * MIT license
 * @license
 */

/* eslint-disable standard/no-callback-literal */

var root = typeof window === 'undefined' ? global : window;
var rAF = root.requestAnimationFrame;
var cAF = root.cancelAnimationFrame;

var lastTime = 0;
var vendors = ['ms', 'moz', 'webkit', 'o'];
for (var x = 0; x < vendors.length && !rAF; ++x) {
  rAF = root[vendors[x] + 'RequestAnimationFrame'];
  cAF = root[vendors[x] + 'CancelAnimationFrame'] || root[vendors[x] + 'CancelRequestAnimationFrame'];
}

/* Bind to root is necessary as the context must be valid */
if (rAF) {
  rAF = rAF.bind(root);
}
if (cAF) {
  cAF = cAF.bind(root);
}

/* istanbul ignore next */
if (!rAF) {
  rAF = function rAF(callback, element) {
    var currTime = new Date().getTime();
    var timeToCall = Math.max(0, 16 - (currTime - lastTime));
    var id = setTimeout(function () {
      callback(currTime + timeToCall);
    }, timeToCall);
    lastTime = currTime + timeToCall;
    return id;
  };
}

/* istanbul ignore next */
if (!cAF) {
  cAF = function cAF(id) {
    clearTimeout(id);
  };
}


/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)))

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(14);
var IE8_DOM_DEFINE = __webpack_require__(84);
var toPrimitive = __webpack_require__(57);
var dP = Object.defineProperty;

exports.f = __webpack_require__(18) ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),
/* 17 */
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__(25)(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(16);
var createDesc = __webpack_require__(28);
module.exports = __webpack_require__(18) ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__(85);
var defined = __webpack_require__(59);
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),
/* 21 */
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),
/* 22 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_is_iterable__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_is_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_is_iterable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__);




var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_get_iterator___default()(arr), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_is_iterable___default()(Object(arr))) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

/* eslint-disable brace-style */

/* harmony default export */ __webpack_exports__["a"] = ({
  load: function load(url) {
    var _this = this;

    var crossOrigin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { cors: true, value: 'anonymous' };

    var loadPromise = function loadPromise() {
      if (url.substr(0, 5) === 'data:' || "boolean" !== 'undefined') {
        return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.resolve([url, url]);
      }
    };

    return loadPromise().then(function (_ref) {
      var _ref2 = _slicedToArray(_ref, 2),
          originalSrc = _ref2[0],
          src = _ref2[1];

      return _this._createAndLoadImage(originalSrc, src, crossOrigin);
    });
  },
  _createAndLoadImage: function _createAndLoadImage(originalSrc, src) {
    var crossOrigin = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { cors: true, value: 'anonymous' };

    if (true) {
      return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var image = new window.Image();
        image.addEventListener('load', function () {
          resolve(image);
        });
        image.addEventListener('error', function () {
          reject(new Error('Failed to load image at ' + src));
        });

        if (crossOrigin.cors) {
          image.crossOrigin = crossOrigin.value;
        }

        image.src = src;
      });
    }
  },
  loadXHR: function loadXHR(url, mime) {
    return new __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
      var xhr = void 0;
      if (window.XDomainRequest) {
        xhr = new window.XDomainRequest();
        if (mime) xhr.overrideMimeType(mime);

        xhr.onload = function () {
          resolve(xhr);
        };
        xhr.onerror = function (e) {
          reject(e);
        };
      } else if (window.XMLHttpRequest) {
        xhr = new window.XMLHttpRequest();
        if (mime) xhr.overrideMimeType(mime);

        xhr.onreadystatechange = function (oEvent) {
          if (xhr.readyState === 4) {
            if (xhr.status === 200) {
              resolve(xhr);
            } else {
              reject(new Error('HTTP Status ' + xhr.status));
            }
          }
        };
      }

      xhr.open('GET', url, true);
      xhr.send();
    });
  }
});

/***/ }),
/* 23 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var DraggableComponent = function (_BaseComponent) {
  _inherits(DraggableComponent, _BaseComponent);

  function DraggableComponent() {
    var _ref;

    _classCallCheck(this, DraggableComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = DraggableComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(DraggableComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onDragStart', '_onDragMove', '_onDragEnd');
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(DraggableComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(DraggableComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(DraggableComponent.prototype), 'componentDidMount', this).call(this);
      if (this.refs.element) {
        this._element = this.refs.element;
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user stars dragging the child
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onDragStart',
    value: function _onDragStart(e) {
      if (this.props.disabled) return;

      e.preventDefault();
      e.stopPropagation();

      this._initialMousePosition = __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].getEventPosition(e);

      document.addEventListener('mousemove', this._onDragMove);
      document.addEventListener('touchmove', this._onDragMove);
      document.addEventListener('mouseup', this._onDragEnd);
      document.addEventListener('touchend', this._onDragEnd);

      var boundingRect = this._element.getBoundingClientRect();
      var elementOffset = new __WEBPACK_IMPORTED_MODULE_5_globals__["v" /* Vector2 */](boundingRect.left, boundingRect.top);

      this._lastMousePosition = this._initialMousePosition.clone();
      var relativePosition = this._initialMousePosition.clone().subtract(elementOffset);
      this.props.onStart && this.props.onStart(relativePosition, this._initialMousePosition.clone(), e);
    }

    /**
     * Gets called while the user drags the child
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onDragMove',
    value: function _onDragMove(e) {
      e.preventDefault();
      e.stopPropagation();

      var mousePosition = __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].getEventPosition(e);
      if (!mousePosition) return;
      var mouseDiff = mousePosition.clone().subtract(this._initialMousePosition);

      var lastMouseDiff = mousePosition.clone().subtract(this._lastMousePosition);
      this._lastMousePosition = mousePosition.clone();
      this.props.onDrag && this.props.onDrag(mouseDiff, mousePosition, lastMouseDiff, e);
    }

    /**
     * Gets called when the user stops dragging the child
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onDragEnd',
    value: function _onDragEnd(e) {
      e.preventDefault();
      e.stopPropagation();
      e.stopImmediatePropagation();

      this._onDragMove(e);

      document.removeEventListener('mousemove', this._onDragMove);
      document.removeEventListener('touchmove', this._onDragMove);
      document.removeEventListener('mouseup', this._onDragEnd);
      document.removeEventListener('touchend', this._onDragEnd);

      this.props.onStop && this.props.onStop(e);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      if (!this.props.children || this.props.children instanceof Array) {
        throw new Error('DraggableComponent expects exactly one child.');
      }

      var props = {
        onMouseDown: this._onDragStart,
        onTouchStart: this._onDragStart,
        onClick: function onClick(e) {
          if (_this2.props.disabled) {
            var onClick = _this2.props.children.props.onClick;

            onClick && onClick(e);
            return;
          }

          e.stopPropagation();
        }
      };

      if (typeof this.props.children.type === 'string') {
        props.ref = 'element';
      } else {
        var originalInnerRef = this.props.children.props.innerRef;
        props.innerRef = function (el) {
          _this2._element = el;originalInnerRef && originalInnerRef(el);
        };
      }
      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].cloneElement(this.props.children, props);
    }
  }]);

  return DraggableComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

DraggableComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
DraggableComponent.propTypes = {
  onStart: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].func,
  onDrag: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].func,
  onStop: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].func,
  disabled: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].bool
};
/* harmony default export */ __webpack_exports__["a"] = (DraggableComponent);

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__(39);
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),
/* 25 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),
/* 26 */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1,eval)("this");
} catch(e) {
	// This works if the window reference is available
	if(typeof window === "object")
		g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),
/* 27 */
/***/ (function(module, exports) {

module.exports = {};


/***/ }),
/* 28 */
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),
/* 29 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__(86);
var enumBugKeys = __webpack_require__(65);

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__(59);
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),
/* 32 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_32__;

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at = __webpack_require__(155)(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__(92)(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(170), __esModule: true };

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(179), __esModule: true };

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(180), __esModule: true };

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var Modal = function (_EventEmitter) {
  _inherits(Modal, _EventEmitter);

  function Modal(type, title, text) {
    var overlay = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
    var closeOnOverlayClick = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;

    _classCallCheck(this, Modal);

    var _this = _possibleConstructorReturn(this, (Modal.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(Modal)).call(this));

    _this.id = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].getUUID();
    _this.type = type;
    _this.title = title;
    _this.text = text;
    _this.overlay = overlay;
    _this.closeOnOverlayClick = closeOnOverlayClick;
    _this.visible = true;
    _this.data = null;
    return _this;
  }

  /**
   * Sets the data to the given one
   * @param {Object} data
   */


  _createClass(Modal, [{
    key: 'setData',
    value: function setData(data) {
      this.data = data;
      this.emit('update');
    }

    /**
     * Closes this modal
     */

  }, {
    key: 'close',
    value: function close() {
      this.visible = false;
      this.emit('close');
    }

    /**
     * Removes this modal
     */

  }, {
    key: 'remove',
    value: function remove() {
      this.emit('remove');
    }
  }]);

  return Modal;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

var ModalManager = function (_EventEmitter2) {
  _inherits(ModalManager, _EventEmitter2);

  function ModalManager() {
    _classCallCheck(this, ModalManager);

    var _this2 = _possibleConstructorReturn(this, (ModalManager.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ModalManager)).call(this));

    _this2._modals = [];
    return _this2;
  }

  /**
   * Creates a loading modal
   * @param  {String} title
   * @return {Modal}
   */


  _createClass(ModalManager, [{
    key: 'displayLoading',
    value: function displayLoading(title) {
      var overlay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      var modal = new Modal('loading', title, null, overlay);
      this.addModal(modal);
      return modal;
    }

    /**
     * Creates a progress modal
     * @param  {String} text
     * @return {Modal}
     */

  }, {
    key: 'displayProgress',
    value: function displayProgress(text) {
      var progress = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      var modal = new Modal('progress', null, text);
      modal.setData({ progress: progress });
      this.addModal(modal);
      return modal;
    }
  }, {
    key: 'displayInput',
    value: function displayInput(title) {
      var text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var overlay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

      var modal = new Modal('input', title, null, overlay, true);
      modal.setData({ text: text });
      this.addModal(modal);
      return modal;
    }

    /**
     * Creates a warning modal
     * @param  {String} title
     * @param  {String} text
     * @param  {Boolean} overlay = true
     * @return {Modal}
     */

  }, {
    key: 'displayWarning',
    value: function displayWarning(title, text) {
      var buttons = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ['OK'];
      var overlay = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

      var modal = new Modal('warning', title, text, overlay);
      modal.setData({ buttons: buttons });
      this.addModal(modal);
      return modal;
    }

    /**
     * Creates an error modal
     * @param  {String} title
     * @param  {String} text
     * @param  {Boolean} overlay = true
     * @return {Modal}
     */

  }, {
    key: 'displayError',
    value: function displayError(title, text) {
      var overlay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

      var modal = new Modal('error', title, text, overlay);
      this.addModal(modal);
      return modal;
    }

    /**
     * Adds the given modal to the list of modals
     * @param {Modal} modal
     */

  }, {
    key: 'addModal',
    value: function addModal(modal) {
      var _this3 = this;

      this._modals.push(modal);
      modal.on('close', function () {
        _this3.emit('update');
      });
      modal.on('remove', function () {
        _this3.removeModal(modal);
      });
      modal.on('update', function () {
        _this3.emit('update');
      });
      this.emit('update');
    }

    /**
     * Removes the given modal from the list of modals
     * @param  {Modal} modal
     */

  }, {
    key: 'removeModal',
    value: function removeModal(modal) {
      var index = this._modals.indexOf(modal);
      this._modals.splice(index, 1);
      this.emit('update');
    }

    /**
     * Returns the modals
     * @return {Array.<Modal>}
     */

  }, {
    key: 'getModals',
    value: function getModals() {
      return this._modals;
    }

    /**
     * Returns the one and only instance of this class
     * @return {ModalManager}
     */

  }], [{
    key: 'instance',
    get: function get() {
      if (!this._instance) {
        this._instance = new ModalManager();
      }
      return this._instance;
    }
  }]);

  return ModalManager;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (ModalManager);

/***/ }),
/* 38 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ModalComponent = function (_BaseComponent) {
  _inherits(ModalComponent, _BaseComponent);

  function ModalComponent() {
    var _ref;

    _classCallCheck(this, ModalComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ModalComponent)).call.apply(_ref, [this].concat(args)));

    _this._buttons = [];
    _this.state = { visible: false };
    return _this;
  }

  /**
   * Gets called when this component has been mounted
   */


  _createClass(ModalComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _get2,
          _this2 = this;

      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      (_get2 = _get(ModalComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ModalComponent.prototype), 'componentDidMount', this)).call.apply(_get2, [this].concat(args));

      var modal = this.props.modal;

      modal.on('close', function () {
        _this2.setState({ visible: false });
        setTimeout(function () {
          modal.remove();
        }, _this2.context.theme.transitionDuration * 1000);
      });

      Object(__WEBPACK_IMPORTED_MODULE_5__globals__["z" /* requestAnimationFrame */])(function () {
        _this2.setState({ visible: true });
      });
    }

    /**
     * Gets called when the user clicks a button
     * @param {Number} buttonIndex
     * @private
     */

  }, {
    key: '_onButtonClick',
    value: function _onButtonClick(buttonIndex) {}

    /**
     * Renders the buttons
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderButtons',
    value: function _renderButtons() {
      var _this3 = this;

      return this._buttons.map(function (button, i) {
        return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          Button,
          { key: i, onClick: _this3._onButtonClick.bind(_this3, i) },
          button
        );
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var modal = this.props.modal;

      var topProps = _defineProperty({}, modal.type, true);

      var buttons = this._buttons.length ? __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
        Buttons,
        null,
        this._renderButtons()
      ) : null;

      var content = this._renderContent && this._renderContent();

      if (content) {
        return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          Modal,
          { visible: this.state.visible, large: this.state.large },
          content,
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(BlockingOverlay, { onClick: this._onClickOverlay, visible: !this.state.visible })
        );
      }

      return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
        Modal,
        { visible: this.state.visible },
        __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          Top,
          topProps,
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
            IconContainer,
            null,
            __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(Icon, { src: this._getAssetPath('shared/modals/icon.png', true) })
          ),
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
            TextContainer,
            null,
            __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
              Title,
              null,
              modal.title
            ),
            __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
              Text,
              null,
              modal.text
            )
          )
        ),
        buttons,
        __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(BlockingOverlay, { onClick: this._onClickOverlay, visible: !this.state.visible })
      );
    }
  }]);

  return ModalComponent;
}(__WEBPACK_IMPORTED_MODULE_5__globals__["b" /* BaseComponent */]);

ModalComponent.propTypes = { modal: __WEBPACK_IMPORTED_MODULE_5__globals__["k" /* PropTypes */].object };
ModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ModalComponent);


var Modal = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1jkivgb', {
  visible: '7bce9v',
  large: '1mlpyuc'
}, 'Modal');

var Top = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1udylfs', {
  error: '120drhm',
  warning: '120drhm',
  loading: '120drhm'
}, 'Top');

var IconContainer = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('z6arf2', 'IconContainer');

var TextContainer = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('245la5', 'TextContainer');

var Buttons = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1943606', 'Buttons');

var Button = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1kylmay', 'Button');

var Icon = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].img('jsue2c', 'Icon');

var Title = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1fx19is', 'Title');

var Text = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1id6172', 'Text');

var BlockingOverlay = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('mv80g2', {
  visible: '2jlos'
}, 'BlockingOverlay');

/***/ }),
/* 39 */
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),
/* 40 */
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),
/* 41 */
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (false) {
  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&
    Symbol.for &&
    Symbol.for('react.element')) ||
    0xeac7;

  var isValidElement = function(object) {
    return typeof object === 'object' &&
      object !== null &&
      object.$$typeof === REACT_ELEMENT_TYPE;
  };

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);
} else {
  // By explicitly using `prop-types` you are opting into new production behavior.
  // http://fb.me/prop-types-in-prod
  module.exports = __webpack_require__(148)();
}


/***/ }),
/* 43 */
/***/ (function(module, exports) {

module.exports = true;


/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__(16).f;
var has = __webpack_require__(21);
var TAG = __webpack_require__(11)('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(157);
var global = __webpack_require__(13);
var hide = __webpack_require__(19);
var Iterators = __webpack_require__(27);
var TO_STRING_TAG = __webpack_require__(11)('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}


/***/ }),
/* 46 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {/* unused harmony export Logger */
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__ = __webpack_require__(173);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__ = __webpack_require__(175);




var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var defaultLevels = [{ name: 'trace', type: 'trace', background: '#EEEEEE', color: '#AAAAAA' }, { name: 'info', type: 'log', background: '#BDE5F8', color: '#00529B' }, { name: 'warn', type: 'warn', background: '#FEEFB3', color: '#9F6000' }, { name: 'error', type: 'error', background: '#FFBABA', color: '#D8000C' }, { name: 'log', type: 'log', background: '#EEEEEE', color: '#1f4f6b' }];

var hasConsoleGroups = function hasConsoleGroups() {
  return console && console.group && console.groupCollapsed && console.groupEnd;
};

var hasColorOutput = function hasColorOutput() {
  return (!process || process && process.browser) && typeof navigator !== 'undefined' && navigator.userAgent.match(/Gecko|WebKit/i) && !navigator.userAgent.match(/Trident/);
};

/* eslint-disable */
var getLogStyles = function getLogStyles(background, color) {
  return ['background: #2D7BFF; line-height: 20px; padding: 4px 0', 'background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0', 'background: #2D7BFF; line-height: 20px; padding: 4px 0', 'background: ' + background + '; color: ' + color + '; line-height: 20px; padding: 4px 0; font-weight: bold', 'background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0', 'background: #2D7BFF; line-height: 20px; padding: 4px 0'];
};
/* eslint-enable */

var Logger = function () {
  function Logger() {
    var _this = this;

    var maxLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'warn';
    var levels = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultLevels;

    _classCallCheck(this, Logger);

    this._levels = [].concat(_toConsumableArray(levels));
    this._maxLevel = this.getLevelIndexByName(maxLevel);

    this._consoleFuncs = {
      trace: function trace() {
        if (hasConsoleGroups()) {
          var _console;

          (_console = console).groupCollapsed.apply(_console, arguments);
          console.trace();
          console.groupEnd();
        } else {
          var _console2;

          (_console2 = console).trace.apply(_console2, arguments);
        }
      }
    };

    this._levels.forEach(function (_ref) {
      var name = _ref.name;

      _this[name] = function (tag) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        _this._log.apply(_this, [name, tag].concat(args));
      };
    });
  }

  _createClass(Logger, [{
    key: 'getLevelIndexByName',
    value: function getLevelIndexByName(levelName) {
      return __WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__["a" /* default */].Array.findIndex(this._levels, function (l) {
        return l.name === levelName;
      });
    }
  }, {
    key: 'getLevelObjectByName',
    value: function getLevelObjectByName(levelName) {
      return __WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__["a" /* default */].Array.find(this._levels, function (l) {
        return l.name === levelName;
      });
    }

    /**
     * Checks if the given log level is currently enabled or not.
     *
     * @param {string} levelName
     */

  }, {
    key: 'canLog',
    value: function canLog(levelName) {
      var level = this.getLevelIndexByName(levelName);

      if (level < 0) {
        return false;
      }

      return level >= this._maxLevel;
    }

    /**
     * Sets the current log level.
     *
     * @param {string} levelName
     * @memberof Logger
     */

  }, {
    key: 'setLevel',
    value: function setLevel(levelName) {
      var level = this.getLevelIndexByName(levelName);

      if (level < 0) {
        return;
      }

      this._maxLevel = level;
    }

    /**
     * Create an entry in the console. The specific console method is determined
     * by the level `levelName`. If color is available, use colorized output. If
     * more than one argument is supplied in `args`, a console group is created.
     *
     * @param {Number} levelName
     * @param {String} tag
     * @param {Array<string>} args
     *
     */

  }, {
    key: '_log',
    value: function _log(levelName, tag) {
      var level = this.getLevelObjectByName(levelName);

      if (!level || !this.canLog(levelName)) {
        return;
      }

      var name = level.name,
          type = level.type,
          background = level.background,
          color = level.color;

      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      var outputs = args.filter(function (arg) {
        return arg !== undefined;
      }).map(function (arg) {
        if (arg.toObject) {
          return JSON.parse(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_json_stringify___default()(arg.toObject()));
        }

        return arg;
      });

      var consoleFunc = this._consoleFuncs[type] || console[type] || console.log;
      var outputsLen = outputs.length;
      var styles = getLogStyles(background, color);

      if (!hasColorOutput()) {
        var _outputsLen = outputs.length;
        if (_outputsLen <= 0) {
          consoleFunc('PhotoEditorSDK | ' + tag + ' ');
          return;
        }

        if (_outputsLen === 1 && typeof outputs[0] === 'string') {
          consoleFunc('PhotoEditorSDK | ' + tag + ' | ' + outputs[0]);
          return;
        }

        consoleFunc.apply(undefined, ['PhotoEditorSDK | ' + tag + ' | '].concat(_toConsumableArray(outputs)));
        return;
      }

      if (outputsLen <= 0) {
        consoleFunc.apply(undefined, ['%c  %c PhotoEditorSDK %c  %c ' + tag + ' %c %c  '].concat(_toConsumableArray(styles)));
        return;
      }

      if (outputsLen === 1 && typeof outputs[0] === 'string') {
        consoleFunc.apply(undefined, ['%c  %c PhotoEditorSDK %c  %c ' + tag + ' %c  ' + outputs[0] + '  %c  '].concat(_toConsumableArray(styles)));
        return;
      }

      // If there is more than one argument, try to group the log
      if (hasConsoleGroups()) {
        var _console3;

        (_console3 = console).groupCollapsed.apply(_console3, ['%c  %c PhotoEditorSDK %c  %c ' + tag + ' %c'].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__["a" /* default */].Array.init(styles))));
        consoleFunc.apply(undefined, _toConsumableArray(outputs));
        console.groupEnd();
      } else {
        consoleFunc.apply(undefined, ['%c  %c PhotoEditorSDK %c  %c ' + tag + ' %c'].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__["a" /* default */].Array.init(styles)), _toConsumableArray(outputs)));
      }
    }

    /**
     * Logs an image into the browser's console. Does
     * nothing in a node environment.
     *
     * @param {Canvas|string} source
     * @param {string} tag
     */

  }, {
    key: 'image',
    value: function image() {
      var tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      var source = arguments[1];

      var image = new window.Image();

      var onload = function onload() {
        var width = image.width;
        var height = image.height;
        tag && console.log(tag);
        console.log('%c+', '\n        font-size: 1px;\n        padding: 0px ' + Math.floor(width / 2) + 'px;\n        line-height: ' + height + 'px;\n        background: url(' + image.src + ');\n        color: transparent;\n        background-repeat: no-repeat;\n        background-size: ' + width + 'px ' + height + 'px;');
      };

      image.onload = onload;

      if (source instanceof window.HTMLCanvasElement) {
        image.src = source.toDataURL();
      } else if (source instanceof window.Image) {
        image = source;
        onload();
      } else if (typeof source === 'string') {
        image.src = source;
      } else {
        this.log(tag, source);
      }
      return image;
    }

    /**
     * Logs a `PhotoEditorSDK.Engine.Texture` into the browser's console. Does
     * nothing in a node environment.
     *
     * @param {PhotoEditorSDK.Engine.Texture`} texture
     * @param {string} tag
     *
     */

  }, {
    key: 'texture',
    value: function texture() {
      var tag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
      var _texture = arguments[1];

      if (!_texture) {
        this.log(tag, 'texture: null or undefined');
        return;
      }

      var baseTexture = _texture.getBaseTexture();
      var renderers = baseTexture.getRenderers();

      var glRenderer = __WEBPACK_IMPORTED_MODULE_3__sdk_core_lib_utils__["a" /* default */].Array.find(renderers, function (r) {
        return r && r.constructor.type === 'WebGL';
      });

      var _baseTexture$getFrame = baseTexture.getFrame(),
          width = _baseTexture$getFrame.width,
          height = _baseTexture$getFrame.height;

      if (glRenderer) {
        var gl = glRenderer.getContext();
        var glTexture = baseTexture.getGLTextureForRenderer(glRenderer);
        this.logGlTexture(gl, glTexture, width, height, tag);
      } else {
        Log.image(tag, baseTexture.getSource());
      }
    }

    /**
     * Logs a WebGLTexture into the browser's console. Does
     * nothing in a node environment.
     *
     * @param {WebGLRenderingContext} gl
     * @param {WebGLTexture} texture
     * @param {number} [width=150]
     * @param {number} [height=150]
     * @param {string} tag
     */

  }, {
    key: 'logGlTexture',
    value: function logGlTexture(gl, texture) {
      var width = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 150;
      var height = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 150;
      var tag = arguments[4];

      gl.bindTexture(gl.TEXTURE_2D, texture);
      var framebuffer = gl.createFramebuffer();
      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);
      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);

      // Read the contents of the framebuffer
      var data = new Uint8Array(width * height * 4);
      gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, data);

      gl.deleteFramebuffer(framebuffer);

      var canvas = document.createElement('canvas');
      canvas.width = width;
      canvas.height = height;

      var context = canvas.getContext('2d');

      // Copy the pixels to a 2D canvas
      var imageData = context.createImageData(width, height);
      imageData.data.set(data);
      context.putImageData(imageData, 0, 0);

      return Log.image(tag, canvas);
    }
  }]);

  return Logger;
}();




var Log = new Logger('warn');

/* harmony default export */ __webpack_exports__["a"] = (Log);
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(100)))

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(188), __esModule: true };

/***/ }),
/* 48 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__vendor_promise__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_url__ = __webpack_require__(197);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_url___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_url__);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global XMLHttpRequest */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var TIMEOUT = 5000;

var root = typeof window !== 'undefined' ? window : global;

var JSONLoader = function () {
  function JSONLoader(url) {
    _classCallCheck(this, JSONLoader);

    this._url = url;
    this._parsedUrl = __WEBPACK_IMPORTED_MODULE_2_url___default.a.parse(this._url, true);
  }

  /**
   * Checks if this request is a JSONP request
   * @return {Boolean}
   */


  _createClass(JSONLoader, [{
    key: '_isJSONPRequest',
    value: function _isJSONPRequest() {
      var query = this._parsedUrl.query;

      for (var key in query) {
        var value = query[key];
        if (value === '?') {
          return true;
        }
      }
      return false;
    }

    /**
     * Loads the JSON(P) from the given URL
     * @return {Promise}
     */

  }, {
    key: 'load',
    value: function load() {
      if (this._isJSONPRequest()) {
        return this._loadJSONP();
      } else {
        return this._loadJSON();
      }
    }

    /**
     * Loads the URL as JSON
     * @return {Promise}
     */

  }, {
    key: '_loadJSON',
    value: function _loadJSON() {
      var _this = this;

      return new __WEBPACK_IMPORTED_MODULE_1__vendor_promise__["a" /* default */](function (resolve, reject) {
        var xhr = void 0;
        if (root.XDomainRequest) {
          xhr = new root.XDomainRequest();

          xhr.onload = function () {
            var json = JSON.parse(xhr.responseText);
            resolve(json);
          };
          xhr.onerror = function (e) {
            reject(e);
          };
          xhr.open('GET', _this._url, true);
          xhr.send();
        } else if (root.XMLHttpRequest) {
          xhr = new XMLHttpRequest();

          xhr.onreadystatechange = function (oEvent) {
            if (xhr.readyState === 4) {
              if (xhr.status === 200) {
                var json = JSON.parse(xhr.responseText);
                resolve(json);
              } else {
                reject(new Error('HTTP Status ' + xhr.status));
              }
            }
          };
          xhr.open('GET', _this._url, true);
          xhr.send();
        }
      });
    }

    /**
     * Loads the URL as JSONP
     * @return {Promise}
     */

  }, {
    key: '_loadJSONP',
    value: function _loadJSONP() {
      var _this2 = this;

      var failed = false;
      var succeeded = false;

      var fnName = 'pesdk' + Math.round(Math.random() * 99999999999999);
      return new __WEBPACK_IMPORTED_MODULE_1__vendor_promise__["a" /* default */](function (resolve, reject) {
        var node = _this2._createJSONPNode(fnName);
        root[fnName] = function (result) {
          _this2._removeJSONPNode(node);
          if (!failed) {
            succeeded = true;
            resolve(result);
          }
        };

        root.setTimeout(function () {
          if (!succeeded) {
            _this2._removeJSONPNode(node);
            failed = true;
            reject(new Error('Timeout of 5 seconds exceeded.'));
          }
        }, TIMEOUT);
      });
    }

    /**
     * Creates a JSONP <script> node inside the <head> element
     * @param  {String} fnName
     * @return {DOMElement}
     * @private
     */

  }, {
    key: '_createJSONPNode',
    value: function _createJSONPNode(fnName) {
      var JSONPUrl = this._buildJSONPUrl(fnName);
      var headNode = document.querySelector('head');
      var scriptNode = document.createElement('script');
      scriptNode.src = JSONPUrl;
      headNode.appendChild(scriptNode);
      return scriptNode;
    }

    /**
     * Removes the JSONP <script> node from the <head> element
     * @param  {DOMElement} node
     * @private
     */

  }, {
    key: '_removeJSONPNode',
    value: function _removeJSONPNode(node) {
      node.parentNode.removeChild(node);
    }

    /**
     * Builds a JSONP url for the given function name
     * @param  {String} fnName
     * @return {String}
     */

  }, {
    key: '_buildJSONPUrl',
    value: function _buildJSONPUrl(fnName) {
      // Find JSONP parameter
      var query = this._parsedUrl.query;

      var parameter = null;
      for (var param in query) {
        if (query[param] === '?') {
          parameter = param;
          break;
        }
      }

      delete this._parsedUrl.search;
      query[parameter] = fnName;

      return __WEBPACK_IMPORTED_MODULE_2_url___default.a.format(this._parsedUrl);
    }
  }]);

  return JSONLoader;
}();

/* harmony default export */ __webpack_exports__["a"] = (JSONLoader);
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)))

/***/ }),
/* 49 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_prop_types__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_async_animation_frame_js__ = __webpack_require__(15);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var Transition = function (_Component) {
  _inherits(Transition, _Component);

  function Transition() {
    var _ref;

    _classCallCheck(this, Transition);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = Transition.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(Transition)).call.apply(_ref, [this].concat(args)));

    _this._timeout = null;
    _this.state = {
      enter: false,
      appear: false,
      leave: false
    };

    if (_this.props.active) {
      _this.state.enter = true;
      _this.state.appear = true;
    }
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before a mounted component receives new props
   * @param  {Object} nextProps
   */


  _createClass(Transition, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.active && !nextProps.active) {
        this._leave();
      } else if (!this.props.active && nextProps.active) {
        this._enter();
        this._appear();
      }
    }

    // -------------------------------------------------------------------------- STATES

    /**
     * Cancels the timeout
     * @private
     */

  }, {
    key: '_cancelTimeout',
    value: function _cancelTimeout() {
      if (this._timeout) {
        window.clearTimeout(this._timeout);
        this._timeout = null;
      }
    }

    /**
     * Enables the enter state
     * @private
     */

  }, {
    key: '_enter',
    value: function _enter() {
      this.setState({ enter: true });
    }

    /**
     * Enters the leave state, waits for leaveDuration
     * @private
     */

  }, {
    key: '_leave',
    value: function _leave() {
      var _this2 = this;

      if (this._timeout) this._cancelTimeout();
      this.setState({ appear: false, leave: true });
      this._timeout = window.setTimeout(function () {
        _this2._cancelTimeout();
        _this2.setState({ enter: false });
      }, this.props.leaveDuration);
    }

    /**
     * Enters the appear state, waits for leaveDuration
     * @private
     */

  }, {
    key: '_appear',
    value: function _appear() {
      var _this3 = this;

      if (this._timeout) this._cancelTimeout();
      Object(__WEBPACK_IMPORTED_MODULE_6__shared_async_animation_frame_js__["b" /* requestAnimationFrame */])(function () {
        _this3.setState({ appear: true, leave: false });
        _this3._timeout = window.setTimeout(function () {
          _this3._cancelTimeout();
        }, _this3.props.appearDuration);
      });
    }

    /**
     * Builds the state props that are passed to the child
     * @return {Object}
     * @private
     */

  }, {
    key: '_buildStateProps',
    value: function _buildStateProps() {
      var _props = this.props,
          enterProp = _props.enterProp,
          appearProp = _props.appearProp,
          leaveProp = _props.leaveProp;

      var props = {};

      if (enterProp) props[enterProp] = this.state.enter;
      if (appearProp) props[appearProp] = this.state.appear;
      if (leaveProp) props[leaveProp] = this.state.leave;

      return props;
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      if (!this.props.children) {
        return null;
      }

      var stateProps = this._buildStateProps();
      return __WEBPACK_IMPORTED_MODULE_4_react___default.a.cloneElement(this.props.children, stateProps);
    }
  }]);

  return Transition;
}(__WEBPACK_IMPORTED_MODULE_4_react__["Component"]);

Transition.propTypes = {
  active: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.bool,
  enterProp: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.string,
  enterDuration: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.number,
  appearProp: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.string,
  appearDuration: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.number,
  leaveProp: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.string,
  leaveDuration: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.number
};
Transition.defaultProps = {
  active: true,
  enterProp: 'rendered',
  enterDuration: 300,
  appearProp: 'visible',
  appearDuration: 300,
  leaveDuration: 300
};
/* harmony default export */ __webpack_exports__["a"] = (Transition);

/***/ }),
/* 50 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_shared_constants__ = __webpack_require__(104);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__ = __webpack_require__(48);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var StickerManager = function () {
  function StickerManager(ui, options) {
    _classCallCheck(this, StickerManager);

    this._ui = ui;
    this._options = options;
    this._categoriesById = {};
    this._categories = [];
    this._stickersById = {};

    this._addCategories(__WEBPACK_IMPORTED_MODULE_2_shared_constants__["a" /* default */].DEFAULTS.STICKER_CATEGORIES);

    var _options = this._options,
        categories = _options.categories,
        replaceCategories = _options.replaceCategories;

    if (this._options.categories) {
      this._addCategories(categories, replaceCategories);
    } else {
      this._updateCategoriesMap();
      this._updateAllCategory();
    }
  }

  /**
   * Loads stickers from the given external URL
   * @param  {String} url
   * @return {Promise}
   */


  _createClass(StickerManager, [{
    key: 'loadExternal',
    value: function loadExternal(url) {
      var _this = this;

      var loader = new __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__["a" /* default */](url);
      return loader.load().then(function (result) {
        _this._addCategories(result.categories, _this._options.replaceCategories);
      });
    }

    /**
     * Initializes the categories
     * @param {Object[]} categories
     * @param {Boolean} replace = false
     * @private
     */

  }, {
    key: '_addCategories',
    value: function _addCategories(categories) {
      var replace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (replace) {
        this._categories = categories.slice(0);
      } else {
        this._categories = __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].mergeCategories(this._categories, categories, 'stickers');
      }

      this._updateCategoriesMap();
      this._updateAllCategory();
    }

    /**
     * Updates the categories map
     * @private
     */

  }, {
    key: '_updateCategoriesMap',
    value: function _updateCategoriesMap() {
      var _this2 = this;

      this._categoriesById = {};
      this._categories.forEach(function (c) {
        _this2._categoriesById[c.identifier] = c;
      });

      // Build sticker id => sticker hash
      this._categories.forEach(function (c) {
        c.stickers.forEach(function (s) {
          _this2._stickersById[s.identifier] = s;
        });
      });

      // Filter stickers
      if (typeof this._options.availableStickers !== 'undefined' && this._options.availableStickers !== null) {
        this._categories.forEach(function (category) {
          category.stickers = category.stickers.filter(function (sticker) {
            return _this2._options.availableStickers.indexOf(sticker.identifier) !== -1;
          });
        });

        this._categories = this._categories.filter(function (category) {
          return category.stickers.length > 0;
        });
      }

      this._updateAllCategory();
    }

    /**
     * Updates the `all` category which contains all stickers
     * @private
     */

  }, {
    key: '_updateAllCategory',
    value: function _updateAllCategory() {
      this._allCategory = {
        identifier: 'all',
        defaultName: 'All',
        stickers: this._categories.map(function (c) {
          return c.stickers;
        }).reduce(function (a, b) {
          return a.concat(b);
        }, [])
      };
      this._categoriesById.all = this._allCategory;
    }

    /**
     * Returns the stickers for the category with the given name
     * @param  {String} categoryName
     * @return {Object[]}
     */

  }, {
    key: 'getStickersForCategory',
    value: function getStickersForCategory(categoryName) {
      if (!this._categoriesById[categoryName]) {
        throw new Error('Unknown sticker category \'' + categoryName + '\'');
      }
      return this._categoriesById[categoryName].stickers;
    }

    /**
     * Returns the sticker with the given identifier
     * @param  {String} identifier
     */

  }, {
    key: 'getStickerByIdentifier',
    value: function getStickerByIdentifier(identifier) {
      return this._stickersById[identifier];
    }

    /**
     * Returns the categories
     * @param {Boolean} includeAllCategory = false
     * @return {Object[]}
     */

  }, {
    key: 'getCategories',
    value: function getCategories() {
      var includeAllCategory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (includeAllCategory) {
        return [this._allCategory].concat(this._categories);
      }

      return this._categories;
    }

    /**
     * Returns the category object for the given id
     * @param  {String} id
     * @return {Object}
     */

  }, {
    key: 'getCategory',
    value: function getCategory(id) {
      return this._categoriesById[id];
    }

    /**
     * Returns the URL for the given sticker. If the user is using Internet Explorer, we
     * fall back to the svg variant (if present)
     * @param  {Object} sticker
     * @param  {String} size
     * @return {String}
     */

  }], [{
    key: 'getURLForSticker',
    value: function getURLForSticker(sticker) {
      var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'base';
      var images = sticker.images;

      var media = size === 'base' ? images.mediaBase || images.mediaThumb : images.mediaThumb;
      var uris = media.uris || [media.uri];
      if (typeof __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].Browser !== 'undefined' && !__WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].Browser.getIEVersion()) {
        var svgs = uris.filter(function (f) {
          return (/\.svg$/i.test(f)
          );
        });
        return svgs.length ? svgs[0] : uris[0];
      } else {
        var notSvgs = uris.filter(function (f) {
          return !/\.svg$/i.test(f);
        });
        return notSvgs.length ? notSvgs[0] : uris[0];
      }
    }
  }]);

  return StickerManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (StickerManager);

/***/ }),
/* 51 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__assets_font__ = __webpack_require__(237);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__log__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__assets_font_variation__ = __webpack_require__(112);



var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var FontManager = function () {
  function FontManager(ui, options) {
    _classCallCheck(this, FontManager);

    this._ui = ui;
    this._options = options;
    this._fonts = [];
    this._variationsByIdentifier = {};
    this._fontsByFontFamily = {};

    this._initFonts();
  }

  /**
   * Initializes the fonts
   * @private
   */


  _createClass(FontManager, [{
    key: '_initFonts',
    value: function _initFonts() {
      var _this = this;

      var _options = this._options,
          additionalFonts = _options.fonts,
          replaceFonts = _options.replaceFonts,
          availableVariations = _options.availableVariations;

      // Replace or append fonts

      var fonts = __WEBPACK_IMPORTED_MODULE_2_globals__["d" /* Constants */].DEFAULTS.FONTS;
      if (replaceFonts) {
        fonts = additionalFonts;
      } else {
        fonts = fonts.concat(additionalFonts || []);
      }

      // Turn fonts into actual Font objects with FontVariation objects
      var defaultVariation = void 0;
      fonts = fonts.map(function (font) {
        var fontFamily = font.fontFamily;

        var variations = font.variations;

        if (availableVariations) {
          variations = variations.filter(function (variation) {
            return availableVariations.indexOf(variation.identifier) !== -1;
          });
        }

        if (variations.length === 0) return null;

        var fontInstance = new __WEBPACK_IMPORTED_MODULE_3__assets_font__["a" /* default */]({
          fontFamily: fontFamily
        });
        variations = variations.map(function (variation) {
          var variationInstance = new __WEBPACK_IMPORTED_MODULE_5__assets_font_variation__["a" /* default */](variation);
          variationInstance.setFontFamily(fontFamily);
          variationInstance.setFont(fontInstance);
          if (variation.default && !defaultVariation) {
            defaultVariation = variationInstance;
          }

          if (variationInstance.getTextMetrics() == null) {
            __WEBPACK_IMPORTED_MODULE_4__log__["a" /* default */].warn('Missing font metrics for ' + variationInstance.getIdentifier() + '. The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details.');
          }

          _this._variationsByIdentifier[variationInstance.getIdentifier()] = variationInstance;
          return variationInstance;
        });
        fontInstance.setVariations(variations);
        _this._fontsByFontFamily[fontFamily] = fontInstance;
        return fontInstance;
      }).filter(function (f) {
        return f;
      });

      if (!defaultVariation) {
        defaultVariation = fonts[0].getVariations()[0];
      }

      this._defaultVariation = defaultVariation;
      this._fonts = fonts;
    }

    /**
     * Returns all available fonts
     * @return {PhotoEditorSDK.UI.DesktopUI.Font[]}
     */

  }, {
    key: 'getFonts',
    value: function getFonts() {
      return this._fonts;
    }

    /**
     * Returns the font for the given font family
     * @param  {String} fontFamily
     * @return {PhotoEditorSDK.UI.DesktopUI.Font}
     */

  }, {
    key: 'getFontByFontFamily',
    value: function getFontByFontFamily(fontFamily) {
      return this._fontsByFontFamily[fontFamily];
    }

    /**
     * Returns the font variation for the given identifier
     * @param  {String} identifier
     * @return {PhotoEditorSDK.UI.DesktopUI.FontVariation}
     */

  }, {
    key: 'getVariationByIdentifier',
    value: function getVariationByIdentifier(identifier) {
      return this._variationsByIdentifier[identifier];
    }
  }, {
    key: 'getVariationsByIdentifier',
    value: function getVariationsByIdentifier() {
      return _extends({}, this._variationsByIdentifier);
    }

    /**
     * Returns the default variation
     * @return {PhotoEditorSDK.UI.DesktopUI.FontVariation}
     */

  }, {
    key: 'getDefaultVariation',
    value: function getDefaultVariation() {
      return this._defaultVariation;
    }
  }]);

  return FontManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (FontManager);

/***/ }),
/* 52 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var SharedStateComponent = function (_BaseComponent) {
  _inherits(SharedStateComponent, _BaseComponent);

  function SharedStateComponent() {
    var _ref;

    _classCallCheck(this, SharedStateComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = SharedStateComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SharedStateComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onSharedStateUpdate');
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(SharedStateComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(SharedStateComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SharedStateComponent.prototype), 'componentDidMount', this).call(this);

      if (this.context.sharedState) {
        this.context.sharedState.on('update', this._onSharedStateUpdate);
      }
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(SharedStateComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SharedStateComponent.prototype), 'componentWillUnmount', this).call(this);

      if (this.context.sharedState) {
        this.context.sharedState.off('update', this._onSharedStateUpdate);
      }
    }

    // -------------------------------------------------------------------------- SHARED STATE

    /**
     * Gets called when the shared state did change
     * @param  {Object} oldState
     * @param  {Object} newState
     * @private
     */

  }, {
    key: '_onSharedStateUpdate',
    value: function _onSharedStateUpdate(oldState, newState) {
      if (this.shouldSharedComponentUpdate(oldState, newState)) {
        this.sharedComponentWillUpdate(oldState, newState);
        this.forceUpdate();
        this.sharedStateDidChange(oldState, newState);
      } else {
        this.sharedStateDidChange(oldState, newState);
      }
    }

    /**
     * Invoked before the shared state component is re-rendered due to a
     * state change
     * @param  {Object} oldState
     * @param  {Object} newState
     */

  }, {
    key: 'sharedComponentWillUpdate',
    value: function sharedComponentWillUpdate(oldState, newState) {}

    /**
     * Checks if the component should change from the given state
     * @param  {Object} oldState
     * @param  {Object} newState
     * @return {Boolean}
     */

  }, {
    key: 'shouldSharedComponentUpdate',
    value: function shouldSharedComponentUpdate(oldState, newState) {
      return true;
    }

    /**
     * Gets called when the shared state did change
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {}

    /**
     * Gets called before the shared state is updated
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'sharedStateWillChange',
    value: function sharedStateWillChange(oldState, newState) {}

    /**
     * Sets the given state on the shared state
     * @param {Object} state
     * @param {Boolean} update
     */

  }, {
    key: 'setSharedState',
    value: function setSharedState(state, update) {
      this.context.sharedState.set(state, update);
    }

    /**
     * Returns the shared state value for the given property
     * @param {String} prop
     * @return {*}
     */

  }, {
    key: 'getSharedState',
    value: function getSharedState(prop) {
      return this.context.sharedState.get(prop);
    }
  }, {
    key: 'forceSharedUpdate',


    /**
     * Forces an update of the shared state
     */
    value: function forceSharedUpdate() {
      this.context.sharedState.broadcastUpdate();
    }
  }, {
    key: 'sharedState',
    get: function get() {
      return this.context.sharedState.state;
    }
  }]);

  return SharedStateComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

SharedStateComponent.contextTypes = {
  editor: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  ui: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  options: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  mediator: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  sharedState: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  theme: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  screen: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  appComponent: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object
};
SharedStateComponent.propTypes = {
  sharedState: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].any
};
/* harmony default export */ __webpack_exports__["a"] = (SharedStateComponent);

/***/ }),
/* 53 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__styles__ = __webpack_require__(80);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var NumericInputComponent = function (_BaseComponent) {
  _inherits(NumericInputComponent, _BaseComponent);

  function NumericInputComponent() {
    var _ref;

    _classCallCheck(this, NumericInputComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = NumericInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(NumericInputComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKeyDown', '_onInputBlur', '_onInputChange');

    _this.state = {};
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   * @return {Boolean}
   */


  _createClass(NumericInputComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.props.value !== nextProps.value || this.props.disabled !== nextProps.disabled;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user changes the value of the input
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onInputChange',
    value: function _onInputChange(e) {
      this.props.onLiveChange && this.props.onLiveChange(e);
    }

    /**
     * Invoked when the input loses focus
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onInputBlur',
    value: function _onInputBlur(e) {
      this.props.onChange && this.props.onChange(e);
    }

    /**
     * Invoked when the user releases a keyboard key
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onKeyDown',
    value: function _onKeyDown(event) {
      if (event.keyCode === 13 || // ENTER
      event.keyCode === 27) {
        // ESC
        this._input.blur();
      }
      this.props.onKeyDown && this.props.onKeyDown();
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Focuses this input
     */

  }, {
    key: 'focus',
    value: function focus() {
      this._input.focus();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the style object for the input
     * @return {Object}
     * @private
     */

  }, {
    key: '_getInputStyle',
    value: function _getInputStyle() {
      return {};
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var RootElement = this.constructor.RootElement;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(RootElement, {
        value: this.props.value,
        onChange: this._onInputChange,
        onBlur: this._onInputBlur,
        innerRef: function innerRef(el) {
          _this2._input = el;
        },
        onKeyDown: this._onKeyDown,
        name: this.props.name,
        styles: this.props.styles,
        className: this.props.className,
        style: this._getInputStyle(),
        disabled: this.props.disabled });
    }
  }]);

  return NumericInputComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

NumericInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (NumericInputComponent);


NumericInputComponent.RootElement = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__styles__["a" /* Input */]).input('120drhm', 'NumericInputComponent');

/***/ }),
/* 54 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sprites_sticker_item_component__ = __webpack_require__(312);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__sprites_text_item_component__ = __webpack_require__(313);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__sprites_brush_item_component__ = __webpack_require__(314);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__sprites_text_design_item_component__ = __webpack_require__(315);







var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var Vector2 = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var SpritesCanvasControlsComponent = function (_CanvasControlsCompon) {
  _inherits(SpritesCanvasControlsComponent, _CanvasControlsCompon);

  function SpritesCanvasControlsComponent() {
    var _ref, _this$_events;

    _classCallCheck(this, SpritesCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = SpritesCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(SpritesCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onZoomDone', '_onWindowResize', '_onHistoryChange', '_onAfterTransform');

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.WINDOW_RESIZE, _this._onWindowResize), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.HISTORY_UNDO, _this._onHistoryChange), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.HISTORY_REDO, _this._onHistoryChange), _this$_events);

    _this.state = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Utils"].extend(_this.state, {
      visible: false,
      canvasClickDisabled: false
    });
    return _this;
  }

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(SpritesCanvasControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(SpritesCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(SpritesCanvasControlsComponent.prototype), 'componentDidMount', this).call(this);
      // We need to re-render initially
      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Updates the history item of the sprite with the new transform options
     * @param {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @private
     */

  }, {
    key: '_onAfterTransform',
    value: function _onAfterTransform(sprite) {
      var identifier = 'sprite-transform-' + sprite.getId();
      this.props.controls.addLocalHistorySnapshot(identifier, true);
    }

    /**
     * Invoked when the given undo or redo items are applied
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onHistoryChange',
    value: function _onHistoryChange() {
      var operation = this.getSharedState('operation');

      // A history undo could have already destroyed the operation
      if (!operation) return;

      // If the currently selected sprite is no longer available, select the next one
      var selectedSprite = this.getSharedState('selectedSprite');
      var sprites = operation.getSprites();
      if (sprites.indexOf(selectedSprite) === -1) {
        this._selectNextSprite();
      }
    }

    /**
     * Invoked when the window has been resized
     * @private
     */

  }, {
    key: '_onWindowResize',
    value: function _onWindowResize() {
      var _this2 = this;

      var editor = this.context.editor;

      editor.once('rendered', function () {
        _this2.forceUpdate();
      });
    }

    /**
     * Gets called after a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      var editor = this.context.editor;

      editor.render();

      this.setState({ visible: true });
    }

    /**
     * Gets called when the selected item is deselected
     * @private
     */

  }, {
    key: '_onItemBlur',
    value: function _onItemBlur() {}

    /**
     * Gets called when the user clicks somewhere on the canvas
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onCanvasClick',
    value: function _onCanvasClick(e) {
      if (this.state.canvasClickDisabled) return;

      var hitTest = this._performHitTest(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Utils"].getEventPosition(e));
      if (!hitTest) {
        if (this.getSharedState('selectedSprite')) {
          this._onItemBlur();
        }
        this.context.screen.switchToControls('default');
      }
    }

    /**
     * Invoked when the user deletes a sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onSpriteDelete',
    value: function _onSpriteDelete(sprite) {
      var operation = this.getSharedState('operation');
      operation.removeSprite(sprite);
      sprite.dispose();

      this._selectNextSprite();

      this.props.controls.addLocalHistorySnapshot('sprite-deletion', false);

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the user takes a sprite to front
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @private
     */

  }, {
    key: '_onSpriteTakeToFront',
    value: function _onSpriteTakeToFront(sprite) {
      var operation = this.getSharedState('operation');
      operation.takeSpriteToFront(sprite);

      this.props.controls.addLocalHistorySnapshot('sprite-order', false);

      this.forceUpdate();

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the user flips a sprite horizontally
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onSpriteFlipHorizontally',
    value: function _onSpriteFlipHorizontally(sprite, event) {
      event.stopPropagation();

      sprite.setFlipHorizontally(!sprite.getFlipHorizontally());

      this.props.controls.addLocalHistorySnapshot('sprite-flip-horizontally', false);

      this.forceUpdate();

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the user duplicates a sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onSpriteDuplicate',
    value: function _onSpriteDuplicate(sprite, event) {
      event.stopPropagation();
      var operation = this.getSharedState('operation');

      var options = sprite.serializeOptions();
      delete options.id;
      delete options.type;

      // `serializeOptions()` serializes the image into a URL, but we need to re-use the actual
      // image object here.
      if (sprite.hasOption('image')) {
        options.image = sprite.getImage();
      }

      var inputDimensions = operation.getInputDimensions();
      options.position.add(new Vector2(10, 10).divide(inputDimensions));

      var newSprite = this._createSprite(options);
      this.setSharedState({
        selectedSprite: newSprite
      });
      operation.addSprite(newSprite);

      this.props.controls.addLocalHistorySnapshot('sprite-creation', false);

      var editor = this.context.editor;

      editor.render();
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Selects the next sprite
     * @private
     */

  }, {
    key: '_selectNextSprite',
    value: function _selectNextSprite() {
      var operation = this.getSharedState('operation');
      var sprites = operation.getSprites();
      var nextSprite = sprites[sprites.length - 1];
      if (!nextSprite) {
        this.props.controls.skipHistory = true;
        this.context.screen.switchToControls('default');
      } else {
        this.setSharedState({ selectedSprite: nextSprite });
      }
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the component class for the given sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_getComponentTypeForSprite',
    value: function _getComponentTypeForSprite(sprite) {
      var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation;

      switch (sprite.constructor) {
        case SpriteOperation.StickerSprite:
          return __WEBPACK_IMPORTED_MODULE_8__sprites_sticker_item_component__["a" /* default */];
        case SpriteOperation.TextSprite:
          return __WEBPACK_IMPORTED_MODULE_9__sprites_text_item_component__["a" /* default */];
        case SpriteOperation.BrushSprite:
          return __WEBPACK_IMPORTED_MODULE_10__sprites_brush_item_component__["a" /* default */];
        case SpriteOperation.TextDesignSprite:
          return __WEBPACK_IMPORTED_MODULE_11__sprites_text_design_item_component__["a" /* default */];
      }
    }

    /**
     * Returns the props that are passed to the item component of the given sprite
     * @param  {Sprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_getPropsForSprite',
    value: function _getPropsForSprite(sprite) {
      var props = {};
      props.hideContent = true;
      return props;
    }

    /**
     * Renders the sprite items
     * @param {Sprite[]} sprites
     * @return {React.Component[]}
     * @private
     */

  }, {
    key: '_renderSpriteItems',
    value: function _renderSpriteItems(sprites) {
      var _this3 = this;

      var selectedSprite = this.getSharedState('selectedSprite');
      return sprites.map(function (sprite) {
        var SpriteComponent = _this3._getComponentTypeForSprite(sprite);
        var spriteProps = _this3._getPropsForSprite(sprite);
        var selected = selectedSprite === sprite;
        return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(SpriteComponent, _extends({
          sprite: sprite,
          selected: selected,
          onClick: _this3._onCanvasClick,
          onAfterChange: _this3._onAfterTransform.bind(_this3, sprite),
          onCanvasClickDisabled: _this3._onCanvasClickDisabled,
          onCanvasClickEnabled: _this3._onCanvasClickEnabled,
          onDelete: _this3._onSpriteDelete.bind(_this3, sprite),
          onTakeToFront: _this3._onSpriteTakeToFront.bind(_this3, sprite),
          onFlipHorizontally: _this3._onSpriteFlipHorizontally.bind(_this3, sprite),
          onDuplicate: _this3._onSpriteDuplicate.bind(_this3, sprite),
          snapRotation: _this3.props.options.snapRotation,
          snapRotationTolerance: _this3.props.options.snapRotationTolerance,
          canvasControls: _this3,
          key: sprite.getId()
        }, spriteProps));
      });
    }

    /**
     * Renders the overlay controls
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderOverlayControls',
    value: function _renderOverlayControls() {
      return null;
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: '_renderControls',
    value: function _renderControls() {
      var _this4 = this;

      if (!this.state.visible) return;

      var operation = this.getSharedState('operation');
      var sprites = operation.getSprites();

      var containerStyle = this._container && this._getContainerStyle();
      return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
        CanvasControls,
        { className: test ? 'js-spritesCanvasControls' : undefined },
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Container,
          {
            innerRef: function innerRef(el) {
              _this4._innerContainer = el;
            },
            style: containerStyle,
            className: test ? 'js-container' : undefined },
          !this.state.canvasClickDisabled && __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(ClickHandlerForInternetExplorer, { onClick: this._onCanvasClick }),
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
            'div',
            null,
            this._renderSpriteItems(sprites),
            this._renderOverlayControls()
          )
        )
      );
    }
  }]);

  return SpritesCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"]);

// -------------------------------------------------------------------------- STYLES

SpritesCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (SpritesCanvasControlsComponent);
var CanvasControls = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].div('120drhm', 'CanvasControls');

var Container = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].div('1anj0of', 'Container');

// http://stackoverflow.com/questions/14172630/ie10-is-not-handling-click-events-help-using-mspointer
var ClickHandlerForInternetExplorer = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].div('o35414', 'ClickHandlerForInternetExplorer');

/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var TextSprite = void 0;
var TextDesignSprite = void 0;
if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation) {
  TextSprite = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation.TextSprite;
  TextDesignSprite = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation.TextDesignSprite;
}

var test = ("production") === 'test';

var ItemComponent = function (_BaseComponent) {
  _inherits(ItemComponent, _BaseComponent);

  function ItemComponent() {
    var _ref;

    _classCallCheck(this, ItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onDragStart', '_onDrag', '_onDragStop', '_onRotateDragStart', '_onRotateDrag', '_onRotateDragStop', '_onCornerDrag', '_onCornerDragStop', '_onSpriteUpdate', '_onTakeToFront', '_onFlipHorizontally', '_onDuplicate', '_onDelete');
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(ItemComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.props.sprite.on('update', this._onSpriteUpdate);
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.props.sprite.off('update', this._onSpriteUpdate);
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.props.sprite.off('update', this._onSpriteUpdate);
      nextProps.sprite.on('update', this._onSpriteUpdate);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the sprite has been updated
     * @private
     */

  }, {
    key: '_onSpriteUpdate',
    value: function _onSpriteUpdate() {
      this.forceUpdate();
    }

    /**
     * Invoked when the user clicks the `take to front` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onTakeToFront',
    value: function _onTakeToFront(event) {
      event.stopPropagation();
      this.props.onTakeToFront && this.props.onTakeToFront(event);
    }

    /**
     * Invoked when the user clicks the `flip horizontally` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onFlipHorizontally',
    value: function _onFlipHorizontally(event) {
      event.stopPropagation();
      this.props.onFlipHorizontally && this.props.onFlipHorizontally(event);
    }

    /**
     * Invoked when the user clicks the `delete` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onDelete',
    value: function _onDelete(event) {
      event.stopPropagation();
      this.props.onDelete && this.props.onDelete(event);
    }

    /**
     * Invoked when the user clicks the `duplicate` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onDuplicate',
    value: function _onDuplicate(event) {
      event.stopPropagation();
      this.props.onDuplicate && this.props.onDuplicate(event);
    }

    // -------------------------------------------------------------------------- SCALING

    /**
     * Invoked when the user starts scaling the item
     * @abstract
     * @private
     */

  }, {
    key: '_onBeforeScale',
    value: function _onBeforeScale() {}

    /**
     * Invoked while the user is scaling the item
     * @param {Number} scale
     * @abstract
     * @private
     */

  }, {
    key: '_onScale',
    value: function _onScale(scale) {}

    // -------------------------------------------------------------------------- ROTATION KNOB DRAGGING

    /**
     * Invoked when the user starts dragging the rotate knob
     * @private
     */

  }, {
    key: '_onRotateDragStart',
    value: function _onRotateDragStart() {
      this._imageBoundingBox = this.props.canvasControls.getImageBoundingRect();
      this._containerOffset = this.props.canvasControls.getContainerOffset();

      this.props.onBeforeChange && this.props.onBeforeChange();

      this.props.onCanvasClickDisabled && this.props.onCanvasClickDisabled();
    }

    /**
     * Invoked while the user is dragging the rotate knob
     * @param  {PhotoEditorSDK.Math.Vector2} distance
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @private
     */

  }, {
    key: '_onRotateDrag',
    value: function _onRotateDrag(distance, position) {
      var editor = this.context.editor;
      var sprite = this.props.sprite;


      var spritePosition = this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x, this._imageBoundingBox.y);
      var spritePivotPosition = spritePosition.clone();

      var mouseDistanceFromPivot = position.clone().subtract(this._containerOffset).subtract(spritePivotPosition);

      var radians = Math.atan2(mouseDistanceFromPivot.y, mouseDistanceFromPivot.x) - Math.PI / 2;

      var _props = this.props,
          snapRotation = _props.snapRotation,
          snapRotationTolerance = _props.snapRotationTolerance;

      var degrees = Math.round(radians * 180 / Math.PI);
      var nextSnap = Math.round(degrees / snapRotation) * snapRotation;
      var remainder = degrees - nextSnap;
      if (Math.abs(remainder) < snapRotationTolerance) {
        radians = nextSnap * Math.PI / 180;
      }

      sprite.setRotation(radians);
      editor.render();

      this.forceUpdate();
    }

    /**
     * Invoked when the user stops dragging the rotate knob
     * @private
     */

  }, {
    key: '_onRotateDragStop',
    value: function _onRotateDragStop() {
      this.props.onAfterChange && this.props.onAfterChange();

      this.props.onCanvasClickEnabled && this.props.onCanvasClickEnabled();
    }

    // -------------------------------------------------------------------------- CORNER DRAGGING

    /**
     * Invoked when the user starts dragging a corner
     * @private
     */

  }, {
    key: '_onCornerDragStart',
    value: function _onCornerDragStart(verticalSide, horizontalSide, relativePosition, absolutePosition) {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      var _sprite$getDimensions = sprite.getDimensions(editor.getSDK(), editor.getOutputDimensions()),
          x = _sprite$getDimensions.x;

      this._imageBoundingBox = this.props.canvasControls.getImageBoundingRect();
      this._containerOffset = this.props.canvasControls.getContainerOffset();

      var pivot = sprite.getPivot();
      var anchor = sprite.getAnchor();

      var spritePosition = this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x, this._imageBoundingBox.y);
      var spriteBoundingBox = sprite.getDimensions(editor.getSDK(), editor.getOutputDimensions());
      var spriteDimensions = new Vector2(spriteBoundingBox.width, spriteBoundingBox.height);

      var spritePivotPosition = spritePosition.clone().subtract(spriteDimensions.clone().multiply(anchor)).add(spriteDimensions.clone().multiply(pivot)).round();

      var mouseDistanceFromPivot = absolutePosition.clone().subtract(this._containerOffset).subtract(spritePivotPosition);

      this._initialScaleSettings = {
        width: x,
        mouseDistanceFromPivot: mouseDistanceFromPivot
      };

      this._onBeforeScale();

      this.props.onBeforeChange && this.props.onBeforeChange();

      this.props.onCanvasClickDisabled && this.props.onCanvasClickDisabled();
    }

    /**
     * Invoked while the user is dragging a corner
     * @param  {PhotoEditorSDK.Math.Vector2} distance
     * @private
     */

  }, {
    key: '_onCornerDrag',
    value: function _onCornerDrag(distance) {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      var textRotation = sprite.getRotation();
      var _initialScaleSettings = this._initialScaleSettings,
          width = _initialScaleSettings.width,
          mouseDistanceFromPivot = _initialScaleSettings.mouseDistanceFromPivot;

      var newMouseDistanceFromPivot = mouseDistanceFromPivot.clone().add(distance);

      var cos = Math.cos(textRotation);
      var sin = Math.sin(textRotation);

      var newWidth = Math.max(Math.abs((newMouseDistanceFromPivot.x * cos + newMouseDistanceFromPivot.y * sin) * 2), this.constructor.MIN_WIDTH);
      var newScale = newWidth / width;

      editor.render();

      this._onScale(newScale);
    }

    /**
     * Invoked when the user stops dragging a corner
     * @private
     */

  }, {
    key: '_onCornerDragStop',
    value: function _onCornerDragStop() {
      this.props.onAfterChange && this.props.onAfterChange();

      this.props.onCanvasClickEnabled && this.props.onCanvasClickEnabled();
    }

    // -------------------------------------------------------------------------- ITEM DRAGGING

    /**
     * Checks if this item is draggable or not
     * @return {Boolean}
     * @private
     */

  }, {
    key: '_isDraggingDisabled',
    value: function _isDraggingDisabled() {
      var selected = this.props.selected;

      return !selected;
    }

    /**
     * Gets called when the user starts dragging this item
     * @private
     */

  }, {
    key: '_onDragStart',
    value: function _onDragStart() {
      var sprite = this.props.sprite;

      this._initialPosition = sprite.getPosition();

      this.props.onBeforeChange && this.props.onBeforeChange();
    }

    /**
     * Gets called while the user drags this item
     * @param  {Vector2} distance
     * @private
     */

  }, {
    key: '_onDrag',
    value: function _onDrag(distance) {
      var sprite = this.props.sprite;
      var editor = this.context.editor;


      var outputDimensions = editor.getOutputDimensions();
      var newPosition = this._initialPosition.clone().add(distance.divide(outputDimensions));

      this._dragEndPosition = newPosition.clone();

      sprite.setPosition(newPosition);

      editor.render();

      this.forceUpdate();
    }

    /**
     * Gets called when the user stops dragging this item
     * @private
     */

  }, {
    key: '_onDragStop',
    value: function _onDragStop() {
      if (this._dragEndPosition.clone().subtract(this._initialPosition).len() !== 0) {
        this.props.onAfterChange && this.props.onAfterChange();
      }
    }

    // -------------------------------------------------------------------------- CALCULATIONS

    /**
     * Returns the absolute position of the sprite
     * @return {Vector2}
     * @private
     */

  }, {
    key: '_getAbsoluteSpritePosition',
    value: function _getAbsoluteSpritePosition() {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      return this.props.sprite.getPosition().clone().multiply(outputDimensions);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the style object for the item container
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContainerStyle',
    value: function _getContainerStyle() {
      return {};
    }

    /**
     * Renders the corner knobs
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderKnobs',
    value: function _renderKnobs() {
      var _this2 = this;

      var knobs = [];
      ['top', 'bottom'].forEach(function (vertical) {
        ['left', 'right'].forEach(function (horizontal) {
          var key = vertical + '-' + horizontal;
          var knobProps = _defineProperty({}, key, true);
          knobs.push(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
            {
              key: key,
              onStart: _this2._onCornerDragStart.bind(_this2, vertical, horizontal),
              onDrag: _this2._onCornerDrag,
              onStop: _this2._onCornerDragStop },
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(CornerKnob, knobProps)
          ));
        });
      });
      return knobs;
    }

    /**
     * Returns the sprite dimensions
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getSpriteDimensions',
    value: function _getSpriteDimensions() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      var outputDimensions = editor.getOutputDimensions();
      return sprite.getDimensions(editor.getSDK(), outputDimensions);
    }

    /**
     * Returns the position for the canvas overlay
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getOverlayPosition',
    value: function _getOverlayPosition() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;


      var outputDimensions = editor.getOutputDimensions();
      var spriteBoundingBox = this._getSpriteDimensions();
      var spritePosition = sprite.getPosition().clone().multiply(outputDimensions);

      var rotation = sprite.getRotation();
      var sinRotation = Math.sin(rotation);
      var cosRotation = Math.cos(rotation);

      var bounds = new Vector2(Math.abs(spriteBoundingBox.x * cosRotation) + Math.abs(spriteBoundingBox.y * sinRotation), Math.abs(spriteBoundingBox.x * sinRotation) + Math.abs(spriteBoundingBox.y * cosRotation));

      return new Vector2(spritePosition.x, spritePosition.y - bounds.y / 2 - 70).clamp(new Vector2(80, 20), outputDimensions.clone().subtract(80, 70));
    }

    /**
     * Renders the overlay controls
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_renderOverlayControls',
    value: function _renderOverlayControls() {
      if (!this.props.selected) return;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["CanvasOverlayControlsComponent"], {
        takeToFront: true,
        flipHorizontally: !(this.props.sprite instanceof TextSprite) && !(this.props.sprite instanceof TextDesignSprite),
        duplicate: !(this.props.sprite instanceof TextDesignSprite),
        'delete': true,
        position: this._getOverlayPosition(),
        onTakeToFront: this._onTakeToFront,
        onFlipHorizontally: this._onFlipHorizontally,
        onDuplicate: this._onDuplicate,
        onDelete: this._onDelete
      });
    }
  }, {
    key: '_getItemControlsProps',
    value: function _getItemControlsProps() {
      return {};
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props2 = this.props,
          selected = _props2.selected,
          sprite = _props2.sprite;
      var editing = this.state.editing;

      var controlsAsOverlay = !editing;

      var controlsContent = [this._renderKnobs(), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        RotateControl,
        { key: 'rotateControls' },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
          {
            onStart: this._onRotateDragStart,
            onDrag: this._onRotateDrag,
            onStop: this._onRotateDragStop },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(RotateKnob, null)
        )
      )];
      var itemControlsProps = this._getItemControlsProps();
      var itemControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        ItemControls,
        _extends({
          style: this._getContainerStyle()
        }, itemControlsProps),
        controlsContent
      );

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
        {
          onStart: this._onDragStart,
          onStop: this._onDragStop,
          onDrag: this._onDrag,
          disabled: this._isDraggingDisabled() },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          OuterContainer,
          {
            onClick: this.props.onClick,
            'data-type': sprite.constructor.type,
            'data-selected': selected,
            className: test ? 'js-spriteItem' : undefined },
          this._renderOverlayControls(),
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Container,
            {
              style: this._getContainerStyle(),
              editing: selected && editing,
              innerRef: function innerRef(el) {
                _this3._container = el;
              },
              className: test ? 'js-container' : undefined },
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Content,
              null,
              this._renderContent()
            ),
            selected && !controlsAsOverlay && controlsContent
          ),
          selected && controlsAsOverlay && itemControls
        )
      );
    }
  }]);

  return ItemComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

ItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
ItemComponent.MIN_WIDTH = 1;
ItemComponent.defaultProps = {
  snapRotation: 90,
  snapRotationTolerance: 5
};
/* harmony default export */ __webpack_exports__["a"] = (ItemComponent);


var OuterContainer = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('120drhm', 'OuterContainer');

var Container = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('bkf7u8', {
  editing: '64zghi'
}, 'Container');

var ItemControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('36haff', 'ItemControls');

var Content = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('120drhm', 'Content');

var RotateControl = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('77tiy3', 'RotateControl');

var Knob = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('mznefm', 'Knob');

var RotateKnob = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(Knob)('1en5760', 'RotateKnob');

var CornerKnob = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(Knob)('bdmepn', {
  'top-left': '1dtvxe8',
  'top-right': '1tu191k',
  'bottom-left': '1we5ut6',
  'bottom-right': 'f2wva1'
}, 'CornerKnob');

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(17);
var document = __webpack_require__(13).document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__(17);
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__(40);
var createDesc = __webpack_require__(28);
var toIObject = __webpack_require__(20);
var toPrimitive = __webpack_require__(57);
var has = __webpack_require__(21);
var IE8_DOM_DEFINE = __webpack_require__(84);
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__(18) ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),
/* 59 */
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__(14);
var dPs = __webpack_require__(142);
var enumBugKeys = __webpack_require__(65);
var IE_PROTO = __webpack_require__(63)('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__(56)('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__(87).appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__(62);
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),
/* 62 */
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(64)('keys');
var uid = __webpack_require__(41);
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(13);
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});
module.exports = function (key) {
  return store[key] || (store[key] = {});
};


/***/ }),
/* 65 */
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__(12);
var core = __webpack_require__(9);
var fails = __webpack_require__(25);
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};


/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__(29);
var TAG = __webpack_require__(11)('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(67);
var ITERATOR = __webpack_require__(11)('iterator');
var Iterators = __webpack_require__(27);
module.exports = __webpack_require__(9).getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};


/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(24);
var invoke = __webpack_require__(163);
var html = __webpack_require__(87);
var cel = __webpack_require__(56);
var global = __webpack_require__(13);
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (__webpack_require__(29)(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};


/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 25.4.1.5 NewPromiseCapability(C)
var aFunction = __webpack_require__(39);

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),
/* 71 */
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;


/***/ }),
/* 72 */
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__(11);


/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(13);
var core = __webpack_require__(9);
var LIBRARY = __webpack_require__(43);
var wksExt = __webpack_require__(72);
var defineProperty = __webpack_require__(16).f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};


/***/ }),
/* 74 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__loaders_google_font_loader__ = __webpack_require__(238);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__loaders_file_font_loader__ = __webpack_require__(241);





var _typeof = typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && typeof __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default.a === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && obj.constructor === __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a && obj !== __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FontLoader = function () {
  function FontLoader(ui, fonts) {
    _classCallCheck(this, FontLoader);

    this._ui = ui;
    this._fonts = fonts;
    this._loadedFonts = [];
  }

  /**
   * Sets the fonts
   * @param {Font[]} fonts
   */


  _createClass(FontLoader, [{
    key: 'setFonts',
    value: function setFonts(fonts) {
      this._fonts = fonts;
    }

    /**
     * Checks if the font loader needs to load something
     * @return {Boolean}
     */

  }, {
    key: 'needsToLoad',
    value: function needsToLoad() {
      var _this = this;

      var _loop = function _loop(i) {
        var provider = void 0;
        _this._fonts[i].getVariations().forEach(function (variation) {
          provider = provider || variation.getProvider();
        });
        if (!provider) return 'continue';
        return {
          v: true
        };
      };

      for (var i = 0; i < this._fonts.length; i++) {
        var _ret = _loop(i);

        switch (_ret) {
          case 'continue':
            continue;

          default:
            if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
        }
      }
    }

    /**
     * Checks if the given font has already been loaded
     * @param  {Font} font
     */

  }, {
    key: 'fontLoaded',
    value: function fontLoaded(font) {
      var identifier = font.getFontFamily();
      return this._loadedFonts.indexOf(identifier) !== -1;
    }

    /**
     * Sets the given font to loaded
     * @param {Font} font
     */

  }, {
    key: 'setFontLoaded',
    value: function setFontLoaded(font) {
      if (!this.fontLoaded(font)) {
        var identifier = font.getFontFamily();
        this._loadedFonts.push(identifier);
      }
    }

    /**
     * Loads the given fonts
     * @param  {Object[]} fonts
     */

  }, {
    key: 'load',
    value: function load() {
      var _this2 = this;

      var fonts = this._fonts;
      var loaders = {
        google: new __WEBPACK_IMPORTED_MODULE_4__loaders_google_font_loader__["a" /* default */](this._ui),
        file: new __WEBPACK_IMPORTED_MODULE_5__loaders_file_font_loader__["a" /* default */](this._ui)
      };

      var disposeLoaders = function disposeLoaders() {
        for (var identifier in loaders) {
          var loader = loaders[identifier];
          loader.dispose();
        }
      };

      fonts.filter(function (font) {
        return !_this2.fontLoaded(font);
      }).forEach(function (font) {
        font.getVariations().forEach(function (variation) {
          var provider = variation.getProvider();
          if (!provider) return;

          var loader = loaders[provider];
          loader.add(variation);
        });
      });

      var promises = [];
      for (var name in loaders) {
        promises.push(loaders[name].load());
      }
      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.all(promises).then(function () {
        disposeLoaders();
        fonts.forEach(function (font) {
          _this2.setFontLoaded(font);
        });
      }).catch(function (e) {
        disposeLoaders();
        throw e;
      });
    }
  }]);

  return FontLoader;
}();

/* harmony default export */ __webpack_exports__["a"] = (FontLoader);

/***/ }),
/* 75 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__1_0_1_serializer__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__blend_modes__ = __webpack_require__(116);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var v200Serializer = function (_PreviousSerializer) {
  _inherits(v200Serializer, _PreviousSerializer);

  function v200Serializer() {
    _classCallCheck(this, v200Serializer);

    return _possibleConstructorReturn(this, (v200Serializer.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer)).apply(this, arguments));
  }

  _createClass(v200Serializer, [{
    key: '_serializeSticker',

    /**
     * Serializes the given sticker
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite} sprite
     * @return {Object}
     * @private
     */
    value: function _serializeSticker(operation, sprite) {
      var inputDimensions = operation.getInputDimensions(false);
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeSticker', this).call(this, operation, sprite);

      // New in 2.0.0: `tintColor`
      if (sprite.getTintMode() !== 'none') {
        response.options.tintColor = sprite.serializeOption('tintColor', true);
      }

      // Dimensions are relative, not absolute anymore
      response.options.dimensions = sprite.getDimensions().clone().divide(inputDimensions.min()).toObject();

      // `name` is now `identifier`
      response.options.identifier = response.options.name;
      delete response.options.name;

      return response;
    }

    /**
     * Serializes the given path
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Path} path
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializePath',
    value: function _serializePath(path) {
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializePath', this).call(this, path);

      var brush = path.getBrush();
      if (brush.hasOption('hardness')) {
        response.hardness = brush.getOption('hardness');
      }

      return response;
    }

    /**
     * Serializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operation[]} operations
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeOperation',
    value: function _serializeOperation(operation, operations) {
      if (operation.constructor.identifier === 'frame') {
        this._serializeFrameOperation(operation, operations);
        return null;
      }

      if (operation.constructor.identifier === 'overlay') {
        this._serializeOverlayOperation(operation, operations);
        return null;
      }

      return _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeOperation', this).call(this, operation, operations);
    }

    /**
     * Serializes the frame operation
     * @param {PhotoEditorSDK.Operation.FrameOperation} operation
     * @param {PhotoEditorSDK.Operation[]} operations
     * @private
     */

  }, {
    key: '_serializeFrameOperation',
    value: function _serializeFrameOperation(operation, operations) {
      // Since serialization 2.0.0 stores frames as part of the SpriteOperation, we need
      // to check if a sprite operation is present and extend its `sprites` option
      var spriteOperations = operations.filter(function (o) {
        return o.type === 'sprite';
      });
      var spriteOperation = void 0;
      if (spriteOperations.length) {
        spriteOperation = spriteOperations.pop();
      } else {
        // No sprite operation exists, create a new one
        spriteOperation = {
          type: 'sprite',
          options: {
            sprites: []
          }
        };
        operations.push(spriteOperation);
      }

      spriteOperation.options.sprites.push({
        type: 'frame',
        options: this._getFrameOptions(operation)
      });
    }

    /**
     * Serializes the overlay operation
     * @param {PhotoEditorSDK.Operation.OverlayOperation} operation
     * @param {PhotoEditorSDK.Operation[]} operations
     * @private
     */

  }, {
    key: '_serializeOverlayOperation',
    value: function _serializeOverlayOperation(operation, operations) {
      if (!operation.getIdentifier()) return;

      // Since serialization 2.0.0 stores overlays as part of the SpriteOperation, we need
      // to check if a sprite operation is present and extend its `sprites` option
      var spriteOperations = operations.filter(function (o) {
        return o.type === 'sprite';
      });
      var spriteOperation = void 0;
      if (spriteOperations.length) {
        spriteOperation = spriteOperations.pop();
      } else {
        // No sprite operation exists, create a new one
        spriteOperation = {
          type: 'sprite',
          options: {
            sprites: []
          }
        };
        operations.push(spriteOperation);
      }

      spriteOperation.options.sprites.push({
        type: 'overlay',
        options: {
          identifier: operation.getIdentifier(),
          intensity: operation.getAlpha(),
          blendMode: __WEBPACK_IMPORTED_MODULE_6__blend_modes__["a" /* default */][operation.getBlendMode()]
        }
      });
    }

    /**
     * Returns the options object for the given FrameOperation
     * @param  {PhotoEditorSDK.Operations.FrameOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_getFrameOptions',
    value: function _getFrameOptions(operation) {
      return {
        identifier: operation.getFrame().identifier
      };
    }
  }, {
    key: '_serializeOrientationOperation',
    value: function _serializeOrientationOperation(operation) {
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeOrientationOperation', this).call(this, operation);

      // For some unknown reason, we start this "first rotate, then flip" thing with 2.0.0
      if (response.options.rotation === 90 || response.options.rotation === 270) {
        response.options.flipHorizontally = !response.options.flipHorizontally;
        response.options.flipVertically = !response.options.flipVertically;
      }

      return response;
    }

    /**
     * Serializes the given transform operation
     * @param  {PhotoEditorSDK.Operation.TransformOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeTransformOperation',
    value: function _serializeTransformOperation(operation) {
      var operations = this._editor.operations;

      // Version 2.0 and up has different operation order: First transform, then orientation.

      if (operations.exists('orientation')) {
        // Updating the original operation will mess up the editor state
        operation = operation.clone();

        // Undo orientation that has been applied to the transforms
        var orientationOperation = operations.get('orientation');
        operation.rotate(-orientationOperation.getRotation());
        if (orientationOperation.getFlipVertically()) {
          operation.flip('vertical');
          operation.setRotation(operation.getRotation() * -1);
        }
        if (orientationOperation.getFlipHorizontally()) {
          operation.flip('horizontal');
          operation.setRotation(operation.getRotation() * -1);
        }
      }

      // Version 2.0 and up: Crop operation is now called transform operation
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeTransformOperation', this).call(this, operation);

      response.type = 'transform';
      return response;
    }

    /**
     * Serializes the given text sprite
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.TextSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeText',
    value: function _serializeText(operation, sprite) {
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeText', this).call(this, operation, sprite);

      var inputDimensions = operation.getInputDimensions(false);
      response.options.fontIdentifier = sprite.getFontIdentifier();

      // For whatever reason, max width is relative to shortest side, while font size isn't
      response.options.maxWidth = response.options.maxWidth * inputDimensions.x / inputDimensions.min();
      delete response.options.fontFamily;

      return response;
    }

    /**
     * Serializes the given filter operation
     * @param  {PhotoEditorSDK.Operations.FilterOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeFilterOperation',
    value: function _serializeFilterOperation(operation) {
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeFilterOperation', this).call(this, operation);
      if (!response) return null;

      response.options.identifier = response.options.name;
      delete response.options.name;

      return response;
    }

    /**
     * Serializes the given radial focus operation
     * @param  {PhotoEditorSDK.Operations.RadialFocusOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeRadialFocusOperation',
    value: function _serializeRadialFocusOperation(operation) {
      var response = _get(v200Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v200Serializer.prototype), '_serializeRadialFocusOperation', this).call(this, operation);

      var focusOptions = response.options.options;
      focusOptions.start = focusOptions.position;
      delete focusOptions.position;
      focusOptions.end = {
        x: focusOptions.start.x + focusOptions.radius,
        y: focusOptions.start.y
      };
      delete focusOptions.radius;

      return response;
    }
  }]);

  return v200Serializer;
}(__WEBPACK_IMPORTED_MODULE_5__1_0_1_serializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v200Serializer);


v200Serializer.version = '2.0.0';

/***/ }),
/* 76 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__1_0_1_deserializer__ = __webpack_require__(115);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_managers_frame_manager__ = __webpack_require__(117);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_shared_managers_overlay_manager__ = __webpack_require__(118);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_shared_managers_sticker_manager__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_lib_frame__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_lib_font_loader__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_shared_loaders_image_loader__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__blend_modes__ = __webpack_require__(116);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */












var blendModeByName = __WEBPACK_IMPORTED_MODULE_6_globals__["q" /* SDKUtils */].flipObject(__WEBPACK_IMPORTED_MODULE_14__blend_modes__["a" /* default */]);

var v200Deserializer = function (_PreviousDeserializer) {
  _inherits(v200Deserializer, _PreviousDeserializer);

  function v200Deserializer() {
    var _ref;

    _classCallCheck(this, v200Deserializer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = v200Deserializer.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer)).call.apply(_ref, [this].concat(args)));

    _this._frameManager = new __WEBPACK_IMPORTED_MODULE_8_shared_managers_frame_manager__["a" /* default */](_this._ui, _this._getOptions('frame'));

    var overlayOptions = _this._getOptions('overlay');
    if (overlayOptions) {
      _this._overlayManager = new __WEBPACK_IMPORTED_MODULE_9_shared_managers_overlay_manager__["a" /* default */](_this._ui, overlayOptions);
    }
    return _this;
  }

  /**
   * Deserializes the given sprite
   * @param  {PhotoEditorSDK.Operations.SpriteOperation} spriteOperation
   * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
   * @return {Promise}
   * @private
   */


  _createClass(v200Deserializer, [{
    key: '_deserializeSprite',
    value: function _deserializeSprite(spriteOperation, sprite) {
      if (sprite.type === 'frame') {
        return this._deserializeFrame(spriteOperation, sprite);
      }
      if (sprite.type === 'overlay') {
        return this._deserializeOverlay(spriteOperation, sprite);
      }
      return _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_deserializeSprite', this).call(this, spriteOperation, sprite);
    }

    /**
     * Deserializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeOperation',
    value: function _deserializeOperation(operation) {
      if (operation.type === 'transform') {
        return this._deserializeTransformOperation(operation);
      }
      return _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_deserializeOperation', this).call(this, operation);
    }
  }, {
    key: '_deserializeOrientationOperation',
    value: function _deserializeOrientationOperation(operationData) {
      if (operationData.options.rotation === 90 || operationData.options.rotation === 270) {
        operationData.options.flipHorizontally = !operationData.options.flipHorizontally;
        operationData.options.flipVertically = !operationData.options.flipVertically;
      }

      return _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_deserializeOrientationOperation', this).call(this, operationData);
    }

    /**
     * Deserializes the given transform operation
     * @param  {Object} operationData
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeTransformOperation',
    value: function _deserializeTransformOperation(operationData) {
      var _this2 = this;

      // Version 2.0 and up: Crop operation is now called transform operation
      return _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_deserializeCropOperation', this).call(this, operationData).then(function (operation) {
        if (!operation) return;

        var orientationData = __WEBPACK_IMPORTED_MODULE_6_globals__["q" /* SDKUtils */].Array.find(_this2._data.operations, function (op) {
          return op.type === 'orientation';
        });
        if (orientationData) {
          var options = orientationData.options;
          var rotation = options.rotation,
              flipHorizontally = options.flipHorizontally,
              flipVertically = options.flipVertically;


          if (rotation === 90 || rotation === 270) {
            if (!flipHorizontally && flipVertically || flipHorizontally && !flipVertically) {
              flipHorizontally = !flipHorizontally;
              flipVertically = !flipVertically;
            }
          }

          operation.rotate(options.rotation);
          if (flipHorizontally) {
            operation.flip('horizontal');
            operation.setRotation(operation.getRotation() * -1);
          }
          if (flipVertically) {
            operation.flip('vertical');
            operation.setRotation(operation.getRotation() * -1);
          }
        }

        return operation;
      });
    }

    /**
     * Deserializes the given frame sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} spriteOperation
     * @param  {Object} frame
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFrame',
    value: function _deserializeFrame(spriteOperation, frame) {
      var _this3 = this;

      var identifier = frame.options.identifier;


      var frameData = this._frameManager.getFrameByIdentifier(identifier);
      if (!frameData) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown frame `' + identifier + '`. Skipping frame.');
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();
      }
      var frameInstance = new __WEBPACK_IMPORTED_MODULE_11_lib_frame__["a" /* default */](this._ui, frameData);
      return frameInstance.load().then(function () {
        _this3._editor.operations.getOrCreate('frame', {
          frame: frameInstance.getFrame()
        });
      });
    }

    /**
     * Deserializes the given overlay sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} spriteOperation
     * @param  {Object} overlay
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeOverlay',
    value: function _deserializeOverlay(spriteOperation, overlay) {
      var _this4 = this;

      var _overlay$options = overlay.options,
          blendMode = _overlay$options.blendMode,
          intensity = _overlay$options.intensity,
          identifier = _overlay$options.identifier;


      var overlayData = this._overlayManager.getOverlayByIdentifier(identifier);
      if (!overlayData) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown overlay `' + identifier + '`. Skipping overlay.');
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();
      }

      var overlayPath = this._editor.getUI().getAssetPath(overlayData.image);
      return __WEBPACK_IMPORTED_MODULE_13_shared_loaders_image_loader__["a" /* default */].load(overlayPath).then(function (image) {
        _this4._editor.operations.getOrCreate('overlay', {
          alpha: intensity,
          identifier: identifier,
          blendMode: parseInt(blendModeByName[blendMode || overlayData.blendMode], 10),
          image: image
        });
      });
    }

    /**
     * Creates a brush face with the given options
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Path} path
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Brush}
     */

  }, {
    key: '_createBrushForPath',
    value: function _createBrushForPath(path) {
      var brush = _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_createBrushForPath', this).call(this, path);
      if (typeof path.hardness !== 'undefined' && brush.hasOption('hardness')) {
        brush.setHardness(path.hardness);
      }
      return brush;
    }

    /**
     * Deserializes the given sticker for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} sprite
     * @return {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite}
     * @private
     */

  }, {
    key: '_deserializeSticker',
    value: function _deserializeSticker(operation, sprite) {
      var _this5 = this;

      var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_globals__["p" /* SDK */].Operations.SpriteOperation;
      var options = sprite.options;

      var sticker = this._stickerManager.getStickerByIdentifier(options.identifier);
      var url = __WEBPACK_IMPORTED_MODULE_10_shared_managers_sticker_manager__["a" /* default */].getURLForSticker(sticker, 'base');
      if (!sticker) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown sticker `' + options.identifier + '`. Skipping sprite.');
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();
      }
      var inputDimensions = operation.getInputDimensions(false);
      return new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var image = new window.Image();
        image.addEventListener('load', function () {
          var adjustments = SpriteOperation.StickerSprite.prototype.availableOptions.adjustments.structure;
          var rotation = options.rotation,
              flipHorizontally = options.flipHorizontally,
              flipVertically = options.flipVertically;

          var stickerOptions = {
            identifier: options.identifier,
            image: image,
            position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.position),
            dimensions: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.dimensions).multiply(inputDimensions.min()),
            rotation: rotation,
            flipHorizontally: flipHorizontally,
            flipVertically: flipVertically,
            adjustments: {}
          };

          if (typeof options.adjustments !== 'undefined') {
            ['brightness', 'contrast', 'saturation'].forEach(function (option) {
              if (typeof options.adjustments[option] !== 'undefined') {
                stickerOptions.adjustments[option] = options.adjustments[option] + adjustments[option].default;
              }
            });
          }

          if (typeof options.tintColor !== 'undefined' && typeof sticker.tintMode !== 'undefined') {
            stickerOptions.tintColor = __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(options.tintColor);
            stickerOptions.tintMode = sticker.tintMode;
          }
          resolve(operation.createSticker(stickerOptions));
        });
        image.crossOrigin = _this5._editor.getCrossOrigin();
        image.src = _this5._editor.getUI().getAssetPath(url);
      });
    }

    /**
     * Deserializes the given filter operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFilterOperation',
    value: function _deserializeFilterOperation(operation) {
      var _this6 = this;

      var options = operation.options;


      if (!this._filterManager.getFilterByIdentifier(options.identifier)) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown filter `' + options.identifier + '`');
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();
      }

      return this._filterManager.instantiateFilterWithIdentifier(options.identifier).then(function (filter) {
        var filterOperation = _this6._editor.operations.getOrCreate('filter');
        if (!filterOperation) return;
        filterOperation.set({
          identifier: options.identifier,
          filter: filter,
          intensity: options.intensity
        });
        return filterOperation;
      });
    }

    /**
     * Deserializes the given focus operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFocusOperation',
    value: function _deserializeFocusOperation(operation) {
      var _operation$options = operation.options,
          options = _operation$options.options,
          type = _operation$options.type;

      if (type !== 'radial') return _get(v200Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v200Deserializer.prototype), '_deserializeFocusOperation', this).call(this, operation);

      var start = options.start,
          end = options.end,
          gradientRadius = options.gradientRadius,
          blurRadius = options.blurRadius;

      var radius = __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(end).subtract(__WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(start)).len();
      return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('radial-focus', {
        position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(start),
        radius: radius,
        gradientRadius: gradientRadius,
        blurRadius: blurRadius
      }));
    }

    /**
     * Deserializes the given text for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} text
     * @return {PhotoEditorSDK.Operations.SpriteOperation.TextSprite}
     * @private
     */

  }, {
    key: '_deserializeText',
    value: function _deserializeText(operation, text) {
      var options = text.options;
      var fontSize = options.fontSize,
          lineHeight = options.lineHeight,
          fontIdentifier = options.fontIdentifier,
          alignment = options.alignment,
          rotation = options.rotation,
          maxWidth = options.maxWidth,
          color = options.color,
          backgroundColor = options.backgroundColor;


      var fontLoader = new __WEBPACK_IMPORTED_MODULE_12_lib_font_loader__["a" /* default */](this._ui);
      var variation = this._fontManager.getVariationByIdentifier(fontIdentifier);
      if (!variation) {
        variation = this._fontManager.getDefaultFont();
      } else {
        fontLoader.setFonts([variation.getFont()]);
      }
      return fontLoader.load().then(function () {
        var inputDimensions = operation.getInputDimensions(false);

        // For whatever reason, max width is relative to shortest side, while font size isn't
        var fixedMaxWidth = maxWidth * inputDimensions.min() / inputDimensions.x;
        return operation.createText({
          fontSize: fontSize,
          lineHeight: lineHeight,
          fontFamily: variation.getFontFamily(),
          fontWeight: variation.getFontWeight(),
          fontIdentifier: variation.getIdentifier(),
          alignment: alignment,
          rotation: rotation,
          maxWidth: fixedMaxWidth,
          text: options.text,
          color: __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(color),
          backgroundColor: __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(backgroundColor),
          position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.position)
        });
      });
    }
  }]);

  return v200Deserializer;
}(__WEBPACK_IMPORTED_MODULE_7__1_0_1_deserializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v200Deserializer);


v200Deserializer.version = '2.0.0';

/***/ }),
/* 77 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_globals__ = __webpack_require__(4);




var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var TextDesignManager = function () {
  function TextDesignManager(ui) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, TextDesignManager);

    this._ui = ui;
    this._options = options;

    this._defaultLayouts = __WEBPACK_IMPORTED_MODULE_3_globals__["p" /* SDK */].Operations.SpriteOperation.TextDesignSprite.Layouts;
    this._layouts = [];
    this._init();
  }

  _createClass(TextDesignManager, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var availableLayouts = this._options.availableLayouts;

      this._layouts = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default()(this._defaultLayouts).map(function (k) {
        return {
          identifier: _this._defaultLayouts[k].identifier,
          layout: _this._defaultLayouts[k]
        };
      });

      if (availableLayouts) {
        this._layouts = this._layouts.filter(function (item) {
          return availableLayouts.indexOf(item.identifier) >= 0;
        });
      }
    }
  }, {
    key: 'getLayoutByIdentifier',
    value: function getLayoutByIdentifier(identifier) {
      var item = __WEBPACK_IMPORTED_MODULE_3_globals__["q" /* SDKUtils */].Array.find(this._layouts, function (l) {
        return l.identifier === identifier;
      });
      return item && item.layout;
    }
  }, {
    key: 'getLayouts',
    value: function getLayouts() {
      return [].concat(_toConsumableArray(this._layouts));
    }
  }]);

  return TextDesignManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (TextDesignManager);

/***/ }),
/* 78 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_state_component__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__canvas_header_controls_component__ = __webpack_require__(254);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_components_draggable_component__ = __webpack_require__(23);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var test = ("production") === 'test';

var CanvasControlsComponent = function (_SharedStateComponent) {
  _inherits(CanvasControlsComponent, _SharedStateComponent);

  function CanvasControlsComponent() {
    var _ref, _this$_events;

    _classCallCheck(this, CanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._needsStyleFixes = true;

    _this._bindAll('_onZoom', '_onZoomDone', '_onCanvasDrag', '_onCanvasDragStart', '_onCanvasDragStop', '_onCanvasClick', '_onCanvasClickDisabled', '_onCanvasClickEnabled');

    _this._initialRerender = true;

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].EVENTS.ZOOM, _this._onZoom), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].EVENTS.ZOOM_DONE, _this._onZoomDone), _this$_events);

    _this.state = {
      canvasClickDisabled: false,
      displayHeader: true
    };
    return _this;
  }

  _createClass(CanvasControlsComponent, [{
    key: 'setSharedState',
    value: function setSharedState(state) {
      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var sharedStateUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

      _get(CanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasControlsComponent.prototype), 'setSharedState', this).call(this, state, update);
      sharedStateUpdate && this.props.controls.updateSharedState();
    }

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      if (__WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].Browser.isIElte(11)) {
        var outerContainerHeight = this._outerContainer.offsetHeight;
        this._container.style.height = outerContainerHeight + 'px';
      }
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked immediately after a component is mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(CanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasControlsComponent.prototype), 'componentDidMount', this).call(this);
      if (this._initialRerender) {
        this.forceUpdate();
      }
    }

    // -------------------------------------------------------------------------- HIT TESTING

    /**
     * Checks if any other control reacts to a click at the given position
     * @param  {PhotoEditorSDK.Math.Vector2} clickPosition
     * @return {Boolean}
     * @private
     */

  }, {
    key: '_performHitTest',
    value: function _performHitTest(clickPosition) {
      var containerBoundingRect = this.context.appComponent.getBounds();
      var relativeClickPosition = clickPosition.subtract(containerBoundingRect.left, containerBoundingRect.top);

      var editor = this.context.editor;

      var controls = editor.controls.getAvailable();

      // Check this control first
      if (this.props.controls) {
        var clickResponse = this.props.controls.constructor.clickAtPosition(clickPosition, editor);
        if (clickResponse) {
          this.setSharedState(clickResponse);
          return true;
        }
      }

      // Check if any of the controls responds to a click
      // at the given position
      for (var identifier in controls) {
        var control = controls[identifier];
        var _clickResponse = control.clickAtPosition(relativeClickPosition, editor);

        if (_clickResponse) {
          // Don't re-select an already selected item
          if (_clickResponse.selectedSprite === this.getSharedState('selectedSprite')) {
            return true;
          }

          // Responds to click, switch to the controls
          this.context.screen.switchToControls(identifier, _clickResponse);
          return true;
        }
      }

      return false;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the canvas clicking has been disabled
     * @private
     */

  }, {
    key: '_onCanvasClickDisabled',
    value: function _onCanvasClickDisabled() {
      this.setState({ canvasClickDisabled: true });
    }

    /**
     * Invoked when the canvas clicking has been enabled
     * @private
     */

  }, {
    key: '_onCanvasClickEnabled',
    value: function _onCanvasClickEnabled() {
      var _this2 = this;

      // We re-enable canvas clicks when letting go of e.g. a corner knob. Since this will trigger
      // a click on the canvas right after this method is called, we need to postpone the flag
      // change for one frame
      Object(__WEBPACK_IMPORTED_MODULE_5_globals__["z" /* requestAnimationFrame */])(function () {
        _this2.setState({ canvasClickDisabled: false });
      });
    }

    /**
     * Finds a control that reacts to the canvas click
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onCanvasClick',
    value: function _onCanvasClick(e) {
      var clickPosition = __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].getEventPosition(e);
      this._performHitTest(clickPosition);
    }

    /**
     * Gets called when the target zoom level has been changed
     * @private
     */

  }, {
    key: '_onZoom',
    value: function _onZoom() {
      this.forceUpdate();
    }

    /**
     * Invoked when a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      this.forceUpdate();
    }

    /**
     * Gets called when the user starts dragging the canvas
     * @private
     */

  }, {
    key: '_onCanvasDragStart',
    value: function _onCanvasDragStart() {
      var editor = this.context.editor;

      this._initialOffset = editor.offset.clone();
    }

    /**
     * Gets called when the user drags the canvas
     * @param  {PhotoEditorSDK.Math.Vector2} dragOffset
     * @private
     */

  }, {
    key: '_onCanvasDrag',
    value: function _onCanvasDrag(dragOffset) {
      var editor = this.context.editor;

      var offset = editor.offset;
      editor.offset = offset.copy(this._initialOffset).add(dragOffset);
      editor.render();
    }

    /**
     * Invoked when the user stops dragging the canvas
     * @private
     */

  }, {
    key: '_onCanvasDragStop',
    value: function _onCanvasDragStop() {
      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- CALCULATION

    /**
     * Returns the bounding rectangle for the image
     * @return {Rectangle}
     * @private
     * @todo  Cache this
     */

  }, {
    key: 'getImageBoundingRect',
    value: function getImageBoundingRect() {
      var editor = this.context.editor;

      var sdk = editor.getSDK();
      var container = sdk.getContainer();
      var sprite = sdk.getSprite();

      var position = container.getPosition();
      var texture = sprite.getTexture();
      var textureScale = sdk.getTextureScale();

      if (!texture) return new __WEBPACK_IMPORTED_MODULE_5_globals__["n" /* Rectangle */]();

      // const imageDimensions = texture.getDimensions().clone()
      //   .divide(textureScale)
      //   .multiply(editor.zoom.level)
      var imageDimensions = sdk.getOutputDimensions();
      var outerContainerBounds = this._outerContainer.getBoundingClientRect();
      var editorBounds = this.context.appComponent.getBounds();

      return new __WEBPACK_IMPORTED_MODULE_5_globals__["n" /* Rectangle */](Math.floor(position.x - imageDimensions.x / 2 - (outerContainerBounds.left - editorBounds.left)), Math.floor(position.y - imageDimensions.y / 2 - (outerContainerBounds.top - editorBounds.top)), Math.ceil(imageDimensions.x), Math.ceil(imageDimensions.y));
    }

    /**
     * Returns the position offset of the contaienr
     * @return {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getContainerOffset',
    value: function getContainerOffset() {
      var boundingRect = this._outerContainer.getBoundingClientRect();
      return new __WEBPACK_IMPORTED_MODULE_5_globals__["v" /* Vector2 */](boundingRect.left, boundingRect.top);
    }

    /**
     * Returns the container style object
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContainerStyle',
    value: function _getContainerStyle() {
      var rect = this.getImageBoundingRect();
      return {
        left: rect.x,
        top: rect.y,
        width: rect.width,
        height: rect.height
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders all controls onto the canvas.
     * @return React.Element
     */

  }, {
    key: '_renderControls',
    value: function _renderControls() {
      var _this3 = this;

      var containerStyle = this._imageContainer && this._getContainerStyle();
      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Container, {
        innerRef: function innerRef(el) {
          _this3._imageContainer = el;
        },
        style: containerStyle,
        onClick: this._onCanvasClick });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var editor = this.context.editor;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        CanvasControls,
        {
          draggable: !editor.isShallow && editor.isDraggable,
          className: test ? 'js-canvasControls' : undefined,
          innerRef: function innerRef(el) {
            _this4._outerContainer = el;
          } },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          __WEBPACK_IMPORTED_MODULE_8_components_draggable_component__["a" /* default */],
          {
            disabled: editor.isShallow || !editor.isDraggable,
            onStart: this._onCanvasDragStart,
            onDrag: this._onCanvasDrag,
            onStop: this._onCanvasDragStop },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
            'div',
            null,
            __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
              CanvasControlsContainer,
              { innerRef: function innerRef(el) {
                  _this4._container = el;
                } },
              this.state.displayHeader && __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_7__canvas_header_controls_component__["a" /* default */], null),
              this._renderControls()
            )
          )
        )
      );
    }

    /**
     * Returns this component's container
     * @return {React.Element}
     */

  }, {
    key: 'container',
    get: function get() {
      return this._container;
    }
  }]);

  return CanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6__shared_state_component__["a" /* default */]);

CanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6__shared_state_component__["a" /* default */].contextTypes;
CanvasControlsComponent.propTypes = {
  options: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object
};
/* harmony default export */ __webpack_exports__["a"] = (CanvasControlsComponent);


var Container = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('55byom', 'Container');

var CanvasControls = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('1ebx3lr', {
  draggable: 'ovipzq'
}, 'CanvasControls');

var CanvasControlsContainer = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('1h6ank1', 'CanvasControlsContainer');

/***/ }),
/* 79 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__draggable_component__ = __webpack_require__(23);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var SCROLLBAR_WIDTH = 12;
var GRADIENT_SCROLL_TOLERANCE = 15;

var ScrollbarComponent = function (_BaseComponent) {
  _inherits(ScrollbarComponent, _BaseComponent);

  function ScrollbarComponent() {
    _classCallCheck(this, ScrollbarComponent);

    var _this = _possibleConstructorReturn(this, (ScrollbarComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ScrollbarComponent)).call(this));

    if (!_this.constructor.NATIVE_SCROLLBAR_WIDTH) {
      _this.constructor.NATIVE_SCROLLBAR_WIDTH = __WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].getScrollbarWidth();
    }

    _this._isDragging = false;
    _this._bindAll('_onButtonDragStart', '_onButtonDrag', '_onButtonDragStop', '_onBarDragStart', '_onBarDrag', '_onBarDragStop', '_onListScroll');
    _this.state = {
      buttonSize: 0,
      buttonPosition: 0,
      buttonVisible: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after the component has been mounted
   */


  _createClass(ScrollbarComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(ScrollbarComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ScrollbarComponent.prototype), 'componentDidMount', this).call(this);
      this.update();
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user scrolls the list
     * @private
     */

  }, {
    key: '_onListScroll',
    value: function _onListScroll() {
      if (this._isDragging) return;

      var direction = this._getDirection();

      var listScrollSize = void 0,
          listScrollPosition = void 0,
          backgroundScrollSize = void 0;
      if (direction === ScrollbarComponent.HORIZONTAL) {
        listScrollSize = this._list.scrollWidth - this._list.offsetWidth;
        listScrollPosition = this._list.scrollLeft;
        backgroundScrollSize = this._root.offsetWidth - this.state.buttonSize;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        listScrollSize = this._list.scrollHeight - this._list.offsetHeight;
        listScrollPosition = this._list.scrollTop;
        backgroundScrollSize = this._root.offsetHeight - this.state.buttonSize;
      }

      var progress = listScrollPosition / listScrollSize;
      this.setState({
        buttonPosition: backgroundScrollSize * progress
      });

      this.props.onScroll && this.props.onScroll(listScrollPosition);
    }

    /**
     * Gets called when the user presses a mouse button on the bar
     * @private
     */

  }, {
    key: '_onButtonDragStart',
    value: function _onButtonDragStart(e) {
      this._isDragging = true;
      this._initialButtonPosition = this.state.buttonPosition || 0;
    }

    /**
     * Gets called while the user drags the button
     * @param {Vector2} diff
     * @private
     */

  }, {
    key: '_onButtonDrag',
    value: function _onButtonDrag(diff) {
      var direction = this._getDirection();

      var buttonPosition = void 0;
      if (direction === ScrollbarComponent.HORIZONTAL) {
        buttonPosition = this._initialButtonPosition + diff.x;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        buttonPosition = this._initialButtonPosition + diff.y;
      }
      this._setButtonPosition(buttonPosition);
    }

    /**
     * Gets called when the user releases the button
     * @private
     */

  }, {
    key: '_onButtonDragStop',
    value: function _onButtonDragStop() {
      this._isDragging = false;
    }

    /**
     * Gets called when the user starts dragging the bar
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onBarDragStart',
    value: function _onBarDragStart(e) {
      var mousePosition = __WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].getEventPosition(e);
      this._initialPosition = mousePosition.clone();
      var boundingRect = this._root.getBoundingClientRect();
      var elementOffset = new __WEBPACK_IMPORTED_MODULE_5__globals__["v" /* Vector2 */](boundingRect.left, boundingRect.top);

      var relativePosition = mousePosition.clone().subtract(elementOffset);

      var direction = this._getDirection();
      if (direction === ScrollbarComponent.HORIZONTAL) {
        this._setButtonPosition(relativePosition.x - this.state.buttonSize / 2);
      } else if (direction === ScrollbarComponent.VERTICAL) {
        this._setButtonPosition(relativePosition.y - this.state.buttonSize / 2);
      }

      document.addEventListener('mousemove', this._onBarDrag);
      document.addEventListener('touchmove', this._onBarDrag);
      document.addEventListener('mouseup', this._onBarDragStop);
      document.addEventListener('touchend', this._onBarDragStop);
    }

    /**
     * Gets called while the user drags the bar
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onBarDrag',
    value: function _onBarDrag(e) {
      var mousePosition = __WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].getEventPosition(e);

      var boundingRect = this._root.getBoundingClientRect();
      var elementOffset = new __WEBPACK_IMPORTED_MODULE_5__globals__["v" /* Vector2 */](boundingRect.left, boundingRect.top);

      var relativePosition = mousePosition.clone().subtract(elementOffset);
      var direction = this._getDirection();
      if (direction === ScrollbarComponent.HORIZONTAL) {
        this._setButtonPosition(relativePosition.x - this.state.buttonSize / 2);
      } else if (direction === ScrollbarComponent.VERTICAL) {
        this._setButtonPosition(relativePosition.y - this.state.buttonSize / 2);
      }
    }

    /**
     * Gets called when the user releases the bar
     * @private
     */

  }, {
    key: '_onBarDragStop',
    value: function _onBarDragStop() {
      document.removeEventListener('mousemove', this._onBarDrag);
      document.removeEventListener('touchmove', this._onBarDrag);
      document.removeEventListener('mouseup', this._onBarDragStop);
      document.removeEventListener('touchend', this._onBarDragStop);
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Sets the button position to the given value
     * @param {Number} buttonPosition
     * @private
     */

  }, {
    key: '_setButtonPosition',
    value: function _setButtonPosition(buttonPosition) {
      var direction = this._getDirection();

      var scrollableButtonSize = void 0,
          scrollableListSize = void 0;
      if (direction === ScrollbarComponent.HORIZONTAL) {
        scrollableButtonSize = this._root.offsetWidth - this.state.buttonSize;
        scrollableListSize = this._list.scrollWidth - this._list.offsetWidth;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        scrollableButtonSize = this._root.offsetHeight - this.state.buttonSize;
        scrollableListSize = this._list.scrollHeight - this._list.offsetHeight;
      }

      // Clamp button position
      buttonPosition = Math.max(0, buttonPosition);
      buttonPosition = Math.min(buttonPosition, scrollableButtonSize);

      // Set button position
      this.setState({ buttonPosition: buttonPosition });

      // Update list scroll position
      var progress = buttonPosition / scrollableButtonSize;
      var scrollPosition = scrollableListSize * progress;

      if (direction === ScrollbarComponent.HORIZONTAL) {
        this._list.scrollLeft = scrollPosition;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        this._list.scrollTop = scrollPosition;
      }

      this.props.onScroll && this.props.onScroll(scrollPosition);
    }

    /**
     * Updates the button position and size
     * @param {Function} cb
     * @private
     */

  }, {
    key: '_updateButtonSize',
    value: function _updateButtonSize(cb) {
      var buttonSize = 0;
      var buttonVisible = false;
      var parentSize = void 0,
          parentScrollSize = void 0;

      var direction = this._getDirection();
      if (direction === ScrollbarComponent.HORIZONTAL) {
        parentSize = this._list.clientWidth;
        parentScrollSize = this._list.scrollWidth;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        parentSize = this._list.offsetHeight;
        parentScrollSize = this._list.scrollHeight;
      }

      buttonSize = parentSize / parentScrollSize * parentSize;
      buttonVisible = parentScrollSize > parentSize;

      this.setState({ buttonSize: buttonSize, buttonVisible: buttonVisible }, cb);
    }

    /**
     * Updates the list size
     * @private
     */

  }, {
    key: '_updateListSize',
    value: function _updateListSize() {
      if (!this._list) return;

      var direction = this._getDirection();
      if (direction === ScrollbarComponent.HORIZONTAL) {
        this._list.style.height = '';
        var fullDimensions = this._getFullListDimensions();
        this._listSize = fullDimensions.y;
      } else if (direction === ScrollbarComponent.VERTICAL) {
        this._list.style.width = '';
        var _fullDimensions = this._getFullListDimensions();
        this._listSize = _fullDimensions.x;
      }
    }

    /**
     * In order to get the absolute width and height of the list, including the scrollbar,
     * we need to make use of `getBoundingClientRect`
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getFullListDimensions',
    value: function _getFullListDimensions() {
      var rect = this._list.getBoundingClientRect();
      return new __WEBPACK_IMPORTED_MODULE_5__globals__["v" /* Vector2 */](rect.width, rect.height);
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Updates the dimensions and stuff
     */

  }, {
    key: 'update',
    value: function update() {
      var _this2 = this;

      if (__WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].isMobile()) {
        return;
      }

      if (__WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].Browser.isIElte(11)) {
        var containerHeight = this._container.offsetHeight;
        this._list.style.height = containerHeight + 'px';
      }

      var direction = this._getDirection();
      this._updateButtonSize(function () {
        if (!_this2._listSize) {
          _this2._updateListSize();
        }

        var newListSize = _this2._listSize;
        if (_this2.state.buttonVisible) {
          newListSize += _this2.constructor.NATIVE_SCROLLBAR_WIDTH;
        }

        if (direction === ScrollbarComponent.HORIZONTAL) {
          _this2._root.style.top = _this2._listSize - SCROLLBAR_WIDTH + 'px';
          _this2._root.style.width = _this2._list.offsetWidth + 'px';
        } else if (direction === ScrollbarComponent.VERTICAL) {
          _this2._list.style.width = newListSize + 'px';
          _this2._root.style.left = _this2._listSize - SCROLLBAR_WIDTH + 'px';
          _this2._root.style.height = _this2._list.offsetHeight + 'px';
        }
      });

      this._list.addEventListener('scroll', this._onListScroll);
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Returns this scrollbar's direction
     * @return {String}
     * @private
     */

  }, {
    key: '_getDirection',
    value: function _getDirection() {
      return this.props.direction || 'horizontal';
    }

    /**
     * Returns the gradient opacity
     * @return {Number}
     * @private
     */

  }, {
    key: '_getGradientOpacity',
    value: function _getGradientOpacity() {
      if (!this._list) return false;

      var direction = this._getDirection();
      var pixelsLeftToScroll = void 0;
      if (direction === ScrollbarComponent.HORIZONTAL) {
        pixelsLeftToScroll = this._list.scrollWidth - this._list.offsetWidth - this._list.scrollLeft;
      } else {
        pixelsLeftToScroll = this._list.scrollHeight - this._list.offsetHeight - this._list.scrollTop;
      }

      return Math.min(Math.max(pixelsLeftToScroll / GRADIENT_SCROLL_TOLERANCE, 0), 1);
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * Returns the button's style object
     * @return {Object}
     * @private
     */

  }, {
    key: '_getButtonStyle',
    value: function _getButtonStyle() {
      var direction = this._getDirection();
      if (direction === 'horizontal') {
        return {
          left: this.state.buttonPosition,
          width: this.state.buttonSize
        };
      } else {
        return {
          top: this.state.buttonPosition,
          height: this.state.buttonSize
        };
      }
    }

    // -------------------------------------------------------------------------- GETTERS

  }, {
    key: 'getList',
    value: function getList() {
      return this.refs.list;
    }
  }, {
    key: 'getRoot',
    value: function getRoot() {
      return this.refs.root;
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the child element
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderChild',
    value: function _renderChild(children) {
      var _this3 = this;

      return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].cloneElement(children, {
        innerRef: function innerRef(el) {
          if (children.props.innerRef) {
            children.props.innerRef(el);
          }
          _this3._list = el;
        }
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      if (__WEBPACK_IMPORTED_MODULE_5__globals__["u" /* Utils */].isMobile()) {
        return this.props.children;
      }

      var buttonStyle = this._getButtonStyle();
      var child = this._renderChild(this.props.children);

      var direction = this._getDirection();
      var gradientOpacity = this._getGradientOpacity();
      return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
        ScrollbarContainer,
        {
          innerRef: function innerRef(el) {
            _this4._container = el;
          },
          styles: this.props.styles },
        child,
        !this.props.noGradient && gradientOpacity !== 0 ? __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(Gradient, {
          style: { opacity: gradientOpacity },
          horizontal: direction === ScrollbarComponent.HORIZONTAL,
          vertical: direction === ScrollbarComponent.VERTICAL }) : null,
        __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          Scrollbar,
          {
            innerRef: function innerRef(el) {
              _this4._root = el;
            },
            onMouseDown: this._onBarDragStart,
            onTouchStart: this._onBarDragStart,
            vertical: this.props.direction === 'vertical',
            horizontal: this.props.direction === 'horizontal' },
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
            __WEBPACK_IMPORTED_MODULE_6__draggable_component__["a" /* default */],
            {
              onStart: this._onButtonDragStart,
              onDrag: this._onButtonDrag,
              onStop: this._onButtonDragStop },
            __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(ScrollbarButton, {
              style: buttonStyle,
              visible: this.state.buttonVisible,
              onMouseDown: this._onButtonDown,
              vertical: this.props.direction === 'vertical',
              horizontal: this.props.direction === 'horizontal' })
          )
        )
      );
    }
  }]);

  return ScrollbarComponent;
}(__WEBPACK_IMPORTED_MODULE_5__globals__["b" /* BaseComponent */]);

ScrollbarComponent.HORIZONTAL = 'horizontal';
ScrollbarComponent.VERTICAL = 'vertical';
ScrollbarComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ScrollbarComponent);


var ScrollbarContainer = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('120drhm', 'ScrollbarContainer');
ScrollbarComponent.RootElement = ScrollbarContainer;

var Scrollbar = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1s3c4f0', {
  vertical: '1dvqwqc',
  horizontal: '1hu63yp'
}, 'Scrollbar');

var ScrollbarButton = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('zxujnb', {
  vertical: 'gma9v3',
  horizontal: '1h5ccdj',
  visible: '2jlos'
}, 'ScrollbarButton');

var Gradient = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('pc5361', {
  horizontal: 'felmtl',
  vertical: '1enskgl'
}, 'Gradient');

/***/ }),
/* 80 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Input; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_globals__ = __webpack_require__(4);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var Input = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('nsck4j', 'Input');

/***/ }),
/* 81 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_nan__ = __webpack_require__(276);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_nan___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_nan__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_state_component__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components_shared_forms_numeric_input_component__ = __webpack_require__(53);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var ValueSelectionComponent = function (_SharedStateComponent) {
  _inherits(ValueSelectionComponent, _SharedStateComponent);

  function ValueSelectionComponent() {
    var _ref;

    _classCallCheck(this, ValueSelectionComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ValueSelectionComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ValueSelectionComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onInputLiveChange', '_onInputChange');

    _this.state = {
      value: _this.props.value
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component receives new props
   * @param  {Object} props
   */


  _createClass(ValueSelectionComponent, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      if (props.value !== this.state.value) {
        this.setState({ value: props.value });
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user changes the value of the input
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onInputLiveChange',
    value: function _onInputLiveChange(event) {
      this.setState({ value: event.target.value });
    }

    /**
     * Called when an input changes.
     * @param  {Event} event
     * @return @private
     */

  }, {
    key: '_onInputChange',
    value: function _onInputChange(event) {
      var value = parseFloat(event.target.value);
      if (__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_number_is_nan___default()(value)) {
        return this.setState({ value: this.props.value });
      }

      var _props = this.props,
          minValue = _props.minValue,
          maxValue = _props.maxValue;

      value = __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].toFixed(Math.max(minValue, Math.min(value, maxValue)), 1);
      this.props.onValueChange && this.props.onValueChange(value);

      this.setState({ value: value });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the right part of this control (e.g. an input)
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderRightPart',
    value: function _renderRightPart() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(InputField, {
        value: this.state.value,
        onLiveChange: this._onInputLiveChange,
        onChange: this._onInputChange,
        className: test ? 'js-valueSelection-input' : undefined,
        innerRef: function innerRef(el) {
          _this2._input = el;
        },
        disabled: this.props.disabled });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          label = _props2.label,
          inputLabel = _props2.inputLabel,
          className = _props2.className,
          disabled = _props2.disabled,
          styles = _props2.styles;

      var hasLeftPart = typeof this._renderLeftPart === 'function';
      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        ValueSelection,
        {
          styles: styles,
          className: className,
          disabled: disabled },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          Row,
          null,
          hasLeftPart && __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
            Column,
            null,
            label && __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
              Title,
              { left: true },
              label
            ),
            this._renderLeftPart()
          ),
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
            Column,
            null,
            inputLabel && __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
              Title,
              null,
              inputLabel || ' '
            ),
            this._renderRightPart()
          )
        )
      );
    }
  }]);

  return ValueSelectionComponent;
}(__WEBPACK_IMPORTED_MODULE_6__shared_state_component__["a" /* default */]);

// -------------------------------------------------------------------------- STYLES

ValueSelectionComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6__shared_state_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ValueSelectionComponent);
var ValueSelection = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('12okzzb', {
  disabled: '1voy7lm'
}, 'ValueSelection');
ValueSelectionComponent.RootElement = ValueSelection;

var Row = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('15u7gri', 'Row');

var Column = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('1hy9z1m', {
  bottomAligned: '17xdalt'
}, 'Column');

var Title = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('ts1901', {
  left: '1ff3rj6'
}, 'Title');

var InputField = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7_components_shared_forms_numeric_input_component__["a" /* default */])('myl4ow', {
  disabled: '18if3pn'
}, 'InputField');

/***/ }),
/* 82 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CircleSlider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return CircleSliderBackground; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return CircleSliderKnob; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_globals__ = __webpack_require__(4);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var CircleSlider = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1ht9t4w', 'CircleSlider');

var CircleSliderBackground = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1ldv9bx', 'CircleSliderBackground');

var CircleSliderKnob = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('7g0rty', 'CircleSliderKnob');

/***/ }),
/* 83 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var OverlayFilter = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__["Engine"].Filters.OverlayFilter;


/* harmony default export */ __webpack_exports__["a"] = ({
  normal: OverlayFilter.BLEND_MODES.NORMAL,
  overlay: OverlayFilter.BLEND_MODES.OVERLAY,
  hardLight: OverlayFilter.BLEND_MODES.HARD_LIGHT,
  softLight: OverlayFilter.BLEND_MODES.SOFT_LIGHT,
  multiply: OverlayFilter.BLEND_MODES.MULTIPLY,
  darken: OverlayFilter.BLEND_MODES.DARKEN,
  lighten: OverlayFilter.BLEND_MODES.LIGHTEN,
  screen: OverlayFilter.BLEND_MODES.SCREEN,
  colorBurn: OverlayFilter.BLEND_MODES.COLOR_BURN
});

/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__(18) && !__webpack_require__(25)(function () {
  return Object.defineProperty(__webpack_require__(56)('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__(29);
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__(21);
var toIObject = __webpack_require__(20);
var arrayIndexOf = __webpack_require__(143)(false);
var IE_PROTO = __webpack_require__(63)('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__(13).document;
module.exports = document && document.documentElement;


/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__(21);
var toObject = __webpack_require__(31);
var IE_PROTO = __webpack_require__(63)('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),
/* 89 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DefaultTheme; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dark_theme__ = __webpack_require__(152);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__dark_theme___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__dark_theme__);
/* unused harmony reexport DarkTheme */


var DefaultTheme = __WEBPACK_IMPORTED_MODULE_0__dark_theme___default.a;


var Themes = {
  DarkTheme: __WEBPACK_IMPORTED_MODULE_0__dark_theme___default.a
};
/* unused harmony default export */ var _unused_webpack_default_export = (Themes);

/***/ }),
/* 90 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_prop_types__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_prop_types__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var BaseComponent = function (_React$Component) {
  _inherits(BaseComponent, _React$Component);

  function BaseComponent() {
    var _ref;

    _classCallCheck(this, BaseComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = BaseComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BaseComponent)).call.apply(_ref, [this].concat(args)));

    _this._events = {};
    _this._needsStyleFixes = false;

    _this._bindAll('fixStyles');
    return _this;
  }

  // -------------------------------------------------------------------------- WORKAROUNDS

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * @return {Promise}
   */


  _createClass(BaseComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve();
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Gets called when this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this._bindEvents();

      if (this._needsStyleFixes) {
        this.fixStyles();
        if (this.context.options.responsive) {
          window.addEventListener('resize', this.fixStyles);
        }
      }
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._unbindEvents();

      var options = this.context && this.context.options || this.props.options;
      if (options.responsive && this._needsStyleFixes) {
        window.removeEventListener('resize', this.fixStyles);
      }
    }

    // -------------------------------------------------------------------------- HELPER FUNCTIONS\

    /**
     * Binds the instance methods with the given names
     * to the class context
     * @param  {Array.<String>} ...fnNames
     * @protected
     */

  }, {
    key: '_bindAll',
    value: function _bindAll() {
      var _this2 = this;

      for (var _len2 = arguments.length, fnNames = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        fnNames[_key2] = arguments[_key2];
      }

      fnNames.forEach(function (name) {
        if (typeof _this2[name] !== 'function') {
          throw new Error('_bindAll: `' + _this2.constructor.name + '.' + name + '` is not a function.');
        }
        _this2[name] = _this2[name].bind(_this2);
      });
    }

    /**
     * Returns the translation for `key`
     * @param  {String} key
     * @param  {Object} [interpolationOptions]
     * @return {String}
     */

  }, {
    key: '_t',
    value: function _t(key, interpolationOptions) {
      return this.context.ui.translate(key, interpolationOptions);
    }

    /**
     * A helper method for UI.helpers.assetPath
     * @param {?} ...args
     * @protected
     */

  }, {
    key: '_getAssetPath',
    value: function _getAssetPath() {
      var _context$ui;

      return (_context$ui = this.context.ui).getAssetPath.apply(_context$ui, arguments);
    }

    // -------------------------------------------------------------------------- EVENT HANDLING

    /**
     * Binds the events in _events
     * @protected
     */

  }, {
    key: '_bindEvents',
    value: function _bindEvents() {
      for (var eventName in this._events) {
        var handler = this._events[eventName];
        this.context.mediator.on(eventName, handler);
      }
    }

    /**
     * Unbinds the events in _events
     * @protected
     */

  }, {
    key: '_unbindEvents',
    value: function _unbindEvents() {
      for (var eventName in this._events) {
        var handler = this._events[eventName];
        this.context.mediator.off(eventName, handler);
      }
    }

    /**
     * Emits an event with the given event name and arguments through
     * the mediator
     * @param  {String} eventName
     * @param  {Array.<*>} ...args
     * @protected
     */

  }, {
    key: '_emitEvent',
    value: function _emitEvent(eventName) {
      var _context$mediator;

      for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        args[_key3 - 1] = arguments[_key3];
      }

      (_context$mediator = this.context.mediator).emit.apply(_context$mediator, [eventName].concat(args));
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Transforms the ReactBEM.element returned by `renderWithBEM` into
     * React.Element objects with proper class names
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_5_react___default.a.createElement('div', null);
    }
  }]);

  return BaseComponent;
}(__WEBPACK_IMPORTED_MODULE_5_react___default.a.Component);

BaseComponent.contextTypes = {
  appComponent: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  editor: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  ui: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  options: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  mediator: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  screen: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object,
  theme: __WEBPACK_IMPORTED_MODULE_6_prop_types___default.a.object
};
/* harmony default export */ __webpack_exports__["a"] = (BaseComponent);

/***/ }),
/* 91 */
/***/ (function(module, exports) {



/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__(43);
var $export = __webpack_require__(12);
var redefine = __webpack_require__(93);
var hide = __webpack_require__(19);
var has = __webpack_require__(21);
var Iterators = __webpack_require__(27);
var $iterCreate = __webpack_require__(156);
var setToStringTag = __webpack_require__(44);
var getPrototypeOf = __webpack_require__(88);
var ITERATOR = __webpack_require__(11)('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = (!BUGGY && $native) || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(19);


/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__(14);
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};


/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators = __webpack_require__(27);
var ITERATOR = __webpack_require__(11)('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};


/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = __webpack_require__(14);
var aFunction = __webpack_require__(39);
var SPECIES = __webpack_require__(11)('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};


/***/ }),
/* 97 */
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};


/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(14);
var isObject = __webpack_require__(17);
var newPromiseCapability = __webpack_require__(70);

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR = __webpack_require__(11)('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};


/***/ }),
/* 100 */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__(86);
var hiddenKeys = __webpack_require__(65).concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(211), __esModule: true };

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(213), __esModule: true };

/***/ }),
/* 104 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

/* harmony default export */ __webpack_exports__["a"] = ({
  DEFAULTS: {
    FILTERS: [
    // {
    //   identifier: 'imgly_filters_test',
    //   defaultName: 'Test',
    //   filters: [
    //     {
    //       identifier: 'imgly_lut_identity_5_5',
    //       defaultName: 'Identity 5x5',
    //       lutImage: 'filters/imgly_lut_identity_5_5_128.png'
    //     }
    //   ]
    // },
    {
      identifier: 'imgly_filters_analog',
      defaultName: 'Analog',
      filters: [{
        identifier: 'imgly_lut_cool',
        defaultName: 'Cool',
        lutImage: 'filters/imgly_lut_cool_5_5_128.png'
      }, {
        identifier: 'imgly_lut_blues',
        defaultName: 'Blues',
        lutImage: 'filters/imgly_lut_blues_5_5_128.png'
      }, {
        identifier: 'imgly_lut_blueshadows',
        defaultName: 'Blue Shadows',
        lutImage: 'filters/imgly_lut_blueshadows_5_5_128.png'
      }, {
        identifier: 'imgly_lut_k6',
        defaultName: 'K6',
        lutImage: 'filters/imgly_lut_k6_5_5_128.png'
      }, {
        identifier: 'imgly_lut_kdynamic',
        defaultName: 'KDynamic',
        lutImage: 'filters/imgly_lut_kdynamic_5_5_128.png'
      }, {
        identifier: 'imgly_lut_lucid',
        defaultName: 'Lucid',
        lutImage: 'filters/imgly_lut_lucid_5_5_128.png'
      }, {
        identifier: 'imgly_lut_pale',
        defaultName: 'Pale',
        lutImage: 'filters/imgly_lut_pale_5_5_128.png'
      }]
    }, {
      identifier: 'imgly_filters_bw',
      defaultName: 'Black & White',
      filters: [{
        identifier: 'imgly_lut_sin',
        defaultName: 'Sin',
        lutImage: 'filters/imgly_lut_sin_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_ad1920',
        defaultName: '1920 A.D.',
        lutImage: 'filters/imgly_lut_ad1920_5_5_128.png'
      }, {
        identifier: 'imgly_lut_bw',
        defaultName: 'B & W',
        lutImage: 'filters/imgly_lut_bw_5_5_128.png'
      }, {
        identifier: 'imgly_lut_litho',
        defaultName: 'Litho',
        lutImage: 'filters/imgly_lut_litho_5_5_128.png'
      }, {
        identifier: 'imgly_lut_plate',
        defaultName: 'Plate',
        lutImage: 'filters/imgly_lut_plate_5_5_128.png'
      }, {
        identifier: 'imgly_lut_x400',
        defaultName: 'X400',
        lutImage: 'filters/imgly_lut_x400_5_5_128.png'
      }]
    }, {
      identifier: 'imgly_filters_retro',
      defaultName: 'Retro',
      filters: [{
        identifier: 'imgly_lut_celsius',
        defaultName: 'Celsius',
        lutImage: 'filters/imgly_lut_celsius_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_k2',
        defaultName: 'K2',
        lutImage: 'filters/imgly_lut_k2_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_sepiahigh',
        defaultName: 'Sepia High',
        lutImage: 'filters/imgly_lut_sepiahigh_5_5_128.png'
      }, {
        identifier: 'imgly_lut_ancient',
        defaultName: 'Ancient',
        lutImage: 'filters/imgly_lut_ancient_5_5_128.png'
      }, {
        identifier: 'imgly_lut_classic',
        defaultName: 'Classic',
        lutImage: 'filters/imgly_lut_classic_5_5_128.png'
      }, {
        identifier: 'imgly_lut_eighties',
        defaultName: 'Eighties',
        lutImage: 'filters/imgly_lut_eighties_5_5_128.png'
      }, {
        identifier: 'imgly_lut_elder',
        defaultName: 'Elder',
        lutImage: 'filters/imgly_lut_elder_5_5_128.png'
      }, {
        identifier: 'imgly_lut_glam',
        defaultName: 'Glam',
        lutImage: 'filters/imgly_lut_glam_5_5_128.png'
      }, {
        identifier: 'imgly_lut_gobblin',
        defaultName: 'Gobblin',
        lutImage: 'filters/imgly_lut_gobblin_5_5_128.png'
      }, {
        identifier: 'imgly_lut_orchid',
        defaultName: 'Orchid',
        lutImage: 'filters/imgly_lut_orchid_5_5_128.png'
      }, {
        identifier: 'imgly_lut_seventies',
        defaultName: 'Seventies',
        lutImage: 'filters/imgly_lut_seventies_5_5_128.png'
      }]
    }, {
      identifier: 'imgly_filters_special',
      defaultName: 'Special',
      filters: [{
        identifier: 'imgly_lut_fixie',
        defaultName: 'Fixie',
        lutImage: 'filters/imgly_lut_fixie_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_colorful',
        defaultName: 'Colorful',
        lutImage: 'filters/imgly_lut_colorful_5_5_128.png'
      }, {
        identifier: 'imgly_lut_cottoncandy',
        defaultName: 'Cotton Candy',
        lutImage: 'filters/imgly_lut_cottoncandy_5_5_128.png'
      }, {
        identifier: 'imgly_lut_food',
        defaultName: 'Food',
        lutImage: 'filters/imgly_lut_food_5_5_128.png'
      }, {
        identifier: 'imgly_lut_highcontrast',
        defaultName: 'High Contrast',
        lutImage: 'filters/imgly_lut_highcontrast_5_5_128.png'
      }, {
        identifier: 'imgly_lut_k1',
        defaultName: 'K1',
        lutImage: 'filters/imgly_lut_k1_5_5_128.png'
      }, {
        identifier: 'imgly_lut_lomo100',
        defaultName: 'Lomo 100',
        lutImage: 'filters/imgly_lut_lomo100_5_5_128.png'
      }, {
        identifier: 'imgly_lut_neat',
        defaultName: 'Neat',
        lutImage: 'filters/imgly_lut_neat_5_5_128.png'
      }, {
        identifier: 'imgly_lut_nogreen',
        defaultName: 'No Green',
        lutImage: 'filters/imgly_lut_nogreen_5_5_128.png'
      }, {
        identifier: 'imgly_lut_pola669',
        defaultName: 'Pola 669',
        lutImage: 'filters/imgly_lut_pola669_5_5_128.png'
      }, {
        identifier: 'imgly_lut_polasx',
        defaultName: 'Pola SX',
        lutImage: 'filters/imgly_lut_polasx_5_5_128.png'
      }, {
        identifier: 'imgly_lut_pro400',
        defaultName: 'Pro 400',
        lutImage: 'filters/imgly_lut_pro400_5_5_128.png'
      }, {
        identifier: 'imgly_lut_twilight',
        defaultName: 'Twilight',
        lutImage: 'filters/imgly_lut_twilight_5_5_128.png'
      }, {
        identifier: 'imgly_lut_settled',
        defaultName: 'Settled',
        lutImage: 'filters/imgly_lut_settled_5_5_128.png'
      }, {
        identifier: 'imgly_lut_steel',
        defaultName: 'Steel',
        lutImage: 'filters/imgly_lut_steel_5_5_128.png'
      }]
    }, {
      identifier: 'imgly_filters_summer',
      defaultName: 'Summer',
      filters: [{
        identifier: 'imgly_lut_texas',
        defaultName: 'Texas',
        lutImage: 'filters/imgly_lut_texas_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_mellow',
        defaultName: 'Mellow',
        lutImage: 'filters/imgly_lut_mellow_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_chest',
        defaultName: 'Chest',
        lutImage: 'filters/imgly_lut_chest_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_creamy',
        defaultName: 'Creamy',
        lutImage: 'filters/imgly_lut_creamy_5_5_128.png'
      }, {
        identifier: 'imgly_lut_evening',
        defaultName: 'Evening',
        lutImage: 'filters/imgly_lut_evening_5_5_128.png'
      }, {
        identifier: 'imgly_lut_fall',
        defaultName: 'Fall',
        lutImage: 'filters/imgly_lut_fall_5_5_128.png'
      }, {
        identifier: 'imgly_lut_front',
        defaultName: 'Front',
        lutImage: 'filters/imgly_lut_front_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_highcarb',
        defaultName: 'High Carb',
        lutImage: 'filters/imgly_lut_highcarb_5_5_128.png'
      }, {
        identifier: 'imgly_lut_keen',
        defaultName: 'Keen',
        lutImage: 'filters/imgly_lut_keen_5_5_128.png'
      }, {
        identifier: 'imgly_lut_pitched',
        defaultName: 'Pitched',
        lutImage: 'filters/imgly_lut_pitched_5_5_128.png'
      }, {
        identifier: 'imgly_lut_soft',
        defaultName: 'Soft',
        lutImage: 'filters/imgly_lut_soft_5_5_128.png'
      }, {
        identifier: 'imgly_lut_summer',
        defaultName: 'Summer',
        lutImage: 'filters/imgly_lut_summer_5_5_128.png'
      }, {
        identifier: 'imgly_lut_sunset',
        defaultName: 'Sunset',
        lutImage: 'filters/imgly_lut_sunset_5_5_128.png'
      }, {
        identifier: 'imgly_lut_tender',
        defaultName: 'Tender',
        lutImage: 'filters/imgly_lut_tender_5_5_128.png'
      }]
    }, {
      identifier: 'imgly_filters_winter',
      defaultName: 'Winter',
      filters: [{
        identifier: 'imgly_lut_fridge',
        defaultName: 'Fridge',
        lutImage: 'filters/imgly_lut_fridge_8_8_512.png',
        resolution: 512,
        horizontalTileCount: 8,
        verticalTileCount: 8
      }, {
        identifier: 'imgly_lut_bleached',
        defaultName: 'Bleached',
        lutImage: 'filters/imgly_lut_bleached_5_5_128.png'
      }, {
        identifier: 'imgly_lut_bleachedblue',
        defaultName: 'Bleached Blue',
        lutImage: 'filters/imgly_lut_bleachedblue_5_5_128.png'
      }, {
        identifier: 'imgly_lut_breeze',
        defaultName: 'Breeze',
        lutImage: 'filters/imgly_lut_breeze_5_5_128.png'
      }, {
        identifier: 'imgly_lut_lenin',
        defaultName: 'Lenin',
        lutImage: 'filters/imgly_lut_lenin_5_5_128.png'
      }, {
        identifier: 'imgly_lut_quozi',
        defaultName: 'Quozi',
        lutImage: 'filters/imgly_lut_quozi_5_5_128.png'
      }, {
        identifier: 'imgly_lut_winter',
        defaultName: 'Winter',
        lutImage: 'filters/imgly_lut_winter_5_5_128.png'
      }]
    }],
    OVERLAYS: [{
      identifier: 'imgly_overlay_golden',
      defaultName: 'Golden',
      image: 'overlays/imgly_overlay_golden.jpg',
      thumbnail: 'overlays/imgly_overlay_golden_thumb.jpg',
      blendMode: 'lighten'
    }, {
      identifier: 'imgly_overlay_bokeh',
      defaultName: 'Bokeh',
      image: 'overlays/imgly_overlay_bokeh.jpg',
      thumbnail: 'overlays/imgly_overlay_bokeh_thumb.jpg',
      blendMode: 'lighten'
    }, {
      identifier: 'imgly_overlay_hearts',
      defaultName: 'Hearts',
      image: 'overlays/imgly_overlay_hearts.jpg',
      thumbnail: 'overlays/imgly_overlay_hearts_thumb.jpg',
      blendMode: 'screen'
    }, {
      identifier: 'imgly_overlay_lightleak1',
      defaultName: 'Light Leak',
      image: 'overlays/imgly_overlay_lightleak1.jpg',
      thumbnail: 'overlays/imgly_overlay_lightleak1_thumb.jpg',
      blendMode: 'screen'
    }, {
      identifier: 'imgly_overlay_lightleak2',
      defaultName: 'Light Leak 2',
      image: 'overlays/imgly_overlay_lightleak2.jpg',
      thumbnail: 'overlays/imgly_overlay_lightleak2_thumb.jpg',
      blendMode: 'lighten'
    }, {
      identifier: 'imgly_overlay_rain',
      defaultName: 'Rain',
      image: 'overlays/imgly_overlay_rain.jpg',
      thumbnail: 'overlays/imgly_overlay_rain_thumb.jpg',
      blendMode: 'overlay'
    }, {
      identifier: 'imgly_overlay_wood',
      defaultName: 'Wood',
      image: 'overlays/imgly_overlay_wood.jpg',
      thumbnail: 'overlays/imgly_overlay_wood_thumb.jpg',
      blendMode: 'multiply'
    }, {
      identifier: 'imgly_overlay_mosaic',
      defaultName: 'Mosaic',
      image: 'overlays/imgly_overlay_mosaic.jpg',
      thumbnail: 'overlays/imgly_overlay_mosaic_thumb.jpg',
      blendMode: 'multiply'
    }, {
      identifier: 'imgly_overlay_chop',
      defaultName: 'Chop',
      image: 'overlays/imgly_overlay_chop.jpg',
      thumbnail: 'overlays/imgly_overlay_chop_thumb.jpg',
      blendMode: 'multiply'
    }, {
      identifier: 'imgly_overlay_vintage',
      defaultName: 'Vintage',
      image: 'overlays/imgly_overlay_vintage.jpg',
      thumbnail: 'overlays/imgly_overlay_vintage_thumb.jpg',
      blendMode: 'darken'
    }, {
      identifier: 'imgly_overlay_metal',
      defaultName: 'Metal',
      image: 'overlays/imgly_overlay_metal.jpg',
      thumbnail: 'overlays/imgly_overlay_metal_thumb.jpg',
      blendMode: 'overlay'
    }, {
      identifier: 'imgly_overlay_paper',
      defaultName: 'Paper',
      image: 'overlays/imgly_overlay_paper.jpg',
      thumbnail: 'overlays/imgly_overlay_paper_thumb.jpg',
      blendMode: 'multiply'
    }, {
      identifier: 'imgly_overlay_painting',
      defaultName: 'Painting',
      image: 'overlays/imgly_overlay_painting.jpg',
      thumbnail: 'overlays/imgly_overlay_painting_thumb.jpg',
      blendMode: 'overlay'
    }, {
      identifier: 'imgly_overlay_grain',
      defaultName: 'Grain',
      image: 'overlays/imgly_overlay_grain.jpg',
      thumbnail: 'overlays/imgly_overlay_grain_thumb.jpg',
      blendMode: 'overlay'
    }, {
      identifier: 'imgly_overlay_clouds',
      defaultName: 'Clouds',
      image: 'overlays/imgly_overlay_clouds.jpg',
      thumbnail: 'overlays/imgly_overlay_clouds_thumb.jpg',
      blendMode: 'softLight'
    }, {
      identifier: 'imgly_overlay_wall1',
      defaultName: 'Wall',
      image: 'overlays/imgly_overlay_wall1.jpg',
      thumbnail: 'overlays/imgly_overlay_wall1_thumb.jpg',
      blendMode: 'lighten'
    }, {
      identifier: 'imgly_overlay_wall2',
      defaultName: 'Wall 2',
      image: 'overlays/imgly_overlay_wall2.jpg',
      thumbnail: 'overlays/imgly_overlay_wall2_thumb.jpg',
      blendMode: 'overlay'
    }],
    FRAME_CATEGORIES: [{
      identifier: 'imgly_frame_generic',
      defaultName: 'Generic',
      metaData: {
        backgroundImage: 'frames/generic.png' // Not used yet
      },
      frames: [{
        identifier: 'imgly_frame_dia',
        defaultName: 'Dia',
        layoutMode: 'horizontal-inside',
        thumbnail: 'frames/imgly_frame_dia/imgly_frame_dia_thumb.png',
        imageGroups: {
          top: {
            mid: {
              image: 'frames/imgly_frame_dia/imgly_frame_dia_top.png',
              mode: 'repeat'
            }
          },
          left: {
            start: 'frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png',
            mid: 'frames/imgly_frame_dia/imgly_frame_dia_left.png',
            end: 'frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png'
          },
          right: {
            start: 'frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png',
            mid: 'frames/imgly_frame_dia/imgly_frame_dia_right.png',
            end: 'frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png'
          },
          bottom: {
            mid: {
              image: 'frames/imgly_frame_dia/imgly_frame_dia_bottom.png',
              mode: 'repeat'
            }
          }
        }
      }, {
        identifier: 'imgly_frame_art_decor',
        defaultName: 'Art Decor',
        tintable: true,
        layoutMode: 'horizontal-inside',
        thumbnail: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png',
        imageGroups: {
          top: {
            start: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png'
          },
          left: {
            mid: {
              image: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png',
              mode: 'stretch'
            }
          },
          right: {
            mid: {
              image: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png',
              mode: 'stretch'
            }
          },
          bottom: {
            start: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png'
          }
        }
      }, {
        identifier: 'imgly_frame_black_passepartout',
        defaultName: 'Black Passepartout',
        layoutMode: 'horizontal-inside',
        thumbnail: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png',
        imageGroups: {
          top: {
            start: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png'
          },
          left: {
            mid: {
              image: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png',
              mode: 'stretch'
            }
          },
          right: {
            mid: {
              image: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png',
              mode: 'stretch'
            }
          },
          bottom: {
            start: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png'
          }
        }
      }, {
        identifier: 'imgly_frame_lowpoly_shadow',
        defaultName: 'Low Poly',
        layoutMode: 'horizontal-inside',
        thumbnail: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png',
        imageGroups: {
          top: {
            start: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png'
          },
          left: {
            mid: {
              image: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png',
              mode: 'stretch'
            }
          },
          right: {
            mid: {
              image: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png',
              mode: 'stretch'
            }
          },
          bottom: {
            start: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png'
          }
        }
      }, {
        identifier: 'imgly_frame_wood_passepartout',
        defaultName: 'Wood Passepartout',
        layoutMode: 'horizontal-inside',
        thumbnail: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png',
        imageGroups: {
          top: {
            start: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png'
          },
          left: {
            mid: {
              image: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png',
              mode: 'stretch'
            }
          },
          right: {
            mid: {
              image: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png',
              mode: 'stretch'
            }
          },
          bottom: {
            start: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png',
            mid: {
              image: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png',
              mode: 'stretch'
            },
            end: 'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png'
          }
        }
      }]
    }],
    STICKER_CATEGORIES: [{
      identifier: 'imgly_sticker_emoticons',
      defaultName: 'Emoticons',
      'metaData': {
        'backgroundImage': 'stickers/emoticons/background.png'
      },
      'stickers': [{
        identifier: 'imgly_sticker_emoticons_alien',
        defaultName: 'Alien',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png'],
            width: 1000,
            height: 935
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_angel',
        defaultName: 'Angel',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png'],
            width: 62,
            height: 64
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_angry',
        defaultName: 'Angry',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_anxious',
        defaultName: 'Anxious',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_asleep',
        defaultName: 'Asleep',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_attention',
        defaultName: 'Attention',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_baby_chicken',
        defaultName: 'Baby Chicken',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png'],
            width: 61,
            height: 42
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_batman',
        defaultName: 'Batman',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_beer',
        defaultName: 'Beer',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png'],
            width: 62,
            height: 59
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_blush',
        defaultName: 'Blush',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_boxer',
        defaultName: 'Boxer',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_business',
        defaultName: 'Business',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png'],
            width: 60,
            height: 63
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_chicken',
        defaultName: 'Chicken',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png'],
            width: 63,
            height: 55
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_cool',
        defaultName: 'Cool',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_cry',
        defaultName: 'Cry',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_deceased',
        defaultName: 'Deceased',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_devil',
        defaultName: 'Devil',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_duckface',
        defaultName: 'Duckface',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_furious',
        defaultName: 'Furious',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png'],
            width: 62,
            height: 61
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_grin',
        defaultName: 'Grin',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_guitar',
        defaultName: 'Guitar',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png'],
            width: 64,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_harry_potter',
        defaultName: 'Harry Potter',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png'],
            width: 64,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_hippie',
        defaultName: 'Hippie',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_hitman',
        defaultName: 'Hitman',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png'],
            width: 64,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_humourous',
        defaultName: 'Humourous',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png'],
            width: 64,
            height: 64
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_idea',
        defaultName: 'Idea',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png'],
            width: 64,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_impatient',
        defaultName: 'Impatient',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_kiss',
        defaultName: 'Kiss',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_kisses',
        defaultName: 'Kisses',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_laugh',
        defaultName: 'Laugh',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_loud_cry',
        defaultName: 'Loud Cry',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png'],
            width: 64,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_loving',
        defaultName: 'Loving',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_masked',
        defaultName: 'Masked',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_music',
        defaultName: 'Music',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png'],
            width: 62,
            height: 54
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_nerd',
        defaultName: 'Nerd',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png']
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_ninja',
        defaultName: 'Ninja',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_not_speaking_to_you',
        defaultName: 'Not Speaking To You',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_pig',
        defaultName: 'Pig',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png'],
            width: 63,
            height: 41
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_pumpkin',
        defaultName: 'Pumpkin',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_question',
        defaultName: 'Question',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_rabbit',
        defaultName: 'Rabbit',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png'],
            width: 65,
            height: 47
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_sad',
        defaultName: 'Sad',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png']
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_sick',
        defaultName: 'Sick',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_skateboard',
        defaultName: 'Skateboard',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png'],
            width: 62,
            height: 64
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_skull',
        defaultName: 'Skull',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png'],
            width: 62,
            height: 62
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_sleepy',
        defaultName: 'Sleepy',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_smile',
        defaultName: 'Smile',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_smoking',
        defaultName: 'Smoking',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_sobbing',
        defaultName: 'Sobbing',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png'],
            width: 62,
            height: 59
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_star',
        defaultName: 'Star',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png'],
            width: 64,
            height: 64
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_steaming_furious',
        defaultName: 'Steaming Furious',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_sunbathing',
        defaultName: 'Sunbathing',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_tired',
        defaultName: 'Tired',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_tongue_out_wink',
        defaultName: 'Tongue Out Wink',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_wave',
        defaultName: 'Wave',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_wide_grin',
        defaultName: 'Wide Grin',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_wink',
        defaultName: 'Wink',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png'],
            width: 62,
            height: 58
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png']
          }
        }
      }, {
        identifier: 'imgly_sticker_emoticons_wrestler',
        defaultName: 'Wrestler',
        images: {
          mediaThumb: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg', 'stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png'],
            width: 62,
            height: 60
          },
          mediaBase: {
            uris: ['stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg', 'stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png']
          }
        }
      }]
    }, {
      identifier: 'imgly_sticker_shapes',
      defaultName: 'Shapes',
      'metaData': {
        'backgroundImage': 'stickers/shapes/background.png'
      },
      'stickers': [{
        identifier: 'imgly_sticker_shapes_arrow_02',
        defaultName: 'Arrow 1',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png'],
            width: 2000,
            height: 1236
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png'],
            width: 2000,
            height: 1236
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_arrow_03',
        defaultName: 'Arrow 2',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png'],
            width: 2000,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png'],
            width: 2000,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_01',
        defaultName: 'Badge 1',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png'],
            width: 2000,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png'],
            width: 2000,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_04',
        defaultName: 'Badge 2',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png'],
            width: 2000,
            height: 1589
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png'],
            width: 2000,
            height: 1589
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_06',
        defaultName: 'Badge 3',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png'],
            width: 2000,
            height: 1733
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png'],
            width: 2000,
            height: 1733
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_08',
        defaultName: 'Badge 4',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png'],
            width: 2000,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png'],
            width: 2000,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_11',
        defaultName: 'Badge 5',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png'],
            width: 2000,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png'],
            width: 2000,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_12',
        defaultName: 'Badge 6',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png'],
            width: 2001,
            height: 1903
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png'],
            width: 2001,
            height: 1903
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_13',
        defaultName: 'Badge 7',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png'],
            width: 2000,
            height: 1718
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png'],
            width: 2000,
            height: 1718
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_15',
        defaultName: 'Badge 8',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png'],
            width: 1618,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png'],
            width: 1618,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_18',
        defaultName: 'Badge 9',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png'],
            width: 1198,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png'],
            width: 1198,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_19',
        defaultName: 'Badge 10',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png'],
            width: 2127,
            height: 481
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png'],
            width: 2127,
            height: 481
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_20',
        defaultName: 'Badge 11',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png'],
            width: 2000,
            height: 1404
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png'],
            width: 2000,
            height: 1404
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_28',
        defaultName: 'Badge 12',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png'],
            width: 2000,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png'],
            width: 2000,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_32',
        defaultName: 'Badge 13',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png'],
            width: 1960,
            height: 2000
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png'],
            width: 1960,
            height: 2000
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_35',
        defaultName: 'Badge 14',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png'],
            width: 2000,
            height: 2002
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png'],
            width: 2000,
            height: 2002
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_badge_36',
        defaultName: 'Badge 15',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png'],
            width: 2000,
            height: 1668
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png'],
            width: 2000,
            height: 1668
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_spray_01',
        defaultName: 'Spray 1',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png'],
            width: 1912,
            height: 2039
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png'],
            width: 1912,
            height: 2039
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_spray_03',
        defaultName: 'Spray 2',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png'],
            width: 1681,
            height: 1779
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png'],
            width: 1681,
            height: 1779
          }
        }
      }, {
        identifier: 'imgly_sticker_shapes_spray_04',
        defaultName: 'Spray 3',
        tintMode: 'solid',
        images: {
          mediaThumb: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg', 'stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png'],
            width: 1407,
            height: 2248
          },
          mediaBase: {
            uris: ['stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg', 'stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png'],
            width: 1407,
            height: 2248
          }
        }
      }]
    }]
  }
});

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.7.1
(function() {
  var getNanoSeconds, hrtime, loadTime;

  if ((typeof performance !== "undefined" && performance !== null) && performance.now) {
    module.exports = function() {
      return performance.now();
    };
  } else if ((typeof process !== "undefined" && process !== null) && process.hrtime) {
    module.exports = function() {
      return (getNanoSeconds() - loadTime) / 1e6;
    };
    hrtime = process.hrtime;
    getNanoSeconds = function() {
      var hr;
      hr = hrtime();
      return hr[0] * 1e9 + hr[1];
    };
    loadTime = getNanoSeconds();
  } else if (Date.now) {
    module.exports = function() {
      return Date.now() - loadTime;
    };
    loadTime = Date.now();
  } else {
    module.exports = function() {
      return new Date().getTime() - loadTime;
    };
    loadTime = new Date().getTime();
  }

}).call(this);

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(100)))

/***/ }),
/* 106 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_shared_exporter__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__image_resizer__ = __webpack_require__(227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__editor_operations__ = __webpack_require__(228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__editor_controls__ = __webpack_require__(229);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__editor_features__ = __webpack_require__(230);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__editor_zoom__ = __webpack_require__(231);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__editor_history__ = __webpack_require__(233);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */











/**
 * The Editor class is an interface to the SDK, managing operations, rendering,
 * history, zoom etc.
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI
 */

var Editor = function (_EventEmitter) {
  _inherits(Editor, _EventEmitter);

  function Editor(ui, options, mediator) {
    var shallow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

    _classCallCheck(this, Editor);

    var _this = _possibleConstructorReturn(this, (Editor.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(Editor)).call(this));

    _this._ui = ui;
    _this._options = options;
    _this._mediator = mediator;
    _this._ready = false;
    _this._padding = [0, 0, 0, 0];
    _this._offset = new __WEBPACK_IMPORTED_MODULE_4__globals__["v" /* Vector2 */](0, 0);
    _this._shallow = shallow;

    if (!shallow) {
      _this._initSDK();

      _this._onZoom = _this._onZoom.bind(_this);
      _this._onUndo = _this._onUndo.bind(_this);
      _this._onRedo = _this._onRedo.bind(_this);

      _this.history = new __WEBPACK_IMPORTED_MODULE_11__editor_history__["a" /* default */](_this, _this._sdk, _this._mediator);
      _this.history.on('undo', _this._onUndo);
      _this.history.on('redo', _this._onRedo);
      _this.zoom = new __WEBPACK_IMPORTED_MODULE_10__editor_zoom__["a" /* default */](_this, _this._sdk, _this._mediator);
      _this.zoom.on('set', _this._onZoom);

      _this._initSerializers();
    }

    _this.operations = new __WEBPACK_IMPORTED_MODULE_7__editor_operations__["a" /* default */](_this, _this._sdk, _this._mediator);
    _this.controls = new __WEBPACK_IMPORTED_MODULE_8__editor_controls__["a" /* default */](_this, _this._sdk, _this._mediator);
    _this.features = new __WEBPACK_IMPORTED_MODULE_9__editor_features__["a" /* default */](_this, _this._sdk, _this._mediator);

    if (_this._sdk) {
      var operationsArray = [];
      for (var identifier in _this._operations) {
        operationsArray.push(_this._operations[identifier]);
      }
      _this._sdk.registerOperations(operationsArray);
    }

    _this._running = false;
    _this._renderRequested = true;
    _this._renderCallbacks = [];
    _this._animationFrameRequest = null;

    _this.render = _this.render.bind(_this);
    _this._tick = _this._tick.bind(_this);
    return _this;
  }

  // -------------------------------------------------------------------------- INITIALIZATION

  /**
   * Sets the given image to be rendered. If the image needs to be resized to fit into a
   * WebGL texture or to match the `maxMegaPixels` option, resizing is done before setting
   * the image.
   * @param {Image} image
   * @param {Boolean} resetEditor [description]
   */


  _createClass(Editor, [{
    key: 'setImage',
    value: function setImage() {
      var _this2 = this;

      var image = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._options.editor.image;
      var resetEditor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      var renderer = this._sdk.getRenderer();
      var initialDimensions = new __WEBPACK_IMPORTED_MODULE_4__globals__["v" /* Vector2 */](image.naturalWidth, image.naturalHeight);
      var maxPixels = this.getMaxMegapixels() * 1000000;
      var maxDimensions = renderer.getMaxDimensions();

      if (resetEditor) {
        this.reset();
      }

      var imageResizer = new __WEBPACK_IMPORTED_MODULE_6__image_resizer__["a" /* default */](image, maxPixels, maxDimensions);
      var exif = null;

      var done = function done(image) {
        var dimensions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : initialDimensions;
        var resizeReason = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

        var previousDimensions = void 0,
            scale = void 0;
        if (_this2._sdk.getImage()) {
          previousDimensions = _this2.getInputDimensions();
          scale = dimensions.clone().divide(previousDimensions);
        }

        _this2._setImage(image, exif, dimensions);
        if (scale) {
          _this2.broadcastScale(scale);
        }

        _this2._initWatermark();

        _this2._ready = true;

        _this2.emit('ready');
      };

      if (!imageResizer.needsResize()) {
        done(image);
      } else {
        this.emit('resize');
        exif = this._sdk.parseExif(image);
        imageResizer.resize().then(function (_ref) {
          var canvas = _ref.canvas,
              dimensions = _ref.dimensions,
              reason = _ref.reason;

          // Flag canvas as JPEG so that export will recognize that
          // it needs to restore EXIF data
          canvas.src = 'data:image/jpeg;base64,';

          _this2.emit('resized', { dimensions: dimensions, reason: reason });
          done(canvas, dimensions, reason);
        });
      }
    }

    /**
     * Initializes the watermark operation
     * @private
     */

  }, {
    key: '_initWatermark',
    value: function _initWatermark() {
      if (this._options.editor.watermarkImage) {
        this._watermarkOperation = this.operations.getOrCreate('watermark', {
          image: this._options.editor.watermarkImage
        });
      }
    }

    /**
     * Initializes the SDK
     * @private
     */

  }, {
    key: '_initSDK',
    value: function _initSDK() {
      var _options = this._options,
          logLevel = _options.logLevel,
          displayWelcomeMessage = _options.displayWelcomeMessage,
          debug = _options.debug,
          license = _options.license,
          crossOrigin = _options.crossOrigin;
      var _options$editor = this._options.editor,
          smoothDownscaling = _options$editor.smoothDownscaling,
          smoothUpscaling = _options$editor.smoothUpscaling,
          preferredRenderer = _options$editor.preferredRenderer,
          pixelRatio = _options$editor.pixelRatio,
          transparent = _options$editor.transparent,
          clearColor = _options$editor.clearColor;


      var clearColorInstance = void 0;
      if (Array.isArray(clearColor)) {
        clearColorInstance = __WEBPACK_IMPORTED_MODULE_4__globals__["c" /* Color */].fromArray(clearColor);
      } else if (typeof clearColor === 'string') {
        clearColorInstance = __WEBPACK_IMPORTED_MODULE_4__globals__["c" /* Color */].fromHex(clearColor);
      } else if (clearColor instanceof __WEBPACK_IMPORTED_MODULE_4__globals__["c" /* Color */]) {
        clearColorInstance = clearColor.clone();
      }

      var rendererOptions = {
        logLevel: logLevel,
        debug: debug,
        displayWelcomeMessage: displayWelcomeMessage,
        pixelRatio: pixelRatio,
        smoothDownscaling: smoothDownscaling,
        smoothUpscaling: smoothUpscaling,
        transparent: transparent,
        crossOrigin: crossOrigin,
        clearColor: clearColorInstance,
        license: license
      };
      this._sdk = new __WEBPACK_IMPORTED_MODULE_4__globals__["p" /* SDK */](preferredRenderer, rendererOptions);
    }

    // -------------------------------------------------------------------------- ZOOMING

    /**
     * Gets called after a new zoom level has been set. Re-renders the editor.
     * @param  {Number} zoom
     * @param  {Function} [callback]
     * @private
     */

  }, {
    key: '_onZoom',
    value: function _onZoom(zoom) {
      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      this.fixOffset();
      this.render(function () {
        callback && callback();
      });
    }

    /**
     * Makes sure the image stays inside the viewport
     */

  }, {
    key: 'fixOffset',
    value: function fixOffset() {
      this._offset = this._clampOffset(this._offset);
    }

    /**
     * Gets called after an undo happened
     * @private
     */

  }, {
    key: '_onUndo',
    value: function _onUndo() {
      this.render();
    }

    /**
     * Gets called after a redo happened
     * @private
     */

  }, {
    key: '_onRedo',
    value: function _onRedo() {
      this.render();
    }

    /**
     * Returns the current rotation
     * @return {Number}
     */

  }, {
    key: 'getRotation',
    value: function getRotation() {
      return this._sdk.getRotation();
    }

    /**
     * Sets the rotation to the given value
     * @param {Number} rotation
     */

  }, {
    key: 'setRotation',
    value: function setRotation(rotation) {
      this._sdk.setRotation(rotation);
    }

    /**
     * Returns the current sprite scale
     * @return {Number}
     */

  }, {
    key: 'getSpriteScale',
    value: function getSpriteScale() {
      return this._sdk.getSpriteScale();
    }

    /**
     * Sets the sprite scale to the given value
     * @param {Number} spriteScale
     */

  }, {
    key: 'setSpriteScale',
    value: function setSpriteScale(spriteScale) {
      this._sdk.setSpriteScale(spriteScale);
    }

    /**
     * Returns the crossOrigin value to be set to image elements, according
     * to the passed `crossOrigin` option.
     *
     * @returns String
     */

  }, {
    key: 'getCrossOrigin',
    value: function getCrossOrigin() {
      return __WEBPACK_IMPORTED_MODULE_4__globals__["q" /* SDKUtils */].getCrossOriginValue(this._options.crossOrigin || 'anonymous');
    }

    // -------------------------------------------------------------------------- MISC PRIVATE API

    /**
     * Checks if the given tool is allowed by the license
     * @param  {String}  identifier
     * @return {Boolean}
     */

  }, {
    key: 'isToolAllowed',
    value: function isToolAllowed(identifier) {
      if (this._shallow) return true;

      return this._sdk._l.isToolAllowed(identifier);
    }

    /**
     * Checks if the control with the tool identifier is enabled
     * @param  {String}  identifier
     * @return {Boolean}
     */

  }, {
    key: 'isToolEnabled',
    value: function isToolEnabled(identifier) {
      return this._options.editor.tools.indexOf(identifier) !== -1;
    }

    /**
     * Returns the maximum mega pixels
     * @return {Number}
     * @private
     */

  }, {
    key: 'getMaxMegapixels',
    value: function getMaxMegapixels() {
      var maxMegaPixels = this._options.editor.maxMegaPixels;

      return __WEBPACK_IMPORTED_MODULE_4__globals__["u" /* Utils */].isMobile() ? maxMegaPixels.mobile : maxMegaPixels.desktop;
    }

    // -------------------------------------------------------------------------- MISC PUBLIC API

    /**
     * Returns the output sprite's current dimensions
     * @param {Boolean} incorporateSpriteScale = false
     * @return {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getOutputDimensions',
    value: function getOutputDimensions() {
      var incorporateSpriteScale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      return this._sdk.getOutputDimensions(incorporateSpriteScale);
    }

    /**
     * Returns the output texture's current dimensions
     * @param  {Boolean} incorporateSpriteScale = false
     * @return {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getOutputTextureDimensions',
    value: function getOutputTextureDimensions() {
      var incorporateSpriteScale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      return this._sdk.getOutputTextureDimensions(incorporateSpriteScale);
    }

    /**
     * Returns the final dimensions that the input image would have
     * after all existing operations have been applied
     * @param {Boolean} incorporateSpriteScale = false
     * @return {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getFinalDimensions',
    value: function getFinalDimensions() {
      var incorporateSpriteScale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      return this._sdk.getFinalDimensions(incorporateSpriteScale);
    }

    /**
     * Returns the canvas dimensions
     * @param  {Boolean} subtractPadding = true
     * @return {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getCanvasDimensions',
    value: function getCanvasDimensions() {
      var subtractPadding = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;

      var canvas = this._sdk.getCanvas();
      var dimensions = new __WEBPACK_IMPORTED_MODULE_4__globals__["v" /* Vector2 */](canvas.offsetWidth, canvas.offsetHeight);
      if (subtractPadding) {
        dimensions.subtract(this._padding[1] + this._padding[3], this._padding[0] + this._padding[2]);
      }
      return dimensions;
    }

    /**
     * Sets the given image
     * @param {Image} image
     * @param {PhotoEditorSDK.EXIF} [exif]
     * @param {PhotoEditorSDK.Math.Vector2} [dimensions]
     * @private
     */

  }, {
    key: '_setImage',
    value: function _setImage() {
      var image = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this._options.editor.image;
      var exif = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var dimensions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      // Invalidate caches
      this._sdk.setAllOperationsToDirty();

      this._options.editor.image = image;
      this._sdk.setImage(image, exif, dimensions);

      this.zoom.auto(true, true);

      this.emit('new-image');
    }

    /**
     * Exports an image
     * @param {Boolean} download = false
     * @return {Promise}
     */

  }, {
    key: 'export',
    value: function _export() {
      var _this3 = this;

      var download = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (this._watermarkOperation) {
        this._watermarkOperation.setEnabled(false);
      }

      // Invalidate caches
      this._sdk.setAllOperationsToDirty();

      var options = this._options.editor.export;
      var exporter = new __WEBPACK_IMPORTED_MODULE_5_shared_exporter__["a" /* default */](this._sdk, options, download);
      return exporter.export().then(function (output) {
        _this3.emit('export', output);
        _this3._mediator.emit(__WEBPACK_IMPORTED_MODULE_4__globals__["d" /* Constants */].EVENTS.EXPORT, output, _this3);

        if (_this3._watermarkOperation) {
          _this3._watermarkOperation.setEnabled(true);
          _this3._sdk.render();
        }

        // Invalidate caches
        _this3._sdk.setAllOperationsToDirty();

        return output;
      });
    }

    // -------------------------------------------------------------------------- SERIALIZATION

    /**
     * Initializes the serializers and deserializers
     * @private
     */

  }, {
    key: '_initSerializers',
    value: function _initSerializers() {
      this._serializers = {
        '1.0.0': __webpack_require__(234).default,
        '1.0.1': __webpack_require__(242).default,
        '2.0.0': __webpack_require__(243).default,
        '2.0.1': __webpack_require__(244).default,
        '3.0.0': __webpack_require__(247).default,
        '3.1.0': __webpack_require__(248).default
      };
    }

    /**
     * Serializes the editor state for the given version
     * @param  {Object} options = {}
     * @param  {String} version = '3.1.0'
     * @return {Promise}
     */

  }, {
    key: 'serialize',
    value: function serialize() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '3.1.0';

      var Serializer = this._serializers[version];
      if (!Serializer) {
        return __WEBPACK_IMPORTED_MODULE_4__globals__["j" /* Promise */].reject(new Error('No serializer for version ' + version + ' found.'));
      }
      var serializer = new Serializer(this);
      return serializer.serialize(options);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var _this4 = this;

      var Serializer = this._serializers[data.version];
      if (!Serializer) {
        return __WEBPACK_IMPORTED_MODULE_4__globals__["j" /* Promise */].reject(new Error('No serializer for version ' + data.version + ' found.'));
      }
      var serializer = new Serializer(this);
      return serializer.deserialize(data).then(function () {
        _this4.zoom.auto(true, true);
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Applies the rendering offset
     * @private
     */

  }, {
    key: '_applyOffset',
    value: function _applyOffset() {
      var offset = this._offset.clone();

      offset.x -= this._padding[1] / 2;
      offset.x += this._padding[3] / 2;

      offset.y -= this._padding[2] / 2;
      offset.y += this._padding[0] / 2;

      this._sdk.setOffset(offset);
    }

    /**
     * Starts the render loop
     */

  }, {
    key: 'start',
    value: function start() {
      this._animationFrameRequest = Object(__WEBPACK_IMPORTED_MODULE_4__globals__["z" /* requestAnimationFrame */])(this._tick);
    }

    /**
     * Stops the render loop
     */

  }, {
    key: 'stop',
    value: function stop() {
      this._running = false;
      if (this._animationFrameRequest) {
        Object(__WEBPACK_IMPORTED_MODULE_4__globals__["x" /* cancelAnimationFrame */])(this._animationFrameRequest);
        this._renderCallbacks = [];
      }
    }

    /**
     * Requests a render, adds `callback` to the render callbacks
     * @param  {Function} [callback]
     */

  }, {
    key: 'render',
    value: function render(callback) {
      this._renderRequested = true;
      if (callback) {
        this._renderCallbacks.push(callback);
      }
    }

    /**
     * Gets called when an animation frame is being processed. Renders the
     * canvas if necessary, requests another animation frame callbacks
     * @private
     */

  }, {
    key: '_tick',
    value: function _tick() {
      var _this5 = this;

      this.zoom.tick();

      if (this._renderRequested) {
        var callbacks = this._renderCallbacks.slice(0);
        this._renderCallbacks = [];

        this._render().then(function () {
          callbacks.forEach(function (r) {
            return r();
          });
          _this5._animationFrameRequest = Object(__WEBPACK_IMPORTED_MODULE_4__globals__["z" /* requestAnimationFrame */])(_this5._tick);
        });
        this._renderRequested = false;
      } else {
        this._animationFrameRequest = Object(__WEBPACK_IMPORTED_MODULE_4__globals__["z" /* requestAnimationFrame */])(this._tick);
      }
    }

    /**
     * Triggers a render
     * @private
     */

  }, {
    key: '_render',
    value: function _render() {
      var _this6 = this;

      if (!this._ready) return __WEBPACK_IMPORTED_MODULE_4__globals__["j" /* Promise */].resolve();

      this._applyOffset();
      return this._sdk.render().then(function () {
        _this6._lastOutputBounds = _this6._sdk.getSprite().getBounds();
        _this6.emit('rendered');
      }).catch(function (e) {
        __WEBPACK_IMPORTED_MODULE_4__globals__["h" /* Log */].error(_this6.constructor.name, 'An error occurred while rendering: ' + e.message);

        _this6.emit('render-error', e);
      });
    }

    /**
     * Resets everything
     */

  }, {
    key: 'reset',
    value: function reset() {
      this._sdk.reset();
      this.history.reset();
      this.operations.reset();
      this.features.reset();

      this.emit('reset');
    }

    // -------------------------------------------------------------------------- DISPOSAL

    /**
     * Cleans this instance up
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      this.stop();

      this._sdk.dispose();
    }

    // -------------------------------------------------------------------------- GETTERS / SETTERS

    /**
     * Checks if the Editor is ready to render
     * @return {Boolean}
     */

  }, {
    key: 'isReady',
    value: function isReady() {
      return this._ready;
    }

    /**
     * Returns the renderer
     * @return {PhotoEditorSDK.Engine.BaseRenderer}
     */

  }, {
    key: 'getRenderer',
    value: function getRenderer() {
      return this._sdk.getRenderer();
    }

    /**
     * Returns the SDK
     * @return {PhotoEditorSDK}
     */

  }, {
    key: 'getSDK',
    value: function getSDK() {
      return this._sdk;
    }

    /**
     * Returns the input image dimensions
     * @return {PhotoEditorSDK.Math.Vector2}s
     */

  }, {
    key: 'getInputDimensions',
    value: function getInputDimensions() {
      return this._sdk.getInputDimensions();
    }

    /**
     * Returns the padding values
     * @return {Number[]}
     */

  }, {
    key: 'getPadding',
    value: function getPadding() {
      return this._padding;
    }

    /**
     * Sets the padding (top, right, bottom, left)
     * @param {Number[]} padding
     */

  }, {
    key: 'setPadding',
    value: function setPadding(padding) {
      if (!padding) {
        this._padding = [0, 0, 0, 0];
      } else {
        this._padding = padding;
      }
    }

    /**
     * Returns the image
     * @return {Image}
     */

  }, {
    key: 'getImage',
    value: function getImage() {
      return this._options.editor.image;
    }

    /**
     * Returns the options
     * @return {Object}
     */

  }, {
    key: 'getOptions',
    value: function getOptions() {
      return this._options;
    }

    /**
     * Returns the UI
     * @return {DesktopUI}
     */

  }, {
    key: 'getUI',
    value: function getUI() {
      return this._ui;
    }

    /**
     * Broadcasts a scaling to all operations that need to be changed. These operations include
     * ones that store absolute values (e.g. sprite operation which holds sticker dimensions
     * in absolute values)
     * @param  {PhotoEditorSDK.Math.Vector2} scale
     */

  }, {
    key: 'broadcastScale',
    value: function broadcastScale(scale) {
      var _this7 = this;

      var scalableOperations = ['sprite'];
      scalableOperations.forEach(function (identifier) {
        var operation = _this7.operations.get(identifier);
        if (!operation) {
          return;
        }
        operation.scale(scale);
      });
    }

    /**
     * Broadcasts a transform to all operations that need to be changed
     * @param  {PhotoEditorSDK.Operations.TransformOperation} transformOperation
     * @param  {Object} options
     */

  }, {
    key: 'broadcastTransform',
    value: function broadcastTransform(transformOperation, options) {
      var _this8 = this;

      var transformChange = new __WEBPACK_IMPORTED_MODULE_4__globals__["p" /* SDK */].Operations.TransformOperation.TransformChange(transformOperation, options);
      var transformableOperations = ['sprite', 'selective-blur', 'radial-focus', 'mirrored-focus', 'linear-focus', 'blur'];
      transformableOperations.forEach(function (identifier) {
        var operation = _this8.operations.get(identifier);
        if (!operation) {
          return;
        }
        operation.transform(transformChange);
      });
    }

    /**
     * Broadcasts a flip to all operations that need to be changed
     * @param  {String} direction
     */

  }, {
    key: 'broadcastFlip',
    value: function broadcastFlip(direction) {
      var _this9 = this;

      var flippableOperations = ['mirrored-focus', 'radial-focus', 'sprite', 'selective-blur'];
      flippableOperations.forEach(function (identifier) {
        var operation = _this9.operations.get(identifier);
        if (!operation) {
          return;
        }
        operation.flip(direction);
      });
    }

    /**
     * Broadcasts a rotation to all operations that need to be changed
     * @param  {Number} degrees
     */

  }, {
    key: 'broadcastRotate',
    value: function broadcastRotate(degrees) {
      var _this10 = this;

      var flippableOperations = ['transform', 'mirrored-focus', 'radial-focus', 'sprite', 'selective-blur'];
      flippableOperations.forEach(function (identifier) {
        var operation = _this10.operations.get(identifier);
        if (!operation) {
          return;
        }
        operation.rotate(degrees);
      });
    }

    /**
     * Fixes the given offset to make sure the image stays inside the viewport
     * @param {PhotoEditorSDK.Math.Vector2} offset
     * @returns {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_clampOffset',
    value: function _clampOffset(offset) {
      var canvasDimensions = this.getCanvasDimensions();
      var outputDimensions = this._sdk.getOutputDimensions(false);

      var minOffset = canvasDimensions.clone().subtract(outputDimensions).divide(2).clamp(null, new __WEBPACK_IMPORTED_MODULE_4__globals__["v" /* Vector2 */](0, 0));

      var maxOffset = outputDimensions.clone().subtract(canvasDimensions).divide(2).clamp(new __WEBPACK_IMPORTED_MODULE_4__globals__["v" /* Vector2 */](0, 0), null);

      var newOffset = offset.clone().clamp(minOffset, maxOffset).round();

      return newOffset;
    }

    /**
     * Returns the current offset
     * @type {PhotoEditorSDK.Math.Vector2}
     */

  }, {
    key: 'getSnapshot',


    /**
     * Get a snapshot to the current editor state
     *
     * @returns {Object}
     */
    value: function getSnapshot() {
      return {
        operations: this.operations.getSnapshot(),
        zoom: this.zoom.getSnapshot(),
        canvasDimensions: this.getCanvasDimensions()
      };
    }

    /**
     * Restore the editor state to the given snapshot
     *
     * @param {Object} snapshot
     */

  }, {
    key: 'restoreSnapshot',
    value: function restoreSnapshot(snapshot) {
      this.operations.restoreSnapshot(snapshot.operations);
      this.zoom.restoreSnapshot(snapshot.zoom);

      // If the canvas dimensions have changed, recalculate zoom
      if (!snapshot.canvasDimensions.equals(this.getCanvasDimensions())) {
        this.zoom.auto(true, true);
      }
    }
  }, {
    key: 'getMediator',
    value: function getMediator() {
      return this._mediator;
    }

    /**
     * Add a sticker to a given category.
     *
     * @param {String} categoryIdentifier
     * @param {Object} stickerObject
     */

  }, {
    key: 'addSticker',
    value: function addSticker(categoryIdentifier, stickerObject) {
      var editorOptions = this._options.editor;

      var categories = __WEBPACK_IMPORTED_MODULE_4__globals__["q" /* SDKUtils */].getDeepProperty(editorOptions, ['controlsOptions', 'sticker', 'categories']);

      if (!categories) {
        return false;
      }

      var stickers = __WEBPACK_IMPORTED_MODULE_4__globals__["q" /* SDKUtils */].getDeepProperty(categories, [function (categories) {
        return categories.filter(function (c) {
          return c.identifier === categoryIdentifier;
        })[0];
      }, 'stickers']);

      if (!stickers) {
        return false;
      }

      stickers.push(stickerObject);

      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_4__globals__["d" /* Constants */].EVENTS.ADDED_STICKER, categories);

      return true;
    }
  }, {
    key: 'offset',
    get: function get() {
      return this._offset;
    }

    /**
     * Sets the offset to the given vector
     * @param {PhotoEditorSDK.Math.Vector2} offset
     */
    ,
    set: function set(offset) {
      this._offset = this._clampOffset(offset);
    }

    /**
     * Checks if the image is draggable
     * @type {Boolean}
     */

  }, {
    key: 'isDraggable',
    get: function get() {
      var zoomAllowsDrag = this.zoom.targetLevel > this.zoom.defaultLevel;
      return this.features.isEnabled('drag') && zoomAllowsDrag;
    }
  }, {
    key: 'isShallow',
    get: function get() {
      return this._shallow;
    }
  }]);

  return Editor;
}(__WEBPACK_IMPORTED_MODULE_4__globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (Editor);

/***/ }),
/* 107 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_globals__ = __webpack_require__(4);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var TWICE_PI = Math.PI * 2;

var v100Serializer = function () {
  function v100Serializer(editor) {
    _classCallCheck(this, v100Serializer);

    this._editor = editor;

    this._serializeOperations = this._serializeOperations.bind(this);
  }

  // -------------------------------------------------------------------------- SERIALIZATION

  /**
   * Serializes the editor state
   * @param {Object} options = {}
   * @return {Promise}
   */


  _createClass(v100Serializer, [{
    key: 'serialize',
    value: function serialize() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      this._options = __WEBPACK_IMPORTED_MODULE_2_globals__["q" /* SDKUtils */].defaults(options, {
        image: true
      });

      var data = {
        version: this.constructor.version
      };

      return this._serializeInputImage(data).then(this._serializeOperations);
    }

    /**
     * Serializes the input image as base64 and attaches it to `data`
     * @param  {Object} data
     * @return {Promise}
     * @private
     */

  }, {
    key: '_serializeInputImage',
    value: function _serializeInputImage(data) {
      var image = this._editor.getImage();
      var width = image.width,
          height = image.height;


      if (!this._options.image) {
        data.inputImage = { width: width, height: height };
        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(data);
      }

      var canvas = __WEBPACK_IMPORTED_MODULE_2_globals__["q" /* SDKUtils */].createCanvas();
      canvas.width = image.width;
      canvas.height = image.height;
      var context = canvas.getContext('2d');
      context.drawImage(image, 0, 0);

      var dataUrl = canvas.toDataURL(__WEBPACK_IMPORTED_MODULE_2_globals__["f" /* ImageFormat */].PNG);
      data.inputImage = {
        type: __WEBPACK_IMPORTED_MODULE_2_globals__["f" /* ImageFormat */].PNG,
        data: dataUrl.replace(/^data:image\/(.*?);base64,/, ''),
        width: width,
        height: height
      };
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(data);
    }

    /**
     * Serializes the operations and attaches them to `data`
     * @param  {Object} data
     * @return {Promise}
     * @private
     */

  }, {
    key: '_serializeOperations',
    value: function _serializeOperations(data) {
      var _this = this;

      var operations = [];
      var stack = this._editor.operations.getStack();
      stack.forEach(function (operation) {
        var data = _this._serializeOperation(operation, operations);
        if (data) {
          operations.push(data);
        }
      });
      data.operations = operations.filter(function (o) {
        return o;
      }); // Remove possible `null` operations
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(data);
    }

    /**
     * Serializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operation[]} operations
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeOperation',
    value: function _serializeOperation(operation, operations) {
      switch (operation.constructor.identifier) {
        case 'transform':
          return this._serializeTransformOperation(operation);
        case 'orientation':
          return this._serializeOrientationOperation(operation);
        case 'filter':
          return this._serializeFilterOperation(operation);
        case 'adjustments':
          return this._serializeAdjustmentsOperation(operation);
        case 'sprite':
          return this._serializeSpriteOperation(operation, operations);
        case 'radial-focus':
          return this._serializeRadialFocusOperation(operation);
        case 'mirrored-focus':
          return this._serializeLinearFocusOperation(operation);
        default:
          __WEBPACK_IMPORTED_MODULE_2_globals__["h" /* Log */].warn('Unable to serialize operation of type ' + operation.constructor.identifier);
      }
    }

    /**
     * Serializes the given transform operation
     * @param  {PhotoEditorSDK.Operation.TransformOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeTransformOperation',
    value: function _serializeTransformOperation(operation) {
      var options = operation.serializeOptions(['start', 'end', 'rotation'], true);
      options.rotation = (options.rotation + TWICE_PI) % TWICE_PI;
      return {
        type: 'crop',
        options: options
      };
    }

    /**
     * Serializes the given orientation operation
     * @param  {PhotoEditorSDK.Operation.OrientationOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeOrientationOperation',
    value: function _serializeOrientationOperation(operation) {
      return {
        type: 'orientation',
        options: operation.serializeOptions(['flipVertically', 'flipHorizontally', 'rotation'], true)
      };
    }

    /**
     * Serializes the given filter operation
     * @param  {PhotoEditorSDK.Operations.FilterOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeFilterOperation',
    value: function _serializeFilterOperation(operation) {
      if (operation.getIdentifier() === 'identity') return null;

      return {
        type: 'filter',
        options: {
          intensity: operation.getIntensity(),
          name: operation.getIdentifier()
        }
      };
    }

    /**
     * Serializes the given adjustments operation
     * @param  {PhotoEditorSDK.Operations.AdjustmentsOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeAdjustmentsOperation',
    value: function _serializeAdjustmentsOperation(operation) {
      var availableOptions = operation.availableOptions;


      var optionNames = ['brightness', 'saturation', 'contrast', 'exposure', 'shadows', 'highlights', 'clarity'];
      var options = {};
      optionNames.forEach(function (optionName) {
        var option = availableOptions[optionName];
        var value = operation.getOption(optionName);
        var minValue = option.minValue,
            midValue = option.midValue,
            maxValue = option.maxValue;

        options[optionName] = value <= midValue ? (value - minValue) / (midValue - minValue) - 1 : (value - midValue) / (maxValue - midValue);
      });
      return {
        type: 'adjustments',
        options: options
      };
    }

    /**
     * Serializes the given sprite operation
     * @return {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @private
     */

  }, {
    key: '_serializeSpriteOperation',
    value: function _serializeSpriteOperation(operation, operations) {
      var _this2 = this;

      var spriteOperations = operations.filter(function (o) {
        return o.type === 'sprite';
      });
      var spriteOperation = void 0;
      var returnOperation = true;
      if (spriteOperations.length) {
        spriteOperation = spriteOperations.pop();
        returnOperation = false;
      } else {
        // No sprite operation exists, create a new one
        spriteOperation = {
          type: 'sprite',
          options: {
            sprites: []
          }
        };
      }

      operation.getSprites().forEach(function (sprite) {
        var spriteItem = null;
        if (sprite instanceof operation.constructor.StickerSprite) {
          spriteItem = _this2._serializeSticker(operation, sprite);
        } else if (sprite instanceof operation.constructor.TextSprite) {
          spriteItem = _this2._serializeText(operation, sprite);
        } else if (sprite instanceof operation.constructor.BrushSprite) {
          spriteItem = _this2._serializeBrush(operation, sprite);
        } else if (sprite instanceof operation.constructor.TextDesignSprite) {
          spriteItem = _this2._serializeTextDesign && _this2._serializeTextDesign(operation, sprite);
        }

        if (spriteItem) {
          spriteOperation.options.sprites.push(spriteItem);
        }
      });

      if (returnOperation) {
        return spriteOperation;
      }
    }

    /**
     * Serializes the given sticker
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeSticker',
    value: function _serializeSticker(operation, sprite) {
      var adjustments = sprite.getAdjustments();

      var options = sprite.serializeOptions(['identifier', 'position', 'dimensions', 'flipVertically', 'flipHorizontally', 'rotation'], true);

      options.name = options.identifier;
      delete options.identifier;

      options.rotation = (options.rotation + TWICE_PI) % TWICE_PI;

      var adjustmentsOptions = adjustments.availableOptions;
      options.adjustments = {
        brightness: adjustments.getBrightness() - adjustmentsOptions.brightness.default,
        saturation: adjustments.getSaturation() - adjustmentsOptions.saturation.default,
        contrast: adjustments.getContrast() - adjustmentsOptions.contrast.default
      };

      return {
        type: 'sticker',
        options: options
      };
    }

    /**
     * Serializes the given text sprite
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.TextSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeText',
    value: function _serializeText(operation, sprite) {
      var options = sprite.serializeOptions(['fontSize', 'lineHeight', 'fontFamily', 'fontWeight', 'alignment', 'color', 'backgroundColor', 'position', 'rotation', 'text', 'maxWidth'], true);
      options.rotation = (options.rotation + TWICE_PI) % TWICE_PI;

      return {
        type: 'text',
        options: options
      };
    }

    /**
     * Serializes the given brush sprite
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeBrush',
    value: function _serializeBrush(operation, sprite) {
      var _this3 = this;

      return {
        type: 'brush',
        options: {
          paths: sprite.getPaths().map(function (path) {
            return _this3._serializePath(path);
          })
        }
      };
    }

    /**
     * Serializes the given path
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Path} path
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializePath',
    value: function _serializePath(path) {
      var options = path.getBrush().serializeOptions(['color', 'size'], true);

      options.points = path.getControlPoints().map(function (point) {
        return point.getPosition().toObject();
      });
      return options;
    }

    /**
     * Serializes the given radial focus operation
     * @param  {PhotoEditorSDK.Operations.RadialFocusOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeRadialFocusOperation',
    value: function _serializeRadialFocusOperation(operation) {
      return {
        type: 'focus',
        options: {
          type: 'radial',
          options: operation.serializeOptions(['position', 'radius', 'gradientRadius', 'blurRadius'], true)
        }
      };
    }

    /**
     * Serializes the given linear focus operation
     * @param  {PhotoEditorSDK.Operations.MirroredFocusOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeLinearFocusOperation',
    value: function _serializeLinearFocusOperation(operation) {
      return {
        type: 'focus',
        options: {
          type: 'linear',
          options: operation.serializeOptions(['start', 'end', 'blurRadius', 'size', 'gradientSize'], true)
        }
      };
    }

    /**
     * Returns the input dimensions for the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getInputDimensionsForOperation',
    value: function _getInputDimensionsForOperation(operation) {
      var operationFound = false;
      var inputDimensions = this._editor.getInputDimensions();

      this._editor.operations.getStack().forEach(function (op) {
        if (op === operation) operationFound = true;
        if (operationFound) return;
        inputDimensions = op.getNewDimensions(inputDimensions);
      });

      return inputDimensions;
    }
  }]);

  return v100Serializer;
}();

/* harmony default export */ __webpack_exports__["a"] = (v100Serializer);


v100Serializer.version = '1.0.0';

/***/ }),
/* 108 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_managers_filter_manager__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_managers_sticker_manager__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_shared_managers_brush_manager__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_shared_managers_font_manager__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_lib_font_loader__ = __webpack_require__(74);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var Brush = void 0;
if (typeof __WEBPACK_IMPORTED_MODULE_6_globals__["p" /* SDK */].Operations.SpriteOperation !== 'undefined') {
  Brush = __WEBPACK_IMPORTED_MODULE_6_globals__["p" /* SDK */].Operations.SpriteOperation.BrushSprite;
}

var v100Deserializer = function () {
  function v100Deserializer(editor, data) {
    _classCallCheck(this, v100Deserializer);

    this._editor = editor;
    this._ui = this._editor.getUI();
    this._data = data;

    this._filterManager = new __WEBPACK_IMPORTED_MODULE_7_shared_managers_filter_manager__["a" /* default */](this._ui, this._getOptions('filter'));
    this._stickerManager = new __WEBPACK_IMPORTED_MODULE_8_shared_managers_sticker_manager__["a" /* default */](this._ui, this._getOptions('sticker'));
    this._brushManager = new __WEBPACK_IMPORTED_MODULE_9_shared_managers_brush_manager__["a" /* default */](this._ui, this._getOptions('brush'));
    this._fontManager = new __WEBPACK_IMPORTED_MODULE_10_shared_managers_font_manager__["a" /* default */](this._ui, this._getOptions('text'));
  }

  _createClass(v100Deserializer, [{
    key: '_getOptions',
    value: function _getOptions(control) {
      var controls = this._editor.controls;

      var defaultOptions = {};
      if (controls && controls.get(control)) {
        defaultOptions = controls.get(control).defaultOptions;
      }

      var editorOptions = this._editor.getOptions();
      return __WEBPACK_IMPORTED_MODULE_6_globals__["q" /* SDKUtils */].deepDefaults({}, editorOptions.editor.controlsOptions[control] || {}, defaultOptions);
    }

    /**
     * Deserializes the given data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize() {
      var _this = this;

      return this._validateVersion().then(function () {
        return _this._deserializeInputImage();
      }).then(function () {
        return _this._deserializeOperations();
      });
    }

    /**
     * Validates the version
     * @return {Promise}
     */

  }, {
    key: '_validateVersion',
    value: function _validateVersion() {
      if (this._data.version !== this.constructor.version) {
        return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.reject(new Error('Invalid version ' + this._data.version + ', expected ' + this.constructor.version));
      }
      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
    }

    /**
     * Deserializes the input image (if present)
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeInputImage',
    value: function _deserializeInputImage() {
      var _this2 = this;

      return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var _data$inputImage = _this2._data.inputImage,
            data = _data$inputImage.data,
            type = _data$inputImage.type;

        if (data && type) {
          var image = new window.Image();
          image.addEventListener('load', function () {
            _this2._editor.setImage(image);
            resolve();
          });
          image.src = 'data:' + type + ';base64,' + data;
        } else {
          resolve();
        }
      });
    }

    /**
     * Deserializes the operations
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeOperations',
    value: function () {
      var _ref = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function _callee() {
        var operations, instances, i, operation, instance;
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                operations = this._data.operations;
                instances = [];
                i = 0;

              case 3:
                if (!(i < operations.length)) {
                  _context.next = 12;
                  break;
                }

                operation = operations[i];
                _context.next = 7;
                return this._deserializeOperation(operation);

              case 7:
                instance = _context.sent;

                instances.push(instance);

              case 9:
                i++;
                _context.next = 3;
                break;

              case 12:
                return _context.abrupt('return', instances);

              case 13:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function _deserializeOperations() {
        return _ref.apply(this, arguments);
      }

      return _deserializeOperations;
    }()

    /**
     * Deserializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeOperation',
    value: function _deserializeOperation(operation) {
      switch (operation.type) {
        case 'crop':
          return this._deserializeCropOperation(operation);
        case 'orientation':
          return this._deserializeOrientationOperation(operation);
        case 'filter':
          return this._deserializeFilterOperation(operation);
        case 'adjustments':
          return this._deserializeAdjustmentsOperation(operation);
        case 'sprite':
          return this._deserializeSpriteOperation(operation);
        case 'focus':
          return this._deserializeFocusOperation(operation);
      }
    }

    /**
     * Deserializes the given crop operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeCropOperation',
    value: function _deserializeCropOperation(operation) {
      var options = operation.options;
      var rotation = options.rotation;

      var start = __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.start);
      var end = __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.end);

      // Normalize rotation
      if (rotation > Math.PI) {
        rotation -= Math.PI * 2;
      }

      var cropOptions = { start: start, end: end };
      if (typeof rotation !== 'undefined') {
        cropOptions.rotation = rotation;
      }

      var transformOperation = this._editor.operations.getOrCreate('transform');
      this._editor.broadcastTransform(transformOperation, cropOptions);
      transformOperation.set(cropOptions);
      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(transformOperation);
    }

    /**
     * Deserializes the given orientation operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeOrientationOperation',
    value: function _deserializeOrientationOperation(operation) {
      var options = operation.options;

      var orientationOperation = this._editor.operations.getOrCreate('orientation');
      if (!orientationOperation) return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
      orientationOperation.set(options);
      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(orientationOperation);
    }

    /**
     * Deserializes the given filter operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFilterOperation',
    value: function _deserializeFilterOperation(operation) {
      var _this3 = this;

      var options = operation.options;


      if (!this._filterManager.getFilterByIdentifier(options.name)) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown filter `' + options.name + '`');
        return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
      }

      return this._filterManager.instantiateFilterWithIdentifier(options.name).then(function (filter) {
        var filterOperation = _this3._editor.operations.getOrCreate('filter');
        filterOperation.set({
          identifier: options.name,
          filter: filter,
          intensity: options.intensity
        });
        return filterOperation;
      });
    }

    /**
     * Deserializes the given adjustments operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeAdjustmentsOperation',
    value: function _deserializeAdjustmentsOperation(operation) {
      var AdjustmentsOperation = __WEBPACK_IMPORTED_MODULE_6_globals__["p" /* SDK */].Operations.AdjustmentsOperation;
      var options = operation.options;


      var knownOptions = ['brightness', 'saturation', 'contrast', 'exposure', 'shadows', 'highlights', 'clarity'];

      var operationOptions = {};

      knownOptions.forEach(function (optionName) {
        if (typeof options[optionName] === 'undefined') return;

        var _AdjustmentsOperation = AdjustmentsOperation.prototype.availableOptions[optionName],
            minValue = _AdjustmentsOperation.minValue,
            midValue = _AdjustmentsOperation.midValue,
            maxValue = _AdjustmentsOperation.maxValue;

        var value = options[optionName];

        value = value < 0 ? midValue + (midValue - minValue) * value : midValue + (maxValue - midValue) * value;
        operationOptions[optionName] = value;
      });

      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('adjustments', operationOptions));
    }

    /**
     * Deserializes the given sprite operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeSpriteOperation',
    value: function _deserializeSpriteOperation(operation) {
      var _this4 = this;

      var options = operation.options;

      var spriteOperation = this._editor.operations.getOrCreate('sprite');
      if (!spriteOperation) return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();

      var promises = options.sprites.map(function (sprite) {
        return _this4._deserializeSprite(spriteOperation, sprite);
      }).filter(function (p) {
        return p;
      });
      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.all(promises).then(function (sprites) {
        spriteOperation.setSprites(sprites.filter(function (s) {
          return s;
        }));
        return spriteOperation;
      });
    }

    /**
     * Deserializes the given sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} spriteOperation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprite} sprite
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeSprite',
    value: function _deserializeSprite(spriteOperation, sprite) {
      switch (sprite.type) {
        case 'sticker':
          return this._deserializeSticker(spriteOperation, sprite);
        case 'text':
          return this._deserializeText(spriteOperation, sprite);
        case 'brush':
          return this._deserializeBrush(spriteOperation, sprite);
        case 'textdesign':
          return this._deserializeTextDesign && this._deserializeTextDesign(spriteOperation, sprite);
      }
    }

    /**
     * Deserializes the given sticker for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} sprite
     * @return {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite}
     * @private
     */

  }, {
    key: '_deserializeSticker',
    value: function _deserializeSticker(operation, sprite) {
      var _this5 = this;

      var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_globals__["p" /* SDK */].Operations.SpriteOperation;
      var options = sprite.options;


      var sticker = this._stickerManager.getStickerByIdentifier(options.name);
      var url = this._stickerManager.getURLForSticker(sticker);
      if (!sticker) {
        __WEBPACK_IMPORTED_MODULE_6_globals__["h" /* Log */].warn('Deserializer', 'Unknown sticker \'' + options.name + '\'. Skipping sprite.');
        return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
      }
      return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var image = new window.Image();
        image.addEventListener('load', function () {
          var adjustments = SpriteOperation.StickerSprite.prototype.availableOptions.adjustments.structure;
          var rotation = options.rotation,
              flipHorizontally = options.flipHorizontally,
              flipVertically = options.flipVertically;

          var stickerOptions = {
            identifier: options.name,
            image: image,
            position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.position),
            dimensions: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.dimensions),
            rotation: rotation,
            flipHorizontally: flipHorizontally,
            flipVertically: flipVertically,
            adjustments: {}
          };

          if (typeof options.adjustments !== 'undefined') {
            ['brightness', 'contrast', 'saturation'].forEach(function (option) {
              if (typeof options.adjustments[option] !== 'undefined') {
                stickerOptions.adjustments[option] = options.adjustments[option] + adjustments[option].default;
              }
            });
          }

          resolve(operation.createSticker(stickerOptions));
        });
        image.crossOrigin = _this5._editor.getCrossOrigin();
        image.src = _this5._editor.getUI().getAssetPath(url);
      });
    }

    /**
     * Deserializes the given text for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} text
     * @return {PhotoEditorSDK.Operations.SpriteOperation.TextSprite}
     * @private
     */

  }, {
    key: '_deserializeText',
    value: function _deserializeText(operation, text) {
      var options = text.options;
      var fontSize = options.fontSize,
          lineHeight = options.lineHeight,
          fontFamily = options.fontFamily,
          fontWeight = options.fontWeight,
          alignment = options.alignment,
          rotation = options.rotation,
          maxWidth = options.maxWidth,
          color = options.color,
          backgroundColor = options.backgroundColor;


      var fontLoader = new __WEBPACK_IMPORTED_MODULE_11_lib_font_loader__["a" /* default */](this._ui);
      var font = this._fontManager.getFontByFontFamily(fontFamily);
      if (!font) font = this._fontManager.getDefaultFont();
      fontLoader.setFonts([font]);
      return fontLoader.load().then(function () {
        return operation.createText({
          fontSize: fontSize,
          lineHeight: lineHeight,
          fontFamily: fontFamily,
          fontWeight: fontWeight,
          alignment: alignment,
          rotation: rotation,
          maxWidth: maxWidth,
          text: options.text,
          color: __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(color),
          backgroundColor: __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(backgroundColor),
          position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.position)
        });
      });
    }

    /**
     * Deserializes the given brush for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} brush
     * @return {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite}
     * @private
     */

  }, {
    key: '_deserializeBrush',
    value: function _deserializeBrush(operation, brush) {
      var _this6 = this;

      var options = brush.options;
      var paths = options.paths;


      var brushSprite = operation.createBrush();
      paths.forEach(function (path) {
        _this6._deserializeBrushPath(brushSprite, path);
      });
      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(brushSprite);
    }
  }, {
    key: '_deserializeBrushPath',
    value: function _deserializeBrushPath(brushSprite, path) {
      var points = path.points;


      var brushInstance = this._createBrushForPath(path);
      var pathObject = brushSprite.createPath(brushInstance);
      pathObject.setClosed(true);
      points.forEach(function (point) {
        pathObject.addControlPoint(__WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(point));
      });
    }

    /**
     * Creates a brush face with the given options
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Path} path
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Brush}
     */

  }, {
    key: '_createBrushForPath',
    value: function _createBrushForPath(path) {
      var color = path.color,
          size = path.size;

      var colorObject = __WEBPACK_IMPORTED_MODULE_6_globals__["c" /* Color */].fromArray(color);

      var brushOptions = {
        color: colorObject,
        size: size
      };

      var rawBrush = this._brushManager.getFirstBrush();
      if (rawBrush.prototype && rawBrush.prototype instanceof Brush) {
        // Custom Brush instance, used for special brushes such as radial brush, which has
        // an additional hardness option
        var BrushClass = rawBrush;
        return new BrushClass(brushOptions);
      } else {
        var _brush = __WEBPACK_IMPORTED_MODULE_6_globals__["q" /* SDKUtils */].extend({}, rawBrush);
        delete _brush.image;

        var _BrushClass = function (_Brush) {
          _inherits(_BrushClass, _Brush);

          function _BrushClass() {
            _classCallCheck(this, _BrushClass);

            return _possibleConstructorReturn(this, (_BrushClass.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(_BrushClass)).apply(this, arguments));
          }

          return _BrushClass;
        }(Brush);

        _BrushClass.identifier = rawBrush.identifier;

        // Plain JS object, used for simple image brushes
        return new _BrushClass(__WEBPACK_IMPORTED_MODULE_6_globals__["q" /* SDKUtils */].extend({}, _brush, brushOptions));
      }
    }

    /**
     * Deserializes the given focus operation
     * @param  {Object} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFocusOperation',
    value: function _deserializeFocusOperation(operation) {
      var options = operation.options.options;

      switch (operation.options.type) {
        case 'radial':
          {
            var position = options.position,
                radius = options.radius,
                gradientRadius = options.gradientRadius,
                blurRadius = options.blurRadius;

            return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('radial-focus', {
              position: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(position),
              radius: radius,
              gradientRadius: gradientRadius,
              blurRadius: blurRadius
            }));
          }
        case 'linear':
          {
            var start = options.start,
                end = options.end,
                size = options.size,
                gradientSize = options.gradientSize,
                _blurRadius = options.blurRadius;

            return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('mirrored-focus', {
              start: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(start),
              end: __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(end),
              size: size,
              gradientSize: gradientSize,
              blurRadius: _blurRadius
            }));
          }
      }
    }

    /**
     * Returns the input dimensions for the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getInputDimensionsForOperation',
    value: function _getInputDimensionsForOperation(operation) {
      var operationFound = false;
      var inputDimensions = this._editor.getInputDimensions();

      this._editor.operations.getStack().forEach(function (op) {
        if (op === operation) operationFound = true;
        if (operationFound) return;
        inputDimensions = op.getNewDimensions(inputDimensions);
      });

      return inputDimensions;
    }
  }]);

  return v100Deserializer;
}();

/* harmony default export */ __webpack_exports__["a"] = (v100Deserializer);


v100Deserializer.version = '1.0.0';

/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(235);


/***/ }),
/* 110 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_globals__ = __webpack_require__(4);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FilterManager = function () {
  function FilterManager(ui, options) {
    _classCallCheck(this, FilterManager);

    this._ui = ui;
    this._options = options;
    this._categoriesById = {};
    this._filtersByIdentifier = {
      identity: __WEBPACK_IMPORTED_MODULE_2_globals__["p" /* SDK */].Operations.FilterOperation.Filters.IdentityFilter
    };

    this._categories = __WEBPACK_IMPORTED_MODULE_2_globals__["r" /* SharedConstants */].DEFAULTS.FILTERS.slice(0);

    this._initCategories();
  }

  _createClass(FilterManager, [{
    key: 'instantiateFilterWithIdentifier',
    value: function instantiateFilterWithIdentifier(identifier) {
      var _this = this;

      var Filter = this.getFilterByIdentifier(identifier);
      if (!Filter) {
        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(new Error('Unknown filter with identifier `' + identifier + '`!'));
      }

      if (!(Filter.prototype instanceof __WEBPACK_IMPORTED_MODULE_2_globals__["p" /* SDK */].Operations.FilterOperation.Filter)) {
        var lutImage = Filter.lutImage,
            resolution = Filter.resolution,
            horizontalTileCount = Filter.horizontalTileCount,
            verticalTileCount = Filter.verticalTileCount;

        var preloadedImage = void 0;
        if (this._ui.getPreloader) {
          preloadedImage = this._ui.getPreloader().getAsset(lutImage);
        }
        var loadPromise = void 0;
        if (preloadedImage) {
          loadPromise = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(preloadedImage);
        } else {
          loadPromise = __WEBPACK_IMPORTED_MODULE_2_globals__["g" /* ImageLoader */].load(this._ui.getAssetPath(lutImage));
        }

        return loadPromise.then(function (image) {
          return __WEBPACK_IMPORTED_MODULE_2_globals__["g" /* ImageLoader */].load(_this._ui.getAssetPath(lutImage)).then(function (image) {
            return new __WEBPACK_IMPORTED_MODULE_2_globals__["p" /* SDK */].Operations.FilterOperation.Filters.ThreeDLUTFilter({
              image: image, resolution: resolution, horizontalTileCount: horizontalTileCount, verticalTileCount: verticalTileCount
            });
          });
        });
      } else {
        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(new Filter());
      }
    }

    /**
     * Initializes the categories
     * @private
     */

  }, {
    key: '_initCategories',
    value: function _initCategories() {
      var _this2 = this;

      // Should the categories passed in by the user replace the existing ones?
      if (this._options.categories) {
        if (this._options.replaceCategories) {
          this._categories = this._options.categories;
        } else {
          this._categories = __WEBPACK_IMPORTED_MODULE_2_globals__["u" /* Utils */].mergeCategories(this._categories, this._options.categories, 'filters');
        }
      }

      // Remove filters that should not be selectable
      if (this._options.availableFilters) {
        var newCategories = [];
        this._categories.forEach(function (category) {
          var filters = category.filters.filter(function (f) {
            return _this2._options.availableFilters.indexOf(f.identifier) !== -1;
          });
          if (filters.length > 0) {
            newCategories.push({
              identifier: category.identifier,
              defaultName: category.defaultName,
              filters: filters
            });
          }
        });
        this._categories = newCategories;
      }

      var allCategory = {
        identifier: 'all',
        defaultName: 'All',
        filters: this._categories.length <= 0 ? [] : this._categories.map(function (c) {
          return c.filters;
        }).reduce(function (a, b) {
          return a.concat(b);
        })
      };
      this._categories.unshift(allCategory);
      this._categoriesById.all = allCategory;
      this._categories.forEach(function (c) {
        _this2._categoriesById[c.identifier] = c;
      });
      allCategory.filters.forEach(function (filter) {
        _this2._filtersByIdentifier[filter.identifier] = filter;
      });
    }

    /**
     * Returns the filters for the category with the given name
     * @param  {String} categoryIdentifier
     * @return {Object[]}
     */

  }, {
    key: 'getFiltersForCategory',
    value: function getFiltersForCategory(categoryIdentifier) {
      if (!this._categoriesById[categoryIdentifier]) {
        throw new Error('Unknown filter category \'' + categoryIdentifier + '\'');
      }
      return this._categoriesById[categoryIdentifier].filters;
    }

    /**
     * Returns the filter with the given identifier
     * @param  {String} identifier
     * @return {PhotoEditorSDK.Filter}
     */

  }, {
    key: 'getFilterByIdentifier',
    value: function getFilterByIdentifier(identifier) {
      return this._filtersByIdentifier[identifier];
    }

    /**
     * Returns the categories
     * @return {Object[]}
     */

  }, {
    key: 'getCategories',
    value: function getCategories() {
      return this._categories;
    }

    /**
     * Returns the category with the given identifier
     * @param  {String} identifier
     * @return {Object}
     */

  }, {
    key: 'getCategoryByIdentifier',
    value: function getCategoryByIdentifier(identifier) {
      return this._categoriesById[identifier];
    }
  }]);

  return FilterManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (FilterManager);

/***/ }),
/* 111 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var BrushManager = function () {
  function BrushManager(ui, options) {
    _classCallCheck(this, BrushManager);

    this._ui = ui;
    this._options = options;
    this._brushes = [];
    this._brushesById = {};

    this._addBrushes(__WEBPACK_IMPORTED_MODULE_1_globals__["d" /* Constants */].DEFAULTS.BRUSHES);

    var _options = this._options,
        brushes = _options.brushes,
        replaceBrushes = _options.replaceBrushes,
        availableBrushes = _options.availableBrushes;

    if (this._options.brushes) {
      this._addBrushes(brushes, replaceBrushes);
    }

    if (availableBrushes) {
      this._brushes = this._brushes.filter(function (brush) {
        return availableBrushes.indexOf(brush.identifier) !== -1;
      });
    }
  }

  _createClass(BrushManager, [{
    key: '_addBrushes',
    value: function _addBrushes(brushes, replaceBrushes) {
      var _this = this;

      if (replaceBrushes) {
        this._brushes = [];
        this._brushesById = {};
      }

      brushes.forEach(function (brush) {
        _this._brushes.push(brush);
        _this._brushesById[brush.identifier] = brush;
      });
    }

    /**
     * Returns the brush with the given identifier
     * @param  {String} identifier
     */

  }, {
    key: 'getBrushByIdentifier',
    value: function getBrushByIdentifier(identifier) {
      return this._brushesById[identifier];
    }

    /**
     * Returns all brushes
     * @return {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Brush[]}
     */

  }, {
    key: 'getBrushes',
    value: function getBrushes() {
      return this._brushes;
    }

    /**
     * Returns the first available brush
     * @return {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Brush}
     */

  }, {
    key: 'getFirstBrush',
    value: function getFirstBrush() {
      return this._brushes[0];
    }
  }]);

  return BrushManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (BrushManager);

/***/ }),
/* 112 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FONT_WEIGHTS = {
  100: 'Extra Light',
  200: 'Light',
  300: 'Book',
  400: 'Regular',
  500: 'Medium',
  600: 'Semibold',
  700: 'Bold',
  800: 'Black',
  900: 'Extra Black',
  bold: 'Bold',
  normal: 'Regular'
};

var FontVariation = function (_Configurable) {
  _inherits(FontVariation, _Configurable);

  function FontVariation() {
    _classCallCheck(this, FontVariation);

    return _possibleConstructorReturn(this, (FontVariation.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FontVariation)).apply(this, arguments));
  }

  _createClass(FontVariation, [{
    key: 'getLabel',

    /**
     * Returns the label for this variation
     * @return {String}
     */
    value: function getLabel() {
      var label = FONT_WEIGHTS[this._options.fontWeight];

      switch (this._options.fontStyle) {
        case 'italic':
          label += ' Italic';
          break;
      }

      return label;
    }
  }]);

  return FontVariation;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Configurable"]);

/**
 * Specifies the available options for the FontVariation class
 * @type {Object}
 * @ignore
 */


/* harmony default export */ __webpack_exports__["a"] = (FontVariation);
FontVariation.prototype.availableOptions = {
  identifier: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].STRING, required: true },
  fontFamily: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].STRING, required: true },
  fontWeight: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].ALL, default: 400 },
  fontStyle: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].STRING, default: 'normal' },
  textMetrics: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].OBJECT, default: null },
  provider: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].STRING, available: ['google', 'file'] },
  filePath: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].STRING },
  default: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].BOOLEAN, default: false },
  font: { type: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["OptionType"].OBJECT }
};

/***/ }),
/* 113 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__font_observer__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var BaseFontLoader = function () {
  function BaseFontLoader(ui) {
    _classCallCheck(this, BaseFontLoader);

    this._ui = ui;
    this._fonts = [];
    this._observers = [];
  }

  /**
   * Adds the given font to the list of fonts to load
   * @param {Object} variation
   */


  _createClass(BaseFontLoader, [{
    key: 'add',
    value: function add(variation) {
      this._fonts.push(variation);
    }

    /**
     * Loads the fonts
     */

  }, {
    key: 'load',
    value: function load() {
      var _this = this;

      if (this._fonts.length === 0) {
        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve();
      }

      this._observers = [];
      this._fonts.forEach(function (variation) {
        _this._observers.push(new __WEBPACK_IMPORTED_MODULE_2__font_observer__["a" /* default */](variation));
      });

      return __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__["Utils"].executePromises(this._observers.map(function (observer) {
        return observer.observe();
      }));

      // return Promise.all(
      //   this._observers.map(observer => observer.observe())
      // )
    }

    /**
     * Disposes the observers
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      this._observers.forEach(function (observer) {
        return observer.dispose();
      });
    }
  }]);

  return BaseFontLoader;
}();

/* harmony default export */ __webpack_exports__["a"] = (BaseFontLoader);

/***/ }),
/* 114 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__1_0_0_serializer__ = __webpack_require__(107);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var TWICE_PI = Math.PI * 2;

var v101Serializer = function (_PreviousSerializer) {
  _inherits(v101Serializer, _PreviousSerializer);

  function v101Serializer() {
    _classCallCheck(this, v101Serializer);

    return _possibleConstructorReturn(this, (v101Serializer.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(v101Serializer)).apply(this, arguments));
  }

  _createClass(v101Serializer, [{
    key: '_serializeTransformOperation',

    /**
     * Serializes the given transform operation
     * @param  {PhotoEditorSDK.Operation.TransformOperation} operation
     * @return {Object}
     * @private
     */
    value: function _serializeTransformOperation(operation) {
      var options = operation.serializeOptions(['start', 'end', 'rotation', 'textureScale'], true);
      options.rotation = (options.rotation + TWICE_PI) % TWICE_PI;
      if (options.textureScale !== 1) {
        options.dimensions = operation.getNewDimensions(operation.getInputDimensions(false));
      }

      delete options.textureScale;
      return {
        type: 'crop',
        options: options
      };
    }
  }]);

  return v101Serializer;
}(__WEBPACK_IMPORTED_MODULE_4__1_0_0_serializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v101Serializer);


v101Serializer.version = '1.0.1';

/***/ }),
/* 115 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__1_0_0_deserializer__ = __webpack_require__(108);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var v101Deserializer = function (_PreviousDeserializer) {
  _inherits(v101Deserializer, _PreviousDeserializer);

  function v101Deserializer() {
    _classCallCheck(this, v101Deserializer);

    return _possibleConstructorReturn(this, (v101Deserializer.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v101Deserializer)).apply(this, arguments));
  }

  _createClass(v101Deserializer, [{
    key: '_deserializeOperation',

    /**
     * Deserializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {Promise}
     * @private
     */
    value: function _deserializeOperation(operation) {
      if (operation.type === 'selective-blur') {
        return this._deserializeSelectiveBlurOperation(operation);
      }
      return _get(v101Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(v101Deserializer.prototype), '_deserializeOperation', this).call(this, operation);
    }

    /**
     * Deserializes the given crop operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeCropOperation',
    value: function _deserializeCropOperation(operation) {
      // New in 1.0.1: `dimensions` option
      var options = operation.options;
      var rotation = options.rotation;

      var start = __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.start);
      var end = __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.end);
      var dimensions = options.dimensions ? __WEBPACK_IMPORTED_MODULE_6_globals__["v" /* Vector2 */].fromObject(options.dimensions) : null;

      // Normalize rotation
      if (rotation > Math.PI) {
        rotation -= Math.PI * 2;
      }

      var cropOptions = {
        start: start, end: end
      };

      if (typeof rotation !== 'undefined') cropOptions.rotation = rotation;

      var transformOperation = this._editor.operations.getOrCreate('transform');
      if (!transformOperation) return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();

      this._editor.broadcastTransform(transformOperation, cropOptions);
      transformOperation.set(cropOptions);

      if (dimensions) {
        var size = end.clone().subtract(start);
        var transformDimensions = transformOperation.getInputDimensions(false).multiply(size);
        transformOperation.setTextureScale(dimensions.x / transformDimensions.x);
      }

      return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve(transformOperation);
    }
  }]);

  return v101Deserializer;
}(__WEBPACK_IMPORTED_MODULE_7__1_0_0_deserializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v101Deserializer);


v101Deserializer.version = '1.0.1';

/***/ }),
/* 116 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _OverlayFilter$BLEND_;

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var OverlayFilter = __WEBPACK_IMPORTED_MODULE_1_globals__["p" /* SDK */].Engine.Filters.OverlayFilter;


/* harmony default export */ __webpack_exports__["a"] = (_OverlayFilter$BLEND_ = {}, _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.NORMAL, 'normal'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.OVERLAY, 'overlay'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.HARD_LIGHT, 'hard light'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.SOFT_LIGHT, 'soft light'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.MULTIPLY, 'multiply'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.DARKEN, 'darken'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.LIGHTEN, 'lighten'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.SCREEN, 'screen'), _defineProperty(_OverlayFilter$BLEND_, OverlayFilter.BLEND_MODES.COLOR_BURN, 'color burn'), _OverlayFilter$BLEND_);

/***/ }),
/* 117 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FrameManager = function () {
  function FrameManager(ui, options) {
    _classCallCheck(this, FrameManager);

    this._ui = ui;
    this._options = options;

    this._categoriesById = {};
    this._categories = [];
    this._framesById = {};

    this._addCategories(__WEBPACK_IMPORTED_MODULE_1_globals__["r" /* SharedConstants */].DEFAULTS.FRAME_CATEGORIES);

    var _options = this._options,
        categories = _options.categories,
        replaceCategories = _options.replaceCategories;

    if (this._options.categories) {
      this._addCategories(categories, replaceCategories);
    } else {
      this._updateAllCategory();
    }
  }

  /**
   * Initializes the categories
   * @param {Object[]} categories
   * @param {Boolean} replace = false
   * @private
   */


  _createClass(FrameManager, [{
    key: '_addCategories',
    value: function _addCategories(categories) {
      var _this = this;

      var replace = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      if (replace) {
        this._categories = categories.slice(0);
      } else {
        this._categories = __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].mergeCategories(this._categories, categories, 'frames');
      }

      // Build cat id => category hash
      this._categoriesById = {};
      this._categories.forEach(function (c) {
        _this._categoriesById[c.identifier] = c;
      });

      // Filter frames
      var availableFrames = this._options.availableFrames;

      if (availableFrames) {
        this._categories.forEach(function (c) {
          c.frames = c.frames.filter(function (f) {
            return availableFrames.indexOf(f.identifier) !== -1;
          });
        });
      }

      // Build frame id => frame hash
      this._categories.forEach(function (c) {
        c.frames.forEach(function (s) {
          _this._framesById[s.identifier] = s;
        });
      });

      this._updateAllCategory();
    }

    /**
     * Updates the `all` category which contains all frames
     * @private
     */

  }, {
    key: '_updateAllCategory',
    value: function _updateAllCategory() {
      this._allCategory = {
        identifier: 'all',
        defaultName: 'All',
        frames: this._categories.map(function (c) {
          return c.frames;
        }).reduce(function (a, b) {
          return a.concat(b);
        }, [])
      };
      this._categoriesById.all = this._allCategory;
    }

    /**
     * Returns the frames for the category with the given name
     * @param  {String} categoryName
     * @return {Object[]}
     */

  }, {
    key: 'getFramesForCategory',
    value: function getFramesForCategory(categoryName) {
      if (!this._categoriesById[categoryName]) {
        throw new Error('Unknown frame category \'' + categoryName + '\'');
      }
      return this._categoriesById[categoryName].frames;
    }

    /**
     * Returns the frame with the given identifier
     * @param  {String} identifier
     */

  }, {
    key: 'getFrameByIdentifier',
    value: function getFrameByIdentifier(identifier) {
      return this._framesById[identifier];
    }

    /**
     * Returns the categories
     * @return {Object[]}
     */

  }, {
    key: 'getCategories',
    value: function getCategories() {
      return this._categories;
    }

    /**
     * Returns the category object for the given id
     * @param  {String} id
     * @return {Object}
     */

  }, {
    key: 'getCategory',
    value: function getCategory(id) {
      return this._categoriesById[id];
    }
  }]);

  return FrameManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (FrameManager);

/***/ }),
/* 118 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var OverlayManager = function () {
  function OverlayManager(ui, options) {
    var _this = this;

    _classCallCheck(this, OverlayManager);

    this._ui = ui;
    this._options = options;
    this._overlays = __WEBPACK_IMPORTED_MODULE_1_globals__["r" /* SharedConstants */].DEFAULTS.OVERLAYS.slice(0);
    this._overlaysByIdentifier = {};

    if (options.overlays) {
      if (options.replaceOverlays) {
        this._overlays = options.overlays;
      } else {
        this._overlays = this._overlays.concat(options.overlays);
      }
    }

    // Filter available
    if (options.availableOverlays) {
      this._overlays = this._overlays.filter(function (o) {
        return options.availableOverlays.indexOf(o.identifier) !== -1;
      });
    }

    this._overlays.forEach(function (overlay) {
      _this._overlaysByIdentifier[overlay.identifier] = overlay;
    });
  }

  /**
   * Returns the overlays
   * @return {Object[]}
   */


  _createClass(OverlayManager, [{
    key: 'getOverlays',
    value: function getOverlays() {
      return this._overlays;
    }

    /**
     * Returns the overlay with the given identifier
     * @param  {String} identifier
     * @return {Object}
     */

  }, {
    key: 'getOverlayByIdentifier',
    value: function getOverlayByIdentifier(identifier) {
      return this._overlaysByIdentifier[identifier];
    }
  }]);

  return OverlayManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (OverlayManager);

/***/ }),
/* 119 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var OptionType = __WEBPACK_IMPORTED_MODULE_5__globals__["p" /* SDK */].OptionType;

var Frame = function (_SDK$Configurable) {
  _inherits(Frame, _SDK$Configurable);

  function Frame(ui) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    _classCallCheck(this, Frame);

    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(Frame)).call(this, options));

    _this._loaded = false;
    _this._loading = false;
    _this._ui = ui;
    _this._frame = __WEBPACK_IMPORTED_MODULE_5__globals__["p" /* SDK */].Utils.deepClone(_this._options);
    return _this;
  }

  /**
   * Loads the images of this frame
   * @return {Promise}
   */


  _createClass(Frame, [{
    key: 'load',
    value: function load() {
      var _this2 = this;

      if (this._loaded) return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve();
      if (this._loading) return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.reject(new Error('Called Frame#load while it\'s already loading'));

      this._loading = true;
      var imageGroups = this._frame.imageGroups;


      var promises = [];
      ['top', 'left', 'right', 'bottom'].forEach(function (groupName) {
        if (!(groupName in imageGroups)) return;

        var group = imageGroups[groupName];
        ['start', 'mid', 'end'].forEach(function (partName) {
          if (!(partName in group)) return;

          promises.push(_this2._loadPart(groupName, partName));
        });
      });

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.all(promises).then(function () {
        _this2._loaded = true;
        _this2._loading = false;
      }).catch(function (e) {
        _this2._loaded = false;
        _this2._loading = false;
      });
    }

    /**
     * Loads the given part of the given group
     * @param  {String} groupName
     * @param  {String} partName
     * @return {Promise}
     * @private
     */

  }, {
    key: '_loadPart',
    value: function _loadPart(groupName, partName) {
      var _this3 = this;

      return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var imageGroups = _this3._frame.imageGroups;


        var part = imageGroups[groupName][partName];
        var imageUrl = part;
        // `part` can also be an object containing `mode` and `image`
        if (typeof part !== 'string' && 'image' in part) {
          imageUrl = part.image;
        }

        var image = new window.Image();

        image.addEventListener('load', function () {
          if (typeof part !== 'string') {
            _this3._frame.imageGroups[groupName][partName].image = image;
          } else {
            _this3._frame.imageGroups[groupName][partName] = image;
          }

          resolve(image);
        });

        image.addEventListener('error', function () {
          reject(new Error('Failed to load image at ' + imageUrl));
        });

        image.crossOrigin = _this3._ui.getEditor().getCrossOrigin();
        image.src = _this3._ui.getAssetPath(imageUrl);
      });
    }

    /**
     * Returns the frame
     * @return {Object}
     */

  }, {
    key: 'getFrame',
    value: function getFrame() {
      return this._frame;
    }
  }]);

  return Frame;
}(__WEBPACK_IMPORTED_MODULE_5__globals__["p" /* SDK */].Configurable);

/**
 * Specifies the available options for the Frame class
 * @type {Object}
 * @ignore
 */


/* harmony default export */ __webpack_exports__["a"] = (Frame);
Frame.prototype.availableOptions = {
  identifier: { type: OptionType.STRING, required: true },
  defaultName: { type: OptionType.STRING },
  thumbnail: { type: OptionType.STRING },
  tintable: { type: OptionType.BOOLEAN, default: false },
  layoutMode: {
    type: OptionType.STRING,
    default: 'horizontal-inside',
    available: ['horizontal-inside', 'vertical-inside']
  },
  imageGroups: { type: OptionType.OBJECT, required: true }
};

/***/ }),
/* 120 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__2_0_0_serializer__ = __webpack_require__(75);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var v300Serializer = function (_PreviousSerializer) {
  _inherits(v300Serializer, _PreviousSerializer);

  function v300Serializer() {
    _classCallCheck(this, v300Serializer);

    return _possibleConstructorReturn(this, (v300Serializer.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer)).apply(this, arguments));
  }

  _createClass(v300Serializer, [{
    key: 'serialize',

    /**
     * Serializes the editor state
     * @param {Object} options = {}
     * @return {Promise}
     */
    value: function serialize() {
      var _this2 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      return _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), 'serialize', this).call(this, options).then(function (data) {
        data.meta = {
          platform: 'html5',
          version: _this2._editor.getSDK().version,
          createdAt: __WEBPACK_IMPORTED_MODULE_5_globals__["q" /* SDKUtils */].ISODateString(new Date())
        };
        data.image = data.inputImage;
        delete data.inputImage;
        return data;
      });
    }

    /**
     * Serializes the given sticker
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeSticker',
    value: function _serializeSticker(operation, sprite) {
      var response = _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeSticker', this).call(this, operation, sprite);
      response.options.alpha = sprite.getAlpha();

      if (response.options.tintColor) {
        response.options.tintColor = {
          rgba: response.options.tintColor
        };
      }

      return response;
    }

    /**
     * Serializes the given text sprite
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.TextSprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeText',
    value: function _serializeText(operation, sprite) {
      var response = _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeText', this).call(this, operation, sprite);
      response.options.color = {
        rgba: response.options.color
      };
      response.options.backgroundColor = {
        rgba: response.options.backgroundColor
      };
      response.options.flipHorizontally = false;
      response.options.flipVertically = false;
      delete response.options.fontWeight;
      return response;
    }

    /**
     * Serializes the given path
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Path} path
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializePath',
    value: function _serializePath(path) {
      var response = _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializePath', this).call(this, path);

      delete response.hardness;
      delete response.size;
      delete response.color;

      var brush = path.getBrush();
      response.brush = brush.serializeOptions(['identifier', 'size', 'color'], true);
      if (typeof response.brush.identifier === 'undefined') {
        delete response.brush.identifier;
      }
      response.brush.color = {
        rgba: response.brush.color
      };

      var hardness = brush.getOption('hardness');
      if (hardness !== 'undefined') {
        response.brush.hardness = hardness;
      }
      return response;
    }

    /**
     * Serializes the frame operation
     * @param {PhotoEditorSDK.Operation.FrameOperation} operation
     * @param {PhotoEditorSDK.Operation[]} operations
     * @private
     */

  }, {
    key: '_serializeFrameOperation',
    value: function _serializeFrameOperation(operation, operations) {
      _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeFrameOperation', this).call(this, operation, operations);

      // Find sprite operation and frame sprite from serialized data
      var spriteOperations = operations.filter(function (o) {
        return o.type === 'sprite';
      });
      var spriteOperation = void 0;
      if (spriteOperations.length) {
        spriteOperation = spriteOperations.pop();
        var frame = spriteOperation.options.sprites.filter(function (s) {
          return s.type === 'frame';
        })[0];

        var tintColor = operation.getTintColor();
        if (!tintColor.equals(new __WEBPACK_IMPORTED_MODULE_5_globals__["c" /* Color */](1, 1, 1, 0))) {
          frame.options.tintColor = {
            rgba: operation.serializeOption('tintColor', true)
          };
        }

        var options = operation.serializeOptions(['scale', 'alpha'], true);
        frame.options = __WEBPACK_IMPORTED_MODULE_5_globals__["q" /* SDKUtils */].extend(frame.options, options);
        frame.options.size = frame.options.scale;
        delete frame.options.scale;
      }
    }

    /**
     * Serializes the given transform operation
     * @param  {PhotoEditorSDK.Operation.TransformOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeTransformOperation',
    value: function _serializeTransformOperation(operation) {
      var response = _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeTransformOperation', this).call(this, operation);

      if (operation._ratio) {
        response.options.meta = {
          identifier: operation._ratio.identifier
        };
      }
      delete response.options.scale;

      return response;
    }

    /**
     * Serializes the given adjustments operation
     * @param  {PhotoEditorSDK.Operations.AdjustmentsOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeAdjustmentsOperation',
    value: function _serializeAdjustmentsOperation(operation) {
      var response = _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeAdjustmentsOperation', this).call(this, operation);

      var availableOptions = operation.availableOptions;

      var option = availableOptions.gamma;
      var value = operation.getGamma();
      var minValue = option.minValue,
          midValue = option.midValue,
          maxValue = option.maxValue;

      response.options.gamma = value <= midValue ? (value - minValue) / (midValue - minValue) - 1 : (value - midValue) / (maxValue - midValue);
      return response;
    }

    /**
     * Serializes the given operation
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {PhotoEditorSDK.Operation[]} operations
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeOperation',
    value: function _serializeOperation(operation, operations) {
      switch (operation.constructor.identifier) {
        case 'mirrored-focus':
          return this._serializeMirroredFocusOperation(operation);
        case 'linear-focus':
          return this._serializeLinearFocusOperation(operation);
        case 'blur':
          return this._serializeBlurOperation(operation);
        default:
          return _get(v300Serializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v300Serializer.prototype), '_serializeOperation', this).call(this, operation, operations);
      }
    }

    /**
     * Serializes the given mirrored focus operation
     * @param  {PhotoEditorSDK.Operations.MirroredFocusOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeMirroredFocusOperation',
    value: function _serializeMirroredFocusOperation(operation) {
      return {
        type: 'focus',
        options: {
          type: 'mirrored',
          options: operation.serializeOptions(['start', 'end', 'blurRadius', 'size', 'gradientSize'], true)
        }
      };
    }

    /**
     * Serializes the given linear focus operation
     * @param  {PhotoEditorSDK.Operations.LinearFocusOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeLinearFocusOperation',
    value: function _serializeLinearFocusOperation(operation) {
      var options = operation.serializeOptions(['controlPoint1', 'controlPoint2', 'blurRadius'], true);
      options.start = options.controlPoint1;
      delete options.controlPoint1;
      options.end = options.controlPoint2;
      delete options.controlPoint2;

      return {
        type: 'focus',
        options: {
          type: 'linear',
          options: options
        }
      };
    }

    /**
     * Serializes the given blur operation
     * @param  {PhotoEditorSDK.Operations.BlurOperation} operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_serializeBlurOperation',
    value: function _serializeBlurOperation(operation) {
      return {
        type: 'focus',
        options: {
          type: 'gaussian',
          options: operation.serializeOptions(['blurRadius'], true)
        }
      };
    }
  }]);

  return v300Serializer;
}(__WEBPACK_IMPORTED_MODULE_6__2_0_0_serializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v300Serializer);


v300Serializer.version = '3.0.0';

/***/ }),
/* 121 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__2_0_0_deserializer__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_shared_managers_sticker_manager__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_shared_managers_text_design_manager__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_shared_loaders_image_loader__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_shared_managers_font_manager__ = __webpack_require__(51);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var Brush = void 0;
if (typeof __WEBPACK_IMPORTED_MODULE_7_globals__["p" /* SDK */].Operations.SpriteOperation !== 'undefined') {
  Brush = __WEBPACK_IMPORTED_MODULE_7_globals__["p" /* SDK */].Operations.SpriteOperation.BrushSprite.Brush;
}

var v300Deserializer = function (_PreviousDeserializer) {
  _inherits(v300Deserializer, _PreviousDeserializer);

  function v300Deserializer() {
    _classCallCheck(this, v300Deserializer);

    return _possibleConstructorReturn(this, (v300Deserializer.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(v300Deserializer)).apply(this, arguments));
  }

  _createClass(v300Deserializer, [{
    key: '_deserializeSticker',

    /**
     * Deserializes the given sticker for the given operation
     * @param  {Object} operation
     * @param  {Object} sprite
     * @return {PhotoEditorSDK.Operations.SpriteOperation.StickerSprite}
     * @private
     */
    value: function _deserializeSticker(operation, sprite) {
      var SpriteOperation = __WEBPACK_IMPORTED_MODULE_7_globals__["p" /* SDK */].Operations.SpriteOperation;
      var options = sprite.options;

      var sticker = this._stickerManager.getStickerByIdentifier(options.identifier);
      if (!sticker) {
        __WEBPACK_IMPORTED_MODULE_7_globals__["h" /* Log */].warn('Deserializer', 'Unknown sticker `' + options.identifier + '`. Skipping sprite.');
        return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
      }
      var url = __WEBPACK_IMPORTED_MODULE_9_shared_managers_sticker_manager__["a" /* default */].getURLForSticker(sticker, 'base');
      var resolvedUrl = this._editor.getUI().getAssetPath(url);
      var inputDimensions = operation.getInputDimensions(false);
      return __WEBPACK_IMPORTED_MODULE_11_shared_loaders_image_loader__["a" /* default */].load(resolvedUrl).then(function (image) {
        var adjustments = SpriteOperation.StickerSprite.prototype.availableOptions.adjustments.structure;
        var rotation = options.rotation,
            flipHorizontally = options.flipHorizontally,
            flipVertically = options.flipVertically;

        var stickerOptions = {
          identifier: options.identifier,
          image: image,
          position: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(options.position),
          dimensions: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(options.dimensions).multiply(inputDimensions.min()),
          rotation: rotation || 0,
          flipHorizontally: flipHorizontally,
          flipVertically: flipVertically,
          adjustments: {}
        };

        if (typeof options.adjustments !== 'undefined') {
          ['brightness', 'contrast', 'saturation'].forEach(function (option) {
            if (typeof options.adjustments[option] !== 'undefined') {
              stickerOptions.adjustments[option] = options.adjustments[option] + adjustments[option].default;
            }
          });
        }

        if (typeof options.tintColor !== 'undefined' && typeof sticker.tintMode !== 'undefined') {
          stickerOptions.tintColor = __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(options.tintColor.rgba);
          stickerOptions.tintMode = sticker.tintMode;
        }

        if (typeof options.alpha !== 'undefined') {
          stickerOptions.alpha = options.alpha;
        }

        return operation.createSticker(stickerOptions);
      });
    }

    /**
     * Deserializes the given transform operation
     * @param  {Object} operationData
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeTransformOperation',
    value: function _deserializeTransformOperation(operationData) {
      return _get(v300Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(v300Deserializer.prototype), '_deserializeTransformOperation', this).call(this, operationData).then(function (operation) {
        if (!operation) return;

        // TODO: Get correct ratio
        operation._ratio = null;
        return operation;
      });
    }

    /**
     * Deserializes the input image (if present)
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeInputImage',
    value: function _deserializeInputImage() {
      var _this2 = this;

      var _data$image = this._data.image,
          data = _data$image.data,
          type = _data$image.type,
          uri = _data$image.uri;


      if (data && type) {
        uri = 'data:' + type + ';base64,' + data;
      }

      if (uri) {
        return __WEBPACK_IMPORTED_MODULE_11_shared_loaders_image_loader__["a" /* default */].load(uri).then(function (image) {
          _this2._editor.setImage(image);
        });
      } else {
        return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
      }
    }

    /**
     * Deserializes the given adjustments operation
     * @param  {Object} operationData
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeAdjustmentsOperation',
    value: function _deserializeAdjustmentsOperation(operationData) {
      var AdjustmentsOperation = __WEBPACK_IMPORTED_MODULE_7_globals__["p" /* SDK */].Operations.AdjustmentsOperation;

      return _get(v300Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(v300Deserializer.prototype), '_deserializeAdjustmentsOperation', this).call(this, operationData).then(function (operation) {
        if (!operation) return null;

        var options = operationData.options;

        if (typeof options.gamma !== 'undefined') {
          var _AdjustmentsOperation = AdjustmentsOperation.prototype.availableOptions.gamma,
              minValue = _AdjustmentsOperation.minValue,
              midValue = _AdjustmentsOperation.midValue,
              maxValue = _AdjustmentsOperation.maxValue;

          operation.setGamma(options.gamma < 0 ? midValue + (midValue - minValue) * options.gamma : midValue + (maxValue - midValue) * options.gamma);
        }
        return operation;
      });
    }

    /**
     * Deserializes the given focus operation
     * @param  {Object} operationData
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFocusOperation',
    value: function _deserializeFocusOperation(operationData) {
      var options = operationData.options.options;

      switch (operationData.options.type) {
        case 'radial':
          return _get(v300Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(v300Deserializer.prototype), '_deserializeFocusOperation', this).call(this, operationData);
        case 'linear':
          {
            var start = options.start,
                end = options.end,
                blurRadius = options.blurRadius;

            return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('linear-focus', {
              controlPoint1: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(start),
              controlPoint2: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(end),
              blurRadius: blurRadius
            }));
          }
        case 'mirrored':
          {
            var _start = options.start,
                _end = options.end,
                size = options.size,
                gradientSize = options.gradientSize,
                _blurRadius = options.blurRadius;

            return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('mirrored-focus', {
              start: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(_start),
              end: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(_end),
              size: size,
              gradientSize: gradientSize,
              blurRadius: _blurRadius
            }));
          }
        case 'gaussian':
          {
            var _blurRadius2 = options.blurRadius;

            return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(this._editor.operations.getOrCreate('blur', {
              blurRadius: _blurRadius2
            }));
          }
      }
    }

    /**
     * Deserializes the given text for the given operation
     * @param  {PhotoEditorSDK.Operations.SpriteOperation} operation
     * @param  {Object} text
     * @return {PhotoEditorSDK.Operations.SpriteOperation.TextSprite}
     * @private
     */

  }, {
    key: '_deserializeText',
    value: function _deserializeText(operation, text) {
      var options = text.options;
      var fontSize = options.fontSize,
          lineHeight = options.lineHeight,
          fontIdentifier = options.fontIdentifier,
          alignment = options.alignment,
          rotation = options.rotation,
          maxWidth = options.maxWidth,
          color = options.color,
          backgroundColor = options.backgroundColor;


      var fontLoader = this._ui.getFontLoader();
      var variation = this._fontManager.getVariationByIdentifier(fontIdentifier);
      if (!variation) {
        variation = this._fontManager.getDefaultVariation();
      } else {
        fontLoader.setFonts([variation.getFont()]);
      }
      return fontLoader.load().then(function () {
        var inputDimensions = operation.getInputDimensions(false);

        // For whatever reason, max width is relative to shortest side, while font size isn't
        var fixedMaxWidth = maxWidth * inputDimensions.min() / inputDimensions.x;
        return operation.createText({
          fontSize: fontSize,
          lineHeight: lineHeight,
          fontFamily: variation.getFontFamily(),
          fontWeight: variation.getFontWeight(),
          fontIdentifier: variation.getIdentifier(),
          textMetrics: variation.getTextMetrics(),
          alignment: alignment,
          rotation: rotation,
          maxWidth: fixedMaxWidth,
          text: options.text,
          color: __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(color.rgba),
          backgroundColor: __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(backgroundColor.rgba),
          position: __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */].fromObject(options.position)
        });
      });
    }

    /**
     * Creates a brush face with the given options
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Path} path
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprites.BrushSprite.Brush}
     */

  }, {
    key: '_createBrushForPath',
    value: function _createBrushForPath(path) {
      var _path$brush = path.brush,
          identifier = _path$brush.identifier,
          color = _path$brush.color,
          size = _path$brush.size,
          hardness = _path$brush.hardness;

      var colorObject = __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(color.rgba);

      var brushOptions = {
        color: colorObject,
        size: size
      };

      if (typeof hardness !== 'undefined') {
        brushOptions.hardness = hardness;
      }

      var rawBrush = this._brushManager.getBrushByIdentifier(identifier);
      if (!rawBrush) {
        rawBrush = this._brushManager.getFirstBrush();
      }

      if (rawBrush.prototype && rawBrush.prototype instanceof Brush) {
        // Custom Brush instance, used for special brushes such as radial brush, which has
        // an additional hardness option
        var BrushClass = rawBrush;
        return new BrushClass(brushOptions);
      } else {
        var _brush = __WEBPACK_IMPORTED_MODULE_7_globals__["q" /* SDKUtils */].extend({}, rawBrush);
        delete _brush.image;

        var _BrushClass = function (_Brush) {
          _inherits(_BrushClass, _Brush);

          function _BrushClass() {
            _classCallCheck(this, _BrushClass);

            return _possibleConstructorReturn(this, (_BrushClass.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(_BrushClass)).apply(this, arguments));
          }

          return _BrushClass;
        }(Brush);

        _BrushClass.identifier = rawBrush.identifier;

        // Plain JS object, used for simple image brushes
        return new _BrushClass(__WEBPACK_IMPORTED_MODULE_7_globals__["q" /* SDKUtils */].extend({}, _brush, brushOptions));
      }
    }

    /**
     * Deserializes the given frame sprite
     * @param  {PhotoEditorSDK.Operations.SpriteOperation}
     * @param  {Object} framespriteOperation
     * @return {Promise}
     * @private
     */

  }, {
    key: '_deserializeFrame',
    value: function _deserializeFrame(spriteOperation, frame) {
      var _this4 = this;

      return _get(v300Deserializer.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(v300Deserializer.prototype), '_deserializeFrame', this).call(this, spriteOperation, frame).then(function () {
        var frameOperation = _this4._editor.operations.get('frame');

        var _frame$options = frame.options,
            size = _frame$options.size,
            alpha = _frame$options.alpha,
            tintColor = _frame$options.tintColor;

        var options = {};
        if (typeof size !== 'undefined') {
          options.scale = size;
        }
        if (typeof alpha !== 'undefined') {
          options.alpha = alpha;
        }
        if (typeof tintColor !== 'undefined') {
          options.tintColor = __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(tintColor.rgba);
        }
        frameOperation.set(options);
      });
    }
  }, {
    key: '_deserializeTextDesign',
    value: function _deserializeTextDesign(operation, sprite) {
      var _this5 = this;

      var options = sprite.options;
      var position = options.position,
          rotation = options.rotation,
          flipHorizontally = options.flipHorizontally,
          flipVertically = options.flipVertically,
          text = options.text,
          color = options.color,
          width = options.width,
          seed = options.seed,
          inverted = options.inverted,
          identifier = options.identifier;


      var textDesignManager = new __WEBPACK_IMPORTED_MODULE_10_shared_managers_text_design_manager__["a" /* default */](this._ui, this._getOptions('textdesign'));
      var fontManager = new __WEBPACK_IMPORTED_MODULE_12_shared_managers_font_manager__["a" /* default */](this._ui, { fonts: __WEBPACK_IMPORTED_MODULE_7_globals__["d" /* Constants */].DEFAULTS.TEXT_DESIGN_FONTS, replaceFonts: true });
      var AssetManager = operation.constructor.TextDesignSprite.AssetManager;
      var fontLoader = this._ui.getFontLoader();

      var Layout = textDesignManager.getLayoutByIdentifier(identifier);

      var layout = new Layout();

      fontLoader.setFonts(fontManager.getFonts());

      AssetManager.setFonts(_extends({}, AssetManager.getFonts(), fontManager.getVariationsByIdentifier()));

      return fontLoader.load().then(function () {
        var images = layout.getImagePaths().map(function (path) {
          return { path: path, fullPath: _this5._ui.getAssetPath(path), image: null };
        });
        return AssetManager.loadImages(images).then(function () {
          layout.onImagesLoaded();

          return operation.createTextDesign({
            position: position,
            rotation: rotation,
            flipHorizontally: flipHorizontally,
            flipVertically: flipVertically,
            text: text,
            color: __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromArray(color.rgba),
            width: width,
            seed: seed,
            inverted: inverted,
            layout: layout
          });
        });
      });
    }
  }]);

  return v300Deserializer;
}(__WEBPACK_IMPORTED_MODULE_8__2_0_0_deserializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v300Deserializer);


v300Deserializer.version = '3.0.0';

/***/ }),
/* 122 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var TransformRatioManager = function () {
  function TransformRatioManager(options) {
    _classCallCheck(this, TransformRatioManager);

    this._options = options;
    this._categoriesById = {};
    this._categories = [];

    this._initCategories();
  }

  /**
   * Initializes the categories
   * @private
   */


  _createClass(TransformRatioManager, [{
    key: '_initCategories',
    value: function _initCategories() {
      var _this = this;

      var _options = this._options,
          replaceCategories = _options.replaceCategories,
          categories = _options.categories;

      var defaultCategories = __WEBPACK_IMPORTED_MODULE_1_globals__["d" /* Constants */].DEFAULTS.TRANSFORM_RATIO_CATEGORIES;

      if (!categories) {
        this._categories = __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].cloneCategories(defaultCategories, 'ratios');
      } else {
        if (replaceCategories) {
          this._categories = __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].cloneCategories(categories, 'ratios');
        } else {
          this._categories = __WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].mergeCategories(defaultCategories, categories, 'ratios');
        }
      }

      // Build cat id => category hash
      this._categoriesById = {};
      this._categories.forEach(function (c) {
        _this._categoriesById[c.name] = c;
      });
    }

    /**
     * Returns the categories
     * @param {Boolean} includeAllCategory = false
     * @return {Object[]}
     */

  }, {
    key: 'getCategories',
    value: function getCategories() {
      var includeAllCategory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      var categories = this._categories.slice(0);
      if (includeAllCategory) {
        var allCategory = {
          name: 'all',
          ratios: this._categories.map(function (c) {
            return c.ratios;
          }).reduce(function (a, b) {
            return a.concat(b);
          })
        };
        categories.unshift(allCategory);
      }
      return categories;
    }

    /**
     * Returns the ratios for the given category
     * @param {Object} category
     * @return {Object[]}
     */

  }, {
    key: 'getRatiosForCategory',
    value: function getRatiosForCategory(category) {
      var availableRatios = this._options.availableRatios;

      if (!availableRatios) return category.ratios;

      return category.ratios.filter(function (ratio) {
        return availableRatios.indexOf(ratio.identifier) !== -1;
      });
    }
  }, {
    key: 'hasRatioValue',
    value: function hasRatioValue(ratio) {
      var _this2 = this;

      var result = false;

      this._categories.forEach(function (c) {
        _this2.getRatiosForCategory(c).forEach(function (item) {
          if (item.ratio) {
            if (item.ratio === '*') {
              result = true;
            } else if (item.ratio === ratio) {
              result = true;
            }
          } else if (item.dimension) {
            var itemRatio = item.dimension.y / item.dimension.x;
            if (itemRatio === ratio) {
              result = true;
            }
          }
        });
      });

      return result;
    }
  }]);

  return TransformRatioManager;
}();

/* harmony default export */ __webpack_exports__["a"] = (TransformRatioManager);

/***/ }),
/* 123 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__shared_state_component__ = __webpack_require__(52);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var test = ("production") === 'test';

var ControlsComponent = function (_SharedStateComponent) {
  _inherits(ControlsComponent, _SharedStateComponent);

  function ControlsComponent() {
    var _ref;

    _classCallCheck(this, ControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(ControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onBackButtonClick');

    _this._needsStyleFixes = true;
    _this.state = {
      backButton: false
    };
    return _this;
  }

  _createClass(ControlsComponent, [{
    key: '_onBackButtonClick',


    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks the back button
     * @private
     */
    value: function _onBackButtonClick() {}
  }, {
    key: 'setSharedState',
    value: function setSharedState(state) {
      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var sharedStateUpdate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

      _get(ControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(ControlsComponent.prototype), 'setSharedState', this).call(this, state, update);
      sharedStateUpdate && this.props.controls.updateSharedState();
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      if (__WEBPACK_IMPORTED_MODULE_7_globals__["u" /* Utils */].Browser.isIElte(10)) {
        if (this._table) this._table.style.height = '100%';
        if (this._container) this._container.style.height = '100%';

        return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve) {
          Object(__WEBPACK_IMPORTED_MODULE_7_globals__["z" /* requestAnimationFrame */])(function () {
            if (!_this2._root) return;

            var rootHeight = _this2._root.offsetHeight;

            if (_this2._container && _this2._header) {
              var headerHeight = _this2._header.offsetHeight;
              _this2._container.style.height = rootHeight - headerHeight + 'px';
            }

            if (_this2._table) _this2._table.style.height = rootHeight + 'px';

            if (_this2._scrollbar) {
              _this2._scrollbar.update();
            }

            resolve();
          }, 1000);
        });
      } else if (this._scrollbar) {
        this._scrollbar.update();
      }

      return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve();
    }

    // -------------------------------------------------------------------------- RENDERING

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {};
    }
  }, {
    key: '_renderContent',
    value: function _renderContent() {
      return __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement('div', null);
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var RootElement = this.constructor.RootElement;

      var _getRootProps2 = this._getRootProps(),
          props = _objectWithoutProperties(_getRootProps2, []);

      var currentControl = this.context.screen.state.currentControl;

      var isOverviewControl = currentControl === null;

      var backButtonStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/shared/back.png', true) + '\')'
      };

      return __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
        ControlsComponentRoot,
        { innerRef: function innerRef(el) {
            props.innerRef && props.innerRef(el);_this3._root = el;
          } },
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
          ControlsComponentTable,
          { innerRef: function innerRef(el) {
              _this3._table = el;
            } },
          !isOverviewControl && __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
            ControlsComponentHeader,
            { innerRef: function innerRef(el) {
                _this3._header = el;
              } },
            this.state.backButton && __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(BackButton, {
              style: backButtonStyle,
              onClick: this._onBackButtonClick }),
            __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
              ControlsComponentTitle,
              null,
              this._t('editor.controls.' + currentControl + '.title')
            )
          ),
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
            RootElementContainer,
            null,
            __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
              RootElement,
              _extends({}, props, {
                innerRef: function innerRef(el) {
                  _this3._container = el;
                },
                className: test ? props.className || 'js-defaultControls' : undefined }),
              this._renderContent()
            )
          )
        )
      );
    }

    /**
     * Returns this element's container
     * @return {React.Element}
     */

  }, {
    key: 'container',
    get: function get() {
      return this._container;
    }
  }]);

  return ControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_8__shared_state_component__["a" /* default */]);

ControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_8__shared_state_component__["a" /* default */].contextTypes;
ControlsComponent.propTypes = {
  options: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object };
/* harmony default export */ __webpack_exports__["a"] = (ControlsComponent);


var ControlsComponentRoot = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('ku10ek', 'ControlsComponentRoot');

var ControlsComponentTable = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('rfecls', 'ControlsComponentTable');

var ControlsComponentHeader = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('1tkmkv6', 'ControlsComponentHeader');

var RootElementContainer = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('vkb8c9', 'RootElementContainer');

ControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('rfecls', {
  withBorderTop: '120drhm'
}, 'ControlsComponent');

var ControlsComponentTitle = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('1ru8sfa', 'ControlsComponentTitle');

var BackButton = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].button('gyx1pn', 'BackButton');

/***/ }),
/* 124 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var CanvasHeaderButtonComponent = function (_BaseComponent) {
  _inherits(CanvasHeaderButtonComponent, _BaseComponent);

  function CanvasHeaderButtonComponent() {
    _classCallCheck(this, CanvasHeaderButtonComponent);

    return _possibleConstructorReturn(this, (CanvasHeaderButtonComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderButtonComponent)).apply(this, arguments));
  }

  _createClass(CanvasHeaderButtonComponent, [{
    key: 'render',


    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      var RootElement = this.constructor.RootElement;

      var props = _objectWithoutProperties(this.props, []);

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(RootElement, props);
    }
  }]);

  return CanvasHeaderButtonComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

CanvasHeaderButtonComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasHeaderButtonComponent);


CanvasHeaderButtonComponent.RootElement = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].li('11o197p', {
  disabled: '16s6vgr'
}, 'CanvasHeaderButtonComponent');

/***/ }),
/* 125 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__draggable_component__ = __webpack_require__(23);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var SliderComponent = function (_BaseComponent) {
  _inherits(SliderComponent, _BaseComponent);

  function SliderComponent() {
    var _ref;

    _classCallCheck(this, SliderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = SliderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(SliderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKnobDragStart', '_onKnobDrag', '_onKnobDragStop', '_onBarDragStart', '_onBarDrag', '_onBarDragStop');

    _this.state = {
      value: _this.props.value || 0,
      sliderPosition: 0,
      foregroundLeft: 0,
      foregroundWidth: 0
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after the component has been mounted
   */


  _createClass(SliderComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      // Trigger a re-render to position the knob
      Object(__WEBPACK_IMPORTED_MODULE_4_globals__["z" /* requestAnimationFrame */])(function () {
        _this2._setValue(_this2.state.value, false);
      });
    }

    /**
     * Gets called when this component receives new props
     * @param  {Object} props
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      if (props.value !== this.state.value) {
        this._setValue(props.value, false);
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user starts dragging the knob
     * @param  {Vector2} position
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(position) {
      this._previousValue = this.state.value;
      this._initialSliderPosition = this.state.sliderPosition;
      this._initialPosition = position;
    }

    /**
     * Gets called while the user drags the knob
     * @param  {Vector2} diff
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(diff) {
      var barWidth = this._bar.offsetWidth;

      var newSliderPosition = this._initialSliderPosition + diff.x;
      newSliderPosition = Math.max(0, Math.min(newSliderPosition, barWidth));
      var progress = newSliderPosition / barWidth;
      var newValue = this.props.minValue + (this.props.maxValue - this.props.minValue) * progress;

      this._setValue(newValue);
    }

    /**
     * Gets called when the user stops dragging the knob
     * @private
     */

  }, {
    key: '_onKnobDragStop',
    value: function _onKnobDragStop() {
      this._setValue(this.state.value, true, true);
    }

    /**
     * Gets called when the user starts dragging the bar
     * @param  {Vector2} position
     * @private
     */

  }, {
    key: '_onBarDragStart',
    value: function _onBarDragStart(position) {
      this._previousValue = this.state.value;
      this._initialPosition = position.clone();

      var barWidth = this._bar.offsetWidth;
      var progress = position.x / barWidth;
      var newValue = this.props.minValue + (this.props.maxValue - this.props.minValue) * progress;
      this._setValue(newValue);
    }

    /**
     * Gets called while the user drags the bar
     * @param  {Vector2} diff
     * @private
     */

  }, {
    key: '_onBarDrag',
    value: function _onBarDrag(diff) {
      var position = this._initialPosition.clone().add(diff);

      var barWidth = this._bar.offsetWidth;
      var progress = position.x / barWidth;
      var newValue = this.props.minValue + (this.props.maxValue - this.props.minValue) * progress;
      newValue = Math.max(this.props.minValue, Math.min(this.props.maxValue, newValue));
      this._setValue(newValue);
    }

    /**
     * Gets called when the user stops dragging the bar
     * @private
     */

  }, {
    key: '_onBarDragStop',
    value: function _onBarDragStop() {
      this._setValue(this.state.value, true, true);
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * Returns the style for the knob (position)
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: this.state.sliderPosition
      };
    }

    /**
     * Returns the style for the foreground bar
     * @return {Object}
     * @private
     */

  }, {
    key: '_getForegroundStyle',
    value: function _getForegroundStyle() {
      return {
        left: this.state.foregroundLeft,
        width: this.state.foregroundWidth
      };
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Sets the value to the given value, updates the slider position
     * @param {Number} value
     * @param {Boolean} emitChange = true
     * @param {Boolean} emitRelease = false
     * @private
     */

  }, {
    key: '_setValue',
    value: function _setValue(value) {
      var emitChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var emitRelease = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var _props = this.props,
          minValue = _props.minValue,
          maxValue = _props.maxValue;

      var progress = (value - minValue) / (maxValue - minValue);

      // Calculate slider position
      var barWidth = this._bar.offsetWidth;
      var sliderPosition = barWidth * progress;

      // Calculate foreground position and width
      var foregroundWidth = progress * barWidth;
      var foregroundLeft = 0;
      if (this.props.middleDot) {
        foregroundWidth = Math.abs(progress - 0.5) * barWidth;
        foregroundLeft = progress < 0.5 ? barWidth * 0.5 - foregroundWidth : '50%';
      }

      this.setState({ value: value, sliderPosition: sliderPosition, foregroundWidth: foregroundWidth, foregroundLeft: foregroundLeft });

      if (emitChange) {
        this.props.onChange && this.props.onChange(value, this._previousValue, emitRelease);
      }
    }

    /**
     * Builds a display value from the given props
     * @param {Number} value
     * @return {String}
     * @private
     */

  }, {
    key: '_buildValue',
    value: function _buildValue(value) {
      // Limit decimals to two digits, if present
      if (value % 1 !== 0) {
        value = value.toFixed(2);
      }

      // Add positive value prefix (+) if value is > 0
      if (this.props.positiveValuePrefix && value >= 0) {
        value = '' + this.props.positiveValuePrefix + value;
      }

      // Add unit if present
      if (this.props.valueUnit) {
        value += this.props.valueUnit;
      }

      return value;
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var foregroundProps = {
        style: this._getForegroundStyle()
      };

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        Slider,
        { disabled: this.props.disabled },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          __WEBPACK_IMPORTED_MODULE_5__draggable_component__["a" /* default */],
          {
            onStart: this._onBarDragStart,
            onDrag: this._onBarDrag,
            onStop: this._onBarDragStop,
            disabled: this.props.disabled },
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            BarContainer,
            null,
            __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
              Bar,
              { ref: 'foo', innerRef: function innerRef(el) {
                  _this3._bar = el;
                } },
              __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
                'div',
                null,
                __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(BarBackgroundSection, { darkBackground: this.props.darkBackground }),
                __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(BarForegroundSection, foregroundProps),
                __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
                  __WEBPACK_IMPORTED_MODULE_5__draggable_component__["a" /* default */],
                  {
                    onStart: this._onKnobDragStart,
                    onDrag: this._onKnobDrag,
                    onStop: this._onKnobDragStop,
                    disabled: this.props.disabled },
                  __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
                    KnobTouchTarget,
                    { style: this._getKnobStyle(), className: test ? 'js-sliderKnob' : undefined },
                    __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Knob, { idle: this.state.value === 0 })
                  )
                )
              )
            )
          )
        )
      );
    }
  }]);

  return SliderComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

SliderComponent.propTypes = {
  value: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].number.isRequired,
  minValue: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].number.isRequired,
  maxValue: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].number.isRequired,
  middleDot: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].bool,
  onChange: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].func,
  positiveValuePrefix: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].string,
  valueUnit: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].string,
  label: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].string
};
SliderComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (SliderComponent);
var Slider = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('jc3w8i', {
  disabled: '1voy7lm'
}, 'Slider');

var Bar = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1pvw1zw', 'Bar');

var BarSection = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('8gacw5', 'BarSection');

var BarBackgroundSection = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(BarSection)('120drhm', {
  darkBackground: '120drhm'
}, 'BarBackgroundSection');

var BarForegroundSection = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(BarSection)('1apine2', 'BarForegroundSection');

var Knob = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('8i3bvo', {
  idle: '6eg4rp'
}, 'Knob');

var KnobTouchTarget = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('xsaflu', 'KnobTouchTarget');

var BarContainer = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1ssoezr', 'BarContainer');

/***/ }),
/* 126 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlGroupList", function() { return ControlGroupList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlGroup", function() { return ControlGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlGroupTitle", function() { return ControlGroupTitle; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_globals__ = __webpack_require__(4);
/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ControlGroupList = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1f3fuxn', 'ControlGroupList');

var ControlGroup = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1bxndxk', 'ControlGroup');

var ControlGroupTitle = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('12fzsea', 'ControlGroupTitle');

/***/ }),
/* 127 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var CheckboxComponent = function (_BaseComponent) {
  _inherits(CheckboxComponent, _BaseComponent);

  function CheckboxComponent() {
    _classCallCheck(this, CheckboxComponent);

    return _possibleConstructorReturn(this, (CheckboxComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CheckboxComponent)).apply(this, arguments));
  }

  _createClass(CheckboxComponent, [{
    key: 'render',

    /**
     * Renders this component.
     * @return {React.Element}
     */
    value: function render() {
      var iconPath = this._getAssetPath('editor/controls/shared/checkbox.png', true);
      var activeIconPath = this._getAssetPath('editor/controls/shared/checkbox-active.png', true);

      var _props = this.props,
          styles = _props.styles,
          className = _props.className,
          checked = _props.checked,
          onClick = _props.onClick;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Checkbox, {
        styles: styles,
        className: className,
        onClick: onClick,
        style: {
          backgroundImage: 'url(' + (checked ? activeIconPath : iconPath) + ')'
        }
      });
    }
  }]);

  return CheckboxComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

/* harmony default export */ __webpack_exports__["a"] = (CheckboxComponent);


var Checkbox = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('5nuoh', 'Checkbox');
CheckboxComponent.RootElement = Checkbox;

/***/ }),
/* 128 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__value_selection_component__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_shared_forms_numeric_input_component__ = __webpack_require__(53);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var ColorComponentInputComponent = function (_ValueSelectionCompon) {
  _inherits(ColorComponentInputComponent, _ValueSelectionCompon);

  function ColorComponentInputComponent() {
    _classCallCheck(this, ColorComponentInputComponent);

    return _possibleConstructorReturn(this, (ColorComponentInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ColorComponentInputComponent)).apply(this, arguments));
  }

  _createClass(ColorComponentInputComponent, [{
    key: '_renderRightPart',


    /**
     * Renders the right part of this control (e.g. an input)
     * @return {React.Element}
     * @private
     */
    value: function _renderRightPart() {
      var _this2 = this;

      var classNames = test ? ['js-valueSelection-input'] : [];
      if (this.props.inputClassName) {
        classNames.push(this.props.inputClassName);
      }

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(InputField, {
        value: this.state.value,
        onLiveChange: this._onInputLiveChange,
        onChange: this._onInputChange,
        className: classNames.join(' '),
        innerRef: function innerRef(el) {
          _this2._input = el;
        },
        disabled: this.props.disabled });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          inputLabel = _props.inputLabel,
          className = _props.className,
          disabled = _props.disabled,
          styles = _props.styles;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        ColorComponentInput,
        {
          styles: styles,
          className: className,
          disabled: disabled },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          Row,
          null,
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            Column,
            null,
            inputLabel && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
              Title,
              null,
              inputLabel || ' '
            ),
            this._renderRightPart()
          )
        )
      );
    }
  }]);

  return ColorComponentInputComponent;
}(__WEBPACK_IMPORTED_MODULE_5__value_selection_component__["a" /* default */]);

ColorComponentInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__value_selection_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ColorComponentInputComponent);


var InputField = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6_components_shared_forms_numeric_input_component__["a" /* default */])('12dz026', 'InputField');

var ColorComponentInput = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__value_selection_component__["a" /* default */].RootElement)('9ngfap', 'ColorComponentInput');

var Row = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('15u7gri', 'Row');

var Column = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1hy9z1m', {
  bottomAligned: '17xdalt'
}, 'Column');

var Title = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('szltve', 'Title');

/***/ }),
/* 129 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var PlainControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem,
    PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground;


var test = ("production") === 'test';

var LibraryUploadComponent = function (_BaseComponent) {
  _inherits(LibraryUploadComponent, _BaseComponent);

  function LibraryUploadComponent() {
    var _ref;

    _classCallCheck(this, LibraryUploadComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryUploadComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LibraryUploadComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onWebcamClick', '_onDropZoneClick', '_onDropZoneDragEnter', '_onDropZoneDragLeave', '_onDropZoneDragOver', '_onDropZoneDrop', '_onImage');

    _this._dragCounter = 0;
    _this.state = {
      dropZoneHovered: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user clicks the webcam button
   * @private
   */


  _createClass(LibraryUploadComponent, [{
    key: '_onWebcamClick',
    value: function _onWebcamClick() {
      this.props.onWebcamActivated && this.props.onWebcamActivated();
    }

    /**
     * Invoked when the user has selected an image from the file input
     * @param  {Image} image
     * @private
     */

  }, {
    key: '_onImage',
    value: function _onImage(image) {
      this.props.onImage && this.props.onImage(image);
    }

    /**
     * Invoked when the user clicks the drop zone
     * @private
     */

  }, {
    key: '_onDropZoneClick',
    value: function _onDropZoneClick() {
      this.refs.upload.open();
    }

    /**
     * Invoked when the user enters the drop zone with a file
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDropZoneDragEnter',
    value: function _onDropZoneDragEnter(e) {
      e.preventDefault();

      this._dragCounter++;
      this.setState({ dropZoneHovered: true });
    }

    /**
     * Invoked when the user leaves the drop zone with a file
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDropZoneDragLeave',
    value: function _onDropZoneDragLeave(e) {
      e.preventDefault();

      this._dragCounter--;
      if (this._dragCounter === 0) {
        this.setState({ dropZoneHovered: false });
      }
    }

    /**
     * Invoked when the user drags an item over the drop zone - enables dropping
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDropZoneDragOver',
    value: function _onDropZoneDragOver(e) {
      e.preventDefault();
    }

    /**
     * Invoked when the user drops a file on the drop zone
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDropZoneDrop',
    value: function _onDropZoneDrop(e) {
      var _this2 = this;

      e.stopPropagation();
      e.preventDefault();
      e = e.nativeEvent;
      e.returnValue = false;

      this.setState({ dropZoneHovered: false }, function () {
        if (!(e.target || e.dataTransfer)) {
          return;
        }

        var files = e.target.files || e.dataTransfer.files;

        if (!files || files.length <= 0) {
          return;
        }

        if (!files[0].type.match(/^image\//i)) {
          return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this2._t('errors.title'), _this2._t('errors.invalidFileType.text', { fileType: files[0].type }));
        }
        _this2._handleFile(files[0]);
      });
    }

    /**
     * Handles the file upload for the given file and turns it into an image
     * @param  {File} file
     * @private
     */

  }, {
    key: '_handleFile',
    value: function _handleFile(file) {
      var _this3 = this;

      var reader = new window.FileReader();
      reader.onload = function () {
        return function (e) {
          var data = e.target.result;
          var image = new window.Image();

          image.addEventListener('load', function () {
            _this3._onImage(image);
          });

          image.addEventListener('error', function (e) {
            return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this3._t('errors.title'), _this3._t('errors.imageLoadingError.text'));
          });
          image.crossOrigin = _this3.context.editor.getCrossOrigin();
          image.src = data;
        };
      }(file);
      reader.readAsDataURL(file);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var webcamButtonStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/library/webcam.png', true) + '\')'
      };
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["InvisibleUploadComponent"], {
          ref: 'upload',
          onNewFile: this._onImage }),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Background,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            DropZone,
            {
              onClick: this._onDropZoneClick,
              onDragEnter: this._onDropZoneDragEnter,
              onDragOver: this._onDropZoneDragOver,
              onDragLeave: this._onDropZoneDragLeave,
              onDrop: this._onDropZoneDrop,
              hovered: this.state.dropZoneHovered },
            this.state.dropZoneHovered ? this._t('editor.controls.library.fileDropZoneHovered') : this._t('editor.controls.library.fileDropZone')
          ),
          !this.state.dropZoneHovered && this.props.webcamEnabled && __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(WebcamButton, {
            style: webcamButtonStyle,
            className: test ? 'js-webcamButton' : undefined,
            onClick: this._onWebcamClick })
        )
      );
    }
  }]);

  return LibraryUploadComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (LibraryUploadComponent);


var Container = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).li('fujban', 'Container');

var Background = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).div('17hsmc4', 'Background');

var DropZone = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('yw0i2r', {
  hovered: '1xndhux'
}, 'DropZone');

var WebcamButton = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1y2fyfw', 'WebcamButton');

/***/ }),
/* 130 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__animation_frame_js__ = __webpack_require__(15);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }



var PromiseQueue = function () {
  function PromiseQueue() {
    var maxConcurrency = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Infinity;
    var maxQueueLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Infinity;
    var minDelay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;

    _classCallCheck(this, PromiseQueue);

    this._queue = [];
    this._pendingPromises = 0;
    this._maxConcurrency = maxConcurrency;
    this._maxQueueLength = maxQueueLength;
    this._minDelay = minDelay;
    this._tick = this._tick.bind(this);
    this._lastPromiseDone = Date.now();
    this._running = true;
    this._animationFrameRequest = null;

    Object(__WEBPACK_IMPORTED_MODULE_2__animation_frame_js__["b" /* requestAnimationFrame */])(this._tick);
  }

  _createClass(PromiseQueue, [{
    key: '_tick',
    value: function _tick() {
      if (!this._running) return;

      var now = Date.now();
      if (now - this._lastPromiseDone > this._minDelay && this._pendingPromises < this._maxConcurrency && this._queue.length) {
        this._dequeue();
      }
      this._animationFrameRequest = Object(__WEBPACK_IMPORTED_MODULE_2__animation_frame_js__["b" /* requestAnimationFrame */])(this._tick);
    }
  }, {
    key: 'add',
    value: function add(fn) {
      var _this = this;

      return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        if (_this._queue.length >= _this._maxQueueLength) {
          return reject(new Error('Max queue length reached'));
        }

        _this._queue.push({
          fn: fn, resolve: resolve, reject: reject
        });
      });
    }
  }, {
    key: '_promisify',
    value: function _promisify(result) {
      if (typeof result !== 'undefined' && typeof result.then === 'function') {
        return result;
      }
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(result);
    }
  }, {
    key: '_dequeue',
    value: function _dequeue() {
      var _this2 = this;

      var item = this._queue.shift();
      var now = Date.now();
      this._pendingPromises++;
      try {
        this._promisify(item.fn()).then(function (value) {
          _this2._lastPromiseDone = now;
          _this2._pendingPromises--;
          item.resolve(value);
        }).catch(function (e) {
          _this2._lastPromiseDone = now;
          _this2._pendingPromises--;
          item.reject(e);
        });
      } catch (e) {
        this._lastPromiseDone = now;
        this._pendingPromises--;
        item.reject(e);
      }

      return true;
    }
  }, {
    key: 'dispose',
    value: function dispose() {
      this._running = false;
      if (this._animationFrameRequest) {
        Object(__WEBPACK_IMPORTED_MODULE_2__animation_frame_js__["a" /* cancelAnimationFrame */])(this._animationFrameRequest);
      }
    }
  }]);

  return PromiseQueue;
}();

/* harmony default export */ __webpack_exports__["a"] = (PromiseQueue);

/***/ }),
/* 131 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__focus_controls_component__ = __webpack_require__(320);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__focus_canvas_controls_component__ = __webpack_require__(322);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





/**
 * The Controls for the Focus tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var FocusControls = function (_BaseControls) {
  _inherits(FocusControls, _BaseControls);

  function FocusControls() {
    _classCallCheck(this, FocusControls);

    return _possibleConstructorReturn(this, (FocusControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FocusControls)).apply(this, arguments));
  }

  _createClass(FocusControls, [{
    key: '_onEnter',


    /**
     * Is called when a control is entered
     * @private
     */
    value: function _onEnter() {
      var editor = this.context.editor;


      editor.zoom.auto(true, false, function () {
        // Disable zoom and drag while we're transforming
        editor.features.disable('zoom', 'drag');
      }, false);
    }

    /**
     * Is called when a control is left
     * @private
     */

  }, {
    key: '_onLeave',
    value: function _onLeave() {
      var editor = this.context.editor;

      editor.features.enable('zoom', 'drag');
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {String[]} [availableModes = null]
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      // Get a focus operation, if existent
      var operation = FocusControls.FOCUS_OPERATIONS.map(function (identifier) {
        return operations.get(identifier);
      }).reduce(function (prev, cur) {
        return prev || cur;
      });

      var inputDimensions = operation && operation.getInputDimensions(false);
      var operationIdentifier = operation ? operation.constructor.identifier : null;
      var selectedFocusItem = FocusControls.getItemByOperationIdentifier(operationIdentifier);
      var selectedFocus = selectedFocusItem ? selectedFocusItem.identifier : 'none';

      return {
        // props
        operation: operation || null,
        inputDimensions: inputDimensions,
        operationIdentifier: operationIdentifier,
        selectedFocus: selectedFocus,
        selectedFocusItem: selectedFocusItem,
        blurRadius: operation ? operation.getBlurRadius() : 0,

        linearFocus: operationIdentifier === 'linear-focus' ? {
          controlPoint1: operation.getControlPoint1(),
          controlPoint2: operation.getControlPoint2()
        } : null,

        mirroredFocus: operationIdentifier === 'mirrored-focus' ? {
          start: operation.getStart(),
          end: operation.getEnd(),
          size: operation.getSize(),
          gradientSize: operation.getGradientSize()
        } : null,

        radialFocus: operationIdentifier === 'radial-focus' ? {
          position: operation.getPosition(),
          radius: operation.getRadius(),
          gradientRadius: operation.getGradientRadius()
        } : null,

        // actions
        setSelectedFocus: function setSelectedFocus(focusItem) {
          if (focusItem.operationIdentifier === operationIdentifier) {
            return;
          }

          if (operationIdentifier) {
            operations.remove(operationIdentifier);
          }

          if (focusItem.operationIdentifier) {
            operations.getOrCreate(focusItem.operationIdentifier);
          }
        },
        setBlurRadius: function setBlurRadius(value) {
          operation && operation.setBlurRadius(value);
        },
        setControlPoint1: function setControlPoint1(value) {
          operationIdentifier === 'linear-focus' && operation.setControlPoint1(value);
        },
        setControlPoint2: function setControlPoint2(value) {
          operationIdentifier === 'linear-focus' && operation.setControlPoint2(value);
        },
        setStart: function setStart(value) {
          operationIdentifier === 'mirrored-focus' && operation.setStart(value);
        },
        setEnd: function setEnd(value) {
          operationIdentifier === 'mirrored-focus' && operation.setEnd(value);
        },
        setPosition: function setPosition(value) {
          operationIdentifier === 'radial-focus' && operation.setPosition(value);
        },
        setRadius: function setRadius(value) {
          operationIdentifier === 'radial-focus' && operation.setRadius(value);
        },

        setOperationOptions: function setOperationOptions(opts) {
          operation && operation.set(opts);
        }
      };
    }

    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controls
     * @type {String}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      var assets = [];
      this.ITEMS.forEach(function (item) {
        assets.push(item.backgroundImagePath);
        assets.push(item.activeBackgroundImagePath);
      });
      return assets;
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('focus') && editor.isToolEnabled('focus');
    }

    /**
     * Gets the focus item by it's identifier
     *
     * @param {string} identifier
     */

  }, {
    key: 'getItemByIdentifier',
    value: function getItemByIdentifier(identifier) {
      return FocusControls.ITEMS.filter(function (e) {
        return e.identifier === identifier;
      })[0];
    }

    /**
     * Gets the focus item by it's identifier
     *
     * @param {string} identifier
     */

  }, {
    key: 'getItemByOperationIdentifier',
    value: function getItemByOperationIdentifier(identifier) {
      return FocusControls.ITEMS.filter(function (e) {
        return e.operationIdentifier === identifier;
      })[0];
    }
  }]);

  return FocusControls;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"]);

FocusControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
FocusControls.ITEMS = [{
  identifier: 'none',
  operationIdentifier: null,
  backgroundImagePath: 'editor/controls/focus/none.png',
  activeBackgroundImagePath: 'editor/controls/focus/none-active.png'
}, {
  identifier: 'radial',
  operationIdentifier: 'radial-focus',
  backgroundImagePath: 'editor/controls/focus/radial.png',
  activeBackgroundImagePath: 'editor/controls/focus/radial-active.png'
}, {
  identifier: 'mirrored',
  operationIdentifier: 'mirrored-focus',
  backgroundImagePath: 'editor/controls/focus/mirrored.png',
  activeBackgroundImagePath: 'editor/controls/focus/mirrored-active.png'
}, {
  identifier: 'linear',
  operationIdentifier: 'linear-focus',
  backgroundImagePath: 'editor/controls/focus/linear.png',
  activeBackgroundImagePath: 'editor/controls/focus/linear-active.png'
}, {
  identifier: 'gaussian',
  operationIdentifier: 'blur',
  backgroundImagePath: 'editor/controls/focus/gaussian.png',
  activeBackgroundImagePath: 'editor/controls/focus/gaussian-active.png'
}];
FocusControls.FOCUS_OPERATIONS = FocusControls.ITEMS.map(function (i) {
  return i.operationIdentifier;
}).filter(function (i) {
  return i;
});
FocusControls.identifier = 'focus';
FocusControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_5__focus_controls_component__["a" /* default */];
FocusControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_6__focus_canvas_controls_component__["a" /* default */];
FocusControls.iconPath = 'editor/controls/focus/icon.png';
FocusControls.activeIconPath = 'editor/controls/focus/icon-active.png';
FocusControls.defaultOptions = {
  availableModes: null };
FocusControls.requiredOperations = FocusControls.ITEMS.map(function (i) {
  return i.operationIdentifier;
}).filter(function (i) {
  return i;
});
FocusControls.updatableOperations = FocusControls.ITEMS.map(function (i) {
  return i.operationIdentifier;
}).filter(function (i) {
  return i;
});
FocusControls.switchToDefaultControlsOnRemoval = false;


__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default.a.Controls.FocusControls = FocusControls;

/* harmony default export */ __webpack_exports__["a"] = (FocusControls);

/***/ }),
/* 132 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem;

var test = ("production") === 'test';

var StickerListComponent = function (_SharedStateComponent) {
  _inherits(StickerListComponent, _SharedStateComponent);

  function StickerListComponent() {
    _classCallCheck(this, StickerListComponent);

    return _possibleConstructorReturn(this, (StickerListComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(StickerListComponent)).apply(this, arguments));
  }

  _createClass(StickerListComponent, [{
    key: '_onStickerClick',


    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks a sticker
     * @param  {Object} sticker
     * @private
     */
    value: function _onStickerClick(sticker) {
      this.props.onStickerClick && this.props.onStickerClick(sticker);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders an arbitray number of sticker items.
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this2 = this;

      var stickers = this.props.stickers;


      var currentStickerIdentifier = void 0;
      var selectedSprite = this.sharedState.selectedSprite;
      if (selectedSprite) {
        currentStickerIdentifier = selectedSprite.getIdentifier();
      }

      return stickers.map(function (sticker) {
        var url = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["StickerManager"].getURLForSticker(sticker, 'thumb');
        var thumbURL = _this2._getAssetPath(url);
        var itemStyle = {
          background: 'url(\'' + thumbURL + '\') no-repeat center center',
          backgroundSize: 'contain'
        };
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          StickerListItem,
          {
            selected: sticker.identifier === currentStickerIdentifier,
            key: sticker.identifier,
            onClick: _this2._onStickerClick.bind(_this2, sticker),
            className: test ? 'js-sticker' : undefined,
            threeColumns: true },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(StickerImage, { style: itemStyle })
        );
      });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        StickerList,
        null,
        this._renderListItems()
      );
    }
  }]);

  return StickerListComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

StickerListComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerListComponent);


var StickerList = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].ul('18qztam', 'StickerList');

var StickerListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).li('m4lnou', 'StickerListItem');

var StickerImage = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('7r0ke8', 'StickerImage');

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

/* @module */
/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

var PhotoEditorSDK = __webpack_require__(7);
var DesktopUI = __webpack_require__(5);
__webpack_require__(293);
PhotoEditorSDK.UI.DesktopUI = DesktopUI;
module.exports = DesktopUI;

/***/ }),
/* 134 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_app_component__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_scrollbar_component__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_loaders_json_loader__ = __webpack_require__(48);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__components_slider_component__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__themes__ = __webpack_require__(89);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_css_reset__ = __webpack_require__(259);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__lib_global_css__ = __webpack_require__(260);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__lib_font_loader__ = __webpack_require__(74);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__lib_preloader__ = __webpack_require__(261);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__exports__ = __webpack_require__(262);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */













var bd = function bd(str) {
  return __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].byteArrayToString(__WEBPACK_IMPORTED_MODULE_4_globals__["a" /* Base64 */].decode(str));
};
Object(__WEBPACK_IMPORTED_MODULE_10__lib_css_reset__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */], '.pesdk-desktop-editor');
Object(__WEBPACK_IMPORTED_MODULE_11__lib_global_css__["a" /* default */])(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */]);

/**
 * The Desktop UI
 * @class
 * @extends PhotoEditorSDK.EventEmitter
 * @memberof PhotoEditorSDK.UI
 */

var DesktopUI = function (_EventEmitter) {
  _inherits(DesktopUI, _EventEmitter);

  /**
   * Creates an UI instance
   * @param  {Object} options
   * @param  {String} options.license - Your license
   * @param  {DOMElement} options.container - The container that the UI should be rendered to
   * @param  {String} [options.language = 'en'] - Currently `en` and `de` are supported
   * @param  {String} [options.logLevel] - `trace`, `info`, `warn`, `error` or `log`
   * @param  {Boolean} [options.responsive = false] - Should the editor re-render on window resize?
   * @param {Boolean} [options.preloader = true] - Enables or disables the preloader
   * @param  {String} [options.crossOrigin = 'anonymous'] - 'anonymous', 'use-credentials' or 'none'
   * @param  {Object} [options.editor]
   * @param  {Image} [options.editor.image] - The image that the user can edit
   * @param  {Image} [options.editor.watermarkImage] - An image that should be placed on top as a watermark
   * @param  {String} [options.editor.preferredRenderer = 'webgl'] - `webgl` or `canvas`
   * @param  {Number} [options.editor.pixelRatio = 1] - If none is given, PhotoEditorSDK automatically
   *   detects the current device's pixel ratio
   * @param  {Boolean} [options.editor.enableDrag = true] - Should dragging the canvas be enabled?
   * @param  {Boolean} [options.editor.enableZoom = true] - Should zooming be enabled?
   * @param  {Boolean} [options.editor.smoothDownscaling = false] - Toggles smooth downscaling
   * @param  {Boolean} [options.editor.smoothUpscaling = false] - Toggles smooth upscaling
   * @param  {Boolean} [options.editor.displayResizeMessage = true] - Should a message be displayed
   *                                                       when the image has been scaled down
   *                                                       for performance?
   * @param  {(String[]|Array[])} [options.editor.controlsOrder] - The order in which the controls are displayed.
   *                                           Available are `transform`, `filter`,
   *                                           `adjustments`, `text`, `sticker`, `brush`, `focus`,
   *                                           `frame`. Can be grouped in arrays which will be
   *                                           displayed with separators.
   * @param  {String[]} [options.editor.operationsOrder] - The order in which operations are added to
   *                                              the stack. Changing this may affect the
   *                                              performance.
   * @param  {Object} [options.editor.controlsOptions] - Options that are passed to specific controls, with the controls identifiers as keys. See
   *                                            the documentation for each control to learn more
   *                                            about available values.
   * @param {Object[]} [options.editor.forceCrop] - If true, the editor will lauch to the transform tool
   *                                                for cropping, before any other tool is allowed.
   * @param  {Object} [options.editor.maxMegaPixels] - Maximum amount of megapixels per device type
   * @param  {Number} [options.editor.maxMegaPixels.desktop = 10]
   * @param  {Number} [options.editor.maxMegaPixels.mobile = 5]
   * @param  {Boolean} [options.editor.transparent = true]
   * @param  {Array|String|PhotoEditorSDK.Color} [options.editor.clearColor = [0, 0, 0, 0]]
   *
   * @param  {Object} [options.editor.export]
   * @param  {String} [options.editor.export.format = 'image/png'] - The export format. Available formats
   * @param  {PhotoEditorSDK.RenderType} [options.editor.export.type] - The export type (image or data url)
   * @param  {Boolean} [options.editor.export.download] - Should the result be presented as a download?
   * @param  {String} [options.editor.export.fileBasename = 'photoeditorsdk-export'] - The basename
   *                                                      of the exported file (file extension will
   *                                                      be added automatically)
   * @param {Number} [options.editor.export.quality = 0.8] - The export quality (0...1, only supported
   *                                                for JPG images)
   *
   * @param  {Object} [options.assets]
   * @param  {String} [options.assets.baseUrl = '/assets'] - Path that is prepended to all asset paths
   * @param  {Function} [options.assets.resolver] - A function resolving a path to another path.
   */
  function DesktopUI() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, DesktopUI);

    var _this = _possibleConstructorReturn(this, (DesktopUI.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(DesktopUI)).call(this));

    _this._mediator = new __WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]();
    _this._fontLoader = new __WEBPACK_IMPORTED_MODULE_12__lib_font_loader__["a" /* default */](_this);
    _this._options = options;
    _this._initOptions();
    _this._initLanguage();
    _this._initEvents();
    _this._disposed = false;

    _this._preloader = new __WEBPACK_IMPORTED_MODULE_13__lib_preloader__["a" /* default */](_this, _this._options, _this._mediator);

    _this._isReady = false;

    _this._mediator.once(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.EDITOR_READY, function () {
      _this._isReady = true;
    });

    __WEBPACK_IMPORTED_MODULE_4_globals__["h" /* Log */].setLevel(_this._options.logLevel);

    if (_this._v()) {
      _this.run();
    }
    return _this;
  }

  /**
   * Main entry point for the UI
   * @private
   */


  _createClass(DesktopUI, [{
    key: 'run',
    value: function run() {
      this._theme = this._options.theme;
      this._injectWebFonts();

      // Container has to be position: relative
      this._options.container.style.position = 'relative';
      this._options.container.className += ' pesdk-desktop-editor';
      this._render();
    }

    /**
     * Renders the UI
     * @private
     */

  }, {
    key: '_render',
    value: function _render() {
      var _this2 = this;

      var component = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_5__components_app_component__["a" /* default */], {
        ui: this,
        mediator: this._mediator,
        ref: function ref(c) {
          _this2._component = c;
        },
        options: this._options });

      if (this._options.renderReturnsComponent) {
        return component;
      } else {
        __WEBPACK_IMPORTED_MODULE_4_globals__["m" /* ReactDOM */].render(component, this._options.container);
      }
    }

    /**
     * Exports an image
     * @param {Boolean} download = false
     * @return {Promise}
     */

  }, {
    key: 'export',
    value: function _export() {
      var _component;

      return (_component = this._component).export.apply(_component, arguments);
    }

    /**
     * Serializes the editor state
     * @return {Promise}
     */

  }, {
    key: 'serialize',
    value: function serialize() {
      var _getEditor;

      return (_getEditor = this.getEditor()).serialize.apply(_getEditor, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      return this.getEditor().deserialize(data);
    }

    /**
     * Returns the editor
     * @return {PhotoEditorSDK.UI.DesktopUI.Editor}
     */

  }, {
    key: 'getEditor',
    value: function getEditor() {
      return this._component.getEditor();
    }

    /**
     * Returns true if the editor is ready for doing operations, e.g.,
     * serializing, deserializing and exporting.
     *
     * @returns {Boolean}
     */

  }, {
    key: 'isReady',
    value: function isReady() {
      return this._isReady;
    }

    /**
     * Calls a callback when the editor is ready, or immeditially if it's already
     * in a ready state.
     *
     * @param {Function} cb
     */

  }, {
    key: 'onReady',
    value: function onReady(cb) {
      if (!this._isReady) {
        this._mediator.once(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.EDITOR_READY, cb);
      } else {
        cb();
      }
    }

    // -------------------------------------------------------------------------- INITIALIZATION

    /**
     * Initializes the default options
     * @private
     */

  }, {
    key: '_initOptions',
    value: function _initOptions() {
      this._options = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options, {
        language: 'en',
        logLevel: 'warn',
        crossOrigin: 'anonymous',

        editor: {},
        assets: {},
        responsive: false,
        preloader: true,
        theme: __WEBPACK_IMPORTED_MODULE_9__themes__["a" /* DefaultTheme */]
      });

      this._options.editor = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options.editor || {}, {
        pixelRatio: typeof window !== 'undefined' && window.devicePixelRatio || 1,
        preferredRenderer: 'webgl',
        transparent: true,
        clearColor: [0, 0, 0, 0],
        displayResizeMessage: true,
        maxMegaPixels: {},
        enableDrag: true,
        enableZoom: true,
        displayCloseButton: false,
        undoMode: 'global',
        defaultControl: 'filter',
        forceCrop: false,
        tools: ['transform', 'filter', 'adjustments', 'focus', 'text', 'textdesign', 'sticker', 'brush', 'frame', 'overlay', 'library'],
        controlsOrder: [['library'], ['transform', 'filter', 'adjustments', 'focus'], ['text', 'textdesign', 'sticker', 'brush', 'frame', 'overlay']],
        operationsOrder: [
        // First, all operations that affect the image dimensions
        'exif-orientation', // Automatically created by SDK
        'orientation', 'transform',

        // Then color operations (first filter, then fine-tuning)
        'filter', 'adjustments',

        // Then post-processing
        'radial-focus', 'mirrored-focus', 'linear-focus', 'blur', 'selective-blur', 'overlay', 'sprite', 'frame', 'watermark'],
        controlsOptions: {}
      });

      this._options.editor.maxMegaPixels = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options.editor.maxMegaPixels, {
        mobile: 5,
        desktop: 10
      });

      this._options.editor.export = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options.editor.export || {}, {
        format: 'image/png',
        type: __WEBPACK_IMPORTED_MODULE_4_globals__["o" /* RenderType */].IMAGE,
        download: true,
        fileBasename: 'photoeditorsdk-export',
        quality: 0.8
      });

      this._options.extensions = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options.extensions || {}, {
        languages: {},
        operations: [],
        controls: []
      });

      this._options.assets = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(this._options.assets || {}, {
        baseUrl: 'assets',
        resolver: null
      });
    }

    /**
     * Injects the web fonts css
     * @private
     */

  }, {
    key: '_injectWebFonts',
    value: function _injectWebFonts() {
      var fontFaces = [];
      for (var fontName in this._theme.fonts) {
        var font = this._theme.fonts[fontName];
        var fontPath = this.getAssetPath(font.src, true, true);
        fontFaces.push('\n        @font-face {\n          font-family: "' + font.fontFamily + '";\n          src: url(\'' + fontPath + '\') format(\'woff\');\n          font-weight: ' + font.fontWeight + ';\n          font-style: ' + font.fontStyle + ';\n        }\n      ');
      }

      var css = '\n      /* Injected by PhotoEditorSDK */\n      ' + fontFaces.join('\n') + '\n    ';

      __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].global(css, true);
    }

    /**
     * Validates presence of the API key
     * @return {Boolean}
     * @private
     */

  }, {
    key: '_v',
    value: function _v() {
      if (!this[bd('X29wdGlvbnM=')][bd('bGljZW5zZQ==')]) {
        __WEBPACK_IMPORTED_MODULE_4_globals__["h" /* Log */].error(bd('TGljZW5zaW5n'), bd('Tm8gYGxpY2Vuc2VgIG9wdGlvbiBnaXZlbg=='));
        __WEBPACK_IMPORTED_MODULE_4_globals__["h" /* Log */].error(bd('TGljZW5zaW5n'), bd('SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAcGhvdG9lZGl0b3JzZGsuY29tIHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg=='));
        return false;
      }
      return true;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Catches mediator events and emits them here
     * @private
     */

  }, {
    key: '_initEvents',
    value: function _initEvents() {
      this._mediator.pipeEvents(this);
    }

    /**
     * Unpipes the vents
     * @private
     */

  }, {
    key: '_disposeEvents',
    value: function _disposeEvents() {
      this._mediator.unpipeEvents(this);
    }

    // -------------------------------------------------------------------------- I18N

    /**
     * Initializes the internationalization
     * @private
     */

  }, {
    key: '_initLanguage',
    value: function _initLanguage() {
      this._languages = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].deepDefaults(this._options.extensions.languages, {
        de: __webpack_require__(291),
        en: __webpack_require__(292)
      });
      this._language = this._languages[this._options.language];
      if (!this._language) {
        __WEBPACK_IMPORTED_MODULE_4_globals__["h" /* Log */].error(this.constructor.name, 'Language `' + this._options.language + '` not found!');
      }
    }

    /**
     * Returns the translation for `key`
     * @param  {String} key
     * @param  {Object} [interpolationOptions]
     * @return {String}
     */

  }, {
    key: 'translate',
    value: function translate(key, interpolationOptions) {
      return __WEBPACK_IMPORTED_MODULE_4_globals__["u" /* Utils */].translate(this._language, key, interpolationOptions);
    }

    /**
     * Sets the image to the given one
     * @param {Image} image
     */

  }, {
    key: 'setImage',
    value: function setImage(image) {
      if (!this._component) return;
      this._component.setImage(image);
    }

    /**
     * Returns the resolved asset path for the given asset name
     * @param  {String} asset
     * @param  {Boolean} uiAsset = false
     * @param  {Boolean} disableRetina = false
     * @return {String}
     */

  }, {
    key: 'getAssetPath',
    value: function getAssetPath(asset) {
      var uiAsset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var disableRetina = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      var _options$assets = this._options.assets,
          baseUrl = _options$assets.baseUrl,
          resolver = _options$assets.resolver;

      var path = baseUrl + '/' + asset;

      // Don't prepend baseUrl to absolute urls
      if (asset.match(/(ftp|http|https):\/\//)) {
        path = asset;
      }

      if (uiAsset) {
        if (!disableRetina) {
          // Append @2x if device's pixel ratio > 1
          var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;
          if (pixelRatio > 1) {
            var regex = /\.[\w?=]+$/;
            asset = asset.replace(regex, function (match) {
              return '@2x' + match;
            });
          }
        }

        path = baseUrl + '/ui/desktop/' + asset;
      }

      if (typeof resolver !== 'undefined' && resolver !== null) {
        path = resolver(path);
      }

      return path;
    }

    /**
     * Returns the theme
     * @return {Object}
     */

  }, {
    key: 'getTheme',
    value: function getTheme() {
      return this._theme;
    }

    /**
     * Returns the font loader
     * @return {PhotoEditorSDK.UI.DesktopUI.FontLoader}
     */

  }, {
    key: 'getFontLoader',
    value: function getFontLoader() {
      return this._fontLoader;
    }

    /**
     * Returns the preloader
     * @return {PhotoEditorSDK.Preloader}
     */

  }, {
    key: 'getPreloader',
    value: function getPreloader() {
      return this._preloader;
    }

    /**
     * Disposes the UI
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      if (this._disposed) {
        throw new Error('This instance of PhotoEditorSDK is already disposed.');
      }
      this._disposed = true;

      // Unmount AppComponent
      __WEBPACK_IMPORTED_MODULE_4_globals__["m" /* ReactDOM */].unmountComponentAtNode(this._options.container);

      this._disposeEvents();
    }
  }]);

  return DesktopUI;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

/**
 * A unique string that represents this UI
 * @type {String}
 */


DesktopUI.prototype.identifier = 'react';

// Export extendable stuff
DesktopUI.BaseComponent = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */];
DesktopUI.React = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */];
DesktopUI.adonis = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */];
DesktopUI.SharedState = __WEBPACK_IMPORTED_MODULE_4_globals__["s" /* SharedState */];
DesktopUI.Constants = __WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */];
DesktopUI.Utils = __WEBPACK_IMPORTED_MODULE_4_globals__["u" /* Utils */];
DesktopUI.ScrollbarComponent = __WEBPACK_IMPORTED_MODULE_6__components_scrollbar_component__["a" /* default */];
DesktopUI.JSONLoader = __WEBPACK_IMPORTED_MODULE_7_shared_loaders_json_loader__["a" /* default */];
DesktopUI.SliderComponent = __WEBPACK_IMPORTED_MODULE_8__components_slider_component__["a" /* default */];

/**
 * The PhotoEditorSDK UI can also be integrated as a React.js component
 * @class
 * @extends React.Component
 * @memberof PhotoEditorSDK.UI.DesktopUI
 */

var ReactComponent = function (_React$Component) {
  _inherits(ReactComponent, _React$Component);

  function ReactComponent() {
    _classCallCheck(this, ReactComponent);

    return _possibleConstructorReturn(this, (ReactComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ReactComponent)).apply(this, arguments));
  }

  _createClass(ReactComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this._ui = new DesktopUI(__WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].extend({}, this.props, {
        container: this.refs.container
      }));

      if (this.props.onEditorReady) {
        this._ui.onReady(this.props.onEditorReady);
      }
    }
  }, {
    key: 'render',


    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      var containerStyle = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].extend({}, this.props.style || {});
      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement('div', { style: containerStyle, ref: 'container' });
    }
  }, {
    key: 'ui',
    get: function get() {
      return this._ui;
    }
  }]);

  return ReactComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].Component);

DesktopUI.ReactComponent = ReactComponent;

/**
 * @namespace PhotoEditorSDK.UI.DesktopUI.Controls
*/
DesktopUI.Controls = {};

for (var key in __WEBPACK_IMPORTED_MODULE_14__exports__) {
  DesktopUI[key] = __WEBPACK_IMPORTED_MODULE_14__exports__[key];
}

// Extend PhotoEditorSDK object
__WEBPACK_IMPORTED_MODULE_4_globals__["p" /* SDK */].UI = __WEBPACK_IMPORTED_MODULE_4_globals__["p" /* SDK */].UI || {};
__WEBPACK_IMPORTED_MODULE_4_globals__["p" /* SDK */].UI.DesktopUI = DesktopUI;

/* harmony default export */ __webpack_exports__["default"] = (DesktopUI);

/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(136);
var $Object = __webpack_require__(9).Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};


/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(12);
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !__webpack_require__(18), 'Object', { defineProperty: __webpack_require__(16).f });


/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(138);
module.exports = __webpack_require__(9).Object.setPrototypeOf;


/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = __webpack_require__(12);
$export($export.S, 'Object', { setPrototypeOf: __webpack_require__(139).set });


/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = __webpack_require__(17);
var anObject = __webpack_require__(14);
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = __webpack_require__(24)(Function.call, __webpack_require__(58).f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};


/***/ }),
/* 140 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(141);
var $Object = __webpack_require__(9).Object;
module.exports = function create(P, D) {
  return $Object.create(P, D);
};


/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(12);
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', { create: __webpack_require__(60) });


/***/ }),
/* 142 */
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__(16);
var anObject = __webpack_require__(14);
var getKeys = __webpack_require__(30);

module.exports = __webpack_require__(18) ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__(20);
var toLength = __webpack_require__(61);
var toAbsoluteIndex = __webpack_require__(144);
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(62);
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),
/* 145 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(146);
module.exports = __webpack_require__(9).Object.getPrototypeOf;


/***/ }),
/* 146 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 Object.getPrototypeOf(O)
var toObject = __webpack_require__(31);
var $getPrototypeOf = __webpack_require__(88);

__webpack_require__(66)('getPrototypeOf', function () {
  return function getPrototypeOf(it) {
    return $getPrototypeOf(toObject(it));
  };
});


/***/ }),
/* 147 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_147__;

/***/ }),
/* 148 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var emptyFunction = __webpack_require__(149);
var invariant = __webpack_require__(150);
var ReactPropTypesSecret = __webpack_require__(151);

module.exports = function() {
  function shim(props, propName, componentName, location, propFullName, secret) {
    if (secret === ReactPropTypesSecret) {
      // It is still safe when called from React.
      return;
    }
    invariant(
      false,
      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
      'Use PropTypes.checkPropTypes() to call them. ' +
      'Read more at http://fb.me/use-check-prop-types'
    );
  };
  shim.isRequired = shim;
  function getShim() {
    return shim;
  };
  // Important!
  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
  var ReactPropTypes = {
    array: shim,
    bool: shim,
    func: shim,
    number: shim,
    object: shim,
    string: shim,
    symbol: shim,

    any: shim,
    arrayOf: getShim,
    element: shim,
    instanceOf: getShim,
    node: shim,
    objectOf: getShim,
    oneOf: getShim,
    oneOfType: getShim,
    shape: getShim,
    exact: getShim
  };

  ReactPropTypes.checkPropTypes = emptyFunction;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),
/* 149 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

function makeEmptyFunction(arg) {
  return function () {
    return arg;
  };
}

/**
 * This function accepts and discards inputs; it has no side effects. This is
 * primarily useful idiomatically for overridable function endpoints which
 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
 */
var emptyFunction = function emptyFunction() {};

emptyFunction.thatReturns = makeEmptyFunction;
emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
emptyFunction.thatReturnsNull = makeEmptyFunction(null);
emptyFunction.thatReturnsThis = function () {
  return this;
};
emptyFunction.thatReturnsArgument = function (arg) {
  return arg;
};

module.exports = emptyFunction;

/***/ }),
/* 150 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var validateFormat = function validateFormat(format) {};

if (false) {
  validateFormat = function validateFormat(format) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  };
}

function invariant(condition, format, a, b, c, d, e, f) {
  validateFormat(format);

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(format.replace(/%s/g, function () {
        return args[argIndex++];
      }));
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
}

module.exports = invariant;

/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),
/* 152 */
/***/ (function(module, exports) {

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

var fonts = {
  firasansmedium: {
    fontFamily: 'firasansmedium',
    fontWeight: '500',
    fontStyle: 'normal',
    src: 'fonts/FiraSans-Medium.woff'
  },
  firasansregular: {
    fontFamily: 'firasansregular',
    fontWeight: '400',
    fontStyle: 'normal',
    src: 'fonts/FiraSans-Regular.woff'
  },
  sourcesansprobold: {
    fontFamily: 'sourcesansprobold',
    fontWeight: 'bolder',
    fontStyle: 'normal',
    src: 'fonts/SourceSansPro-Bold.woff'
  },
  sourcesansprosemibold: {
    fontFamily: 'sourcesansprosemibold',
    fontWeight: 'bold',
    fontStyle: 'normal',
    src: 'fonts/SourceSansPro-Semibold.woff'
  }
};

module.exports = {
  primaryColor: '#2D7BFF',
  primaryColorRGB: '45, 123, 255',
  backgroundColor: '#141415',
  backgroundColorRGB: '20, 20, 21',
  controlsKnobColor: 'white',
  controlsBackgroundColor: '#232326',
  controlsBackgroundColorRGB: '35, 35, 38',
  controlsLightBackgroundColor: '#2a2a2e',
  controlsOutlineColor: 'rgba(255, 255, 255, 0.6)',
  controlsSeparatorColor: '#1b1b1d',
  navigationBackgroundColor: '#202022',
  navigationBackgroundColorRGB: '32, 32, 34',
  textColor: '#FFFFFF',
  dimmedTextColor: '#888888',
  dimmedTextColorRGB: '136, 136, 136',
  filterItemBackgroundColor: '#4b4b4c',
  secondaryControlsBackgroundColor: '#2a2a2e',
  secondaryControlsBackgroundColorRGB: '42, 42, 46',
  focusItemBackgroundColor: '#343437',
  sliderBackgroundColor: 'rgba(255,255,255,0.24)',
  darkSliderBackgroundColor: '#1B1B1E',
  sliderKnobColor: '#b5b5be',
  sliderCircleKnobColor: '#c8c8d2',
  highlightColor: '#2675F8',
  highlightColorRGB: '38, 117, 253',
  darkHighlightColorRGB: '15, 47, 101',
  buttonBorderColor: '#303034',
  defaultShadow: '0 1px 2px 0 rgba(0, 0, 0, 0.60)',
  inputModalButtonBarColor: '#262629',

  modalErrorColor: '#C23A3A',
  modalWarningColor: '#C18226',
  modalLoadingColor: '#2D7BFF',

  zIndex: function zIndex(layer) {
    var layers = ['background', 'controls', 'controlsOverlays', 'overlays', 'navigation'];
    var stride = 5;
    return layers.indexOf(layer) * stride;
  },


  transitionDuration: 0.3,
  listItemSlideInDelay: 100,

  scrollbarGradientSize: 64,

  uppercaseBoldFontFamily: 'sourcesansprobold',
  uppercaseSemiBoldFontFamily: 'sourcesansprosemibold',

  regularFontFamily: 'firasansregular',
  mediumFontFamily: 'firasansmedium',
  fonts: fonts
};

/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {

(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory(__webpack_require__(32));
	else if(typeof define === 'function' && define.amd)
		define(["react"], factory);
	else if(typeof exports === 'object')
		exports["Adonis"] = factory(require("react"));
	else
		root["Adonis"] = factory(root["React"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.ThemeProvider = exports.withTheme = undefined;

	var _adonis = __webpack_require__(1);

	var _adonis2 = _interopRequireDefault(_adonis);

	var _domElements = __webpack_require__(27);

	var _domElements2 = _interopRequireDefault(_domElements);

	var _baseStyles = __webpack_require__(28);

	var _baseStyles2 = _interopRequireDefault(_baseStyles);

	var _withTheme = __webpack_require__(29);

	var _withTheme2 = _interopRequireDefault(_withTheme);

	var _themeProvider = __webpack_require__(30);

	var _themeProvider2 = _interopRequireDefault(_themeProvider);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.default = function (options) {
	  var adonis = new _adonis2.default(options);

	  // adonis()
	  var factory = function factory(target) {
	    if (target instanceof _baseStyles2.default) {
	      // adonis(BaseStyles).div(styles, variations, name)
	      var baseStyles = target;
	      var _factory = {};
	      _domElements2.default.forEach(function (domElement) {
	        _factory[domElement] = function (styles, variations, name) {
	          if (typeof variations === 'string') {
	            name = variations;
	            variations = undefined;
	          }

	          return adonis.createComponent(domElement, {
	            styles: styles, variations: variations, name: name, baseStyles: baseStyles
	          });
	        };
	      });
	      return _factory;
	    } else {
	      // adonis(Component)(styles, variations, name)
	      // adonis(AdonisComponent)(styles, variations, name)
	      return function (styles, variations, name) {
	        if (typeof variations === 'string') {
	          name = variations;
	          variations = undefined;
	        }

	        return adonis.createComponent(target, {
	          styles: styles, variations: variations, name: name
	        });
	      };
	    }
	  };

	  // adonis.div(styles, variations, name)
	  _domElements2.default.forEach(function (domElement) {
	    factory[domElement] = function (styles, variations, name) {
	      if (typeof variations === 'string') {
	        name = variations;
	        variations = undefined;
	      }

	      return adonis.createComponent(domElement, {
	        styles: styles, variations: variations, name: name
	      });
	    };
	  });

	  // adonis.global(css, force = false)
	  factory.global = function (css) {
	    var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

	    var _adonis$getOptions = adonis.getOptions(),
	        injection = _adonis$getOptions.injection,
	        theme = _adonis$getOptions.theme;

	    if (!injection && !force) return;

	    if (typeof css === 'function') {
	      css = css(theme);
	    }

	    var stylesBuffer = adonis.getStylesBuffer();
	    stylesBuffer.bufferCSS(css);
	    stylesBuffer.flushToStyleTag(force);
	  };

	  // adonis.css(styles, variations, name)
	  factory.css = function (styles, variations, name) {
	    if (typeof variations === 'string') {
	      name = variations;
	      variations = undefined;
	    }

	    return new _baseStyles2.default(adonis, { styles: styles, variations: variations, name: name || 'baseStyles' });
	  };

	  // Proxy some methods
	  ['renderToStatic'].forEach(function (prop) {
	    factory[prop] = adonis[prop].bind(adonis);
	  });

	  return factory;
	};

	exports.withTheme = _withTheme2.default;
	exports.ThemeProvider = _themeProvider2.default;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _stylesBuffer = __webpack_require__(3);

	var _stylesBuffer2 = _interopRequireDefault(_stylesBuffer);

	var _componentFactory = __webpack_require__(5);

	var _componentFactory2 = _interopRequireDefault(_componentFactory);

	var _utils = __webpack_require__(4);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var production = typeof process !== 'undefined' && process.env.NODE_ENV === 'production';

	var Adonis = function () {
	  /**
	   * @param  {Object} [options]
	   * @param  {Boolean|String} [options.injection = true] If `true`, styles will be injected on render,
	   *                                              if `false`, they will not be injected. If set to
	   *                                              `pre`, styles are injected before rendering.
	   * @param {Boolean} [options.batchInjection = true] Should CSS injections be batched?
	   * @param {Boolean} [options.minified = false] Should the resulting CSS be minified?
	   * @param {Boolean} [options.autoPrefix = true] Should adonis automatically add vendor prefixes to
	   *                                       CSS properties when necessary?
	   * @param {String} [options.cssSelectorPrefix = ''] The selector prepended to all CSS rules
	   * @param {String} [options.classNamePrefix = ''] The string prepended to all class names
	   * @param {String} [options.hashSeparator = '-'] The string that is used to separate element names
	   *                                         from their hashes
	   * @param {String} [options.nameSeparator = '__'] The string that is used to separate multiple
	   *                                        styled elements
	   * @param {String} [options.variationSeparator = '--'] The string that is used to separate element
	   *                                             identifiers from variation identifiers
	   * @param {DOMElement} [options.styleNode] The <style> node that the CSS should be appended to
	   * @param {String} [options.injectionMode] `fast` injects the css using a browser-backed stylesheet
	   *                                         while `debug` injects it using text nodes, which makes
	   *                                         the styles debuggable and editable in the browser.
	   *                                         Default is `fast` for production, `debug` otherwise.
	   * @param {Boolean} [options.hashedStyles = false] When set to true, adonis expects string hashes
	   *                                        instead of style objects. This is useful when you are
	   *                                        using external CSS files and don't want your production
	   *                                        code to be full of style objects
	   */
	  function Adonis(options) {
	    _classCallCheck(this, Adonis);

	    this._options = (0, _utils.defaults)(options, {
	      injection: true,
	      batchInjection: true,
	      minified: false,
	      autoPrefix: true,
	      cssSelectorPrefix: '',
	      classNamePrefix: '',
	      hashSeparator: '-',
	      nameSeparator: '__',
	      variationSeparator: '--',
	      styleNode: null,
	      injectionMode: production ? 'fast' : 'debug',
	      hashedStyles: false
	    });
	    this._stylesBuffer = new _stylesBuffer2.default(this);
	    this._componentFactory = new _componentFactory2.default(this, this._options);
	  }

	  /**
	   * Creates an adonis component for the given target
	   * @param  {String|React.Component|AdonisComponent} target
	   * @param  {Object} options
	   * @return {AdonisComponent}
	   */


	  _createClass(Adonis, [{
	    key: 'createComponent',
	    value: function createComponent(target, options) {
	      return this._componentFactory.createComponent(target, options);
	    }

	    /**
	     * Renders the styles created in `renderFn` to a string and returns it
	     * @param  {Function} renderFn
	     * @return {String}
	     */

	  }, {
	    key: 'renderToStatic',
	    value: function renderToStatic(renderFn) {
	      this._stylesBuffer.disableInjection();

	      var html = renderFn();

	      var output = this._stylesBuffer.flushToString(true);
	      this._stylesBuffer.enableInjection();

	      return { css: { content: output }, html: html };
	    }

	    /**
	     * Returns the styles buffer
	     * @return {StylesBuffer}
	     */

	  }, {
	    key: 'getStylesBuffer',
	    value: function getStylesBuffer() {
	      return this._stylesBuffer;
	    }

	    /**
	     * Returns all options for this adonis instance
	     * @return {Object}
	     */

	  }, {
	    key: 'getOptions',
	    value: function getOptions() {
	      return this._options;
	    }
	  }]);

	  return Adonis;
	}();

	exports.default = Adonis;
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 2 */
/***/ (function(module, exports) {

	// shim for using process in browser
	var process = module.exports = {};

	// cached from whatever global is present so that test runners that stub it
	// don't break things.  But we need to wrap it in a try catch in case it is
	// wrapped in strict mode code which doesn't define any globals.  It's inside a
	// function because try/catches deoptimize in certain engines.

	var cachedSetTimeout;
	var cachedClearTimeout;

	function defaultSetTimout() {
	    throw new Error('setTimeout has not been defined');
	}
	function defaultClearTimeout () {
	    throw new Error('clearTimeout has not been defined');
	}
	(function () {
	    try {
	        if (typeof setTimeout === 'function') {
	            cachedSetTimeout = setTimeout;
	        } else {
	            cachedSetTimeout = defaultSetTimout;
	        }
	    } catch (e) {
	        cachedSetTimeout = defaultSetTimout;
	    }
	    try {
	        if (typeof clearTimeout === 'function') {
	            cachedClearTimeout = clearTimeout;
	        } else {
	            cachedClearTimeout = defaultClearTimeout;
	        }
	    } catch (e) {
	        cachedClearTimeout = defaultClearTimeout;
	    }
	} ())
	function runTimeout(fun) {
	    if (cachedSetTimeout === setTimeout) {
	        //normal enviroments in sane situations
	        return setTimeout(fun, 0);
	    }
	    // if setTimeout wasn't available but was latter defined
	    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
	        cachedSetTimeout = setTimeout;
	        return setTimeout(fun, 0);
	    }
	    try {
	        // when when somebody has screwed with setTimeout but no I.E. maddness
	        return cachedSetTimeout(fun, 0);
	    } catch(e){
	        try {
	            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
	            return cachedSetTimeout.call(null, fun, 0);
	        } catch(e){
	            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
	            return cachedSetTimeout.call(this, fun, 0);
	        }
	    }


	}
	function runClearTimeout(marker) {
	    if (cachedClearTimeout === clearTimeout) {
	        //normal enviroments in sane situations
	        return clearTimeout(marker);
	    }
	    // if clearTimeout wasn't available but was latter defined
	    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
	        cachedClearTimeout = clearTimeout;
	        return clearTimeout(marker);
	    }
	    try {
	        // when when somebody has screwed with setTimeout but no I.E. maddness
	        return cachedClearTimeout(marker);
	    } catch (e){
	        try {
	            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
	            return cachedClearTimeout.call(null, marker);
	        } catch (e){
	            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
	            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
	            return cachedClearTimeout.call(this, marker);
	        }
	    }



	}
	var queue = [];
	var draining = false;
	var currentQueue;
	var queueIndex = -1;

	function cleanUpNextTick() {
	    if (!draining || !currentQueue) {
	        return;
	    }
	    draining = false;
	    if (currentQueue.length) {
	        queue = currentQueue.concat(queue);
	    } else {
	        queueIndex = -1;
	    }
	    if (queue.length) {
	        drainQueue();
	    }
	}

	function drainQueue() {
	    if (draining) {
	        return;
	    }
	    var timeout = runTimeout(cleanUpNextTick);
	    draining = true;

	    var len = queue.length;
	    while(len) {
	        currentQueue = queue;
	        queue = [];
	        while (++queueIndex < len) {
	            if (currentQueue) {
	                currentQueue[queueIndex].run();
	            }
	        }
	        queueIndex = -1;
	        len = queue.length;
	    }
	    currentQueue = null;
	    draining = false;
	    runClearTimeout(timeout);
	}

	process.nextTick = function (fun) {
	    var args = new Array(arguments.length - 1);
	    if (arguments.length > 1) {
	        for (var i = 1; i < arguments.length; i++) {
	            args[i - 1] = arguments[i];
	        }
	    }
	    queue.push(new Item(fun, args));
	    if (queue.length === 1 && !draining) {
	        runTimeout(drainQueue);
	    }
	};

	// v8 likes predictible objects
	function Item(fun, array) {
	    this.fun = fun;
	    this.array = array;
	}
	Item.prototype.run = function () {
	    this.fun.apply(null, this.array);
	};
	process.title = 'browser';
	process.browser = true;
	process.env = {};
	process.argv = [];
	process.version = ''; // empty string to avoid regexp issues
	process.versions = {};

	function noop() {}

	process.on = noop;
	process.addListener = noop;
	process.once = noop;
	process.off = noop;
	process.removeListener = noop;
	process.removeAllListeners = noop;
	process.emit = noop;
	process.prependListener = noop;
	process.prependOnceListener = noop;

	process.listeners = function (name) { return [] }

	process.binding = function (name) {
	    throw new Error('process.binding is not supported');
	};

	process.cwd = function () { return '/' };
	process.chdir = function (dir) {
	    throw new Error('process.chdir is not supported');
	};
	process.umask = function() { return 0; };


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _utils = __webpack_require__(4);

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var StylesBuffer = function () {
	  function StylesBuffer(adonis) {
	    _classCallCheck(this, StylesBuffer);

	    this._adonis = adonis;
	    this._injectionEnabled = true;
	    this._bufferedSelectors = {};
	    this._buffer = [];
	    this._styleNode = this._findStyleNode();
	    this._sheet = this._findSheet();
	  }

	  /**
	   * Finds the Stylesheet for our style node
	   * @return {CSSStyleSheet}
	   * @private
	   */


	  _createClass(StylesBuffer, [{
	    key: '_findSheet',
	    value: function _findSheet() {
	      if (!this._styleNode) return;

	      if (this._styleNode.sheet) {
	        return this._styleNode.sheet;
	      }

	      // Find stylesheet
	      var _document = document,
	          styleSheets = _document.styleSheets;

	      for (var i = 0; i < styleSheets.length; i++) {
	        var styleSheet = styleSheets[i];
	        if (styleSheet.ownerNode === this._styleNode) {
	          return styleSheet;
	        }
	      }
	    }

	    /**
	     * Finds the style node
	     * @return {DOMElement}
	     * @private
	     */

	  }, {
	    key: '_findStyleNode',
	    value: function _findStyleNode() {
	      var _adonis$getOptions = this._adonis.getOptions(),
	          styleNode = _adonis$getOptions.styleNode;

	      if (styleNode) {
	        return styleNode;
	      }

	      if (typeof document === 'undefined') return null;

	      styleNode = document.createElement('style');
	      styleNode.setAttribute('data-adonis', true);
	      document.head.appendChild(styleNode);
	      return styleNode;
	    }
	  }, {
	    key: 'bufferCSS',
	    value: function bufferCSS(css) {
	      this._buffer.push(css);
	    }

	    /**
	     * Buffers the given array of css rulesets
	     * @param  {String[][]} rulesets
	     */

	  }, {
	    key: 'bufferRulesets',
	    value: function bufferRulesets(rulesets) {
	      var _this = this;

	      rulesets.forEach(function (_ref) {
	        var _ref2 = _slicedToArray(_ref, 2),
	            selector = _ref2[0],
	            css = _ref2[1];

	        _this._bufferedSelectors[selector] = true;
	      });
	      Array.prototype.push.apply(this._buffer, rulesets.map(function (_ref3) {
	        var _ref4 = _slicedToArray(_ref3, 2),
	            css = _ref4[1];

	        return css;
	      }));
	    }

	    /**
	     * Checks if the given selector has been buffered already
	     * @param  {String}  selector
	     * @return {Boolean}
	     */

	  }, {
	    key: 'isSelectorBuffered',
	    value: function isSelectorBuffered(selector) {
	      return this._bufferedSelectors[selector];
	    }

	    /**
	     * Disables the injection
	     */

	  }, {
	    key: 'disableInjection',
	    value: function disableInjection() {
	      this._injectionEnabled = false;
	    }

	    /**
	     * Enables the injection
	     */

	  }, {
	    key: 'enableInjection',
	    value: function enableInjection() {
	      this._injectionEnabled = true;
	    }

	    /**
	     * Flushes the buffered CSS to a string and returns it
	     * @param {Boolean} clearBufferedSelectors = false
	     * @return {String}
	     */

	  }, {
	    key: 'flushToString',
	    value: function flushToString() {
	      var clearBufferedSelectors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

	      var _adonis$getOptions2 = this._adonis.getOptions(),
	          minified = _adonis$getOptions2.minified;

	      var content = this._buffer.join(minified ? '' : '\n\n');
	      this._buffer = [];
	      if (clearBufferedSelectors) {
	        this._bufferedSelectors = {};
	      }
	      return content;
	    }

	    /**
	     * Injects the css rules using CSSStyleSheet#insertRule
	     * @private
	     */

	  }, {
	    key: '_injectFast',
	    value: function _injectFast() {
	      var _this2 = this;

	      this._buffer.forEach(function (rule) {
	        _this2._sheet.insertRule(rule, _this2._sheet.cssRules.length);
	      });
	    }

	    /**
	     * Injects the css rules by appending text nodes to the style node
	     * @private
	     */

	  }, {
	    key: '_injectDebug',
	    value: function _injectDebug() {
	      var css = this.flushToString();
	      if (!css) return;

	      var _adonis$getOptions3 = this._adonis.getOptions(),
	          minified = _adonis$getOptions3.minified;

	      var hasContent = this._styleNode.innerHTML.length > 0;
	      this._styleNode.appendChild(document.createTextNode((minified || !hasContent ? '' : '\n\n') + css));
	    }

	    /**
	     * Actually flushes the css rules to the style node
	     * @private
	     */

	  }, {
	    key: '_flushToStyleTag',
	    value: function _flushToStyleTag() {
	      var _adonis$getOptions4 = this._adonis.getOptions(),
	          injectionMode = _adonis$getOptions4.injectionMode;

	      if (injectionMode === 'fast' && this._sheet.insertRule) {
	        this._injectFast();
	      } else if (injectionMode === 'debug') {
	        this._injectDebug();
	      } else {
	        throw new Error('Unknown CSS injection mode: `' + injectionMode + '`');
	      }

	      this._buffer = [];
	    }

	    /**
	     * Schedules the injection of css rules into the style node
	     */

	  }, {
	    key: 'flushToStyleTag',
	    value: function flushToStyleTag() {
	      var _this3 = this;

	      if (!this._injectionEnabled) return;

	      var _adonis$getOptions5 = this._adonis.getOptions(),
	          batchInjection = _adonis$getOptions5.batchInjection;

	      if (!this._nextTick && batchInjection) {
	        this._nextTick = (0, _utils.requestAnimationFrame)(function () {
	          _this3._nextTick = null;
	          _this3._flushToStyleTag();
	        });
	      } else if (!batchInjection) {
	        this._flushToStyleTag();
	      }
	    }
	  }]);

	  return StylesBuffer;
	}();

	exports.default = StylesBuffer;

/***/ }),
/* 4 */
/***/ (function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	/**
	 * Assigns own enumerable properties of source object(s) to the destination
	 * object for all destination properties that resolve to undefined. Once a
	 * property is set, additional values of the same property are ignored.
	 * @param  {Object} object
	 * @param  {Object} ...sources
	 * @return {Object}
	 */
	var defaults = exports.defaults = function defaults(object) {
	  for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	    sources[_key - 1] = arguments[_key];
	  }

	  // Shallow clone
	  var newObject = {};
	  for (var key in object) {
	    newObject[key] = object[key];
	  }

	  // Clone sources
	  for (var i = 0; i < sources.length; i++) {
	    var source = sources[i];
	    for (var _key2 in source) {
	      if (typeof newObject[_key2] === 'undefined') {
	        newObject[_key2] = source[_key2];
	      }
	    }
	  }

	  return newObject;
	};

	/**
	 * JS Implementation of MurmurHash2
	 *
	 * @author Gary Court <gary.court@gmail.com>
	 * @see http://github.com/garycourt/murmurhash-js
	 * @author Austin Appleby <aappleby@gmail.com>
	 * @see http://sites.google.com/site/murmurhash/
	 *
	 * @param {Object}
	 * @return {String} Base 36 encoded hash result
	 */
	var hashObject = exports.hashObject = function hashObject(object) {
	  var str = JSON.stringify(object);
	  var l = str.length;
	  var h = l;
	  var i = 0;
	  var k = void 0;

	  while (l >= 4) {
	    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;

	    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);
	    k ^= k >>> 24;
	    k = (k & 0xffff) * 0x5bd1e995 + (((k >>> 16) * 0x5bd1e995 & 0xffff) << 16);

	    h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16) ^ k;

	    l -= 4;
	    ++i;
	  }

	  /* eslint-disable no-fallthrough */ // forgive existing code
	  switch (l) {
	    case 3:
	      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;
	    case 2:
	      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;
	    case 1:
	      h ^= str.charCodeAt(i) & 0xff;
	      h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);
	  }
	  /* eslint-enable no-fallthrough */

	  h ^= h >>> 13;
	  h = (h & 0xffff) * 0x5bd1e995 + (((h >>> 16) * 0x5bd1e995 & 0xffff) << 16);
	  h ^= h >>> 15;

	  return (h >>> 0).toString(36);
	};

	/**
	 * Returns a flattened version of the given array
	 * @param  {Array} arr
	 * @return {Array}
	 */
	var flatten = exports.flatten = function flatten(arr) {
	  return arr.reduce(function (acc, val) {
	    return acc.concat(Array.isArray(val) ? flatten(val) : val);
	  }, []);
	};

	/**
	 * Returns a copy of the given object, removing all properties that point to functions`
	 * @param  {Object} obj
	 * @return {Object}
	 */
	var toStaticStyles = exports.toStaticStyles = function toStaticStyles(obj) {
	  var newObject = {};
	  for (var key in obj) {
	    var value = obj[key];
	    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {
	      newObject[key] = toStaticStyles(value);
	    } else if (typeof value !== 'function') {
	      newObject[key] = value;
	    }
	  }
	  return newObject;
	};

	/**
	 * Deep merges the given target and source
	 * @param  {Object} target
	 * @param  {Object} source
	 * @return {Object}
	 */
	var deepMerge = exports.deepMerge = function deepMerge(target, source) {
	  var destination = {};

	  for (var key in target) {
	    destination[key] = target[key];
	  }

	  for (var _key3 in source) {
	    if (_typeof(source[_key3]) === 'object' && target[_key3]) {
	      destination[_key3] = deepMerge(target[_key3], source[_key3]);
	    } else {
	      destination[_key3] = source[_key3];
	    }
	  }
	  return destination;
	};

	/**
	 * Deep merges the given objects
	 * @param  {Object[]} arr
	 * @return {Object}
	 */
	var deepMergeAll = exports.deepMergeAll = function deepMergeAll(arr) {
	  return arr.reduce(function (prev, next) {
	    return deepMerge(prev, next);
	  }, {});
	};

	/**
	 * Walks through the given object, if it finds a function, it calls it with the given `theme`
	 * object and places the result at the same key
	 * @param  {Object} object
	 * @param  {Object} theme
	 * @return {Object}
	 */
	var resolveStylesObject = exports.resolveStylesObject = function resolveStylesObject(object, theme) {
	  var resolved = {};
	  for (var key in object) {
	    var value = object[key];
	    if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {
	      resolved[key] = resolveStylesObject(value, theme);
	    } else if (typeof value === 'function') {
	      if (!theme) {
	        throw new Error('Trying to resolve a dynamic property without a `theme` given.');
	      }
	      resolved[key] = value(theme);
	    } else {
	      resolved[key] = value;
	    }
	  }
	  return resolved;
	};

	/**
	 * Returns all possible combinations for the given set of objects
	 * @param  {*[]} set
	 * @return {*[]}
	 */
	var findAllCombinations = exports.findAllCombinations = function findAllCombinations(set) {
	  return function acc(xs, set) {
	    var x = xs[0];

	    if (typeof x === 'undefined') {
	      return set;
	    }

	    for (var i = 0, l = set.length; i < l; ++i) {
	      set.push(set[i].concat(x));
	    }
	    return acc(xs.slice(1), set);
	  }(set, [[]]).slice(1);
	};

	/**
	 * Polyfill for window.requestAnimationFrame
	 * @return {Function}
	 */
	var requestAnimationFrame = exports.requestAnimationFrame = function () {
	  var lastAF = 0;
	  var root = typeof global === 'undefined' ? window : global;
	  var rAF = root.requestAnimationFrame;

	  var vendors = ['ms', 'moz', 'webkit', 'o'];
	  for (var x = 0; x < vendors.length && !rAF; ++x) {
	    rAF = root[vendors[x] + 'RequestAnimationFrame'];
	  }

	  if (!rAF && typeof root !== 'undefined' && root.setImmediate) {
	    rAF = root.setImmediate;
	  }

	  // we need to bind it to root, else we will get an illegal invocation errors
	  if (rAF) {
	    rAF = rAF.bind(root);
	  }

	  if (!rAF) {
	    rAF = function rAF(callback) {
	      var currTime = new Date().getTime();
	      var timeToCall = Math.max(0, 16 - (currTime - lastAF));
	      var id = setTimeout(function () {
	        callback(currTime + timeToCall);
	      }, timeToCall);
	      lastAF = currTime + timeToCall;
	      return id;
	    };
	  }

	  return rAF;
	}();
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(6);

	var _react2 = _interopRequireDefault(_react);

	var _utils = __webpack_require__(4);

	var _baseAdonisComponent = __webpack_require__(7);

	var _baseAdonisComponent2 = _interopRequireDefault(_baseAdonisComponent);

	var _styles = __webpack_require__(16);

	var _styles2 = _interopRequireDefault(_styles);

	var _stylesManager = __webpack_require__(17);

	var _stylesManager2 = _interopRequireDefault(_stylesManager);

	var _preinjectionStylesManager = __webpack_require__(26);

	var _preinjectionStylesManager2 = _interopRequireDefault(_preinjectionStylesManager);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var ComponentFactory = function () {
	  function ComponentFactory(adonis, options) {
	    _classCallCheck(this, ComponentFactory);

	    this._adonis = adonis;
	    this._options = options;
	  }

	  /**
	   * Returns a string name for the given target
	   * @param  {String|Object} target
	   * @return {String}
	   * @private
	   */


	  _createClass(ComponentFactory, [{
	    key: '_getName',
	    value: function _getName(target) {
	      if (typeof target === 'string') return target;
	      if (target.name) return target.name;
	      return 'adonis';
	    }

	    /**
	     * Returns the given target's styles. This function gets the styles recursively, meaning that
	     * if the target has another target, it returns its styles as well.
	     * @param  {ReactComponent|BaseAdonisComponent} target
	     * @return {Styles[]}
	     * @private
	     */

	  }, {
	    key: '_getTargetStyles',
	    value: function _getTargetStyles(target, name) {
	      var styles = [target.adonisBaseStyles, target.adonisStyles];

	      // Target has another target, get its styles
	      if (target.adonisTarget) {
	        styles.unshift(this._getTargetStyles(target.adonisTarget));
	      }

	      // Target has a RootElement that inherits styles
	      if (target.RootElement) {
	        styles.unshift(this._getTargetStyles(target.RootElement));
	      }

	      return (0, _utils.flatten)(styles).filter(function (s) {
	        return s;
	      });
	    }

	    /**
	     * Creates an adonis component for the given target
	     * @param  {String|React.Component|AdonisComponent} target
	     * @param  {Object} options
	     * @return {AdonisComponent}
	     */

	  }, {
	    key: 'createComponent',
	    value: function createComponent(target, options) {
	      var adonis = this._adonis;
	      var name = options.name;

	      if (!name) name = this._getName(target);

	      var isTag = typeof target === 'string';
	      var isAdonisComponent = target.prototype instanceof _baseAdonisComponent2.default;
	      var isComponent = !isAdonisComponent && target.prototype instanceof _react.Component;

	      var styles = options.styles,
	          variations = options.variations,
	          baseStyles = options.baseStyles;

	      variations = variations || {};
	      var stylesObject = new _styles2.default(adonis, { styles: styles, variations: variations, name: name });

	      var _adonis$getOptions = adonis.getOptions(),
	          injection = _adonis$getOptions.injection,
	          theme = _adonis$getOptions.theme,
	          hashedStyles = _adonis$getOptions.hashedStyles;

	      if (injection === 'pre' && !hashedStyles) {
	        var targetStyles = this._getTargetStyles(target, name);
	        var allStyles = void 0,
	            stylesManager = void 0;
	        allStyles = targetStyles.concat([baseStyles, stylesObject]).filter(function (s) {
	          return s;
	        });
	        stylesManager = new _preinjectionStylesManager2.default(adonis, allStyles, theme);

	        stylesManager.bufferRulesets();
	        var stylesBuffer = adonis.getStylesBuffer();
	        stylesBuffer.flushToStyleTag();
	      }

	      var AdonisComponent = function (_BaseAdonisComponent) {
	        _inherits(AdonisComponent, _BaseAdonisComponent);

	        function AdonisComponent() {
	          var _ref;

	          _classCallCheck(this, AdonisComponent);

	          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	            args[_key] = arguments[_key];
	          }

	          var _this = _possibleConstructorReturn(this, (_ref = AdonisComponent.__proto__ || Object.getPrototypeOf(AdonisComponent)).call.apply(_ref, [this].concat(args)));

	          _this._updateStylesManager();
	          _this._adonis = adonis;
	          return _this;
	        }

	        _createClass(AdonisComponent, [{
	          key: '_updateStylesManager',


	          /**
	           * Updates the styles manager for the given props
	           * @param  {Object} props
	           * @private
	           */
	          value: function _updateStylesManager() {
	            var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;

	            this._allStyles = [baseStyles, stylesObject].concat(props.styles || []).filter(function (s) {
	              return s;
	            });

	            var activeVariations = this._getActiveVariationsFromProps(props);
	            this._stylesManager = new _stylesManager2.default(adonis, this._allStyles, activeVariations, this.context.theme);
	          }

	          /**
	           * Invoked before a mounted component receives new props
	           * @param  {Object} props
	           */

	        }, {
	          key: 'componentWillReceiveProps',
	          value: function componentWillReceiveProps(props) {
	            var _this2 = this;

	            var stylesChanged = props.styles !== this.props.styles;

	            var variationsChanged = false;
	            var allVariations = (0, _utils.flatten)(this._allStyles.map(function (s) {
	              return s.getVariations();
	            }));

	            allVariations.forEach(function (variation) {
	              if (props[variation] !== _this2.props[variation]) {
	                variationsChanged = true;
	              }
	            });

	            if (stylesChanged || variationsChanged) {
	              this._updateStylesManager(props);
	            }
	          }

	          /**
	           * Returns a shallow clone of this component's props
	           * @return {Object}
	           * @private
	           */

	        }, {
	          key: '_cloneProps',
	          value: function _cloneProps() {
	            var _this3 = this;

	            var elementProps = {};
	            Object.keys(this.props).forEach(function (prop) {
	              elementProps[prop] = _this3.props[prop];
	            });
	            return elementProps;
	          }

	          /**
	           * Returns an array containing the active variations for this component from the given props
	           * @param {Object} props
	           * @return {String[]}
	           * @private
	           */

	        }, {
	          key: '_getActiveVariationsFromProps',
	          value: function _getActiveVariationsFromProps() {
	            var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;

	            var variationsSet = {};
	            this._allStyles.forEach(function (s) {
	              return s.getVariations().forEach(function (variation) {
	                return variationsSet[variation] = true;
	              });
	            });

	            return Object.keys(variationsSet).filter(function (p) {
	              return props[p] === true;
	            }).sort();
	          }

	          /**
	           * Builds the class name for this component
	           * @return {String}
	           * @private
	           */

	        }, {
	          key: '_buildClassName',
	          value: function _buildClassName() {
	            var passedClassName = this.props.className;

	            // We can pass additional class names to components

	            var classNames = [];
	            classNames.push(passedClassName);

	            // Generate a class name for this component
	            var generatedClassName = this._stylesManager.getClassName();
	            classNames.push(generatedClassName);

	            return { className: classNames.filter(function (c) {
	                return c;
	              }).join(' ') };
	          }

	          /**
	           * Checks if CSS injection for this component is required
	           * @private
	           */

	        }, {
	          key: '_shouldInjectCSS',
	          value: function _shouldInjectCSS() {
	            if (!injection || hashedStyles) return false;

	            // Injection is only needed if the rendered child is a real tag
	            return isTag || isComponent && !isAdonisComponent;
	          }

	          /**
	           * Renders this component
	           * @return {React.Element}
	           */

	        }, {
	          key: 'render',
	          value: function render() {
	            var elementProps = this._cloneProps();

	            var _buildClassName2 = this._buildClassName(),
	                className = _buildClassName2.className;

	            var stylesBuffer = this._adonis.getStylesBuffer();
	            if (this._shouldInjectCSS()) {
	              this._stylesManager.bufferRulesets();

	              if (injection === true && !hashedStyles) {
	                stylesBuffer.flushToStyleTag();
	              }
	            }

	            // If an available variation is passed in as a property, we add the styles to the class and
	            // remove the prop from the props we pass to our target element
	            if (isTag) {
	              var _variations = options.variations;

	              if (_variations) {
	                Object.keys(_variations).forEach(function (variation) {
	                  delete elementProps[variation];
	                });
	              }

	              // Remove variations passed from parent
	              if (this.props._activeParentVariations) {
	                this.props._activeParentVariations.forEach(function (variation) {
	                  delete elementProps[variation];
	                });
	              }

	              // Remove variations from base styles
	              if (baseStyles) {
	                baseStyles.getVariations().forEach(function (variation) {
	                  delete elementProps[variation];
	                });
	              }
	            }

	            // We only need to pass the class name to tags, not to components
	            if (isTag) {
	              elementProps.className = className;
	            } else {
	              elementProps.styles = (0, _utils.flatten)([stylesObject].concat(this.props.styles || []));
	              elementProps._activeParentVariations = Object.keys(variations || {}).concat(this.props._activeParentVariations || []);
	            }

	            // Pass ref
	            var _props = this.props,
	                children = _props.children,
	                innerRef = _props.innerRef;

	            if (innerRef) {
	              if (isComponent || isTag) {
	                elementProps.ref = innerRef;
	              } else if (isAdonisComponent) {
	                elementProps.innerRef = innerRef;
	              }
	            }

	            // We don't want to pass invalid props to tags
	            if (isTag) {
	              delete elementProps.styles;
	              delete elementProps.innerRef;
	              delete elementProps._activeParentVariations;
	            }

	            return _react2.default.createElement(target, elementProps, children);
	          }
	        }], [{
	          key: 'name',
	          get: function get() {
	            return name;
	          }
	        }]);

	        return AdonisComponent;
	      }(_baseAdonisComponent2.default);

	      AdonisComponent.contextTypes = _baseAdonisComponent2.default.contextTypes;
	      AdonisComponent.adonisTarget = target;
	      AdonisComponent.adonisStyles = stylesObject;
	      AdonisComponent.adonisBaseStyles = baseStyles;

	      return AdonisComponent;
	    }
	  }]);

	  return ComponentFactory;
	}();

	exports.default = ComponentFactory;

/***/ }),
/* 6 */
/***/ (function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_6__;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _react = __webpack_require__(6);

	var _propTypes = __webpack_require__(8);

	var _propTypes2 = _interopRequireDefault(_propTypes);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var BaseAdonisComponent = function (_Component) {
	  _inherits(BaseAdonisComponent, _Component);

	  function BaseAdonisComponent() {
	    _classCallCheck(this, BaseAdonisComponent);

	    return _possibleConstructorReturn(this, (BaseAdonisComponent.__proto__ || Object.getPrototypeOf(BaseAdonisComponent)).apply(this, arguments));
	  }

	  return BaseAdonisComponent;
	}(_react.Component);

	exports.default = BaseAdonisComponent;

	BaseAdonisComponent.contextTypes = {
	  theme: _propTypes2.default.object
	};

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */

	if (process.env.NODE_ENV !== 'production') {
	  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&
	    Symbol.for &&
	    Symbol.for('react.element')) ||
	    0xeac7;

	  var isValidElement = function(object) {
	    return typeof object === 'object' &&
	      object !== null &&
	      object.$$typeof === REACT_ELEMENT_TYPE;
	  };

	  // By explicitly using `prop-types` you are opting into new development behavior.
	  // http://fb.me/prop-types-in-prod
	  var throwOnDirectAccess = true;
	  module.exports = __webpack_require__(9)(isValidElement, throwOnDirectAccess);
	} else {
	  // By explicitly using `prop-types` you are opting into new production behavior.
	  // http://fb.me/prop-types-in-prod
	  module.exports = __webpack_require__(15)();
	}

	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */

	'use strict';

	var emptyFunction = __webpack_require__(10);
	var invariant = __webpack_require__(11);
	var warning = __webpack_require__(12);

	var ReactPropTypesSecret = __webpack_require__(13);
	var checkPropTypes = __webpack_require__(14);

	module.exports = function(isValidElement, throwOnDirectAccess) {
	  /* global Symbol */
	  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
	  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

	  /**
	   * Returns the iterator method function contained on the iterable object.
	   *
	   * Be sure to invoke the function with the iterable as context:
	   *
	   *     var iteratorFn = getIteratorFn(myIterable);
	   *     if (iteratorFn) {
	   *       var iterator = iteratorFn.call(myIterable);
	   *       ...
	   *     }
	   *
	   * @param {?object} maybeIterable
	   * @return {?function}
	   */
	  function getIteratorFn(maybeIterable) {
	    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
	    if (typeof iteratorFn === 'function') {
	      return iteratorFn;
	    }
	  }

	  /**
	   * Collection of methods that allow declaration and validation of props that are
	   * supplied to React components. Example usage:
	   *
	   *   var Props = require('ReactPropTypes');
	   *   var MyArticle = React.createClass({
	   *     propTypes: {
	   *       // An optional string prop named "description".
	   *       description: Props.string,
	   *
	   *       // A required enum prop named "category".
	   *       category: Props.oneOf(['News','Photos']).isRequired,
	   *
	   *       // A prop named "dialog" that requires an instance of Dialog.
	   *       dialog: Props.instanceOf(Dialog).isRequired
	   *     },
	   *     render: function() { ... }
	   *   });
	   *
	   * A more formal specification of how these methods are used:
	   *
	   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
	   *   decl := ReactPropTypes.{type}(.isRequired)?
	   *
	   * Each and every declaration produces a function with the same signature. This
	   * allows the creation of custom validation functions. For example:
	   *
	   *  var MyLink = React.createClass({
	   *    propTypes: {
	   *      // An optional string or URI prop named "href".
	   *      href: function(props, propName, componentName) {
	   *        var propValue = props[propName];
	   *        if (propValue != null && typeof propValue !== 'string' &&
	   *            !(propValue instanceof URI)) {
	   *          return new Error(
	   *            'Expected a string or an URI for ' + propName + ' in ' +
	   *            componentName
	   *          );
	   *        }
	   *      }
	   *    },
	   *    render: function() {...}
	   *  });
	   *
	   * @internal
	   */

	  var ANONYMOUS = '<<anonymous>>';

	  // Important!
	  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
	  var ReactPropTypes = {
	    array: createPrimitiveTypeChecker('array'),
	    bool: createPrimitiveTypeChecker('boolean'),
	    func: createPrimitiveTypeChecker('function'),
	    number: createPrimitiveTypeChecker('number'),
	    object: createPrimitiveTypeChecker('object'),
	    string: createPrimitiveTypeChecker('string'),
	    symbol: createPrimitiveTypeChecker('symbol'),

	    any: createAnyTypeChecker(),
	    arrayOf: createArrayOfTypeChecker,
	    element: createElementTypeChecker(),
	    instanceOf: createInstanceTypeChecker,
	    node: createNodeChecker(),
	    objectOf: createObjectOfTypeChecker,
	    oneOf: createEnumTypeChecker,
	    oneOfType: createUnionTypeChecker,
	    shape: createShapeTypeChecker
	  };

	  /**
	   * inlined Object.is polyfill to avoid requiring consumers ship their own
	   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
	   */
	  /*eslint-disable no-self-compare*/
	  function is(x, y) {
	    // SameValue algorithm
	    if (x === y) {
	      // Steps 1-5, 7-10
	      // Steps 6.b-6.e: +0 != -0
	      return x !== 0 || 1 / x === 1 / y;
	    } else {
	      // Step 6.a: NaN == NaN
	      return x !== x && y !== y;
	    }
	  }
	  /*eslint-enable no-self-compare*/

	  /**
	   * We use an Error-like object for backward compatibility as people may call
	   * PropTypes directly and inspect their output. However, we don't use real
	   * Errors anymore. We don't inspect their stack anyway, and creating them
	   * is prohibitively expensive if they are created too often, such as what
	   * happens in oneOfType() for any type before the one that matched.
	   */
	  function PropTypeError(message) {
	    this.message = message;
	    this.stack = '';
	  }
	  // Make `instanceof Error` still work for returned errors.
	  PropTypeError.prototype = Error.prototype;

	  function createChainableTypeChecker(validate) {
	    if (process.env.NODE_ENV !== 'production') {
	      var manualPropTypeCallCache = {};
	      var manualPropTypeWarningCount = 0;
	    }
	    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
	      componentName = componentName || ANONYMOUS;
	      propFullName = propFullName || propName;

	      if (secret !== ReactPropTypesSecret) {
	        if (throwOnDirectAccess) {
	          // New behavior only for users of `prop-types` package
	          invariant(
	            false,
	            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
	            'Use `PropTypes.checkPropTypes()` to call them. ' +
	            'Read more at http://fb.me/use-check-prop-types'
	          );
	        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {
	          // Old behavior for people using React.PropTypes
	          var cacheKey = componentName + ':' + propName;
	          if (
	            !manualPropTypeCallCache[cacheKey] &&
	            // Avoid spamming the console because they are often not actionable except for lib authors
	            manualPropTypeWarningCount < 3
	          ) {
	            warning(
	              false,
	              'You are manually calling a React.PropTypes validation ' +
	              'function for the `%s` prop on `%s`. This is deprecated ' +
	              'and will throw in the standalone `prop-types` package. ' +
	              'You may be seeing this warning due to a third-party PropTypes ' +
	              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',
	              propFullName,
	              componentName
	            );
	            manualPropTypeCallCache[cacheKey] = true;
	            manualPropTypeWarningCount++;
	          }
	        }
	      }
	      if (props[propName] == null) {
	        if (isRequired) {
	          if (props[propName] === null) {
	            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
	          }
	          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
	        }
	        return null;
	      } else {
	        return validate(props, propName, componentName, location, propFullName);
	      }
	    }

	    var chainedCheckType = checkType.bind(null, false);
	    chainedCheckType.isRequired = checkType.bind(null, true);

	    return chainedCheckType;
	  }

	  function createPrimitiveTypeChecker(expectedType) {
	    function validate(props, propName, componentName, location, propFullName, secret) {
	      var propValue = props[propName];
	      var propType = getPropType(propValue);
	      if (propType !== expectedType) {
	        // `propValue` being instance of, say, date/regexp, pass the 'object'
	        // check, but we can offer a more precise error message here rather than
	        // 'of type `object`'.
	        var preciseType = getPreciseType(propValue);

	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createAnyTypeChecker() {
	    return createChainableTypeChecker(emptyFunction.thatReturnsNull);
	  }

	  function createArrayOfTypeChecker(typeChecker) {
	    function validate(props, propName, componentName, location, propFullName) {
	      if (typeof typeChecker !== 'function') {
	        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
	      }
	      var propValue = props[propName];
	      if (!Array.isArray(propValue)) {
	        var propType = getPropType(propValue);
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
	      }
	      for (var i = 0; i < propValue.length; i++) {
	        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
	        if (error instanceof Error) {
	          return error;
	        }
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createElementTypeChecker() {
	    function validate(props, propName, componentName, location, propFullName) {
	      var propValue = props[propName];
	      if (!isValidElement(propValue)) {
	        var propType = getPropType(propValue);
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createInstanceTypeChecker(expectedClass) {
	    function validate(props, propName, componentName, location, propFullName) {
	      if (!(props[propName] instanceof expectedClass)) {
	        var expectedClassName = expectedClass.name || ANONYMOUS;
	        var actualClassName = getClassName(props[propName]);
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createEnumTypeChecker(expectedValues) {
	    if (!Array.isArray(expectedValues)) {
	      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;
	      return emptyFunction.thatReturnsNull;
	    }

	    function validate(props, propName, componentName, location, propFullName) {
	      var propValue = props[propName];
	      for (var i = 0; i < expectedValues.length; i++) {
	        if (is(propValue, expectedValues[i])) {
	          return null;
	        }
	      }

	      var valuesString = JSON.stringify(expectedValues);
	      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createObjectOfTypeChecker(typeChecker) {
	    function validate(props, propName, componentName, location, propFullName) {
	      if (typeof typeChecker !== 'function') {
	        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
	      }
	      var propValue = props[propName];
	      var propType = getPropType(propValue);
	      if (propType !== 'object') {
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
	      }
	      for (var key in propValue) {
	        if (propValue.hasOwnProperty(key)) {
	          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
	          if (error instanceof Error) {
	            return error;
	          }
	        }
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createUnionTypeChecker(arrayOfTypeCheckers) {
	    if (!Array.isArray(arrayOfTypeCheckers)) {
	      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;
	      return emptyFunction.thatReturnsNull;
	    }

	    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
	      var checker = arrayOfTypeCheckers[i];
	      if (typeof checker !== 'function') {
	        warning(
	          false,
	          'Invalid argument supplid to oneOfType. Expected an array of check functions, but ' +
	          'received %s at index %s.',
	          getPostfixForTypeWarning(checker),
	          i
	        );
	        return emptyFunction.thatReturnsNull;
	      }
	    }

	    function validate(props, propName, componentName, location, propFullName) {
	      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
	        var checker = arrayOfTypeCheckers[i];
	        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
	          return null;
	        }
	      }

	      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createNodeChecker() {
	    function validate(props, propName, componentName, location, propFullName) {
	      if (!isNode(props[propName])) {
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function createShapeTypeChecker(shapeTypes) {
	    function validate(props, propName, componentName, location, propFullName) {
	      var propValue = props[propName];
	      var propType = getPropType(propValue);
	      if (propType !== 'object') {
	        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
	      }
	      for (var key in shapeTypes) {
	        var checker = shapeTypes[key];
	        if (!checker) {
	          continue;
	        }
	        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
	        if (error) {
	          return error;
	        }
	      }
	      return null;
	    }
	    return createChainableTypeChecker(validate);
	  }

	  function isNode(propValue) {
	    switch (typeof propValue) {
	      case 'number':
	      case 'string':
	      case 'undefined':
	        return true;
	      case 'boolean':
	        return !propValue;
	      case 'object':
	        if (Array.isArray(propValue)) {
	          return propValue.every(isNode);
	        }
	        if (propValue === null || isValidElement(propValue)) {
	          return true;
	        }

	        var iteratorFn = getIteratorFn(propValue);
	        if (iteratorFn) {
	          var iterator = iteratorFn.call(propValue);
	          var step;
	          if (iteratorFn !== propValue.entries) {
	            while (!(step = iterator.next()).done) {
	              if (!isNode(step.value)) {
	                return false;
	              }
	            }
	          } else {
	            // Iterator will provide entry [k,v] tuples rather than values.
	            while (!(step = iterator.next()).done) {
	              var entry = step.value;
	              if (entry) {
	                if (!isNode(entry[1])) {
	                  return false;
	                }
	              }
	            }
	          }
	        } else {
	          return false;
	        }

	        return true;
	      default:
	        return false;
	    }
	  }

	  function isSymbol(propType, propValue) {
	    // Native Symbol.
	    if (propType === 'symbol') {
	      return true;
	    }

	    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
	    if (propValue['@@toStringTag'] === 'Symbol') {
	      return true;
	    }

	    // Fallback for non-spec compliant Symbols which are polyfilled.
	    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
	      return true;
	    }

	    return false;
	  }

	  // Equivalent of `typeof` but with special handling for array and regexp.
	  function getPropType(propValue) {
	    var propType = typeof propValue;
	    if (Array.isArray(propValue)) {
	      return 'array';
	    }
	    if (propValue instanceof RegExp) {
	      // Old webkits (at least until Android 4.0) return 'function' rather than
	      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
	      // passes PropTypes.object.
	      return 'object';
	    }
	    if (isSymbol(propType, propValue)) {
	      return 'symbol';
	    }
	    return propType;
	  }

	  // This handles more types than `getPropType`. Only used for error messages.
	  // See `createPrimitiveTypeChecker`.
	  function getPreciseType(propValue) {
	    if (typeof propValue === 'undefined' || propValue === null) {
	      return '' + propValue;
	    }
	    var propType = getPropType(propValue);
	    if (propType === 'object') {
	      if (propValue instanceof Date) {
	        return 'date';
	      } else if (propValue instanceof RegExp) {
	        return 'regexp';
	      }
	    }
	    return propType;
	  }

	  // Returns a string that is postfixed to a warning about an invalid type.
	  // For example, "undefined" or "of type array"
	  function getPostfixForTypeWarning(value) {
	    var type = getPreciseType(value);
	    switch (type) {
	      case 'array':
	      case 'object':
	        return 'an ' + type;
	      case 'boolean':
	      case 'date':
	      case 'regexp':
	        return 'a ' + type;
	      default:
	        return type;
	    }
	  }

	  // Returns class name of the object, if any.
	  function getClassName(propValue) {
	    if (!propValue.constructor || !propValue.constructor.name) {
	      return ANONYMOUS;
	    }
	    return propValue.constructor.name;
	  }

	  ReactPropTypes.checkPropTypes = checkPropTypes;
	  ReactPropTypes.PropTypes = ReactPropTypes;

	  return ReactPropTypes;
	};

	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 10 */
/***/ (function(module, exports) {

	"use strict";

	/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 * 
	 */

	function makeEmptyFunction(arg) {
	  return function () {
	    return arg;
	  };
	}

	/**
	 * This function accepts and discards inputs; it has no side effects. This is
	 * primarily useful idiomatically for overridable function endpoints which
	 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
	 */
	var emptyFunction = function emptyFunction() {};

	emptyFunction.thatReturns = makeEmptyFunction;
	emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
	emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
	emptyFunction.thatReturnsNull = makeEmptyFunction(null);
	emptyFunction.thatReturnsThis = function () {
	  return this;
	};
	emptyFunction.thatReturnsArgument = function (arg) {
	  return arg;
	};

	module.exports = emptyFunction;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */

	'use strict';

	/**
	 * Use invariant() to assert state which your program assumes to be true.
	 *
	 * Provide sprintf-style format (only %s is supported) and arguments
	 * to provide information about what broke and what you were
	 * expecting.
	 *
	 * The invariant message will be stripped in production, but the invariant
	 * will remain to ensure logic does not differ in production.
	 */

	var validateFormat = function validateFormat(format) {};

	if (process.env.NODE_ENV !== 'production') {
	  validateFormat = function validateFormat(format) {
	    if (format === undefined) {
	      throw new Error('invariant requires an error message argument');
	    }
	  };
	}

	function invariant(condition, format, a, b, c, d, e, f) {
	  validateFormat(format);

	  if (!condition) {
	    var error;
	    if (format === undefined) {
	      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');
	    } else {
	      var args = [a, b, c, d, e, f];
	      var argIndex = 0;
	      error = new Error(format.replace(/%s/g, function () {
	        return args[argIndex++];
	      }));
	      error.name = 'Invariant Violation';
	    }

	    error.framesToPop = 1; // we don't care about invariant's own frame
	    throw error;
	  }
	}

	module.exports = invariant;
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {/**
	 * Copyright 2014-2015, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */

	'use strict';

	var emptyFunction = __webpack_require__(10);

	/**
	 * Similar to invariant but only logs a warning if the condition is not met.
	 * This can be used to log issues in development environments in critical
	 * paths. Removing the logging code for production environments will keep the
	 * same logic and follow the same code paths.
	 */

	var warning = emptyFunction;

	if (process.env.NODE_ENV !== 'production') {
	  (function () {
	    var printWarning = function printWarning(format) {
	      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	        args[_key - 1] = arguments[_key];
	      }

	      var argIndex = 0;
	      var message = 'Warning: ' + format.replace(/%s/g, function () {
	        return args[argIndex++];
	      });
	      if (typeof console !== 'undefined') {
	        console.error(message);
	      }
	      try {
	        // --- Welcome to debugging React ---
	        // This error was thrown as a convenience so that you can use this stack
	        // to find the callsite that caused this warning to fire.
	        throw new Error(message);
	      } catch (x) {}
	    };

	    warning = function warning(condition, format) {
	      if (format === undefined) {
	        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');
	      }

	      if (format.indexOf('Failed Composite propType: ') === 0) {
	        return; // Ignore CompositeComponent proptype check.
	      }

	      if (!condition) {
	        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
	          args[_key2 - 2] = arguments[_key2];
	        }

	        printWarning.apply(undefined, [format].concat(args));
	      }
	    };
	  })();
	}

	module.exports = warning;
	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 13 */
/***/ (function(module, exports) {

	/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */

	'use strict';

	var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

	module.exports = ReactPropTypesSecret;


/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	/* WEBPACK VAR INJECTION */(function(process) {/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */

	'use strict';

	if (process.env.NODE_ENV !== 'production') {
	  var invariant = __webpack_require__(11);
	  var warning = __webpack_require__(12);
	  var ReactPropTypesSecret = __webpack_require__(13);
	  var loggedTypeFailures = {};
	}

	/**
	 * Assert that the values match with the type specs.
	 * Error messages are memorized and will only be shown once.
	 *
	 * @param {object} typeSpecs Map of name to a ReactPropType
	 * @param {object} values Runtime values that need to be type-checked
	 * @param {string} location e.g. "prop", "context", "child context"
	 * @param {string} componentName Name of the component for error messages.
	 * @param {?Function} getStack Returns the component stack.
	 * @private
	 */
	function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
	  if (process.env.NODE_ENV !== 'production') {
	    for (var typeSpecName in typeSpecs) {
	      if (typeSpecs.hasOwnProperty(typeSpecName)) {
	        var error;
	        // Prop type validation may throw. In case they do, we don't want to
	        // fail the render phase where it didn't fail before. So we log it.
	        // After these have been cleaned up, we'll let them throw.
	        try {
	          // This is intentionally an invariant that gets caught. It's the same
	          // behavior as without this statement except with a better message.
	          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', componentName || 'React class', location, typeSpecName);
	          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
	        } catch (ex) {
	          error = ex;
	        }
	        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);
	        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
	          // Only monitor this failure once because there tends to be a lot of the
	          // same error.
	          loggedTypeFailures[error.message] = true;

	          var stack = getStack ? getStack() : '';

	          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');
	        }
	      }
	    }
	  }
	}

	module.exports = checkPropTypes;

	/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

	/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */

	'use strict';

	var emptyFunction = __webpack_require__(10);
	var invariant = __webpack_require__(11);
	var ReactPropTypesSecret = __webpack_require__(13);

	module.exports = function() {
	  function shim(props, propName, componentName, location, propFullName, secret) {
	    if (secret === ReactPropTypesSecret) {
	      // It is still safe when called from React.
	      return;
	    }
	    invariant(
	      false,
	      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
	      'Use PropTypes.checkPropTypes() to call them. ' +
	      'Read more at http://fb.me/use-check-prop-types'
	    );
	  };
	  shim.isRequired = shim;
	  function getShim() {
	    return shim;
	  };
	  // Important!
	  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.
	  var ReactPropTypes = {
	    array: shim,
	    bool: shim,
	    func: shim,
	    number: shim,
	    object: shim,
	    string: shim,
	    symbol: shim,

	    any: shim,
	    arrayOf: getShim,
	    element: shim,
	    instanceOf: getShim,
	    node: shim,
	    objectOf: getShim,
	    oneOf: getShim,
	    oneOfType: getShim,
	    shape: getShim
	  };

	  ReactPropTypes.checkPropTypes = emptyFunction;
	  ReactPropTypes.PropTypes = ReactPropTypes;

	  return ReactPropTypes;
	};


/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _utils = __webpack_require__(4);

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Styles = function () {
	  function Styles(adonis, options) {
	    _classCallCheck(this, Styles);

	    this._adonis = adonis;
	    this._options = (0, _utils.defaults)(options, {
	      variations: [],
	      styles: {},
	      name: 'Unnamed'
	    });

	    var _adonis$getOptions = this._adonis.getOptions(),
	        hashedStyles = _adonis$getOptions.hashedStyles;

	    if (hashedStyles && typeof this._options.styles !== 'string') {
	      throw new Error('Passing style objects with `hashedStyles` set to true is invalid.');
	    }
	    this._hash = hashedStyles ? this._options.styles : (0, _utils.hashObject)(this._options.styles);
	    this._variationHashes = this._hashVariations();
	  }

	  /**
	   * Generates hashes for all existing variations
	   * @return {Object}
	   * @private
	   */


	  _createClass(Styles, [{
	    key: '_hashVariations',
	    value: function _hashVariations() {
	      var hashes = {};

	      var _adonis$getOptions2 = this._adonis.getOptions(),
	          hashedStyles = _adonis$getOptions2.hashedStyles;

	      var variations = this._options.variations;

	      for (var variation in variations) {
	        var variationStyles = variations[variation];
	        hashes[variation] = hashedStyles ? variationStyles : (0, _utils.hashObject)(variationStyles);
	      }
	      return hashes;
	    }

	    /**
	     * Returns an identifier for the given active variations
	     * @param  {String[]} variations
	     * @return {String}
	     */

	  }, {
	    key: 'getIdentifierForVariations',
	    value: function getIdentifierForVariations(variations) {
	      var _this = this;

	      var name = this._options.name;

	      var _adonis$getOptions3 = this._adonis.getOptions(),
	          hashSeparator = _adonis$getOptions3.hashSeparator,
	          variationSeparator = _adonis$getOptions3.variationSeparator;

	      var identifier = '' + name + hashSeparator + this._hash;
	      variations.sort().forEach(function (variation) {
	        var hash = _this._variationHashes[variation];
	        if (!hash) return;
	        identifier += '' + variationSeparator + variation + hashSeparator + hash;
	      });
	      return identifier;
	    }

	    /**
	     * Returns the styles object
	     * @return {Object}
	     */

	  }, {
	    key: 'getStyles',
	    value: function getStyles() {
	      return this._options.styles;
	    }

	    /**
	     * Returns the styles for the given variations
	     * @param  {String[]} variations
	     * @return {Object[]}
	     */

	  }, {
	    key: 'getVariationStyles',
	    value: function getVariationStyles(variations) {
	      var allVariations = this._options.variations;

	      if (!variations) return allVariations;

	      return variations.map(function (variation) {
	        return allVariations[variation];
	      }).filter(function (v) {
	        return v;
	      });
	    }

	    /**
	     * Returns all available variations
	     * @return {String[]}
	     */

	  }, {
	    key: 'getVariations',
	    value: function getVariations() {
	      return Object.keys(this._options.variations || {});
	    }
	  }]);

	  return Styles;
	}();

	exports.default = Styles;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _utils = __webpack_require__(4);

	var _ruleset = __webpack_require__(18);

	var _ruleset2 = _interopRequireDefault(_ruleset);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var StylesManager = function () {
	  function StylesManager(adonis, styles, activeVariations, theme) {
	    _classCallCheck(this, StylesManager);

	    this._adonis = adonis;
	    this._styles = styles;
	    this._theme = theme;
	    this._activeVariations = activeVariations;
	    this._className = this._generateClassName(this._activeVariations);
	    this._baseSelector = '.' + this._className;
	    this._rulesets = this._generateRulesets();
	  }

	  /**
	   * Generates the CSS of all rulesets
	   * @return {String[]}
	   */


	  _createClass(StylesManager, [{
	    key: 'generateCSS',
	    value: function generateCSS() {
	      return this._rulesets.map(function (ruleset) {
	        return ruleset.toCSS();
	      }).filter(function (r) {
	        return r;
	      });
	    }

	    /**
	     * Buffers the rulesets that have not been buffered yet
	     */

	  }, {
	    key: 'bufferRulesets',
	    value: function bufferRulesets() {
	      var stylesBuffer = this._adonis.getStylesBuffer();
	      var rulesets = this._rulesets.filter(function (ruleset) {
	        return !stylesBuffer.isSelectorBuffered(ruleset.getSelector()) && ruleset.hasDeclarations();
	      }).map(function (ruleset) {
	        return [ruleset.getSelector(), ruleset.toCSS()];
	      });
	      stylesBuffer.bufferRulesets(rulesets);
	    }

	    /**
	     * Returns the deeply merged styles object
	     * @param {String[]} activeVariations = []
	     * @return {Object}
	     * @private
	     */

	  }, {
	    key: '_getCombinedStyles',
	    value: function _getCombinedStyles() {
	      var activeVariations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

	      var allStyles = (0, _utils.flatten)(this._styles.map(function (s) {
	        return [s.getStyles(), s.getVariationStyles(activeVariations)];
	      }));

	      return (0, _utils.deepMergeAll)(allStyles);
	    }

	    /**
	     * Generates the class name
	     * @param {String[]} activeVariations = []
	     * @return {String}
	     * @private
	     */

	  }, {
	    key: '_generateClassName',
	    value: function _generateClassName() {
	      var activeVariations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];

	      var _adonis$getOptions = this._adonis.getOptions(),
	          nameSeparator = _adonis$getOptions.nameSeparator,
	          classNamePrefix = _adonis$getOptions.classNamePrefix;

	      return classNamePrefix + this._styles.map(function (style) {
	        return style.getIdentifierForVariations(activeVariations);
	      }).join(nameSeparator);
	    }

	    /**
	     * Generates the rulesets and sub rulesets
	     * @return {Ruleset[]}
	     * @private
	     */

	  }, {
	    key: '_generateRulesets',
	    value: function _generateRulesets() {
	      var defaultRuleset = new _ruleset2.default(this._adonis, this._baseSelector, this._getCombinedStyles(this._activeVariations), {
	        theme: this._theme
	      });
	      return (0, _utils.flatten)([defaultRuleset, defaultRuleset.getSubRulesets()]);
	    }

	    /**
	     * Returns the class name
	     * @return {String}
	     */

	  }, {
	    key: 'getClassName',
	    value: function getClassName() {
	      return this._className;
	    }
	  }]);

	  return StylesManager;
	}();

	exports.default = StylesManager;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _utils = __webpack_require__(4);

	var _declaration = __webpack_require__(19);

	var _declaration2 = _interopRequireDefault(_declaration);

	var _extensions = __webpack_require__(21);

	var _extensions2 = _interopRequireDefault(_extensions);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Ruleset = function () {
	  function Ruleset(adonis, selector, styles, options) {
	    _classCallCheck(this, Ruleset);

	    this._options = options;

	    this._adonis = adonis;
	    this._selector = selector;
	    this._styles = styles;
	    this._resolvedStyles = (0, _utils.resolveStylesObject)(this._styles, this._options.theme);

	    var _adonis$getOptions = this._adonis.getOptions(),
	        hashedStyles = _adonis$getOptions.hashedStyles;

	    this._hash = hashedStyles ? this._styles : (0, _utils.hashObject)(this._styles);

	    var _parseStyles2 = this._parseStyles(),
	        subRulesets = _parseStyles2.subRulesets,
	        declarations = _parseStyles2.declarations;

	    this._subRulesets = subRulesets;
	    this._declarations = declarations;
	  }

	  /**
	   * If any registered extension resolves the given key to a sub ruleset, this method
	   * returns the new Ruleset
	   * @param  {String} key
	   * @param  {String|Object} value
	   * @return {Ruleset}
	   * @private
	   */


	  _createClass(Ruleset, [{
	    key: '_getSubRuleset',
	    value: function _getSubRuleset(key, value) {
	      var _this = this;

	      var _adonis$getOptions2 = this._adonis.getOptions(),
	          minified = _adonis$getOptions2.minified;

	      var subRuleset = null;
	      var generateSubRuleset = function generateSubRuleset(newSelector, parentSelector) {
	        var options = (0, _utils.deepMerge)(_this._options, {
	          parentSelector: parentSelector
	        });
	        subRuleset = new Ruleset(_this._adonis, newSelector, value, options);
	      };

	      for (var i = 0; i < _extensions2.default.length; i++) {
	        var extension = _extensions2.default[i];
	        extension(key, this._selector, generateSubRuleset, minified);
	        if (subRuleset) return subRuleset;
	      }
	    }

	    /**
	     * Parses this ruleset's styles object and returns the parsed declarations and sub rulesets
	     * @return {Object}
	     * @private
	     */

	  }, {
	    key: '_parseStyles',
	    value: function _parseStyles() {
	      var subRulesets = [];
	      var declarations = [];
	      for (var key in this._resolvedStyles) {
	        var value = this._resolvedStyles[key];
	        var subRuleset = this._getSubRuleset(key, value);
	        if (subRuleset) {
	          subRulesets.push(subRuleset, subRuleset.getSubRulesets());
	        } else {
	          declarations.push(new _declaration2.default(this._adonis, key, value));
	        }
	      }
	      return { subRulesets: subRulesets, declarations: declarations };
	    }

	    /**
	     * Returns the CSS string for this ruleset
	     * @return {String}
	     */

	  }, {
	    key: 'toCSS',
	    value: function toCSS() {
	      var parentSelector = this._options.parentSelector;

	      var _adonis$getOptions3 = this._adonis.getOptions(),
	          minified = _adonis$getOptions3.minified,
	          cssSelectorPrefix = _adonis$getOptions3.cssSelectorPrefix;

	      if (this._declarations.length === 0) return null;

	      var parentIsAtRule = parentSelector && parentSelector.match(/^@/);

	      var css = '';
	      var indentation = '';
	      if (parentSelector) {
	        if (cssSelectorPrefix && !parentIsAtRule) {
	          css += cssSelectorPrefix;
	        }
	        css += parentSelector + (minified ? '{' : ' {\n');
	        indentation = '  ';
	      } else {
	        css += cssSelectorPrefix;
	      }

	      var selector = '';
	      if (cssSelectorPrefix && parentIsAtRule) {
	        selector += cssSelectorPrefix;
	      }
	      selector += this._selector;

	      css += indentation + selector + (minified ? '{' : ' {\n');
	      this._declarations.forEach(function (rule) {
	        css += indentation + rule.toCSS() + (minified ? '' : '\n');
	      });
	      css += indentation + '}';

	      if (parentSelector) {
	        css += minified ? '}' : '\n}';
	      }
	      return css;
	    }

	    /**
	     * Returns this ruleset's sub rulesets
	     * @return {Ruleset[]}
	     */

	  }, {
	    key: 'getSubRulesets',
	    value: function getSubRulesets() {
	      return this._subRulesets;
	    }

	    /**
	     * Checks if this ruleset has declarations
	     * @return {Boolean}
	     */

	  }, {
	    key: 'hasDeclarations',
	    value: function hasDeclarations() {
	      return this._declarations.length !== 0;
	    }

	    /**
	     * Returns the selector
	     * @return {String}
	     */

	  }, {
	    key: 'getSelector',
	    value: function getSelector() {
	      return this._selector;
	    }
	  }]);

	  return Ruleset;
	}();

	exports.default = Ruleset;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _cssPrefixes = __webpack_require__(20);

	var _cssPrefixes2 = _interopRequireDefault(_cssPrefixes);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Declaration = function () {
	  function Declaration(adonis, key, value) {
	    _classCallCheck(this, Declaration);

	    this._adonis = adonis;
	    this.key = key;
	    this.value = value;
	    this.cssKey = this.key.replace(/([A-Z])/g, function (g) {
	      return '-' + g[0].toLowerCase();
	    });
	  }

	  /**
	   * If this declaration's key requires vendor prefixes, this function returns an array of [key, value]
	   * pairs with prefixed keys.
	   * @return {Array[]}
	   * @private
	   */


	  _createClass(Declaration, [{
	    key: '_getAutoPrefixedKeyPairs',
	    value: function _getAutoPrefixedKeyPairs() {
	      var _this = this;

	      var prefixes = _cssPrefixes2.default[this.key];
	      var keyPairs = [];
	      if (prefixes) {
	        prefixes.forEach(function (prefix) {
	          keyPairs.push(['-' + prefix + '-' + _this.cssKey, _this.value]);
	        });
	      }
	      return keyPairs;
	    }

	    /**
	     * Returns the CSS string for this declaration
	     * @return {String}
	     */

	  }, {
	    key: 'toCSS',
	    value: function toCSS() {
	      var _adonis$getOptions = this._adonis.getOptions(),
	          minified = _adonis$getOptions.minified,
	          autoPrefix = _adonis$getOptions.autoPrefix;

	      var keyPairs = [[this.cssKey, this.value]];
	      if (autoPrefix) {
	        keyPairs = keyPairs.concat(this._getAutoPrefixedKeyPairs());
	      }

	      return keyPairs.map(function (_ref) {
	        var _ref2 = _slicedToArray(_ref, 2),
	            key = _ref2[0],
	            value = _ref2[1];

	        return '' + (minified ? '' : '  ') + key + ':' + (minified ? '' : ' ') + value + ';';
	      }).join(minified ? '' : '\n');
	    }
	  }]);

	  return Declaration;
	}();

	exports.default = Declaration;

/***/ }),
/* 20 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	var wk = 'webkit';
	var mz = 'moz';
	var ms = 'ms';
	exports.default = {
	  appearance: [wk, mz],
	  userSelect: [wk, mz, ms],
	  textEmphasisPosition: [wk],
	  textEmphasis: [wk],
	  textEmphasisStyle: [wk],
	  textEmphasisColor: [wk],
	  boxDecorationBreak: [wk],
	  clipPath: [wk],
	  maskImage: [wk],
	  maskMode: [wk],
	  maskRepeat: [wk],
	  maskPosition: [wk],
	  maskClip: [wk],
	  maskOrigin: [wk],
	  maskSize: [wk],
	  maskComposite: [wk],
	  mask: [wk],
	  maskBorderSource: [wk],
	  maskBorderMode: [wk],
	  maskBorderSlice: [wk],
	  maskBorderWidth: [wk],
	  maskBorderOutset: [wk],
	  maskBorderRepeat: [wk],
	  maskBorder: [wk],
	  maskType: [wk],
	  textDecorationStyle: [wk],
	  textDecorationSkip: [wk],
	  textDecorationLine: [wk],
	  textDecorationColor: [wk],
	  filter: [wk],
	  fontFeatureSettings: [wk],
	  breakAfter: [wk, mz, ms],
	  breakBefore: [wk, mz, ms],
	  breakInside: [wk, mz, ms],
	  columnCount: [wk, mz],
	  columnFill: [wk, mz],
	  columnGap: [wk, mz],
	  columnRule: [wk, mz],
	  columnRuleColor: [wk, mz],
	  columnRuleStyle: [wk, mz],
	  columnRuleWidth: [wk, mz],
	  columns: [wk, mz],
	  columnSpan: [wk, mz],
	  columnWidth: [wk, mz],
	  flex: [wk],
	  flexBasis: [wk],
	  flexDirection: [wk],
	  flexGrow: [wk],
	  flexFlow: [wk],
	  flexShrink: [wk],
	  flexWrap: [wk],
	  alignContent: [wk],
	  alignItems: [wk],
	  alignSelf: [wk],
	  justifyContent: [wk],
	  order: [wk],
	  transform: [wk],
	  transformOrigin: [wk],
	  transformOriginX: [wk],
	  transformOriginY: [wk],
	  backfaceVisibility: [wk],
	  perspective: [wk],
	  perspectiveOrigin: [wk],
	  transformStyle: [wk],
	  transformOriginZ: [wk],
	  animation: [wk],
	  animationDelay: [wk],
	  animationDirection: [wk],
	  animationFillMode: [wk],
	  animationDuration: [wk],
	  animationIterationCount: [wk],
	  animationName: [wk],
	  animationPlayState: [wk],
	  animationTimingFunction: [wk],
	  backdropFilter: [wk],
	  fontKerning: [wk],
	  scrollSnapType: [wk, ms],
	  scrollSnapPointsX: [wk, ms],
	  scrollSnapPointsY: [wk, ms],
	  scrollSnapDestination: [wk, ms],
	  scrollSnapCoordinate: [wk, ms],
	  shapeImageThreshold: [wk],
	  shapeImageMargin: [wk],
	  shapeImageOutside: [wk],
	  hyphens: [wk, mz, ms],
	  flowInto: [wk, ms],
	  flowFrom: [wk, ms],
	  regionFragment: [wk, ms],
	  textAlignLast: [mz],
	  tabSize: [mz],
	  wrapFlow: [ms],
	  wrapThrough: [ms],
	  wrapMargin: [ms],
	  gridTemplateColumns: [ms],
	  gridTemplateRows: [ms],
	  gridTemplateAreas: [ms],
	  gridTemplate: [ms],
	  gridAutoColumns: [ms],
	  gridAutoRows: [ms],
	  gridAutoFlow: [ms],
	  grid: [ms],
	  gridRowStart: [ms],
	  gridColumnStart: [ms],
	  gridRowEnd: [ms],
	  gridRow: [ms],
	  gridColumn: [ms],
	  gridColumnEnd: [ms],
	  gridColumnGap: [ms],
	  gridRowGap: [ms],
	  gridArea: [ms],
	  gridGap: [ms],
	  textSizeAdjust: [wk, ms],
	  transitionDelay: [wk],
	  transitionDuration: [wk],
	  transitionProperty: [wk],
	  transitionTimingFunction: [wk]
	};

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _immediateChildSelectorExtension = __webpack_require__(22);

	var _immediateChildSelectorExtension2 = _interopRequireDefault(_immediateChildSelectorExtension);

	var _selfSelectorExtension = __webpack_require__(23);

	var _selfSelectorExtension2 = _interopRequireDefault(_selfSelectorExtension);

	var _pseudoClassesExtension = __webpack_require__(24);

	var _pseudoClassesExtension2 = _interopRequireDefault(_pseudoClassesExtension);

	var _mediaQueryExtension = __webpack_require__(25);

	var _mediaQueryExtension2 = _interopRequireDefault(_mediaQueryExtension);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.default = [_immediateChildSelectorExtension2.default, _selfSelectorExtension2.default, _pseudoClassesExtension2.default, _mediaQueryExtension2.default];

/***/ }),
/* 22 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	/**
	 * Creates a sub ruleset every time an immediate child selector (e.g. '> h1') is found
	 */
	exports.default = function (selector, baseSelector, generateSubRuleset, minified) {
	  selector = selector.trim();
	  if (selector[0] !== '>') {
	    return null;
	  }
	  selector = selector.slice(1).trim();
	  var newSelector = baseSelector;
	  if (!minified) newSelector += ' ';
	  newSelector += '>';
	  if (!minified) newSelector += ' ';
	  newSelector += selector;

	  return generateSubRuleset(newSelector);
	};

/***/ }),
/* 23 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	/**
	 * Creates a sub ruleset every time a self selector (e.g. '& h1, h2, h3') is found
	 */
	exports.default = function (selector, baseSelector, generateSubRuleset, minified) {
	  selector = selector.trim();
	  if (selector[0] !== '&') {
	    return null;
	  }

	  var extendingSelector = !selector.match(/^&\s+/); // `&.foo` (extending) vs. `& .foo` (non extending)
	  selector = selector.replace(/^&/, ''); // `& h1, h2, h3` => ` h1, h2, h3`

	  var newSelector = selector.split(',').map(function (s) {
	    return s.trim();
	  }) // h1, h2, h3 => [h1, h2, h3]
	  .map(function (s, i) {
	    return '' + baseSelector + (i === 0 && extendingSelector ? '' : ' ') + s;
	  }) // [h1, h2, h3] => [.base h1, .base h2, .base h3]
	  .join(', '); // [.base h1, .base h2, .base h3] => `.base h1, .base h2, .base h3`
	  return generateSubRuleset(newSelector);
	};

/***/ }),
/* 24 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	/**
	 * Creates a sub ruleset every time an pseudo class (e.g. ':last-child') is found
	 */
	exports.default = function (selector, baseSelector, generateSubRuleset, minified) {
	  selector = selector.trim();
	  if (selector[0] !== ':') {
	    return null;
	  }

	  var newSelector = baseSelector + selector;
	  return generateSubRuleset(newSelector);
	};

/***/ }),
/* 25 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	/**
	 * Creates a sub ruleset every time a media query is found
	 */
	exports.default = function (selector, baseSelector, generateSubRuleset, minified) {
	  selector = selector.trim();
	  if (selector[0] !== '@') {
	    return null;
	  }

	  return generateSubRuleset(baseSelector, selector);
	};

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _utils = __webpack_require__(4);

	var _ruleset = __webpack_require__(18);

	var _ruleset2 = _interopRequireDefault(_ruleset);

	var _stylesManager = __webpack_require__(17);

	var _stylesManager2 = _interopRequireDefault(_stylesManager);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	/**
	 * The PreinjectionStylesManager is similar to StylesManager, except that it creates styles for
	 * every possible combination of active variations
	 */
	var PreinjectionStylesManager = function (_StylesManager) {
	  _inherits(PreinjectionStylesManager, _StylesManager);

	  function PreinjectionStylesManager(adonis, styles, theme) {
	    _classCallCheck(this, PreinjectionStylesManager);

	    return _possibleConstructorReturn(this, (PreinjectionStylesManager.__proto__ || Object.getPrototypeOf(PreinjectionStylesManager)).call(this, adonis, styles, [], theme));
	  }

	  /**
	   * Generates rulesets for all possible variation combinations
	   * @return {Ruleset[]}
	   * @private
	   */


	  _createClass(PreinjectionStylesManager, [{
	    key: '_generateVariationRulesets',
	    value: function _generateVariationRulesets() {
	      var _this2 = this;

	      var allVariations = (0, _utils.flatten)(this._styles.map(function (s) {
	        return s.getVariations();
	      }));
	      var allCombinations = (0, _utils.findAllCombinations)(allVariations);

	      return allCombinations.map(function (variations) {
	        var className = _this2._generateClassName(variations);
	        var selector = '.' + className;
	        var ruleset = new _ruleset2.default(_this2._adonis, selector, _this2._getCombinedStyles(variations), {
	          theme: _this2._theme
	        });
	        return [ruleset, ruleset.getSubRulesets()];
	      });
	    }

	    /**
	     * Generates the rulesets and sub rulesets
	     * @return {Ruleset[]}
	     * @private
	     */

	  }, {
	    key: '_generateRulesets',
	    value: function _generateRulesets() {
	      var defaultRuleset = new _ruleset2.default(this._adonis, this._baseSelector, this._getCombinedStyles(), {
	        theme: this._theme
	      });
	      var rulesets = [defaultRuleset, defaultRuleset.getSubRulesets()];
	      rulesets.push(this._generateVariationRulesets());
	      return (0, _utils.flatten)(rulesets);
	    }
	  }]);

	  return PreinjectionStylesManager;
	}(_stylesManager2.default);

	exports.default = PreinjectionStylesManager;

/***/ }),
/* 27 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.default = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', 'circle', 'clipPath', 'defs', 'ellipse', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _styles = __webpack_require__(16);

	var _styles2 = _interopRequireDefault(_styles);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var BaseStyles = function (_Styles) {
	  _inherits(BaseStyles, _Styles);

	  function BaseStyles() {
	    _classCallCheck(this, BaseStyles);

	    return _possibleConstructorReturn(this, (BaseStyles.__proto__ || Object.getPrototypeOf(BaseStyles)).apply(this, arguments));
	  }

	  return BaseStyles;
	}(_styles2.default);

	exports.default = BaseStyles;

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(6);

	var _react2 = _interopRequireDefault(_react);

	var _propTypes = __webpack_require__(8);

	var _propTypes2 = _interopRequireDefault(_propTypes);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	exports.default = function (ThemableComponent) {
	  var ComponentWithTheme = function (_React$Component) {
	    _inherits(ComponentWithTheme, _React$Component);

	    function ComponentWithTheme() {
	      _classCallCheck(this, ComponentWithTheme);

	      return _possibleConstructorReturn(this, (ComponentWithTheme.__proto__ || Object.getPrototypeOf(ComponentWithTheme)).apply(this, arguments));
	    }

	    _createClass(ComponentWithTheme, [{
	      key: '_cloneProps',

	      /**
	       * Returns a shallow clone of this component's props
	       * @return {Object}
	       * @private
	       */
	      value: function _cloneProps() {
	        var _this2 = this;

	        var elementProps = {};
	        Object.keys(this.props).forEach(function (prop) {
	          elementProps[prop] = _this2.props[prop];
	        });
	        return elementProps;
	      }

	      /**
	       * Renders the component
	       * @return {React.Element|React.Component}
	       */

	    }, {
	      key: 'render',
	      value: function render() {
	        var elementProps = this._cloneProps();

	        var innerRef = elementProps.innerRef;

	        if (innerRef) {
	          elementProps.ref = innerRef;
	        }
	        delete elementProps.innerRef;

	        return _react2.default.createElement(ThemableComponent, elementProps);
	      }
	    }]);

	    return ComponentWithTheme;
	  }(_react2.default.Component);

	  ComponentWithTheme.contextTypes = {
	    theme: _propTypes2.default.object
	  };

	  return ComponentWithTheme;
	};

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(6);

	var _react2 = _interopRequireDefault(_react);

	var _propTypes = __webpack_require__(8);

	var _propTypes2 = _interopRequireDefault(_propTypes);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var ThemeProvider = function (_Component) {
	  _inherits(ThemeProvider, _Component);

	  function ThemeProvider() {
	    _classCallCheck(this, ThemeProvider);

	    return _possibleConstructorReturn(this, (ThemeProvider.__proto__ || Object.getPrototypeOf(ThemeProvider)).apply(this, arguments));
	  }

	  _createClass(ThemeProvider, [{
	    key: 'getChildContext',
	    value: function getChildContext() {
	      var context = {};
	      for (var prop in this.context) {
	        context[prop] = this.context;
	      }
	      context.theme = this.props.theme;
	      return context;
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      if (!this.props.children) {
	        return null;
	      }
	      return _react2.default.Children.only(this.props.children);
	    }
	  }]);

	  return ThemeProvider;
	}(_react.Component);

	exports.default = ThemeProvider;


	ThemeProvider.childContextTypes = {
	  theme: _propTypes2.default.object.isRequired
	};

	ThemeProvider.contextTypes = {
	  theme: _propTypes2.default.object
	};

/***/ })
/******/ ])
});
;

/***/ }),
/* 154 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(91);
__webpack_require__(33);
__webpack_require__(45);
__webpack_require__(160);
__webpack_require__(167);
__webpack_require__(168);
module.exports = __webpack_require__(9).Promise;


/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(62);
var defined = __webpack_require__(59);
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),
/* 156 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create = __webpack_require__(60);
var descriptor = __webpack_require__(28);
var setToStringTag = __webpack_require__(44);
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__(19)(IteratorPrototype, __webpack_require__(11)('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__(158);
var step = __webpack_require__(159);
var Iterators = __webpack_require__(27);
var toIObject = __webpack_require__(20);

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__(92)(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),
/* 158 */
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),
/* 159 */
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),
/* 160 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__(43);
var global = __webpack_require__(13);
var ctx = __webpack_require__(24);
var classof = __webpack_require__(67);
var $export = __webpack_require__(12);
var isObject = __webpack_require__(17);
var aFunction = __webpack_require__(39);
var anInstance = __webpack_require__(161);
var forOf = __webpack_require__(162);
var speciesConstructor = __webpack_require__(96);
var task = __webpack_require__(69).set;
var microtask = __webpack_require__(164)();
var newPromiseCapabilityModule = __webpack_require__(70);
var perform = __webpack_require__(97);
var promiseResolve = __webpack_require__(98);
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[__webpack_require__(11)('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value);
            if (domain) domain.exit();
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = __webpack_require__(165)($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
__webpack_require__(44)($Promise, PROMISE);
__webpack_require__(166)(PROMISE);
Wrapper = __webpack_require__(9)[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(99)(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});


/***/ }),
/* 161 */
/***/ (function(module, exports) {

module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};


/***/ }),
/* 162 */
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__(24);
var call = __webpack_require__(94);
var isArrayIter = __webpack_require__(95);
var anObject = __webpack_require__(14);
var toLength = __webpack_require__(61);
var getIterFn = __webpack_require__(68);
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;


/***/ }),
/* 163 */
/***/ (function(module, exports) {

// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};


/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(13);
var macrotask = __webpack_require__(69).set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = __webpack_require__(29)(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    var promise = Promise.resolve();
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};


/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {

var hide = __webpack_require__(19);
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};


/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(13);
var core = __webpack_require__(9);
var dP = __webpack_require__(16);
var DESCRIPTORS = __webpack_require__(18);
var SPECIES = __webpack_require__(11)('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};


/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// https://github.com/tc39/proposal-promise-finally

var $export = __webpack_require__(12);
var core = __webpack_require__(9);
var global = __webpack_require__(13);
var speciesConstructor = __webpack_require__(96);
var promiseResolve = __webpack_require__(98);

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });


/***/ }),
/* 168 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-promise-try
var $export = __webpack_require__(12);
var newPromiseCapability = __webpack_require__(70);
var perform = __webpack_require__(97);

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });


/***/ }),
/* 169 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shared_log__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_browser__ = __webpack_require__(192);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__ = __webpack_require__(48);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var SDKUtils = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Utils;
var Vector2 = __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Vector2;


var UIUtils = {
  /**
   * Returns the inner dimensions (size - padding) of the given
   * DOM element
   * @param  {DOMElement} element
   * @return {Vector2}
   */
  getInnerDimensionsForElement: function getInnerDimensionsForElement(element) {
    var size = new Vector2(element.offsetWidth, element.offsetHeight);
    var computedStyle = window.getComputedStyle(element, null);
    size.x -= parseInt(computedStyle.getPropertyValue('padding-left'), 10);
    size.x -= parseInt(computedStyle.getPropertyValue('padding-right'), 10);
    size.y -= parseInt(computedStyle.getPropertyValue('padding-top'), 10);
    size.y -= parseInt(computedStyle.getPropertyValue('padding-bottom'), 10);
    return size;
  },


  /**
   * Gets the x and y position for the given event.
   * @param {Event} e
   * @return {Vector2}
   */
  getEventPosition: function getEventPosition(e) {
    var x = e.clientX;
    var y = e.clientY;
    if (e.type.indexOf('touch') !== -1) {
      if (!e.touches.length) return;

      x = e.touches[0].clientX;
      y = e.touches[0].clientY;
    }
    return new Vector2(x, y);
  },


  /**
   * Creates a canvas with a transparency pattern
   * @return {Canvas}
   */
  createTransparentPatternCanvas: function createTransparentPatternCanvas() {
    var canvas = document.createElement('canvas');
    var context = canvas.getContext('2d');

    canvas.width = 10;
    canvas.height = 10;

    context.fillStyle = 'white';
    context.fillRect(0, 0, canvas.width, canvas.height);
    context.fillStyle = '#cccccc';
    context.fillRect(0, 0, canvas.width / 2, canvas.height / 2);
    context.fillRect(canvas.width / 2, canvas.height / 2, canvas.width, canvas.height);

    return canvas;
  },


  /**
   * Checks if the browser supports canvas.msToBlob
   * @return {Boolean}
   */
  supportsMSBlob: function supportsMSBlob() {
    var canvas = document.createElement('canvas');
    return typeof canvas.msToBlob !== 'undefined';
  },


  /**
   * Translates the given key using the given options
   * @param  {Object} phrases
   * @param  {String} key
   * @param  {Object} interpolationOptions = {}
   * @return {String}
   */
  translate: function translate(phrases, key) {
    var interpolationOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    var response = this.fetch(phrases, key);
    if (!response) {
      __WEBPACK_IMPORTED_MODULE_1_shared_log__["a" /* default */].info('Utils#translate', 'Unable to translate `' + key + '`');
      return null;
    }
    for (var _key in interpolationOptions) {
      response = response.replace('${' + _key + '}', interpolationOptions[_key]);
    }
    return response;
  },


  /**
   * Gets the property value at `path` of `object`
   * @param  {Object} object
   * @param  {String} path
   * @param  {?} [defaultValue]
   * @return {?}
   */
  fetch: function fetch(object, path, defaultValue) {
    // Replace indexes with property accessors
    path = path.replace(/\[(\w+)]/g, '.$1');
    // Strip leading dot (when path begins with [0] for example)
    path = path.replace(/^\./, '');

    var pathSegments = path.split('.');
    for (var i = 0; i < pathSegments.length; i++) {
      var segment = pathSegments[i];
      object = object[segment];
      if (!object) {
        break;
      }
    }

    if (typeof object === 'undefined') {
      return false;
    }

    return object;
  },


  /**
   * Checks whether the user agent represents a mobile device
   * @return {Boolean}
   */
  isMobile: function isMobile() {
    var a = navigator.userAgent || navigator.vendor || window.opera;
    /* eslint-disable */
    return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))
    );
    /* eslint-enable */
  },


  /**
   * Selects the `selectedItems` from `items`. `selector` is called for every item, return value
   * is matched against `selectedItems`
   * @param  {Array} items
   * @param  {Array} selectedItems
   * @param  {Function} [selector = null]
   * @return {Array}
   */
  select: function select(items, selectedItems) {
    var selector = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

    if (!selector) selector = function selector(i) {
      return i;
    };

    var newItems = [];
    selectedItems.forEach(function (selectedItem) {
      items.forEach(function (item) {
        var itemIdentifier = selector(item);
        if (itemIdentifier === selectedItem) {
          newItems.push(item);
        }
      });
    });
    return newItems;
  },


  /**
   * Gets the given URL using JSON(P)
   * @param  {String} url
   * @return {Promise}
   */
  getJSONP: function getJSONP(url) {
    var loader = new __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__["a" /* default */](url);
    return loader.load();
  },


  /**
   * Clones the given `categories` array
   * @param  {Object[]} categories
   * @param {String} itemsProperty
   * @return {Object[]}
   */
  cloneCategories: function cloneCategories(categories, itemsProperty) {
    return categories.map(function (category) {
      category = SDKUtils.clone(category);
      category[itemsProperty] = category[itemsProperty].slice(0);
      return category;
    });
  },


  /**
   * Merges the given `newCategories` into the given `categories`
   * @param  {Object[]} categories
   * @param  {Object[]} newCategories
   * @param  {String} itemsProperty
   * @private
   */
  mergeCategories: function mergeCategories(categories, newCategories, itemsProperty) {
    categories = this.cloneCategories(categories, itemsProperty);

    var existingCategory = null;
    newCategories.forEach(function (newCategory) {
      categories.forEach(function (category) {
        if (newCategory.identifier === category.identifier) {
          existingCategory = category;
        }
      });

      if (!existingCategory) {
        categories.push(newCategory);
      } else {
        existingCategory[itemsProperty] = existingCategory[itemsProperty].concat(newCategory[itemsProperty]);
      }
    });

    return categories;
  },


  /**
   * Returns a camelized style object for the given DOMElement
   * @param  {DOMElement} el
   * @return {Object}
   */
  getStyleObject: function getStyleObject(el) {
    var styleProperties = window.getComputedStyle(el);
    var styleObject = {};
    for (var property in styleProperties) {
      var value = styleProperties.getPropertyValue(property);
      var camelizedAttr = property.replace(/-([a-z])/g, function (a, b) {
        return b.toUpperCase();
      });
      if (value !== '') {
        styleObject[camelizedAttr] = value;
      }
    }
    return styleObject;
  },


  /**
   * Applies the given styles to the given element
   * @param  {DOMElement} element
   * @param  {Object} styles
   */
  styleElement: function styleElement(element, styles) {
    for (var prop in styles) {
      element.style[prop] = styles[prop];
    }
  },


  /**
   * Debounces the given function to trigger only every so often
   * @param  {Function} fn
   * @param  {Number}   wait
   * @param  {Boolean}
   * @return {Function}
   */
  debounce: function debounce(fn, wait, immediate) {
    var timeout;
    return function () {
      var _this = this;

      var args = arguments;
      var later = function later() {
        timeout = null;
        if (!immediate) fn.apply(_this, args);
      };
      var callNow = immediate && !timeout;
      clearTimeout(timeout);
      timeout = setTimeout(later, wait);
      if (callNow) fn.apply(this, args);
    };
  },


  /**
   * Finds the native scrollbar width for the current browser
   * @return {Number}
   */
  getScrollbarWidth: function getScrollbarWidth() {
    var outer = document.createElement('div');
    outer.style.visibility = 'hidden';
    outer.style.width = '100px';
    outer.style.msOverflowStyle = 'scrollbar';
    document.body.appendChild(outer);

    var widthNoScroll = outer.offsetWidth;
    outer.style.overflow = 'scroll';

    var inner = document.createElement('div');
    inner.style.width = '100%';
    outer.appendChild(inner);

    var widthWithScroll = inner.offsetWidth;
    outer.parentNode.removeChild(outer);

    return widthNoScroll - widthWithScroll;
  },


  /**
   * Finds the closest integer fraction for the given Number
   * @param  {Number} ratio
   * @param  {Number} maxIterations = 100
   * @return {Vector2}
   */
  findIntegerFraction: function findIntegerFraction(ratio) {
    var maxIterations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;

    var bestDelta = Number.MAX_VALUE;
    var bestX = 0;
    var bestY = 0;
    var x = 1;
    var y = 1;
    for (var iterations = 0; iterations < maxIterations; iterations++) {
      var delta = x / y - ratio;

      if (delta < 0) {
        x++;
      } else if (delta > 0) {
        y++;
      } else {
        return new Vector2(x, y);
      }

      var newDelta = Math.abs(x / y - ratio);
      if (newDelta < bestDelta) {
        bestDelta = newDelta;
        bestX = x;
        bestY = y;
      }
    }

    return new Vector2(bestX, bestY);
  },


  /**
   * Returns the given number with the given amount of decimals, but removes trailing
   * zeroes by casting it to a float
   * @param  {Number} number
   * @param  {Number} decimals
   * @return {Number}
   */
  toFixed: function toFixed(number) {
    var decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;

    var fixed = number.toFixed(decimals);
    return parseFloat(fixed);
  },


  /**
   * Returns the given string with the first character uppercased
   * @param  {String} str
   * @return {String}
   */
  capitalize: function capitalize(str) {
    return str.charAt(0).toUpperCase() + str.slice(1);
  },


  /**
   * Returns a new object with flipped values and keys
   * @param  {Object} obj
   * @return {Object}
   */
  flipObject: function flipObject(obj) {
    var newObj = {};
    for (var key in obj) {
      newObj[obj[key]] = key;
    }
    return newObj;
  },


  Browser: __WEBPACK_IMPORTED_MODULE_2__utils_browser__["a" /* default */]
};

/* harmony default export */ __webpack_exports__["a"] = (UIUtils);

/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(33);
__webpack_require__(171);
module.exports = __webpack_require__(9).Array.from;


/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ctx = __webpack_require__(24);
var $export = __webpack_require__(12);
var toObject = __webpack_require__(31);
var call = __webpack_require__(94);
var isArrayIter = __webpack_require__(95);
var toLength = __webpack_require__(61);
var createProperty = __webpack_require__(172);
var getIterFn = __webpack_require__(68);

$export($export.S + $export.F * !__webpack_require__(99)(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});


/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $defineProperty = __webpack_require__(16);
var createDesc = __webpack_require__(28);

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};


/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(174), __esModule: true };

/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__(9);
var $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });
module.exports = function stringify(it) { // eslint-disable-line no-unused-vars
  return $JSON.stringify.apply($JSON, arguments);
};


/***/ }),
/* 175 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol_iterator__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__base64__ = __webpack_require__(190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__array_utils__ = __webpack_require__(191);









var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol___default.a === "function" && typeof __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol_iterator___default.a === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol___default.a === "function" && obj.constructor === __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol___default.a && obj !== __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_symbol___default.a.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_array_from___default()(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* global HTMLElement, WEBPACK */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



/**
 * Provides utility functions for internal use
 * @class
 * @memberof PhotoEditorSDK
 * @private
 */

var Utils = function () {
  function Utils() {
    _classCallCheck(this, Utils);
  }

  _createClass(Utils, null, [{
    key: 'isArray',

    /**
     * Checks if the given object is an Array
     * @param  {Object}  object
     * @return {Boolean}
     */
    value: function isArray(object) {
      return Object.prototype.toString.call(object) === '[object Array]';
    }

    /**
     * Checks if a given object is a plain object (i.e., a literal object) or not.
     * @param {any} object
     * @returns Boolean
     */

  }, {
    key: 'isPlainObject',
    value: function isPlainObject(object) {
      if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) !== 'object' || !object) {
        return false;
      }

      if (typeof __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_get_prototype_of___default.a === 'function') {
        var proto = __WEBPACK_IMPORTED_MODULE_7_babel_runtime_core_js_object_get_prototype_of___default()(object);
        return proto === Object.prototype || proto === null;
      }

      return Object.prototype.toString.call(object) === '[object Object]';
    }

    /**
     * Checks whether the user agent represents a mobile device
     * @return {Boolean}
     */

  }, {
    key: 'isMobile',
    value: function isMobile() {
      if (typeof navigator === 'undefined') return false;

      var a = navigator.userAgent || navigator.vendor || window.opera;
      /* eslint-disable */
      return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))
      );
      /* eslint-enable */
    }

    /**
     * Checks wether the platform target is a browser
     * @return {Boolean}
     */

  }, {
    key: 'isBrowser',
    value: function isBrowser() {
      return typeof window !== 'undefined';
    }

    /**
     * Checks wether the platform target is Nodejs
     * @return {Boolean}
     */

  }, {
    key: 'isNode',
    value: function isNode() {
      return typeof window === 'undefined' && typeof global !== 'undefined';
    }

    /**
     * Returns the given object's values as an array
     * @param {Object} object
     * @returns {Array<*>}
     */

  }, {
    key: 'values',
    value: function values(object) {
      var values = [];
      for (var key in object) {
        values.push(object[key]);
      }
      return values;
    }

    /**
     * Checks if the given object is a DOM element
     * @param  {Object}  o
     * @return {Boolean}
     */
    /* istanbul ignore next */

  }, {
    key: 'isDOMElement',
    value: function isDOMElement(o) {
      return (typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement)) === 'object' ? o instanceof HTMLElement : o && (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string';
    }

    /**
     * Checks if th given event is a touch event
     * @param  {Event}  e
     * @return {Boolean}
     */

  }, {
    key: 'isTouchEvent',
    value: function isTouchEvent(e) {
      return e.type.indexOf('touch') !== -1;
    }

    /**
     * Resizes the given vector to fit inside the given max size while maintaining
     * the aspect ratio
     * @param  {Vector2} vector
     * @param  {Vector2} max
     * @return {Vector2}
     */

  }, {
    key: 'resizeVectorToFit',
    value: function resizeVectorToFit(vector, max) {
      var scale = Math.min(max.x / vector.x, max.y / vector.y);
      var newSize = vector.clone().multiply(scale);
      return newSize;
    }
  }, {
    key: 'resizeVectorToFill',
    value: function resizeVectorToFill(vector, container) {
      var vectorRatio = vector.x / vector.y;
      var containerRatio = container.x / container.y;
      if (vectorRatio > containerRatio) {
        return container.clone().set(container.y * vectorRatio, container.y);
      } else {
        return container.clone().set(container.x, container.x / vectorRatio);
      }
    }

    /**
     * Checks if this value is extendable / can have keys
     * @param  {*}  val
     * @return {Boolean}
     */

  }, {
    key: 'isExtendable',
    value: function isExtendable(val) {
      return typeof val !== 'undefined' && val !== null && ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' || typeof val === 'function');
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object for all destination properties that resolve to undefined. Once a
     * property is set, additional values of the same property are ignored.
     * @param  {Object} object
     * @param  {Object} ...sources
     * @return {Object}
     */

  }, {
    key: 'defaults',
    value: function defaults(object) {
      // Shallow clone
      var newObject = {};
      for (var key in object) {
        newObject[key] = object[key];
      }

      // Clone sources

      for (var _len = arguments.length, sources = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        sources[_key - 1] = arguments[_key];
      }

      for (var i = 0; i < sources.length; i++) {
        var source = sources[i];
        for (var _key2 in source) {
          if (typeof newObject[_key2] === 'undefined') {
            newObject[_key2] = source[_key2];
          }
        }
      }

      return newObject;
    }

    /**
     * Does a deep merge between a set of objects, from left to right. The merge is
     * deep in the sense that it goes recurseviley trough the objects own
     * properties. When it encounters an array, it only does a shallow copy of it.
     *
     * @param {Object} dest
     * @param {Object[]} sources
     * @returns {Object}
     */

  }, {
    key: 'deepMerge',
    value: function deepMerge(dest) {
      // deep merge between two objects only
      var _deepMerge = function _deepMerge(dest, source) {
        // If the source is undefined, return a copy of dest
        if (source === undefined) {
          return _deepMerge(null, dest);
        }

        // If the source is an array, return a shallow copy
        if (Array.isArray(source)) {
          return [].concat(_toConsumableArray(source));
        }

        // If the source is not a plain object, just return it
        if (!Utils.isPlainObject(source)) {
          return source;
        }

        // If dest is an not a plain object, return a shallow copy of the source
        if (!Utils.isPlainObject(dest)) {
          return _extends({}, source);
        }

        // Shallow-copy the original object
        var result = _extends({}, dest);

        // Go trough each source key
        __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys___default()(source).forEach(function (key) {
          var value = source[key];
          if (value === undefined) {
            return;
          }
          result[key] = _deepMerge(dest[key], value);
        });
        return result;
      };

      for (var _len2 = arguments.length, sources = Array(_len2 > 1 ? _len2 - 1 : 0), _key3 = 1; _key3 < _len2; _key3++) {
        sources[_key3 - 1] = arguments[_key3];
      }

      return sources.reduce(_deepMerge, dest);
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object for all destination properties and their properties that resolve to
     * undefined. Once a property is set, additional value sof the same property
     * are ignored.
     * @param  {Object} object
     * @param  {Object} ...sources
     * @return {Object}
     */

  }, {
    key: 'deepDefaults',
    value: function deepDefaults(object) {
      for (var _len3 = arguments.length, sources = Array(_len3 > 1 ? _len3 - 1 : 0), _key4 = 1; _key4 < _len3; _key4++) {
        sources[_key4 - 1] = arguments[_key4];
      }

      var reversedSources = [].concat(sources).reverse();
      return Utils.deepMerge.apply(Utils, _toConsumableArray(reversedSources).concat([object]));
    }

    /**
     * Creates a deep clone of the given object
     * @param  {Object}    object
     * @return {Object}
     */

  }, {
    key: 'deepClone',
    value: function deepClone(object) {
      var newObject = {};
      for (var key in object) {
        if (Utils.isExtendable(object[key])) {
          newObject[key] = Utils.deepClone(object[key]);
        } else {
          newObject[key] = object[key];
        }
      }
      return newObject;
    }

    /**
     * Get a deep property inside an object.
     *
     * @param {Object} object - the object
     * @param {String[]} path - Either a string with the prop's
     *  name, or an array of prop names and/or functions describing a path in a
     *  nested object. Any function passed in the array should function as a getter
     *  for a prop.
     *
     * @returns {(any|undefined)} - The prop's value, or undefined if the prop is
     * not found
     */

  }, {
    key: 'getDeepProperty',
    value: function getDeepProperty(object, path) {
      if (typeof path === 'string') {
        return object[path];
      }

      if (!Array.isArray(path)) {
        return undefined;
      }

      // When we have a getter function inside the array, call it as a getter,
      // ignoring any type errors thrown by it (just return undefined.)
      var callPropName = function callPropName(object, propName) {
        var value = void 0;
        try {
          value = propName(object);
        } catch (e) {
          if (!(e instanceof TypeError)) {
            throw e;
          }
        }

        return value;
      };

      return path.reduce(function (object, propName) {
        return object ? typeof propName === 'function' ? callPropName(object, propName) : object[propName] : null;
      }, object);
    }

    /**
     * Assigns own enumerable properties of source object(s) to the destination
     * object. Subsequent sources overwrite property assignments of previous
     * sources.
     * @param {Object} object
     * @param {Object} ...sources
     * @return {Object}
     */

  }, {
    key: 'extend',
    value: function extend(object) {
      // Shallow clone
      var newObject = {};
      for (var key in object) {
        newObject[key] = object[key];
      }

      // Extend sources

      for (var _len4 = arguments.length, sources = Array(_len4 > 1 ? _len4 - 1 : 0), _key5 = 1; _key5 < _len4; _key5++) {
        sources[_key5 - 1] = arguments[_key5];
      }

      for (var i = 0; i < sources.length; i++) {
        var source = sources[i];
        for (var _key6 in source) {
          newObject[_key6] = source[_key6];
        }
      }

      return newObject;
    }

    /**
     * Creates a shallow clone of the given object
     * @param {Object} object
     * @returns {Object}
     */

  }, {
    key: 'clone',
    value: function clone(object) {
      return this.extend({}, object);
    }

    /**
     * Creates a Blob URI from the given Data URI
     * @param {String} data
     */

  }, {
    key: 'createBlobURIFromDataURI',
    value: function createBlobURIFromDataURI(data) {
      var root = typeof window === 'undefined' ? global : window;
      if (!root.Blob || !root.URL || !ArrayBuffer || !Uint8Array) {
        return data;
      }

      var rawData = __WEBPACK_IMPORTED_MODULE_8__base64__["a" /* default */].decode(data.split(',')[1]);
      var mimeString = data.split(',')[0].split(':')[1].split(';')[0];

      // write the bytes of the string to an ArrayBuffer
      var arrayBuffer = new ArrayBuffer(rawData.length);
      var intArray = new Uint8Array(arrayBuffer);
      for (var i = 0; i < rawData.length; i++) {
        intArray[i] = rawData[i];
      }

      // write the ArrayBuffer to a blob, and you're done
      var blob = new root.Blob([arrayBuffer], {
        type: mimeString
      });
      return root.URL.createObjectURL(blob);
    }

    /**
     * Generates a UUID
     * @return {String}
     */

  }, {
    key: 'getUUID',
    value: function getUUID() {
      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0;
        var v = c === 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
      });
    }

    /**
     * Creates a canvas DOM element (browser) or a node-canvas canvas (node)
     * @return {Canvas}
     */

  }, {
    key: 'createCanvas',
    value: function createCanvas() {
      return document.createElement('canvas');
    }

    /**
     * Checks if the given dimensions are POT
     * @param  {PhotoEditorSDK.Math.Vector2}  dimensions
     * @return {Boolean}
     */

  }, {
    key: 'isPowerOfTwo',
    value: function isPowerOfTwo(dimensions) {
      return (dimensions.x & dimensions.x - 1) === 0 && (dimensions.y & dimensions.y - 1) === 0;
    }

    /**
     * Returns the next lowest power of two of the given number
     * @param  {Number} x
     * @return {Number}
     */

  }, {
    key: 'nextLowestPOT',
    value: function nextLowestPOT(x) {
      for (var i = 1; i < 32; i <<= 1) {
        x = x | x >> i;
      }
      return x - (x >> 1);
    }

    /**
     * Returns the next highest power of two of the given number
     * @param  {Number} x
     * @return {Number}
     */

  }, {
    key: 'nextHighestPOT',
    value: function nextHighestPOT(x) {
      x--;
      for (var i = 1; i < 32; i <<= 1) {
        x = x | x >> i;
      }
      return x + 1;
    }

    /**
     * Moves the array item at `oldIndex` to `newIndex`
     * @param  {Array} arr
     * @param  {Number} oldIndex
     * @param  {Number} newIndex
     */

  }, {
    key: 'moveArrayItem',
    value: function moveArrayItem(arr, oldIndex, newIndex) {
      if (newIndex >= arr.length) {
        var k = newIndex - arr.length;
        while (k-- + 1) {
          arr.push(undefined);
        }
      }
      arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);
    }

    /**
     * Makes sure the given canvas has the given dimensions. If not, it does not change the
     * canvas dimensions.
     * @param  {Canvas} canvas
     * @param  {PhotoEditorSDK.Math.Vector2} dimensions
     */

  }, {
    key: 'ensureCanvasDimensions',
    value: function ensureCanvasDimensions(canvas, dimensions) {
      if (canvas.width !== dimensions.x || canvas.height !== dimensions.y) {
        canvas.width = dimensions.x;
        canvas.height = dimensions.y;
      }
    }

    /**
     * Converts the given array of bytes to a string
     * @param  {Number[]} byteArray
     * @return {String}
     */

  }, {
    key: 'byteArrayToString',
    value: function byteArrayToString(byteArray) {
      return byteArray.map(function (byte) {
        return String.fromCharCode(byte);
      }).join('');
    }

    /**
     * Clamps the given `number` into `min` and `max`
     * @param  {Number} number
     * @param  {Number} min
     * @param  {Number} max
     * @return {Number}
     */

  }, {
    key: 'clamp',
    value: function clamp(number, min, max) {
      return Math.max(min, Math.min(number, max));
    }

    /**
     * Checks if the given string matches the given wildcard
     * @param  {String} str
     * @param  {String} rule
     * @return {Boolean}
     */

  }, {
    key: 'wildCardMatch',
    value: function wildCardMatch(str, rule) {
      return new RegExp('^' + rule.split('*').join('.*') + '$').test(str);
    }

    /**
     * Returns a new object with flipped values and keys
     * @param  {Object} obj
     * @return {Object}
     */

  }, {
    key: 'flipObject',
    value: function flipObject(obj) {
      var newObj = {};
      for (var key in obj) {
        newObj[obj[key]] = key;
      }
      return newObj;
    }

    /**
     * Returns a clone of the given options object
     * @param  {Object} options
     * @return {Object}
     */

  }, {
    key: 'cloneOptions',
    value: function cloneOptions(options) {
      var newOptions = {};
      for (var key in options) {
        var value = options[key];
        if (Array.isArray(value)) {
          value = value.slice();
        } else if (value.clone) {
          value = value.clone();
        }
        newOptions[key] = value;
      }
      return newOptions;
    }

    /**
     * Returns the given date as RFC 3339
     * @param {Date} date
     * @return {String}
     */

  }, {
    key: 'ISODateString',
    value: function ISODateString(date) {
      function pad(n) {
        return n < 10 ? '0' + n : n;
      }
      return date.getUTCFullYear() + '-' + pad(date.getUTCMonth() + 1) + '-' + pad(date.getUTCDate()) + 'T' + pad(date.getUTCHours()) + ':' + pad(date.getUTCMinutes()) + ':' + pad(date.getUTCSeconds()) + 'Z';
    }
  }, {
    key: 'getCrossOriginValue',
    value: function getCrossOriginValue(crossOrigin) {
      if (!crossOrigin) {
        return 'anonymous';
      }

      if (crossOrigin === 'none') {
        return undefined;
      }

      return crossOrigin;
    }

    /**
     * Shallow equal compare two objects
     * @param {*} objA
     * @param {*} objB
     * @returns {Boolean}
     */

  }, {
    key: 'shallowEqual',
    value: function shallowEqual(objA, objB) {
      if (objA === objB) {
        return true;
      }

      if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {
        return false;
      }

      var keysA = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys___default()(objA);
      var keysB = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_keys___default()(objB);

      if (keysA.length !== keysB.length) {
        return false;
      }
      // Test for A's keys different from B.
      var bHasOwnProperty = hasOwnProperty.bind(objB);
      for (var i = 0; i < keysA.length; i++) {
        if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {
          return false;
        }
      }
      return true;
    }

    /**
     * Returns 'value' if condition is met else returns 'undefined'
     * @param {Boolean} condition
     * @param {*} value
     * @returns {*}
     */

  }, {
    key: 'enableIf',
    value: function enableIf(condition, value) {
      return condition ? value : undefined;
    }

    /**
      Throws an error if condition is not met
      @param {Boolean} condition
     */

  }, {
    key: 'invariant',
    value: function invariant(condition, message) {
      if (!condition) {
        var error = new Error(message);
        throw error;
      }
    }

    /**
     * Exectues all Promises in an array, returning a new Promise which
     * will fulfill with an array of the values returned by all promises in
     * the case all of them are resolved, or, with one or more are rejected,
     * rejects with an array containing all the error values.
     *
     * @param {Array<Promise>} promises
     * @returns {Promise<Array>}
     */

  }, {
    key: 'executePromises',
    // eslint-disable-line
    value: function executePromises(promises) {
      var count = promises.length;
      var counter = 0;

      var values = [];
      var errors = [];

      return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var onFinnish = function onFinnish() {
          counter++;
          if (counter >= count) {
            if (errors.length <= 0) {
              resolve(values);
            } else {
              reject(errors);
            }
          }
        };

        var onSuccess = function onSuccess(value) {
          values.push(value);
          onFinnish();
        };

        var onError = function onError(value) {
          errors.push(value);
          onFinnish();
        };

        promises.forEach(function (promise) {
          promise.then(onSuccess).catch(onError);
        });
      });
    }
  }]);

  return Utils;
}();

Utils.Array = __WEBPACK_IMPORTED_MODULE_9__array_utils__["a" /* default */];


/* harmony default export */ __webpack_exports__["a"] = (Utils);
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)))

/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(177);
module.exports = __webpack_require__(9).Object.assign;


/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.1 Object.assign(target, source)
var $export = __webpack_require__(12);

$export($export.S + $export.F, 'Object', { assign: __webpack_require__(178) });


/***/ }),
/* 178 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 19.1.2.1 Object.assign(target, source, ...)
var getKeys = __webpack_require__(30);
var gOPS = __webpack_require__(71);
var pIE = __webpack_require__(40);
var toObject = __webpack_require__(31);
var IObject = __webpack_require__(85);
var $assign = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || __webpack_require__(25)(function () {
  var A = {};
  var B = {};
  // eslint-disable-next-line no-undef
  var S = Symbol();
  var K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function (k) { B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source) { // eslint-disable-line no-unused-vars
  var T = toObject(target);
  var aLen = arguments.length;
  var index = 1;
  var getSymbols = gOPS.f;
  var isEnum = pIE.f;
  while (aLen > index) {
    var S = IObject(arguments[index++]);
    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);
    var length = keys.length;
    var j = 0;
    var key;
    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
  } return T;
} : $assign;


/***/ }),
/* 179 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(33);
__webpack_require__(45);
module.exports = __webpack_require__(72).f('iterator');


/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(181);
__webpack_require__(91);
__webpack_require__(186);
__webpack_require__(187);
module.exports = __webpack_require__(9).Symbol;


/***/ }),
/* 181 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// ECMAScript 6 symbols shim
var global = __webpack_require__(13);
var has = __webpack_require__(21);
var DESCRIPTORS = __webpack_require__(18);
var $export = __webpack_require__(12);
var redefine = __webpack_require__(93);
var META = __webpack_require__(182).KEY;
var $fails = __webpack_require__(25);
var shared = __webpack_require__(64);
var setToStringTag = __webpack_require__(44);
var uid = __webpack_require__(41);
var wks = __webpack_require__(11);
var wksExt = __webpack_require__(72);
var wksDefine = __webpack_require__(73);
var enumKeys = __webpack_require__(183);
var isArray = __webpack_require__(184);
var anObject = __webpack_require__(14);
var isObject = __webpack_require__(17);
var toIObject = __webpack_require__(20);
var toPrimitive = __webpack_require__(57);
var createDesc = __webpack_require__(28);
var _create = __webpack_require__(60);
var gOPNExt = __webpack_require__(185);
var $GOPD = __webpack_require__(58);
var $DP = __webpack_require__(16);
var $keys = __webpack_require__(30);
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  __webpack_require__(101).f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__(40).f = $propertyIsEnumerable;
  __webpack_require__(71).f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !__webpack_require__(43)) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(19)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);


/***/ }),
/* 182 */
/***/ (function(module, exports, __webpack_require__) {

var META = __webpack_require__(41)('meta');
var isObject = __webpack_require__(17);
var has = __webpack_require__(21);
var setDesc = __webpack_require__(16).f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !__webpack_require__(25)(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};


/***/ }),
/* 183 */
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__(30);
var gOPS = __webpack_require__(71);
var pIE = __webpack_require__(40);
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};


/***/ }),
/* 184 */
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__(29);
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),
/* 185 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__(20);
var gOPN = __webpack_require__(101).f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),
/* 186 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(73)('asyncIterator');


/***/ }),
/* 187 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(73)('observable');


/***/ }),
/* 188 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(189);
module.exports = __webpack_require__(9).Object.keys;


/***/ }),
/* 189 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 Object.keys(O)
var toObject = __webpack_require__(31);
var $keys = __webpack_require__(30);

__webpack_require__(66)('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});


/***/ }),
/* 190 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*
 * Extracted from MinifyJpeg (Copyright (c) 2014 Hiroaki Matoba, MIT License):
 * https://github.com/hMatoba/MinifyJpeg
 * @license
 */

var KEY_STR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

/**
 * Provides Base64 encode and decode methods
 * @type {Object}
 * @ignore
 */
/* istanbul ignore next */
var Base64 = {
  /**
   * Encodes the given input into a Base64 string
   * @param  {String} input
   * @return {String}
   */
  encode: function encode(input) {
    var output = '';
    var chr1 = void 0,
        chr2 = void 0,
        chr3 = void 0;
    var enc1 = void 0,
        enc2 = void 0,
        enc3 = void 0,
        enc4 = void 0;
    var i = 0;

    do {
      chr1 = input[i++];
      chr2 = input[i++];
      chr3 = input[i++];

      enc1 = chr1 >> 2;
      enc2 = (chr1 & 3) << 4 | chr2 >> 4;
      enc3 = (chr2 & 15) << 2 | chr3 >> 6;
      enc4 = chr3 & 63;

      if (isNaN(chr2)) {
        enc3 = enc4 = 64;
      } else if (isNaN(chr3)) {
        enc4 = 64;
      }

      output = output + KEY_STR.charAt(enc1) + KEY_STR.charAt(enc2) + KEY_STR.charAt(enc3) + KEY_STR.charAt(enc4);
      chr1 = chr2 = chr3 = '';
      enc1 = enc2 = enc3 = enc4 = '';
    } while (i < input.length);

    return output;
  },


  /**
   * Decodes the given Base64 string
   * @param  {String} input
   * @return {String}
   */
  decode: function decode(input) {
    var chr1 = void 0,
        chr2 = void 0,
        chr3 = void 0;
    var enc1 = void 0,
        enc2 = void 0,
        enc3 = void 0,
        enc4 = void 0;
    var i = 0;
    var buf = [];

    // remove all characters that are not A-Z, a-z, 0-9, +, /, or =
    var base64test = /[^A-Za-z0-9+/=]/g;
    if (base64test.exec(input)) {
      throw new Error('There were invalid base64 characters in the input text.\n' + 'Valid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\n' + 'Expect errors in decoding.');
    }
    input = input.replace(/[^A-Za-z0-9+/=]/g, '');

    do {
      enc1 = KEY_STR.indexOf(input.charAt(i++));
      enc2 = KEY_STR.indexOf(input.charAt(i++));
      enc3 = KEY_STR.indexOf(input.charAt(i++));
      enc4 = KEY_STR.indexOf(input.charAt(i++));

      chr1 = enc1 << 2 | enc2 >> 4;
      chr2 = (enc2 & 15) << 4 | enc3 >> 2;
      chr3 = (enc3 & 3) << 6 | enc4;

      buf.push(chr1);

      if (enc3 !== 64) {
        buf.push(chr2);
      }
      if (enc4 !== 64) {
        buf.push(chr3);
      }

      chr1 = chr2 = chr3 = '';
      enc1 = enc2 = enc3 = enc4 = '';
    } while (i < input.length);

    return buf;
  }
};

/* harmony default export */ __webpack_exports__["a"] = (Base64);

/***/ }),
/* 191 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

var ArrayUtils = function () {
  function ArrayUtils() {
    _classCallCheck(this, ArrayUtils);
  }

  _createClass(ArrayUtils, null, [{
    key: "head",

    /**
     * Returns the first element in an array
     * @param {Array<A>} arr
     * @returns {A}
     */
    value: function head(arr) {
      return arr[0];
    }

    /**
     * Returns a shallow copy of the array excluding the first element
     * @param {Array<A>} arr
     * @returns {Array<A>}
     */

  }, {
    key: "tail",
    value: function tail(arr) {
      return arr.slice(1);
    }

    /**
     * Returns the last element of an array
     * @param {Array<A>} arr
     * @returns {A}
     */

  }, {
    key: "last",
    value: function last(arr) {
      return arr[arr.length - 1];
    }

    /**
     * Returns a shallow copy of the array excluding the last element
     * @param {Array<A>} arr
     * @returns {Array<A>}
     */

  }, {
    key: "init",
    value: function init(arr) {
      return arr.slice(0, arr.length - 1);
    }

    /**
     * Returns a shallow copy of the array with the elements tha pass
     * the test function removed.
     * @param {Array<A>} arr
     * @param {Function} func - A test function
     */

  }, {
    key: "remove",
    value: function remove(arr, func) {
      return arr.filter(function (v, i, arr) {
        return !func(v, i, arr);
      });
    }

    /**
     * Finds the index first element of the Array to which the supplied function returns
     * a true value. If the element is not found it returns -1.
     *
     * @param {Array} array
     * @param {Function} func
     * @returns {number}
     */

  }, {
    key: "findIndex",
    value: function findIndex(array, func) {
      for (var i = 0; i < array.length; i++) {
        if (func(array[i])) {
          return i;
        }
      }

      return -1;
    }

    /**
     * Finds the first element of the Array to which the supplied function returns
     * a true value and returns it. Otherwise it returns undefined.
     *
     * @param {Array} array
     * @param {Function} func
     * @returns {any}
     */

  }, {
    key: "find",
    value: function find(array, func) {
      for (var i = 0; i < array.length; i++) {
        if (func(array[i])) {
          return array[i];
        }
      }

      return undefined;
    }

    /**
     * Flattens the given multidimensional array
     *
     * @return {Array}
     */

  }, {
    key: "flatten",
    value: function flatten(array) {
      return array.reduce(function (flat, toFlatten) {
        return flat.concat(Array.isArray(toFlatten) ? ArrayUtils.flatten(toFlatten) : toFlatten);
      }, []);
    }

    /**
     * Returns and array containing the numbers going from `start` (inclusive) to
     * `end` (exclusive)
     *
     * @param {number} start
     * @param {number} end
     * @returns Array
     */

  }, {
    key: "range",
    value: function range(start, end) {
      var arr = [];

      if (end > start) {
        for (var i = start; i < end; i++) {
          arr.push(i);
        }
      }

      return arr;
    }

    /**
     * Returns an array consisting of the value `val` repeated `n` times.
     *
     * @param {any} val
     * @param {number} n
     * @returns {Array}
     */

  }, {
    key: "repeat",
    value: function repeat(val, n) {
      var arr = [];

      for (var i = 0; i < n; i++) {
        arr[i] = val;
      }

      return arr;
    }

    /**
     * Returns an array which is an array of arrays of equally positioned items in both arrays,
     * e.g, zip([1, 2, 3], [4, 5, 6]) = [[1, 4], [2, 5], [3, 6]]
     *
     * @param {Array} a
     * @param {Array} b
     * @returns {Array}
     */

  }, {
    key: "zip",
    value: function zip(a, b) {
      var len = Math.min(a.length, b.length);
      var arr = [];

      for (var i = 0; i < len; i++) {
        arr[i] = [a[i], b[i]];
      }

      return arr;
    }
  }]);

  return ArrayUtils;
}();

/* harmony default export */ __webpack_exports__["a"] = (ArrayUtils);

/***/ }),
/* 192 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

/* harmony default export */ __webpack_exports__["a"] = ({
  /**
   * Returns the internet explorer version or false, if browser is not an IE
   * @return {String|Boolean}
   */
  getIEVersion: function getIEVersion() {
    var _navigator = navigator,
        userAgent = _navigator.userAgent,
        appVersion = _navigator.appVersion;

    if (appVersion.indexOf('MSIE') !== -1) {
      return appVersion.match(/MSIE\s+?([0-9]+)/i)[1];
    } else if (userAgent.indexOf('Trident') !== -1) {
      return userAgent.match(/rv:([0-9]+)/i)[1];
    } else {
      return false;
    }
  },


  /**
   * Checks if the current browser is an IE 10
   * @return {Boolean}
   */
  isIE10: function isIE10() {
    var version = this.getIEVersion();
    return version !== false && version === 10;
  },


  /**
   * Checks if the current browser is an IE 11
   * @return {Boolean}
   */
  isIE11: function isIE11() {
    var version = this.getIEVersion();
    return version !== false && version === 11;
  },


  /**
   * Checks if the current browser is an IE with a version number lower than or equal to the given
   * version
   * @param  {String}  version
   * @return {Boolean}
   */
  isIElte: function isIElte(version) {
    var browserVersion = this.getIEVersion();
    if (browserVersion === false) return false;
    return browserVersion <= version;
  }
});

/***/ }),
/* 193 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set_immediate__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set_immediate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set_immediate__);






var _typeof = typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && typeof __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default.a === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && obj.constructor === __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a && obj !== __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a.prototype ? "symbol" : typeof obj; };

/* eslint-disable */

/*!
 * Native Promise Only
 * v0.8.0-a (c) Kyle Simpson
 * MIT License: http://getify.mit-license.org
 */

/* istanbul ignore next */
var promiseFactory = function DEF() {
  /*jshint validthis:true */
  "use strict";

  var builtInProp,
      cycle,
      scheduling_queue,
      ToString = Object.prototype.toString,
      timer = typeof __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set_immediate___default.a != "undefined" ? function timer(fn) {
    return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_set_immediate___default()(fn);
  } : setTimeout;

  // dammit, IE8.
  try {
    Object.defineProperty({}, "x", {});
    builtInProp = function builtInProp(obj, name, val, config) {
      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default()(obj, name, {
        value: val,
        writable: true,
        configurable: config !== false
      });
    };
  } catch (err) {
    builtInProp = function builtInProp(obj, name, val) {
      obj[name] = val;
      return obj;
    };
  }

  // Note: using a queue instead of array for efficiency
  scheduling_queue = function Queue() {
    var first, last, item;

    function Item(fn, self) {
      this.fn = fn;
      this.self = self;
      this.next = void 0;
    }

    return {
      add: function add(fn, self) {
        item = new Item(fn, self);
        if (last) {
          last.next = item;
        } else {
          first = item;
        }
        last = item;
        item = void 0;
      },
      drain: function drain() {
        var f = first;
        first = last = cycle = void 0;

        while (f) {
          f.fn.call(f.self);
          f = f.next;
        }
      }
    };
  }();

  function schedule(fn, self) {
    scheduling_queue.add(fn, self);
    if (!cycle) {
      cycle = timer(scheduling_queue.drain);
    }
  }

  // promise duck typing
  function isThenable(o) {
    var _then,
        o_type = typeof o === "undefined" ? "undefined" : _typeof(o);

    if (o != null && (o_type == "object" || o_type == "function")) {
      _then = o.then;
    }
    return typeof _then == "function" ? _then : false;
  }

  function notify() {
    for (var i = 0; i < this.chain.length; i++) {
      notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);
    }
    this.chain.length = 0;
  }

  // NOTE: This is a separate function to isolate
  // the `try..catch` so that other code can be
  // optimized better
  function notifyIsolated(self, cb, chain) {
    var ret, _then;
    try {
      if (cb === false) {
        chain.reject(self.msg);
      } else {
        if (cb === true) {
          ret = self.msg;
        } else {
          ret = cb.call(void 0, self.msg);
        }

        if (ret === chain.promise) {
          chain.reject(TypeError("Promise-chain cycle"));
        } else if (_then = isThenable(ret)) {
          _then.call(ret, chain.resolve, chain.reject);
        } else {
          chain.resolve(ret);
        }
      }
    } catch (err) {
      chain.reject(err);
    }
  }

  function resolve(msg) {
    var _then,
        self = this;

    // already triggered?
    if (self.triggered) {
      return;
    }

    self.triggered = true;

    // unwrap
    if (self.def) {
      self = self.def;
    }

    try {
      if (_then = isThenable(msg)) {
        schedule(function () {
          var def_wrapper = new MakeDefWrapper(self);
          try {
            _then.call(msg, function $resolve$() {
              resolve.apply(def_wrapper, arguments);
            }, function $reject$() {
              reject.apply(def_wrapper, arguments);
            });
          } catch (err) {
            reject.call(def_wrapper, err);
          }
        });
      } else {
        self.msg = msg;
        self.state = 1;
        if (self.chain.length > 0) {
          schedule(notify, self);
        }
      }
    } catch (err) {
      reject.call(new MakeDefWrapper(self), err);
    }
  }

  function reject(msg) {
    var self = this;

    // already triggered?
    if (self.triggered) {
      return;
    }

    self.triggered = true;

    // unwrap
    if (self.def) {
      self = self.def;
    }

    self.msg = msg;
    self.state = 2;
    if (self.chain.length > 0) {
      schedule(notify, self);
    }
  }

  function iteratePromises(Constructor, arr, resolver, rejecter) {
    for (var idx = 0; idx < arr.length; idx++) {
      (function IIFE(idx) {
        Constructor.resolve(arr[idx]).then(function $resolver$(msg) {
          resolver(idx, msg);
        }, rejecter);
      })(idx);
    }
  }

  function MakeDefWrapper(self) {
    this.def = self;
    this.triggered = false;
  }

  function MakeDef(self) {
    this.promise = self;
    this.state = 0;
    this.triggered = false;
    this.chain = [];
    this.msg = void 0;
  }

  function Promise(executor) {
    if (typeof executor != "function") {
      throw TypeError("Not a function");
    }

    if (this.__NPO__ !== 0) {
      throw TypeError("Not a promise");
    }

    // instance shadowing the inherited "brand"
    // to signal an already "initialized" promise
    this.__NPO__ = 1;

    var def = new MakeDef(this);

    this["then"] = function then(success, failure) {
      var o = {
        success: typeof success == "function" ? success : true,
        failure: typeof failure == "function" ? failure : false
      };
      // Note: `then(..)` itself can be borrowed to be used against
      // a different promise constructor for making the chained promise,
      // by substituting a different `this` binding.
      o.promise = new this.constructor(function extractChain(resolve, reject) {
        if (typeof resolve != "function" || typeof reject != "function") {
          throw TypeError("Not a function");
        }

        o.resolve = resolve;
        o.reject = reject;
      });
      def.chain.push(o);

      if (def.state !== 0) {
        schedule(notify, def);
      }

      return o.promise;
    };
    this["catch"] = function $catch$(failure) {
      return this.then(void 0, failure);
    };

    try {
      executor.call(void 0, function publicResolve(msg) {
        resolve.call(def, msg);
      }, function publicReject(msg) {
        reject.call(def, msg);
      });
    } catch (err) {
      reject.call(def, err);
    }
  }

  var PromisePrototype = builtInProp({}, "constructor", Promise,
  /*configurable=*/false);

  // Note: Android 4 cannot use `Object.defineProperty(..)` here
  Promise.prototype = PromisePrototype;

  // built-in "brand" to signal an "uninitialized" promise
  builtInProp(PromisePrototype, "__NPO__", 0,
  /*configurable=*/false);

  builtInProp(Promise, "resolve", function Promise$resolve(msg) {
    var Constructor = this;

    // spec mandated checks
    // note: best "isPromise" check that's practical for now
    if (msg && (typeof msg === "undefined" ? "undefined" : _typeof(msg)) == "object" && msg.__NPO__ === 1) {
      return msg;
    }

    return new Constructor(function executor(resolve, reject) {
      if (typeof resolve != "function" || typeof reject != "function") {
        throw TypeError("Not a function");
      }

      resolve(msg);
    });
  });

  builtInProp(Promise, "reject", function Promise$reject(msg) {
    return new this(function executor(resolve, reject) {
      if (typeof resolve != "function" || typeof reject != "function") {
        throw TypeError("Not a function");
      }

      reject(msg);
    });
  });

  builtInProp(Promise, "all", function Promise$all(arr) {
    var Constructor = this;

    // spec mandated checks
    if (ToString.call(arr) != "[object Array]") {
      return Constructor.reject(TypeError("Not an array"));
    }
    if (arr.length === 0) {
      return Constructor.resolve([]);
    }

    return new Constructor(function executor(resolve, reject) {
      if (typeof resolve != "function" || typeof reject != "function") {
        throw TypeError("Not a function");
      }

      var len = arr.length,
          msgs = Array(len),
          count = 0;

      iteratePromises(Constructor, arr, function resolver(idx, msg) {
        msgs[idx] = msg;
        if (++count === len) {
          resolve(msgs);
        }
      }, reject);
    });
  });

  builtInProp(Promise, "race", function Promise$race(arr) {
    var Constructor = this;

    // spec mandated checks
    if (ToString.call(arr) != "[object Array]") {
      return Constructor.reject(TypeError("Not an array"));
    }

    return new Constructor(function executor(resolve, reject) {
      if (typeof resolve != "function" || typeof reject != "function") {
        throw TypeError("Not a function");
      }

      iteratePromises(Constructor, arr, function resolver(idx, msg) {
        resolve(msg);
      }, reject);
    });
  });

  return Promise;
};

var root = typeof global === 'undefined' ? window : global;
var _Promise = typeof __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a !== 'undefined' ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a : promiseFactory();
root.Promise = root.Promise || _Promise;
/* harmony default export */ __webpack_exports__["a"] = (_Promise);
/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)))

/***/ }),
/* 194 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(195), __esModule: true };

/***/ }),
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(196);
module.exports = __webpack_require__(9).setImmediate;


/***/ }),
/* 196 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(12);
var $task = __webpack_require__(69);
$export($export.G + $export.B, {
  setImmediate: $task.set,
  clearImmediate: $task.clear
});


/***/ }),
/* 197 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var punycode = __webpack_require__(198);
var util = __webpack_require__(200);

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = __webpack_require__(201);

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};


/***/ }),
/* 198 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports = typeof exports == 'object' && exports &&
		!exports.nodeType && exports;
	var freeModule = typeof module == 'object' && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		true
	) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
			return punycode;
		}).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if (freeExports && freeModule) {
		if (module.exports == freeExports) {
			// in Node.js, io.js, or RingoJS v0.8.0+
			freeModule.exports = punycode;
		} else {
			// in Narwhal or RingoJS v0.7.0-
			for (key in punycode) {
				punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
			}
		}
	} else {
		// in Rhino or a web browser
		root.punycode = punycode;
	}

}(this));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(199)(module), __webpack_require__(26)))

/***/ }),
/* 199 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 200 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};


/***/ }),
/* 201 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(202);
exports.encode = exports.stringify = __webpack_require__(203);


/***/ }),
/* 202 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};


/***/ }),
/* 203 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};


/***/ }),
/* 204 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__events__ = __webpack_require__(205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__defaults__ = __webpack_require__(206);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




/**
 * @todo Harmonize keys: Don't wrap them in quotes
 */
/* harmony default export */ __webpack_exports__["a"] = ({
  EVENTS: __WEBPACK_IMPORTED_MODULE_0__events__["a" /* default */],
  DEFAULTS: __WEBPACK_IMPORTED_MODULE_1__defaults__["a" /* default */]
});

/***/ }),
/* 205 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ({
  EXPORT: 'export',
  CLOSE: 'close',

  OPERATION_CREATED: 'operation:created',
  OPERATION_UPDATED: 'operation:updated',
  OPERATION_REMOVED: 'operation:removed',

  WINDOW_RESIZE: 'window:resize',
  EDITOR_RESIZE: 'editor:resize',
  ZOOM: 'editor:zoom',
  ZOOM_CHANGED: 'editor:zoom_changed',
  ZOOM_DONE: 'editor:zoom_done',

  HISTORY_UNDO: 'history:undo',
  HISTORY_UPDATED: 'history:updated',
  HISTORY_BEFORE_UNDO: 'history:before-undo',
  HISTORY_REDO: 'history:redo',
  HISTORY_BEFORE_REDO: 'history:before-redo',

  FEATURES_DISABLED: 'editor:features:disabled',
  FEATURES_ENABLED: 'editor:features:enabled',
  FEATURES_UPDATED: 'editor:features:updated',

  EDITOR_READY: 'editor:ready',

  TEXT_SCALED: 'editor:text:scaled',

  TRANSFORM_RESIZE: 'transform:resize',
  TRANSFORM_REAPPLY_RATIO: 'transform:reapply-ratio',

  ADDED_STICKER: 'sticker:added-sticker'
});

/***/ }),
/* 206 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__fonts__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__text_design_fonts__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__transform_ratio_categories__ = __webpack_require__(209);





var BRUSHES = [];
if (typeof __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Operations.SpriteOperation !== 'undefined') {
  BRUSHES.push(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush);
}

/* harmony default export */ __webpack_exports__["a"] = ({
  TRANSFORM_RATIO_CATEGORIES: __WEBPACK_IMPORTED_MODULE_3__transform_ratio_categories__["a" /* default */],
  FONTS: __WEBPACK_IMPORTED_MODULE_1__fonts__["a" /* default */],
  TEXT_DESIGN_FONTS: __WEBPACK_IMPORTED_MODULE_2__text_design_fonts__["a" /* default */],
  BRUSHES: BRUSHES
});

/***/ }),
/* 207 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ([{
  fontFamily: 'Aleo',
  variations: [{
    identifier: 'imgly_font_aleo_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'fonts/imgly_font_aleo_bold.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1919,
      descender: -409
    }
  }]
}, {
  fontFamily: 'Amatic SC',
  variations: [{
    identifier: 'imgly_font_amaticsc',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_amaticsc.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2332,
      descender: -583
    }
  }]
}, {
  fontFamily: 'Bernier',
  variations: [{
    identifier: 'imgly_font_bernier_regular',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_bernier_regular.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2007,
      descender: -552
    }
  }]
}, {
  fontFamily: 'Cheque',
  variations: [{
    identifier: 'imgly_font_cheque_regular',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_cheque_regular.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1853,
      descender: -495
    }
  }]
}, {
  fontFamily: 'Open Sans',
  variations: [{
    identifier: 'imgly_font_open_sans_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'fonts/imgly_font_open_sans_bold.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2189,
      descender: -640
    }
  }]
}, {
  fontFamily: 'Gagalin',
  variations: [{
    identifier: 'imgly_font_gagalin_regular',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_gagalin_regular.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1987,
      descender: -628
    }
  }]
}, {
  fontFamily: 'Hagin',
  variations: [{
    identifier: 'imgly_font_hagin_caps_thin',
    fontWeight: 200,
    provider: 'file',
    filePath: 'fonts/imgly_font_hagin_caps_thin.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1964,
      descender: -482
    }
  }]
}, {
  fontFamily: 'Intro',
  variations: [{
    identifier: 'imgly_font_intro_inline',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_intro_inline.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1944,
      descender: -548
    }
  }]
}, {
  fontFamily: 'Lobster',
  variations: [{
    identifier: 'imgly_font_lobster',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_lobster.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2048,
      descender: -552
    }
  }]
}, {
  fontFamily: 'Nexa',
  variations: [{
    identifier: 'imgly_font_nexa_script',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_nexa_script.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1835,
      descender: -663
    }
  }]
}, {
  fontFamily: 'Ostrich',
  variations: [{
    identifier: 'imgly_font_ostrich_sans_black',
    fontWeight: 800,
    provider: 'file',
    filePath: 'fonts/imgly_font_ostrich_sans_black.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1513,
      descender: -235
    }
  }, {
    identifier: 'imgly_font_ostrich_sans_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'fonts/imgly_font_ostrich_sans_bold.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1513,
      descender: -235
    }
  }]
}, {
  fontFamily: 'Panton',
  variations: [{
    identifier: 'imgly_font_panton_black_italic_caps',
    fontWeight: 800,
    fontStyle: 'italic',
    provider: 'file',
    filePath: 'fonts/imgly_font_panton_blackitalic_caps.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2033,
      descender: -572
    }
  }, {
    identifier: 'imgly_font_panton_light_italic_caps',
    fontWeight: 200,
    fontStyle: 'italic',
    provider: 'file',
    filePath: 'fonts/imgly_font_panton_lightitalic_caps.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1961,
      descender: -556
    }
  }]
}, {
  fontFamily: 'Perfograma',
  variations: [{
    identifier: 'imgly_font_perfograma',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_perfograma.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1982,
      descender: -842
    }
  }]
}, {
  fontFamily: 'Trashhand',
  variations: [{
    identifier: 'imgly_font_trash_hand',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_trash_hand.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1554,
      descender: -663
    }
  }]
}]);

/***/ }),
/* 208 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = ([{
  fontFamily: 'Open Sans',
  variations: [{
    identifier: 'imgly_font_open_sans_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'fonts/imgly_font_open_sans_bold.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2189,
      descender: -640
    }
  }]
}, {
  fontFamily: 'Gagalin',
  variations: [{
    identifier: 'imgly_font_gagalin_regular',
    fontWeight: 'normal',
    provider: 'file',
    filePath: 'fonts/imgly_font_gagalin_regular.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1987,
      descender: -628
    }
  }]
}, {
  fontFamily: 'Abril Fatface',
  variations: [{
    identifier: 'imgly_font_abril_fatface_regular',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_abril_fatface_regular.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 1058,
      descender: -291
    }
  }]
}, {
  fontFamily: 'Montserrat Light',
  variations: [{
    identifier: 'imgly_font_montserrat_light',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_montserrat_light.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 968,
      descender: -251
    }
  }]
}, {
  fontFamily: 'Hello Sunshine',
  variations: [{
    identifier: 'imgly_font_hello_sunshine',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_hello_sunshine.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 750,
      descender: -250
    }
  }, {
    identifier: 'imgly_font_hello_sunshine_italic',
    fontWeight: 'normal',
    fontStyle: 'italic',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_hello_sunshine_italic.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 750,
      descender: -250
    }
  }]
}, {
  fontFamily: 'Hello Sunshine Marker',
  variations: [{
    identifier: 'imgly_font_hello_sunshine_marker',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_hello_sunshine_marker.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 750,
      descender: -250
    }
  }]
}, {
  fontFamily: 'Panton Caps',
  variations: [{
    identifier: 'imgly_font_panton_light_italic_caps',
    fontWeight: 'lighter',
    fontStyle: 'italic',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_panton_light_italic_caps.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 940,
      descender: -260
    }
  }, {
    identifier: 'imgly_font_panton_black_italic_caps',
    fontWeight: 800,
    fontStyle: 'italic',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_panton_black_italic_caps.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 940,
      descender: -260
    }
  }, {
    identifier: 'imgly_font_panton_light_caps',
    fontWeight: 'lighter',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_panton_light_caps.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 940,
      descender: -260
    }
  }, {
    identifier: 'imgly_font_panton_black_caps',
    fontWeight: 800,
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_panton_black_caps.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 940,
      descender: -260
    }
  }]
}, {
  fontFamily: 'Amberlight',
  variations: [{
    identifier: 'imgly_font_amberlight',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_amberlight.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 750,
      descender: -250
    }
  }]
}, {
  fontFamily: 'Ultra',
  variations: [{
    identifier: 'imgly_font_ultra',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_ultra.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2066,
      descender: -561
    }
  }]
}, {
  fontFamily: 'Galano Grotesque',
  variations: [{
    identifier: 'imgly_font_galano_grotesque_bold',
    fontWeight: 'bold',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_galano_grotesque_bold.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 800,
      descender: -200
    }
  }]
}, {
  fontFamily: 'Bungee Inline',
  variations: [{
    identifier: 'imgly_font_bungee_inline',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_bungee_inline.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 860,
      descender: -140
    }
  }]
}, {
  fontFamily: 'Petit Formal Script',
  variations: [{
    identifier: 'imgly_font_petit_formal_script',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_petit_formal_script.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2033,
      descender: -527
    }
  }]
}, {
  fontFamily: 'Summer Font',
  variations: [{
    identifier: 'imgly_font_summer_font_light',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_summer_font_light.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2189,
      descender: -600
    }
  }]
}, {
  fontFamily: 'Handycheera',
  variations: [{
    identifier: 'imgly_font_handycheera_regular',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_handycheera_regular.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 2199,
      descender: -808
    }
  }]
}, {
  fontFamily: 'Rasa',
  variations: [{
    identifier: 'imgly_font_rasa_regular',
    fontWeight: 'normal',
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_rasa_regular.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2750,
      ascender: 2300,
      descender: -1050
    }
  }, {
    identifier: 'imgly_font_rasa_500',
    fontWeight: 500,
    fontStyle: 'normal',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_rasa_500.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 2750,
      ascender: 2300,
      descender: -1050
    }
  }]
}, {
  fontFamily: 'Campton Book',
  variations: [{
    identifier: 'imgly_font_campton_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_campton_bold.woff',
    default: true,
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 770,
      descender: -294
    }
  }]
}, {
  fontFamily: 'Ostrich',
  variations: [{
    identifier: 'imgly_font_ostrich_sans_black',
    fontWeight: 800,
    provider: 'file',
    filePath: 'fonts/imgly_font_ostrich_sans_black.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1513,
      descender: -235
    }
  }, {
    identifier: 'imgly_font_ostrich_sans_bold',
    fontWeight: 'bold',
    provider: 'file',
    filePath: 'fonts/imgly_font_ostrich_sans_bold.woff',
    textMetrics: {
      unitsPerEm: 2048,
      ascender: 1513,
      descender: -235
    }
  }, {
    identifier: 'imgly_font_ostrich_sans_heavy',
    fontWeight: 900,
    provider: 'file',
    filePath: 'text-design/fonts/imgly_font_ostrich_sans_heavy.woff',
    textMetrics: {
      unitsPerEm: 1000,
      ascender: 674,
      descender: 0
    }
  }]
}]);

/***/ }),
/* 209 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk__);


/* harmony default export */ __webpack_exports__["a"] = ([{
  identifier: 'imgly_transforms_common',
  defaultName: 'Common Ratios',
  ratios: [{
    identifier: 'imgly_transform_common_custom',
    defaultName: 'Custom',
    ratio: '*',
    selected: true
  }, {
    identifier: 'imgly_transform_common_square',
    defaultName: 'Square',
    ratio: 1
  }, {
    identifier: 'imgly_transform_common_4-3',
    defaultName: '4:3',
    ratio: 4 / 3
  }, {
    identifier: 'imgly_transform_common_16-9',
    defaultName: '16:9',
    ratio: 16 / 9
  }]
}, {
  identifier: 'imgly_transforms_facebook',
  defaultName: 'Facebook',
  ratios: [{
    identifier: 'imgly_transform_facebook_profile',
    defaultName: 'Profile Pic',
    ratio: 1 / 1
  }, {
    identifier: 'imgly_transform_facebook_ad',
    defaultName: 'Ad',
    dimensions: new __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Vector2(1200, 627)
  }, {
    identifier: 'imgly_transform_facebook_post',
    defaultName: 'Post',
    dimensions: new __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Vector2(940, 788)
  }, {
    identifier: 'imgly_transform_facebook_cover',
    defaultName: 'Cover',
    dimensions: new __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk___default.a.Math.Vector2(851, 315)
  }]
}]);

/***/ }),
/* 210 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol_iterator__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _typeof = typeof __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol___default.a === "function" && typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol_iterator___default.a === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol___default.a === "function" && obj.constructor === __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol___default.a && obj !== __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_symbol___default.a.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var EventEmitter = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk___default.a.EventEmitter,
    Log = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk___default.a.Log;

var SharedState = function (_EventEmitter) {
  _inherits(SharedState, _EventEmitter);

  function SharedState() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    _classCallCheck(this, SharedState);

    var _this = _possibleConstructorReturn(this, (SharedState.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(SharedState)).call(this));

    _this.setMaxListeners(50);
    _this._canBroadcast = true;
    _this.state = state;
    return _this;
  }

  /**
   * Sets the given state
   * @param {Object} newState
   * @param {Boolean} update = true
   */


  _createClass(SharedState, [{
    key: 'set',
    value: function set() {
      var newState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      if ((typeof newState === 'undefined' ? 'undefined' : _typeof(newState)) !== 'object') {
        Log.info('SharedState#set expects an object as first parameter');
      }

      var finalState = _extends({}, this.state, newState);

      var oldState = _extends({}, this.state);
      this.state = finalState;

      if (update) {
        this.broadcastUpdate(oldState, finalState);
      }
    }

    /**
     * Returns the state for the given property. If no prop is given, return a
     * shallow copy of the state.
     * @param {String} [prop]
     */

  }, {
    key: 'get',
    value: function get(prop) {
      return prop ? this.state[prop] : _extends({}, this.state);
    }

    /**
     * Returns the whole state
     * @return {Object}
     */

  }, {
    key: 'getState',
    value: function getState() {
      return this.state;
    }

    /**
     * Broadcasts an update
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'broadcastUpdate',
    value: function broadcastUpdate(oldState) {
      var newState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      if (!this._canBroadcast) return;

      this.emit('update', oldState, newState);
    }

    /**
     * Enables the broadcasting
     */

  }, {
    key: 'enableBroadcast',
    value: function enableBroadcast() {
      this._canBroadcast = true;
    }

    /**
     * Disables the broadcasting
     */

  }, {
    key: 'disableBroadcast',
    value: function disableBroadcast() {
      this._canBroadcast = false;
    }

    /**
     * Clears the state
     */

  }, {
    key: 'clear',
    value: function clear() {
      var oldState = this.state;
      this.state = {};
      this.broadcastUpdate(oldState, this.state);
    }
  }]);

  return SharedState;
}(EventEmitter);

/* harmony default export */ __webpack_exports__["a"] = (SharedState);

/***/ }),
/* 211 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(45);
__webpack_require__(33);
module.exports = __webpack_require__(212);


/***/ }),
/* 212 */
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__(67);
var ITERATOR = __webpack_require__(11)('iterator');
var Iterators = __webpack_require__(27);
module.exports = __webpack_require__(9).isIterable = function (it) {
  var O = Object(it);
  return O[ITERATOR] !== undefined
    || '@@iterator' in O
    // eslint-disable-next-line no-prototype-builtins
    || Iterators.hasOwnProperty(classof(O));
};


/***/ }),
/* 213 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(45);
__webpack_require__(33);
module.exports = __webpack_require__(214);


/***/ }),
/* 214 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(14);
var get = __webpack_require__(68);
module.exports = __webpack_require__(9).getIterator = function (it) {
  var iterFn = get(it);
  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};


/***/ }),
/* 215 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_managers_modal_manager__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modal_container_component__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__screens_editor_screen_component__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__screens_loading_screen_component__ = __webpack_require__(258);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__base_component__ = __webpack_require__(90);







var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var SCREENS = {
  loading: __WEBPACK_IMPORTED_MODULE_10__screens_loading_screen_component__["a" /* default */],
  editor: __WEBPACK_IMPORTED_MODULE_9__screens_editor_screen_component__["a" /* default */]
};

var AppComponent = function (_BaseComponent) {
  _inherits(AppComponent, _BaseComponent);

  function AppComponent() {
    var _ref;

    _classCallCheck(this, AppComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = AppComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(AppComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onLoadingDone', '_onPreloaderDone', '_onImageDone');

    var _this$props = _this.props,
        options = _this$props.options,
        ui = _this$props.ui;
    var image = options.editor.image;


    _this._preloaderIsComplete = !options.preloader; // If Preloader is not used then set to true
    if (options.preloader) {
      _this._preloader = ui.getPreloader();
      _this._preloader.on('done', _this._onPreloaderDone);
    }

    _this._imageIsComplete = image.complete;
    image.addEventListener('load', _this._onImageDone);

    var needsLoading = !_this._preloaderIsComplete || !_this._imageIsComplete;
    var initialScreenComponent = needsLoading ? __WEBPACK_IMPORTED_MODULE_10__screens_loading_screen_component__["a" /* default */] : __WEBPACK_IMPORTED_MODULE_9__screens_editor_screen_component__["a" /* default */];

    _this.state = {
      theme: _this.props.ui.getTheme(),
      screen: initialScreenComponent,
      screenOptions: {}
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(AppComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(AppComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(AppComponent.prototype), 'componentDidMount', this).call(this);
      if (this._preloader) this._preloader.load();
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(AppComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(AppComponent.prototype), 'componentWillUnmount', this).call(this);
      if (this._preloader) this._preloader.off('done', this._onPreloaderDone);
    }

    // -------------------------------------------------------------------------- EVENTS

  }, {
    key: '_onImageDone',
    value: function _onImageDone() {
      this._imageIsComplete = true;
      this._onLoadingDone();
    }
  }, {
    key: '_onPreloaderDone',
    value: function _onPreloaderDone() {
      this._preloaderIsComplete = true;
      this._onLoadingDone();
    }
  }, {
    key: '_onLoadingDone',
    value: function _onLoadingDone() {
      var allLoaded = this._preloaderIsComplete && this._imageIsComplete;
      if (allLoaded) {
        this.setState({
          screen: __WEBPACK_IMPORTED_MODULE_9__screens_editor_screen_component__["a" /* default */],
          screenOptions: {}
        });
      }
    }

    // -------------------------------------------------------------------------- CONTEXT

    /**
     * Returns the context passed to all children
     * @return {Object}
     */

  }, {
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        ui: this.props.ui,
        options: this.props.options,
        mediator: this.props.mediator,
        appComponent: this
      };
    }

    // -------------------------------------------------------------------------- SCREENS

  }, {
    key: 'switchToScreen',
    value: function switchToScreen(screenName) {
      this.setState({
        screen: SCREENS[screenName],
        screenOptions: {}
      });
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Returns the editor
     * @return {PhotoEditorSDK.UI.DesktopUI.Editor}
     */

  }, {
    key: 'getEditor',
    value: function getEditor() {
      return this._currentScreen.getEditor();
    }

    /**
     * Exports an image
     * @param {Boolean} download = false
     * @return {Promise}
     */

  }, {
    key: 'export',
    value: function _export() {
      var _currentScreen;

      return (_currentScreen = this._currentScreen).export.apply(_currentScreen, arguments);
    }

    /**
     * Serializes the editor state
     * @return {Promise}
     */

  }, {
    key: 'serialize',
    value: function serialize() {
      var _currentScreen2;

      return (_currentScreen2 = this._currentScreen).serialize.apply(_currentScreen2, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      return this._currentScreen.deserialize(data);
    }

    /**
     * Returns the bounding rectangle for this component
     * @return {DOMRect}
     */

  }, {
    key: 'getBounds',
    value: function getBounds() {
      return this._container.getBoundingClientRect();
    }

    /**
     * Sets the image to the given one
     * @param {Image} image
     */

  }, {
    key: 'setImage',
    value: function setImage(image) {
      this.getEditor().setImage(image);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the current screen
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_renderCurrentScreen',
    value: function _renderCurrentScreen() {
      var _this2 = this;

      var _state = this.state,
          ScreenComponent = _state.screen,
          screenOptions = _state.screenOptions;

      return __WEBPACK_IMPORTED_MODULE_6_globals__["l" /* React */].createElement(ScreenComponent, _extends({}, screenOptions, {
        innerRef: function innerRef(el) {
          _this2._currentScreen = el;
        } }));
    }

    /**
     * Renders this component
     * @return {React.Component}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      return __WEBPACK_IMPORTED_MODULE_6_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_6_globals__["t" /* ThemeProvider */],
        { theme: this.state.theme },
        __WEBPACK_IMPORTED_MODULE_6_globals__["l" /* React */].createElement(
          AppContainer,
          { className: 'photoeditorsdk-editor', innerRef: function innerRef(el) {
              _this3._container = el;
            } },
          __WEBPACK_IMPORTED_MODULE_6_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_8__modal_container_component__["a" /* default */], {
            modalManager: __WEBPACK_IMPORTED_MODULE_7_shared_managers_modal_manager__["a" /* default */].instance }),
          this._renderCurrentScreen()
        )
      );
    }
  }]);

  return AppComponent;
}(__WEBPACK_IMPORTED_MODULE_11__base_component__["a" /* default */]);

AppComponent.childContextTypes = {
  ui: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired,
  mediator: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired,
  options: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired,
  appComponent: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired
};
AppComponent.propTypes = {
  ui: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired,
  mediator: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired,
  options: __WEBPACK_IMPORTED_MODULE_6_globals__["k" /* PropTypes */].object.isRequired
};
/* harmony default export */ __webpack_exports__["a"] = (AppComponent);


var AppContainer = __WEBPACK_IMPORTED_MODULE_6_globals__["w" /* adonis */].div('wspo5c', 'AppContainer');

/***/ }),
/* 216 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(217);
var $Object = __webpack_require__(9).Object;
module.exports = function getOwnPropertyDescriptor(it, key) {
  return $Object.getOwnPropertyDescriptor(it, key);
};


/***/ }),
/* 217 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = __webpack_require__(20);
var $getOwnPropertyDescriptor = __webpack_require__(58).f;

__webpack_require__(66)('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});


/***/ }),
/* 218 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modals_loading_modal_component__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modals_warning_modal_component__ = __webpack_require__(220);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modals_error_modal_component__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__modals_progress_modal_component__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__modals_input_modal_component__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__transition__ = __webpack_require__(49);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */









var ModalContainerComponent = function (_BaseComponent) {
  _inherits(ModalContainerComponent, _BaseComponent);

  function ModalContainerComponent() {
    var _ref;

    _classCallCheck(this, ModalContainerComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ModalContainerComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ModalContainerComponent)).call.apply(_ref, [this].concat(args)));

    _this._onOverlayClick = function () {
      var modals = _this._modalManager.getModals();
      modals.forEach(function (modal) {
        if (modal.closeOnOverlayClick) {
          modal.close();
        }
      });
    };

    _this._modalManager = _this.props.modalManager;
    _this._bindAll('_onModalManagerUpdate');

    _this.state = {
      overlayVisible: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(ModalContainerComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(ModalContainerComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ModalContainerComponent.prototype), 'componentDidMount', this).call(this);
      this._modalManager.on('update', this._onModalManagerUpdate);
    }

    /**
     * Gets called when this component is about to be unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(ModalContainerComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ModalContainerComponent.prototype), 'componentWillUnmount', this).call(this);
      this._modalManager.off('update', this._onModalManagerUpdate);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the modal manager updates
     * @private
     */

  }, {
    key: '_onModalManagerUpdate',
    value: function _onModalManagerUpdate() {
      var modals = this._modalManager.getModals();
      var overlayVisible = modals.filter(function (modal) {
        return modal.visible;
      }).filter(function (modal) {
        return !!modal.overlay;
      }).length > 0;
      this.state.overlayVisible = overlayVisible;
      this.forceUpdate();
    }

    /**
     * Gets called when a modal is closed. Removes it from the manager.
     * @param  {Modal} modal
     * @private
     */

  }, {
    key: '_onModalClosed',
    value: function _onModalClosed(modal) {
      this._modalManager.removeModal(modal);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the modals
     * @return {Array.<React.Component>}
     */

  }, {
    key: '_renderModals',
    value: function _renderModals() {
      var _this2 = this;

      var modals = this._modalManager.getModals();
      return modals.map(function (modal) {
        var ModalComponent = void 0;

        switch (modal.type) {
          case 'loading':
            ModalComponent = __WEBPACK_IMPORTED_MODULE_6__modals_loading_modal_component__["a" /* default */];
            break;
          case 'warning':
            ModalComponent = __WEBPACK_IMPORTED_MODULE_7__modals_warning_modal_component__["a" /* default */];
            break;
          case 'error':
            ModalComponent = __WEBPACK_IMPORTED_MODULE_8__modals_error_modal_component__["a" /* default */];
            break;
          case 'input':
            ModalComponent = __WEBPACK_IMPORTED_MODULE_10__modals_input_modal_component__["a" /* default */];
            break;

          case 'progress':
            ModalComponent = __WEBPACK_IMPORTED_MODULE_9__modals_progress_modal_component__["a" /* default */];
            break;
        }

        return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(ModalComponent, {
          modal: modal,
          key: modal.id,
          onClose: _this2._onModalClosed.bind(_this2, modal) });
      });
    }
  }, {
    key: 'render',


    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          __WEBPACK_IMPORTED_MODULE_11__transition__["a" /* default */],
          {
            active: this.state.overlayVisible,
            enterProp: 'rendered',
            enterDuration: this.context.theme.transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: this.context.theme.transitionDuration * 1000,
            leaveDuration: this.context.theme.transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Overlay, { onClick: this._onOverlayClick })
        ),
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          'div',
          null,
          this._renderModals()
        )
      );
    }
  }]);

  return ModalContainerComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

ModalContainerComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ModalContainerComponent);


var Overlay = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('ovs9m3', {
  visible: 'zgbg08',
  rendered: '2jlos'
}, 'Overlay');

var Container = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('8gacw5', 'Container');

/***/ }),
/* 219 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modal_component__ = __webpack_require__(38);




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var LoadingModalComponent = function (_ModalComponent) {
  _inherits(LoadingModalComponent, _ModalComponent);

  function LoadingModalComponent() {
    _classCallCheck(this, LoadingModalComponent);

    return _possibleConstructorReturn(this, (LoadingModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(LoadingModalComponent)).apply(this, arguments));
  }

  return LoadingModalComponent;
}(__WEBPACK_IMPORTED_MODULE_4__modal_component__["a" /* default */]);

LoadingModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_3_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (LoadingModalComponent);

/***/ }),
/* 220 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_component__ = __webpack_require__(38);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var WarningModalComponent = function (_ModalComponent) {
  _inherits(WarningModalComponent, _ModalComponent);

  function WarningModalComponent() {
    var _ref;

    _classCallCheck(this, WarningModalComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = WarningModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(WarningModalComponent)).call.apply(_ref, [this].concat(args)));

    _this._buttons = _this.props.modal.data.buttons || ['OK'];
    return _this;
  }

  /**
   * Gets called when the user clicks a button
   * @param {Number} buttonIndex
   * @private
   */


  _createClass(WarningModalComponent, [{
    key: '_onButtonClick',
    value: function _onButtonClick(buttonIndex) {
      this.props.modal.emit('button', buttonIndex);
      this.props.modal.close();
    }
  }]);

  return WarningModalComponent;
}(__WEBPACK_IMPORTED_MODULE_5__modal_component__["a" /* default */]);

WarningModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (WarningModalComponent);

/***/ }),
/* 221 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_component__ = __webpack_require__(38);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var ErrorModalComponent = function (_ModalComponent) {
  _inherits(ErrorModalComponent, _ModalComponent);

  function ErrorModalComponent() {
    var _ref;

    _classCallCheck(this, ErrorModalComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ErrorModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ErrorModalComponent)).call.apply(_ref, [this].concat(args)));

    _this._buttons = ['Okay'];
    return _this;
  }

  /**
   * Gets called when the user clicks a button
   * @param {Number} buttonIndex
   * @private
   */


  _createClass(ErrorModalComponent, [{
    key: '_onButtonClick',
    value: function _onButtonClick(buttonIndex) {
      if (buttonIndex === 0) {
        this.props.modal.close();
      }
    }
  }]);

  return ErrorModalComponent;
}(__WEBPACK_IMPORTED_MODULE_5__modal_component__["a" /* default */]);

ErrorModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ErrorModalComponent);

/***/ }),
/* 222 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modal_component__ = __webpack_require__(38);




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ProgressModalComponent = function (_ModalComponent) {
  _inherits(ProgressModalComponent, _ModalComponent);

  function ProgressModalComponent() {
    _classCallCheck(this, ProgressModalComponent);

    return _possibleConstructorReturn(this, (ProgressModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(ProgressModalComponent)).apply(this, arguments));
  }

  return ProgressModalComponent;
}(__WEBPACK_IMPORTED_MODULE_3__modal_component__["a" /* default */]);

ProgressModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_3__modal_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ProgressModalComponent);

/***/ }),
/* 223 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modal_component__ = __webpack_require__(38);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var InputModalComponent = function (_ModalComponent) {
  _inherits(InputModalComponent, _ModalComponent);

  function InputModalComponent() {
    var _ref;

    _classCallCheck(this, InputModalComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = InputModalComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(InputModalComponent)).call.apply(_ref, [this].concat(args)));

    _this._onKeyPress = function (event) {
      if (event.key === 'Enter') {
        _this._onAccept();
      } else {
        _this.setState(function (state) {
          return { count: state.count + 1 };
        });
      }
    };

    _this._onAccept = function () {
      _this.props.modal.emit('input', _this._textArea.value);
      _this.props.modal.close();
    };

    _this._onCancel = function () {
      var modal = _this.props.modal;


      modal.emit('input', modal.data.text || '');
      modal.close();
    };

    _this._onClickOverlay = function () {
      _this._onCancel();
    };

    _this._buttons = _this.props.modal.data.buttons || ['OK'];
    _this.state = _extends({}, _this.state, {
      count: 0,
      large: true
    });
    return _this;
  }

  _createClass(InputModalComponent, [{
    key: '_renderContent',
    value: function _renderContent() {
      var _this2 = this;

      var modal = this.props.modal;


      return __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          InputContainer,
          null,
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
            Title,
            null,
            modal.title
          ),
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(TextArea, {
            autoFocus: true,
            innerRef: function innerRef(c) {
              _this2._textArea = c;
            },
            defaultValue: modal.data.text || '',
            onKeyPress: this._onKeyPress })
        ),
        __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(
          ButtonBar,
          null,
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(Image, { onClick: this._onAccept, right: true, src: this._getAssetPath('shared/modals/input-accept.png', true) }),
          __WEBPACK_IMPORTED_MODULE_5__globals__["l" /* React */].createElement(Image, { onClick: this._onCancel, src: this._getAssetPath('shared/modals/input-cancel.png', true) })
        )
      );
    }
  }]);

  return InputModalComponent;
}(__WEBPACK_IMPORTED_MODULE_6__modal_component__["a" /* default */]);

InputModalComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (InputModalComponent);


var ButtonBar = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('dh53lm', 'ButtonBar');

var InputContainer = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1uahxoo', 'InputContainer');

var Image = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].img('1pb8m8c', {
  right: '1l7kz3k'
}, 'Image');

var Title = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('1lyqewl', 'Title');

var TextArea = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].textarea('93mi9g', 'TextArea');

var LetterCount = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].span('19kk1u4', 'LetterCount');

var Container = __WEBPACK_IMPORTED_MODULE_5__globals__["w" /* adonis */].div('11xw2tg', 'Container');

/***/ }),
/* 224 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_editor__ = __webpack_require__(106);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__editor_navigation_navigation_component__ = __webpack_require__(251);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__editor_canvas_component__ = __webpack_require__(253);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_shared_managers_modal_manager__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_shared_managers_transform_ratio_manager__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__editor_controls_controls_component__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__editor_controls_canvas_controls_component__ = __webpack_require__(78);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */











var test = ("production") === 'test';

var EditorScreenComponent = function (_BaseComponent) {
  _inherits(EditorScreenComponent, _BaseComponent);

  function EditorScreenComponent() {
    var _ref;

    _classCallCheck(this, EditorScreenComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = EditorScreenComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(EditorScreenComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onRenderError', '_onImageResize', '_startEditor', '_onEditorReset');

    var _this$context = _this.context,
        ui = _this$context.ui,
        options = _this$context.options,
        mediator = _this$context.mediator;

    _this._editor = new __WEBPACK_IMPORTED_MODULE_8__lib_editor__["a" /* default */](ui, options, mediator);
    _this._editor.on('ready', _this._startEditor);
    _this._editor.on('render-error', _this._onRenderError);
    _this._editor.on('resize', _this._onImageResize);
    _this._editor.on('reset', _this._onEditorReset);
    _this._onWindowResize = __WEBPACK_IMPORTED_MODULE_7_globals__["u" /* Utils */].debounce(_this._onWindowResize.bind(_this), 250);

    _this._originalToolsOption = null;

    _this._needsForceCrop = false;

    _this._isReady = false;

    _this.state = {
      sharedState: new __WEBPACK_IMPORTED_MODULE_7_globals__["s" /* SharedState */](),
      controls: null,
      controlsOptions: {},
      currentControl: null
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(EditorScreenComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _get(EditorScreenComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(EditorScreenComponent.prototype), 'componentDidMount', this).call(this);

      var options = this.context.options;

      if (options.responsive) {
        window.addEventListener('resize', this._onWindowResize);
      }

      if (this._editor.isReady()) {
        !this._hasSwitchedControls && this.switchToInitialControls();
      } else {
        this._editor.once('ready', function () {
          !_this2._hasSwitchedControls && _this2.switchToInitialControls();
        });
      }
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(EditorScreenComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(EditorScreenComponent.prototype), 'componentWillUnmount', this).call(this);

      var options = this.context.options;

      if (options.responsive) {
        window.removeEventListener('resize', this._onWindowResize);
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the editor has reset. Resets the UI as well.
     * @private
     */

  }, {
    key: '_onEditorReset',
    value: function _onEditorReset() {
      if (this.state.currentControl !== 'library') {
        this.switchToInitialControls();
      }
    }

    /**
     * Gets called when the editor starts resizing an image
     * @private
     */

  }, {
    key: '_onImageResize',
    value: function _onImageResize() {
      var _this3 = this;

      var loadingModal = __WEBPACK_IMPORTED_MODULE_11_shared_managers_modal_manager__["a" /* default */].instance.displayLoading(this._t('loading.resizing'));
      this._editor.once('resized', function (_ref2) {
        var dimensions = _ref2.dimensions,
            reason = _ref2.reason;

        loadingModal.close();

        if (_this3.context.options.editor.displayResizeMessage) {
          __WEBPACK_IMPORTED_MODULE_11_shared_managers_modal_manager__["a" /* default */].instance.displayWarning(_this3._t('warnings.imageResized_' + reason + '.title'), _this3._t('warnings.imageResized_' + reason + '.text', {
            maxMegaPixels: _this3._editor.getMaxMegapixels(),
            width: dimensions.x,
            height: dimensions.y
          }));
        }
      });
    }

    /**
     * Invoked when an exception was thrown occurred while rendering
     * @param  {Error} e
     * @private
     */

  }, {
    key: '_onRenderError',
    value: function _onRenderError(e) {
      __WEBPACK_IMPORTED_MODULE_11_shared_managers_modal_manager__["a" /* default */].instance.displayError(this._t('errors.title'), this._t('errors.renderingError.text'), true);
    }

    /**
     * Gets called when the window has been resized
     * @private
     */

  }, {
    key: '_onWindowResize',
    value: function _onWindowResize() {
      this._emitEvent(__WEBPACK_IMPORTED_MODULE_7_globals__["d" /* Constants */].EVENTS.WINDOW_RESIZE);

      var dimensions = new __WEBPACK_IMPORTED_MODULE_7_globals__["v" /* Vector2 */](this._container.offsetWidth, this._container.offsetHeight);
      this._emitEvent(__WEBPACK_IMPORTED_MODULE_7_globals__["d" /* Constants */].EVENTS.EDITOR_RESIZE, dimensions);
    }

    /**
     * Called to enter the inital editor controls tool, depending on the current
     * options and input image.
     * @param {Function} callback
     */

  }, {
    key: 'switchToInitialControls',
    value: function switchToInitialControls(callback) {
      var options = this.context.options;


      var needsRatioForceCrop = false;

      // Checks if we should enter forced crop mode
      if (options.editor.forceCrop && this._editor.controls.isEnabled('transform') && !this._hasSwitchedControls) {
        var imageDimensions = this._editor.getInputDimensions();
        var transformRatioManager = new __WEBPACK_IMPORTED_MODULE_12_shared_managers_transform_ratio_manager__["a" /* default */](options.editor.controlsOptions.transform || {});
        var ratio = imageDimensions.x / imageDimensions.y;

        needsRatioForceCrop = !transformRatioManager.hasRatioValue(ratio);
      }

      if (needsRatioForceCrop) {
        this._needsForceCrop = true;
        this.switchToForceCropControls(callback);
      } else {
        this._needsForceCrop = false;
        this.switchToDefaultControls(callback);
      }
    }
  }, {
    key: 'switchToDefaultControls',
    value: function switchToDefaultControls(callback) {
      var options = this.context.options;


      var controlName = options.editor.defaultControl;

      if (this._originalToolsOption) {
        options.editor.tools = this._originalToolsOption;
        this._originalToolsOption = null;
      }

      if (!this._editor.controls.isEnabled(controlName)) {
        __WEBPACK_IMPORTED_MODULE_7_globals__["h" /* Log */].warn('Trying to switch to default control `' + controlName + '` which is not available. Falling back to first available control.');
        controlName = this._editor.controls.getFirstEnabledControlName();
      }
      this.switchToControls(controlName, null, null, callback);
    }
  }, {
    key: 'switchToForceCropControls',
    value: function switchToForceCropControls(callback) {
      var options = this.context.options;


      var oldTools = options.editor.tools;

      // Save original available tools
      if (!this._originalToolsOption) {
        this._originalToolsOption = oldTools;

        // Remove all but transform and library
        options.editor.tools = __WEBPACK_IMPORTED_MODULE_7_globals__["q" /* SDKUtils */].Array.remove(oldTools, function (e) {
          return e !== 'transform' && e !== 'library';
        });
      }

      // Switch to transform controls
      this.switchToControls('transform', null, null, callback);
    }

    /**
     * Gets called when the editor should switch to a new control
     * @param  {String} controlName
     * @param  {Object} initialState = {}
     * @param  {Object} options
     * @param  {Function} callback
     * @private
     */

  }, {
    key: 'switchToControls',
    value: function switchToControls(controlName) {
      var initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var _this4 = this;

      var options = arguments[2];
      var callback = arguments[3];

      if (this.state.currentControl === controlName) return callback && callback();

      // if (!this._hasSwitchedControls && controlName !== 'library' && controlName !== 'transform' && controlName !== 'default') {
      this._hasSwitchedControls = true;
      // }

      var sharedState = this.state.sharedState;


      if (controlName === 'default') {
        return this.switchToDefaultControls(callback);
      }

      if (!this._editor.controls.isEnabled(controlName)) {
        return __WEBPACK_IMPORTED_MODULE_7_globals__["h" /* Log */].warn('Tried to open control `' + controlName + '` which is not available.');
      }

      var controls = this._editor.controls.getAvailable();
      var ControlsClass = controls[controlName];
      if (!ControlsClass && controlName !== 'overview') {
        return __WEBPACK_IMPORTED_MODULE_7_globals__["h" /* Log */].error('Control `' + controlName + '` does not exist!');
      }

      var leavePromise = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(true);
      if (this.state.controls) {
        leavePromise = this.state.controls.onLeave();
      }

      leavePromise.then(function (leavable) {
        if (!leavable) return;

        sharedState.disableBroadcast();

        if (!_this4._isReady) {
          _this4._isReady = true;
          _this4.context.mediator.emit(__WEBPACK_IMPORTED_MODULE_7_globals__["d" /* Constants */].EVENTS.EDITOR_READY);
        }

        sharedState.disableBroadcast();
        sharedState.clear();
        sharedState.set(_extends({}, initialState, { forceCrop: _this4._needsForceCrop }));

        var controlsOptions = __WEBPACK_IMPORTED_MODULE_7_globals__["q" /* SDKUtils */].defaults(options || _this4.context.options.editor.controlsOptions[ControlsClass.identifier], ControlsClass.defaultOptions);
        var controls = new ControlsClass(_this4.getChildContext(), _this4.state.sharedState, controlsOptions);
        controls.onEnter();

        sharedState.enableBroadcast();
        _this4.setState({
          controls: controls,
          controlsOptions: controlsOptions,
          currentControl: controlName
        }, callback);
      });
    }

    // -------------------------------------------------------------------------- EDITOR

    /**
     * Starts the editor once it's ready
     * @private
     */

  }, {
    key: '_startEditor',
    value: function _startEditor() {
      var options = this.context.options;


      this._editor.start();

      if (options.editor.forceCrop) {
        this._hasSwitchedControls = false;
        this.switchToInitialControls();
      }
    }

    // -------------------------------------------------------------------------- CONTEXT

    /**
     * Returns the context passed to all children
     * @return {Object}
     */

  }, {
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        editor: this._editor,
        ui: this.context.ui,
        options: this.context.options,
        mediator: this.context.mediator,
        sharedState: this.state.sharedState,
        screen: this,
        appComponent: this.context.appComponent
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this5 = this;

      var _state = this.state,
          controls = _state.controls,
          controlsOptions = _state.controlsOptions;


      var controlsComponent = void 0,
          canvasControlsComponent = void 0;
      if (controls) {
        var _controls$constructor = controls.constructor,
            ControlsComponent = _controls$constructor.controlsComponent,
            CanvasControlsComponent = _controls$constructor.canvasControlsComponent;


        controlsComponent = ControlsComponent ? __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(ControlsComponent, {
          options: controlsOptions,
          controls: controls
        }) : __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement('div', null);
        canvasControlsComponent = CanvasControlsComponent ? __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(CanvasControlsComponent, {
          options: controlsOptions,
          controls: controls
        }) : __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement('div', null);
      } else {
        controlsComponent = __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_13__editor_controls_controls_component__["a" /* default */], null);
        canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_14__editor_controls_canvas_controls_component__["a" /* default */], null);
      }

      return __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
        Container,
        { innerRef: function innerRef(el) {
            if (el) {
              _this5._container = el;
            }
          }, className: test ? 'js-editorScreen' : undefined },
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_10__editor_canvas_component__["a" /* default */], { ref: 'canvas' }),
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
          TableContainer,
          { innerRef: function innerRef(el) {
              _this5._tableContainer = el;
            } },
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_9__editor_navigation_navigation_component__["a" /* default */], {
            onControlSwitch: this.switchToControls.bind(this),
            currentControl: this.state.currentControl }),
          controlsComponent,
          canvasControlsComponent
        )
      );
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Returns the editor
     * @return {PhotoEditorSDK.UI.DesktopUI.Editor}
     */

  }, {
    key: 'getEditor',
    value: function getEditor() {
      return this._editor;
    }

    /**
     * Exports an image
     * @param {Boolean} download = false
     * @return {Promise}
     */

  }, {
    key: 'export',
    value: function _export() {
      var _editor;

      return (_editor = this._editor).export.apply(_editor, arguments);
    }

    /**
     * Serializes the editor state
     * @return {Promise}
     */

  }, {
    key: 'serialize',
    value: function serialize() {
      var _editor2;

      return (_editor2 = this._editor).serialize.apply(_editor2, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      return this._editor.deserialize(data);
    }
  }]);

  return EditorScreenComponent;
}(__WEBPACK_IMPORTED_MODULE_7_globals__["b" /* BaseComponent */]);

EditorScreenComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7_globals__["b" /* BaseComponent */].contextTypes;
EditorScreenComponent.childContextTypes = {
  ui: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  editor: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  mediator: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  options: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  sharedState: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  screen: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired,
  appComponent: __WEBPACK_IMPORTED_MODULE_7_globals__["k" /* PropTypes */].object.isRequired
};


var Container = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('5x8wsv', 'Container');

var TableContainer = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('1b28xzz', 'TableContainer');

/* harmony default export */ __webpack_exports__["a"] = (Object(__WEBPACK_IMPORTED_MODULE_7_globals__["A" /* withTheme */])(EditorScreenComponent));

/***/ }),
/* 225 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_shared_downloader_file_downloader__ = __webpack_require__(226);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Exporter = function () {
  function Exporter(sdk, options, download) {
    _classCallCheck(this, Exporter);

    this._sdk = sdk;
    this._options = options;
    this._download = download;
  }

  /**
   * Exports the image / data url
   * @return {Promise}
   */


  _createClass(Exporter, [{
    key: 'export',
    value: function _export() {
      var _this = this;

      var renderType = this._getRenderType();

      return this._sdk.export(renderType, this._options.format, this._options.quality).then(function (data) {
        if (_this._download) {
          _this._downloadData(renderType, data);
        }
        return data;
      });
    }

    /**
     * Downloads the data using the given render type
     * @param  {RenderType} renderType
     * @param  {String} data
     * @private
     */

  }, {
    key: '_downloadData',
    value: function _downloadData(renderType, data) {
      switch (renderType) {
        case __WEBPACK_IMPORTED_MODULE_1_globals__["o" /* RenderType */].DATAURL:
          __WEBPACK_IMPORTED_MODULE_2_shared_downloader_file_downloader__["a" /* default */].downloadDataURL(data, this._options.fileBasename);
          break;
        case __WEBPACK_IMPORTED_MODULE_1_globals__["o" /* RenderType */].MSBLOB:
          __WEBPACK_IMPORTED_MODULE_2_shared_downloader_file_downloader__["a" /* default */].downloadMSBlob(data, this._options.fileBasename);
          break;
      }
    }

    /**
     * Returns the render type for this export
     * @return {RenderType}
     * @private
     */

  }, {
    key: '_getRenderType',
    value: function _getRenderType() {
      var options = this._options;
      if (options.type !== __WEBPACK_IMPORTED_MODULE_1_globals__["o" /* RenderType */].IMAGE || !this._download) {
        return options.type;
      } else {
        if (__WEBPACK_IMPORTED_MODULE_1_globals__["u" /* Utils */].supportsMSBlob()) {
          return __WEBPACK_IMPORTED_MODULE_1_globals__["o" /* RenderType */].MSBLOB;
        } else {
          return __WEBPACK_IMPORTED_MODULE_1_globals__["o" /* RenderType */].DATAURL;
        }
      }
    }
  }]);

  return Exporter;
}();

/* harmony default export */ __webpack_exports__["a"] = (Exporter);

/***/ }),
/* 226 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FileDownloader = function () {
  function FileDownloader() {
    _classCallCheck(this, FileDownloader);
  }

  _createClass(FileDownloader, null, [{
    key: 'downloadDataURL',

    /**
     * Exports the given data url
     * @param  {String} data
     * @param  {String} baseName = 'photoeditorsdk-export'
     */
    value: function downloadDataURL(data) {
      var baseName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'photoeditorsdk-export';

      var url = this.createBlobURLFromDataURL(data);
      var extension = this.getExtensionFromDataURL(data);

      var link = document.createElement('a');
      link.download = baseName + '.' + extension;
      link.href = url;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    /**
     * Exports the given data url using msBlob
     * @param  {String} data
     * @param  {String} baseName = 'photoeditorsdk-export'
     */

  }, {
    key: 'downloadMSBlob',
    value: function downloadMSBlob(data) {
      var baseName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'photoeditorsdk-export';

      navigator.msSaveBlob(data, baseName + '.png');
    }

    /**
     * Returns the file extension by reading the given data url
     * @param  {String} data
     * @return {String}
     */

  }, {
    key: 'getExtensionFromDataURL',
    value: function getExtensionFromDataURL(data) {
      var mimeString = data.split(',')[0].split(':')[1].split(';')[0];
      return mimeString.split('/').pop();
    }

    /**
     * Creates a Blob URI from the given Data URI
     * @param {String} data
     */

  }, {
    key: 'createBlobURLFromDataURL',
    value: function createBlobURLFromDataURL(data) {
      if (!window.Blob || !window.URL || !ArrayBuffer || !Uint8Array) {
        return data;
      }

      var rawData = __WEBPACK_IMPORTED_MODULE_1_globals__["a" /* Base64 */].decode(data.split(',')[1]);
      var mimeString = data.split(',')[0].split(':')[1].split(';')[0];

      // write the bytes of the string to an ArrayBuffer
      var arrayBuffer = new ArrayBuffer(rawData.length);
      var intArray = new Uint8Array(arrayBuffer);
      for (var i = 0; i < rawData.length; i++) {
        intArray[i] = rawData[i];
      }

      // write the ArrayBuffer to a blob, and you're done
      var blob = new window.Blob([arrayBuffer], {
        type: mimeString
      });
      return window.URL.createObjectURL(blob);
    }
  }]);

  return FileDownloader;
}();

/* harmony default export */ __webpack_exports__["a"] = (FileDownloader);

/***/ }),
/* 227 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ImageResizer = function () {
  function ImageResizer(image, maxPixels, maxDimensions) {
    _classCallCheck(this, ImageResizer);

    this._image = image;
    this._maxPixels = maxPixels;
    this._maxDimensions = maxDimensions;
  }

  /**
   * Checks if the image needs to be resized
   * @return {Boolean}
   */


  _createClass(ImageResizer, [{
    key: 'needsResize',
    value: function needsResize() {
      var dimensions = new __WEBPACK_IMPORTED_MODULE_1__globals__["v" /* Vector2 */](this._image.width, this._image.height);
      var pixels = dimensions.x * dimensions.y;
      var exceedsMaxPixels = pixels > this._maxPixels;
      var exceedsMaxDimensions = this._maxDimensions !== null && (dimensions.x > this._maxDimensions || dimensions.y > this._maxDimensions);

      return exceedsMaxPixels || exceedsMaxDimensions;
    }

    /**
     * Resizes the image to match the maximum amount of pixels
     * @return {Promise}
     */

  }, {
    key: 'resize',
    value: function resize() {
      var _this = this;

      var reason = null;
      var canvas = null;
      var maxDimensions = this._maxDimensions;

      return new __WEBPACK_IMPORTED_MODULE_1__globals__["j" /* Promise */](function (resolve, reject) {
        window.setTimeout(function () {
          var initialDimensions = new __WEBPACK_IMPORTED_MODULE_1__globals__["v" /* Vector2 */](_this._image.width, _this._image.height);
          var dimensions = initialDimensions.clone();

          // If max pixels is exceeded, resize to fit the max pixels
          if (dimensions.x * dimensions.y > _this._maxPixels) {
            dimensions.copy(_this._getDimensionsByMaxPixels());
            reason = 'maxMegaPixels';
          }

          // If max dimensions (maximum texture size) is exceeded,
          // make sure the shorter side equals the maximum texture
          // size
          if (maxDimensions !== null && (dimensions.x > maxDimensions || dimensions.y > maxDimensions)) {
            var scale = Math.min(maxDimensions / dimensions.x, maxDimensions / dimensions.y);
            dimensions.multiply(scale);
            reason = 'maxDimensions';
          }

          dimensions.floor();
          canvas = _this._createResizedImageCanvas(dimensions);

          resolve({ canvas: canvas, dimensions: dimensions, reason: reason });
        }, 1000);
      });
    }

    /**
     * Creates a resized canvas with the given dimensions
     * @param  {PhotoEditorSDK.Math.Vector2} dimensions
     * @param  {PhotoEditorSDK.Math.Vector2} [imageDimensions] = dimensions
     * @return {Canvas}
     * @private
     */

  }, {
    key: '_createResizedImageCanvas',
    value: function _createResizedImageCanvas(dimensions) {
      var imageDimensions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : dimensions;

      var image = this._image;

      var canvas = document.createElement('canvas');
      canvas.width = dimensions.x;
      canvas.height = dimensions.y;

      var offset = dimensions.clone().subtract(imageDimensions).divide(2);

      var context = canvas.getContext('2d');
      context.drawImage(image, 0, 0, image.width, image.height, offset.x, offset.y, imageDimensions.x, imageDimensions.y);
      return canvas;
    }

    /**
     * Returns the dimensions that match the max pixel count
     * @return {Vector2}
     * @private
     */

  }, {
    key: '_getDimensionsByMaxPixels',
    value: function _getDimensionsByMaxPixels() {
      var image = this._image;
      var maxPixels = this._maxPixels;

      var ratioHV = image.width / image.height;
      var ratioVH = image.height / image.width;

      return new __WEBPACK_IMPORTED_MODULE_1__globals__["v" /* Vector2 */](Math.sqrt(maxPixels * ratioHV), Math.sqrt(maxPixels * ratioVH)).floor();
    }
  }]);

  return ImageResizer;
}();

/* harmony default export */ __webpack_exports__["a"] = (ImageResizer);

/***/ }),
/* 228 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__globals__ = __webpack_require__(4);





var _typeof = typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && typeof __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_symbol_iterator___default.a === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a === "function" && obj.constructor === __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a && obj !== __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_symbol___default.a.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var EditorOperations = function () {
  function EditorOperations(editor, sdk, mediator) {
    _classCallCheck(this, EditorOperations);

    this._editor = editor;
    this._sdk = sdk;
    this._mediator = mediator;

    this._map = {};

    // `editor` might be shallow (e.g. for preloading), so _sdk might not exist.
    this._stack = this._sdk && this._sdk.getOperationsStack();
    this._preferredOrder = this._editor.getOptions().editor.operationsOrder;

    this._available = {};

    var Operations = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default.a.Operations;

    for (var operationName in Operations) {
      var Operation = Operations[operationName];
      this._available[Operation.identifier] = Operation;
    }

    var options = editor.getOptions();
    var operations = options.extensions.operations;

    for (var key in operations) {
      var operation = operations[key];
      this._available[operation.identifier] = operation;
    }

    if (this._stack) {
      this._fixStack();
    }
  }

  /**
   * Checks whether an operation with the given identifier exists
   * @param {String} identifier
   * @return {Boolean}
   */


  _createClass(EditorOperations, [{
    key: 'exists',
    value: function exists(identifier) {
      return !!this._map[identifier];
    }

    /**
     * Adds the given operation to the stack
     * @param {PhotoEditorSDK.Operation} operation
     */

  }, {
    key: 'add',
    value: function add(operation) {
      var _this = this;

      var identifier = operation.constructor.identifier;
      operation.on('update', function () {
        _this._mediator.emit(__WEBPACK_IMPORTED_MODULE_5__globals__["d" /* Constants */].EVENTS.OPERATION_UPDATED, operation);
      });
      var index = this._preferredOrder.indexOf(identifier);
      if (index === -1) {
        throw new Error('EditorOperations#add: `' + identifier + '` does not appear in `operationsOrder`');
      }
      this._stack.set(index, operation);
      this._map[identifier] = operation;

      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_5__globals__["d" /* Constants */].EVENTS.OPERATION_CREATED, operation);
    }

    /**
     * Removes the given operation from the stack
     * @param  {PhotoEditorSDK.Operation} operation
     * @param  {Boolean} broadcast = true
     */

  }, {
    key: 'remove',
    value: function remove(operation) {
      var broadcast = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      var identifier = (typeof operation === 'undefined' ? 'undefined' : _typeof(operation)) === 'object' ? operation.constructor.identifier : operation;
      var stack = this._stack.getStack();
      operation = this.get(identifier);

      // Remove operation from map
      delete this._map[identifier];

      // Remove operation from stack
      var index = stack.map(function (op) {
        return op.constructor.identifier;
      }).indexOf(identifier);

      if (index !== -1) {
        this._stack.removeAt(index);

        // Set all following operations to dirty, since they might
        // have cached stuff drawn by the removed operation
        for (var i = index + 1; i < stack.length; i++) {
          var _operation = stack[i];
          if (!_operation) continue;
          _operation.setDirty(true);
        }

        if (broadcast) {
          this._mediator.emit(__WEBPACK_IMPORTED_MODULE_5__globals__["d" /* Constants */].EVENTS.OPERATION_REMOVED, operation);
        }
      }
    }

    /**
     * Returns the operation with the given identifier
     * @param  {String} identifier
     * @return {PhotoEditorSDK.Operation}
     */

  }, {
    key: 'get',
    value: function get(identifier) {
      return this._map[identifier];
    }

    /**
     * If the operation with the given identifier already exists, it returns
     * the existing operation. Otherwise, it creates and returns a new one.
     * @param  {String} identifier
     * @param  {Object} options
     * @return {PhotoEditorSDK.Operation}
     */

  }, {
    key: 'getOrCreate',
    value: function getOrCreate(identifier) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      if (this._map[identifier]) {
        var operation = this._map[identifier];
        operation.set(options, false);
        return operation;
      } else {
        var Operation = this._available[identifier];
        if (typeof Operation === 'undefined') {
          __WEBPACK_IMPORTED_MODULE_5__globals__["h" /* Log */].warn('Trying to create an operation of type `' + identifier + '` that is not available.');
          return null;
        }
        var _operation2 = new Operation(this._sdk, options);
        this.add(_operation2);
        return _operation2;
      }
    }

    /**
     * Returns the operations stack
     * @return {PhotoEditorSDK.OperationsStack}
     */

  }, {
    key: 'getStack',
    value: function getStack() {
      return this._stack;
    }

    /**
     * Returns an object with a snapshot of the current operations state.
     * The returned object is a dictionary of operation's serialized options,
     * indexed by the operation's identifier.
     *
     * @returns {Object}
     * @memberof EditorOperations
     */

  }, {
    key: 'getSnapshot',
    value: function getSnapshot() {
      var _this2 = this;

      var snapshot = {};

      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(this._map).forEach(function (identifier) {
        var operation = _this2._map[identifier];
        snapshot[identifier] = operation.serializeOptions();
      });

      return snapshot;
    }
  }, {
    key: 'removeUnused',
    value: function removeUnused() {
      var _this3 = this;

      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(this._map).forEach(function (identifier) {
        var operation = _this3._map[identifier];

        if (!operation.hasChanges()) {
          _this3.remove(operation);
        }
      });
    }
  }, {
    key: 'hasChanges',
    value: function hasChanges(snapshot) {
      var _this4 = this;

      var changes = false;

      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(this._map).forEach(function (identifier) {
        if (!snapshot[identifier]) {
          changes = true;
        }
      });

      if (changes) {
        return true;
      }

      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(snapshot).forEach(function (identifier) {
        var operation = _this4.get(identifier);

        if (!operation) {
          changes = true;
          return;
        }

        if (!operation.optionsEqual(snapshot[identifier])) {
          changes = true;
        }
      });

      return changes;
    }

    /**
     * Restores the operations state to the supplied snapshot.
     *
     * @param {Object} snapshot
     * @memberof EditorOperations
     */

  }, {
    key: 'restoreSnapshot',
    value: function restoreSnapshot(snapshot) {
      var _this5 = this;

      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(snapshot).forEach(function (identifier) {
        var operation = _this5.getOrCreate(identifier);

        // If options are equal, no update necessary
        if (operation.optionsEqual(snapshot[identifier])) {
          return;
        }

        // If the operation has a custom restoreSnapshot, use it; else just set
        // the options
        if (operation.restoreSnapshot) {
          operation.restoreSnapshot(snapshot[identifier]);
        } else {
          operation.set(snapshot[identifier]);
        }
      });

      // Remove any operations if necessary
      __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(this._map).forEach(function (identifier) {
        if (!snapshot[identifier]) {
          _this5.remove(identifier);
        }
      });
    }

    /**
     * Checks if the given operation is available
     * @param {String}
     * @return {Boolean}
     */

  }, {
    key: 'isAvailable',
    value: function isAvailable(identifier) {
      return !!this._available[identifier];
    }

    /**
     * Returns the available operations
     * @return {Object}
     */

  }, {
    key: 'getAvailable',
    value: function getAvailable() {
      return this._available;
    }

    /**
     * Resets the operations
     */

  }, {
    key: 'reset',
    value: function reset() {
      this._map = {};
    }

    /**
     * Since the SDK might create some operations upfront (e.g. to fix the EXIF orientation),
     * we might have operations at array positions where they should not be. This method
     * moves them to their appropriate position
     * @private
     */

  }, {
    key: '_fixStack',
    value: function _fixStack() {
      var _this6 = this;

      var stack = this._stack.getStack().slice();
      this._stack.clear();

      stack.forEach(function (s) {
        _this6.add(s);
      });
    }
  }]);

  return EditorOperations;
}();

/* harmony default export */ __webpack_exports__["a"] = (EditorOperations);

/***/ }),
/* 229 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var EditorControls = function () {
  function EditorControls(editor, sdk, mediator) {
    var _this = this;

    _classCallCheck(this, EditorControls);

    this._editor = editor;
    this._sdk = sdk;
    this._mediator = mediator;

    this._options = this._editor.getOptions();

    this._invalidOperationsSeen = [];
    this._available = {};

    var Controls = __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk___default.a.UI.DesktopUI.Controls;

    for (var controlName in Controls) {
      var Control = Controls[controlName];
      this._available[Control.identifier] = Control;
    }

    (this._options.extensions.controls || []).forEach(function (control) {
      _this._available[control.identifier] = control;
    });
  }

  /**
   * Returns the identifier of the first enabled control
   * @return {String}
   */


  _createClass(EditorControls, [{
    key: 'getFirstEnabledControlName',
    value: function getFirstEnabledControlName() {
      for (var key in this._available) {
        if (this.isEnabled(key)) {
          return key;
        }
      }
      return null;
    }

    /**
     * Checks if the control with the given identifier is selectable
     * @param  {String}  identifier
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(identifier) {
      var _this2 = this;

      var control = this.get(identifier);

      if (!control) {
        __WEBPACK_IMPORTED_MODULE_2__globals__["h" /* Log */].info('EditorControls#isEnabled: Unknown control: ' + identifier);
        return false;
      }

      var requiredOperations = control.requiredOperations || [];
      var missingOperations = [];
      requiredOperations.forEach(function (operationIdentifier) {
        if (!_this2._editor.operations.isAvailable(operationIdentifier)) {
          missingOperations.push(operationIdentifier);
        }
      });

      if (missingOperations.length) {
        // Making sure we only show one error per control
        if (this._invalidOperationsSeen.indexOf(identifier) === -1) {
          this._invalidOperationsSeen.push(identifier);
          __WEBPACK_IMPORTED_MODULE_2__globals__["h" /* Log */].error('Control `' + identifier + '` can not be used because ' + (missingOperations.length === 1 ? 'operation is' : 'operations are') + ' missing: ' + missingOperations.map(function (o) {
            return '`' + o + '`';
          }).join(', '));
        }
        return false;
      }

      return control.isEnabled(this._editor);
    }

    /**
     * Returns the control with the given identifier
     * @param  {String} identifier
     * @return {Control}
     */

  }, {
    key: 'get',
    value: function get(identifier) {
      return this._available[identifier];
    }

    /**
     * Returns the available controls
     * @return {Object}
     */

  }, {
    key: 'getAvailable',
    value: function getAvailable() {
      return this._available;
    }
  }]);

  return EditorControls;
}();

/* harmony default export */ __webpack_exports__["a"] = (EditorControls);

/***/ }),
/* 230 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__globals__ = __webpack_require__(4);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var EditorFeatures = function () {
  function EditorFeatures(editor, sdk, mediator) {
    _classCallCheck(this, EditorFeatures);

    this._editor = editor;
    this._sdk = sdk;
    this._mediator = mediator;

    this._options = this._editor.getOptions();

    this.reset();
  }

  /**
   * Checks if the feature with the given identifier is enabled
   * @param  {String}  identifier
   * @return {Boolean}
   */


  _createClass(EditorFeatures, [{
    key: 'isEnabled',
    value: function isEnabled(identifier) {
      return this._features[identifier] && this.isEnabledByOptions(identifier);
    }

    /**
     * Checks if the feature with the given identifier is enabled by options
     * @param  {String}  identifier
     * @return {Boolean}
     */

  }, {
    key: 'isEnabledByOptions',
    value: function isEnabledByOptions(identifier) {
      var capitalizedIdentifier = identifier.charAt(0).toUpperCase() + identifier.slice(1);
      var optionEnabled = this._options.editor['enable' + capitalizedIdentifier];
      if (typeof optionEnabled === 'undefined') {
        optionEnabled = true;
      }
      return optionEnabled;
    }

    /**
     * Enables the features with the given identifiers
     * @param  {String[]} identifiers
     */

  }, {
    key: 'enable',
    value: function enable() {
      var _this = this;

      for (var _len = arguments.length, identifiers = Array(_len), _key = 0; _key < _len; _key++) {
        identifiers[_key] = arguments[_key];
      }

      identifiers.forEach(function (identifier) {
        _this._features[identifier] = true;
      });
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_1__globals__["d" /* Constants */].EVENTS.FEATURES_ENABLED, identifiers);
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_1__globals__["d" /* Constants */].EVENTS.FEATURES_UPDATED, identifiers);
    }

    /**
     * Disables the features with the given identifiers
     * @param  {String[]} identifiers
     */

  }, {
    key: 'disable',
    value: function disable() {
      var _this2 = this;

      for (var _len2 = arguments.length, identifiers = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        identifiers[_key2] = arguments[_key2];
      }

      identifiers.forEach(function (identifier) {
        _this2._features[identifier] = false;
      });
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_1__globals__["d" /* Constants */].EVENTS.FEATURES_DISABLED, identifiers);
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_1__globals__["d" /* Constants */].EVENTS.FEATURES_UPDATED, identifiers);
    }

    /**
     * Resets the features to their default values
     */

  }, {
    key: 'reset',
    value: function reset() {
      this._features = {
        drag: this._options.editor.enableDrag,
        zoom: this._options.editor.enableZoom,
        export: true,
        new: true
      };
    }
  }]);

  return EditorFeatures;
}();

/* harmony default export */ __webpack_exports__["a"] = (EditorFeatures);

/***/ }),
/* 231 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lib_transition__ = __webpack_require__(232);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var MIN_ZOOM_DIMENSIONS = 300;
var ZOOM_TRANSITION_DURATION = 300;

var EditorZoom = function (_EventEmitter) {
  _inherits(EditorZoom, _EventEmitter);

  function EditorZoom(editor, sdk, mediator) {
    _classCallCheck(this, EditorZoom);

    var _this = _possibleConstructorReturn(this, (EditorZoom.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(EditorZoom)).call(this));

    _this._editor = editor;
    _this._sdk = sdk;
    _this._mediator = mediator;

    _this._isDefaultZoom = false;
    _this._zoom = _this._sdk.getZoom();
    _this._targetZoom = _this._zoom;
    _this._options = _this._editor.getOptions();

    _this._zoomLevels = [1, 2, 3, 4, 5, 6.25, 8.33, 12.5, 16.66, 25, 33.33, 50, 66.66, 100, 200, 300, 400, 500, 600, 700, 800, 1200, 1600, 3200].map(function (z) {
      return z / 100;
    });

    _this._editor.on('ready', function () {
      _this._defaultLevel = _this._calculateDefaultZoomLevel();
    });
    return _this;
  }

  /**
   * Zooms to the default zoom level
   * @param {Boolean} recalculateDefaultLevel = false
   * @param {Boolean} instant = false
   */


  _createClass(EditorZoom, [{
    key: 'auto',
    value: function auto() {
      var recalculateDefaultLevel = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var instant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var callback = arguments[2];

      if (recalculateDefaultLevel) {
        this._defaultLevel = this._calculateDefaultZoomLevel();
      }

      this.set(this._defaultLevel, instant, callback);
    }

    /**
     * Zooms in the editor
     * @param {Function} callback
     */

  }, {
    key: 'in',
    value: function _in(callback) {
      var newZoom = this._getClosestZoomLevel(this._targetZoom + 0.001, +1);
      newZoom = this._clamp(newZoom);
      this.set(newZoom, callback);
    }

    /**
     * Zooms out the editor
     * @param {Function} callback
     */

  }, {
    key: 'out',
    value: function out(callback) {
      var newZoom = this._getClosestZoomLevel(this._targetZoom - 0.001, -1);
      newZoom = this._clamp(newZoom);
      this.set(newZoom, callback);
    }

    /**
     * Clamps the given zoom level
     * @param  {Number} zoom
     * @return {Number}
     * @private
     */

  }, {
    key: '_clamp',
    value: function _clamp(zoom) {
      var defaultZoom = this._calculateDefaultZoomLevel();
      var maxZoom = Math.max(1, defaultZoom * 2);
      var minZoom = this.minimum;
      return Math.max(minZoom, Math.min(maxZoom, zoom));
    }

    /**
     * Creates a transition to the given zoom level
     * @param {Number} zoom
     * @param {Boolean} instant = false
     * @param {Function} callback
     */

  }, {
    key: 'set',
    value: function set(zoom) {
      var _this2 = this;

      var instant = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var callback = arguments[2];

      this._targetZoom = zoom;
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.ZOOM, zoom);

      if (this._zoom === this._targetZoom) {
        instant = true;
      }

      if (this._transition) {
        this._transition.stop();
        this._transition = null;
      }

      var onZoomDone = function onZoomDone(zoom) {
        _this2._set(zoom, function () {
          callback && callback();
          _this2._mediator.emit(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.ZOOM_DONE, _this2._zoom);
        });
        _this2._transition = null;
        _this2._sdk.setTextureQuality(Math.min(_this2._zoom, 1));
      };

      if (instant) {
        return onZoomDone(zoom);
      }

      this._transition = new __WEBPACK_IMPORTED_MODULE_5_lib_transition__["a" /* default */]({ zoom: this._zoom }, { zoom: zoom }, {
        duration: ZOOM_TRANSITION_DURATION,
        easing: 'easeOutQuart',
        onUpdate: function onUpdate(obj) {
          _this2._set(obj.zoom);
        },
        onDone: function onDone(obj) {
          onZoomDone(obj.zoom);
        }
      });
      this._transition.start();
    }

    /**
     * Loop method
     */

  }, {
    key: 'tick',
    value: function tick() {
      if (this._transition) {
        this._transition.update();
      }
    }

    /**
     * Returns the closest zoom level to the given one
     * @param  {Number} zoomLevel
     * @param  {Number} direction
     * @return {Number}
     * @private
     */

  }, {
    key: '_getClosestZoomLevel',
    value: function _getClosestZoomLevel(zoomLevel, direction) {
      var closest = void 0;
      if (direction === -1) {
        closest = this._zoomLevels.filter(function (l) {
          return l < zoomLevel;
        }).pop();
        if (!closest) {
          closest = this._zoomLevels[this._zoomLevels.length - 1];
        }
      } else if (direction === 1) {
        closest = this._zoomLevels.filter(function (l) {
          return l > zoomLevel;
        })[0];
        if (!closest) {
          closest = this._zoomLevels[0];
        }
      }

      return closest;
    }

    /**
     * Switches to the previous zoom
     */

  }, {
    key: 'undo',
    value: function undo() {
      if (!this._previousZoom) return;
      this.set(this._previousZoom);
      this._previousZoom = null;
    }

    /**
     * Sets the actual zoom level
     * @param {Number} newZoom
     * @private
     */

  }, {
    key: '_set',
    value: function _set(newZoom, callback) {
      this._zoom = newZoom;
      this._sdk.setZoom(this._zoom);
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.ZOOM_CHANGED, this._zoom);
      this.emit('set', this._zoom, callback);
    }

    /**
     * Returns the default zoom level
     * @return {Number}
     */

  }, {
    key: '_calculateDefaultZoomLevel',
    value: function _calculateDefaultZoomLevel() {
      var finalDimensions = this._editor.getFinalDimensions(false);
      var canvasDimensions = this._editor.getCanvasDimensions();
      var defaultDimensions = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].resizeVectorToFit(finalDimensions, canvasDimensions);

      return defaultDimensions.divide(finalDimensions).x;
    }

    /**
     * Returns the minimum zoom level
     * @type {Number}
     */

  }, {
    key: 'getSnapshot',


    /**
     * Get a snapshot to the current zoom state
     *
     * @returns {Object}
     */
    value: function getSnapshot() {
      return { zoom: this._targetZoom };
    }

    /**
     * Restore the zoom state to the given snapshot
     *
     * @param {Object} snapshot
     */

  }, {
    key: 'restoreSnapshot',
    value: function restoreSnapshot(snapshot) {
      this.set(snapshot.zoom, true);
    }
  }, {
    key: 'minimum',
    get: function get() {
      var finalDimensions = this._editor.getFinalDimensions();
      var minimumDimensions = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].resizeVectorToFit(finalDimensions, new __WEBPACK_IMPORTED_MODULE_4_globals__["v" /* Vector2 */](MIN_ZOOM_DIMENSIONS, MIN_ZOOM_DIMENSIONS));

      return minimumDimensions.divide(finalDimensions).x;
    }

    /**
     * Returns the current zoom level
     * @type {Number}
     */

  }, {
    key: 'level',
    get: function get() {
      return this._zoom;
    }

    /**
     * The default zoom level
     * @type {Number}
     */

  }, {
    key: 'defaultLevel',
    get: function get() {
      return this._defaultLevel;
    }

    /**
     * Returns the current target zoom level
     * @type {Number}
     */

  }, {
    key: 'targetLevel',
    get: function get() {
      return this._targetZoom;
    }
  }]);

  return EditorZoom;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (EditorZoom);

/***/ }),
/* 232 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var EasingFunctions = {
  // no easing, no acceleration
  linear: function linear(t) {
    return t;
  },

  // accelerating from zero velocity
  easeInQuad: function easeInQuad(t) {
    return t * t;
  },

  // decelerating to zero velocity
  easeOutQuad: function easeOutQuad(t) {
    return t * (2 - t);
  },

  // acceleration until halfway, then deceleration
  easeInOutQuad: function easeInOutQuad(t) {
    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
  },

  // accelerating from zero velocity
  easeInCubic: function easeInCubic(t) {
    return t * t * t;
  },

  // decelerating to zero velocity
  easeOutCubic: function easeOutCubic(t) {
    return --t * t * t + 1;
  },

  // acceleration until halfway, then deceleration
  easeInOutCubic: function easeInOutCubic(t) {
    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;
  },

  // accelerating from zero velocity
  easeInQuart: function easeInQuart(t) {
    return t * t * t * t;
  },

  // decelerating to zero velocity
  easeOutQuart: function easeOutQuart(t) {
    return 1 - --t * t * t * t;
  },

  // acceleration until halfway, then deceleration
  easeInOutQuart: function easeInOutQuart(t) {
    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;
  },

  // accelerating from zero velocity
  easeInQuint: function easeInQuint(t) {
    return t * t * t * t * t;
  },

  // decelerating to zero velocity
  easeOutQuint: function easeOutQuint(t) {
    return 1 + --t * t * t * t * t;
  },

  // acceleration until halfway, then deceleration
  easeInOutQuint: function easeInOutQuint(t) {
    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;
  }
};

var Transition = function () {
  function Transition(obj, targetValues, options) {
    _classCallCheck(this, Transition);

    this._obj = obj;
    this._initialObj = __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__["Utils"].clone(obj);
    this._targetValues = targetValues;

    this._options = __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__["Utils"].defaults(options, {
      duration: 1000,
      easing: 'easeOutQuad',
      onUpdate: function onUpdate() {},
      onDone: function onDone() {}
    });

    this._startedAt = null;
    this._running = false;
  }

  /**
   * Starts this transition
   */


  _createClass(Transition, [{
    key: 'start',
    value: function start() {
      this._startedAt = +new Date();
      this._running = true;
    }

    /**
     * Updates the values of this transition
     */

  }, {
    key: 'update',
    value: function update() {
      if (!this._running) return;

      var timePassed = +new Date() - this._startedAt;
      var easingFn = EasingFunctions[this._options.easing];
      var timeProgress = Math.min(1, timePassed / this._options.duration);
      var progress = easingFn(timeProgress);

      for (var key in this._initialObj) {
        var initialValue = this._initialObj[key];
        var targetValue = this._targetValues[key];
        this._obj[key] = initialValue + (targetValue - initialValue) * progress;
      }

      this._options.onUpdate(this._obj);

      if (timeProgress >= 1) {
        this._options.onDone(this._obj);
        this.stop();
      }
    }

    /**
     * Stops this transition
     */

  }, {
    key: 'stop',
    value: function stop() {
      this._running = false;
    }
  }]);

  return Transition;
}();

/* harmony default export */ __webpack_exports__["a"] = (Transition);

/***/ }),
/* 233 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var EditorHistory = function (_EventEmitter) {
  _inherits(EditorHistory, _EventEmitter);

  function EditorHistory(editor, sdk, mediator) {
    _classCallCheck(this, EditorHistory);

    var _this = _possibleConstructorReturn(this, (EditorHistory.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(EditorHistory)).call(this));

    _this._editor = editor;
    _this._sdk = sdk;
    _this._mediator = mediator;

    _this._undoItems = [];
    _this._redoItems = [];
    return _this;
  }

  /**
   * Checks if the EditorHistory has an initial state stored.
   * @returns {Boolean}
   * @memberof EditorHistory
   */


  _createClass(EditorHistory, [{
    key: 'hasInitialState',
    value: function hasInitialState() {
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.flatten(this.getUndoItems()).length > 0;
    }

    /**
     * Checks if an undo operation is possible.
     * @return {Boolean}
     */

  }, {
    key: 'isUndoAvailable',
    value: function isUndoAvailable() {
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.flatten(this.getUndoItems()).length > 1;
    }

    /**
     * Checks if a redo operation is possible.
     * @return {Boolean}
     */

  }, {
    key: 'isRedoAvailable',
    value: function isRedoAvailable() {
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.flatten(this.getRedoItems()).length > 0;
    }

    /**
     * Add a state snapshot to the EditorHistory
     *
     * @param {String} [scope='global']
     * @param {Boolean} [grouped=false]
     * @param {String} [identifier='']
     * @param {Object} [data=null]
     * @memberof EditorHistory
     */

  }, {
    key: 'addSnapshot',
    value: function addSnapshot() {
      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'global';
      var grouped = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var identifier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
      var controls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
      var data = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;

      var snapshot = this._editor.getSnapshot();

      var item = { snapshot: snapshot, scope: scope, identifier: identifier, controls: controls, data: data };

      var lastItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.last(this._undoItems);

      // In the case of grouped items, keep only the lastest snapshot
      if (lastItem && grouped && item.identifier === lastItem.identifier) {
        this._undoItems.pop();
      }

      this._undoItems.push(item);
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_6__globals__["d" /* Constants */].EVENTS.HISTORY_UPDATED, item.operation);

      this._redoItems = [];
    }
  }, {
    key: 'undo',
    value: function undo() {
      var items = this._undoItems;
      var currentItem = items.pop();
      var undoItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.last(items);

      if (!undoItem || !currentItem) {
        return;
      }

      this._editor.restoreSnapshot(undoItem.snapshot);
      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_6__globals__["d" /* Constants */].EVENTS.HISTORY_UNDO, undoItem, currentItem);
      this._redoItems.push(currentItem);
      this.emit('undo');
    }
  }, {
    key: 'redo',
    value: function redo() {
      var items = this._redoItems;
      var redoItem = items.pop();

      if (!redoItem) {
        return;
      }

      this._editor.restoreSnapshot(redoItem.snapshot);

      this._mediator.emit(__WEBPACK_IMPORTED_MODULE_6__globals__["d" /* Constants */].EVENTS.HISTORY_REDO, redoItem);
      this._undoItems.push(redoItem);
      this.emit('redo');
    }
  }, {
    key: 'remove',
    value: function remove(_ref) {
      var scope = _ref.scope,
          identifier = _ref.identifier,
          controls = _ref.controls;

      var filterFunc = function filterFunc(item, index, array) {
        return (scope ? scope === item.scope : true) && (identifier ? identifier === item.identifier : true) && (controls ? controls === item.controls : true);
      };

      this._undoItems = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.remove(this._undoItems, filterFunc);
      this._redoItems = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].Array.remove(this._redoItems, filterFunc);
    }
  }, {
    key: 'removeLocal',
    value: function removeLocal() {
      var identifier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var controls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      this.remove({ scope: 'local', identifier: identifier, controls: controls });
    }
  }, {
    key: 'removeGlobal',
    value: function removeGlobal() {
      var identifier = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
      var controls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;

      this.remove({ scope: 'global', identifier: identifier, controls: controls });
    }
  }, {
    key: 'removeControls',
    value: function removeControls(controls) {
      var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var identifier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

      this.remove({ scope: scope, controls: controls, identifier: identifier });
    }

    /**
     * Resets the history
     */

  }, {
    key: 'reset',
    value: function reset() {
      this._undoItems = []; // SDKUtils.Array.tail(this._undoItems)
      this._redoItems = [];
    }

    /**
     * Returns all history undo items
     * @return {Object[]}
     */

  }, {
    key: 'getUndoItems',
    value: function getUndoItems() {
      return [].concat(_toConsumableArray(this._undoItems));
    }

    /**
     * Returns all history undo items
     * @return {Object[]}
     */

  }, {
    key: 'getItems',
    value: function getItems() {
      return this.getUndoItems();
    }

    /**
     * Returns all the redo history redo items
     * @return {Object[]}
     */

  }, {
    key: 'getRedoItems',
    value: function getRedoItems() {
      return [].concat(_toConsumableArray(this._redoItems));
    }
  }]);

  return EditorHistory;
}(__WEBPACK_IMPORTED_MODULE_6__globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (EditorHistory);

/***/ }),
/* 234 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(107);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(108);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '1.0.0';

/***/ }),
/* 235 */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g = (function() { return this })() || Function("return this")();

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = __webpack_require__(236);

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}


/***/ }),
/* 236 */
/***/ (function(module, exports) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() { return this })() || Function("return this")()
);


/***/ }),
/* 237 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__);




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var Font = function (_Configurable) {
  _inherits(Font, _Configurable);

  function Font() {
    _classCallCheck(this, Font);

    return _possibleConstructorReturn(this, (Font.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(Font)).apply(this, arguments));
  }

  return Font;
}(__WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__["Configurable"]);

/**
 * Specifies the available options for the Font class
 * @type {Object}
 * @ignore
 */


/* harmony default export */ __webpack_exports__["a"] = (Font);
Font.prototype.availableOptions = {
  fontFamily: { type: __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__["OptionType"].STRING, required: true },
  variations: { type: __WEBPACK_IMPORTED_MODULE_3_photoeditorsdk__["OptionType"].ARRAY, required: true }
};

/***/ }),
/* 238 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__base_font_loader__ = __webpack_require__(113);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FONT_STYLES = {
  italic: 'i'
};

var GoogleFontLoader = function (_BaseFontLoader) {
  _inherits(GoogleFontLoader, _BaseFontLoader);

  function GoogleFontLoader() {
    _classCallCheck(this, GoogleFontLoader);

    return _possibleConstructorReturn(this, (GoogleFontLoader.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(GoogleFontLoader)).apply(this, arguments));
  }

  _createClass(GoogleFontLoader, [{
    key: 'load',
    value: function load() {
      if (this._fonts.length) {
        this._addStylesheetTag();
      }
      return _get(GoogleFontLoader.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(GoogleFontLoader.prototype), 'load', this).call(this);
    }

    /**
     * Appends the <link> tag to the head
     * @private
     */

  }, {
    key: '_addStylesheetTag',
    value: function _addStylesheetTag() {
      var families = this._getFamiliesString();
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'https://fonts.googleapis.com/css?family=' + families;

      var head = document.getElementsByTagName('head')[0];
      head.appendChild(link);
    }

    /**
     * Returns the string representation of all Google Fonts families that
     * should be loaded
     * @return {String}
     * @private
     */

  }, {
    key: '_getFamiliesString',
    value: function _getFamiliesString() {
      var families = {};
      this._fonts.forEach(function (font) {
        var fontFamily = font.getFontFamily();
        var fontStyle = font.getFontStyle();
        var fontWeight = font.getFontWeight();
        families[fontFamily] = families[fontFamily] || [];
        if (typeof fontWeight !== 'undefined') {
          families[fontFamily].push('' + fontWeight + (FONT_STYLES[fontStyle] || ''));
        } else {
          families[fontFamily].push(400); // default weight
        }
      });

      var familyStrings = [];
      for (var name in families) {
        var variants = families[name];
        var variantsString = variants.length ? ':' + variants.join(',') : '';
        var nameString = name.replace(' ', '+') + variantsString;
        familyStrings.push(nameString);
      }

      return familyStrings.join('|');
    }
  }]);

  return GoogleFontLoader;
}(__WEBPACK_IMPORTED_MODULE_5__base_font_loader__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (GoogleFontLoader);

/***/ }),
/* 239 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__font_ruler__ = __webpack_require__(240);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var now = typeof window !== 'undefined' && window.performance && window.performance.now ? window.performance.now.bind(window.performance) : __webpack_require__(105);

var OBSERVE_INTERVAL = 50;
var OBSERVE_TIMEOUT = 5000;

var FontObserver = function () {
  function FontObserver(fontVariation) {
    _classCallCheck(this, FontObserver);

    this._fontVariation = fontVariation;

    this._defaultFontRuler = new __WEBPACK_IMPORTED_MODULE_2__font_ruler__["a" /* default */]();
    this._customFontRuler = new __WEBPACK_IMPORTED_MODULE_2__font_ruler__["a" /* default */](this._fontVariation);
  }

  _createClass(FontObserver, [{
    key: 'observe',
    value: function observe() {
      var _this = this;

      var startedAt = now();

      return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var interval = window.setInterval(function () {
          var changed = _this._defaultFontRuler.getWidth() !== _this._customFontRuler.getWidth();
          if (changed) {
            window.clearInterval(interval);
            return resolve();
          } else {
            if (now() - startedAt >= OBSERVE_TIMEOUT) {
              var error = new Error('Failed to load font ' + _this._fontVariation.getFontFamily() + '.');
              error.font = _this._fontVariation;
              return reject(error);
            }
          }
        }, OBSERVE_INTERVAL);
      });
    }
  }, {
    key: 'dispose',
    value: function dispose() {
      this._defaultFontRuler.dispose();
      this._customFontRuler.dispose();
    }
  }]);

  return FontObserver;
}();

/* harmony default export */ __webpack_exports__["a"] = (FontObserver);

/***/ }),
/* 240 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shared_assets_font_variation__ = __webpack_require__(112);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FONT_SIZE = 30;
var CHARACTERS = 'abcdefghijklmnopqrstuvwxzy';

var FontRuler = function () {
  function FontRuler(fontVariation) {
    _classCallCheck(this, FontRuler);

    this._fontVariation = fontVariation || new __WEBPACK_IMPORTED_MODULE_1_shared_assets_font_variation__["a" /* default */]({
      fontFamily: 'Times New Roman',
      fontWeight: 'normal',
      fontStyle: 'normal'
    });

    this._createRuler();
  }

  /**
   * Creates the ruler and attaches it to the DOM
   * @private
   */


  _createClass(FontRuler, [{
    key: '_createRuler',
    value: function _createRuler() {
      this._ruler = document.createElement('div');
      this._ruler.innerText = CHARACTERS;
      document.body.appendChild(this._ruler);
      this._setRulerStyle();
    }

    /**
     * Styles the ruler
     * @private
     */

  }, {
    key: '_setRulerStyle',
    value: function _setRulerStyle() {
      this._ruler.style.cssText = '\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: ' + this._fontVariation.getFontStyle() + ' ' + this._fontVariation.getFontWeight() + ' ' + FONT_SIZE + 'px ' + this._fontVariation.getFontFamily() + ';\n    ';
    }

    /**
     * Sets the font variation to the given one
     * @param {PhotoEditorSDK.UI.ReactUI.FontVariation} fontVariation
     */

  }, {
    key: 'setFontVariation',
    value: function setFontVariation(fontVariation) {
      this._fontVariation = fontVariation;
      this._setRulerStyle();
    }

    /**
     * Returns the width of this ruler
     * @return {Number}
     */

  }, {
    key: 'getWidth',
    value: function getWidth() {
      return !this._ruler ? -1 : this._ruler.offsetWidth;
    }

    /**
     * Removes this ruler from the DOM
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      if (this._ruler) {
        this._ruler.parentNode.removeChild(this._ruler);
        this._ruler = null;
      }
    }
  }]);

  return FontRuler;
}();

/* harmony default export */ __webpack_exports__["a"] = (FontRuler);

/***/ }),
/* 241 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__base_font_loader__ = __webpack_require__(113);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var FileFontLoader = function (_BaseFontLoader) {
  _inherits(FileFontLoader, _BaseFontLoader);

  function FileFontLoader() {
    _classCallCheck(this, FileFontLoader);

    return _possibleConstructorReturn(this, (FileFontLoader.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FileFontLoader)).apply(this, arguments));
  }

  _createClass(FileFontLoader, [{
    key: 'load',
    value: function load() {
      var _this2 = this;

      var fontFacesCSS = [];

      this._fonts.forEach(function (variation) {
        var fontPath = _this2._ui.getAssetPath(variation.getFilePath(), false, true);
        fontFacesCSS.push('@font-face {\n        font-family: "' + variation.getFontFamily() + '";\n        src: url(\'' + fontPath + '\') format(\'woff\');\n        font-weight: ' + variation.getFontWeight() + ';\n        font-style: ' + variation.getFontStyle() + ';\n      }');
      });
      __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].global(fontFacesCSS.join('\n'), true);
      return _get(FileFontLoader.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FileFontLoader.prototype), 'load', this).call(this);
    }
  }]);

  return FileFontLoader;
}(__WEBPACK_IMPORTED_MODULE_6__base_font_loader__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (FileFontLoader);

/***/ }),
/* 242 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(114);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(115);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '1.0.1';

/***/ }),
/* 243 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(76);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '2.0.0';

/***/ }),
/* 244 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(246);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '2.0.1';

/***/ }),
/* 245 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__2_0_0_serializer__ = __webpack_require__(75);




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var v201Serializer = function (_PreviousSerializer) {
  _inherits(v201Serializer, _PreviousSerializer);

  function v201Serializer() {
    _classCallCheck(this, v201Serializer);

    return _possibleConstructorReturn(this, (v201Serializer.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(v201Serializer)).apply(this, arguments));
  }

  return v201Serializer;
}(__WEBPACK_IMPORTED_MODULE_3__2_0_0_serializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v201Serializer);


v201Serializer.version = '2.0.0';

/***/ }),
/* 246 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__2_0_0_deserializer__ = __webpack_require__(76);




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var v201Deserializer = function (_PreviousDeserializer) {
  _inherits(v201Deserializer, _PreviousDeserializer);

  function v201Deserializer() {
    _classCallCheck(this, v201Deserializer);

    return _possibleConstructorReturn(this, (v201Deserializer.__proto__ || __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_prototype_of___default()(v201Deserializer)).apply(this, arguments));
  }

  return v201Deserializer;
}(__WEBPACK_IMPORTED_MODULE_3__2_0_0_deserializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v201Deserializer);


v201Deserializer.version = '2.0.1';

/***/ }),
/* 247 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(121);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '3.0.0';

/***/ }),
/* 248 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__serializer__ = __webpack_require__(249);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__deserializer__ = __webpack_require__(250);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var Serialization = function () {
  function Serialization(editor) {
    _classCallCheck(this, Serialization);

    this._editor = editor;
  }

  /**
   * Serializes the editor state
   * @return {Promise}
   */


  _createClass(Serialization, [{
    key: 'serialize',
    value: function serialize() {
      var serializer = new __WEBPACK_IMPORTED_MODULE_1__serializer__["a" /* default */](this._editor);
      return serializer.serialize.apply(serializer, arguments);
    }

    /**
     * Deserializes the given data
     * @param  {Object} data
     * @return {Promise}
     */

  }, {
    key: 'deserialize',
    value: function deserialize(data) {
      var deserializer = new __WEBPACK_IMPORTED_MODULE_2__deserializer__["a" /* default */](this._editor, data);
      return deserializer.deserialize();
    }
  }]);

  return Serialization;
}();

/* harmony default export */ __webpack_exports__["default"] = (Serialization);


Serialization.version = '3.1.0';

/***/ }),
/* 249 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__3_0_0_serializer__ = __webpack_require__(120);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var v310Serializer = function (_PreviousSerializer) {
  _inherits(v310Serializer, _PreviousSerializer);

  function v310Serializer() {
    _classCallCheck(this, v310Serializer);

    return _possibleConstructorReturn(this, (v310Serializer.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(v310Serializer)).apply(this, arguments));
  }

  _createClass(v310Serializer, [{
    key: '_serializeTextDesign',
    value: function _serializeTextDesign(operation, sprite) {
      var options = sprite.serializeOptions(['position', 'rotation', 'flipHorizontally', 'flipVertically', 'text', 'color', 'width', 'seed', 'inverted'], true);

      options.color = {
        rgba: options.color
      };

      var layout = sprite.getLayout();

      if (layout) {
        options.identifier = layout.constructor.identifier;
      }

      return {
        type: 'textdesign',
        options: options
      };
    }
  }]);

  return v310Serializer;
}(__WEBPACK_IMPORTED_MODULE_5__3_0_0_serializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v310Serializer);


v310Serializer.version = '3.1.0';

/***/ }),
/* 250 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__3_0_0_deserializer__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_managers_text_design_manager__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_managers_font_manager__ = __webpack_require__(51);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var v310Deserializer = function (_PreviousDeserializer) {
  _inherits(v310Deserializer, _PreviousDeserializer);

  function v310Deserializer() {
    _classCallCheck(this, v310Deserializer);

    return _possibleConstructorReturn(this, (v310Deserializer.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(v310Deserializer)).apply(this, arguments));
  }

  _createClass(v310Deserializer, [{
    key: '_deserializeTextDesign',
    value: function _deserializeTextDesign(operation, sprite) {
      var _this2 = this;

      var options = sprite.options;
      var position = options.position,
          rotation = options.rotation,
          flipHorizontally = options.flipHorizontally,
          flipVertically = options.flipVertically,
          text = options.text,
          color = options.color,
          width = options.width,
          seed = options.seed,
          inverted = options.inverted,
          identifier = options.identifier;


      var textDesignManager = new __WEBPACK_IMPORTED_MODULE_7_shared_managers_text_design_manager__["a" /* default */](this._ui, this._getOptions('textdesign'));
      var fontManager = new __WEBPACK_IMPORTED_MODULE_8_shared_managers_font_manager__["a" /* default */](this._ui, { fonts: __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].DEFAULTS.TEXT_DESIGN_FONTS, replaceFonts: true });
      var AssetManager = operation.constructor.TextDesignSprite.AssetManager;
      var fontLoader = this._ui.getFontLoader();

      var Layout = textDesignManager.getLayoutByIdentifier(identifier);

      var layout = new Layout();

      fontLoader.setFonts(fontManager.getFonts());

      AssetManager.setFonts(_extends({}, AssetManager.getFonts(), fontManager.getVariationsByIdentifier()));

      return fontLoader.load().then(function () {
        var images = layout.getImagePaths().map(function (path) {
          return { path: path, fullPath: _this2._ui.getAssetPath(path), image: null };
        });
        return AssetManager.loadImages(images).then(function () {
          layout.onImagesLoaded();

          return operation.createTextDesign({
            position: position,
            rotation: rotation,
            flipHorizontally: flipHorizontally,
            flipVertically: flipVertically,
            text: text,
            color: __WEBPACK_IMPORTED_MODULE_5_globals__["c" /* Color */].fromArray(color.rgba),
            width: width,
            seed: seed,
            inverted: inverted,
            layout: layout
          });
        });
      });
    }
  }]);

  return v310Deserializer;
}(__WEBPACK_IMPORTED_MODULE_6__3_0_0_deserializer__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (v310Deserializer);


v310Deserializer.version = '3.1.0';

/***/ }),
/* 251 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__navigation_item_component__ = __webpack_require__(252);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var test = ("production") === 'test';

var NavigationComponent = function (_BaseComponent) {
  _inherits(NavigationComponent, _BaseComponent);

  function NavigationComponent() {
    var _ref;

    _classCallCheck(this, NavigationComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = NavigationComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(NavigationComponent)).call.apply(_ref, [this].concat(args)));

    _this._needsStyleFixes = true;
    _this._bindAll('_onMouseEnter', '_onMouseLeave');

    _this.state = {
      isHovering: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   */


  _createClass(NavigationComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.currentControl !== this.props.currentControl || nextState.isHovering !== this.state.isHovering;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when an item has been clicked
     * @param  {String} item
     * @private
     */

  }, {
    key: '_onItemClick',
    value: function _onItemClick(item) {
      if (this.props.disabled) return;

      this._onMouseLeave();
      this.props.onControlSwitch(item);
    }

    /**
     * Gets called when the mouse enters the navigation bar.
     * @private
     */

  }, {
    key: '_onMouseEnter',
    value: function _onMouseEnter() {
      if (this.props.disabled) return;

      this.setState({
        isHovering: true
      });
    }

    /**
     * Gets called when the mouse leaves the navigation bar.
     * @private
     */

  }, {
    key: '_onMouseLeave',
    value: function _onMouseLeave() {
      if (this.props.disabled) return;

      this.setState({
        isHovering: false
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      if (__WEBPACK_IMPORTED_MODULE_4_globals__["u" /* Utils */].Browser.isIElte(10)) {
        var navHeight = this._navigation.offsetHeight;
        this._gradient.style.height = navHeight + 'px';
      }
    }

    /**
     * Calculates the number of navigation items in the
     * given section array.
     * @private
     */

  }, {
    key: '_getItemCount',
    value: function _getItemCount(sections) {
      var _this2 = this;

      return sections.reduce(function (count, section) {
        if (Array.isArray(section)) {
          return count + _this2._getItemCount(section);
        } else {
          return count + 1;
        }
      }, 0);
    }

    /**
     * Renders the navigation list items
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this3 = this;

      var editor = this.context.editor;
      var isHovering = this.state.isHovering;


      var makeItem = function makeItem(item, index, maxIndex) {
        var controls = editor.controls.get(item);
        var selected = item === _this3.props.currentControl;
        return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_5__navigation_item_component__["a" /* default */], {
          key: item,
          title: item,
          showTitle: isHovering,
          iconPath: _this3._getAssetPath(controls.iconPath, true),
          activeIconPath: _this3._getAssetPath(controls.activeIconPath, true),
          selected: selected,
          onClick: _this3._onItemClick.bind(_this3, item),
          animationDelay: 0.02 * index,
          maxAnimationDelay: 0.02 * maxIndex,
          disabled: _this3.props.disabled
        });
      };

      var makeSeparator = function makeSeparator(key) {
        return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_5__navigation_item_component__["a" /* default */], { key: key, isSeparator: true });
      };

      var elements = [];
      var sections = this.context.options.editor.controlsOrder;
      var maxIndex = this._getItemCount(sections) - 1;
      sections.forEach(function (section, index) {
        if (Array.isArray(section)) {
          section.forEach(function (item) {
            if (!editor.controls.isEnabled(item)) return;
            elements.push(makeItem(item, elements.length, maxIndex));
          });

          if (index !== sections.length - 1 && elements.length) {
            elements.push(makeSeparator('separator-' + index));
          }
        } else {
          if (!editor.controls.isEnabled(section)) return;
          elements.push(makeItem(section, elements.length, maxIndex));
        }
      });

      return elements;
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var isHovering = this.state.isHovering;


      var backgroundImagePath = this._getAssetPath('editor/navigation/nav-gradient.png', true);
      var gradientStyle = {
        backgroundImage: 'url(' + backgroundImagePath + ')'
      };
      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        NavigationContainer,
        { onMouseLeave: this._onMouseLeave, innerRef: function innerRef(el) {
            _this4._navigation = el;
          } },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          Navigation,
          { onMouseEnter: this._onMouseEnter, onMouseLeave: this._onMouseLeave, disabled: this.props.disabled },
          this._renderListItems()
        ),
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(NavigationOverlay, {
          className: test ? 'js-navigationOverlay' : undefined,
          innerRef: function innerRef(el) {
            _this4._gradient = el;
          },
          style: gradientStyle,
          visible: isHovering })
      );
    }
  }]);

  return NavigationComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

NavigationComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (NavigationComponent);
var NavigationContainer = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1y776sn', 'NavigationContainer');

var Navigation = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].ul('9phbku', 'Navigation');

var NavigationOverlay = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('5jr86g', {
  visible: '1aw31yo'
}, 'NavigationOverlay');

/***/ }),
/* 252 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var NavigationItemComponent = function (_BaseComponent) {
  _inherits(NavigationItemComponent, _BaseComponent);

  function NavigationItemComponent() {
    _classCallCheck(this, NavigationItemComponent);

    return _possibleConstructorReturn(this, (NavigationItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(NavigationItemComponent)).apply(this, arguments));
  }

  _createClass(NavigationItemComponent, [{
    key: 'shouldComponentUpdate',


    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked before rendering when new props or state are being received
     * @param {Object} nextProps
     * @param {Object} nextState
     * @return {Boolean}
     */
    value: function shouldComponentUpdate(nextProps, nextState) {
      return nextProps.showTitle !== this.props.showTitle || nextProps.selected !== this.props.selected;
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      if (this.props.isSeparator) {
        return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(SeparatorItem, null);
      } else {
        var titleContainerStyle = {
          transitionDelay: (this.props.showTitle ? this.props.animationDelay : this.props.maxAnimationDelay - this.props.animationDelay) + 's'
        };

        return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          NavigationItem,
          {
            onClick: this.props.onClick,
            selected: this.props.selected,
            className: test ? 'js-navigationItem' : undefined,
            'data-identifier': this.props.title,
            disabled: this.props.disabled },
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(InactiveIcon, { src: this.props.iconPath, selected: this.props.selected }),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(ActiveIcon, { src: this.props.activeIconPath, selected: this.props.selected }),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            TitleContainer,
            {
              style: titleContainerStyle,
              withTitle: this.props.showTitle },
            __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
              Title,
              null,
              this._t('editor.controls.' + this.props.title + '.title')
            )
          )
        );
      }
    }
  }]);

  return NavigationItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

NavigationItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (NavigationItemComponent);


var BaseItem = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].li('175e5wy', 'BaseItem');

var NavigationItem = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(BaseItem)('djzsp', {
  selected: 'b4k2au',
  disabled: 'kcb0uq'
}, 'NavigationItem');

var SeparatorItem = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(BaseItem)('w5rgvu', 'SeparatorItem');

var Icon = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].img('1ew58rj', 'Icon');

var InactiveIcon = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(Icon)('vd96gg', {
  selected: '1cfz9kz'
}, 'InactiveIcon');

var ActiveIcon = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(Icon)('8p00lh', {
  selected: 'zgbg08'
}, 'ActiveIcon');

var TitleContainer = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('124navh', {
  withTitle: '1j7o6on'
}, 'TitleContainer');

var Title = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('pw4had', 'Title');

/***/ }),
/* 253 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var CanvasComponent = function (_BaseComponent) {
  _inherits(CanvasComponent, _BaseComponent);

  function CanvasComponent() {
    var _ref;

    _classCallCheck(this, CanvasComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CanvasComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onEditorResize');
    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].EVENTS.EDITOR_RESIZE, _this._onEditorResize);
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Gets called after the window and editor has been resized
   * @param {PhotoEditorSDK.Math.Vector2} dimensions
   * @private
   */


  _createClass(CanvasComponent, [{
    key: '_onEditorResize',
    value: function _onEditorResize(dimensions) {
      var editor = this.context.editor;

      var sdk = editor.getSDK();

      sdk.resizeTo(dimensions);
      editor.zoom.auto(true, true);
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Gets called after this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(CanvasComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasComponent.prototype), 'componentDidMount', this).call(this);

      var _context = this.context,
          editor = _context.editor,
          options = _context.options;


      var width = this._canvas.offsetWidth;
      var height = this._canvas.offsetHeight;

      var renderer = editor.getSDK().getRenderer();
      renderer.setCanvas(this._canvas);
      renderer.resizeTo(new __WEBPACK_IMPORTED_MODULE_5_globals__["v" /* Vector2 */](width, height));

      var image = options.editor.image;

      editor.setPadding([55, 30, 55, 315]);
      editor.setImage(image, false);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Canvas, { innerRef: function innerRef(el) {
          _this2._canvas = el;
        } });
    }
  }]);

  return CanvasComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

CanvasComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasComponent);


var Canvas = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].canvas('8gacw5', 'Canvas');

/***/ }),
/* 254 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_shared_managers_modal_manager__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__header_canvas_header_text_button_component__ = __webpack_require__(255);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__header_canvas_header_icon_button_component__ = __webpack_require__(256);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__header_canvas_header_zoom_control_component__ = __webpack_require__(257);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






// import CanvasHeaderNewButtonComponent from './header/canvas-header-new-button-component'

var test = ("production") === 'test';

var CanvasHeaderControlsComponent = function (_BaseComponent) {
  _inherits(CanvasHeaderControlsComponent, _BaseComponent);

  function CanvasHeaderControlsComponent() {
    var _ref, _this$_events;

    _classCallCheck(this, CanvasHeaderControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CanvasHeaderControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onUndoClick', '_onExportClick', '_onCloseClick', '_onHistoryUpdated', '_onFeaturesUpdated', '_onRedoClick');

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.HISTORY_UPDATED, _this._onHistoryUpdated), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.FEATURES_UPDATED, _this._onFeaturesUpdated), _this$_events);
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when a history item has been added or removed
   * @private
   */


  _createClass(CanvasHeaderControlsComponent, [{
    key: '_onHistoryUpdated',
    value: function _onHistoryUpdated() {
      this.forceUpdate();
    }

    /**
     * Invoked when a feature has ben enabled or disabled
     * @private
     */

  }, {
    key: '_onFeaturesUpdated',
    value: function _onFeaturesUpdated() {
      this.forceUpdate();
    }

    /**
     * Gets called when the undo button has been clicked
     * @private
     */

  }, {
    key: '_onUndoClick',
    value: function _onUndoClick() {
      var editor = this.context.editor;

      editor.history.undo();
      this.forceUpdate();
    }

    /**
     * Gets called when the redo button has been clicked
     * @private
     */

  }, {
    key: '_onRedoClick',
    value: function _onRedoClick() {
      var editor = this.context.editor;

      editor.history.redo();
      this.forceUpdate();
    }

    /**
     * Invoked when the close button is clicked
     * @private
     */

  }, {
    key: '_onCloseClick',
    value: function _onCloseClick() {
      var mediator = this.context.mediator;

      mediator.emit(__WEBPACK_IMPORTED_MODULE_4_globals__["d" /* Constants */].EVENTS.CLOSE);
    }

    /**
     * Gets called when the export button has been clicked
     * @private
     */

  }, {
    key: '_onExportClick',
    value: function _onExportClick() {
      var _this2 = this;

      var _context = this.context,
          options = _context.options,
          editor = _context.editor,
          screen = _context.screen;

      var exportOptions = options.editor.export;

      var loadingModal = __WEBPACK_IMPORTED_MODULE_5_shared_managers_modal_manager__["a" /* default */].instance.displayLoading(this._t('loading.exporting'));
      screen.switchToControls('default', null, {}, function () {
        // Give it some time to display the loading modal
        setTimeout(function () {
          editor.export(exportOptions.download).then(function () {
            loadingModal.close();
          }).catch(function (e) {
            __WEBPACK_IMPORTED_MODULE_5_shared_managers_modal_manager__["a" /* default */].instance.displayError(_this2._t('errors.title'), e.message);
            loadingModal.close();
          });
        }, 100);
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Adds all control items to the header.
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderItems',
    value: function _renderItems() {
      var editor = this.context.editor;
      var history = editor.history,
          features = editor.features;
      var displayCloseButton = editor.getOptions().editor.displayCloseButton;


      var undoButtonComponent = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_7__header_canvas_header_icon_button_component__["a" /* default */], {
        disabled: !history.isUndoAvailable(),
        src: this._getAssetPath('editor/canvas-header/undo.png', true),
        onClick: this._onUndoClick,
        className: test ? 'js-undoButton' : undefined });

      var redoButtonComponent = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_7__header_canvas_header_icon_button_component__["a" /* default */], {
        disabled: !history.isRedoAvailable(),
        src: this._getAssetPath('editor/canvas-header/redo.png', true),
        onClick: this._onRedoClick,
        className: test ? 'js-redoButton' : undefined });

      var left = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        ControlGroup,
        { key: 'left', left: true },
        undoButtonComponent,
        redoButtonComponent
      );
      var center = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        CenteredControlGroup,
        { key: 'center' },
        features.isEnabledByOptions('zoom') && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_8__header_canvas_header_zoom_control_component__["a" /* default */], null)
      );
      var right = __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        ControlGroup,
        { key: 'right', right: true },
        features.isEnabled('export') && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_6__header_canvas_header_text_button_component__["a" /* default */], {
          title: this._t('editor.export'),
          onClick: this._onExportClick,
          className: test ? 'js-exportButton' : undefined }),
        displayCloseButton && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_6__header_canvas_header_text_button_component__["a" /* default */], {
          title: this._t('editor.close'),
          onClick: this._onCloseClick,
          className: test ? 'js-closeButton' : undefined })
      );
      return [left, center, right];
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        CanvasHeaderControls,
        { className: this.props.className },
        this._renderItems()
      );
    }
  }]);

  return CanvasHeaderControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

CanvasHeaderControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasHeaderControlsComponent);


var CanvasHeaderControls = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1vo3slj', 'CanvasHeaderControls');

var CenteredControlGroup = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('h5xlzy', 'CenteredControlGroup');

var ControlGroup = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].ul('17ty59f', {
  left: '1elyhsq',
  right: '1l7kz3k'
}, 'ControlGroup');

/***/ }),
/* 255 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__ = __webpack_require__(124);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var CanvasHeaderTextButtonComponent = function (_CanvasHeaderButtonCo) {
  _inherits(CanvasHeaderTextButtonComponent, _CanvasHeaderButtonCo);

  function CanvasHeaderTextButtonComponent() {
    _classCallCheck(this, CanvasHeaderTextButtonComponent);

    return _possibleConstructorReturn(this, (CanvasHeaderTextButtonComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderTextButtonComponent)).apply(this, arguments));
  }

  _createClass(CanvasHeaderTextButtonComponent, [{
    key: 'render',


    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */],
        { onClick: this.props.onClick, className: this.props.className },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          Button,
          { disabled: this.props.disabled },
          this.props.title
        )
      );
    }
  }]);

  return CanvasHeaderTextButtonComponent;
}(__WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */]);

CanvasHeaderTextButtonComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasHeaderTextButtonComponent);


var Button = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1d3mv64', {
  disabled: '1wcaxw7'
}, 'Button');

CanvasHeaderTextButtonComponent.Button = Button;

/***/ }),
/* 256 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__ = __webpack_require__(124);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var CanvasHeaderIconButtonComponent = function (_CanvasHeaderButtonCo) {
  _inherits(CanvasHeaderIconButtonComponent, _CanvasHeaderButtonCo);

  function CanvasHeaderIconButtonComponent() {
    _classCallCheck(this, CanvasHeaderIconButtonComponent);

    return _possibleConstructorReturn(this, (CanvasHeaderIconButtonComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderIconButtonComponent)).apply(this, arguments));
  }

  _createClass(CanvasHeaderIconButtonComponent, [{
    key: 'render',


    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      var _props = this.props,
          onClick = _props.onClick,
          className = _props.className,
          disabled = _props.disabled;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */],
        { disabled: disabled, onClick: disabled ? undefined : onClick, className: className },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Image, { disabled: disabled, src: this.props.src })
      );
    }
  }]);

  return CanvasHeaderIconButtonComponent;
}(__WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */]);

CanvasHeaderIconButtonComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__canvas_header_button_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasHeaderIconButtonComponent);


var Image = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].img('1y2itdu', {
  disabled: 'vxlu5c'
}, 'Image');

/***/ }),
/* 257 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var CanvasHeaderZoomControl = function (_BaseComponent) {
  _inherits(CanvasHeaderZoomControl, _BaseComponent);

  function CanvasHeaderZoomControl() {
    var _ref, _this$_events;

    _classCallCheck(this, CanvasHeaderZoomControl);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CanvasHeaderZoomControl.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderZoomControl)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onZoomInClick', '_onZoomOutClick', '_onZoom', '_onFeaturesUpdated');

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].EVENTS.ZOOM, _this._onZoom), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_globals__["d" /* Constants */].EVENTS.FEATURES_UPDATED, _this._onFeaturesUpdated), _this$_events);
    return _this;
  }

  _createClass(CanvasHeaderZoomControl, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(CanvasHeaderZoomControl.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(CanvasHeaderZoomControl.prototype), 'componentDidMount', this).call(this);
      if (this._renderZoomLevel && this._renderZoomLevel !== this.context.editor.zoom.targetLevel) {
        this.forceUpdate();
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the features state has been changed
     * @private
     */

  }, {
    key: '_onFeaturesUpdated',
    value: function _onFeaturesUpdated() {
      this.forceUpdate();
    }

    /**
     * Gets called when the target zoom level has been changed
     * @private
     */

  }, {
    key: '_onZoom',
    value: function _onZoom() {
      this.forceUpdate();
    }

    /**
     * Gets called when the zoom in button has been clicked
     * @private
     */

  }, {
    key: '_onZoomInClick',
    value: function _onZoomInClick() {
      if (this._isZoomDisabled()) return;
      var editor = this.context.editor;

      editor.zoom.in();
    }

    /**
     * Gets called when the zoom out button has been clicked
     * @private
     */

  }, {
    key: '_onZoomOutClick',
    value: function _onZoomOutClick() {
      if (this._isZoomDisabled()) return;
      var editor = this.context.editor;

      editor.zoom.out();
    }

    /**
     * Checks if the zoom feature is disabled
     * @return {Boolean}
     * @private
     */

  }, {
    key: '_isZoomDisabled',
    value: function _isZoomDisabled() {
      var editor = this.context.editor;

      return !editor.features.isEnabled('zoom');
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var editor = this.context.editor;

      var zoomLevel = Math.round(editor.zoom.targetLevel * 100);
      this._renderZoomLevel = editor.zoom.targetLevel;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        ZoomControl,
        { className: test ? 'js-zoomControls' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          Button,
          {
            disabled: this._isZoomDisabled(),
            'data-disabled': this._isZoomDisabled(),
            onClick: this._onZoomOutClick,
            className: test ? 'js-zoomOutButton' : undefined },
          '-'
        ),
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          Label,
          null,
          zoomLevel,
          ' %'
        ),
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          Button,
          {
            disabled: this._isZoomDisabled(),
            'data-disabled': this._isZoomDisabled(),
            onClick: this._onZoomInClick,
            className: test ? 'js-zoomInButton' : undefined },
          '+'
        )
      );
    }
  }]);

  return CanvasHeaderZoomControl;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

CanvasHeaderZoomControl.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasHeaderZoomControl);


var ZoomControl = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('12hdgpj', 'ZoomControl');

var Button = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('eqhwwg', {
  disabled: '10fa721'
}, 'Button');

var Label = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('64aub5', 'Label');

/***/ }),
/* 258 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';
var START_DURATION = 1300; // 1.3 seconds

var LoadingScreenComponent = function (_BaseComponent) {
  _inherits(LoadingScreenComponent, _BaseComponent);

  function LoadingScreenComponent() {
    var _ref;

    _classCallCheck(this, LoadingScreenComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LoadingScreenComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LoadingScreenComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll();

    _this._canHideAfterLoaded = false;

    _this.state = {
      startImageVisible: true,
      idleImageVisible: false,
      indicatorVisible: true
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(LoadingScreenComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _get(LoadingScreenComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LoadingScreenComponent.prototype), 'componentDidMount', this).call(this);

      this._imageSwitchTimeout = window.setTimeout(function () {
        _this2.setState({
          startImageVisible: false,
          idleImageVisible: true
        });
        _this2._imageSwitchTimeout = null;
      }, START_DURATION);
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(LoadingScreenComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LoadingScreenComponent.prototype), 'componentWillUnmount', this).call(this);

      if (this._imageSwitchTimeout) {
        window.clearTimeout(this._imageSwitchTimeout);
        this._imageSwitchTimeout = null;
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    // -------------------------------------------------------------------------- MISC

    // -------------------------------------------------------------------------- CONTEXT

    /**
     * Returns the context passed to all children
     * @return {Object}
     */

  }, {
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        ui: this.context.ui,
        options: this.context.options,
        mediator: this.context.mediator,
        appComponent: this.context.appComponent
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _state = this.state,
          startImageVisible = _state.startImageVisible,
          idleImageVisible = _state.idleImageVisible,
          indicatorVisible = _state.indicatorVisible;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        Container,
        { innerRef: function innerRef(el) {
            _this3._container = el;
          }, className: test ? 'js-loadingScreen' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          ImageContainer,
          { hidden: !indicatorVisible },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(StartImage, { visible: startImageVisible, src: this._getAssetPath('loading/start-solid.gif', true) }),
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(IdleImage, { visible: idleImageVisible, src: this._getAssetPath('loading/idle-solid.gif', true) })
        )
      );
    }
  }]);

  return LoadingScreenComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

LoadingScreenComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
LoadingScreenComponent.childContextTypes = {
  ui: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object.isRequired,
  mediator: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object.isRequired,
  options: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object.isRequired,
  appComponent: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object.isRequired
};


var Container = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('121fa7f', 'Container');

var ImageContainer = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('110xr2i', {
  hidden: 'qbdcep'
}, 'ImageContainer');

var Image = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].img('1gqfg7n', {
  visible: 'zgbg08'
}, 'Image');

var StartImage = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(Image)('120drhm', 'StartImage');
var IdleImage = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(Image)('120drhm', 'IdleImage');

/* harmony default export */ __webpack_exports__["a"] = (Object(__WEBPACK_IMPORTED_MODULE_5_globals__["A" /* withTheme */])(LoadingScreenComponent));

/***/ }),
/* 259 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function (adonis, selector) {
  adonis.global(selector + " html," + selector + " body," + selector + " div," + selector + " span," + selector + " applet," + selector + " object," + selector + " iframe," + selector + " h1," + selector + " h2," + selector + " h3," + selector + " h4," + selector + " h5," + selector + " h6," + selector + " p," + selector + " blockquote," + selector + " pre," + selector + " a," + selector + " abbr," + selector + " acronym," + selector + " address," + selector + " big," + selector + " cite," + selector + " code," + selector + " del," + selector + " dfn," + selector + " em," + selector + " img," + selector + " ins," + selector + " kbd," + selector + " q," + selector + " s," + selector + " samp," + selector + " small," + selector + " strike," + selector + " strong," + selector + " sub," + selector + " sup," + selector + " tt," + selector + " var," + selector + " b," + selector + " u," + selector + " i," + selector + " center," + selector + " dl," + selector + " dt," + selector + " dd," + selector + " ol," + selector + " ul," + selector + " li," + selector + " fieldset," + selector + " form," + selector + " label," + selector + " legend," + selector + " table," + selector + " caption," + selector + " tbody," + selector + " tfoot," + selector + " thead," + selector + " tr," + selector + " th," + selector + " td," + selector + " article," + selector + " aside," + selector + " canvas," + selector + " details," + selector + " embed," + selector + " figure," + selector + " figcaption," + selector + " footer," + selector + " header," + selector + " hgroup," + selector + " menu," + selector + " nav," + selector + " output," + selector + " ruby," + selector + " section," + selector + " summary," + selector + " time," + selector + " mark," + selector + " audio," + selector + " video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}" + selector + " html{line-height:1}" + selector + " ol," + selector + " ul{list-style:none}" + selector + " table{border-collapse:collapse;border-spacing:0}" + selector + " caption," + selector + " th," + selector + " td{text-align:left;font-weight:400;vertical-align:middle}" + selector + " q," + selector + " blockquote{quotes:none}" + selector + " q:before," + selector + " q:after," + selector + " blockquote:before," + selector + " blockquote:after{content:\"\";content:none}" + selector + " a img{border:none}" + selector + " article," + selector + " aside," + selector + " details," + selector + " figcaption," + selector + " figure," + selector + " footer," + selector + " header," + selector + " hgroup," + selector + " main," + selector + " menu," + selector + " nav," + selector + " section," + selector + " summary{display:block}@media only screen and (min-width: 768px){" + selector + "{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px}}" + selector + "," + selector + " *{box-sizing:border-box}");
});

/***/ }),
/* 260 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function (adonis, selector) {
  adonis.global("\n    @-webkit-keyframes bouncingLoadingIndicator {\n      0% {\n        transform: translateY(0);\n      }\n      40% {\n        transform: translateY(10px);\n      }\n      60% {\n        transform: translateY(-5px);\n      }\n      80%{\n        transform: translateY(0);\n      }\n    }\n  ");
});

/***/ }),
/* 261 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__editor__ = __webpack_require__(106);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var LOAD_TIMEOUT = 5000;

var Preloader = function (_EventEmitter) {
  _inherits(Preloader, _EventEmitter);

  function Preloader(ui, options, mediator) {
    _classCallCheck(this, Preloader);

    var _this = _possibleConstructorReturn(this, (Preloader.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(Preloader)).call(this));

    _this._ui = ui;
    _this._options = options;
    _this._mediator = mediator;

    _this._assets = {};

    // A shallow Editor instance that is only there to check for features etc.
    _this._editor = new __WEBPACK_IMPORTED_MODULE_5__editor__["a" /* default */](ui, options, mediator, true);

    // Generic assets that are pretty much always required
    _this._assets = ['editor/canvas-header/undo.png', 'editor/navigation/nav-gradient.png', 'editor/controls/shared/checkbox.png', 'editor/controls/shared/checkbox-active.png', 'editor/controls/shared/tiled-background.png'];
    _this._appendControlsAssets();
    return _this;
  }

  /**
   * Adds the control-specific assets if necessary
   * @private
   */


  _createClass(Preloader, [{
    key: '_appendControlsAssets',
    value: function _appendControlsAssets() {
      var controls = this._editor.controls.getAvailable();
      for (var key in controls) {
        var Control = controls[key];
        if (this._editor.controls.isEnabled(key)) {
          this._assets = this._assets.concat(Control.getPreloadAssets(this._editor));
          this._assets.push(Control.iconPath);
          this._assets.push(Control.activeIconPath);
        }
      }
    }

    /**
     * Loads the assets, emits progress events
     */

  }, {
    key: 'load',
    value: function load() {
      var _this2 = this;

      var assets = this._assets.slice();
      var assetsCount = assets.length;
      var assetsLoaded = 0;

      /**
       * Called when an asset has been loaded. Increases the asset counter and emits a progress
       * event
       */
      var assetLoaded = function assetLoaded() {
        assetsLoaded++;
        _this2.emit('progress', assetsLoaded / assetsCount);
        if (assetsLoaded === assetsCount) {
          _this2.emit('done');
        }
      };

      /**
       * Logs a warning message that the given asset failed to load for the given reason
       * @param  {String} path
       * @param  {String} reason
       */
      var assetLoadFailed = function assetLoadFailed(path) {
        var reason = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'timed out';

        __WEBPACK_IMPORTED_MODULE_4__globals__["h" /* Log */].warn('Preloader', path + ' ' + reason + '.');
        assetLoaded();
      };

      /**
       * Creates a timeout for the given asset path. Assumes an asset failed to load when timeout
       * runs out
       * @param  {String} path
       * @return {Number}
       */
      var loadTimeout = function loadTimeout(path) {
        return window.setTimeout(function () {
          assetLoadFailed(path);
        }, LOAD_TIMEOUT);
      };

      assets.forEach(function (asset) {
        var uiAsset = true;
        if (Array.isArray(asset)) {
          uiAsset = asset[1];
          asset = asset[0];
        }
        var retinaAsset = true;
        if (__WEBPACK_IMPORTED_MODULE_4__globals__["q" /* SDKUtils */].isArray(asset)) {
          retinaAsset = asset[1];
          asset = asset[0];
        }

        var assetPath = _this2._ui.getAssetPath(asset, uiAsset, !retinaAsset);
        var image = new window.Image();
        var timeout = loadTimeout(assetPath);
        image.addEventListener('load', function () {
          window.clearTimeout(timeout);
          _this2._assets[asset] = image;
          assetLoaded();
        });
        image.addEventListener('error', function () {
          window.clearTimeout(timeout);
          assetLoadFailed(assetPath, 'was not found');
        });
        image.crossOrigin = __WEBPACK_IMPORTED_MODULE_4__globals__["q" /* SDKUtils */].getCrossOriginValue(_this2._options.crossOrigin);
        image.src = assetPath;
      });
    }
  }, {
    key: 'getAsset',
    value: function getAsset(assetPath) {
      return this._assets[assetPath];
    }
  }]);

  return Preloader;
}(__WEBPACK_IMPORTED_MODULE_4__globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (Preloader);

/***/ }),
/* 262 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__lib_library__ = __webpack_require__(263);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_shared_managers_modal_manager__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_delayed_job_queue_js__ = __webpack_require__(267);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_screens_editor_controls_grouped_control_styles__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_screens_editor_controls_controls_styles__ = __webpack_require__(268);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lib_frame__ = __webpack_require__(119);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_managers_font_manager__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_managers_sticker_manager__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_managers_brush_manager__ = __webpack_require__(111);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_shared_managers_filter_manager__ = __webpack_require__(110);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_shared_managers_frame_manager__ = __webpack_require__(117);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_shared_managers_overlay_manager__ = __webpack_require__(118);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_shared_managers_transform_ratio_manager__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_shared_managers_text_design_manager__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__components_screens_editor_controls_base_controls__ = __webpack_require__(269);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__components_screens_editor_controls_shared_loading_indicator_component__ = __webpack_require__(270);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__components_suffixed_text_input_component__ = __webpack_require__(271);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__components_screens_editor_controls_shared_state_component__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__components_screens_editor_controls_controls_component__ = __webpack_require__(123);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__components_screens_editor_controls_shared_collapse_section_component__ = __webpack_require__(273);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__components_screens_editor_controls_shared_scrollable_list_component__ = __webpack_require__(274);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__components_screens_editor_controls_shared_slider_control_component__ = __webpack_require__(275);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__components_screens_editor_controls_canvas_controls_component__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__components_screens_editor_controls_shared_value_selection_component__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__components_screens_editor_controls_shared_color_selection_component__ = __webpack_require__(279);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__components_screens_editor_controls_shared_button_component__ = __webpack_require__(285);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__components_shared_forms_dropdown_component__ = __webpack_require__(286);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__components_shared_forms_text_input_component__ = __webpack_require__(287);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__components_draggable_component__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__components_shared_invisible_upload_component__ = __webpack_require__(288);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__components_screens_editor_controls_shared_canvas_overlay_controls_component__ = __webpack_require__(290);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__components_transition__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__components_screens_editor_controls_shared_checkbox_component_jsx__ = __webpack_require__(127);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return __WEBPACK_IMPORTED_MODULE_5__lib_frame__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SharedStateComponent", function() { return __WEBPACK_IMPORTED_MODULE_17__components_screens_editor_controls_shared_state_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ControlsComponent", function() { return __WEBPACK_IMPORTED_MODULE_18__components_screens_editor_controls_controls_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseSectionComponent", function() { return __WEBPACK_IMPORTED_MODULE_19__components_screens_editor_controls_shared_collapse_section_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollableListComponent", function() { return __WEBPACK_IMPORTED_MODULE_20__components_screens_editor_controls_shared_scrollable_list_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SliderControlComponent", function() { return __WEBPACK_IMPORTED_MODULE_21__components_screens_editor_controls_shared_slider_control_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasControlsComponent", function() { return __WEBPACK_IMPORTED_MODULE_22__components_screens_editor_controls_canvas_controls_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ValueSelectionComponent", function() { return __WEBPACK_IMPORTED_MODULE_23__components_screens_editor_controls_shared_value_selection_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ColorSelectionComponent", function() { return __WEBPACK_IMPORTED_MODULE_24__components_screens_editor_controls_shared_color_selection_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ButtonComponent", function() { return __WEBPACK_IMPORTED_MODULE_25__components_screens_editor_controls_shared_button_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DropdownComponent", function() { return __WEBPACK_IMPORTED_MODULE_26__components_shared_forms_dropdown_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "TextInputComponent", function() { return __WEBPACK_IMPORTED_MODULE_27__components_shared_forms_text_input_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DraggableComponent", function() { return __WEBPACK_IMPORTED_MODULE_28__components_draggable_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "InvisibleUploadComponent", function() { return __WEBPACK_IMPORTED_MODULE_29__components_shared_invisible_upload_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CanvasOverlayControlsComponent", function() { return __WEBPACK_IMPORTED_MODULE_30__components_screens_editor_controls_shared_canvas_overlay_controls_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Transition", function() { return __WEBPACK_IMPORTED_MODULE_31__components_transition__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxComponent", function() { return __WEBPACK_IMPORTED_MODULE_32__components_screens_editor_controls_shared_checkbox_component_jsx__["a"]; });
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "Library", function() { return __WEBPACK_IMPORTED_MODULE_0__lib_library__; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "ModalManager", function() { return __WEBPACK_IMPORTED_MODULE_1_shared_managers_modal_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "DelayedJobQueue", function() { return __WEBPACK_IMPORTED_MODULE_2__lib_delayed_job_queue_js__["a"]; });
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "GroupedControlsStyles", function() { return __WEBPACK_IMPORTED_MODULE_3__components_screens_editor_controls_grouped_control_styles__; });
/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, "ControlsStyles", function() { return __WEBPACK_IMPORTED_MODULE_4__components_screens_editor_controls_controls_styles__; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FontManager", function() { return __WEBPACK_IMPORTED_MODULE_6_shared_managers_font_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "StickerManager", function() { return __WEBPACK_IMPORTED_MODULE_7_shared_managers_sticker_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "BrushManager", function() { return __WEBPACK_IMPORTED_MODULE_8_shared_managers_brush_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FilterManager", function() { return __WEBPACK_IMPORTED_MODULE_9_shared_managers_filter_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "FrameManager", function() { return __WEBPACK_IMPORTED_MODULE_10_shared_managers_frame_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "OverlayManager", function() { return __WEBPACK_IMPORTED_MODULE_11_shared_managers_overlay_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "TextDesignManager", function() { return __WEBPACK_IMPORTED_MODULE_13_shared_managers_text_design_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "TransformRatioManager", function() { return __WEBPACK_IMPORTED_MODULE_12_shared_managers_transform_ratio_manager__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "BaseControls", function() { return __WEBPACK_IMPORTED_MODULE_14__components_screens_editor_controls_base_controls__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingIndicatorComponent", function() { return __WEBPACK_IMPORTED_MODULE_15__components_screens_editor_controls_shared_loading_indicator_component__["a"]; });
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "SuffixedTextInputComponent", function() { return __WEBPACK_IMPORTED_MODULE_16__components_suffixed_text_input_component__["a"]; });
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




// -------------------------------------------------------------------------- LIBS



// -------------------------------------------------------------------------- STYLES




// -------------------------------------------------------------------------- ASSETS



// -------------------------------------------------------------------------- ASSET MANAGERS










// -------------------------------------------------------------------------- COMPONENTS





















/** Exports **/





































/***/ }),
/* 263 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__provider__ = __webpack_require__(264);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Provider", function() { return __WEBPACK_IMPORTED_MODULE_0__provider__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__category__ = __webpack_require__(265);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Category", function() { return __WEBPACK_IMPORTED_MODULE_1__category__["a"]; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__image__ = __webpack_require__(266);
/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return __WEBPACK_IMPORTED_MODULE_2__image__["a"]; });
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





/***/ }),
/* 264 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__ = __webpack_require__(48);



var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var LibraryProvider = function () {
  function LibraryProvider() {
    _classCallCheck(this, LibraryProvider);
  }

  _createClass(LibraryProvider, [{
    key: '_loadJSON',

    /**
     * Loads the given URL using JSON(P)
     * @param  {String} url
     * @return {Promise}
     * @private
     */
    value: function _loadJSON(url) {
      var loader = new __WEBPACK_IMPORTED_MODULE_3_shared_loaders_json_loader__["a" /* default */](url);
      return loader.load();
    }

    /**
     * Returns the categories
     * @return {Promise}
     * @resolve {PhotoEditorSDK.UI.DesktopUI.Library.Category[]}
     * @abstract
     */

  }, {
    key: 'getCategories',
    value: function getCategories() {
      __WEBPACK_IMPORTED_MODULE_2_globals__["h" /* Log */].warn(this.constructor.name, '`getCategories` is abstract and not implemented.');
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve([]);
    }

    /**
     * Returns the images for the given search query
     * @param {String} query
     * @return {Promise}
     * @resolve {PhotoEditorSDK.UI.DesktopUI.Library.Image[]}
     */

  }, {
    key: 'searchImages',
    value: function searchImages(query) {
      __WEBPACK_IMPORTED_MODULE_2_globals__["h" /* Log */].warn(this.constructor.name, '`searchImages` is abstract and not implemented.');
      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve([]);
    }
  }]);

  return LibraryProvider;
}();

/* harmony default export */ __webpack_exports__["a"] = (LibraryProvider);

/***/ }),
/* 265 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var LibraryCategory = function (_SDK$Configurable) {
  _inherits(LibraryCategory, _SDK$Configurable);

  function LibraryCategory() {
    var _ref;

    _classCallCheck(this, LibraryCategory);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryCategory.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LibraryCategory)).call.apply(_ref, [this].concat(args)));

    _this._coverImage = null;
    _this._coverImageLoaded = false;
    return _this;
  }

  /**
   * Loads the cover image
   * @return {Promise}
   * @resolve {Image}
   */


  _createClass(LibraryCategory, [{
    key: 'loadCoverImage',
    value: function loadCoverImage() {
      var _this2 = this;

      var crossOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'anonymous';

      return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var image = new window.Image();
        image.addEventListener('load', function () {
          _this2._coverImageLoaded = true;
          resolve(image);
        });
        image.addEventListener('error', function () {
          reject(new Error('Failed to load image at ' + _this2.getCoverImage()));
        });

        image.crossOrigin = __WEBPACK_IMPORTED_MODULE_5_globals__["q" /* SDKUtils */].getCrossOriginValue(crossOrigin);
        image.src = _this2.getCoverImage();
        _this2._coverImage = image;
      });
    }

    /**
     * Checks if the cover image has been loaded
     * @return {Boolean}
     */

  }, {
    key: 'isCoverImageLoaded',
    value: function isCoverImageLoaded() {
      return this._coverImage && this._coverImageLoaded;
    }
  }]);

  return LibraryCategory;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["p" /* SDK */].Configurable);

/**
 * Specifies the available options for this filter
 * @type {Object}
 * @ignore
 */


/* harmony default export */ __webpack_exports__["a"] = (LibraryCategory);
LibraryCategory.prototype.availableOptions = {
  name: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING, required: true },
  coverImage: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING, required: true }
};

/***/ }),
/* 266 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var LibraryImage = function (_SDK$Configurable) {
  _inherits(LibraryImage, _SDK$Configurable);

  function LibraryImage() {
    var _ref;

    _classCallCheck(this, LibraryImage);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryImage.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LibraryImage)).call.apply(_ref, [this].concat(args)));

    _this._thumbImage = null;
    _this._thumbImageLoaded = false;
    return _this;
  }

  /**
   * Loads the thumb
   * @return {Promise}
   * @resolve {Image}
   */


  _createClass(LibraryImage, [{
    key: 'loadThumb',
    value: function loadThumb() {
      var _this2 = this;

      var crossOrigin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'anonymous';

      return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var image = new window.Image();
        image.addEventListener('load', function () {
          _this2._thumbImageLoaded = true;
          resolve(image);
        });
        image.addEventListener('error', function () {
          reject(new Error('Failed to load image at ' + _this2.getThumbUrl()));
        });

        image.crossOrigin = __WEBPACK_IMPORTED_MODULE_5_globals__["q" /* SDKUtils */].getCrossOriginValue(crossOrigin);
        image.src = _this2.getThumbUrl();
        _this2._thumbImage = image;
      });
    }

    /**
     * Checks if the thumb has been loaded
     * @return {Boolean}
     */

  }, {
    key: 'isThumbLoaded',
    value: function isThumbLoaded() {
      return this._thumbImage && this._thumbImageLoaded;
    }

    /**
     * Returns the thumbnail image
     * @return {Image}
     */

  }, {
    key: 'getThumbImage',
    value: function getThumbImage() {
      return this._thumbImage;
    }
  }]);

  return LibraryImage;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["p" /* SDK */].Configurable);

/* harmony default export */ __webpack_exports__["a"] = (LibraryImage);


LibraryImage.prototype.availableOptions = {
  category: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].OBJECT, required: true },
  title: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING },
  rawUrl: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING, required: true },
  thumbUrl: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING },
  authorName: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING },
  authorAvatar: { type: __WEBPACK_IMPORTED_MODULE_5_globals__["i" /* OptionType */].STRING }
};

/***/ }),
/* 267 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }



/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */

/**
 * This class handles a list of jobs, processes them one after another
 * while making sure the jobs are not finishing too quickly (delayed)
 * @ignore
 */

var DelayedJobQueue = function (_EventEmitter) {
  _inherits(DelayedJobQueue, _EventEmitter);

  /**
   * @param {Function[]} jobs - An array of functions returning promises
   * @param {Object} [options]
   * @param {Number} [options.minDelay = 400]
   */
  function DelayedJobQueue(jobs, options) {
    _classCallCheck(this, DelayedJobQueue);

    var _this = _possibleConstructorReturn(this, (DelayedJobQueue.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(DelayedJobQueue)).call(this));

    _this._jobs = jobs;
    _this._options = __WEBPACK_IMPORTED_MODULE_4_globals__["q" /* SDKUtils */].defaults(options, {
      minDelay: 400
    });
    _this._running = false;
    _this._currentJob = null;
    _this._currentJobIndex = 0;

    _this._tick = _this._tick.bind(_this);
    return _this;
  }

  /**
   * Starts the queue processing
   */


  _createClass(DelayedJobQueue, [{
    key: 'start',
    value: function start() {
      this._running = true;
      this._lastJobFinished = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["y" /* now */])();

      this._tick();
    }

    /**
     * Internal tick function
     * @private
     */

  }, {
    key: '_tick',
    value: function _tick() {
      var _this2 = this;

      if (!this._running) return;

      if (!this._currentJob) {
        this._currentJob = this._jobs[this._currentJobIndex];

        if (!this._currentJob) {
          this.emit('done');
          this.stop();
          return;
        }

        this._currentJob.fn().then(function () {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          var done = function done() {
            _this2.emit.apply(_this2, ['job-done', _this2._currentJob].concat(args));
            _this2._lastJobFinished = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["y" /* now */])();
            _this2._currentJob = null;
          };

          if (Object(__WEBPACK_IMPORTED_MODULE_4_globals__["y" /* now */])() - _this2._lastJobFinished < _this2._options.minDelay) {
            var timeLeft = _this2._options.minDelay - (Object(__WEBPACK_IMPORTED_MODULE_4_globals__["y" /* now */])() - _this2._lastJobFinished);
            setTimeout(done, timeLeft);
          } else {
            done();
          }
        }).catch(function (e) {
          _this2.emit('error', _this2._currentJob, e);
          _this2._currentJob = null;
        });

        this._currentJobIndex++;
      }

      Object(__WEBPACK_IMPORTED_MODULE_4_globals__["z" /* requestAnimationFrame */])(this._tick);
    }

    /**
     * Stops the queue processing
     */

  }, {
    key: 'stop',
    value: function stop() {
      this._running = false;
    }

    /**
     * Stops the queue, cleans up
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      this._jobs = [];
      this._running = false;
    }
  }]);

  return DelayedJobQueue;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (DelayedJobQueue);

/***/ }),
/* 268 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FullContainer", function() { return FullContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlItem", function() { return ControlItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlItemTextStyles", function() { return ControlItemTextStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlItemTitle", function() { return ControlItemTitle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlItemActiveOverlay", function() { return ControlItemActiveOverlay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ControlItemOverlay", function() { return ControlItemOverlay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Knob", function() { return Knob; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlainControlItem", function() { return PlainControlItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlainControlItemBackground", function() { return PlainControlItemBackground; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_globals__ = __webpack_require__(4);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var FullContainer = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('vl6nc6', 'FullContainer');

var ControlItem = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('gxhkr8', {
  animated: '1cekd0y',
  selected: '10th7ra',
  visible: 'qtjcwg'
}, 'ControlItem');

var ControlItemTextStyles = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1us1ll5', 'ControlItemTextStyles');

var ControlItemTitle = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('d17ppx', {
  hovered: 'zgbg08'
}, 'ControlItemTitle');

var ControlItemActiveOverlay = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('x1p1ki', {
  visible: 'zgbg08',
  rendered: '2jlos'
}, 'ControlItemActiveOverlay');

var ControlItemOverlay = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1kza12c', 'ControlItemOverlay');

var Knob = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('ywjahx', 'Knob');

var PlainControlItem = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('9ej9h0', {
  threeColumns: '14meo64',
  twoColumns: '4nk392',
  withText: 'rbroui',
  selected: 'eb0k9a'
}, 'PlainControlItem');

var PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_0_globals__["w" /* adonis */].css('1lmjuk', {
  selected: 'q4p805'
}, 'PlainControlItemBackground');

/***/ }),
/* 269 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__canvas_controls_component__ = __webpack_require__(78);




var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





/**
 * Base class for all tool controls.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI
 */

var BaseControls = function () {
  function BaseControls(context, sharedState, options) {
    _classCallCheck(this, BaseControls);

    this.context = context;
    this.sharedState = sharedState;

    this._options = options;
    this._mediator = context.mediator;
    this.skipHistory = false;

    this._initialOptions = {};

    this._onOperationRemoved = this._onOperationRemoved.bind(this);
    this._onOperationUpdated = this._onOperationUpdated.bind(this);
  }

  /**
   * A unique identifier for these controls
   * @type {String}
   */


  /**
   * The controls component for these controls
   * @type {React.Component}
   */


  /**
   * The canvas component for these controls
   * @type {React.Component}
   */


  /**
   * The default options of these controls
   * @type {Object}
   */


  /**
   * The operations that are required for this control to function.
   * @type {String[]}
   */


  /**
   * Operations which will trigger UI updates on this controls.
   * @type {String[]}
   * @static
   */


  /**
   * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
   *
   * @type {Boolean}
   * @static
   */


  _createClass(BaseControls, [{
    key: '_getAssetPath',


    /**
     * A helper method for UI.helpers.assetPath
     * @param {?} ...args
     * @protected
     */
    value: function _getAssetPath() {
      var _context$ui;

      return (_context$ui = this.context.ui).getAssetPath.apply(_context$ui, arguments);
    }

    /**
     * Returns the translation for `key`
     * @param  {String} key
     * @param  {Object} [interpolationOptions]
     * @return {String}
     */

  }, {
    key: '_t',
    value: function _t(key, interpolationOptions) {
      return this.context.ui.translate(key, interpolationOptions);
    }

    /**
     * Gets called when an operation has been removed. If it is the same operation that
     * this control belongs to, it switches back to the overview, leaving this control
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationRemoved',
    value: function _onOperationRemoved(operation) {
      var identifier = operation.constructor.identifier;

      if (this.constructor.updatableOperations.indexOf(identifier) >= 0) {
        if (this.constructor.switchToDefaultControlsOnRemoval) {
          this.skipHistory = true;
          this.context.screen.switchToControls('default');
        } else {
          this.onOperationRemoved(operation);
          this.updateSharedState(true);
          this.context.editor.render();
        }
      }
    }

    /**
     * Called when one of the updatableOperations is removed and if
     * `switchToDefaultControlsOnRemoval` is false.
     *
     * @param {PhotoEditorSDK.Operation} operation
     */

  }, {
    key: 'onOperationRemoved',
    value: function onOperationRemoved(operation) {}

    /**
     * Gets called whan any operation is updated
     *
     * @param {PhotoEditorSDK.Operation} operation
     */

  }, {
    key: '_onOperationUpdated',
    value: function _onOperationUpdated(operation, newOptions) {
      var identifier = operation.constructor.identifier;

      if (this.constructor.updatableOperations.indexOf(identifier) >= 0) {
        this.onOperationUpdated(operation, newOptions);
      }
    }

    /**
     * Update the shared state for the current operation state.
     */

  }, {
    key: 'updateSharedState',
    value: function updateSharedState() {
      var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
      var editor = this.context.editor;

      var newSharedState = this.constructor.mapOperationsToSharedState(editor.operations, initial, _extends({}, this.sharedState.getState()));
      this.sharedState.set(newSharedState);
    }

    /**
     * Gets called when one of the operations in `updatableOperations` is updated
     *
     * @param {PhotoEditorSDK.Operation} operation
     */

  }, {
    key: 'onOperationUpdated',
    value: function onOperationUpdated(operation) {
      var editor = this.context.editor;

      this.updateSharedState(false);
      editor.render();
    }

    /**
     * Is called when a control is entered
     */

  }, {
    key: 'onEnter',
    value: function onEnter() {
      var editor = this.context.editor;
      var history = editor.history;

      var forceCrop = this.sharedState.get('forceCrop'); // options.editor.forceCrop

      // On the first time we enter a control, we should set an initial undo state,
      // unless forceCrop is enabled
      if (!history.hasInitialState() && !forceCrop) {
        history.addSnapshot('global');
      }

      // Save the initial options of the updatable operations
      this._saveOperationsOptions();

      this.updateSharedState(true);
      this._onEnter();
      this.updateSharedState(false);

      // Add event listeners
      this._mediator.on(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_REMOVED, this._onOperationRemoved);
      this._mediator.on(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_UPDATED, this._onOperationUpdated);
      this._mediator.on(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_CREATED, this._onOperationUpdated);
    }

    /**
     * Saves the options of the required operations for this control
     * @private
     * @memberof BaseControls
     */

  }, {
    key: '_saveOperationsOptions',
    value: function _saveOperationsOptions() {
      var _this = this;

      var operations = this.context.editor.operations;
      this._initialOptions = {};
      this.constructor.updatableOperations.forEach(function (identifier) {
        var operation = operations.get(identifier);
        if (operation) {
          _this._initialOptions[identifier] = operation.serializeOptions();
        }
      });
    }

    /**
     * Checks if a global history snapshot should be added or not when exiting the controls.
     *
     * @returns {Boolean}
     * @memberof BaseControls
     * @protected
     */

  }, {
    key: '_shouldAddGlobalHistorySnapshot',
    value: function _shouldAddGlobalHistorySnapshot() {
      var _this2 = this;

      var _context$editor = this.context.editor,
          history = _context$editor.history,
          operations = _context$editor.operations;

      var lastItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Utils"].Array.last(history.getItems().filter(function (item) {
        return item.scope === 'global';
      }));

      var operationHasChanges = function operationHasChanges(operation, options) {
        if (!operation && !options) {
          return false;
        }

        if (operation && !options && operation.hasChanges()) {
          return true;
        }

        if (!operation && options) {
          return true;
        }

        if (operation && options && !operation.optionsEqual(options)) {
          return true;
        }

        return false;
      };

      return this.constructor.updatableOperations.some(function (identifier) {
        var initialOptions = _this2._initialOptions[identifier];
        var snapshotOptions = lastItem ? lastItem.snapshot.operations[identifier] : null;
        var operation = operations.get(identifier);

        var result = operationHasChanges(operation, initialOptions) && operationHasChanges(operation, snapshotOptions);
        return result;
      });
    }

    /**
     * Is called when a control is entered
     * @abstract
     * @protected
     */

  }, {
    key: '_onEnter',
    value: function _onEnter() {}

    /**
     * Is called when a control is left
     * @return {Promise}
     */

  }, {
    key: 'onLeave',
    value: function onLeave() {
      var _this3 = this;

      return this.onBeforeLeave().then(function (response) {
        if (typeof response === 'boolean') {
          response = { leave: response };
        }
        var _response = response,
            leave = _response.leave,
            data = _response.data;


        if (!leave) return false;

        _this3._mediator.off(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_REMOVED, _this3._onOperationRemoved);
        _this3._mediator.off(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_UPDATED, _this3._onOperationUpdated);
        _this3._mediator.off(__WEBPACK_IMPORTED_MODULE_3_globals__["d" /* Constants */].EVENTS.OPERATION_CREATED, _this3._onOperationUpdated);

        _this3._onLeave(data || {});

        var options = _this3.context.options;
        var _context$editor2 = _this3.context.editor,
            history = _context$editor2.history,
            operations = _context$editor2.operations;

        // If any changes ocurred, add a history snapshot

        if (_this3._shouldAddGlobalHistorySnapshot()) {
          var _data = _this3._getGlobalHistoryData ? _this3._getGlobalHistoryData() : null;
          _this3.addGlobalHistorySnapshot(undefined, false, _data);
        }

        // Clean up any operations which have default options
        operations.removeUnused();

        if (options.editor.undoMode === 'global') {
          history.removeControls(_this3.constructor.identifier, 'local');
        }

        if (options.editor.undoMode === 'local') {
          history.removeControls(_this3.constructor.identifier, 'global');
        }

        return true;
      });
    }
  }, {
    key: '_getGlobalHistoryData',
    value: function _getGlobalHistoryData() {}

    /**
     * Is called when a control is left
     * @abstract
     * @protected
     */

  }, {
    key: '_onLeave',
    value: function _onLeave() {}

    /**
     * Invoked before a control is left. Can control whether or not the control is left.
     * @return {Promise.<Boolean>}
     */

  }, {
    key: 'onBeforeLeave',
    value: function onBeforeLeave() {
      return this._onBeforeLeave();
    }

    /**
     * Invoked before a control is left. Can control whether or not the control is left.
     * @return {Promise.<Boolean>}
     * @abstract
     * @protected
     */

  }, {
    key: '_onBeforeLeave',
    value: function _onBeforeLeave() {
      return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_promise___default.a.resolve(true);
    }

    /**
     * Call this method before a change that should be added to the history is applied. The first
     * argument identifies the history item. If grouped is set to true, we make sure to only create
     * a history item if the previous item did not have the same identifier
     * @param  {String}  identifier
     * @param  {Boolean} grouped
     * @param  {String}  operationIdentifier
     * @returns {HistoryItem}
     */

  }, {
    key: 'addLocalHistorySnapshot',
    value: function addLocalHistorySnapshot(identifier) {
      var grouped = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var history = this.context.editor.history;

      history.addSnapshot('local', grouped, identifier, this.constructor.identifier, data);
    }

    /**
     * Call this method before a change that should be added to the history is applied. The first
     * argument identifies the history item. If grouped is set to true, we make sure to only create
     * a history item if the previous item did not have the same identifier
     * @param  {String}  identifier
     * @param  {Boolean} grouped
     */

  }, {
    key: 'addGlobalHistorySnapshot',
    value: function addGlobalHistorySnapshot(identifier) {
      var grouped = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
      var history = this.context.editor.history;

      history.addSnapshot('global', grouped, identifier, this.constructor.identifier, data);
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object. Called whenever one of
     * the updatableOperations is modified, created or removed.
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object} - An object that will be passet to sharedState.set
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    }
  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets() {
      return [];
    }

    /**
     * Checks if this control reacts to a click at the given (relative to canvas) position. If it
     * does, it returns an object with a prepared shared state (e.g. selected sprite) that is passed
     * to this control on creation
     * @param  {PhotoEditorSDK.Math.Vector2} clickPosition
     * @return {Object}
     */

  }, {
    key: 'clickAtPosition',
    value: function clickAtPosition(clickPosition) {
      return false;
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      var identifier = this.constructor.identifier;
      return editor.isToolEnabled(identifier) && editor.isToolAllowed(identifier);
    }
  }]);

  return BaseControls;
}();

BaseControls.identifier = null;
BaseControls.controlsComponent = null;
BaseControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_5__canvas_controls_component__["a" /* default */];
BaseControls.defaultOptions = {};
BaseControls.requiredOperations = [];
BaseControls.updatableOperations = [];
BaseControls.switchToDefaultControlsOnRemoval = true;


/* harmony default export */ __webpack_exports__["a"] = (BaseControls);

/***/ }),
/* 270 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var LoadingIndicatorComponent = function (_BaseComponent) {
  _inherits(LoadingIndicatorComponent, _BaseComponent);

  function LoadingIndicatorComponent() {
    _classCallCheck(this, LoadingIndicatorComponent);

    return _possibleConstructorReturn(this, (LoadingIndicatorComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LoadingIndicatorComponent)).apply(this, arguments));
  }

  _createClass(LoadingIndicatorComponent, [{
    key: 'render',


    /**
     * Renders this component.
     * @return {React.Element}
     */
    value: function render() {
      var buildStyles = function buildStyles(index) {
        return {
          animationDelay: index * 0.1 + 's'
        };
      };

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        LoadingIndicatorContainer,
        { styles: this.props.styles },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Ball, { style: buildStyles(0) }),
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Ball, { style: buildStyles(1) }),
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Ball, { style: buildStyles(2) })
      );
    }
  }]);

  return LoadingIndicatorComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

LoadingIndicatorComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (LoadingIndicatorComponent);


var LoadingIndicatorContainer = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('eurrvc', 'LoadingIndicatorContainer');
LoadingIndicatorComponent.RootElement = LoadingIndicatorContainer;

var Ball = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('vyyzkw', 'Ball');

/***/ }),
/* 271 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_forms_auto_size_numeric_input_component__ = __webpack_require__(272);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var SuffixedTextInputComponent = function (_BaseComponent) {
  _inherits(SuffixedTextInputComponent, _BaseComponent);

  function SuffixedTextInputComponent() {
    var _ref;

    _classCallCheck(this, SuffixedTextInputComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = SuffixedTextInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(SuffixedTextInputComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onClick');
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   * @return {Boolean}
   */


  _createClass(SuffixedTextInputComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.props.value !== nextProps.value || this.props.disabled !== nextProps.disabled;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user clicks the container
     * @private
     */

  }, {
    key: '_onClick',
    value: function _onClick() {
      this._input.focus();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        Container,
        { className: this.props.className, onClick: this._onClick },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Input, {
          value: this.props.value,
          onLiveChange: this.props.onLiveChange,
          onChange: this.props.onChange,
          disabled: this.props.disabled,
          innerRef: function innerRef(el) {
            _this2._input = el;
          },
          name: this.props.name }),
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          Suffix,
          null,
          this.props.suffix
        )
      );
    }
  }]);

  return SuffixedTextInputComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

SuffixedTextInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (SuffixedTextInputComponent);


var Container = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1bubov', 'Container');
SuffixedTextInputComponent.RootElement = Container;

var Suffix = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1ua5bzq', 'Suffix');

var Input = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__shared_forms_auto_size_numeric_input_component__["a" /* default */])('6ekjfo', 'Input');

/***/ }),
/* 272 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__numeric_input_component__ = __webpack_require__(53);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var AutoSizeNumericInputComponent = function (_NumericInputComponen) {
  _inherits(AutoSizeNumericInputComponent, _NumericInputComponen);

  function AutoSizeNumericInputComponent() {
    var _ref;

    _classCallCheck(this, AutoSizeNumericInputComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = AutoSizeNumericInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(AutoSizeNumericInputComponent)).call.apply(_ref, [this].concat(args)));

    _this.state.width = 0;
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user typed something inside the input
   * @param  {Event} e
   * @private
   */


  _createClass(AutoSizeNumericInputComponent, [{
    key: '_onInputChange',
    value: function _onInputChange(e) {
      _get(AutoSizeNumericInputComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(AutoSizeNumericInputComponent.prototype), '_onInputChange', this).call(this, e);

      this._adjustWidth(e.target.value);
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked before rendering when new props or state are being received
     * @param {Object} nextProps
     * @param {Object} nextState
     * @return {Boolean}
     */

  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return _get(AutoSizeNumericInputComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(AutoSizeNumericInputComponent.prototype), 'shouldComponentUpdate', this).call(this, nextProps, nextState) || this.state.width !== nextState.width;
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this._adjustWidth(nextProps.value);
    }

    /**
     * Gets called when this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(AutoSizeNumericInputComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(AutoSizeNumericInputComponent.prototype), 'componentDidMount', this).call(this);

      this._textRuler = document.createElement('div');
      __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].styleElement(this._textRuler, {
        position: 'absolute',
        top: '0',
        left: '0',
        display: 'inline-block',
        zIndex: 10
      });

      this._adjustWidth(this.props.value);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the style object for the input
     * @return {Object}
     * @private
     */

  }, {
    key: '_getInputStyle',
    value: function _getInputStyle() {
      var width = this.state.width;

      return { width: width, minWidth: width };
    }

    /**
     * Adjusts the with according to the current text value
     * @param {String} value
     * @private
     */

  }, {
    key: '_adjustWidth',
    value: function _adjustWidth(value) {
      document.body.appendChild(this._textRuler);

      // Copy styles from input
      var styles = __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].getStyleObject(this._input);
      __WEBPACK_IMPORTED_MODULE_5_globals__["u" /* Utils */].styleElement(this._textRuler, {
        font: styles.font
      });
      this._textRuler.innerText = value;

      this.setState({ width: this._textRuler.offsetWidth });

      this._textRuler.parentNode.removeChild(this._textRuler);
    }
  }]);

  return AutoSizeNumericInputComponent;
}(__WEBPACK_IMPORTED_MODULE_6__numeric_input_component__["a" /* default */]);

AutoSizeNumericInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (AutoSizeNumericInputComponent);


AutoSizeNumericInputComponent.RootElement = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__numeric_input_component__["a" /* default */].RootElement)('n0hw7r', 'AutoSizeNumericInputComponent');

/***/ }),
/* 273 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__grouped_control_styles__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_transition__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__checkbox_component__ = __webpack_require__(127);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var test = ("production") === 'test';

var CollapseSectionComponent = function (_BaseComponent) {
  _inherits(CollapseSectionComponent, _BaseComponent);

  function CollapseSectionComponent() {
    var _ref;

    _classCallCheck(this, CollapseSectionComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CollapseSectionComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CollapseSectionComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      expanded: _this.props.expanded || _this.props.alwaysExpanded || false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Called when a section is selected.
   * @private
   */


  _createClass(CollapseSectionComponent, [{
    key: '_onClick',
    value: function _onClick() {
      var newExpanded = !this.state.expanded;
      if (!this.props.alwaysExpanded) {
        this.setState({
          expanded: newExpanded
        });
      }
      this.props.onToggle && this.props.onToggle(newExpanded);
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.expanded !== nextProps.expanded) {
        this.setState({ expanded: nextProps.expanded });
      }
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          alwaysExpanded = _props.alwaysExpanded,
          toggleable = _props.toggleable,
          className = _props.className;
      var expanded = this.state.expanded;


      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        Section,
        { styles: this.props.styles, className: className },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          SectionHeader,
          { onClick: this._onClick.bind(this) },
          !alwaysExpanded && !toggleable && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(ArrowDown, { turnUp: !expanded }),
          toggleable && __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Checkbox, {
            checked: expanded,
            className: test ? 'js-checkbox' : undefined }),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            SectionTitle,
            null,
            this.props.title
          )
        ),
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          __WEBPACK_IMPORTED_MODULE_6_components_transition__["a" /* default */],
          {
            active: expanded,
            enterProp: 'rendered',
            enterDuration: this.context.theme.transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: this.context.theme.transitionDuration * 1000,
            leaveDuration: this.context.theme.transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            SectionContent,
            {
              'data-expanded': expanded,
              className: test ? 'js-content' : undefined },
            this.props.children
          )
        )
      );
    }
  }]);

  return CollapseSectionComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLING

CollapseSectionComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CollapseSectionComponent);
var Section = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__grouped_control_styles__["ControlGroup"]).div('1pofx54', 'Section');
CollapseSectionComponent.RootElement = Section;

var SectionTitle = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__grouped_control_styles__["ControlGroupTitle"]).div('1b0fixa', 'SectionTitle');

var SectionHeader = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1b4y7iu', 'SectionHeader');

var SectionContent = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('10cp0qa', {
  rendered: '2jlos',
  visible: '82svov'
}, 'SectionContent');

var ArrowDown = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1bagiey', {
  turnUp: 'gucvcl'
}, 'ArrowDown');

var Checkbox = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__checkbox_component__["a" /* default */])('15tfhjl', 'Checkbox');

/***/ }),
/* 274 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_scrollbar_component__ = __webpack_require__(79);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var ScrollableListComponent = function (_ScrollbarComponent) {
  _inherits(ScrollableListComponent, _ScrollbarComponent);

  function ScrollableListComponent() {
    _classCallCheck(this, ScrollableListComponent);

    return _possibleConstructorReturn(this, (ScrollableListComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ScrollableListComponent)).apply(this, arguments));
  }

  _createClass(ScrollableListComponent, [{
    key: '_renderChild',


    /**
     * Returns the child element
     * @return {React.Element}
     * @private
     */
    value: function _renderChild(children) {
      return _get(ScrollableListComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(ScrollableListComponent.prototype), '_renderChild', this).call(this, React.createElement(
        ListWrapper,
        { innerRef: this.props.innerListRef },
        children
      ));
    }
  }]);

  return ScrollableListComponent;
}(__WEBPACK_IMPORTED_MODULE_6_components_scrollbar_component__["a" /* default */]);

ScrollableListComponent.RootElement = __WEBPACK_IMPORTED_MODULE_6_components_scrollbar_component__["a" /* default */].RootElement;
ScrollableListComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_components_scrollbar_component__["a" /* default */].contextTypes;


var ListWrapper = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('1jtk1eb', 'ListWrapper');

var ScrollableList = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(ScrollableListComponent)('x597uk', 'ScrollableList');

/* harmony default export */ __webpack_exports__["a"] = (ScrollableList);

/***/ }),
/* 275 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__value_selection_component__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components_slider_component__ = __webpack_require__(125);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var SliderControlComponent = function (_ValueSelectionCompon) {
  _inherits(SliderControlComponent, _ValueSelectionCompon);

  function SliderControlComponent() {
    _classCallCheck(this, SliderControlComponent);

    return _possibleConstructorReturn(this, (SliderControlComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SliderControlComponent)).apply(this, arguments));
  }

  _createClass(SliderControlComponent, [{
    key: '_buildSliderProps',


    // -------------------------------------------------------------------------- RENDERING

    /**
     * Builds the props object for the slider component
     * @return {Object}
     * @private
     */
    value: function _buildSliderProps() {
      var _props = this.props,
          minValue = _props.minValue,
          maxValue = _props.maxValue,
          middleDot = _props.middleDot,
          onSliderValueChange = _props.onSliderValueChange,
          value = _props.value,
          disabled = _props.disabled;


      return {
        minValue: minValue,
        maxValue: maxValue,
        value: value,
        middleDot: middleDot,
        onChange: onSliderValueChange,
        disabled: disabled
      };
    }

    /**
     * Renders the left part of this component
     * @return {React.Element}
     */

  }, {
    key: '_renderLeftPart',
    value: function _renderLeftPart() {
      var _buildSliderProps2 = this._buildSliderProps(),
          sliderProps = _objectWithoutProperties(_buildSliderProps2, []);

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_7_components_slider_component__["a" /* default */], _extends({}, sliderProps, {
        darkBackground: true }));
    }
  }]);

  return SliderControlComponent;
}(__WEBPACK_IMPORTED_MODULE_6__value_selection_component__["a" /* default */]);

SliderControlComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6__value_selection_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (SliderControlComponent);

/***/ }),
/* 276 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(277), __esModule: true };

/***/ }),
/* 277 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(278);
module.exports = __webpack_require__(9).Number.isNaN;


/***/ }),
/* 278 */
/***/ (function(module, exports, __webpack_require__) {

// 20.1.2.4 Number.isNaN(number)
var $export = __webpack_require__(12);

$export($export.S, 'Number', {
  isNaN: function isNaN(number) {
    // eslint-disable-next-line no-self-compare
    return number != number;
  }
});


/***/ }),
/* 279 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__color_picker_color_picker_component__ = __webpack_require__(280);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_transition__ = __webpack_require__(49);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var ColorSelectionComponent = function (_BaseComponent) {
  _inherits(ColorSelectionComponent, _BaseComponent);

  function ColorSelectionComponent() {
    var _ref;

    _classCallCheck(this, ColorSelectionComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ColorSelectionComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ColorSelectionComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onDocumentClick', '_onColorChange');

    _this.state = {
      colorPickerVisible: false,
      colors: _this._getDefaultColors(_this.props.value.clone()),
      selectedColorIndex: 0
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before a mounted component receives new props
   * @param  {Object} nextProps
   */


  _createClass(ColorSelectionComponent, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.state.colorPickerVisible) {
        return;
      }

      if (this.props.value.equals(nextProps.value)) {
        return;
      }

      var selectedColorIndex = -1;
      this.state.colors.forEach(function (color, index) {
        if (color.equals(nextProps.value)) {
          selectedColorIndex = index;
        }
      });

      if (selectedColorIndex === -1) {
        this.setState({
          selectedColorIndex: 0,
          colors: this._getDefaultColors(nextProps.value.clone())
        });
      } else {
        this.setState({
          selectedColorIndex: selectedColorIndex
        });
      }
    }

    /**
     * Invoked immediately after a component is mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      document.addEventListener('mousedown', this._onDocumentClick);
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      document.removeEventListener('mousedown', this._onDocumentClick);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user clicks anywhere on the screen. If the click is outside
     * of the dropdown and the dropdown is expanded, we collapse it.
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDocumentClick',
    value: function _onDocumentClick(e) {
      var _this2 = this;

      if (!this.state.colorPickerVisible) return;

      for (var element = e.target; element; element = element.parentNode) {
        if (element === this._root) {
          return;
        }
      }

      this.setState({ colorPickerVisible: false }, function () {
        _this2.props.onColorPickerToggle && _this2.props.onColorPickerToggle(false);
      });
    }

    /**
     * Called when the user clicks a bubble.
     * @param  Number - The bubbles index
     * @private
     */

  }, {
    key: '_onClick',
    value: function _onClick(index) {
      var _this3 = this;

      var state = {
        colorPickerVisible: this.state.colorPickerVisible,
        selectedColorIndex: index
      };

      if (index === this.state.selectedColorIndex) {
        state.colorPickerVisible = !this.state.colorPickerVisible;
      } else {
        state.colorPickerVisible = false;
      }

      this.props.onChange && this.props.onChange(this.state.colors[index]);

      this.setState(state, function () {
        _this3.props.onColorPickerToggle && _this3.props.onColorPickerToggle(state.colorPickerVisible);
      });
    }

    /**
     * Invoked when the color has been changed.
     * @param  {PhotoEditorSDK.Color} newColor
     * @private
     */

  }, {
    key: '_onColorChange',
    value: function _onColorChange(newColor) {
      this.props.onChange && this.props.onChange(newColor);

      this.state.colors[this.state.selectedColorIndex].copy(newColor);

      this.forceUpdate();
    }

    /**
     * Returns the default set of colors, where the first color is
     * replaced with a given initial color.
     * @return {Color[]}
     */

  }, {
    key: '_getDefaultColors',
    value: function _getDefaultColors(initialColor) {
      return [initialColor, __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('6688FA'), __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('8767FA'), __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('DC67FA'), __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('FE68C9'), __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('FE6788'), __WEBPACK_IMPORTED_MODULE_4_globals__["c" /* Color */].fromHex('FE896B')];
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the colored bubbles.
     * @return {React.Element[]} An array of elements.
     * @private
     */

  }, {
    key: '_renderColorBubbles',
    value: function _renderColorBubbles() {
      var _this4 = this;

      var tileImagePath = this._getAssetPath('editor/controls/shared/tiled-background.png', true);

      var elements = [];
      this.state.colors.forEach(function (color, index) {
        var selected = index === _this4.state.selectedColorIndex;
        elements.push(__WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          ColorSelectionBubble,
          {
            key: index,
            selected: selected,
            className: test ? 'js-colorBubble' : undefined },
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            ColorSelectionPreview,
            null,
            __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(ColorSelectionPreviewContent, { style: { backgroundImage: 'url(' + tileImagePath + ')' } }),
            __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
              ColorSelectionBubbleContent,
              {
                style: { backgroundColor: color.toRGBA() },
                onClick: _this4._onClick.bind(_this4, index),
                className: test ? 'js-colorBubbleContent' : undefined },
              __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Dot, { selected: selected }),
              __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Dot, { selected: selected }),
              __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Dot, { selected: selected })
            )
          ),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
            __WEBPACK_IMPORTED_MODULE_6_components_transition__["a" /* default */],
            {
              active: selected && _this4.state.colorPickerVisible,
              enterProp: 'rendered',
              enterDuration: _this4.context.theme.transitionDuration * 1000,
              appearProp: 'visible',
              appearDuration: _this4.context.theme.transitionDuration * 1000,
              leaveDuration: _this4.context.theme.transitionDuration * 1000 },
            __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_5__color_picker_color_picker_component__["a" /* default */], { color: color, onChange: _this4._onColorChange })
          )
        ));
      });

      return elements;
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this5 = this;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        ColorSelection,
        {
          className: test ? 'js-colorSelection' : undefined,
          styles: this.props.styles,
          innerRef: function innerRef(el) {
            _this5._root = el;
          } },
        this._renderColorBubbles()
      );
    }
  }]);

  return ColorSelectionComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

ColorSelectionComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
ColorSelectionComponent.propTypes = {
  colors: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].array,
  value: __WEBPACK_IMPORTED_MODULE_4_globals__["k" /* PropTypes */].object.isRequired
};
/* harmony default export */ __webpack_exports__["a"] = (ColorSelectionComponent);
var ColorSelection = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('9xkrp7', 'ColorSelection');
ColorSelectionComponent.RootElement = ColorSelection;

var ColorSelectionBubble = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('qt3fol', {
  selected: '18i7ofo'
}, 'ColorSelectionBubble');

var ColorSelectionPreview = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('11cgycr', 'ColorSelectionPreview');

var ColorSelectionPreviewContent = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('id1aww', 'ColorSelectionPreviewContent');

var ColorSelectionBubbleContent = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(ColorSelectionPreviewContent)('nahwei', 'ColorSelectionBubbleContent');

var Dot = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('11la9rb', {
  selected: 'xfn5qu'
}, 'Dot');

/***/ }),
/* 280 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_is_iterable__ = __webpack_require__(102);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_is_iterable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_is_iterable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__hue_slider_component__ = __webpack_require__(281);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__opacity_slider_component__ = __webpack_require__(282);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__saturation_value_slider_component__ = __webpack_require__(283);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__color_component_input_component__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__hex_input_component__ = __webpack_require__(284);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_get_iterator___default()(arr), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_is_iterable___default()(Object(arr))) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var test = ("production") === 'test';

var ColorPickerComponent = function (_BaseComponent) {
  _inherits(ColorPickerComponent, _BaseComponent);

  function ColorPickerComponent() {
    var _ref;

    _classCallCheck(this, ColorPickerComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ColorPickerComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(ColorPickerComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onHexValueChange', '_onAlphaChange', '_onHueChange', '_onSaturationBrightnessChange');

    var color = _this.props.color.clone();

    var _color$toHSV = color.toHSV(),
        _color$toHSV2 = _slicedToArray(_color$toHSV, 3),
        hue = _color$toHSV2[0],
        saturation = _color$toHSV2[1],
        brightness = _color$toHSV2[2];

    _this.state = {
      color: color,
      hue: hue,
      saturation: saturation,
      brightness: brightness
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Called when the Hex value changes
   * @param  {String} value The new Hex String
   * @private
   */


  _createClass(ColorPickerComponent, [{
    key: '_onHexValueChange',
    value: function _onHexValueChange(value) {
      if (!value.match(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i)) {
        return this.forceUpdate();
      }
      if (value.length === 3) value += value;

      var newColor = __WEBPACK_IMPORTED_MODULE_7_globals__["c" /* Color */].fromHex(value);

      var color = this.state.color;

      color.copy(newColor);

      this.props.onChange && this.props.onChange(color.clone());

      var _color$toHSV3 = color.toHSV(),
          _color$toHSV4 = _slicedToArray(_color$toHSV3, 3),
          hue = _color$toHSV4[0],
          saturation = _color$toHSV4[1],
          brightness = _color$toHSV4[2];

      this.setState({ hue: hue, saturation: saturation, brightness: brightness });
    }

    /**
     * Called when the user changes the alpha value.
     * @param  {Number} value New alpha value
     * @private
     */

  }, {
    key: '_onAlphaChange',
    value: function _onAlphaChange(value) {
      var color = this.state.color;

      color.a = value;
      this.props.onChange && this.props.onChange(color.clone());

      this.forceUpdate();
    }

    /**
     * Called when user changes the hue value.
     * @param  {Number} hue New hue value
     * @private
     */

  }, {
    key: '_onHueChange',
    value: function _onHueChange(hue) {
      var color = this.state.color;

      var _color$toHSV5 = color.toHSV(),
          _color$toHSV6 = _slicedToArray(_color$toHSV5, 3),
          s = _color$toHSV6[1],
          v = _color$toHSV6[2];

      var alpha = color.a;
      color.fromHSV(hue, s, v);
      color.a = alpha;

      this.props.onChange && this.props.onChange(color.clone());

      this.setState({ color: color, hue: hue });
    }

    /**
     * Invoked when the saturation and/or brightness have been changed
     * @param  {Number} saturation
     * @param  {Number} brightness
     * @private
     */

  }, {
    key: '_onSaturationBrightnessChange',
    value: function _onSaturationBrightnessChange(saturation, brightness) {
      var color = this.state.color;

      var alpha = color.a;
      color.fromHSV(this.state.hue, saturation, brightness);
      color.a = alpha;

      this.props.onChange && this.props.onChange(color.clone());

      this.setState({ color: color, saturation: saturation, brightness: brightness });
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Updates the given component of the current color.
     * @param  {String} component The component, e.g. 'r'
     * @param  {Number} value     The new value in the range [0, 255]
     */

  }, {
    key: '_changeColorComponent',
    value: function _changeColorComponent(component, value) {
      var color = this.state.color;

      color[component] = value / 255;
      this.props.onChange && this.props.onChange(color.clone());

      var _color$toHSV7 = color.toHSV(),
          _color$toHSV8 = _slicedToArray(_color$toHSV7, 3),
          hue = _color$toHSV8[0],
          saturation = _color$toHSV8[1],
          brightness = _color$toHSV8[2];

      this.setState({ hue: hue, saturation: saturation, brightness: brightness });
    }

    // -------------------------------------------------------------------------- RENDERING

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _state = this.state,
          hue = _state.hue,
          saturation = _state.saturation,
          brightness = _state.brightness,
          color = _state.color;

      var hsvProps = { hue: hue, saturation: saturation, brightness: brightness };
      return [__WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(TopArrow, { key: 'arrow' }), __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
        ColorPicker,
        { key: 'colorPicker', className: test ? 'js-colorPicker' : undefined },
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(SaturationValueSlider, _extends({}, hsvProps, {
          onChange: this._onSaturationBrightnessChange
        })),
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(HueSlider, _extends({}, hsvProps, {
          onChange: this._onHueChange
        })),
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(OpacitySlider, {
          value: color.a,
          color: color,
          onChange: this._onAlphaChange
        }),
        __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
          ColorValueInputs,
          null,
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_12__hex_input_component__["a" /* default */], {
            inputLabel: 'Hex',
            value: color.toHex().substr(1),
            inputClassName: test ? 'js-hexInput' : undefined,
            onValueChange: this._onHexValueChange
          }),
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_11__color_component_input_component__["a" /* default */], {
            inputLabel: 'R',
            value: color.toRGB()[0],
            minValue: 1,
            maxValue: 255,
            inputClassName: test ? 'js-redInput' : undefined,
            onValueChange: this._changeColorComponent.bind(this, 'r')
          }),
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_11__color_component_input_component__["a" /* default */], {
            inputLabel: 'G',
            value: color.toRGB()[1],
            minValue: 1,
            maxValue: 255,
            inputClassName: test ? 'js-greenInput' : undefined,
            onValueChange: this._changeColorComponent.bind(this, 'g')
          }),
          __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(__WEBPACK_IMPORTED_MODULE_11__color_component_input_component__["a" /* default */], {
            inputLabel: 'B',
            value: color.toRGB()[2],
            minValue: 1,
            maxValue: 255,
            inputClassName: test ? 'js-blueInput' : undefined,
            onValueChange: this._changeColorComponent.bind(this, 'b')
          })
        )
      )];
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          rendered = _props.rendered,
          visible = _props.visible;

      return __WEBPACK_IMPORTED_MODULE_7_globals__["l" /* React */].createElement(
        ColorPickerContainer,
        { rendered: rendered, visible: visible },
        rendered && this._renderContent()
      );
    }
  }]);

  return ColorPickerComponent;
}(__WEBPACK_IMPORTED_MODULE_7_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

ColorPickerComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ColorPickerComponent);
var ColorPickerContainer = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('fko51h', {
  rendered: '2jlos',
  visible: 'zgbg08'
}, 'ColorPickerContainer');

var TopArrow = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('xfcvqs', 'TopArrow');

var ColorPicker = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('1gzvppb', 'ColorPicker');

var SaturationValueSlider = Object(__WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_10__saturation_value_slider_component__["a" /* default */])('120drhm', 'SaturationValueSlider');

var HueSlider = Object(__WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_8__hue_slider_component__["a" /* default */])('1cbv91b', 'HueSlider');

var OpacitySlider = Object(__WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_9__opacity_slider_component__["a" /* default */])('tnkwnw', 'OpacitySlider');

var ColorValueInputs = __WEBPACK_IMPORTED_MODULE_7_globals__["w" /* adonis */].div('142apfo', 'ColorValueInputs');

/***/ }),
/* 281 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_draggable_component__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__ = __webpack_require__(82);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var HueSliderComponent = function (_BaseComponent) {
  _inherits(HueSliderComponent, _BaseComponent);

  function HueSliderComponent() {
    var _ref;

    _classCallCheck(this, HueSliderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = HueSliderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(HueSliderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKnobDragStart', '_onKnobDrag', '_setValue');

    _this.state = {
      value: _this.props.hue
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after this component has been mounted
   */


  _createClass(HueSliderComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(HueSliderComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(HueSliderComponent.prototype), 'componentDidMount', this).call(this);
      this._renderCanvas();
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} props
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      this.setState({
        value: props.hue
      });
    }

    // -------------------------------------------------------------------------- DRAG EVENTS

    /**
     * Gets called when the user starts dragging the knob
     * @param  {Vector2} position
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(position, _, e) {
      this._sliderWidth = this._slider.offsetWidth;

      if (e.target === this._knob) {
        this._initialValue = this.state.value;
      } else {
        this._initialValue = position.x / this._sliderWidth;
        this._setValue(this._initialValue);
      }
    }

    /**
     * Gets called while the user drags the knob
     * @param  {Vector2} offset
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(offset) {
      var value = this._initialValue + offset.x / this._sliderWidth;
      this._setValue(value);
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Updates the current value calls callbacks.
     * @param {Number} value The new hue
     */

  }, {
    key: '_setValue',
    value: function _setValue(value) {
      var clampedValue = Math.min(1, Math.max(0, value));
      this.setState({
        value: clampedValue
      });

      this.props.onChange && this.props.onChange(clampedValue);

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the hue colors to the canvas
     * @private
     */

  }, {
    key: '_renderCanvas',
    value: function _renderCanvas() {
      var canvas = this._canvas;
      var context = canvas.getContext('2d');

      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;

      for (var x = 0; x < canvas.width; x++) {
        var ratio = x / canvas.width;
        var color = __WEBPACK_IMPORTED_MODULE_5_globals__["c" /* Color */].fromHSV(ratio, 1, 1);

        context.strokeStyle = color.toRGBA();
        context.beginPath();
        context.moveTo(x, 0);
        context.lineTo(x, canvas.height);
        context.stroke();
      }
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_6_components_draggable_component__["a" /* default */],
        {
          onStart: this._onKnobDragStart,
          onDrag: this._onKnobDrag },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          HueSlider,
          {
            styles: this.props.styles,
            innerRef: function innerRef(el) {
              _this2._slider = el;
            },
            className: test ? 'js-hueControl' : undefined },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Background, { innerRef: function innerRef(el) {
              _this2._canvas = el;
            } }),
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Knob, {
            style: this._getKnobStyle(),
            innerRef: function innerRef(el) {
              _this2._knob = el;
            },
            className: test ? 'js-knob' : undefined })
        )
      );
    }

    /**
     * Returns the style for the knob.
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: (this.props.hue * 100).toFixed(2) + '%'
      };
    }
  }]);

  return HueSliderComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

HueSliderComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (HueSliderComponent);
var HueSlider = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["a" /* CircleSlider */]).div('120drhm', 'HueSlider');
HueSliderComponent.RootElement = HueSlider;

var Knob = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["c" /* CircleSliderKnob */]).div('120drhm', 'Knob');

var Background = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["b" /* CircleSliderBackground */]).canvas('u98vhm', 'Background');

/***/ }),
/* 282 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_components_draggable_component__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__circle_slider_styles__ = __webpack_require__(82);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var OpacitySliderComponent = function (_BaseComponent) {
  _inherits(OpacitySliderComponent, _BaseComponent);

  function OpacitySliderComponent() {
    var _ref;

    _classCallCheck(this, OpacitySliderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = OpacitySliderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(OpacitySliderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKnobDragStart', '_onKnobDrag', '_updateBackgroundColors', '_setValue');

    _this.state = {
      color: _this.props.color.clone(),
      value: _this.props.value
    };
    return _this;
  }

  /**
   * Calculates the sliders background colors.
   * @private
   */


  _createClass(OpacitySliderComponent, [{
    key: '_updateBackgroundColors',
    value: function _updateBackgroundColors() {
      this._transparentColor = this.state.color.clone();
      this._transparentColor.a = 0;

      this._opaqueColor = this.state.color.clone();
      this._opaqueColor.a = 1;
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} props
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      this.setState({
        color: props.color.clone(),
        value: props.value
      });
    }

    // -------------------------------------------------------------------------- DRAG EVENTS

    /**
     * Gets called when the user starts dragging the knob
     * @param  {Vector2} position
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(position, _, e) {
      this._sliderWidth = this._slider.offsetWidth;

      if (e.target === this._knob) {
        this._initialValue = this.state.value;
      } else {
        this._initialValue = 1 - position.x / this._sliderWidth;
        this._setValue(this._initialValue);
      }
    }

    /**
     * Gets called while the user drags the knob
     * @param  {Vector2} offset
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(offset, e) {
      var value = this._initialValue - offset.x / this._sliderWidth;
      this._setValue(value);
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Updates the current value calls callbacks.
     * @param {Number} value The new opacity
     */

  }, {
    key: '_setValue',
    value: function _setValue(value) {
      var clippedValue = Math.min(1, Math.max(0, value));

      this.props.onChange && this.props.onChange(clippedValue);

      this.setState({
        value: clippedValue
      });

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      this._updateBackgroundColors();
      var tileImagePath = this._getAssetPath('editor/controls/shared/tiled-background.png', true);

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_5_components_draggable_component__["a" /* default */],
        {
          onStart: this._onKnobDragStart,
          onDrag: this._onKnobDrag },
        __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
          OpacitySlider,
          {
            styles: this.props.styles,
            innerRef: function innerRef(el) {
              _this2._slider = el;
            },
            className: test ? 'js-opacityControl' : undefined },
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(TiledBackground, { style: { backgroundImage: 'url(' + tileImagePath + ')' } }),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Background, { style: { backgroundImage: 'linear-gradient(90deg, ' + this._opaqueColor.toRGBA() + ' 0%, ' + this._transparentColor.toRGBA() + ' 100%)' } }),
          __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(Knob, {
            style: this._getKnobStyle(),
            innerRef: function innerRef(el) {
              _this2._knob = el;
            },
            className: test ? 'js-knob' : undefined })
        )
      );
    }

    /**
     * Returns the style for the knob.
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: ((1 - this.state.value) * 100).toFixed(2) + '%'
      };
    }
  }]);

  return OpacitySliderComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

OpacitySliderComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (OpacitySliderComponent);
var OpacitySlider = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__circle_slider_styles__["a" /* CircleSlider */]).div('120drhm', 'OpacitySlider');
OpacitySliderComponent.RootElement = OpacitySlider;

var Knob = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__circle_slider_styles__["c" /* CircleSliderKnob */]).div('120drhm', 'Knob');

var Background = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__circle_slider_styles__["b" /* CircleSliderBackground */]).div('120drhm', 'Background');

var TiledBackground = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(Background)('m87q12', 'TiledBackground');

/***/ }),
/* 283 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_draggable_component__ = __webpack_require__(23);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__ = __webpack_require__(82);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var SaturationValueSliderComponent = function (_BaseComponent) {
  _inherits(SaturationValueSliderComponent, _BaseComponent);

  function SaturationValueSliderComponent() {
    var _ref;

    _classCallCheck(this, SaturationValueSliderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = SaturationValueSliderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SaturationValueSliderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKnobDragStart', '_onKnobDrag');

    _this._lastHue = null;
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after this component has been mounted
   */


  _createClass(SaturationValueSliderComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(SaturationValueSliderComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(SaturationValueSliderComponent.prototype), 'componentDidMount', this).call(this);
      this._renderCanvas();
    }

    /**
     * Invoked immediately after updating occurs
     */

  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.props.hue !== this._lastHue) {
        this._renderCanvas();
      }
    }

    // -------------------------------------------------------------------------- DRAG EVENTS

    /**
     * Gets called when the user starts dragging the knob
     * @param  {Vector2} position
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(position, _, e) {
      if (e.target === this._knob) {
        this._initialBrightness = this.props.brightness;
        this._initialSaturation = this.props.saturation;
      } else {
        this._initialSaturation = position.x / this._canvas.offsetWidth;
        this._initialBrightness = 1 - position.y / this._canvas.offsetHeight;
        this.props.onChange && this.props.onChange(this._initialSaturation, this._initialBrightness);
      }
    }

    /**
     * Gets called while the user drags the knob
     * @param  {Vector2} offset
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(offset) {
      if (this._canvas == null) return;
      var canvasWidth = this._canvas.offsetWidth;
      var canvasHeight = this._canvas.offsetHeight;

      var saturation = this._initialSaturation + offset.x / canvasWidth;
      saturation = Math.max(0, Math.min(1, saturation));
      var brightness = this._initialBrightness + offset.y / canvasHeight * -1;
      brightness = Math.max(0, Math.min(1, brightness));

      this.props.onChange && this.props.onChange(saturation, brightness);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the hue colors to the canvas
     * @private
     */

  }, {
    key: '_renderCanvas',
    value: function _renderCanvas() {
      var canvas = this._canvas;
      var context = canvas.getContext('2d');

      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetHeight;

      var imageData = context.getImageData(0, 0, canvas.width, canvas.height);

      for (var y = 0; y < canvas.height; y++) {
        var value = (canvas.height - y) / canvas.height;
        for (var x = 0; x < canvas.width; x++) {
          var saturation = x / canvas.width;
          var color = __WEBPACK_IMPORTED_MODULE_5_globals__["c" /* Color */].fromHSV(this.props.hue, saturation, value);
          var r = color.r,
              g = color.g,
              b = color.b,
              a = color.a;


          var index = (y * canvas.width + x) * 4;

          imageData.data[index] = r * 255;
          imageData.data[index + 1] = g * 255;
          imageData.data[index + 2] = b * 255;
          imageData.data[index + 3] = a * 255;
        }
      }

      context.putImageData(imageData, 0, 0);

      this._lastHue = this.props.hue;
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        __WEBPACK_IMPORTED_MODULE_6_components_draggable_component__["a" /* default */],
        {
          onStart: this._onKnobDragStart,
          onDrag: this._onKnobDrag },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          SaturationValueSlider,
          {
            styles: this.props.styles,
            innerRef: function innerRef(el) {
              _this2._slider = el;
            },
            className: test ? 'js-saturationBrightnessControl' : undefined },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Background, { innerRef: function innerRef(el) {
              _this2._canvas = el;
            } }),
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(Knob, {
            style: this._getKnobStyle(),
            innerRef: function innerRef(el) {
              _this2._knob = el;
            },
            className: test ? 'js-knob' : undefined })
        )
      );
    }

    /**
     * Returns the style for the knob.
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: (this.props.saturation * 100).toFixed(2) + '%',
        top: ((1 - this.props.brightness) * 100).toFixed(2) + '%'
      };
    }
  }]);

  return SaturationValueSliderComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

// -------------------------------------------------------------------------- STYLES

SaturationValueSliderComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (SaturationValueSliderComponent);
var SaturationValueSlider = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["a" /* CircleSlider */]).div('1jf8fwr', 'SaturationValueSlider');
SaturationValueSliderComponent.RootElement = SaturationValueSlider;

var Knob = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["c" /* CircleSliderKnob */]).div('icy3f1', 'Knob');

var Background = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_7__circle_slider_styles__["b" /* CircleSliderBackground */]).canvas('15alfoa', 'Background');

/***/ }),
/* 284 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__color_component_input_component__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_components_shared_forms_numeric_input_component__ = __webpack_require__(53);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var HexInputComponent = function (_ColorComponentInputC) {
  _inherits(HexInputComponent, _ColorComponentInputC);

  function HexInputComponent() {
    _classCallCheck(this, HexInputComponent);

    return _possibleConstructorReturn(this, (HexInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(HexInputComponent)).apply(this, arguments));
  }

  _createClass(HexInputComponent, [{
    key: '_onInputChange',


    /**
     * Called when an input changes.
     * @param  {Event} event
     * @return @private
     */
    value: function _onInputChange(event) {
      var value = event.target.value;

      if (value.match(/^#([A-Fa-f0-9]{6})$/)) {
        return this.setState({ value: this.props.value });
      }

      this.props.onValueChange && this.props.onValueChange(value);

      this.setState({ value: value });
    }

    /**
     * Renders the right part of this control (e.g. an input)
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderRightPart',
    value: function _renderRightPart() {
      var _this2 = this;

      var classNames = test ? ['js-valueSelection-input'] : [];
      if (this.props.inputClassName) {
        classNames.push(this.props.inputClassName);
      }

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(InputField, {
        value: this.state.value,
        onLiveChange: this._onInputLiveChange,
        onChange: this._onInputChange,
        className: classNames.join(' '),
        innerRef: function innerRef(el) {
          _this2._input = el;
        },
        disabled: this.props.disabled });
    }
  }]);

  return HexInputComponent;
}(__WEBPACK_IMPORTED_MODULE_5__color_component_input_component__["a" /* default */]);

HexInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__color_component_input_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (HexInputComponent);


var InputField = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6_components_shared_forms_numeric_input_component__["a" /* default */])('t0ruqq', 'InputField');

/***/ }),
/* 285 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ButtonComponent = function (_BaseComponent) {
  _inherits(ButtonComponent, _BaseComponent);

  function ButtonComponent() {
    _classCallCheck(this, ButtonComponent);

    return _possibleConstructorReturn(this, (ButtonComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ButtonComponent)).apply(this, arguments));
  }

  _createClass(ButtonComponent, [{
    key: 'render',


    /**
     * Renders this component.
     * @return {React.Element}
     */
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        Button,
        {
          onClick: this.props.disabled ? undefined : this.props.onClick,
          disabled: this.props.disabled,
          className: this.props.className },
        this.props.title
      );
    }
  }]);

  return ButtonComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

ButtonComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (ButtonComponent);


var Button = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].button('7lpbp3', {
  disabled: '1iaw3op'
}, 'Button');

/***/ }),
/* 286 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__styles__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_components_scrollbar_component__ = __webpack_require__(79);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var DropdownComponent = function (_BaseComponent) {
  _inherits(DropdownComponent, _BaseComponent);

  function DropdownComponent() {
    var _ref;

    _classCallCheck(this, DropdownComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = DropdownComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(DropdownComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onDropdownClick', '_onDocumentClick');

    _this.state = {
      expanded: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(DropdownComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(DropdownComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(DropdownComponent.prototype), 'componentDidMount', this).call(this);

      document.addEventListener('click', this._onDocumentClick);
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(DropdownComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(DropdownComponent.prototype), 'componentWillUnmount', this).call(this);

      document.removeEventListener('click', this._onDocumentClick);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the user clicks anywhere on the screen. If the click is outside
     * of the dropdown and the dropdown is expanded, we collapse it.
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onDocumentClick',
    value: function _onDocumentClick(e) {
      if (!this.state.expanded) return;

      for (var element = e.target; element; element = element.parentNode) {
        if (element === this._root) {
          return;
        }
      }
      this.setState({ expanded: false });
    }

    /**
     * Invoked when the user clicks the dropdown
     * @private
     */

  }, {
    key: '_onDropdownClick',
    value: function _onDropdownClick() {
      var expanded = this.state.expanded;

      this.setState({ expanded: !expanded });
    }

    /**
     * Invoked when a dropdown item has been clicked
     * @param {Obejct} value
     * @private
     */

  }, {
    key: '_onItemClick',
    value: function _onItemClick(value) {
      this.props.onChange && this.props.onChange(value);

      this.setState({ expanded: false });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the items for this dropdown
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderDropdownItems',
    value: function _renderDropdownItems() {
      var _this2 = this;

      return this.props.children.map(function (item) {
        var props = __WEBPACK_IMPORTED_MODULE_5_globals__["q" /* SDKUtils */].extend({}, item.props, {
          onClick: _this2._onItemClick.bind(_this2, item.props.value),
          selected: _this2.props.value === item.props.value,
          className: test ? 'js-dropdownItem' : undefined
        });
        return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].cloneElement(item, props);
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var label = null;
      this.props.children.forEach(function (item) {
        if (item.props.value === _this3.props.value) {
          label = item.props.children;
        }
      });

      var enableDropdownMenu = this.props.enableMenu;
      return __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
        DropdownContainer,
        { innerRef: function innerRef(el) {
            _this3._root = el;
          }, className: this.props.className },
        __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          Dropdown,
          {
            onClick: enableDropdownMenu ? this._onDropdownClick : null,
            styles: this.props.styles,
            style: this.props.style },
          label,
          enableDropdownMenu ? __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(ArrowDown, null) : null
        ),
        this.state.expanded && __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
          DropdownOverlay,
          { className: test ? 'js-dropdownOverlay' : undefined },
          __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
            __WEBPACK_IMPORTED_MODULE_7_components_scrollbar_component__["a" /* default */],
            { direction: 'vertical', noGradient: true },
            __WEBPACK_IMPORTED_MODULE_5_globals__["l" /* React */].createElement(
              DropdownList,
              null,
              this._renderDropdownItems()
            )
          )
        )
      );
    }
  }]);

  return DropdownComponent;
}(__WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */]);

DropdownComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_globals__["b" /* BaseComponent */].contextTypes;
DropdownComponent.propTypes = {
  enableMenu: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].bool, /* Enable or disable the menu */
  styles: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  style: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].object,
  onChange: __WEBPACK_IMPORTED_MODULE_5_globals__["k" /* PropTypes */].func
};
DropdownComponent.defaultProps = {
  enableMenu: true
};
/* harmony default export */ __webpack_exports__["a"] = (DropdownComponent);


var DropdownContainer = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('13hv8io', 'DropdownContainer');

var Dropdown = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__styles__["a" /* Input */]).div('13hv8io', 'Dropdown');
DropdownComponent.RootElement = Dropdown;

var DropdownOverlay = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('1fqdopp', 'DropdownOverlay');

var DropdownList = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].ul('zy0cu9', 'DropdownList');

var ArrowDown = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].div('7w2heg', {
  turnUp: 'gucvcl'
}, 'ArrowDown');

var DropdownItem = __WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */].li('cibatp', {
  selected: '60ro2s'
}, 'DropdownItem');

DropdownComponent.Item = DropdownItem;

DropdownComponent.RootElement = Object(__WEBPACK_IMPORTED_MODULE_5_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_6__styles__["a" /* Input */]).input('120drhm', 'DropdownComponent');

/***/ }),
/* 287 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__styles__ = __webpack_require__(80);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var TextInputComponent = function (_BaseComponent) {
  _inherits(TextInputComponent, _BaseComponent);

  function TextInputComponent() {
    var _ref;

    _classCallCheck(this, TextInputComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextInputComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TextInputComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKeyDown', '_onInputBlur', '_onInputChange');

    _this.state = {
      value: ''
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   * @return {Boolean}
   */


  _createClass(TextInputComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.props.value !== nextProps.value || this.props.disabled !== nextProps.disabled || this.state.value !== nextState.value;
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.setState({ value: nextProps.value });
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user changes the value of the input
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onInputChange',
    value: function _onInputChange(e) {
      this.setState({ value: e.target.value });

      this.props.onLiveChange && this.props.onLiveChange(e);
    }

    /**
     * Invoked when the input loses focus
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onInputBlur',
    value: function _onInputBlur(e) {
      this.props.onChange && this.props.onChange(e);
    }

    /**
     * Invoked when the user releases a keyboard key
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onKeyDown',
    value: function _onKeyDown(event) {
      if (event.keyCode === 13 || // ENTER
      event.keyCode === 27) {
        // ESC
        this._input.blur();
      }
      this.props.onKeyDown && this.props.onKeyDown();
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Focuses this input
     */

  }, {
    key: 'focus',
    value: function focus() {
      this._input.focus();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the style object for the input
     * @return {Object}
     * @private
     */

  }, {
    key: '_getInputStyle',
    value: function _getInputStyle() {
      return {};
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var RootElement = this.constructor.RootElement;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(RootElement, {
        value: this.state.value,
        placeholder: this.props.placeholder,
        onChange: this._onInputChange,
        onBlur: this._onInputBlur,
        innerRef: function innerRef(el) {
          _this2._input = el;
        },
        onKeyDown: this._onKeyDown,
        name: this.props.name,
        styles: this.props.styles,
        className: this.props.className,
        style: this._getInputStyle(),
        disabled: this.props.disabled });
    }
  }]);

  return TextInputComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

TextInputComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TextInputComponent);


TextInputComponent.RootElement = Object(__WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */])(__WEBPACK_IMPORTED_MODULE_5__styles__["a" /* Input */]).input('120drhm', 'TextInputComponent');

/***/ }),
/* 288 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_shared_loaders_file_loader__ = __webpack_require__(289);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var InvisibleUploadComponent = function (_BaseComponent) {
  _inherits(InvisibleUploadComponent, _BaseComponent);

  function InvisibleUploadComponent() {
    var _ref;

    _classCallCheck(this, InvisibleUploadComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = InvisibleUploadComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(InvisibleUploadComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onNewFile');
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(InvisibleUploadComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this._fileLoader = new __WEBPACK_IMPORTED_MODULE_5_shared_loaders_file_loader__["a" /* default */](this._fileInput);
      this._fileLoader.on('file', this._onNewFile);
    }

    /**
     * Gets called when this component is about to be unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._fileLoader.off('file', this._onNewFile);
      this._fileLoader.dispose();
      this._fileLoader = null;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the FileLoader emits a new file
     * @param  {File} file
     * @private
     */

  }, {
    key: '_onNewFile',
    value: function _onNewFile(file) {
      this.props.onNewFile && this.props.onNewFile(file);
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Public method for opening the file loader
     */

  }, {
    key: 'open',
    value: function open() {
      this._fileLoader.open();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return React.createElement(HiddenFileInput, {
        type: 'file',
        accept: 'image/*',
        innerRef: function innerRef(el) {
          _this2._fileInput = el;
        } });
    }
  }]);

  return InvisibleUploadComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

InvisibleUploadComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (InvisibleUploadComponent);


var HiddenFileInput = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].input('19u9mq5', 'HiddenFileInput');

/***/ }),
/* 289 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_shared_managers_modal_manager__ = __webpack_require__(37);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var FileLoader = function (_EventEmitter) {
  _inherits(FileLoader, _EventEmitter);

  function FileLoader(input) {
    _classCallCheck(this, FileLoader);

    var _this = _possibleConstructorReturn(this, (FileLoader.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FileLoader)).call(this));

    _this._input = input;
    _this._onFileChange = _this._onFileChange.bind(_this);
    _this._input.addEventListener('change', _this._onFileChange);
    return _this;
  }

  /**
   * Opens the file dialog
   */


  _createClass(FileLoader, [{
    key: 'open',
    value: function open() {
      this._input.value = null;
      this._input.click();
    }

    /**
     * Loads the file into an image
     * @param  {File} file
     * @private
     */

  }, {
    key: '_handleFile',
    value: function _handleFile(file) {
      var _this2 = this;

      var reader = new window.FileReader();
      reader.onload = function () {
        return function (e) {
          var data = e.target.result;
          var image = new window.Image();

          image.addEventListener('load', function () {
            _this2.emit('file', image);
          });

          image.addEventListener('error', function (e) {
            return __WEBPACK_IMPORTED_MODULE_5_shared_managers_modal_manager__["a" /* default */].instance.displayError(_this2._t('errors.title'), _this2._t('errors.imageLoadingError.text'));
          });

          image.src = data;
        };
      }(file);
      reader.readAsDataURL(file);
    }

    /**
     * Gets called when the file input value changes
     * @private
     */

  }, {
    key: '_onFileChange',
    value: function _onFileChange() {
      var files = this._input.files;

      if (!files.length) return;

      this._handleFile(files[0]);
    }

    /**
     * Disposes all listeners
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      this._input.removeEventListener('change', this._onFileChange);
    }
  }]);

  return FileLoader;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["e" /* EventEmitter */]);

/* harmony default export */ __webpack_exports__["a"] = (FileLoader);

/***/ }),
/* 290 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_globals__ = __webpack_require__(4);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var CanvasOverlayControlComponent = function (_BaseComponent) {
  _inherits(CanvasOverlayControlComponent, _BaseComponent);

  function CanvasOverlayControlComponent() {
    _classCallCheck(this, CanvasOverlayControlComponent);

    return _possibleConstructorReturn(this, (CanvasOverlayControlComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CanvasOverlayControlComponent)).apply(this, arguments));
  }

  _createClass(CanvasOverlayControlComponent, [{
    key: '_cancelEvent',


    /**
     * Cancels the touch events so that the user can't drag the item using the overlay controls
     * @param  {Event} e
     * @private
     */
    value: function _cancelEvent(e) {
      e.stopPropagation();
      e.preventDefault();
    }
  }, {
    key: '_onClick',
    value: function _onClick(handler, e) {
      e.stopPropagation();
      e.preventDefault();

      handler(e);
    }

    /**
     * Renders a control item.
     * @param  {String} iconIdentifier The name of the corresponding icon
     * @param  {Function} onClick      The function to be called upon click
     * @return {React.Element}         The item element
     */

  }, {
    key: '_renderControlItem',
    value: function _renderControlItem(iconIdentifier, onClick) {
      var _this2 = this;

      var iconPath = this._getAssetPath('editor/controls/shared/canvas-overlay-controls/' + iconIdentifier + '.png', true);

      var clickHandler = function clickHandler(e) {
        _this2._onClick(onClick, e);
      };

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(ControlItem, {
        style: { backgroundImage: 'url(' + iconPath + ')' },
        onClick: clickHandler,
        onTouchEnd: clickHandler,
        className: test ? 'js-canvasOverlayControlItem' : undefined,
        'data-identifier': iconIdentifier
      });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var position = this.props.position;

      return __WEBPACK_IMPORTED_MODULE_4_globals__["l" /* React */].createElement(
        CanvasOverlayControl,
        {
          style: { left: position.x, top: position.y },
          onMouseDown: this._cancelEvent,
          onTouchStart: this._cancelEvent,
          className: test ? 'js-canvasOverlayControl' : undefined },
        this.props.takeToFront && this._renderControlItem('to-front', this.props.onTakeToFront),
        this.props.flipHorizontally && this._renderControlItem('flip-horizontal', this.props.onFlipHorizontally),
        this.props.duplicate && this._renderControlItem('duplicate', this.props.onDuplicate),
        this.props.delete && this._renderControlItem('delete', this.props.onDelete)
      );
    }
  }]);

  return CanvasOverlayControlComponent;
}(__WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */]);

CanvasOverlayControlComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_globals__["b" /* BaseComponent */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (CanvasOverlayControlComponent);


var CanvasOverlayControl = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1lf1r1r', 'CanvasOverlayControl');

var ControlItem = __WEBPACK_IMPORTED_MODULE_4_globals__["w" /* adonis */].div('1l53y3r', 'ControlItem');

/***/ }),
/* 291 */
/***/ (function(module, exports) {

module.exports = {"editor":{"new":"Neu","export":"Exportieren","cancel":"Abbrechen","close":"SchlieÃen","controls":{"library":{"title":"Bibliothek","search":"Bibliothek durchsuchen","fileDropZone":"Datei hier hin ziehen oder klicken zum Durchsuchen.","fileDropZoneHovered":"Zum Hochladen loslassen.","noResults":"Keine Ergebnisse"},"transform":{"title":"Zuschneiden","reset":"ZurÃ¼cksetzen","dimensions":{"width":"b","height":"h"},"ratios":{"imgly_transforms_common":{"name":"Standard","ratios":{"imgly_transform_common_custom":"Frei","imgly_transform_common_square":"Quadratisch","imgly_transform_common_4-3":"4:3","imgly_transform_common_16-9":"16:9"}},"imgly_transforms_facebook":{"name":"Facebook","ratios":{"imgly_transform_facebook_ad":"Ad","imgly_transform_facebook_post":"Post","imgly_transform_facebook_cover":"Cover","imgly_transform_facebook_profile":"Profilbild"}}}},"filter":{"title":"Filter","filters":{"identity":"Kein Filter","imgly_lut_celsius":"Celsius","imgly_lut_chest":"Chest","imgly_lut_fixie":"Fixie","imgly_lut_fridge":"Fridge","imgly_lut_front":"Front","imgly_lut_k2":"K2","imgly_lut_mellow":"Mellow","imgly_lut_sin":"Sin","imgly_lut_texas":"Texas","imgly_lut_ad1920":"1920 A.D.","imgly_lut_ancient":"Ancient","imgly_lut_bleached":"Bleached","imgly_lut_bleachedblue":"Bleached Blue","imgly_lut_blues":"Blues","imgly_lut_blueshadows":"Blue Shadows","imgly_lut_breeze":"Breeze","imgly_lut_bw":"B & W","imgly_lut_classic":"Classic","imgly_lut_colorful":"Colorful","imgly_lut_cool":"Cool","imgly_lut_cottoncandy":"Cotton Candy","imgly_lut_creamy":"Creamy","imgly_lut_eighties":"Eighties","imgly_lut_elder":"Elder","imgly_lut_evening":"Evening","imgly_lut_fall":"Fall","imgly_lut_food":"Food","imgly_lut_glam":"Glam","imgly_lut_gobblin":"Gobblin","imgly_lut_highcarb":"High Carb","imgly_lut_highcontrast":"High Contrast","imgly_lut_k1":"K1","imgly_lut_k6":"K6","imgly_lut_kdynamic":"KDynamic","imgly_lut_keen":"Keen","imgly_lut_lenin":"Lenin","imgly_lut_litho":"Litho","imgly_lut_lomo100":"Lomo 100","imgly_lut_lucid":"Lucid","imgly_lut_neat":"Neat","imgly_lut_nogreen":"No Green","imgly_lut_orchid":"Orchid","imgly_lut_pale":"Pale","imgly_lut_pitched":"Pitched","imgly_lut_plate":"Plate","imgly_lut_pola669":"Pola 669","imgly_lut_polasx":"Pola SX","imgly_lut_pro400":"Pro 400","imgly_lut_quozi":"Quozi","imgly_lut_sepiahigh":"Sepia High","imgly_lut_settled":"Settled","imgly_lut_seventies":"Seventies","imgly_lut_soft":"Soft","imgly_lut_steel":"Steel","imgly_lut_summer":"Summer","imgly_lut_sunset":"Sunset","imgly_lut_tender":"Tender","imgly_lut_twilight":"Twilight","imgly_lut_winter":"Winter","imgly_lut_x400":"X400"}},"adjustments":{"title":"Korrekturen","reset":"ZurÃ¼cksetzen","sections":{"basics":"Grundlagen","refinements":"Feinheiten"},"items":{"brightness":"Helligkeit","contrast":"Kontrast","saturation":"SÃ¤ttigung","exposure":"Belichtung","gamma":"Gamma","shadows":"Schatten","highlights":"Lichter","clarity":"Klarheit"}},"focus":{"title":"Weichzeichnen","items":{"none":"Original","radial":"KreisfÃ¶rmig","mirrored":"Gespiegelt","linear":"Linear","gaussian":"GauÃsch"}},"text":{"title":"Text","defaultText":"Doppelklick zum Bearbeiten!","new":"Neuer Text","font":"Schriftart","size":"GrÃ¶Ãe","spacing":"Abstand","line":"Zeile","background":"Hintergrund"},"sticker":{"title":"Sticker","new":"Neuer Sticker","fill":"EinfÃ¤rben","opacity":"Transparenz","replace":"Ersetzen","stickerCategories":{},"stickers":{}},"brush":{"title":"Malen","settings":"Pinseleinstellungen","width":"Dicke","hardness":"HÃ¤rte"},"frame":{"title":"Rahmen","opacity":"Transparenz","width":"Dicke","replace":"Ersetzen","fill":"EinfÃ¤rben","frames":{"none":"Kein Rahmen"}},"overlay":{"title":"Overlay","blendModes":{"normal":"Normal","overlay":"Overlay","hardLight":"Hard Light","softLight":"Soft Light","multiply":"Multiply","darken":"Darken","lighten":"Lighten","screen":"Screen","colorBurn":"Color Burn"},"overlays":{"none":"Kein Overlay","imgly_overlay_bokeh":"Bokeh","imgly_overlay_chop":"Chop","imgly_overlay_clouds":"Clouds","imgly_overlay_golden":"Golden","imgly_overlay_grain":"Grain","imgly_overlay_hearts":"Hearts","imgly_overlay_lightleak1":"Light Leak 1","imgly_overlay_lightleak2":"Light Leak 2","imgly_overlay_metal":"Metal","imgly_overlay_mosaic":"Mosaic","imgly_overlay_painting":"Painting","imgly_overlay_paper":"Paper","imgly_overlay_rain":"Rain","imgly_overlay_vintage":"Vintage","imgly_overlay_wall1":"Wall","imgly_overlay_wall2":"Wall 2","imgly_overlay_wood":"Wood"},"textdesign":{"title":"Text Design"}}}},"loading":{"loading":"Lade...","exporting":"Exportiere...","resizing":"Bild wird bearbeitet...","fonts":"Lade Schriftarten..."},"warnings":{"imageResized_maxMegaPixels":{"title":"Bild verkleinert","text":"Da dein Bild die maximale GrÃ¶Ãe von ${maxMegaPixels} Megapixeln Ã¼berschreitet, wurde es auf ${width}x${height} Pixel verkleinert."},"imageResized_maxDimensions":{"title":"Bild verkleinert","text":"Aufgrund von Hardware-BeschrÃ¤nkungen wurde das Bild auf ${width}x${height} Pixel verkleinert."},"newImage_changesLost":{"title":"Neues Bild","text":"Alle nicht gespeicherten Ãnderungen gehen verloren. Fortfahren?","buttons":{"yes":"Ja","no":"Nein"}},"discardChanges":{"title":"Ãnderungen verwerfen?","text":"Sind Sie sicher, dass Sie die Ãnderungen verwerfen wollen?","buttons":{"cancel":"Abbrechen","keep":"Ãnderungen beibehalten","discard":"Ãnderungen verwerfen"}}},"errors":{"title":"Fehler","renderingError":{"text":"Beim Rendern des Bildes ist ein Fehler aufgetreten."},"stickerLoadingError":{"text":"Laden des Stickers ${path} fehlgeschlagen."},"imageLoadingError":{"text":"Laden des Bildes fehlgeschlagen. Dies kann verschiedene GrÃ¼nde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterstÃ¼tzt."},"fontLoadingError":{"title":"Laden von Schriftarten ist fehlgeschlagen.","text":"Die folgenden Schriftarten konnten nicht geladen werden: ${fonts}."},"webcamNotSupported":{"text":"Dein Browser unterstÃ¼tzt das Webcam-Feature leider noch nicht."},"webcamUnavailable":{"text":"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})"},"invalidFileType":{"text":"Der Dateityp ${fileType} wird nicht unterstÃ¼tzt."}}}

/***/ }),
/* 292 */
/***/ (function(module, exports) {

module.exports = {"editor":{"new":"New","export":"Export","cancel":"Cancel","close":"Close","controls":{"library":{"title":"Library","search":"Search Library","fileDropZone":"Drag image here or click to browse for one.","fileDropZoneHovered":"Drop to upload.","noResults":"No results"},"transform":{"title":"Transform","reset":"Reset Default","dimensions":{"width":"w","height":"h"},"ratios":{"imgly_transforms_common":{"name":"Common Crops","ratios":{"imgly_transform_common_custom":"Custom","imgly_transform_common_square":"Square","imgly_transform_common_4-3":"4:3","imgly_transform_common_16-9":"16:9"}},"imgly_transforms_facebook":{"name":"Facebook","ratios":{"imgly_transform_facebook_ad":"Ad","imgly_transform_facebook_post":"Post","imgly_transform_facebook_cover":"Cover","imgly_transform_facebook_profile":"Profile Pic"}}}},"filter":{"title":"Filters","filters":{"identity":"None","imgly_lut_celsius":"Celsius","imgly_lut_chest":"Chest","imgly_lut_fixie":"Fixie","imgly_lut_fridge":"Fridge","imgly_lut_front":"Front","imgly_lut_k2":"K2","imgly_lut_mellow":"Mellow","imgly_lut_sin":"Sin","imgly_lut_texas":"Texas","imgly_lut_ad1920":"1920 A.D.","imgly_lut_ancient":"Ancient","imgly_lut_bleached":"Bleached","imgly_lut_bleachedblue":"Bleached Blue","imgly_lut_blues":"Blues","imgly_lut_blueshadows":"Blue Shadows","imgly_lut_breeze":"Breeze","imgly_lut_bw":"B & W","imgly_lut_classic":"Classic","imgly_lut_colorful":"Colorful","imgly_lut_cool":"Cool","imgly_lut_cottoncandy":"Cotton Candy","imgly_lut_creamy":"Creamy","imgly_lut_eighties":"Eighties","imgly_lut_elder":"Elder","imgly_lut_evening":"Evening","imgly_lut_fall":"Fall","imgly_lut_food":"Food","imgly_lut_glam":"Glam","imgly_lut_gobblin":"Gobblin","imgly_lut_highcarb":"High Carb","imgly_lut_highcontrast":"High Contrast","imgly_lut_k1":"K1","imgly_lut_k6":"K6","imgly_lut_kdynamic":"KDynamic","imgly_lut_keen":"Keen","imgly_lut_lenin":"Lenin","imgly_lut_litho":"Litho","imgly_lut_lomo100":"Lomo 100","imgly_lut_lucid":"Lucid","imgly_lut_neat":"Neat","imgly_lut_nogreen":"No Green","imgly_lut_orchid":"Orchid","imgly_lut_pale":"Pale","imgly_lut_pitched":"Pitched","imgly_lut_plate":"Plate","imgly_lut_pola669":"Pola 669","imgly_lut_polasx":"Pola SX","imgly_lut_pro400":"Pro 400","imgly_lut_quozi":"Quozi","imgly_lut_sepiahigh":"Sepia High","imgly_lut_settled":"Settled","imgly_lut_seventies":"Seventies","imgly_lut_soft":"Soft","imgly_lut_steel":"Steel","imgly_lut_summer":"Summer","imgly_lut_sunset":"Sunset","imgly_lut_tender":"Tender","imgly_lut_twilight":"Twilight","imgly_lut_winter":"Winter","imgly_lut_x400":"X400"}},"adjustments":{"title":"Adjust","reset":"Reset Default","sections":{"basics":"Basics","refinements":"Refinements"},"items":{"brightness":"Brightness","contrast":"Contrast","saturation":"Saturation","exposure":"Exposure","gamma":"Gamma","shadows":"Shadows","highlights":"Highlights","clarity":"Clarity"}},"focus":{"title":"Focus","items":{"none":"None","radial":"Radial","mirrored":"Mirrored","linear":"Linear","gaussian":"Gaussian"}},"text":{"title":"Text","defaultText":"Double-click to edit!","new":"New Text","font":"Font","size":"Size","spacing":"Spacing","line":"Line","background":"Background"},"sticker":{"title":"Stickers","new":"New Sticker","fill":"Fill","opacity":"Opacity","replace":"Replace","stickerCategories":{},"stickers":{}},"brush":{"title":"Brush","settings":"Brush Settings","width":"Width","hardness":"Hardness"},"frame":{"title":"Frames","opacity":"Opacity","width":"Width","replace":"Replace","fill":"Fill","frames":{"none":"None"}},"overlay":{"title":"Overlays","blendModes":{"none":"None","normal":"Normal","overlay":"Overlay","hardLight":"Hard Light","softLight":"Soft Light","multiply":"Multiply","darken":"Darken","lighten":"Lighten","screen":"Screen","colorBurn":"Color Burn"},"overlays":{"none":"None","imgly_overlay_bokeh":"Bokeh","imgly_overlay_chop":"Chop","imgly_overlay_clouds":"Clouds","imgly_overlay_golden":"Golden","imgly_overlay_grain":"Grain","imgly_overlay_hearts":"Hearts","imgly_overlay_lightleak1":"Light Leak 1","imgly_overlay_lightleak2":"Light Leak 2","imgly_overlay_metal":"Metal","imgly_overlay_mosaic":"Mosaic","imgly_overlay_painting":"Painting","imgly_overlay_paper":"Paper","imgly_overlay_rain":"Rain","imgly_overlay_vintage":"Vintage","imgly_overlay_wall1":"Wall","imgly_overlay_wall2":"Wall 2","imgly_overlay_wood":"Wood"}},"textdesign":{"title":"Text Design"}}},"loading":{"loading":"Loading...","exporting":"Exporting...","resizing":"Resizing...","fonts":"Loading fonts..."},"warnings":{"imageResized_maxMegaPixels":{"title":"Image resized","text":"Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."},"imageResized_maxDimensions":{"title":"Image resized","text":"Due to hardware limitations your image has been resized to ${width}x${height} pixels."},"newImage_changesLost":{"title":"New Image","text":"Any unsaved changes will be lost. Continue?","buttons":{"yes":"Yes","no":"No"}},"discardChanges":{"title":"Discard changes?","text":"You have unsaved changes. Are you sure you want to discard the changes?","buttons":{"cancel":"Cancel","keep":"Keep changes","discard":"Discard changes"}}},"errors":{"title":"Error","renderingError":{"text":"An error has occurred while rendering the image."},"stickerLoadingError":{"text":"Failed to load sticker ${path}."},"imageLoadingError":{"text":"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported."},"fontLoadingError":{"title":"Failed to load font","text":"The following fonts could not be loaded: ${fonts}."},"webcamNotSupported":{"text":"The webcam feature is not supported by your browser."},"webcamUnavailable":{"text":"Unable to display webcam image (Error: ${error})"},"invalidFileType":{"text":"The file type ${fileType} is not supported."}}}

/***/ }),
/* 293 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__library__ = __webpack_require__(294);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__adjustments__ = __webpack_require__(305);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__brush__ = __webpack_require__(308);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__filter__ = __webpack_require__(316);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__focus__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__frame__ = __webpack_require__(326);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__overlay__ = __webpack_require__(331);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sticker__ = __webpack_require__(335);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__text__ = __webpack_require__(342);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__transform__ = __webpack_require__(348);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__text_design__ = __webpack_require__(354);
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */














var AllControls = [__WEBPACK_IMPORTED_MODULE_1__library__["a" /* default */], __WEBPACK_IMPORTED_MODULE_2__adjustments__["a" /* default */], __WEBPACK_IMPORTED_MODULE_3__brush__["a" /* default */], __WEBPACK_IMPORTED_MODULE_4__filter__["a" /* default */], __WEBPACK_IMPORTED_MODULE_5__focus__["a" /* default */], __WEBPACK_IMPORTED_MODULE_6__frame__["a" /* default */], __WEBPACK_IMPORTED_MODULE_7__overlay__["a" /* default */], __WEBPACK_IMPORTED_MODULE_8__sticker__["a" /* default */], __WEBPACK_IMPORTED_MODULE_9__text__["a" /* default */], __WEBPACK_IMPORTED_MODULE_10__transform__["a" /* default */], __WEBPACK_IMPORTED_MODULE_11__text_design__["a" /* default */]];

__WEBPACK_IMPORTED_MODULE_0_photoeditorsdk_desktop_ui_core___default.a.AllControls = AllControls;

/* harmony default export */ __webpack_exports__["default"] = (AllControls);

/***/ }),
/* 294 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__library_controls_component__ = __webpack_require__(295);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__library_canvas_controls_component__ = __webpack_require__(301);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var LibraryControls = function (_BaseControls) {
  _inherits(LibraryControls, _BaseControls);

  function LibraryControls() {
    _classCallCheck(this, LibraryControls);

    return _possibleConstructorReturn(this, (LibraryControls.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LibraryControls)).apply(this, arguments));
  }

  _createClass(LibraryControls, [{
    key: 'shouldKeepChanges',


    /**
     * Checks if changes should be kept by asking the user. Remembers the user's choice
     * @return {Promise}
     */
    value: function shouldKeepChanges() {
      var _this2 = this;

      var _context = this.context,
          editor = _context.editor,
          ui = _context.ui;


      var promise = void 0;
      if (typeof this.keepChanges === 'undefined' && !editor.isShallow && editor.history.isUndoAvailable()) {
        promise = new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
          var modal = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayWarning(ui.translate('warnings.discardChanges.title'), ui.translate('warnings.discardChanges.text'), [ui.translate('warnings.discardChanges.buttons.keep'), ui.translate('warnings.discardChanges.buttons.discard')], true);
          modal.on('button', function (buttonIndex) {
            var keepChanges = buttonIndex === 0;
            _this2.keepChanges = keepChanges;
            resolve(keepChanges);
          });
        });
      } else {
        promise = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve(this.keepChanges);
      }

      return promise;
    }
  }, {
    key: 'onImage',
    value: function onImage(image) {
      var _this3 = this;

      this.shouldKeepChanges().then(function (keepChanges) {
        if (_this3._options.switchScreenOnImage) {
          _this3.context.options.editor.image = image;
          _this3.context.appComponent.switchToScreen('editor');
        } else {
          var editor = _this3.context.editor;

          editor.setImage(image, !keepChanges);
        }

        if (_this3.sharedState.get('webcamEnabled')) {
          _this3.sharedState.set({ webcamEnabled: false });
          if (!_this3.context.options.editor.forceCrop) {
            _this3.context.screen.switchToControls('default');
          }
        }
      });
    }

    /**
     * A unique identifier for these controls
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Boolean} [enableWebcam = false]
     */

  }, {
    key: '_onEnter',


    /**
     * Is called when a control is entered
     */
    value: function _onEnter() {
      this.sharedState.set({
        webcamEnabled: false
      });
    }

    /**
     * Checks if a library provider is defined
     * @param {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {Boolean}
     */

  }], [{
    key: 'hasLibraryProvider',
    value: function hasLibraryProvider(editor) {
      var controlsOptions = editor.getOptions().editor.controlsOptions;

      if (typeof controlsOptions.library === 'undefined') return true;

      var libraryOptions = controlsOptions.library;
      if (libraryOptions.provider || libraryOptions.enableWebcam || libraryOptions.enableUpload) return true;
      return false;
    }

    /**
     * Checks if this control is enabled
     * @param {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return LibraryControls.hasLibraryProvider(editor) && editor.isToolEnabled('library');
    }
  }]);

  return LibraryControls;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"]);

LibraryControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
LibraryControls.getPreloadAssets = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"].getPreloadAssets;
LibraryControls.identifier = 'library';
LibraryControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_6__library_controls_component__["a" /* default */];
LibraryControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_7__library_canvas_controls_component__["a" /* default */];
LibraryControls.iconPath = 'editor/controls/library/icon.png';
LibraryControls.activeIconPath = 'editor/controls/library/icon-active.png';
LibraryControls.defaultOptions = {
  enableWebcam: true,
  enableUpload: true,
  displayUploadInCanvas: false,
  switchScreenOnImage: false };
/* harmony default export */ __webpack_exports__["a"] = (LibraryControls);


__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default.a.Controls.LibraryControls = LibraryControls;

/***/ }),
/* 295 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__library_root_panel_component__ = __webpack_require__(296);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__library_search_panel_component__ = __webpack_require__(298);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__library_search_header_component__ = __webpack_require__(300);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var PanelEnum = {
  ROOT: 0,
  SEARCH: 1
};
var test = ("production") === 'test';

var LibraryControlsComponent = function (_ControlsComponent) {
  _inherits(LibraryControlsComponent, _ControlsComponent);

  function LibraryControlsComponent() {
    var _ref;

    _classCallCheck(this, LibraryControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LibraryControlsComponent)).call.apply(_ref, [this].concat(args)));

    var Provider = _this.props.options.provider;

    if (Provider) {
      _this._library = new Provider();
    }

    _this._bindAll('_onCategorySelect', '_onImageSelect', '_onSearchQueryChange', '_onWebcamActivated');

    _this.state.currentPanel = PanelEnum.ROOT;
    _this.state.searchQuery = '';
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user clicks the back button
   * @private
   */


  _createClass(LibraryControlsComponent, [{
    key: '_onBackButtonClick',
    value: function _onBackButtonClick() {
      this.setState({
        currentPanel: PanelEnum.ROOT,
        searchQuery: '',
        backButton: false
      });
    }

    /**
     * Invoked when the user has selected a category
     * @param  {PhotoEditorSDK.UI.DesktopUI.Library.Category} category
     * @private
     */

  }, {
    key: '_onCategorySelect',
    value: function _onCategorySelect(category) {
      this.setState({
        currentPanel: PanelEnum.SEARCH,
        searchQuery: category.getName(),
        backButton: true
      });
    }

    /**
     * Invoked when the user selected an image
     * @param  {PhotoEditorSDK.UI.DesktopUI.Library.Image} image
     * @Private
     */

  }, {
    key: '_onImageSelect',
    value: function _onImageSelect(image) {
      var _this2 = this;

      // Disable webcam in case it is open
      this.setSharedState({ webcamEnabled: false });
      var newImage = new window.Image();

      var loadingModal = void 0;
      var loadTimeout = setTimeout(function () {
        loadingModal = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this2._t('loading.loading'));
      }, 200);

      newImage.addEventListener('load', function () {
        if (loadingModal) loadingModal.close();
        if (loadTimeout) {
          clearTimeout(loadTimeout);
          loadTimeout = null;
        }

        _this2.props.controls.onImage(newImage);
      });

      newImage.addEventListener('error', function () {
        if (loadingModal) loadingModal.close();
        if (loadTimeout) {
          clearTimeout(loadTimeout);
          loadTimeout = null;
        }

        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this2._t('errors.title'), _this2._t('errors.imageLoadingError.text'));
      });

      newImage.crossOrigin = this.context.editor.getCrossOrigin();
      newImage.src = image.getRawUrl();
    }

    /**
     * Invoked when the user changes the search query text input
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onSearchQueryChange',
    value: function _onSearchQueryChange(value) {
      this.setState({
        searchQuery: value,
        currentPanel: PanelEnum.SEARCH
      });
    }

    /**
     * Invoked when the user opens the webcam
     * @param  {String} value
     * @private
     */

  }, {
    key: '_onWebcamActivated',
    value: function _onWebcamActivated(value) {
      this.setSharedState({
        webcamEnabled: true
      });
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * @return {Promise}
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      var _this3 = this;

      if (!this._list) return;

      this._list.style.height = '100%';
      return _get(LibraryControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LibraryControlsComponent.prototype), 'fixStyles', this).call(this).then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          var containerHeight = _this3._container.offsetHeight;
          _this3._list.style.height = containerHeight + 'px';
        }

        return _this3.refs.panel.fixStyles();
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the current panel
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderCurrentPanel',
    value: function _renderCurrentPanel() {
      var _this4 = this;

      switch (this.state.currentPanel) {
        case PanelEnum.ROOT:
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__library_root_panel_component__["a" /* default */], {
            controls: this.props.controls,
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            library: this._library,
            onCategorySelect: this._onCategorySelect,
            onWebcamActivated: this._onWebcamActivated,
            options: this.props.options,
            key: 'panel',
            ref: 'panel' });
        case PanelEnum.SEARCH:
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__library_search_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            library: this._library,
            onImageSelect: this._onImageSelect,
            searchQuery: this.state.searchQuery,
            key: 'panel',
            ref: 'panel' });
      }
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-libraryControls' : undefined,
        withBorderTop: false
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var items = [];
      if (this._library) {
        items.push(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__library_search_header_component__["a" /* default */], {
          key: 'searchHeader',
          onChange: this._onSearchQueryChange,
          searchQuery: this.state.searchQuery }));
      }
      items.push(this._renderCurrentPanel());
      return items;
    }
  }]);

  return LibraryControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

LibraryControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
LibraryControlsComponent.propTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].propTypes;
LibraryControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (LibraryControlsComponent);

/***/ }),
/* 296 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__category_list_item_component__ = __webpack_require__(297);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__library_upload_component__ = __webpack_require__(129);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var LibraryRootPanelComponent = function (_BaseComponent) {
  _inherits(LibraryRootPanelComponent, _BaseComponent);

  function LibraryRootPanelComponent() {
    var _ref;

    _classCallCheck(this, LibraryRootPanelComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryRootPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibraryRootPanelComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onImage');

    _this.state = {
      loading: true,
      categories: []
    };
    return _this;
  }

  // -------------------------------------------------------------------------- STYLING

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * This method is called from the StickerControlsComponent due to timing issues.
   * @return {Promise}
   */


  _createClass(LibraryRootPanelComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Gets called when this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(LibraryRootPanelComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibraryRootPanelComponent.prototype), 'componentDidMount', this).call(this);

      this._loadCategories();
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(LibraryRootPanelComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibraryRootPanelComponent.prototype), 'componentWillUnmount', this).call(this);

      if (this._loadCoverImagesQueue) {
        this._loadCoverImagesQueue.dispose();
      }

      this._disposed = true;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks a category
     * @param  {PhotoEditorSDK.UI.DesktopUI.Library.Category} category
     * @private
     */

  }, {
    key: '_onCategoryClick',
    value: function _onCategoryClick(category) {
      this.props.onCategorySelect && this.props.onCategorySelect(category);
    }
  }, {
    key: '_onImage',
    value: function _onImage(image) {
      this.props.controls.onImage(image);
    }

    // -------------------------------------------------------------------------- LOADING

    /**
     * Loads the thumbnails
     * @param  {PhotoEditorSDK.UI.DesktopUI.Library.Category[]} categories
     * @private
     */

  }, {
    key: '_loadCoverImages',
    value: function _loadCoverImages(categories) {
      var _this3 = this;

      var _context = this.context,
          theme = _context.theme,
          options = _context.options;


      var jobs = categories.map(function (i) {
        return {
          fn: function fn() {
            return i.loadCoverImage(options.crossOrigin);
          },
          index: i
        };
      });
      this._loadCoverImagesQueue = new __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DelayedJobQueue"](jobs, {
        minDelay: theme.listItemSlideInDelay
      });
      this._loadCoverImagesQueue.on('job-done', function (job) {
        if (_this3._disposed) return;

        _this3.forceUpdate();
        _this3._scrollbar.update();
      });
      this._loadCoverImagesQueue.start();
    }

    /**
     * Loads the library's categories
     * @return {Promise}
     * @private
     */

  }, {
    key: '_loadCategories',
    value: function _loadCategories() {
      var _this4 = this;

      if (!this.props.library) {
        this.setState({
          loading: false,
          categories: []
        });
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve();
      }

      return this.props.library.getCategories().then(function (categories) {
        _this4._loadCoverImages(categories);
        _this4.setState({
          loading: false,
          categories: categories
        });
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the list items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this5 = this;

      return this.state.categories.map(function (category) {
        return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__category_list_item_component__["a" /* default */], {
          key: category.getName(),
          category: category,
          visible: category.isCoverImageLoaded(),
          onClick: _this5._onCategoryClick.bind(_this5, category) });
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this6 = this;

      if (this.state.loading) return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["LoadingIndicatorComponent"], null);

      var _props$options = this.props.options,
          enableUpload = _props$options.enableUpload,
          displayUploadInCanvas = _props$options.displayUploadInCanvas;
      var _innerRef = this.props.innerRef;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        RootPanelWrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this6._wrapper = el;
          },
          className: test ? 'js-rootPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this6._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            CategoryList,
            null,
            enableUpload && !displayUploadInCanvas && __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__library_upload_component__["a" /* default */], {
              controls: this.props.controls,
              onImage: this._onImage,
              webcamEnabled: this.props.options.enableWebcam,
              onWebcamActivated: this.props.onWebcamActivated }),
            this._renderListItems()
          )
        )
      );
    }
  }]);

  return LibraryRootPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (LibraryRootPanelComponent);


var RootPanelWrapper = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'RootPanelWrapper');

var CategoryList = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].ul('5jg0ou', 'CategoryList');

/***/ }),
/* 297 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var ControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;


var test = ("production") === 'test';

var CategoryListItemComponent = function (_BaseComponent) {
  _inherits(CategoryListItemComponent, _BaseComponent);

  function CategoryListItemComponent() {
    _classCallCheck(this, CategoryListItemComponent);

    return _possibleConstructorReturn(this, (CategoryListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(CategoryListItemComponent)).apply(this, arguments));
  }

  _createClass(CategoryListItemComponent, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          category = _props.category,
          onClick = _props.onClick,
          visible = _props.visible;

      var listItemStyle = {
        backgroundImage: 'url(\'' + category.getCoverImage() + '\')'
      };

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        ListItem,
        {
          animated: true,
          style: listItemStyle,
          visible: visible,
          className: test ? 'js-categoryListItem' : undefined,
          onClick: onClick },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ListItemTitle,
          null,
          category.getName()
        )
      );
    }
  }]);

  return CategoryListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (CategoryListItemComponent);


var ListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).li('prcvvt', 'ListItem');

var ListItemTitle = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).div('1ler8h7', 'ListItemTitle');

/***/ }),
/* 298 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__image_list_item_component__ = __webpack_require__(299);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var test = ("production") === 'test';

var LibrarySearchPanelComponent = function (_BaseComponent) {
  _inherits(LibrarySearchPanelComponent, _BaseComponent);

  function LibrarySearchPanelComponent() {
    var _ref;

    _classCallCheck(this, LibrarySearchPanelComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibrarySearchPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibrarySearchPanelComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      loading: true,
      images: []
    };
    return _this;
  }

  // -------------------------------------------------------------------------- STYLING

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * This method is called from the StickerControlsComponent due to timing issues.
   * @return {Promise}
   */


  _createClass(LibrarySearchPanelComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Gets called when this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(LibrarySearchPanelComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibrarySearchPanelComponent.prototype), 'componentDidMount', this).call(this);

      this._loadImages(this.props.searchQuery);
    }

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.searchQuery !== nextProps.searchQuery) {
        this._loadImages(nextProps.searchQuery);
      }
    }

    /**
     * Gets called when this component is about to be unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(LibrarySearchPanelComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(LibrarySearchPanelComponent.prototype), 'componentWillUnmount', this).call(this);

      this._loadThumbsQueue.stop();
      this._loadThumbsQueue.dispose();
      this._disposed = true;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when use clicks an image
     * @param  {Image} image
     * @private
     */

  }, {
    key: '_onImageClick',
    value: function _onImageClick(image) {
      this.props.onImageSelect && this.props.onImageSelect(image);
    }

    // -------------------------------------------------------------------------- LOADING

    /**
     * Loads the thumbnails
     * @param  {PhotoEditorSDK.UI.DesktopUI.Library.Image[]} images
     * @private
     */

  }, {
    key: '_loadThumbs',
    value: function _loadThumbs(images) {
      var _this3 = this;

      var _context = this.context,
          theme = _context.theme,
          options = _context.options;

      var jobs = images.map(function (i) {
        return {
          fn: function fn() {
            return i.loadThumb(options.crossOrigin);
          },
          index: i
        };
      });
      this._loadThumbsQueue = new __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DelayedJobQueue"](jobs, {
        minDelay: theme.listItemSlideInDelay
      });
      this._loadThumbsQueue.on('job-done', function (job) {
        if (_this3._disposed) return;

        _this3.forceUpdate();
        _this3._scrollbar && _this3._scrollbar.update();
      });
      this._loadThumbsQueue.start();
    }

    /**
     * Loads the images
     * @param {String} searchQuery
     * @return {Promise}
     * @private
     */

  }, {
    key: '_loadImages',
    value: function _loadImages(searchQuery) {
      var _this4 = this;

      if (!searchQuery.trim()) {
        this.setState({
          loading: false,
          images: []
        }, function () {
          return _this4._scrollbar && _this4._scrollbar.update();
        });
      }

      this.setState({ loading: true });
      return this.props.library.searchImages(searchQuery).then(function (images) {
        _this4._loadThumbs(images);
        _this4.setState({
          loading: false,
          images: images
        }, function () {
          return _this4._scrollbar.update();
        });
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the list items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this5 = this;

      var editor = this.context.editor;

      var editorImage = editor.getImage();

      if (this.state.images.length === 0) {
        return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          NoResultsText,
          null,
          this._t('editor.controls.library.noResults')
        );
      }

      return this.state.images.map(function (image) {
        return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__image_list_item_component__["a" /* default */], {
          key: image.getThumbUrl(),
          image: image,
          selected: image.getRawUrl() === (editorImage && editorImage.src),
          visible: image.isThumbLoaded(),
          onClick: _this5._onImageClick.bind(_this5, image) });
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this6 = this;

      if (this.state.loading) return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["LoadingIndicatorComponent"], null);

      var _innerRef = this.props.innerRef;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        RootPanelWrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this6._wrapper = el;
          },
          className: test ? 'js-searchPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this6._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            ImageList,
            null,
            this._renderListItems()
          )
        )
      );
    }
  }]);

  return LibrarySearchPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (LibrarySearchPanelComponent);


var RootPanelWrapper = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'RootPanelWrapper');

var ImageList = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].ul('5jg0ou', 'ImageList');

var NoResultsText = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('6kl290', 'NoResultsText');

/***/ }),
/* 299 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var ControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemActiveOverlay = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemActiveOverlay;


var test = ("production") === 'test';

var ImageListItemComponent = function (_BaseComponent) {
  _inherits(ImageListItemComponent, _BaseComponent);

  function ImageListItemComponent() {
    var _ref;

    _classCallCheck(this, ImageListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = ImageListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(ImageListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      isPortrait: false,
      hovered: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before a mounted component receives new props
   * @param  {Object} nextProps
   */


  _createClass(ImageListItemComponent, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.visible !== nextProps.visible) {
        var image = this.props.image.getThumbImage();
        if (image.height > image.width) {
          this.setState({
            isPortrait: true
          });
        }
      }
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          image = _props.image,
          onClick = _props.onClick,
          selected = _props.selected,
          visible = _props.visible;

      var listItemStyle = {
        backgroundImage: 'url(\'' + image.getThumbUrl() + '\')'
      };

      var authorAvatar = image.getAuthorAvatar();
      var transitionDuration = this.context.theme.transitionDuration;


      var classNames = [test ? 'js-imageListItem' : undefined, selected && 'is-selected'].filter(function (c) {
        return c;
      });
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        ListItem,
        {
          animated: true,
          style: listItemStyle,
          selected: selected,
          visible: visible,
          className: classNames.join(' '),
          onClick: onClick,
          portrait: this.state.isPortrait,
          onMouseEnter: function onMouseEnter() {
            return _this2.setState({ hovered: true });
          },
          onMouseLeave: function onMouseLeave() {
            return _this2.setState({ hovered: false });
          } },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: this.state.hovered,
            enterProp: 'rendered',
            enterDuration: transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: transitionDuration * 1000,
            leaveDuration: transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Author,
            { selected: selected },
            authorAvatar && __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(AuthorAvatar, { src: authorAvatar }),
            __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
              AuthorName,
              null,
              image.getAuthorName()
            )
          )
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: selected,
            enterProp: 'rendered',
            enterDuration: transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: transitionDuration * 1000,
            leaveDuration: transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(ListItemOverlay, { selected: true })
        )
      );
    }
  }]);

  return ImageListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (ImageListItemComponent);


var ListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).li('1a5mxw5', {
  portrait: 'otbyv0'
}, 'ListItem');

var ListItemOverlay = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemActiveOverlay).div('120drhm', 'ListItemOverlay');

var AuthorAvatar = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].img('1owxkzt', 'AuthorAvatar');

var AuthorName = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1jylqsv', 'AuthorName');

var Author = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('mchu36', {
  rendered: '2jlos',
  visible: '1fmxelx'
}, 'Author');

/***/ }),
/* 300 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var SEARCH_QUERY_DEBOUNCE_TIME = 250;
var test = ("production") === 'test';

var LibrarySearchHeaderComponent = function (_BaseComponent) {
  _inherits(LibrarySearchHeaderComponent, _BaseComponent);

  function LibrarySearchHeaderComponent() {
    var _ref;

    _classCallCheck(this, LibrarySearchHeaderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibrarySearchHeaderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LibrarySearchHeaderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onInputChange');

    _this._onDebouncedInputChange = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Utils"].debounce(_this._onDebouncedInputChange, SEARCH_QUERY_DEBOUNCE_TIME);

    _this.state = {
      searchQueryInputValue: ''
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before a mounted component receives new props
   * @param  {Object} nextProps
   */


  _createClass(LibrarySearchHeaderComponent, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.props.searchQuery !== nextProps.searchQuery) {
        this.setState({ searchQueryInputValue: nextProps.searchQuery });
      }
    }

    /**
     * Invoked immediately before a component is unmounted and destroyed
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._disposed = true;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the input value has not changed for 250ms
     * @param  {String} value
     * @private
     */

  }, {
    key: '_onDebouncedInputChange',
    value: function _onDebouncedInputChange(value) {
      if (this._disposed) return;

      this.props.onChange && this.props.onChange(value);
    }

    /**
     * Invoked when the input value has been changed
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onInputChange',
    value: function _onInputChange(event) {
      var value = event.target.value;

      this.setState({ searchQueryInputValue: value });
      this._onDebouncedInputChange(value);
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Header,
        { key: 'header' },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          InputContainer,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(TextInput, {
            placeholder: this._t('editor.controls.library.search'),
            onLiveChange: this._onInputChange,
            className: test ? 'js-searchInput' : undefined,
            value: this.state.searchQueryInputValue })
        )
      );
    }
  }]);

  return LibrarySearchHeaderComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (LibrarySearchHeaderComponent);


var Header = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1tkmkv6', 'Header');

var InputContainer = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('mz0a5q', 'InputContainer');

var TextInput = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["TextInputComponent"])('py3uvl', 'TextInput');

/***/ }),
/* 301 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__webcam_component__ = __webpack_require__(302);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__large_library_upload_component__ = __webpack_require__(304);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var LibraryCanvasControlsComponent = function (_CanvasControlsCompon) {
  _inherits(LibraryCanvasControlsComponent, _CanvasControlsCompon);

  function LibraryCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, LibraryCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LibraryCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LibraryCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onImage', '_onWebcamBack', '_onWebcamActivated');

    _this.state.displayHeader = false;
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user has shot an image
   * @param  {Image} image
   * @private
   */


  _createClass(LibraryCanvasControlsComponent, [{
    key: '_onImage',
    value: function _onImage(image) {
      this.props.controls.onImage(image);
    }

    /**
     * Invoked when the webcam disables due to an error
     * @private
     */

  }, {
    key: '_onWebcamBack',
    value: function _onWebcamBack() {
      this.setSharedState({
        webcamEnabled: false
      });
    }

    /**
     * Invoked when the user opens the webcam
     * @param  {String} value
     * @private
     */

  }, {
    key: '_onWebcamActivated',
    value: function _onWebcamActivated(value) {
      this.setSharedState({
        webcamEnabled: true
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders all controls onto the canvas.
     * @return React.Element
     */

  }, {
    key: '_renderControls',
    value: function _renderControls() {
      var webcamEnabled = this.getSharedState('webcamEnabled');
      var displayUploadInCanvas = this.props.options.displayUploadInCanvas;


      if (webcamEnabled) {
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5__webcam_component__["a" /* default */], {
          onImage: this._onImage,
          onBack: this._onWebcamBack });
      } else if (displayUploadInCanvas) {
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          LibraryUploadContainer,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__large_library_upload_component__["a" /* default */], {
            large: true,
            controls: this.props.controls,
            webcamEnabled: this.props.options.enableWebcam,
            onWebcamActivated: this._onWebcamActivated,
            onImage: this._onImage })
        );
      }
    }
  }]);

  return LibraryCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"]);

LibraryCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (LibraryCanvasControlsComponent);


var LibraryUploadContainer = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1up9ikz', 'LibraryUploadContainer');

/***/ }),
/* 302 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__webcam_video_component__ = __webpack_require__(303);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var WebcamComponent = function (_BaseComponent) {
  _inherits(WebcamComponent, _BaseComponent);

  function WebcamComponent() {
    var _ref;

    _classCallCheck(this, WebcamComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = WebcamComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(WebcamComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onWebcamReady', '_onWebcamError', '_onButtonClick', '_onCancelClick');

    _this.state = {
      webcamReady: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Gets called when the webcam is ready to serve a video
   * @private
   */


  _createClass(WebcamComponent, [{
    key: '_onWebcamReady',
    value: function _onWebcamReady() {
      this.props.onReady && this.props.onReady();

      this.setState({ webcamReady: true });
    }
  }, {
    key: '_onWebcamError',
    value: function _onWebcamError(msg) {
      var _this2 = this;

      var errorModal = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(this._t('errors.title'), this._t('errors.webcamUnavailable.text', { error: msg }));
      errorModal.on('close', function () {
        return _this2.props.onBack();
      });
    }

    /**
     * Invoked when the user clicks the shutter button
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onButtonClick',
    value: function _onButtonClick(e) {
      e.preventDefault();
      this._takePhoto();
    }

    /**
     * Invoked when the user clicks the cancel button
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onCancelClick',
    value: function _onCancelClick(e) {
      e.preventDefault();
      this.props.onBack && this.props.onBack();
    }

    // -------------------------------------------------------------------------- CAMERA

    /**
     * Takes a photo
     * @private
     */

  }, {
    key: '_takePhoto',
    value: function _takePhoto() {
      var _this3 = this;

      if (!this.state.webcamReady) {
        return;
      }

      this._webcam.capture().then(function (image) {
        _this3.props.onImage && _this3.props.onImage(image);
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Gradient,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            CancelButton,
            {
              onClick: this._onCancelClick },
            this._t('editor.cancel')
          )
        ),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          OuterVideoContainer,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            VideoContainer,
            { innerRef: function innerRef(el) {
                _this4._videoContainer = el;
              } },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__webcam_video_component__["a" /* default */], {
              flashURL: this._getAssetPath('fallback/webcam.swf'),
              ref: function ref(el) {
                _this4._webcam = el;
              },
              onWebcamError: this._onWebcamError,
              onWebcamAvailable: this._onWebcamReady }),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Button, {
              onClick: this._onButtonClick })
          )
        )
      );
    }
  }]);

  return WebcamComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (WebcamComponent);


var Container = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('dehn6v', 'Container');

var Gradient = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('4d756t', 'Gradient');

var CancelButton = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1p4kwwq', 'CancelButton');

var OuterVideoContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1j41msh', 'OuterVideoContainer');

var VideoContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1g72uw9', 'VideoContainer');

var Video = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].video('1btv3tg', {
  visible: 'jsuk9w'
}, 'Video');

var Button = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1fkab7z', 'Button');

/***/ }),
/* 303 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_prop_types___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_prop_types__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */
/* global Image */





var WebcamVideoComponent = function (_BaseComponent) {
  _inherits(WebcamVideoComponent, _BaseComponent);

  function WebcamVideoComponent(props) {
    _classCallCheck(this, WebcamVideoComponent);

    var _this = _possibleConstructorReturn(this, (WebcamVideoComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(WebcamVideoComponent)).call(this, props));

    _this._bindAll('_onLoadedMetadata');

    _this.state = {
      webcamAvailable: false,
      useFlashFallback: false
    };

    _this._getUserMedia = null;
    _this._webcamStream = null;
    return _this;
  }

  _createClass(WebcamVideoComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      this._initGetUserMedia();

      if (this._getUserMedia) {
        this._getUserMedia({
          video: {
            optional: [{ minWidth: 320 }, { minWidth: 640 }, { minWidth: 1024 }, { minWidth: 1280 }, { minWidth: 1920 }, { minWidth: 2560 }]
          },
          audio: false
        }).then(function (stream) {
          _this2._webcamStream = stream;
          var video = _this2._videoElement;

          if ('srcObject' in video) {
            video.srcObject = stream;
          } else {
            video.src = window.URL.createObjectURL(stream);
          }
        }).catch(function (error) {
          if (_this2.props.onWebcamError) {
            _this2.props.onWebcamError(error);
          }
        });
      } else {
        var deleteWebcam = false;

        // Sadly we need to polute the global namespace for flash/js communication
        // keeping it at a minimum here
        if (!window.Webcam) {
          window.Webcam = {};
          deleteWebcam = true;
        }

        window.Webcam.flashNotify = function (type, msg) {
          switch (type) {
            case 'cameraLive':
              _this2.setState({ webcamAvailable: true }, function () {
                _this2.props.onWebcamAvailable && _this2.props.onWebcamAvailable();
              });
              delete window.Webcam.flashNotify;
              if (deleteWebcam) {
                delete window.Webcam;
              }
              break;
            case 'error':
              _this2.props.onWebcamError && _this2.props.onWebcamError(msg);
              delete window.Webcam.flashNotify;
              if (deleteWebcam) {
                delete window.Webcam;
              }
              break;
          }
        };
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._disposeWebcam();
    }

    /**
     * Checks the current browser environment for mediaDevices.getUserMedia of for
     * legacy navitator.getUserMedia, and saves a shim into the _getUserMedia
     * property.
     *
     * @memberof WebcamVideoComponent
     * @private
     */

  }, {
    key: '_initGetUserMedia',
    value: function _initGetUserMedia() {
      // Check for mediaDevices#getUserMedia
      if (navigator.mediaDevices) {
        if (navigator.mediaDevices.getUserMedia) {
          this._getUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
        }
      }

      // Look for legacy navigator.getUserMedia implementations
      if (!this._getUserMedia) {
        var legacyGetUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

        if (legacyGetUserMedia) {
          this._getUserMedia = function (options) {
            return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
              return legacyGetUserMedia.call(navigator, options, resolve, reject);
            });
          };
        }
      }

      // If no getUserMedia is found, use flash fallbcak
      if (!this._getUserMedia) {
        this.setState({ useFlashFallback: true });
      }
    }

    /**
     * Disposes the current webcam stream, if available.
     *
     * @memberof WebcamVideoComponent
     * @private
     */

  }, {
    key: '_disposeWebcam',
    value: function _disposeWebcam() {
      if (this._webcamStream) {
        var stream = this._webcamStream;
        var track = stream.getTracks()[0];
        if (track) {
          track.stop();
        } else if (stream.stop) {
          stream.stop();
        }
      } else if (this._flashWebcam) {
        this._flashWebcam._releaseCamera();
      }
    }

    /**
     * Captures the current webcam image in the stream, if available.
     *
     * @returns {Promise<Image>}
     * @memberof WebcamVideoComponent
     */

  }, {
    key: 'capture',
    value: function capture() {
      var _this3 = this;

      if (!this.state.webcamAvailable) {
        return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.reject(new Error('Webcam video not available'));
      }

      if (this._videoElement && !this._flashWebcam) {
        return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
          var video = _this3._videoElement;
          if (video.readyState === 0) {
            reject(new Error('Webcam video not available'));
          } else {
            var canvas = document.createElement('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;

            var context = canvas.getContext('2d');
            context.drawImage(video, 0, 0);

            var image = new window.Image();
            image.addEventListener('load', function () {
              resolve(image);
            });
            image.src = canvas.toDataURL('image/jpeg');
          }
        });
      } else if (this._flashWebcam) {
        return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
          var rawData = _this3._flashWebcam._snap();
          var image = new Image();
          image.onload = function () {
            resolve(image);
          };
          image.src = 'data:image/jpeg;base64,' + rawData;
        });
      }

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.reject(new Error('Webcam video not available'));
    }

    /**
     * Creates a React Component wrapping the flash webcam object
     * @returns {React.Component}
     * @memberof WebcamVideoComponent
     */

  }, {
    key: '_getFlashFallbackComponent',
    value: function _getFlashFallbackComponent() {
      var _this4 = this;

      var _container = this._container,
          offsetWidth = _container.offsetWidth,
          offsetHeight = _container.offsetHeight;


      var width = 640;
      var height = 480;

      if (offsetHeight > offsetWidth) {
        width = offsetWidth || 640;
        height = 3 / 4 * offsetWidth;
      } else {
        width = 4 / 3 * offsetHeight;
        height = offsetHeight || 480;
      }

      var flashvars = 'width=' + width + '&height=' + height + '&dest_width=1024&dest_height=768&jpeg_quality=100&fps=24';

      return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(
        'object',
        { classID: 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000', type: 'application/x-shockwave-flash', width: width, height: height, ref: function ref(e) {
            _this4._flashWebcam = e;
          }, align: 'middle' },
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'wmode', value: 'transparent' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'allowScriptAccess', value: 'always' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'allowFullScreen', value: 'false' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'movie', value: this.props.flashURL }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'loop', value: 'false' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'menu', value: 'false' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'quality', value: 'best' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'bgcolor', value: '#ffffff' }),
        __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('param', { name: 'flashvars', value: flashvars })
      );
    }

    /**
     * Called when the webcam stream metadata is loaded into the video element.
     * @private
     * @memberof WebcamVideoComponent
     */

  }, {
    key: '_onLoadedMetadata',
    value: function _onLoadedMetadata() {
      var _this5 = this;

      this.setState({ webcamAvailable: true }, function () {
        _this5.props.onWebcamAvailable && _this5.props.onWebcamAvailable();
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this6 = this;

      var videoComponent = this.state.useFlashFallback ? this._getFlashFallbackComponent() : __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(Video, {
        autoPlay: true,
        visible: this.state.webcamAvailable && !this.state.useFlashFallback,
        innerRef: function innerRef(e) {
          _this6._videoElement = e;
        },
        onLoadedMetadata: this._onLoadedMetadata });

      return __WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(
        'div',
        {
          style: { width: '100%', height: '100%', overflow: 'hidden' },
          ref: function ref(el) {
            _this6._container = el;
          } },
        videoComponent
      );
    }
  }]);

  return WebcamVideoComponent;
}(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

WebcamVideoComponent.propTypes = {
  flashURL: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.string,
  onWebcamAvailable: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.func,
  onWebcamError: __WEBPACK_IMPORTED_MODULE_5_prop_types___default.a.func
};
/* harmony default export */ __webpack_exports__["a"] = (WebcamVideoComponent);


var Video = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].video('145pu2m', {
  visible: 'jsuk9w'
}, 'Video');

/***/ }),
/* 304 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__library_upload_component__ = __webpack_require__(129);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem,
    PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground;

var test = ("production") === 'test';

var LargeLibraryUploadComponent = function (_LibraryUploadCompone) {
  _inherits(LargeLibraryUploadComponent, _LibraryUploadCompone);

  function LargeLibraryUploadComponent() {
    _classCallCheck(this, LargeLibraryUploadComponent);

    return _possibleConstructorReturn(this, (LargeLibraryUploadComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LargeLibraryUploadComponent)).apply(this, arguments));
  }

  _createClass(LargeLibraryUploadComponent, [{
    key: 'render',

    /**
     * Renders this component
     * @return {React.Element}
     */
    value: function render() {
      var webcamButtonStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/library/webcam.png', true) + '\')'
      };
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Background,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Row,
            null,
            __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
              DropZone,
              {
                onClick: this._onDropZoneClick,
                onDragEnter: this._onDropZoneDragEnter,
                onDragOver: this._onDropZoneDragOver,
                onDragLeave: this._onDropZoneDragLeave,
                onDrop: this._onDropZoneDrop,
                hovered: this.state.dropZoneHovered },
              __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["InvisibleUploadComponent"], {
                ref: 'upload',
                onNewFile: this._onNewFile }),
              this.state.dropZoneHovered ? this._t('editor.controls.library.fileDropZoneHovered') : this._t('editor.controls.library.fileDropZone')
            )
          ),
          !this.state.dropZoneHovered && this.props.webcamEnabled && __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Row,
            null,
            __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(WebcamButton, {
              style: webcamButtonStyle,
              className: test ? 'js-webcamButton' : undefined,
              onClick: this._onWebcamClick })
          )
        )
      );
    }
  }]);

  return LargeLibraryUploadComponent;
}(__WEBPACK_IMPORTED_MODULE_5__library_upload_component__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (LargeLibraryUploadComponent);


var Container = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).div('1xesje3', 'Container');

var Background = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).div('z914p5', 'Background');

var DropZone = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('yw0i2r', {
  hovered: '1xndhux'
}, 'DropZone');

var WebcamButton = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1jg5y1q', 'WebcamButton');

var Row = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('15u7gri', 'Row');

/***/ }),
/* 305 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__adjustments_controls_component__ = __webpack_require__(306);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




/**
 * The Controls for the Adjustments tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var AdjustmentsControls = function (_BaseControls) {
  _inherits(AdjustmentsControls, _BaseControls);

  function AdjustmentsControls() {
    _classCallCheck(this, AdjustmentsControls);

    return _possibleConstructorReturn(this, (AdjustmentsControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(AdjustmentsControls)).apply(this, arguments));
  }

  _createClass(AdjustmentsControls, null, [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {String[]} [availableAdjustments = null]
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controls
     * @type {String}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var operation = operations.getOrCreate('adjustments');

      return {
        // props
        brightness: operation.getBrightness(),
        saturation: operation.getSaturation(),
        contrast: operation.getContrast(),
        gamma: operation.getGamma(),
        exposure: operation.getExposure(),
        shadows: operation.getShadows(),
        highlights: operation.getHighlights(),
        clarity: operation.getClarity(),

        // setters / actions
        setBrightness: function setBrightness(value) {
          operation.setBrightness(value);
        },
        setSaturation: function setSaturation(value) {
          operation.setSaturation(value);
        },
        setContrast: function setContrast(value) {
          operation.setContrast(value);
        },
        setGamma: function setGamma(value) {
          operation.setGamma(value);
        },
        setExposure: function setExposure(value) {
          operation.setExposure(value);
        },
        setShadow: function setShadow(value) {
          operation.setShadow(value);
        },
        setHighlights: function setHighlights(value) {
          operation.setHighlights(value);
        },
        setClarity: function setClarity(value) {
          operation.setClarity(value);
        },

        reset: function reset() {
          operation.resetOptions();
        },

        setOperationOptions: function setOperationOptions(opts) {
          operation.set(opts);
        }
      };
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('adjustment') && editor.isToolEnabled('adjustments');
    }
  }]);

  return AdjustmentsControls;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"]);

AdjustmentsControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
AdjustmentsControls.getPreloadAssets = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].getPreloadAssets;
AdjustmentsControls.identifier = 'adjustments';
AdjustmentsControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_5__adjustments_controls_component__["a" /* default */];
AdjustmentsControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].canvasControlsComponent;
AdjustmentsControls.iconPath = 'editor/controls/adjustments/icon.png';
AdjustmentsControls.activeIconPath = 'editor/controls/adjustments/icon-active.png';
AdjustmentsControls.requiredOperations = ['adjustments'];
AdjustmentsControls.defaultOptions = {
  availableAdjustments: null };
AdjustmentsControls.updatableOperations = ['adjustments'];
AdjustmentsControls.switchToDefaultControlsOnRemoval = false;
AdjustmentsControls.SECTIONS = [{
  identifier: 'basics',
  items: ['brightness', 'saturation', 'contrast', 'gamma']
}, {
  identifier: 'refinements',
  items: ['clarity', 'exposure', 'shadows', 'highlights']
}];


__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default.a.Controls.AdjustmentsControls = AdjustmentsControls;

/* harmony default export */ __webpack_exports__["a"] = (AdjustmentsControls);

/***/ }),
/* 306 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__adjustments_list_item_component__ = __webpack_require__(307);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var ControlGroupList = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupList;

var test = ("production") === 'test';

var AdjustmentsControlsComponent = function (_ControlsComponent) {
  _inherits(AdjustmentsControlsComponent, _ControlsComponent);

  function AdjustmentsControlsComponent() {
    var _ref;

    _classCallCheck(this, AdjustmentsControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = AdjustmentsControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(AdjustmentsControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onResetDefaultClick');
    return _this;
  }

  /**
   * Checks if the given adjustment is available
   * @param  {Strin}  item
   * @return {Boolean}
   * @private
   */


  _createClass(AdjustmentsControlsComponent, [{
    key: '_isAdjustmentAvailable',
    value: function _isAdjustmentAvailable(item) {
      var availableAdjustments = this.props.options.availableAdjustments;

      if (availableAdjustments === null) return true;
      return availableAdjustments.indexOf(item) !== -1;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Called when the user clicks the 'reset default' button; resets
     * all adjustment settings to the default ones
     * @private
     */

  }, {
    key: '_onResetDefaultClick',
    value: function _onResetDefaultClick() {
      this.sharedState.reset();
      this.props.controls.addLocalHistorySnapshot('reset', true);
    }

    /**
     * Called when the value for `item` has been changed in the UI.
     * @private
     * @param {string} item
     * @memberof AdjustmentsControlsComponent
     */

  }, {
    key: '_onValueChange',
    value: function _onValueChange(item, value) {
      this.sharedState.setOperationOptions(_defineProperty({}, item, value));
      this.props.controls.addLocalHistorySnapshot(item, true);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the adjustments sections and their items.
     * @private
     */

  }, {
    key: '_renderAdjustmentsControls',
    value: function _renderAdjustmentsControls() {
      var _this2 = this;

      var makeSection = function makeSection(section) {
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["CollapseSectionComponent"],
          {
            key: section.identifier,
            title: _this2._t('editor.controls.adjustments.sections.' + section.identifier),
            alwaysExpanded: true },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SectionItemList,
            {
              className: (test ? 'js-sectionItemList-' : undefined) + section.identifier },
            makeItems(section.items)
          )
        );
      };

      var makeItems = function makeItems(items) {
        return items.filter(function (item) {
          return _this2._isAdjustmentAvailable(item);
        }).map(function (item) {
          return _this2._makeItem(item);
        });
      };

      var SECTIONS = this.props.controls.constructor.SECTIONS;

      return SECTIONS.filter(function (section) {
        return section.items.filter(function (item) {
          return _this2._isAdjustmentAvailable(item);
        }).length > 0;
      }).map(makeSection);
    }

    /**
     * Creates an adjustments item
     * @param  {Object} item
     * @return {SliderControlComponent}
     * @private
     */

  }, {
    key: '_makeItem',
    value: function _makeItem(item) {
      var value = this.sharedState[item];
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5__adjustments_list_item_component__["a" /* default */], {
        item: item,
        value: value,
        onValueChange: this._onValueChange.bind(this, item),
        className: test ? 'js-sliderControl' : undefined,
        key: item });
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-adjustmentsControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this3 = this;

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          innerListRef: function innerListRef(el) {
            _this3._list = el;
          },
          innerRef: function innerRef(el) {
            _this3._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          SectionList,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            BottomSection,
            null,
            __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ButtonComponent"], {
              title: this._t('editor.controls.adjustments.reset'),
              className: test ? 'js-adjustmentsResetDefault' : undefined,
              onClick: this._onResetDefaultClick })
          ),
          this._renderAdjustmentsControls()
        )
      );
    }
  }]);

  return AdjustmentsControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

// -------------------------------------------------------------------------- STYLES

AdjustmentsControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
AdjustmentsControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (AdjustmentsControlsComponent);
var SectionList = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupList).ul('x32ss4', 'SectionList');

var SectionItemList = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].ul('gz4y54', 'SectionItemList');

var BottomSection = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('7abnmv', 'BottomSection');

// const ScenesList = adonis(ControlGroupList).ul({
//   padding: '25px'
// })

/***/ }),
/* 307 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var AdjustmentsOperation = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default.a.Operations.AdjustmentsOperation;

var AdjustmentsListItemComponent = function (_SharedStateComponent) {
  _inherits(AdjustmentsListItemComponent, _SharedStateComponent);

  function AdjustmentsListItemComponent() {
    var _ref;

    _classCallCheck(this, AdjustmentsListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = AdjustmentsListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(AdjustmentsListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onValueChange');

    _this._option = AdjustmentsOperation.prototype.availableOptions[_this.props.item];
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   * @return {Boolean}
   */


  _createClass(AdjustmentsListItemComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return nextProps.value !== this.props.value;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the value is changed by either the input or the slider
     * @param  {Number} value
     * @private
     */

  }, {
    key: '_onValueChange',
    value: function _onValueChange(value) {
      var _option = this._option,
          minValue = _option.minValue,
          midValue = _option.midValue,
          maxValue = _option.maxValue;


      value = value < 0 ? midValue + (midValue - minValue) * value / 100 : midValue + (maxValue - midValue) * value / 100;

      this.props.onBeforeValueChange && this.props.onBeforeValueChange(value);

      var editor = this.context.editor;

      editor.render();

      this.setState({ value: value });

      this.props.onValueChange && this.props.onValueChange(value);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @private
     */

  }, {
    key: 'render',
    value: function render() {
      var _option2 = this._option,
          minValue = _option2.minValue,
          midValue = _option2.midValue,
          maxValue = _option2.maxValue;


      var value = this.props.value;

      var sliderValue = (value <= midValue ? (value - minValue) / (midValue - minValue) - 1 : (value - midValue) / (maxValue - midValue)) * 100;

      if (value === minValue) sliderValue = -100; // Poor man's 'division by zero' handling

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderControlComponent"], {
        key: this.props.item,
        label: this._t('editor.controls.adjustments.items.' + this.props.item),
        minValue: -100,
        maxValue: 100,
        value: parseInt(sliderValue),
        onSliderValueChange: this._onValueChange,
        onValueChange: this._onValueChange,
        className: this.props.className,
        middleDot: true });
    }
  }]);

  return AdjustmentsListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

AdjustmentsListItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (AdjustmentsListItemComponent);

/***/ }),
/* 308 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__brush_controls_component__ = __webpack_require__(309);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__brush_canvas_controls_component__ = __webpack_require__(311);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_array_from___default()(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var _ref = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation ? __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation : {},
    BrushSprite = _ref.BrushSprite;

/**
 * The Controls for the Brush tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */


var BrushControls = function (_BaseControls) {
  _inherits(BrushControls, _BaseControls);

  function BrushControls(context, sharedState, options) {
    _classCallCheck(this, BrushControls);

    var _this = _possibleConstructorReturn(this, (BrushControls.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BrushControls)).call(this, context, sharedState, options));

    _this._onOperationRemoved = _this._onOperationRemoved.bind(_this);
    return _this;
  }

  /**
   * A unique identifier for these controls
   * @type {String}
   */


  /**
   * The controls component for these controls
   * @type {React.Component}
   */


  /**
   * The canvas controls component for these controls
   * @type {React.Component}
   */


  /**
   * The icon path of this control
   * @type {String}
   */


  /**
   * The active icon path of this control
   * @type {String}
   */


  /**
   * The operations required for this control to work properly
   * @type {Array}
   */


  /**
   * The default options for this control
   * @type {Object}
   * @property {Object[]} [brushes = []]
   * @property {Boolean} [replaceBrushes = false]
   * @property {String[]} [availableBrushes = null]
   */


  /**
   * Operations which will trigger UI updates on this controls.
   * @type {String[]}
   * @static
   */


  /**
   * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
   *
   * @type {Boolean}
   * @static
   */


  _createClass(BrushControls, [{
    key: '_onEnter',


    /**
     * Is called when a control is entered
     * @private
     */
    value: function _onEnter() {
      var _this2 = this;

      var editor = this.context.editor;

      var operation = editor.operations.getOrCreate('sprite');
      var brushSprite = operation.createBrush();
      operation.addSprite(brushSprite);

      editor.zoom.auto(false, false, function () {
        editor.features.disable('zoom', 'drag');

        var outputDimensions = editor.getOutputDimensions();
        var brushSize = Math.max(outputDimensions.min() * 0.05, 1);
        if (_this2._options.widthPresets && _this2._options.widthPresets.length > 0) {
          brushSize = _this2._options.sizePresets[0];
        }

        _this2.sharedState.set({
          brushSize: Math.round(brushSize)
        });
      });

      this.sharedState.set({
        operation: operation,
        brushSprite: brushSprite,
        brushColor: __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Color"].WHITE,
        brushSize: 0.1,
        brushHardness: 50
      });
    }

    /**
     * Invoked when the user leaves this control
     * @private
     */

  }, {
    key: '_onLeave',
    value: function _onLeave() {
      var editor = this.context.editor;

      var operation = editor.operations.get('sprite');

      // Remove unused sprites
      if (operation) {
        var sprites = [].concat(_toConsumableArray(operation.getSprites()));
        sprites.forEach(function (sprite) {
          if (sprite instanceof BrushSprite) {
            if (sprite.getPaths().length <= 0) {
              operation.removeSprite(sprite);
            }
          }
        });
      }

      editor.features.enable('zoom', 'drag');
      editor.render();
    }

    /**
     * Gets called when an operation has been removed. If it is the same operation that
     * this control belongs to, it switches back to the overview, leaving this control
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationRemoved',
    value: function _onOperationRemoved(operation) {
      var currentOperation = this.sharedState.get('operation');
      if (operation === currentOperation) {
        // This control needs an existent operation at all times, so re-create it
        var _operation = this.context.editor.operations.getOrCreate('sprite');
        var brushSprite = _operation.createBrush();
        _operation.addSprite(brushSprite);

        this.sharedState.set({
          operation: _operation,
          brushSprite: brushSprite
        });
      }
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.getOrCreate('sprite');
      return { operation: operation };
    }
  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('brush') && editor.isToolEnabled('brush');
    }
  }]);

  return BrushControls;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"]);

BrushControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
BrushControls.getPreloadAssets = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"].getPreloadAssets;
BrushControls.identifier = 'brush';
BrushControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_7__brush_controls_component__["a" /* default */];
BrushControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_8__brush_canvas_controls_component__["a" /* default */];
BrushControls.iconPath = 'editor/controls/brush/icon.png';
BrushControls.activeIconPath = 'editor/controls/brush/icon-active.png';
BrushControls.requiredOperations = ['sprite'];
BrushControls.defaultOptions = {
  brushes: [],
  replaceBrushes: false,
  availableBrushes: null };
BrushControls.updatableOperations = ['sprite'];
BrushControls.switchToDefaultControlsOnRemoval = false;


__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default.a.Controls.BrushControls = BrushControls;

/* harmony default export */ __webpack_exports__["a"] = (BrushControls);

/***/ }),
/* 309 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__brush_list_item_component__ = __webpack_require__(310);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation;

var Brush = void 0;
if (SpriteOperation) {
  Brush = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation.BrushSprite.Brush;
}
var ControlGroupTitle = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupTitle,
    ControlGroup = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroup;


var test = ("production") === 'test';

var BrushControlsComponent = function (_ControlsComponent) {
  _inherits(BrushControlsComponent, _ControlsComponent);

  function BrushControlsComponent() {
    var _ref;

    _classCallCheck(this, BrushControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = BrushControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(BrushControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onBrushColorChanged', '_onBrushHardnessChanged', '_onBrushWidthChanged', '_onOperationUpdated');

    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.OPERATION_UPDATED, _this._onOperationUpdated);

    _this._initBrushManager();
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(BrushControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(BrushControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(BrushControlsComponent.prototype), 'componentDidMount', this).call(this);
      this._onBrushSelect(this._brushManager.getBrushes()[0]);
    }

    // -------------------------------------------------------------------------- BRUSHES

    /**
     * Initializes the brush manager
     * @private
     */

  }, {
    key: '_initBrushManager',
    value: function _initBrushManager() {
      this._brushManager = new __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["BrushManager"](this.context.ui, this.props.options);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user changes the color
     * @param  {PhotoEditorSDK.Color} color
     * @private
     */

  }, {
    key: '_onBrushColorChanged',
    value: function _onBrushColorChanged(color) {
      var brushInstance = this.getSharedState('brushInstance').clone();
      brushInstance.setColor(color.clone());

      this.setSharedState({
        brushInstance: brushInstance
      });
    }

    /**
     * Invoked when the user changes the brush hardness
     * @param  {Number} hardness
     * @private
     */

  }, {
    key: '_onBrushHardnessChanged',
    value: function _onBrushHardnessChanged(hardness) {
      var brushInstance = this.getSharedState('brushInstance').clone();
      brushInstance.setHardness(hardness / 100);

      this.setSharedState({
        brushInstance: brushInstance,
        brushHardness: Math.round(hardness)
      });
    }

    /**
     * Gets called when the shared state did change
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      if (oldState.brushSize !== newState.brushSize) {
        this._onBrushWidthChanged(newState.brushSize);
      }
    }

    /**
     * Invoked when the user changes the brush width
     * @param  {Number} width
     * @private
     */

  }, {
    key: '_onBrushWidthChanged',
    value: function _onBrushWidthChanged(width) {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var brushInstance = this.getSharedState('brushInstance').clone();
      brushInstance.setSize(width / outputDimensions.min());

      this.setSharedState({
        brushInstance: brushInstance,
        brushSize: Math.round(width)
      });
    }

    /**
     * Gets called when an operation has been updated
     * @param  {Operation} operation
     * @private
     */

  }, {
    key: '_onOperationUpdated',
    value: function _onOperationUpdated(operation) {
      var editor = this.context.editor;

      if (operation === this.getSharedState('operation')) {
        // SpriteOperation re-creates all sprites when they're mass-assigned,
        // so we need to find the new instance by matching against the previous ID
        var previousBrushSprite = this.getSharedState('brushSprite');
        if (previousBrushSprite) {
          var brushSprite = operation.getSprites().filter(function (s) {
            return s.getId() === previousBrushSprite.getId();
          })[0];
          this.setSharedState({ brushSprite: brushSprite });
        }

        // Trigger brush canvas rendering
        editor.render();
      }
    }

    /**
     * Invoked when the user selects a brush
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Brush[]|Object[]} brush
     * @private
     */

  }, {
    key: '_onBrushSelect',
    value: function _onBrushSelect(brush) {
      var _this3 = this;

      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var size = this.getSharedState('brushSize') / outputDimensions.min();
      var hardness = this.getSharedState('brushHardness') / 100;
      var color = this.getSharedState('brushColor');

      var options = {
        size: size, color: color
      };

      var brushInstance = void 0;
      if (brush.prototype && brush.prototype instanceof Brush) {
        // Custom Brush instance, used for special brushes such as radial brush, which has
        // an additional hardness option
        var BrushClass = brush;
        brushInstance = new BrushClass(options);
      } else {
        var _brush = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Utils"].extend({}, brush);
        delete _brush.image;

        var _BrushClass = function (_Brush) {
          _inherits(_BrushClass, _Brush);

          function _BrushClass() {
            _classCallCheck(this, _BrushClass);

            return _possibleConstructorReturn(this, (_BrushClass.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(_BrushClass)).apply(this, arguments));
          }

          return _BrushClass;
        }(Brush);

        _BrushClass.identifier = brush.identifier;

        // Plain JS object, used for simple image brushes
        brushInstance = new _BrushClass(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Utils"].extend({}, _brush, options));
      }

      if (brushInstance.hasOption('hardness')) {
        brushInstance.setHardness(hardness);
      }

      this._loadBrush(brush, brushInstance).then(function () {
        _this3.setSharedState({ brushInstance: brushInstance, brush: brush });
      });
    }

    /**
     * Loads the brush image for the given brush class and instance
     * @param  {Function} brush
     * @param  {PhotoEditorSDK.Operations.SpriteOperation.BrushSprite.Brush} brushInstance
     * @return {Promise}
     * @private
     */

  }, {
    key: '_loadBrush',
    value: function _loadBrush(brush, brushInstance) {
      var _this4 = this;

      return new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        if (brush.constructor === Object) {
          var image = new window.Image();
          image.addEventListener('load', function () {
            brushInstance.setImage(image);
            resolve();
          });
          image.addEventListener('error', function () {
            reject(new Error('Failed to load image at ' + image.src));
          });
          image.crossOrigin = _this4.context.editor.getCrossOrigin();
          image.src = _this4._getAssetPath(brush.image);
        } else {
          resolve();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-brushControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders the brush items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderBrushItems',
    value: function _renderBrushItems() {
      var _this5 = this;

      var brushes = this._brushManager.getBrushes();
      if (brushes.length <= 1) {
        return null;
      }
      return brushes.map(function (brush) {
        return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__brush_list_item_component__["a" /* default */], {
          key: brush.identifier,
          brush: brush,
          selected: _this5.getSharedState('brush') === brush,
          onClick: _this5._onBrushSelect.bind(_this5, brush) });
      });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this6 = this;

      var brushInstance = this.getSharedState('brushInstance');

      return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          innerListRef: function innerListRef(el) {
            _this6._list = el;
          },
          innerRef: function innerRef(el) {
            _this6._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Settings,
          null,
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SettingsTitle,
            null,
            this._t('editor.controls.brush.settings')
          ),
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
            ColorSelection,
            null,
            __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"], {
              value: this.getSharedState('brushColor'),
              onChange: this._onBrushColorChanged })
          ),
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(SliderControl, {
            label: this._t('editor.controls.brush.width'),
            minValue: 1,
            maxValue: 100,
            value: this.getSharedState('brushSize'),
            onSliderValueChange: this._onBrushWidthChanged,
            onValueChange: this._onBrushWidthChanged,
            className: test ? 'js-widthControl' : undefined
          }),
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(SliderControl, {
            label: this._t('editor.controls.brush.hardness'),
            minValue: 0,
            maxValue: 100,
            disabled: !(brushInstance && brushInstance.hasOption('hardness')),
            value: this.getSharedState('brushHardness'),
            onSliderValueChange: this._onBrushHardnessChanged,
            onValueChange: this._onBrushHardnessChanged
          })
        ),
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Brushes,
          null,
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ScrollbarComponent"],
            { direction: 'vertical' },
            __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
              BrushList,
              null,
              this._renderBrushItems()
            )
          )
        )
      );
    }
  }]);

  return BrushControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

BrushControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
BrushControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (BrushControlsComponent);


var SliderControl = Object(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["SliderControlComponent"])('6vpx1b', 'SliderControl');

var Settings = Object(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroup).div('r92vc7', 'Settings');

var SettingsTitle = Object(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupTitle).div('120drhm', 'SettingsTitle');

var ColorSelection = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].div('yzsuxp', 'ColorSelection');

var Brushes = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].div('16dil83', 'Brushes');

var BrushList = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].ul('1lb1mg4', 'BrushList');

/***/ }),
/* 310 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground;
var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation;

var Brush = void 0,
    Path = void 0;
if (SpriteOperation) {
  Brush = SpriteOperation.BrushSprite.Brush;
  Path = SpriteOperation.BrushSprite.Path;
}
var Vector2 = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Math"].Vector2;


var test = ("production") === 'test';

var BrushListItemComponent = function (_BaseComponent) {
  _inherits(BrushListItemComponent, _BaseComponent);

  function BrushListItemComponent() {
    _classCallCheck(this, BrushListItemComponent);

    return _possibleConstructorReturn(this, (BrushListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(BrushListItemComponent)).apply(this, arguments));
  }

  _createClass(BrushListItemComponent, [{
    key: '_loadBrush',

    // -------------------------------------------------------------------------- BRUSHES

    /**
     * Loads the brush image for the given brush
     * @param  {Function|Object} brush
     * @return {Promise}
     * @private
     */
    value: function _loadBrush() {
      var _this2 = this;

      var brush = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.brush;

      return new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        if (brush.constructor === Object) {
          var image = new window.Image();
          image.addEventListener('load', function () {
            _this2._brush.setImage(image);
            resolve();
          });
          image.addEventListener('error', function () {
            reject(new Error('Failed to load image at ' + image.src));
          });
          image.crossOrigin = _this2.context.editor.getCrossOrigin();
          image.src = _this2._getAssetPath(brush.image);
        } else {
          resolve();
        }
      });
    }

    /**
     * Draws the brush preview onto the preview canvas
     * @private
     */

  }, {
    key: '_drawBrush',
    value: function _drawBrush() {
      var path = new Path(null, { brush: this._brush }, this._canvas);
      path.addControlPoint(new Vector2(0.1, 0.5));
      path.addControlPoint(new Vector2(0.9, 0.5));
      path.render(new Vector2(this._canvas.width, this._canvas.height));
    }

    /**
     * Instantiates the given brush with the default options
     * @param  {Function|Object} brush
     * @private
     */

  }, {
    key: '_instantiateBrush',
    value: function _instantiateBrush() {
      var brush = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.brush;

      var defaultOptions = {
        color: __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Color"].WHITE,
        size: 0.25
      };

      if (brush.prototype && brush.prototype instanceof Brush) {
        // Custom Brush instance, used for special brushes such as radial brush, which has
        // an additional hardness option
        var BrushClass = brush;
        this._brush = new BrushClass(defaultOptions);
      } else {
        /**
         * When passing a string to a `Configurable`'s image option, it tries to create an image
         * instance from it. Since we do that manually afterwards (due to prepending the asset path)
         * we simply delete that option
         */
        var _brush = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Utils"].extend({}, brush);
        delete _brush.image;

        var _BrushClass = function (_Brush) {
          _inherits(_BrushClass, _Brush);

          function _BrushClass() {
            _classCallCheck(this, _BrushClass);

            return _possibleConstructorReturn(this, (_BrushClass.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(_BrushClass)).apply(this, arguments));
          }

          return _BrushClass;
        }(Brush);

        _BrushClass.identifier = brush.identifier;

        // Plain JS object, used for simple image brushes
        this._brush = new _BrushClass(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Utils"].extend({}, _brush, defaultOptions));
      }
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked immediately after a component is mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this4 = this;

      _get(BrushListItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(BrushListItemComponent.prototype), 'componentDidMount', this).call(this);

      this._instantiateBrush();

      var _canvas = this._canvas,
          width = _canvas.offsetWidth,
          height = _canvas.offsetHeight;


      this._canvas.width = width;
      this._canvas.height = height;

      this._loadBrush().then(function (image) {
        _this4._drawBrush();
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this5 = this;

      return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
        BrushListItem,
        {
          onClick: this.props.onClick,
          selected: this.props.selected,
          className: test ? 'js-brushListItem' : undefined,
          'data-selected': this.props.selected },
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(Canvas, { innerRef: function innerRef(el) {
            _this5._canvas = el;
          } })
      );
    }
  }]);

  return BrushListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (BrushListItemComponent);


var BrushListItem = Object(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).li('8908c2', {
  selected: '120drhm'
}, 'BrushListItem');

var Canvas = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].canvas('1ssoezr', 'Canvas');

/***/ }),
/* 311 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__ = __webpack_require__(54);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var _ref = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation ? __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation : {},
    BrushSprite = _ref.BrushSprite;

var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var BrushCanvasControlsComponent = function (_SpritesCanvasControl) {
  _inherits(BrushCanvasControlsComponent, _SpritesCanvasControl);

  function BrushCanvasControlsComponent() {
    var _ref2;

    _classCallCheck(this, BrushCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref2 = BrushCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BrushCanvasControlsComponent)).call.apply(_ref2, [this].concat(args)));

    _this._bindAll('_onMouseEnter', '_onMouseLeave', '_onMouseMove', '_onDrawStart', '_onDraw', '_onDrawStop');

    _this.state = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].extend(_this.state, {
      cursorPosition: new Vector2(0, 0),
      canvasClickDisabled: true
    });
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  _createClass(BrushCanvasControlsComponent, [{
    key: '_selectNextSprite',
    value: function _selectNextSprite() {}

    /**
     * Invoked when the user starts drawing
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @private
     */

  }, {
    key: '_onDrawStart',
    value: function _onDrawStart(position) {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();
      this._initialDrawPosition = position.clone();

      var brushSprite = this.getSharedState('brushSprite');
      var brushInstance = this.getSharedState('brushInstance');
      var operation = this.getSharedState('operation');

      if (!brushSprite) {
        brushSprite = operation.createBrush();
        operation.addSprite(brushSprite);
        this.setSharedState({ brushSprite: brushSprite });
      }

      this._currentPath = brushSprite.createPath(brushInstance);
      this._currentPath.addControlPoint(position.clone().divide(outputDimensions));

      this._lastDrawPosition = this._initialDrawPosition.clone();
      this._lastCursorPosition = this._initialDrawPosition.clone();
    }

    /**
     * Invoked while the user is drawing
     * @param  {PhotoEditorSDK.Math.Vector2} totalDistance
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @param  {PhotoEditorSDK.Math.Vector2} distance
     * @private
     */

  }, {
    key: '_onDraw',
    value: function _onDraw(totalDistance, position, distance) {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();
      var outputTextureDimensions = editor.getOutputTextureDimensions();
      var cursorPosition = this._lastCursorPosition.clone().add(distance);

      var zoom = editor.zoom.level;

      var brushSize = this.getSharedState('brushSize');
      var distanceToLastDraw = cursorPosition.clone().subtract(this._lastDrawPosition).abs().len();
      if (distanceToLastDraw / zoom >= brushSize / 10) {
        this._currentPath.addControlPoint(cursorPosition.clone().divide(outputDimensions));

        this.getSharedState('brushSprite').render(outputTextureDimensions);

        this._lastDrawPosition.copy(cursorPosition);
      }
      this._lastCursorPosition.copy(cursorPosition);
    }

    /**
     * Invoked whilewhen the user stops drawing
     * @param  {PhotoEditorSDK.Math.Vector2} distance
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @private
     */

  }, {
    key: '_onDrawStop',
    value: function _onDrawStop() {
      this._currentPath.setClosed(true);

      var editor = this.context.editor;

      var outputTextureDimensions = editor.getOutputTextureDimensions();
      this.getSharedState('brushSprite').render(outputTextureDimensions);

      this.props.controls.addLocalHistorySnapshot();

      this._currentPath = null;
    }

    /**
     * Invoked when the mouse enters the canvas
     * @private
     */

  }, {
    key: '_onMouseEnter',
    value: function _onMouseEnter() {
      this.setState({
        cursorVisible: true
      });
    }

    /**
     * Invoked when the mouse leaves the canvas
     * @private
     */

  }, {
    key: '_onMouseLeave',
    value: function _onMouseLeave() {
      this.setState({
        cursorVisible: false
      });
    }

    /**
     * Invoked while the user drags the mouse over the canvas
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onMouseMove',
    value: function _onMouseMove(e) {
      var cursorPosition = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].getEventPosition(e);
      var containerBounds = this._innerContainer.getBoundingClientRect();
      cursorPosition.subtract(containerBounds.left, containerBounds.top);

      this.setState({
        cursorPosition: cursorPosition
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the props that are passed to the item component of the given sprite
     * @param  {Sprite} sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_getPropsForSprite',
    value: function _getPropsForSprite(sprite) {
      var props = _get(BrushCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BrushCanvasControlsComponent.prototype), '_getPropsForSprite', this).call(this, sprite);
      if (sprite instanceof BrushSprite) {
        props.hideContent = false;
      }
      return props;
    }

    /**
     * Returns the stle object for the cursor
     * @return {Object}
     * @private
     */

  }, {
    key: '_getCursorStyle',
    value: function _getCursorStyle() {
      return {
        width: this.getSharedState('brushSize') + 8,
        height: this.getSharedState('brushSize') + 8,
        left: this.state.cursorPosition.x,
        top: this.state.cursorPosition.y,
        marginLeft: (this.getSharedState('brushSize') + 8) * -0.5,
        marginTop: (this.getSharedState('brushSize') + 8) * -0.5
      };
    }

    /**
     * Renders the overlay controls
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderOverlayControls',
    value: function _renderOverlayControls() {
      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
        {
          onStart: this._onDrawStart,
          onDrag: this._onDraw,
          onStop: this._onDrawStop },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          BrushCanvasControls,
          {
            onMouseEnter: this._onMouseEnter,
            onMouseLeave: this._onMouseLeave,
            onMouseMove: this._onMouseMove,
            className: test ? 'js-brushCanvasControls' : undefined },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Cursor, {
            style: this._getCursorStyle(),
            visible: this.state.cursorVisible })
        )
      );
    }
  }]);

  return BrushCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__["a" /* default */]);

BrushCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (BrushCanvasControlsComponent);


var BrushCanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1sc5z35', 'BrushCanvasControls');

var Cursor = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('y4v90o', {
  visible: '2jlos'
}, 'Cursor');

/***/ }),
/* 312 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__item_component__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_loaders_image_loader__ = __webpack_require__(22);







var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var StickerItemComponent = function (_ItemComponent) {
  _inherits(StickerItemComponent, _ItemComponent);

  function StickerItemComponent() {
    var _ref;

    _classCallCheck(this, StickerItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = StickerItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(StickerItemComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      renderAsSVG: false,
      svgAttributes: {}
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(StickerItemComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      _get(StickerItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(StickerItemComponent.prototype), 'componentDidMount', this).call(this);

      if (this.props.hideContent) return null;

      var sprite = this.props.sprite;

      if (sprite.getImage().src.match(/\w+\.svg(?=\?|$)/i) && sprite.getTintMode() !== 'none') {
        __WEBPACK_IMPORTED_MODULE_8_shared_loaders_image_loader__["a" /* default */].loadXHR(sprite.getImage().src, 'image/svg+xml').then(function (xhr) {
          var svgAttributes = xhr.responseXML.documentElement.attributes;
          var attributesObject = {};
          for (var i = 0; i < svgAttributes.length; i++) {
            var _svgAttributes$i = svgAttributes[i],
                name = _svgAttributes$i.name,
                value = _svgAttributes$i.value;

            if (name === 'xmlns:xlink') name = 'xmlnsXlink';
            attributesObject[name] = value;
          }

          var svgContent = xhr.responseText.match(/<svg\b[^>]*>([\s\S]*?)<\/svg>/im)[1];
          svgContent = svgContent.replace(/\s+?fill=["'].*?["']/ig, ''); // Make SVGs tintable

          _this2.setState({
            renderAsSVG: true,
            svgContent: svgContent,
            svgAttributes: attributesObject
          });
        });
      }
    }

    // -------------------------------------------------------------------------- SCALING

    /**
     * Invoked when the user starts scaling the item
     * @private
     */

  }, {
    key: '_onBeforeScale',
    value: function _onBeforeScale() {
      var sprite = this.props.sprite;

      this._initialOptions = {
        dimensions: sprite.getDimensions().clone()
      };
    }

    /**
     * Invoked while the user is scaling the item
     * @param {Number} scale
     * @private
     */

  }, {
    key: '_onScale',
    value: function _onScale(scale) {
      var editor = this.context.editor;
      var dimensions = this._initialOptions.dimensions;
      var sprite = this.props.sprite;

      sprite.set({
        dimensions: dimensions.clone().multiply(scale / editor.zoom.level)
      });

      this.forceUpdate();
      editor.render();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the sprite dimensions
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getSpriteDimensions',
    value: function _getSpriteDimensions() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      return sprite.getDimensions().clone().multiply(editor.zoom.level);
    }

    /**
     * Returns the style object for the item container
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContainerStyle',
    value: function _getContainerStyle() {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var sprite = this.props.sprite;

      var stickerPosition = sprite.getPosition().clone().multiply(outputDimensions);

      var degrees = sprite.getRotation() * 180 / Math.PI;
      var transform = 'rotateZ(' + degrees.toFixed(2) + 'deg)';
      var transformOrigin = '50% 50%';

      var dimensions = sprite.getDimensions().clone().multiply(editor.zoom.level);
      return {
        width: dimensions.x,
        height: dimensions.y,
        left: stickerPosition.x,
        top: stickerPosition.y,
        marginLeft: dimensions.x * -0.5,
        marginTop: dimensions.y * -0.5,
        transform: transform,
        MozTransform: transform,
        msTransform: transform,
        WebkitTransform: transform,
        transformOrigin: transformOrigin,
        MozTransformOrigin: transformOrigin,
        msTransformOrigin: transformOrigin,
        WebkitTransformOrigin: transformOrigin
      };
    }

    /**
     * Returns the style object for the content element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContentStyle',
    value: function _getContentStyle() {
      var sprite = this.props.sprite;

      var transform = 'rotateY(' + (sprite.getFlipHorizontally() ? 180 : 0) + 'deg) rotateX(' + (sprite.getFlipVertically() ? 180 : 0) + 'deg)';
      var style = {
        opacity: sprite.getAlpha(),
        transform: transform,
        MozTransform: transform,
        msTransform: transform,
        WebkitTransform: transform
      };

      if (this.state.renderAsSVG) {
        style.fill = sprite.getTintColor().toRGBA();
      }
      return style;
    }

    /**
     * Renders this item's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      if (this.props.hideContent) return null;

      var sprite = this.props.sprite;
      var svgAttributes = this.state.svgAttributes;

      return this.state.renderAsSVG ? React.createElement(SVGImage, _extends({ style: this._getContentStyle(), dangerouslySetInnerHTML: { __html: this.state.svgContent } }, svgAttributes)) : React.createElement(Image, { src: sprite.getImage().src, style: this._getContentStyle() });
    }
  }]);

  return StickerItemComponent;
}(__WEBPACK_IMPORTED_MODULE_7__item_component__["a" /* default */]);

StickerItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7__item_component__["a" /* default */].contextTypes;
StickerItemComponent.MIN_WIDTH = __WEBPACK_IMPORTED_MODULE_7__item_component__["a" /* default */].MIN_WIDTH;
/* harmony default export */ __webpack_exports__["a"] = (StickerItemComponent);


var Image = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].img('1ssoezr', 'Image');

var SVGImage = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].svg('1ssoezr', 'SVGImage');

/***/ }),
/* 313 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__item_component__ = __webpack_require__(55);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var TextItemComponent = function (_ItemComponent) {
  _inherits(TextItemComponent, _ItemComponent);

  function TextItemComponent() {
    var _ref;

    _classCallCheck(this, TextItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onTextChange', '_onBlur', '_onItemDoubleClick', '_onWidthDrag', '_onWidthDragStop');

    _this.state = {
      editing: false,
      updateBecauseIESucks: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- ITEM DRAGGING

  /**
   * Checks if this item is draggable or not
   * @return {Boolean}
   * @private
   */


  _createClass(TextItemComponent, [{
    key: '_isDraggingDisabled',
    value: function _isDraggingDisabled() {
      return _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_isDraggingDisabled', this).call(this) || this.state.editing;
    }

    // -------------------------------------------------------------------------- PUBLIC API

    /**
     * Enters the edit mode
     */

  }, {
    key: 'enterEditMode',
    value: function enterEditMode() {
      var _this2 = this;

      var editor = this.context.editor;
      var sprite = this.props.sprite;

      sprite.setVisible(false);
      editor.render();

      this.setState({ editing: true }, function () {
        if (!sprite._edited) {
          sprite.setText('');
          _this2._textField.value = '';
          sprite._edited = true;
          _this2.forceUpdate();
        }

        _this2._textField.focus();
        _this2._textField.select();
      });
    }
  }, {
    key: 'leaveEditMode',
    value: function leaveEditMode() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      sprite.setVisible(true);
      editor.render();

      this.setState({ editing: false });
    }

    // -------------------------------------------------------------------------- EVENTS

  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return true;
    }

    /**
     * Invoked when the user clicks the `take to front` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onTakeToFront',
    value: function _onTakeToFront() {
      var _get2;

      this.leaveEditMode();

      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      (_get2 = _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_onTakeToFront', this)).call.apply(_get2, [this].concat(args));
    }

    /**
     * Invoked when the user clicks the `flip horizontally` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onFlipHorizontally',
    value: function _onFlipHorizontally() {
      var _get3;

      this.leaveEditMode();

      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      (_get3 = _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_onFlipHorizontally', this)).call.apply(_get3, [this].concat(args));
    }

    /**
     * Invoked when the user clicks the `duplicate` button
     * @param {Event} event
     * @private
     */

  }, {
    key: '_onDuplicate',
    value: function _onDuplicate() {
      var _get4;

      this.leaveEditMode();

      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }

      (_get4 = _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_onDuplicate', this)).call.apply(_get4, [this].concat(args));
    }

    /**
     * Invoked when the sprite has been updated
     * @param {PhotoEditorSDK.Operations.SpriteOperation.TextSprite} text
     * @param {Object} options
     * @private
     */

  }, {
    key: '_onSpriteUpdate',
    value: function _onSpriteUpdate(text, options) {
      var _this3 = this;

      if (__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10) && options.alignment && text.getAlignment() !== options.alignment) {
        this.setState({
          updateBecauseIESucks: true
        }, function () {
          Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this3.setState({
              updateBecauseIESucks: false
            });
          });
        });
      }

      _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_onSpriteUpdate', this).call(this);
    }

    // -------------------------------------------------------------------------- WIDTH RESIZING

    /**
     * Invoked when the user starts dragging one of the width controls
     * @param  {String} side
     * @param  {PhotoEditorSDK.Math.Vector2} relativePosition
     * @param  {PhotoEditorSDK.Math.Vector2} absolutePosition
     * @private
     */

  }, {
    key: '_onWidthDragStart',
    value: function _onWidthDragStart(side, relativePosition, absolutePosition) {
      var editor = this.context.editor;
      var sprite = this.props.sprite;


      var anchor = sprite.getAnchor();

      this._imageBoundingBox = this.props.canvasControls.getImageBoundingRect();
      this._containerOffset = this.props.canvasControls.getContainerOffset();

      var spritePosition = this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x, this._imageBoundingBox.y);
      var spriteBoundingBox = sprite.getDimensions(editor.getSDK(), editor.getOutputDimensions());
      var spriteDimensions = new Vector2(spriteBoundingBox.width, spriteBoundingBox.height);

      var spriteCenterPosition = spritePosition.clone().subtract(spriteDimensions.clone().multiply(anchor)).add(spriteDimensions.clone().multiply(0.5)).round();

      var mouseDistanceFromCenter = absolutePosition.clone().subtract(this._containerOffset).subtract(spriteCenterPosition);

      this._initialScaleSettings = {
        maxWidth: sprite.getMaxWidth(),
        mouseDistanceFromCenter: mouseDistanceFromCenter
      };

      this.props.onBeforeChange && this.props.onBeforeChange();

      this.props.onCanvasClickDisabled && this.props.onCanvasClickDisabled();
    }

    /**
     * Invoked while the user is dragging one of the width controls
     * @param {PhotoEditorSDK.Math.Vector2} distance
     * @private
     */

  }, {
    key: '_onWidthDrag',
    value: function _onWidthDrag(distance) {
      var sprite = this.props.sprite;

      var textRotation = sprite.getRotation();
      var mouseDistanceFromCenter = this._initialScaleSettings.mouseDistanceFromCenter;

      var newMouseDistanceFromCenter = mouseDistanceFromCenter.clone().add(distance);

      var cos = Math.cos(textRotation);
      var sin = Math.sin(textRotation);

      var newMaxWidth = Math.max(Math.abs((newMouseDistanceFromCenter.x * cos + newMouseDistanceFromCenter.y * sin) * 2), 50) / this._imageBoundingBox.width;
      sprite.setMaxWidth(newMaxWidth);

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the user stops dragging the width controls
     * @private
     */

  }, {
    key: '_onWidthDragStop',
    value: function _onWidthDragStop() {
      this.props.onAfterChange && this.props.onAfterChange();

      this.props.onCanvasClickEnabled && this.props.onCanvasClickEnabled();
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the text area loses focus
     * @private
     */

  }, {
    key: '_onBlur',
    value: function _onBlur() {
      this.leaveEditMode();

      var sprite = this.props.sprite;

      if (sprite && sprite.getText() === '') {
        sprite.setText(this._t('editor.controls.text.defaultText'));
        sprite._edited = false;
      }
    }

    /**
     * Invoked when the user has changed the text
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onTextChange',
    value: function _onTextChange(e) {
      var sprite = this.props.sprite;

      sprite.setText(e.target.value);

      this.forceUpdate();
    }

    /**
     * Invoked when the user has double-clicked the item
     * @private
     */

  }, {
    key: '_onItemDoubleClick',
    value: function _onItemDoubleClick() {
      if (!this.props.selected) return;

      this.enterEditMode();
    }

    // -------------------------------------------------------------------------- SCALING

    /**
     * Invoked when the user starts scaling the item
     * @private
     */

  }, {
    key: '_onBeforeScale',
    value: function _onBeforeScale() {
      var sprite = this.props.sprite;

      this._initialOptions = {
        maxWidth: sprite.getMaxWidth(),
        fontSize: sprite.getFontSize()
      };
    }

    /**
     * Invoked while the user is scaling the item
     * @param {Number} scale
     * @private
     */

  }, {
    key: '_onScale',
    value: function _onScale(scale) {
      var _initialOptions = this._initialOptions,
          maxWidth = _initialOptions.maxWidth,
          fontSize = _initialOptions.fontSize;
      var sprite = this.props.sprite;

      sprite.set({
        maxWidth: maxWidth * scale,
        fontSize: fontSize * scale
      });

      var mediator = this.context.mediator;

      mediator.emit(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TEXT_SCALED, sprite);

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the style object for the item container
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContainerStyle',
    value: function _getContainerStyle() {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var sprite = this.props.sprite;

      var textPosition = sprite.getPosition().clone().multiply(outputDimensions);

      var degrees = sprite.getRotation() * 180 / Math.PI;
      var transform = 'rotateZ(' + degrees.toFixed(2) + 'deg)';
      var transformOrigin = '50% 50%';

      var maxWidth = sprite.getMaxWidth() * outputDimensions.x;
      var height = sprite.getDimensions(editor.getSDK(), outputDimensions).y;
      return {
        width: maxWidth,
        height: height,
        left: textPosition.x,
        top: textPosition.y,
        marginLeft: maxWidth * -0.5,
        marginTop: height * -0.5,
        transform: transform,
        MozTransform: transform,
        msTransform: transform,
        WebkitTransform: transform,
        transformOrigin: transformOrigin,
        MozTransformOrigin: transformOrigin,
        msTransformOrigin: transformOrigin,
        WebkitTransformOrigin: transformOrigin
      };
    }

    /**
     * Returns the style object for this sprite
     * @return {Object}
     * @private
     */

  }, {
    key: '_getTextStyle',
    value: function _getTextStyle() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      var sdk = editor.getSDK();
      var outputDimensions = editor.getOutputDimensions();
      var style = sprite.getDOMStyle(sdk, outputDimensions);

      var spritePosition = this._getAbsoluteSpritePosition();
      var dimensions = sprite.getDimensions(sdk, outputDimensions);
      style.height = Math.min(dimensions.y, outputDimensions.y - spritePosition.y + dimensions.y / 2);

      return style;
    }

    /**
     * Renders the corner knobs
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderKnobs',
    value: function _renderKnobs() {
      var _this4 = this;

      var knobs = _get(TextItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextItemComponent.prototype), '_renderKnobs', this).call(this);

      // Additionally render width controls
      ['left', 'right'].forEach(function (side) {
        var key = 'width-' + side;
        var controlProps = _defineProperty({}, side, true);
        knobs.push(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
          {
            key: key,
            onStart: _this4._onWidthDragStart.bind(_this4, side),
            onDrag: _this4._onWidthDrag,
            onStop: _this4._onWidthDragStop },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(WidthControl, controlProps)
        ));
      });

      return knobs;
    }
  }, {
    key: '_getItemControlsProps',
    value: function _getItemControlsProps() {
      return {
        onDoubleClick: this._onItemDoubleClick,
        onTouchStart: this._onItemTouchStart,
        onTouchEnd: this._onItemTouchEnd
      };
    }

    /**
     * Renders this item's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this5 = this;

      var _props = this.props,
          sprite = _props.sprite,
          selected = _props.selected;
      var _state = this.state,
          editing = _state.editing,
          updateBecauseIESucks = _state.updateBecauseIESucks;

      var content = [];

      if (!(this.props.hideContent && !this.state.editing)) {
        content.push(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(TextField, {
          key: 'text-field',
          editing: editing,
          innerRef: function innerRef(el) {
            _this5._textField = el;
          },
          style: this._getTextStyle(),
          defaultValue: sprite.getText(),
          onBlur: this._onBlur,
          onChange: this._onTextChange,
          updateBecauseIESucks: updateBecauseIESucks }));
      }

      if (!this.state.editing) {
        content.push(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DisabledOverlay, {
          key: 'disabled-overlay',
          className: test ? 'js-disabledOverlay' : undefined,
          selected: selected }));
      }
      return content;
    }
  }]);

  return TextItemComponent;
}(__WEBPACK_IMPORTED_MODULE_7__item_component__["a" /* default */]);

TextItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7__item_component__["a" /* default */].contextTypes;
TextItemComponent.MIN_WIDTH = 100;
/* harmony default export */ __webpack_exports__["a"] = (TextItemComponent);


var TextField = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].textarea('12u5t8c', {
  // http://stackoverflow.com/questions/16170034/dynamic-alignment-for-textbox-in-ie10-is-not-working
  updateBecauseIESucks: 'ckktkq',
  editing: '15kzu1c'
}, 'TextField');

var DisabledOverlay = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('8gacw5', 'DisabledOverlay');

var WidthControl = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('jqmmm4', {
  left: 'tr97e1',
  right: '1llojum'
}, 'WidthControl');

/***/ }),
/* 314 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__item_component__ = __webpack_require__(55);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var BrushItemComponent = function (_ItemComponent) {
  _inherits(BrushItemComponent, _ItemComponent);

  function BrushItemComponent() {
    _classCallCheck(this, BrushItemComponent);

    return _possibleConstructorReturn(this, (BrushItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BrushItemComponent)).apply(this, arguments));
  }

  _createClass(BrushItemComponent, [{
    key: 'componentDidMount',

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Gets called when this component has been mounted
     */
    value: function componentDidMount() {
      _get(BrushItemComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(BrushItemComponent.prototype), 'componentDidMount', this).call(this);

      var canvas = this.props.sprite.getCanvas();
      if (this._brush) {
        this._appendCanvas(canvas);
      }
    }

    /**
     * Gets called when this component is about to receive new properties
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.sprite !== this.props.sprite) {
        var canvas = this.props.sprite.getCanvas();
        canvas.parentNode.removeChild(canvas);

        if (this._brush) {
          var newCanvas = nextProps.sprite.getCanvas();
          this._appendCanvas(newCanvas);
        }
      }
    }

    /**
     * Appends and styles the given canvas
     * @param  {HTMLCanvasElement} canvas
     * @private
     */

  }, {
    key: '_appendCanvas',
    value: function _appendCanvas(canvas) {
      canvas.style.width = '100%';
      canvas.style.height = '100%';
      this._brush.appendChild(canvas);
    }

    /**
     * Renders the overlay controls
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_renderOverlayControls',
    value: function _renderOverlayControls() {
      return null;
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      if (this.props.hideContent) return null;
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(BrushItem, { innerRef: function innerRef(el) {
          _this2._brush = el;
        } });
    }
  }]);

  return BrushItemComponent;
}(__WEBPACK_IMPORTED_MODULE_6__item_component__["a" /* default */]);

/* harmony default export */ __webpack_exports__["a"] = (BrushItemComponent);


var BrushItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('8gacw5', 'BrushItem');

/***/ }),
/* 315 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__item_component__ = __webpack_require__(55);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_loaders_image_loader__ = __webpack_require__(22);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var TextDesignItemComponent = function (_ItemComponent) {
  _inherits(TextDesignItemComponent, _ItemComponent);

  function TextDesignItemComponent() {
    var _ref;

    _classCallCheck(this, TextDesignItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextDesignItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._onItemDoubleClick = function () {
      var canvasControls = _this.props.canvasControls;
      var controls = canvasControls.props.controls;


      return controls.editText();
    };

    _this.state = {};
    return _this;
  }
  /**
   * Invoked when the user starts scaling the item
   * @private
   */


  _createClass(TextDesignItemComponent, [{
    key: '_onBeforeScale',
    value: function _onBeforeScale() {
      var sprite = this.props.sprite;

      this._initialOptions = {
        width: sprite.getWidth()
      };
    }

    /**
     * Invoked while the user is scaling the item
     * @param {Number} scale
     * @private
     */

  }, {
    key: '_onScale',
    value: function _onScale(scale) {
      var editor = this.context.editor;
      var width = this._initialOptions.width;
      var sprite = this.props.sprite;

      sprite.set({
        width: width * (scale / editor.zoom.level)
      });

      this.forceUpdate();
      editor.render();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the sprite dimensions
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getSpriteDimensions',
    value: function _getSpriteDimensions() {
      var editor = this.context.editor;
      var sprite = this.props.sprite;

      return sprite.getDimensions().clone().multiply(editor.zoom.level);
    }

    /**
     * Returns the style object for the item container
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContainerStyle',
    value: function _getContainerStyle() {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var sprite = this.props.sprite;

      var stickerPosition = sprite.getPosition().clone().multiply(outputDimensions);

      var degrees = sprite.getRotation() * 180 / Math.PI;
      var transform = 'rotateZ(' + degrees.toFixed(2) + 'deg)';
      var transformOrigin = '50% 50%';

      var dimensions = sprite.getDimensions().clone().multiply(editor.zoom.level);
      return {
        width: dimensions.x,
        height: dimensions.y,
        left: stickerPosition.x,
        top: stickerPosition.y,
        marginLeft: dimensions.x * -0.5,
        marginTop: dimensions.y * -0.5,
        transform: transform,
        MozTransform: transform,
        msTransform: transform,
        WebkitTransform: transform,
        transformOrigin: transformOrigin,
        MozTransformOrigin: transformOrigin,
        msTransformOrigin: transformOrigin,
        WebkitTransformOrigin: transformOrigin
      };
    }

    /**
     * Returns the style object for the content element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getContentStyle',
    value: function _getContentStyle() {
      // const { sprite } = this.props
      // const transform = `rotateY(${sprite.getFlipHorizontally() ? 180 : 0}deg) rotateX(${sprite.getFlipVertically() ? 180 : 0}deg)`
      // const style = {
      //   opacity: sprite.getAlpha(),
      //   transform,
      //   MozTransform: transform,
      //   msTransform: transform,
      //   WebkitTransform: transform
      // }

      // if (this.state.renderAsSVG) {
      //   style.fill = sprite.getTintColor().toRGBA()
      // }
      // return style
    }
  }, {
    key: '_getItemControlsProps',
    value: function _getItemControlsProps() {
      return {
        onDoubleClick: this._onItemDoubleClick
        // onTouchStart: this._onItemTouchStart,
        // onTouchEnd: this._onItemTouchEnd
      };
    }

    /**
     * Renders this item's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      return null;
      //   if (this.props.hideContent) return null

      //   const { sprite } = this.props
      //   const { svgAttributes } = this.state
      //   return this.state.renderAsSVG
      //     ? <SVGImage style={this._getContentStyle()} dangerouslySetInnerHTML={{ __html: this.state.svgContent }} {...svgAttributes} />
      //     : <Image src={sprite.getImage().src} style={this._getContentStyle()} />
      //
    }
  }]);

  return TextDesignItemComponent;
}(__WEBPACK_IMPORTED_MODULE_5__item_component__["a" /* default */]);

TextDesignItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__item_component__["a" /* default */].contextTypes;
TextDesignItemComponent.MIN_WIDTH = __WEBPACK_IMPORTED_MODULE_5__item_component__["a" /* default */].MIN_WIDTH;
/* harmony default export */ __webpack_exports__["a"] = (TextDesignItemComponent);


var Image = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].img('1ssoezr', 'Image');

var SVGImage = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].svg('1ssoezr', 'SVGImage');

/***/ }),
/* 316 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__filter_controls_component__ = __webpack_require__(317);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





// let Filters = null
// if (Operations.FilterOperation) {
//   Filters = Operations.FilterOperation.Filters
// }

/**
 * The Controls for the Filter tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var FilterControls = function (_BaseControls) {
  _inherits(FilterControls, _BaseControls);

  function FilterControls() {
    _classCallCheck(this, FilterControls);

    return _possibleConstructorReturn(this, (FilterControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FilterControls)).apply(this, arguments));
  }

  _createClass(FilterControls, null, [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var operation = operations.getOrCreate('filter');
      return {
        // props
        intensity: operation ? operation.getIntensity() * 100 : 100,
        identifier: operation ? operation.getIdentifier() : null,
        filter: operation ? operation.filter : null,

        // setters
        setIntensity: function setIntensity(value) {
          operation && operation.setIntensity(value / 100);
        },
        setFilter: function setFilter(value) {
          operation && operation.setFilter(value);
        },
        setIdentifier: function setIdentifier(value) {
          operation && operation.setIdentifier(value);
        },
        setOperationOptions: function setOperationOptions(opts) {
          operation.set(opts);
        }
      };
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Object[]} [categories = []]
     * @property {Boolean} [replaceCategories = false]
     * @property {String[]} [availableFilters = null]
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controls
     * @type {String}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolEnabled('filter') && editor.isToolAllowed('filter');
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      var assets = [];

      var options = editor.getOptions();
      var filterOptions = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Utils"].defaults(options.editor.controlsOptions.filter, this.defaultOptions);

      // Add ratios
      var filterManager = new __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["FilterManager"](editor.getUI(), filterOptions);
      var allFilters = filterManager.getFiltersForCategory('all');

      allFilters.forEach(function (filter) {
        if (typeof filter.lutImage !== 'undefined') {
          assets.push([filter.lutImage, false]);
        }
      });

      return assets;
    }
  }]);

  return FilterControls;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"]);

FilterControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
FilterControls.identifier = 'filter';
FilterControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_6__filter_controls_component__["a" /* default */];
FilterControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"].canvasControlsComponent;
FilterControls.iconPath = 'editor/controls/filter/icon.png';
FilterControls.activeIconPath = 'editor/controls/filter/icon-active.png';
FilterControls.requiredOperations = ['filter', 'transform'];
FilterControls.updatableOperations = ['filter'];
FilterControls.switchToDefaultControlsOnRemoval = false;
FilterControls.defaultOptions = {
  categories: [],
  replaceCategories: false,
  availableFilters: null };


__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default.a.Controls.FilterControls = FilterControls;

/* harmony default export */ __webpack_exports__["a"] = (FilterControls);

/***/ }),
/* 317 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_shared_async_promise_queue__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_shared_async_animation_frame__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__filter_list_item_component__ = __webpack_require__(318);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__filter_preview_renderer__ = __webpack_require__(319);







var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */








var IdentityFilter = void 0;
if (__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].FilterOperation) {
  IdentityFilter = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].FilterOperation.Filters.IdentityFilter;
}
var test = ("production") === 'test';

var FilterControlsComponent = function (_ControlsComponent) {
  _inherits(FilterControlsComponent, _ControlsComponent);

  function FilterControlsComponent() {
    var _ref;

    _classCallCheck(this, FilterControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FilterControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(FilterControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onIntensityChanged', '_onListScroll');

    var _this$context = _this.context,
        ui = _this$context.ui,
        editor = _this$context.editor,
        theme = _this$context.theme;


    _this._loadedFilters = [];
    _this._filterPreviewRenderer = new __WEBPACK_IMPORTED_MODULE_11__filter_preview_renderer__["a" /* default */](editor);
    _this._renderQueue = new __WEBPACK_IMPORTED_MODULE_8_shared_async_promise_queue__["a" /* default */](1, Infinity, theme.listItemSlideInDelay);
    _this._filterManager = new __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["FilterManager"](ui, _this.props.options);
    _this._filterPreviewQueue = [];

    _this._filterPreviews = [];
    _this._category = 'all';
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * @return {Promise}
   */


  _createClass(FilterControlsComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return _get(FilterControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(FilterControlsComponent.prototype), 'fixStyles', this).call(this).then(function () {
        _this2._onListScroll();
      });
    }

    /**
     * Gets called when this component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this3 = this;

      _get(FilterControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(FilterControlsComponent.prototype), 'componentDidMount', this).call(this);

      this._filterPreviewRenderer.init();

      this._renderPreviewsAnimationFrame = Object(__WEBPACK_IMPORTED_MODULE_9_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
        _this3._renderPreviews();
      });
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(FilterControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(FilterControlsComponent.prototype), 'componentWillUnmount', this).call(this);
      if (this._renderPreviewsAnimationFrame) {
        Object(__WEBPACK_IMPORTED_MODULE_9_shared_async_animation_frame__["a" /* cancelAnimationFrame */])(this._renderPreviewsAnimationFrame);
      }

      this._renderQueue.dispose();
      this._filterPreviewRenderer.dispose();
      this._disposed = true;
      window.clearInterval(this._interval);
    }

    // -------------------------------------------------------------------------- PREVIEW RENDERING

    /**
     * Renders all filter previews
     * @private
     */

  }, {
    key: '_renderPreviews',
    value: function _renderPreviews() {
      var _this4 = this;

      var editor = this.context.editor;

      var renderer = editor.getSDK().getRenderer();

      var filters = this._getVisibleFilters().filter(function (filter) {
        return _this4._loadedFilters.indexOf(filter) === -1;
      });

      if (renderer.isOfType(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default.a.RendererType.WEBGL)) {
        filters.forEach(function (filter) {
          _this4._loadedFilters.push(filter);
          _this4._renderQueue.add(function () {
            return _this4._filterManager.instantiateFilterWithIdentifier(filter.identifier).then(function (filterInstance) {
              if (_this4._disposed) return;

              return _this4._filterPreviewRenderer.render(filterInstance).then(function (previewUrl) {
                _this4._filterPreviews[filter.identifier] = previewUrl;
                _this4.forceUpdate();
              });
            });
          });
        });
      } else {
        this._loadedFilters = this._loadedFilters.concat(filters);
        filters.forEach(function (filter) {
          _this4._renderQueue.add(function () {
            return new __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_promise___default.a(function (resolve) {
              _this4._filterPreviews[filter.identifier] = _this4._getAssetPath('editor/controls/filter/filters/' + filter.identifier + '.png', true);
              _this4.forceUpdate();
              resolve();
            });
          });
        });
      }
    }

    /**
     * Returns the filters that are currently being rendered on screen
     * @return {PhotoEditorSDK.Filter[]}
     * @private
     */

  }, {
    key: '_getVisibleFilters',
    value: function _getVisibleFilters() {
      var filters = [IdentityFilter].concat(this._filterManager.getFiltersForCategory(this._category));
      var visibleFilters = [];
      var containerRect = this._container.getBoundingClientRect();
      for (var i = 0, l = filters.length; i < l; i++) {
        var filter = filters[i];
        var element = this.refs['filter-' + filter.identifier].container;
        var elementRect = element.getBoundingClientRect();
        var visible = !(elementRect.top > containerRect.bottom + containerRect.height || elementRect.bottom < containerRect.top);
        if (visible) {
          visibleFilters.push(filter);
        } else if (visibleFilters.length) {
          break;
        }
      }
      return visibleFilters;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the list is scrolling
     * @param  {Number} position
     * @private
     */

  }, {
    key: '_onListScroll',
    value: function _onListScroll(position) {
      this._renderPreviews();
    }

    /**
     * Gets called when a filter item is clicked
     * @param {Object} identifier
     * @private
     */

  }, {
    key: '_onItemClick',
    value: function _onItemClick(identifier) {
      var _this5 = this;

      if (this.sharedState.identifier === identifier) {
        return;
      }

      this._filterManager.instantiateFilterWithIdentifier(identifier).then(function (filter) {
        _this5.sharedState.setOperationOptions({
          filter: filter,
          identifier: identifier,
          intensity: 1
        });

        var editor = _this5.context.editor;

        editor.render();
      });
    }

    /**
     * Gets called when the filter intensity has been changed
     * @param  {Number} value
     * @private
     */

  }, {
    key: '_onIntensityChanged',
    value: function _onIntensityChanged(value) {
      this.sharedState.setIntensity(value);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the list items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this6 = this;

      var filters = this._filterManager.getFiltersForCategory(this._category);

      var currentFilterIdentifier = this.sharedState.identifier;
      var intensity = this.sharedState.intensity;
      var filterPreviews = this._filterPreviews;

      return [IdentityFilter].concat(filters).map(function (filter, index) {
        var identifier = filter.identifier;

        var loading = !filterPreviews[identifier] && index === _this6._loadedFilters.length;
        var selected = identifier === currentFilterIdentifier;

        return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ListItemContainer,
          {
            key: identifier,
            'data-selected': selected,
            'data-identifier': identifier,
            className: test ? 'js-filterListItem' : undefined },
          __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_10__filter_list_item_component__["a" /* default */], {
            ref: 'filter-' + identifier,
            filter: filter,
            identifier: identifier,
            lastChild: filter === filters[filters.length - 1],
            onClick: _this6._onItemClick.bind(_this6, identifier),
            selected: selected,
            intensity: intensity,
            displaySlider: filter !== IdentityFilter,
            onIntensityChanged: _this6._onIntensityChanged,
            visible: !!filterPreviews[identifier],
            previewUrl: filterPreviews[identifier] }),
          loading && __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(LoadingIndicator, null)
        );
      });
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-filterControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this7 = this;

      return __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          onScroll: this._onListScroll,
          innerRef: function innerRef(el) {
            _this7._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["React"].createElement(
          List,
          null,
          this._renderListItems()
        )
      );
    }
  }]);

  return FilterControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

FilterControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
FilterControlsComponent.propTypes = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"].propTypes;
FilterControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (FilterControlsComponent);


var List = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].ul('9uviv9', 'List');

var ListItemContainer = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"].li('13hv8io', 'ListItemContainer');

var LoadingIndicator = Object(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk_desktop_ui_core__["LoadingIndicatorComponent"])('11ztmqh', 'LoadingIndicator');

/***/ }),
/* 318 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var ControlItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemActiveOverlay = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemActiveOverlay,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;

var FilterListItemComponent = function (_BaseComponent) {
  _inherits(FilterListItemComponent, _BaseComponent);

  function FilterListItemComponent() {
    var _ref;

    _classCallCheck(this, FilterListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FilterListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FilterListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      hovered: false
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before rendering when new props or state are being received
   * @param {Object} nextProps
   * @param {Object} nextState
   * @return {Boolean}
   */


  _createClass(FilterListItemComponent, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (this.props.previewUrl !== nextProps.previewUrl || this.props.selected !== nextProps.selected || this.props.visible !== nextProps.visible || this.state.hovered !== nextState.hovered || this.props.filter !== nextProps.filter) {
        return true;
      }

      if (this.props.intensity !== nextProps.intensity) {
        if (nextProps.selected) {
          return true;
        }
      }

      return false;
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          lastChild = _props.lastChild,
          onClick = _props.onClick,
          onIntensityChanged = _props.onIntensityChanged,
          selected = _props.selected,
          intensity = _props.intensity,
          displaySlider = _props.displaySlider,
          visible = _props.visible,
          filter = _props.filter;

      var image = null;
      if (this.props.previewUrl) {
        image = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Preview, { src: this.props.previewUrl });
      }

      var transitionDuration = this.context.theme.transitionDuration;


      var itemProps = { lastChild: lastChild, onClick: onClick, visible: visible };
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Item,
        _extends({}, itemProps, {
          animated: true,
          innerRef: function innerRef(el) {
            _this2._container = el;
          },
          onMouseEnter: function onMouseEnter() {
            return _this2.setState({ hovered: true });
          },
          onMouseLeave: function onMouseLeave() {
            return _this2.setState({ hovered: false });
          } }),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ItemContainer,
          {
            selected: selected },
          image,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Transition"],
            {
              active: selected && displaySlider,
              enterProp: 'rendered',
              enterDuration: transitionDuration * 1000,
              appearProp: 'visible',
              appearDuration: transitionDuration * 1000,
              leaveDuration: transitionDuration * 1000 },
            selected && displaySlider && __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Slider,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderComponent"], {
                minValue: 0,
                maxValue: 100,
                valueUnit: '',
                middleDot: false,
                value: intensity,
                onChange: onIntensityChanged })
            )
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            ItemTitle,
            { hovered: this.state.hovered },
            this._t('editor.controls.filter.filters.' + filter.identifier) || filter.defaultName
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Transition"],
            {
              active: selected,
              enterProp: 'rendered',
              enterDuration: transitionDuration * 1000,
              appearProp: 'visible',
              appearDuration: transitionDuration * 1000,
              leaveDuration: transitionDuration * 1000 },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Overlay, { selected: selected })
          )
        )
      );
    }

    /**
     * Returns this component's container
     * @return {React.Element}
     */

  }, {
    key: 'container',
    get: function get() {
      return this._container;
    }
  }]);

  return FilterListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

FilterListItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FilterListItemComponent);


var Item = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).div('120drhm', {
  lastChild: '229bd5'
}, 'Item');

var Slider = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('19g9ike', {
  visible: 'zgbg08',
  rendered: '2jlos'
}, 'Slider');

var ItemContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('rf12k1', 'ItemContainer');

var ItemTitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).span('hpn4lp', 'ItemTitle');

var Preview = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].img('3x5zfy', 'Preview');

var Overlay = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemActiveOverlay).div('120drhm', 'Overlay');

/***/ }),
/* 319 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__);


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var Vector2 = __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk__["Math"].Vector2;

var PREVIEW_DIMENSIONS = new Vector2(180, 80);

var FilterPreviewRenderer = function () {
  function FilterPreviewRenderer(editor) {
    _classCallCheck(this, FilterPreviewRenderer);

    this._editor = editor;
    this._disposed = false;
  }

  /**
   * Initializes the filter preview renderer
   */


  _createClass(FilterPreviewRenderer, [{
    key: 'init',
    value: function init() {
      this._initSDK();
    }

    /**
     * Renders and returns a preview for the given filter
     * @param  {PhotoEditorSDK.Filter} filter
     * @return {Promise}
     * @private
     */

  }, {
    key: 'render',
    value: function render(filter) {
      var _this = this;

      this._filterOperation.setFilter(filter);
      return this._sdk.render().then(function () {
        var canvas = _this._sdk.getCanvas();
        return canvas.toDataURL('image/png');
      });
    }

    /**
     * Initializes the SDK
     * @private
     */

  }, {
    key: '_initSDK',
    value: function _initSDK() {
      var options = this._editor.getOptions();
      var logLevel = options.logLevel,
          debug = options.debug,
          license = options.license;
      var _options$editor = options.editor,
          smoothDownscaling = _options$editor.smoothDownscaling,
          smoothUpscaling = _options$editor.smoothUpscaling,
          preferredRenderer = _options$editor.preferredRenderer;

      var editorSDK = this._editor.getSDK();
      var exifOperation = editorSDK.getOperationsStack().getByIdentifier('exif-orientation');
      var rendererOptions = {
        logLevel: logLevel,
        debug: debug,
        pixelRatio: 1,
        smoothDownscaling: smoothDownscaling,
        smoothUpscaling: smoothUpscaling,
        transparent: true,
        license: license,
        image: this._editor.getSDK().getImage(),
        renderMode: 'export',
        versionCheck: false,
        displayWelcomeMessage: false
      };
      this._sdk = new __WEBPACK_IMPORTED_MODULE_1_photoeditorsdk___default.a(preferredRenderer, rendererOptions);
      this._sdk.resizeTo(PREVIEW_DIMENSIONS);
      this._filterOperation = this._sdk.createOperation('filter');

      if (exifOperation) {
        this._sdk.createOperation('exif-orientation', exifOperation.serializeOptions());
      }

      this._transformOperation = this._sdk.createOperation('transform');

      var _calculateTransformOp = this._calculateTransformOptions(),
          start = _calculateTransformOp.start,
          end = _calculateTransformOp.end,
          textureScale = _calculateTransformOp.textureScale;

      this._transformOperation.set({ start: start, end: end, textureScale: textureScale });

      this._sdk.render();
    }

    /**
     * Calculates the options for our transform operation
     * @return {Object}
     * @private
     */

  }, {
    key: '_calculateTransformOptions',
    value: function _calculateTransformOptions() {
      var inputDimensions = this._transformOperation.getInputDimensions();
      var ratio = inputDimensions.x / inputDimensions.y;

      var start = new Vector2();
      var end = new Vector2();

      var outputRatio = PREVIEW_DIMENSIONS.x / PREVIEW_DIMENSIONS.y;
      if (ratio <= outputRatio) {
        var height = 1 / inputDimensions.y * (inputDimensions.x / outputRatio);
        start.set(0, (1.0 - height) / 2);
        end.set(1.0, 1 - start.y);
      } else {
        var width = 1 / inputDimensions.x * (outputRatio * inputDimensions.y);
        start.set((1 - width) / 2, 0);
        end.set(1 - start.x, 1.0);
      }

      var size = end.clone().subtract(start);
      var transformedDimensions = inputDimensions.clone().multiply(size);
      var textureScale = PREVIEW_DIMENSIONS.x / transformedDimensions.x;
      return { dimensions: PREVIEW_DIMENSIONS, start: start, end: end, textureScale: textureScale };
    }

    /**
     * Disposes this renderer
     */

  }, {
    key: 'dispose',
    value: function dispose() {
      if (this._sdk) {
        this._sdk.dispose();
      }
    }

    /**
     * Checks if the renderer is disposed
     * @return {Boolean}
     */

  }, {
    key: 'isDisposed',
    value: function isDisposed() {
      return this._disposed;
    }
  }]);

  return FilterPreviewRenderer;
}();

/* harmony default export */ __webpack_exports__["a"] = (FilterPreviewRenderer);

/***/ }),
/* 320 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__focus_list_item_component__ = __webpack_require__(321);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__index__ = __webpack_require__(131);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var FocusControlsComponent = function (_ControlsComponent) {
  _inherits(FocusControlsComponent, _ControlsComponent);

  function FocusControlsComponent() {
    var _ref;

    _classCallCheck(this, FocusControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FocusControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FocusControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onBlurRadiusChanged');
    return _this;
  }

  // -------------------------------------------------------------------------- ITEM SELECTION

  /**
   * Checks if the given focus mode is available
   * @param  {String}  identifier
   * @return {Boolean}
   * @private
   */


  _createClass(FocusControlsComponent, [{
    key: '_isModeAvailable',
    value: function _isModeAvailable(identifier) {
      var availableModes = this.props.options.availableModes;

      if (identifier === 'none' || availableModes === null) return true;

      return availableModes.indexOf(identifier) !== -1;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when an item has been clicked
     * @param  {Object} item
     * @param  {Boolean} createOperation = true
     * @param  {Boolean} initial = false
     * @private
     */

  }, {
    key: '_onItemClick',
    value: function _onItemClick(item) {
      var createOperation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var initial = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

      this.sharedState.setSelectedFocus(item);
    }

    /**
     * Gets called when the filter intensity has been changed
     * @param  {Number} value
     * @private
     */

  }, {
    key: '_onBlurRadiusChanged',
    value: function _onBlurRadiusChanged(value) {
      this.sharedState.setBlurRadius(value);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the list items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this2 = this;

      var controls = this.props.controls;


      var operationIdentifier = this.sharedState.operationIdentifier;
      var selectedFocus = this.sharedState.selectedFocus;
      var blurRadius = this.sharedState.blurRadius;

      return controls.constructor.ITEMS.filter(function (item) {
        return _this2._isModeAvailable(item.identifier);
      }).map(function (item) {
        var backgroundImagePath = _this2._getAssetPath(item.backgroundImagePath, true);
        var activeBackgroundImagePath = _this2._getAssetPath(item.activeBackgroundImagePath, true);
        var selected = item.identifier === selectedFocus;
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5__focus_list_item_component__["a" /* default */], {
          key: item.identifier,
          title: _this2._t('editor.controls.focus.items.' + item.identifier),
          selected: selected,
          showSlider: !!operationIdentifier,
          blurRadius: blurRadius,
          onBlurRadiusChanged: _this2._onBlurRadiusChanged,
          backgroundImagePath: backgroundImagePath,
          activeBackgroundImagePath: activeBackgroundImagePath,
          onClick: _this2._onItemClick.bind(_this2, item, true, false) });
      }, this);
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-focusControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this3 = this;

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          innerListRef: function innerListRef(el) {
            _this3._list = el;
          },
          innerRef: function innerRef(el) {
            _this3._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          List,
          null,
          this._renderListItems()
        )
      );
    }
  }]);

  return FocusControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

// -------------------------------------------------------------------------- STYLES

FocusControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
FocusControlsComponent.propTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"].propTypes;
FocusControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (FocusControlsComponent);
var List = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].ul('1snluvd', 'List');

/***/ }),
/* 321 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var ControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle,
    ControlItemActiveOverlay = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemActiveOverlay;


var test = ("production") === 'test';

var FocusListItemComponent = function (_SharedStateComponent) {
  _inherits(FocusListItemComponent, _SharedStateComponent);

  function FocusListItemComponent() {
    var _ref;

    _classCallCheck(this, FocusListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FocusListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FocusListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onSliderValueChanged');
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Gets called when the slider value has been changed
   * @param  {Number} value
   * @private
   */


  _createClass(FocusListItemComponent, [{
    key: '_onSliderValueChanged',
    value: function _onSliderValueChanged(value) {
      var onBlurRadiusChanged = this.props.onBlurRadiusChanged;

      var inputDimensions = this.sharedState.inputDimensions;
      var shortestSide = inputDimensions.min();
      onBlurRadiusChanged && onBlurRadiusChanged(value / shortestSide);
    }

    /**
     * Renders the slider if necessary
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_renderSlider',
    value: function _renderSlider() {
      var _props = this.props,
          selected = _props.selected,
          showSlider = _props.showSlider,
          blurRadius = _props.blurRadius;

      if (!(selected && showSlider)) return null;

      var inputDimensions = this.sharedState.inputDimensions;
      var maxBlurRadius = Math.min(180, Math.round(inputDimensions.min() * 0.1));
      var shortestSide = inputDimensions.min();

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SliderComponent"], {
        minValue: 0,
        maxValue: maxBlurRadius,
        valueUnit: '',
        middleDot: false,
        value: blurRadius * shortestSide,
        onChange: this._onSliderValueChanged });
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          title = _props2.title,
          backgroundImagePath = _props2.backgroundImagePath,
          activeBackgroundImagePath = _props2.activeBackgroundImagePath,
          selected = _props2.selected,
          onClick = _props2.onClick,
          showSlider = _props2.showSlider;

      var listItemStyle = {
        backgroundImage: 'url(\'' + (selected ? activeBackgroundImagePath : backgroundImagePath) + '\')'
      };

      var transitionDuration = this.context.theme.transitionDuration;


      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        ListItem,
        {
          selected: selected,
          'data-selected': selected,
          className: test ? 'js-focusListItem' : undefined,
          onClick: onClick,
          style: listItemStyle },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ListItemTitle,
          { selected: selected, withSlider: selected && showSlider },
          title
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Slider,
          { visible: selected && showSlider },
          this._renderSlider()
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: selected,
            enterProp: 'rendered',
            enterDuration: transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: transitionDuration * 1000,
            leaveDuration: transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(ListItemOverlay, { selected: true })
        )
      );
    }
  }]);

  return FocusListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

FocusListItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FocusListItemComponent);


var ListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).li('19qom6j', 'ListItem');

var ListItemTitle = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).div('1cwztpc', {
  selected: '2znik8',
  withSlider: 'fsvvyb'
}, 'ListItemTitle');

var ListItemOverlay = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemActiveOverlay).div('rctda3', 'ListItemOverlay');

var Slider = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('chwlso', {
  visible: 'vpr3tu'
}, 'Slider');

/***/ }),
/* 322 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__radial_focus_canvas_controls_component__ = __webpack_require__(323);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__linear_focus_canvas_controls_component__ = __webpack_require__(324);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mirrored_focus_canvas_controls_component__ = __webpack_require__(325);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */







var FocusCanvasControlsComponent = function (_CanvasControlsCompon) {
  _inherits(FocusCanvasControlsComponent, _CanvasControlsCompon);

  function FocusCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, FocusCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FocusCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FocusCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onZoomDone');
    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone);

    _this.state = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Utils"].extend(_this.state, { zoomDone: false });
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the editor has done zooming
   * @private
   */


  _createClass(FocusCanvasControlsComponent, [{
    key: '_onZoomDone',
    value: function _onZoomDone() {
      this.setState({ zoomDone: true });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the controls
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderControls',
    value: function _renderControls() {
      var selectedFocus = this.sharedState.selectedFocus;

      var CanvasControls = void 0;
      switch (selectedFocus) {
        case 'radial':
          CanvasControls = __WEBPACK_IMPORTED_MODULE_6__radial_focus_canvas_controls_component__["a" /* default */];
          break;
        case 'linear':
          CanvasControls = __WEBPACK_IMPORTED_MODULE_7__linear_focus_canvas_controls_component__["a" /* default */];
          break;
        case 'mirrored':
          CanvasControls = __WEBPACK_IMPORTED_MODULE_8__mirrored_focus_canvas_controls_component__["a" /* default */];
          break;
        default:
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement('div', null);
      }

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(CanvasControls, { zoomDone: this.state.zoomDone });
    }
  }]);

  return FocusCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"]);

FocusCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FocusCanvasControlsComponent);

/***/ }),
/* 323 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__ = __webpack_require__(15);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var KnobStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].Knob,
    FullContainerStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].FullContainer;
var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2,
    Rectangle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Rectangle;


var test = ("production") === 'test';

var RadialFocusCanvasControlsComponent = function (_SharedStateComponent) {
  _inherits(RadialFocusCanvasControlsComponent, _SharedStateComponent);

  function RadialFocusCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, RadialFocusCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = RadialFocusCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(RadialFocusCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onCircleDragStart', '_onCircleDrag', '_onKnobDragStart', '_onKnobDrag', '_onZoomDone');

    _this.state = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].extend(_this.state, {
      circlePosition: new Vector2(),
      circleDimensions: new Vector2(),
      knobPosition: new Vector2(),
      visible: false
    });
    _this._knobChangedManually = false;

    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone);

    if (_this.props.zoomDone) {
      Object(__WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
        _this._onZoomDone();
      });
    }
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after the component has been mounted
   */


  _createClass(RadialFocusCanvasControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(RadialFocusCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(RadialFocusCanvasControlsComponent.prototype), 'componentDidMount', this).call(this);

      this._updateOnCanvasControls();
      this._updatePositionsAndDimensions();
    }
  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      if (!this._operation || !newState.operation) {
        return;
      }

      if (this._operation !== newState.operation && this._operation.constructor === newState.operation.constructor) {
        newState.operation.set(this._operation.serializeOptions());
        this._operation = newState.operation;
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called after a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      if (!this.state.visible) {
        this.state.visible = true;
      }
      this._updateOnCanvasControls();
      this._updatePositionsAndDimensions();
    }

    // -------------------------------------------------------------------------- CENTER DRAGGING

    /**
     * Gets called when the user stars dragging the circle
     * @private
     */

  }, {
    key: '_onCircleDragStart',
    value: function _onCircleDragStart() {
      this._initialPosition = this.sharedState.radialFocus.position.clone();
      this._initialKnobPosition = this.state.knobPosition.clone();
    }

    /**
     * Gets called while the user drags the circle
     * @param {Vector2} offset
     * @private
     */

  }, {
    key: '_onCircleDrag',
    value: function _onCircleDrag(offset) {
      var editor = this.context.editor;


      var outputDimensions = editor.getOutputDimensions();
      var relativeOffset = offset.clone().divide(outputDimensions);
      var newPosition = this._initialPosition.clone().add(relativeOffset);

      var newKnobPosition = this._initialKnobPosition.clone().add(offset);

      this.sharedState.setPosition(newPosition);

      this.state.knobPosition = newKnobPosition;

      editor.render();
      this._updatePositionsAndDimensions();
    }

    // -------------------------------------------------------------------------- KNOB DRAG

    /**
     * Gets called when the user stars dragging the gradient knob
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(e) {
      this._knobChangedManually = true;
      this._initialKnobPosition = this.state.knobPosition.clone();
    }

    /**
     * Gets called while the user drags the gradient knob
     * @param {Vector2} offset
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(offset) {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var newKnobPosition = this._initialKnobPosition.clone().add(offset).clamp(new Vector2(0, 0), outputDimensions);

      var position = this.sharedState.radialFocus.position.clone().multiply(outputDimensions);

      var radius = newKnobPosition.clone().subtract(position).abs().len();
      var gradientRadius = radius / 2;

      this.setState({
        knobPosition: newKnobPosition,
        circleDimensions: new Vector2(radius * 2, radius * 2)
      });
      this.sharedState.setOperationOptions({
        radius: radius / outputDimensions.min(),
        gradientRadius: gradientRadius / outputDimensions.min()
      });

      editor.render();
    }

    // -------------------------------------------------------------------------- CALCULATION

    /**
     * Sets the dimensions and position values from the current operation options
     * @private
     */

  }, {
    key: '_updatePositionsAndDimensions',
    value: function _updatePositionsAndDimensions() {
      var editor = this.context.editor;


      var outputDimensions = editor.getOutputDimensions();
      var position = this.sharedState.radialFocus.position.clone().multiply(outputDimensions);

      var radius = this.sharedState.radialFocus.radius * outputDimensions.min();
      var diameter = radius * 2;
      var areaSize = new Vector2(diameter, diameter);

      var newState = {
        circleDimensions: areaSize,
        circlePosition: position
      };

      if (!this._knobChangedManually) {
        newState.knobPosition = position.clone().add(radius, 0);
      }

      this.setState(newState);
    }

    /**
     * Updates the styles for the canvas controls
     * @private
     */

  }, {
    key: '_updateOnCanvasControls',
    value: function _updateOnCanvasControls() {
      var editor = this.context.editor;

      var imageBounds = editor.getSDK().getSprite().getBounds();
      var containerBounds = this._container.getBoundingClientRect();
      var editorBounds = this.context.appComponent.getBounds();

      var onCanvasControlsRect = new Rectangle(Math.floor(imageBounds.x - (containerBounds.left - editorBounds.left)), Math.floor(imageBounds.y - (containerBounds.top - editorBounds.top)), Math.ceil(imageBounds.width) + 1, Math.ceil(imageBounds.height) + 1);

      __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].styleElement(this._onCanvasControls, {
        left: onCanvasControlsRect.x + 'px',
        top: onCanvasControlsRect.y + 'px',
        width: onCanvasControlsRect.width + 'px',
        height: onCanvasControlsRect.height + 'px'
      });

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * Returns the styles object for the circle div
     * @return {Object}
     * @private
     */

  }, {
    key: '_getCircleStyles',
    value: function _getCircleStyles() {
      return {
        width: this.state.circleDimensions.x,
        height: this.state.circleDimensions.y,
        left: this.state.circlePosition.x,
        top: this.state.circlePosition.y,
        marginLeft: this.state.circleDimensions.x * -0.5,
        marginTop: this.state.circleDimensions.y * -0.5
      };
    }

    /**
     * Returns the CSS styles for the knob
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: this.state.knobPosition.x,
        top: this.state.knobPosition.y
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        CanvasControls,
        { innerRef: function innerRef(el) {
            _this2._container = el;
          } },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: this.state.visible,
            enterProp: 'rendered',
            enterDuration: this.context.theme.transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: this.context.theme.transitionDuration * 1000,
            leaveDuration: this.context.theme.transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            OnCanvasControls,
            { innerRef: function innerRef(el) {
                _this2._onCanvasControls = el;
              } },
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
              {
                onStart: this._onCircleDragStart,
                onDrag: this._onCircleDrag },
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Circle, {
                className: test ? 'js-radialFocusDraggableCircle' : undefined,
                style: this._getCircleStyles() })
            ),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
              {
                onStart: this._onKnobDragStart,
                onDrag: this._onKnobDrag },
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Knob, {
                className: test ? 'js-radialFocusDraggableKnob' : undefined,
                style: this._getKnobStyle() })
            )
          )
        )
      );
    }
  }]);

  return RadialFocusCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

RadialFocusCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (RadialFocusCanvasControlsComponent);


var CanvasControls = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(FullContainerStyle).div('1rineb', 'CanvasControls');

var OnCanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('12e79nm', {
  rendered: '2jlos',
  visible: 'zgbg08'
}, 'OnCanvasControls');

var Knob = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(KnobStyle).div('120drhm', 'Knob');

var Circle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('kgwi8g', 'Circle');

/***/ }),
/* 324 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__ = __webpack_require__(15);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var KnobStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].Knob,
    FullContainerStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].FullContainer;
var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2,
    Rectangle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Rectangle;


var test = ("production") === 'test';

var LinearFocusCanvasControlsComponent = function (_SharedStateComponent) {
  _inherits(LinearFocusCanvasControlsComponent, _SharedStateComponent);

  function LinearFocusCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, LinearFocusCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LinearFocusCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LinearFocusCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onKnobDragStart', '_onKnobDrag', '_onZoomDone');

    _this.state = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].extend(_this.state, {
      visible: false
    });

    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone);

    if (_this.props.zoomDone) {
      Object(__WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
        _this._onZoomDone();
      });
    }
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after the component has been mounted
   */


  _createClass(LinearFocusCanvasControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(LinearFocusCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(LinearFocusCanvasControlsComponent.prototype), 'componentDidMount', this).call(this);

      this._updateOnCanvasControls();
    }
  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      if (!this._operation || !newState.operation) {
        return;
      }

      if (this._operation !== newState.operation && this._operation.constructor === newState.operation.constructor) {
        newState.operation.set(this._operation.serializeOptions());
        this._operation = newState.operation;
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called after a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      if (!this.state.visible) {
        this.state.visible = true;
      }
      this._updateOnCanvasControls();
    }

    // -------------------------------------------------------------------------- KNOB DRAG

    /**
     * Gets called when the user stars dragging the gradient knob
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(index, e) {
      this._initialPosition = this.sharedState.linearFocus['controlPoint' + index];
    }

    /**
     * Gets called while the user drags the gradient knob
     * @param {Number} index
     * @param {Vector2} offset
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(index, offset) {
      var editor = this.context.editor;


      var imageBounds = editor.getSDK().getSprite().getBounds();
      var containerBounds = this._container.getBoundingClientRect();
      var editorBounds = this.context.appComponent.getBounds();

      var initialAbsolutePosition = this._initialPosition.clone().multiply(imageBounds.width, imageBounds.height);
      var absolutePosition = initialAbsolutePosition.add(offset).clamp(new Vector2(containerBounds.left - editorBounds.left - imageBounds.x, containerBounds.top - editorBounds.top - imageBounds.y), new Vector2(containerBounds.width - (imageBounds.x - (containerBounds.left - editorBounds.left)), containerBounds.height - (imageBounds.y - (containerBounds.top - editorBounds.top))));

      var newPosition = absolutePosition.divide(imageBounds.width, imageBounds.height);
      this.sharedState['setControlPoint' + index](newPosition);
    }

    // -------------------------------------------------------------------------- CALCULATION

    /**
     * Updates the styles for the canvas controls
     * @private
     */

  }, {
    key: '_updateOnCanvasControls',
    value: function _updateOnCanvasControls() {
      var editor = this.context.editor;

      var imageBounds = editor.getSDK().getSprite().getBounds();
      var containerBounds = this._container.getBoundingClientRect();
      var editorBounds = this.context.appComponent.getBounds();

      var onCanvasControlsRect = new Rectangle(Math.floor(imageBounds.x - (containerBounds.left - editorBounds.left)), Math.floor(imageBounds.y - (containerBounds.top - editorBounds.top)), Math.ceil(imageBounds.width) + 1, Math.ceil(imageBounds.height) + 1);

      __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].styleElement(this._onCanvasControls, {
        left: onCanvasControlsRect.x + 'px',
        top: onCanvasControlsRect.y + 'px',
        width: onCanvasControlsRect.width + 'px',
        height: onCanvasControlsRect.height + 'px'
      });

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- STYLING\

    /**
     * Returns the CSS styles for the knob with the given index
     * @param {Number} index
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle(index) {
      var editor = this.context.editor;


      var position = this.sharedState.linearFocus['controlPoint' + index];
      var imageBounds = editor.getSDK().getSprite().getBounds();

      var absolutePosition = position.clone().multiply(imageBounds.width, imageBounds.height);
      return {
        left: absolutePosition.x,
        top: absolutePosition.y
      };
    }

    /**
     * Returns the CSS styles for the line
     * @return {Object}
     * @private
     */

  }, {
    key: '_getLineStyle',
    value: function _getLineStyle() {
      var editor = this.context.editor;

      var imageBounds = editor.getSDK().getSprite().getBounds();

      var controlPoint1 = this.sharedState.linearFocus.controlPoint1.clone();
      var controlPoint2 = this.sharedState.linearFocus.controlPoint2.clone();

      var controlPointPositions = {
        1: controlPoint1.multiply(imageBounds.width, imageBounds.height),
        2: controlPoint2.multiply(imageBounds.width, imageBounds.height)
      };

      var distance = controlPointPositions[2].clone().subtract(controlPointPositions[1]);
      var distanceLength = distance.len();

      var rotation = Math.atan2(distance.y, distance.x);
      return {
        width: distanceLength + 'px',
        left: controlPointPositions[1].x + 'px',
        top: controlPointPositions[1].y + 'px',
        transform: 'rotate(' + rotation + 'rad) translateY(-50%)'
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the knobs
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderKnobs',
    value: function _renderKnobs() {
      var knobs = [];
      for (var i = 1; i <= 2; i++) {
        knobs.push(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
          {
            onStart: this._onKnobDragStart.bind(this, i),
            onDrag: this._onKnobDrag.bind(this, i),
            key: i },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Knob, {
            style: this._getKnobStyle(i),
            className: test ? i === 1 ? 'js-firstLinearFocusDraggableKnob' : 'js-secondLinearFocusDraggableKnob' : undefined })
        ));
      }
      return knobs;
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        CanvasControls,
        { innerRef: function innerRef(el) {
            _this2._container = el;
          } },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: this.state.visible,
            enterProp: 'rendered',
            enterDuration: this.context.theme.transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: this.context.theme.transitionDuration * 1000,
            leaveDuration: this.context.theme.transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            OnCanvasControls,
            { innerRef: function innerRef(el) {
                _this2._onCanvasControls = el;
              } },
            this._renderKnobs(),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Line, { style: this._getLineStyle() })
          )
        )
      );
    }
  }]);

  return LinearFocusCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

LinearFocusCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (LinearFocusCanvasControlsComponent);


var CanvasControls = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(FullContainerStyle).div('1rineb', 'CanvasControls');

var OnCanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('12e79nm', {
  rendered: '2jlos',
  visible: 'zgbg08'
}, 'OnCanvasControls');

var Knob = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(KnobStyle).div('120drhm', 'Knob');

var Line = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1rrhaqy', 'Line');

/***/ }),
/* 325 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__ = __webpack_require__(15);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var KnobStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].Knob,
    FullContainerStyle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].FullContainer;
var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2,
    Rectangle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Rectangle;


var test = ("production") === 'test';

var MirroredFocusCanvasControlsComponent = function (_SharedStateComponent) {
  _inherits(MirroredFocusCanvasControlsComponent, _SharedStateComponent);

  function MirroredFocusCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, MirroredFocusCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = MirroredFocusCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(MirroredFocusCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onCenterDragStart', '_onCenterDrag', '_onKnobDragStart', '_onKnobDrag', '_onZoomDone');

    _this.state = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].extend(_this.state, {
      areaPosition: new Vector2(),
      areaDimensions: new Vector2(),
      knobPosition: new Vector2(),
      visible: false
    });

    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone);

    if (_this.props.zoomDone) {
      Object(__WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
        _this._onZoomDone();
      });
    }
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called after the component has been mounted
   */


  _createClass(MirroredFocusCanvasControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(MirroredFocusCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(MirroredFocusCanvasControlsComponent.prototype), 'componentDidMount', this).call(this);

      this._updateOnCanvasControls();
      this._updatePositionsAndDimensions();
    }
  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      if (!this._operation || !newState.operation) {
        return;
      }

      if (this._operation !== newState.operation && this._operation.constructor === newState.operation.constructor) {
        newState.operation.set(this._operation.serializeOptions());
        this._operation = newState.operation;
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called after a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      if (!this.state.visible) {
        this.state.visible = true;
      }
      this._updateOnCanvasControls();
      this._updatePositionsAndDimensions();
    }

    /**
     * Gets called when the user stars dragging the center
     * @private
     */

  }, {
    key: '_onCenterDragStart',
    value: function _onCenterDragStart() {
      this._initialStart = this.sharedState.mirroredFocus.start;
      this._initialEnd = this.sharedState.mirroredFocus.end;
      this._initialDist = this._initialEnd.clone().subtract(this._initialStart);
    }

    /**
     * Gets called while the user drags the center
     * @param {Vector2} offset
     * @private
     */

  }, {
    key: '_onCenterDrag',
    value: function _onCenterDrag(offset) {
      var editor = this.context.editor;


      var outputDimensions = editor.getOutputDimensions();
      var relativeOffset = offset.clone().divide(outputDimensions);

      var newStart = this._initialStart.clone().add(relativeOffset).clamp(new Vector2(0, 0), new Vector2(1, 1).subtract(this._initialDist));
      var newEnd = newStart.clone().add(this._initialDist);

      this.sharedState.setOperationOptions({
        start: newStart,
        end: newEnd
      });

      this._updatePositionsAndDimensions();
    }

    /**
     * Gets called when the user stars dragging the gradient knob
     * @private
     */

  }, {
    key: '_onKnobDragStart',
    value: function _onKnobDragStart(e) {
      this._initialKnobPosition = this.state.knobPosition.clone();
    }

    /**
     * Gets called while the user drags the gradient knob
     * @param {Vector2} offset
     * @private
     */

  }, {
    key: '_onKnobDrag',
    value: function _onKnobDrag(offset) {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var newKnobPosition = this._initialKnobPosition.clone().add(offset).clamp(new Vector2(0, 0), outputDimensions);

      var distanceFromCenter = newKnobPosition.clone().subtract(this.state.areaPosition);

      var start = this.state.areaPosition.clone().add(-distanceFromCenter.y, distanceFromCenter.x).divide(outputDimensions);
      var end = this.state.areaPosition.clone().add(distanceFromCenter.y, -distanceFromCenter.x).divide(outputDimensions);
      var size = distanceFromCenter.len() * 2;

      this.sharedState.setOperationOptions({
        start: start,
        end: end,
        size: size / outputDimensions.min(),
        gradientSize: size / outputDimensions.min()
      });

      this.setState({
        knobPosition: newKnobPosition,
        areaDimensions: new Vector2(this.state.areaDimensions.x, size)
      });
    }

    // -------------------------------------------------------------------------- STYLING

  }, {
    key: '_getAreaStyle',
    value: function _getAreaStyle() {
      var dist = this.state.knobPosition.clone().subtract(this.state.areaPosition);
      var degrees = Math.atan2(dist.x, dist.y) * (180 / Math.PI);
      var transform = 'rotate(' + (-degrees).toFixed(2) + 'deg)';

      return {
        width: this.state.areaDimensions.x,
        height: this.state.areaDimensions.y,
        left: this.state.areaPosition.x,
        top: this.state.areaPosition.y,
        marginLeft: this.state.areaDimensions.x * -0.5,
        marginTop: this.state.areaDimensions.y * -0.5,
        transform: transform,
        MozTransform: transform,
        msTransform: transform,
        WebkitTransform: transform
      };
    }

    /**
     * Returns the positioning styles for the knob
     * @return {Object}
     * @private
     */

  }, {
    key: '_getKnobStyle',
    value: function _getKnobStyle() {
      return {
        left: this.state.knobPosition.x,
        top: this.state.knobPosition.y
      };
    }

    // -------------------------------------------------------------------------- CALCULATION

    /**
     * Sets the dimensions and position values from the current operation options
     * @private
     */

  }, {
    key: '_updatePositionsAndDimensions',
    value: function _updatePositionsAndDimensions() {
      var editor = this.context.editor;

      var outputDimensions = editor.getOutputDimensions();

      var _sharedState$mirrored = this.sharedState.mirroredFocus,
          start = _sharedState$mirrored.start,
          end = _sharedState$mirrored.end,
          size = _sharedState$mirrored.size;


      start = start.clone().multiply(outputDimensions);
      end = end.clone().multiply(outputDimensions);
      size = size * outputDimensions.min();

      var dist = end.clone().subtract(start);
      var middle = start.clone().add(dist.clone().divide(2));

      var areaSize = new Vector2(outputDimensions.len() * 2, size);

      var totalDist = dist.len();
      var factor = dist.clone().divide(totalDist).divide(2);
      this.setState({
        areaDimensions: areaSize,
        areaPosition: middle.clone(),
        knobPosition: middle.clone().add(-size * factor.y, size * factor.x)
      });
    }

    /**
     * Updates the styles for the canvas controls
     * @private
     */

  }, {
    key: '_updateOnCanvasControls',
    value: function _updateOnCanvasControls() {
      var editor = this.context.editor;

      var imageBounds = editor.getSDK().getSprite().getBounds();
      var containerBounds = this._container.getBoundingClientRect();
      var editorBounds = this.context.appComponent.getBounds();

      var onCanvasControlsRect = new Rectangle(Math.floor(imageBounds.x - (containerBounds.left - editorBounds.left)), Math.floor(imageBounds.y - (containerBounds.top - editorBounds.top)), Math.ceil(imageBounds.width) + 1, Math.ceil(imageBounds.height) + 1);

      __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].styleElement(this._onCanvasControls, {
        left: onCanvasControlsRect.x + 'px',
        top: onCanvasControlsRect.y + 'px',
        width: onCanvasControlsRect.width + 'px',
        height: onCanvasControlsRect.height + 'px'
      });

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        CanvasControls,
        { innerRef: function innerRef(el) {
            _this2._container = el;
          } },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: this.state.visible,
            enterProp: 'rendered',
            enterDuration: this.context.theme.transitionDuration * 1000,
            appearProp: 'visible',
            appearDuration: this.context.theme.transitionDuration * 1000,
            leaveDuration: this.context.theme.transitionDuration * 1000 },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            OnCanvasControls,
            { innerRef: function innerRef(el) {
                _this2._onCanvasControls = el;
              } },
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
              {
                onStart: this._onCenterDragStart,
                onDrag: this._onCenterDrag },
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Area, {
                className: test ? 'js-mirroredFocusDraggableArea' : undefined,
                style: this._getAreaStyle() })
            ),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
              {
                onStart: this._onKnobDragStart,
                onDrag: this._onKnobDrag },
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Knob, {
                className: test ? 'js-mirroredFocusDraggableKnob' : undefined,
                style: this._getKnobStyle() })
            )
          )
        )
      );
    }
  }]);

  return MirroredFocusCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

MirroredFocusCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (MirroredFocusCanvasControlsComponent);


var CanvasControls = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(FullContainerStyle).div('1rineb', 'CanvasControls');

var OnCanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('aovk7s', {
  rendered: '2jlos',
  visible: 'zgbg08'
}, 'OnCanvasControls');

var Knob = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(KnobStyle).div('120drhm', 'Knob');

var Area = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('36haff', 'Area');

/***/ }),
/* 326 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__frame_controls_component__ = __webpack_require__(327);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




/**
 * The Controls for the Frame tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var FrameControls = function (_BaseControls) {
  _inherits(FrameControls, _BaseControls);

  function FrameControls() {
    _classCallCheck(this, FrameControls);

    return _possibleConstructorReturn(this, (FrameControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FrameControls)).apply(this, arguments));
  }

  _createClass(FrameControls, [{
    key: 'loadFrame',
    value: function loadFrame(frameData) {
      var _this2 = this;

      var editor = this.context.editor;

      var frame = new __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Frame"](this.context.ui, frameData);
      var operation = editor.operations.getOrCreate('frame');

      var loadingModal = void 0;
      var loadTimeout = setTimeout(function () {
        loadingModal = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this2._t('loading.loading'));
      }, 100);

      return frame.load().then(function () {
        if (loadingModal) loadingModal.close();
        if (loadTimeout) {
          clearTimeout(loadTimeout);
          loadTimeout = null;
        }
        operation.setFrame(frame.getFrame());
      });
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.get('frame') || null;
      var frame = null;
      if (operation) {
        frame = operation.getFrame();
      }
      var state = {
        operation: operation,
        frame: frame,
        frameIdentifier: frame ? frame.identifier : null,
        tintColor: operation ? operation.getTintColor() : null,

        // actions
        removeFrame: function removeFrame() {
          operation && operations.remove(operation);
        },
        setTintColor: function setTintColor(color) {
          operation && operation.setTintColor(color.clone());
        }
      };

      return state;
    }

    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Object[]} [categories = []]
     * @property {Boolean} [replaceCategories = false]
     * @property {String[]} [availableFrames = null]
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controls
     * @type {String}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('frame') && editor.isToolEnabled('frame');
    }
  }]);

  return FrameControls;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"]);

FrameControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
FrameControls.getPreloadAssets = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].getPreloadAssets;
FrameControls.identifier = 'frame';
FrameControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_5__frame_controls_component__["a" /* default */];
FrameControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].canvasControlsComponent;
FrameControls.iconPath = 'editor/controls/frame/icon.png';
FrameControls.activeIconPath = 'editor/controls/frame/icon-active.png';
FrameControls.requiredOperations = ['frame'];
FrameControls.defaultOptions = {
  categories: [],
  replaceCategories: false,
  availableFrames: null };
FrameControls.updatableOperations = ['frame'];
FrameControls.switchToDefaultControlsOnRemoval = false;


__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default.a.Controls.FrameControls = FrameControls;

/* harmony default export */ __webpack_exports__["a"] = (FrameControls);

/***/ }),
/* 327 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__frame_root_panel_component__ = __webpack_require__(328);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__frame_options_panel_component__ = __webpack_require__(330);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var PanelEnum = {
  ROOT: 1,
  CATEGORY: 2,
  OPTIONS: 3
};

var FrameControlsComponent = function (_ControlsComponent) {
  _inherits(FrameControlsComponent, _ControlsComponent);

  function FrameControlsComponent() {
    var _ref;

    _classCallCheck(this, FrameControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FrameControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FrameControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onFrameClick', '_onReplaceClick');

    _this._initFrameManager();
    _this._needsStyleFixes = true;

    var currentPanel = PanelEnum.ROOT;
    var operation = _this.getSharedState('operation');
    if (operation && operation.getFrame()) {
      currentPanel = PanelEnum.OPTIONS;
    }
    _this.state = {
      currentPanel: currentPanel
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * @return {Promise}
   */


  _createClass(FrameControlsComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      this._list.style.height = '100%';
      return _get(FrameControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FrameControlsComponent.prototype), 'fixStyles', this).call(this).then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          var containerHeight = _this2._container.offsetHeight;
          _this2._list.style.height = containerHeight + 'px';
        }

        return _this2.refs.panel.fixStyles();
      });
    }

    /**
     * Invoked immediately after updating occurs
     */

  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (this.state.currentPanel !== prevState.currentPanel) {
        this.fixStyles();
      }
    }

    // -------------------------------------------------------------------------- FRAME MANAGER

    /**
     * Initializes the frame manager
     * @private
     */

  }, {
    key: '_initFrameManager',
    value: function _initFrameManager() {
      this._frameManager = new __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["FrameManager"](this.context.ui, this.props.options);
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Gets called when the shared state did change
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      var editor = this.context.editor;


      var operation = editor.operations.get('frame');
      if (!operation || operation && !operation.getFrame()) {
        return this.setState({ currentPanel: PanelEnum.ROOT });
      } else {
        return this.setState({ currentPanel: PanelEnum.OPTIONS });
      }
    }

    /**
     * Invoked hwen the `Replace` button has been clicked
     * @privte
     */

  }, {
    key: '_onReplaceClick',
    value: function _onReplaceClick() {
      this.setState({
        currentPanel: PanelEnum.ROOT
      });
    }

    /**
     * Called when the user clicks a category item.
     * @param  {Category} category
     * @private
     */

  }, {
    key: '_onCategoryClick',
    value: function _onCategoryClick(category) {
      this.setState({
        currentPanel: PanelEnum.CATEGORY,
        category: category
      });
    }

    /**
     * Called when the user clicks a frame.
     * @param {Object} frameData
     * @private
     */

  }, {
    key: '_onFrameClick',
    value: function _onFrameClick(frameData) {
      var _this3 = this;

      if (!frameData) {
        this.sharedState.removeFrame();
        this.props.controls.addLocalHistorySnapshot('frame-image', true);
        return;
      }

      this.props.controls.loadFrame(frameData).then(function () {
        _this3.props.controls.addLocalHistorySnapshot('frame-image', false);

        _this3.setState({
          currentPanel: PanelEnum.OPTIONS
        });
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the current panel according to
     * the components state.
     * @return {React.Element} The panel component
     */

  }, {
    key: '_renderCurrentPanel',
    value: function _renderCurrentPanel() {
      var _this4 = this;

      var controls = this.props.controls;


      switch (this.state.currentPanel) {
        case PanelEnum.ROOT:
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__frame_root_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            frameManager: this._frameManager,
            onFrameClick: this._onFrameClick,
            controls: controls,
            ref: 'panel'
          });
        case PanelEnum.OPTIONS:
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__frame_options_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            frameManager: this._frameManager,
            onReplaceClick: this._onReplaceClick,
            onNewFrameClick: this._onNewFrameClick,
            controls: controls,
            ref: 'panel'
          });
      }
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-frameControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this component's content
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      return this._renderCurrentPanel();
    }
  }]);

  return FrameControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

FrameControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
FrameControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (FrameControlsComponent);

/***/ }),
/* 328 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_async_animation_frame__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__frame_list_component__ = __webpack_require__(329);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var FrameRootPanelComponent = function (_BaseComponent) {
  _inherits(FrameRootPanelComponent, _BaseComponent);

  function FrameRootPanelComponent() {
    _classCallCheck(this, FrameRootPanelComponent);

    return _possibleConstructorReturn(this, (FrameRootPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FrameRootPanelComponent)).apply(this, arguments));
  }

  _createClass(FrameRootPanelComponent, [{
    key: 'fixStyles',


    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * This method is called from the FrameControlsComponent due to timing issues.
     * @return {Promise}
     */
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_6_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          frameManager = _props.frameManager,
          _innerRef = _props.innerRef;

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Wrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this3._wrapper = el;
          },
          className: test ? 'js-rootPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this3._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__frame_list_component__["a" /* default */], {
            frames: frameManager.getFramesForCategory('all'),
            onFrameClick: this.props.onFrameClick })
        )
      );
    }
  }]);

  return FrameRootPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

FrameRootPanelComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FrameRootPanelComponent);


var Wrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'Wrapper');

/***/ }),
/* 329 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem;

var test = ("production") === 'test';

var FrameListComponent = function (_SharedStateComponent) {
  _inherits(FrameListComponent, _SharedStateComponent);

  function FrameListComponent() {
    _classCallCheck(this, FrameListComponent);

    return _possibleConstructorReturn(this, (FrameListComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(FrameListComponent)).apply(this, arguments));
  }

  _createClass(FrameListComponent, [{
    key: '_onFrameClick',


    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks a frame
     * @param  {Object} frame
     * @private
     */
    value: function _onFrameClick(frame) {
      this.props.onFrameClick && this.props.onFrameClick(frame);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders an arbitray number of frame items.
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this2 = this;

      var frames = this.props.frames;


      var currentFrameIdentifier = this.getSharedState.frameIdentifier;

      var selectedSprite = this.getSharedState('selectedSprite');
      if (selectedSprite) {
        currentFrameIdentifier = selectedSprite.getIdentifier();
      }

      return frames.map(function (frame) {
        var thumbURL = _this2._getAssetPath(frame.thumbnail);
        var itemStyle = {
          background: 'url(\'' + thumbURL + '\') no-repeat center center',
          backgroundSize: 'contain'
        };
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          FrameListItem,
          {
            selected: frame.identifier === currentFrameIdentifier,
            key: frame.identifier,
            onClick: _this2._onFrameClick.bind(_this2, frame),
            className: test ? 'js-frame' : undefined,
            twoColumns: true },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(FrameImage, { style: itemStyle })
        );
      });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var frame = this.sharedState.frame;

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        FrameList,
        null,
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          FrameListItem,
          {
            selected: !frame,
            onClick: this._onFrameClick.bind(this, null),
            className: test ? 'js-frame' : undefined,
            withText: true,
            twoColumns: true },
          'None'
        ),
        this._renderListItems()
      );
    }
  }]);

  return FrameListComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

FrameListComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FrameListComponent);


var FrameList = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].ul('18qztam', 'FrameList');

var FrameListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).li('u8nfgk', 'FrameListItem');

var FrameImage = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('7r0ke8', 'FrameImage');

/***/ }),
/* 330 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_async_animation_frame__ = __webpack_require__(15);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground;


var test = ("production") === 'test';

var FrameOptionsPanelComponent = function (_SharedStateComponent) {
  _inherits(FrameOptionsPanelComponent, _SharedStateComponent);

  function FrameOptionsPanelComponent() {
    var _ref;

    _classCallCheck(this, FrameOptionsPanelComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FrameOptionsPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FrameOptionsPanelComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onTintToggle', '_onTintColorChange', '_onOpacityChange', '_onWidthChange');

    var tintColor = _this.sharedState.tintColor;
    _this.state = {
      tintEnabled: tintColor ? tintColor.a > 0 : false,
      tintColor: tintColor
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the tint has been turned on or off
   * @param  {Boolean} enabled
   * @private
   */


  _createClass(FrameOptionsPanelComponent, [{
    key: '_onTintToggle',
    value: function _onTintToggle(enabled) {
      var tintEnabled = this.state.tintEnabled;


      var tintColor = this.sharedState.tintColor.clone();
      tintColor.a = tintEnabled ? 0 : 1;
      this.sharedState.setTintColor(tintColor);

      this.props.controls.addLocalHistorySnapshot('frame-tint-enabled');

      var editor = this.context.editor;

      editor.render();

      this.setState({
        tintEnabled: !tintEnabled
      });
    }

    /**
     * Invoked when the tint color has been changed
     * @param  {PhotoEditorSDK.Color} color
     * @private
     */

  }, {
    key: '_onTintColorChange',
    value: function _onTintColorChange(color) {
      this.sharedState.setTintColor(color.clone());

      this.props.controls.addLocalHistorySnapshot('frame-tint-color', true);

      var editor = this.context.editor;

      editor.render();
    }
  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange() {
      var tintColor = this.sharedState.tintColor;

      this.setState({
        tintEnabled: tintColor ? tintColor.a > 0 : false,
        tintColor: tintColor ? tintColor.clone() : null
      });
    }

    /**
     * Invoked when the opacity has been changed
     * @param  {Number} opacity
     * @private
     */

  }, {
    key: '_onOpacityChange',
    value: function _onOpacityChange(opacity) {
      var operation = this.getSharedState('operation');
      operation.setAlpha(opacity / 100);

      this.props.controls.addLocalHistorySnapshot('frame-opacity', true);

      var editor = this.context.editor;

      editor.render();

      this.forceUpdate();
    }

    /**
     * Invoked when the width has been changed
     * @param  {Number} width
     * @private
     */

  }, {
    key: '_onWidthChange',
    value: function _onWidthChange(width) {
      var editor = this.context.editor;

      var operation = this.getSharedState('operation');
      var shortestSide = operation.getInputDimensions().min();
      operation.setScale(width / shortestSide);

      this.props.controls.addLocalHistorySnapshot('frame-width', true);

      editor.render();

      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * This method is called from the FrameControlsComponent due to timing issues.
     * @return {Promise}
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_6_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          _innerRef = _props.innerRef,
          onReplaceClick = _props.onReplaceClick;

      var operation = this.getSharedState('operation');
      var frame = operation.getFrame();
      var inputDimensions = operation.getInputDimensions();
      var shortestSide = inputDimensions.min();
      var tintable = frame.tintable;

      var thumbnailStyle = {
        background: 'url(\'' + this._getAssetPath(frame.thumbnail, false) + '\') center center / contain no-repeat'
      };

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Wrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this3._wrapper = el;
          },
          className: test ? 'js-optionsPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this3._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            'div',
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              TopSection,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                Details,
                null,
                __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  Thumbnail,
                  null,
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(ThumbnailImage, {
                    style: thumbnailStyle,
                    onClick: onReplaceClick })
                ),
                __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  DetailsContainer,
                  null,
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    Title,
                    null,
                    this._t('editor.controls.frame.frames.' + frame.identifier) || frame.defaultName
                  ),
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    ReplaceButton,
                    {
                      onClick: onReplaceClick,
                      className: test ? 'js-replaceButton' : undefined },
                    this._t('editor.controls.frame.replace')
                  )
                )
              ),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderControlComponent"], {
                minValue: 0,
                value: Math.round(operation.getAlpha() * 100),
                maxValue: 100,
                label: this._t('editor.controls.frame.opacity'),
                onSliderValueChange: this._onOpacityChange,
                onValueChange: this._onOpacityChange,
                middleDot: false,
                className: test ? 'js-opacityControl' : undefined }),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderControlComponent"], {
                minValue: shortestSide * 0.05,
                value: Math.round(operation.getScale() * shortestSide),
                maxValue: shortestSide * 0.3,
                label: this._t('editor.controls.frame.width'),
                onSliderValueChange: this._onWidthChange,
                onValueChange: this._onWidthChange,
                middleDot: false,
                className: test ? 'js-widthControl' : undefined })
            ),
            tintable && __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CollapseSectionComponent"],
              {
                toggleable: true,
                title: this._t('editor.controls.frame.fill'),
                expanded: this.state.tintEnabled,
                className: test ? 'js-fillControl' : undefined,
                onToggle: this._onTintToggle },
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(ColorSelection, {
                value: this.state.tintColor,
                onColorPickerToggle: this.fixStyles,
                onChange: this._onTintColorChange })
            )
          )
        )
      );
    }
  }]);

  return FrameOptionsPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

// -------------------------------------------------------------------------- STYLES

FrameOptionsPanelComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FrameOptionsPanelComponent);
var Wrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'Wrapper');

var TopSection = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1vnvjau', 'TopSection');

var Details = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('16woy02', 'Details');

var Thumbnail = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).div('6u8g0p', 'Thumbnail');

var ThumbnailImage = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('7r0ke8', 'ThumbnailImage');

var DetailsContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1trlo6v', 'DetailsContainer');

var Title = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('w9mc0y', 'Title');

var ReplaceButton = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1rhky7p', 'ReplaceButton');

var ColorSelection = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"])('1ouwzwk', 'ColorSelection');

/***/ }),
/* 331 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__overlay_controls_component__ = __webpack_require__(332);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_loaders_image_loader__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__blend_modes__ = __webpack_require__(83);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






/**
 * The Controls for the Overlay tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var OverlayControls = function (_BaseControls) {
  _inherits(OverlayControls, _BaseControls);

  function OverlayControls() {
    _classCallCheck(this, OverlayControls);

    return _possibleConstructorReturn(this, (OverlayControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(OverlayControls)).apply(this, arguments));
  }

  _createClass(OverlayControls, [{
    key: 'loadOverlay',


    /**
     * Loads the overlay image and options
     * @param {Object} overlay
     */
    value: function loadOverlay(overlay) {
      var _this2 = this;

      var imagePath = this._getAssetPath(overlay.image);
      var blendMode = __WEBPACK_IMPORTED_MODULE_7__blend_modes__["a" /* default */][overlay.blendMode];

      var loadingModal = void 0;
      var loadTimeout = setTimeout(function () {
        loadingModal = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this2._t('loading.loading'));
      }, 100);

      return __WEBPACK_IMPORTED_MODULE_6_shared_loaders_image_loader__["a" /* default */].load(imagePath).then(function (image) {
        if (loadingModal) loadingModal.close();
        if (loadTimeout) {
          clearTimeout(loadTimeout);
          loadTimeout = null;
        }

        return {
          identifier: overlay.identifier,
          image: image,
          blendMode: blendMode,
          alpha: typeof overlay.intensity === 'undefined' ? 1 : overlay.intensity
        };
      });
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.getOrCreate('overlay');

      return {
        operation: operation,
        identifier: operation ? operation.getIdentifier() : null,
        alpha: operation ? operation.getAlpha() : 1,
        blendMode: operation ? operation.getBlendMode() : __WEBPACK_IMPORTED_MODULE_7__blend_modes__["a" /* default */]['normal'],

        // actions
        removeOverlay: function removeOverlay() {
          operation && operation.set({ image: null, identifier: null, alpha: 1 });
        },
        setOverlayOptions: function setOverlayOptions(opts) {
          operation && operation.set(opts);
        },
        setAlpha: function setAlpha(value) {
          operation && operation.setAlpha(value);
        },
        setBlendMode: function setBlendMode(value) {
          operation && operation.setBlendMode(value);
        }
      };
    }

    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Object[]} [overlays = []]
     * @property {Boolean} [replaceOverlays = false]
     * @property {String[]} [availableOverlays = null]
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controls
     * @type {String}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('overlay') && editor.isToolEnabled('overlay');
    }
  }]);

  return OverlayControls;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"]);

OverlayControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
OverlayControls.getPreloadAssets = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].getPreloadAssets;
OverlayControls.identifier = 'overlay';
OverlayControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_5__overlay_controls_component__["a" /* default */];
OverlayControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseControls"].canvasControlsComponent;
OverlayControls.iconPath = 'editor/controls/overlay/icon.png';
OverlayControls.activeIconPath = 'editor/controls/overlay/icon-active.png';
OverlayControls.requiredOperations = ['overlay'];
OverlayControls.defaultOptions = {
  overlays: [],
  replaceOverlays: false,
  availableOverlays: null };
OverlayControls.updatableOperations = ['overlay'];
OverlayControls.switchToDefaultControlsOnRemoval = false;


__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default.a.Controls.OverlayControls = OverlayControls;

/* harmony default export */ __webpack_exports__["a"] = (OverlayControls);

/***/ }),
/* 332 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_shared_loaders_image_loader__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_async_promise_queue__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__overlay_list_item_component__ = __webpack_require__(333);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__blend_modes__ = __webpack_require__(83);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var PlainControlItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem,
    PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;


var test = ("production") === 'test';

var OverlayControlsComponent = function (_ControlsComponent) {
  _inherits(OverlayControlsComponent, _ControlsComponent);

  function OverlayControlsComponent() {
    var _ref;

    _classCallCheck(this, OverlayControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = OverlayControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(OverlayControlsComponent)).call.apply(_ref, [this].concat(args)));

    var _this$context = _this.context,
        ui = _this$context.ui,
        theme = _this$context.theme;


    _this._thumbnailLoadQueue = new __WEBPACK_IMPORTED_MODULE_7_shared_async_promise_queue__["a" /* default */](1, Infinity, theme.listItemSlideInDelay);
    _this._thumbnailsLoaded = {};
    _this._overlayManager = new __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["OverlayManager"](ui, _this.props.options);

    _this.state = {};
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked immediately after a component is mounted
   */


  _createClass(OverlayControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(OverlayControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(OverlayControlsComponent.prototype), 'componentDidMount', this).call(this);
      this._loadThumbnails();
    }

    /**
     * Gets called before this component is unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(OverlayControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(OverlayControlsComponent.prototype), 'componentWillUnmount', this).call(this);
      this._thumbnailLoadQueue.dispose();
    }

    /**
     * Loads all the overlay thumbnails
     * @private
     */

  }, {
    key: '_loadThumbnails',
    value: function _loadThumbnails() {
      var _this2 = this;

      var overlays = this._overlayManager.getOverlays();
      overlays.forEach(function (overlay) {
        _this2._thumbnailLoadQueue.add(function () {
          return __WEBPACK_IMPORTED_MODULE_6_shared_loaders_image_loader__["a" /* default */].load(_this2._getAssetPath(overlay.thumbnail)).then(function (image) {
            _this2._thumbnailsLoaded[overlay.identifier] = image;
            _this2.forceUpdate();
          });
        });
      });
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Called when the blend mode is changed.
     * @private
     * @memberof OverlayControlsComponent
     */

  }, {
    key: '_onBlendModeChange',
    value: function _onBlendModeChange() {
      this.props.controls.addLocalHistorySnapshot('overlay-blend-mode', false);
    }

    /**
     * Called when the alpha value is changed.
     * @private
     * @memberof OverlayControlsComponent
     */

  }, {
    key: '_onAlphaChange',
    value: function _onAlphaChange() {
      this.props.controls.addLocalHistorySnapshot('overlay-alpha', true);
    }
    /**
     * Gets called when a filter item is clicked
     * @param {Object} overlay
     * @private
     */

  }, {
    key: '_onItemClick',
    value: function _onItemClick(overlay) {
      var _this3 = this;

      if (!overlay) {
        this.sharedState.removeOverlay();
        return this.forceUpdate();
      }

      if (overlay.identifier === this.sharedState.identifier) return;

      this.props.controls.loadOverlay(overlay).then(function (options) {
        _this3.sharedState.setOverlayOptions(options);
        _this3.props.controls.addLocalHistorySnapshot('overlay-image', false);
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the list items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this4 = this;

      var identifier = this.sharedState.identifier;
      var overlays = this._overlayManager.getOverlays();

      return overlays.map(function (overlay) {
        return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__overlay_list_item_component__["a" /* default */], {
          key: overlay.identifier,
          overlay: overlay,
          selected: overlay.identifier === identifier,
          visible: !!_this4._thumbnailsLoaded[overlay.identifier],
          onClick: _this4._onItemClick.bind(_this4, overlay),
          onBlendModeChange: _this4._onBlendModeChange.bind(_this4),
          onAlphaChange: _this4._onAlphaChange.bind(_this4)
        });
      });
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-overlayControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this5 = this;

      var operation = this.getSharedState('operation');
      var noneItemActive = !operation.getIdentifier();

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          innerRef: function innerRef(el) {
            _this5._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          List,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            NoneItem,
            { onClick: this._onItemClick.bind(this, null) },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              NoneItemBackground,
              { selected: noneItemActive },
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                ItemTitle,
                null,
                this._t('editor.controls.overlay.overlays.none')
              )
            )
          ),
          this._renderListItems()
        )
      );
    }
  }]);

  return OverlayControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

OverlayControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
OverlayControlsComponent.propTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].propTypes;
OverlayControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (OverlayControlsComponent);


var List = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].ul('9uviv9', 'List');

var NoneItem = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).div('1sgdmny', 'NoneItem');

var NoneItemBackground = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).div('yogtp1', 'NoneItemBackground');

var ItemTitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).span('5krmrh', 'ItemTitle');

/***/ }),
/* 333 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__overlay_blending_control_component__ = __webpack_require__(334);






var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var ControlItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemActiveOverlay = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemActiveOverlay,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;

var test = ("production") === 'test';

var OverlayListItemComponent = function (_SharedStateComponent) {
  _inherits(OverlayListItemComponent, _SharedStateComponent);

  function OverlayListItemComponent() {
    var _ref;

    _classCallCheck(this, OverlayListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = OverlayListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(OverlayListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      hovered: false
    };

    _this._bindAll('_onBlendModeChange', '_onAlphaChange');
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  _createClass(OverlayListItemComponent, [{
    key: '_onBlendModeChange',
    value: function _onBlendModeChange(newBlendMode) {
      this.props.onBeforeBlendModeChange && this.props.onBeforeBlendModeChange();

      this.sharedState.setBlendMode(newBlendMode);

      this.props.onBlendModeChange && this.props.onBlendModeChange();
    }
  }, {
    key: '_onAlphaChange',
    value: function _onAlphaChange(alpha) {
      this.props.onBeforeAlphaChange && this.props.onBeforeAlphaChange();

      this.sharedState.setAlpha(alpha);

      this.props.onAlphaChange && this.props.onAlphaChange();
    }

    // -------------------------------------------------------------------------- LIFECYCLE

    /**
     * Invoked before rendering when new props or state are being received
     * @param {Object} nextProps
     * @param {Object} nextState
     * @return {Boolean}
     */

  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (this.props.selected !== nextProps.selected || this.props.visible !== nextProps.visible || this.state.hovered !== nextState.hovered || this.props.overlay !== nextProps.overlay) {
        return true;
      }

      if (this.props.intensity !== nextProps.intensity) {
        if (nextProps.selected) {
          return true;
        }
      }

      return false;
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          lastChild = _props.lastChild,
          onClick = _props.onClick,
          selected = _props.selected,
          visible = _props.visible,
          overlay = _props.overlay;

      var alpha = this.sharedState.alpha;
      var blendMode = this.sharedState.blendMode;

      var itemProps = { lastChild: lastChild, onClick: onClick, visible: visible };
      itemProps.style = {
        backgroundImage: 'url(\'' + this._getAssetPath(overlay.thumbnail) + '\')'
      };
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Item,
        _extends({}, itemProps, {
          className: test ? 'js-overlay' : undefined,
          animated: true,
          innerRef: function innerRef(el) {
            _this2._container = el;
          },
          onMouseEnter: function onMouseEnter() {
            return _this2.setState({ hovered: true });
          },
          onMouseLeave: function onMouseLeave() {
            return _this2.setState({ hovered: false });
          } }),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ItemContainer,
          {
            selected: selected },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Transition"],
            { active: !selected },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              ItemContent,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                ItemTitle,
                { hovered: this.state.hovered },
                this._t('editor.controls.overlay.overlays.' + overlay.identifier) || overlay.defaultName
              )
            )
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Transition"],
            { active: selected },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              ItemContent,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                BlendingLabel,
                null,
                'Blending'
              ),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(BlendingControl, {
                value: blendMode,
                onChange: this._onBlendModeChange }),
              selected && __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                Slider,
                null,
                __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderComponent"], {
                  minValue: 0,
                  maxValue: 1,
                  valueUnit: '',
                  middleDot: false,
                  value: alpha,
                  onChange: this._onAlphaChange })
              ),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Overlay, { rendered: true, visible: true })
            )
          )
        )
      );
    }

    /**
     * Returns this component's container
     * @return {React.Element}
     */

  }, {
    key: 'container',
    get: function get() {
      return this._container;
    }
  }]);

  return OverlayListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

OverlayListItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (OverlayListItemComponent);


var Item = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).div('193vjnw', {
  lastChild: '229bd5'
}, 'Item');

var Slider = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('12dmntm', 'Slider');

var ItemContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1m161zg', 'ItemContainer');

var ItemTitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).span('120drhm', 'ItemTitle');

var BlendingLabel = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ItemTitle)('1kbikta', 'BlendingLabel');

var ItemContent = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('tj7k39', {
  rendered: 'cuo4v2',
  visible: '82svov'
}, 'ItemContent');

var Overlay = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemActiveOverlay).div('120drhm', 'Overlay');
var BlendingControl = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_6__overlay_blending_control_component__["a" /* default */])('ii685b', 'BlendingControl');

/***/ }),
/* 334 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__blend_modes__ = __webpack_require__(83);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var ControlItemTitle = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;

var BlendModeById = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].flipObject(__WEBPACK_IMPORTED_MODULE_7__blend_modes__["a" /* default */]);

var OverlayBlendingControlComponent = function (_BaseComponent) {
  _inherits(OverlayBlendingControlComponent, _BaseComponent);

  function OverlayBlendingControlComponent() {
    var _ref;

    _classCallCheck(this, OverlayBlendingControlComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = OverlayBlendingControlComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(OverlayBlendingControlComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onPreviousClick', '_onNextClick');
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user clicks the left arrow
   * @param {Event} e
   * @private
   */


  _createClass(OverlayBlendingControlComponent, [{
    key: '_onPreviousClick',
    value: function _onPreviousClick(e) {
      e.preventDefault();
      e.stopPropagation();

      var blendModes = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(BlendModeById);
      var index = blendModes.indexOf(this.props.value.toString());
      var newIndex = (index + blendModes.length - 1) % blendModes.length;
      var newBlendMode = parseInt(blendModes[newIndex], 10);
      this.props.onChange && this.props.onChange(newBlendMode);
    }

    /**
     * Invoked when the user clicks the right arrow
     * @param {Event} e
     * @private
     */

  }, {
    key: '_onNextClick',
    value: function _onNextClick(e) {
      e.preventDefault();
      e.stopPropagation();

      var blendModes = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_keys___default()(BlendModeById);
      var index = blendModes.indexOf(this.props.value.toString());
      var newIndex = (index + blendModes.length + 1) % blendModes.length;
      var newBlendMode = parseInt(blendModes[newIndex], 10);
      this.props.onChange && this.props.onChange(newBlendMode);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var leftArrowStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/overlay/arrow-left.png', true) + '\')'
      };
      var rightArrowStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/overlay/arrow-right.png', true) + '\')'
      };

      var blendMode = this.props.value;
      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        BlendingControlContainer,
        { styles: this.props.styles },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Arrow, { onClick: this._onPreviousClick, style: leftArrowStyle }),
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Label,
          null,
          this._t('editor.controls.overlay.blendModes.' + BlendModeById[blendMode])
        ),
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Arrow, { onClick: this._onNextClick, style: rightArrowStyle })
      );
    }
  }]);

  return OverlayBlendingControlComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

OverlayBlendingControlComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (OverlayBlendingControlComponent);


var BlendingControlContainer = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('15zte1z', 'BlendingControlContainer');
OverlayBlendingControlComponent.RootElement = BlendingControlContainer;

var Label = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).div('1v7ogyl', 'Label');

var Arrow = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1v32l0l', 'Arrow');

/***/ }),
/* 335 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__sticker_controls_component__ = __webpack_require__(336);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sticker_canvas_controls_component__ = __webpack_require__(341);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;


var StickerSprite = void 0;
if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation) {
  StickerSprite = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation.StickerSprite;
}

/**
 * The Controls for the Sticker tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var StickerControls = function (_BaseControls) {
  _inherits(StickerControls, _BaseControls);

  function StickerControls() {
    var _ref;

    _classCallCheck(this, StickerControls);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = StickerControls.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerControls)).call.apply(_ref, [this].concat(args)));

    _this._updateStickerCategories = _this._updateStickerCategories.bind(_this);
    return _this;
  }
  /**
   * A unique identifier for these controls
   * @type {String}
   */


  /**
   * The controls component for these controls
   * @type {React.Component}
   */


  /**
   * The canvas component for these controls
   * @type {React.Component}
   */


  /**
   * The icon path of this control
   * @type {String}
   */


  /**
   * The active icon path of this control
   * @type {String}
   */


  /**
   * The operations required for this control to work properly
   * @type {Array}
   */


  /**
   * The default options for this control
   * @type {Object}
   * @property {Object[]} [categories = []]
   * @property {Boolean} [replaceCategories = false]
   * @property {String[]} [availableStickers = null]
   */


  /**
   * Operations which will trigger UI updates on this controls.
   * @type {String[]}
   * @static
   */


  /**
   * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
   *
   * @type {Boolean}
   * @static
   */


  _createClass(StickerControls, [{
    key: 'createSticker',


    /**
     * Creates a sticker object from the given sticker data
     * @param  {Object} sticker
     * @return {Promise}
     * @private
     */
    value: function createSticker(sticker) {
      var _this2 = this;

      return this.loadStickerImage(sticker) // this._loadStickerImage(sticker)
      .then(function (image) {
        var editor = _this2.context.editor;

        var operation = editor.operations.getOrCreate('sprite');

        var inputDimensions = operation.getInputDimensions(false);
        var imageDimensions = new Vector2(image.width, image.height);
        var maxDimensions = new Vector2(inputDimensions.min() * 0.5, inputDimensions.min() * 0.5);

        var sprite = operation.createSticker({
          identifier: sticker.identifier,
          image: image,
          position: new Vector2(0.5, 0.5),
          dimensions: __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].resizeVectorToFit(imageDimensions, maxDimensions),
          rotation: 0,
          smoothDownscaling: _this2._options.smoothDownscaling
        });
        _this2.sharedState.set({
          selectedSprite: sprite
        });
        operation.addSprite(sprite);

        _this2.addLocalHistorySnapshot('sticker-creation', false);

        return sprite;
      });
    }

    /**
     * Loads and returns the image for the given sticker
     * @param  {Object} sticker
     * @return {Promise}
     * @private
     */

  }, {
    key: 'loadStickerImage',
    value: function loadStickerImage(sticker) {
      var _this3 = this;

      return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var mediaBase = sticker.images.mediaBase;

        var url = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["StickerManager"].getURLForSticker(sticker, 'base');
        var resolvedStickerPath = _this3._getAssetPath(url);
        var image = new window.Image();

        var loadingModal = void 0;
        var loadTimeout = setTimeout(function () {
          loadingModal = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this3._t('loading.loading'));
        }, 100);

        image.addEventListener('load', function () {
          if (loadingModal) loadingModal.close();
          if (loadTimeout) {
            clearTimeout(loadTimeout);
            loadTimeout = null;
          }

          if (typeof mediaBase.width !== 'undefined' && typeof mediaBase.height !== 'undefined') {
            image.width = mediaBase.width;
            image.height = mediaBase.height;
          }

          resolve(image);
        });

        image.addEventListener('error', function () {
          if (loadingModal) loadingModal.close();
          if (loadTimeout) {
            clearTimeout(loadTimeout);
            loadTimeout = null;
          }

          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this3._t('errors.title'), _this3._t('errors.stickerLoadingError.text', { path: image.src }));

          reject(new Error('Loading sticker failed'));
        });

        image.crossOrigin = _this3.context.editor.getCrossOrigin();
        image.src = resolvedStickerPath;
      });
    }
  }, {
    key: '_updateStickerCategories',
    value: function _updateStickerCategories(newCategories) {
      var _options = this._options,
          categories = _options.categories,
          replaceCategories = _options.replaceCategories,
          availableStickers = _options.availableStickers;


      if (!newCategories) {
        newCategories = categories;
      }

      var stickerManager = new __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["StickerManager"](this.context.ui, {
        categories: newCategories,
        replaceCategories: replaceCategories,
        availableStickers: availableStickers
      });

      this.sharedState.set({ stickerManager: stickerManager });
    }

    /**
     * Is called when a control is entered
     * @private
     */

  }, {
    key: '_onEnter',
    value: function _onEnter() {
      var editor = this.context.editor;


      this._updateStickerCategories();

      this._mediator.on(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ADDED_STICKER, this._updateStickerCategories);

      editor.zoom.auto();
      editor.features.disable('zoom', 'drag');
    }

    /**
     * Invoked when the user leaves this control
     * @private
     */

  }, {
    key: '_onLeave',
    value: function _onLeave() {
      var editor = this.context.editor;

      this._mediator.off(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ADDED_STICKER, this._updateStickerCategories);
      editor.features.enable('zoom', 'drag');
      editor.render();
    }

    /**
     * Checks if this control reacts to a click at the given (relative to canvas) position. If it
     * does, it returns an object with a prepared shared state (e.g. selected sprite) that is passed
     * to this control on creation
     * @param  {PhotoEditorSDK.Math.Vector2} clickPosition
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {Object}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.getOrCreate('sprite');
      var inputDimensions = operation.getInputDimensions(false);
      var selectedSprite = previousState.selectedSprite,
          stickerManager = previousState.stickerManager;


      if (selectedSprite && operation.getSprites().indexOf(selectedSprite) < 0) {
        var newSprite = operation.getSprites().filter(function (sprite) {
          return sprite.getId() === selectedSprite.getId();
        })[0];
        if (newSprite) {
          selectedSprite = newSprite;
        }
      }

      return {
        operation: operation,
        inputDimensions: inputDimensions,
        stickerManager: stickerManager,
        selectedSprite: selectedSprite,
        stickerObject: selectedSprite && stickerManager ? stickerManager.getStickerByIdentifier(selectedSprite.getIdentifier()) : null,
        image: selectedSprite ? selectedSprite.getImage() : null,
        alpha: selectedSprite ? selectedSprite.getAlpha() * 100 : 0,
        tintMode: selectedSprite ? selectedSprite.getTintMode() : '',
        tintColor: selectedSprite ? selectedSprite.getTintColor() : null,

        // actions
        setStickerOptions: function setStickerOptions(opts) {
          selectedSprite && selectedSprite.set(opts);
        },
        setStickerImage: function setStickerImage(image) {
          selectedSprite && selectedSprite.setImage(image);
        },
        setAlpha: function setAlpha(value) {
          selectedSprite && selectedSprite.setAlpha(value / 100);
        },
        setTintMode: function setTintMode(value) {
          selectedSprite && selectedSprite.setTintMode(value);
        },
        setTintColor: function setTintColor(value) {
          selectedSprite && selectedSprite.setTintColor(value);
        }
      };
    }
  }, {
    key: 'clickAtPosition',
    value: function clickAtPosition(clickPosition, editor) {
      var operation = editor.operations.get('sprite');

      if (!operation) {
        return false;
      }

      var sprites = operation.getSpritesAtPosition(clickPosition, editor.getOutputTextureDimensions()).filter(function (s) {
        return s instanceof StickerSprite;
      });

      return sprites[0] ? { selectedSprite: sprites[0] } : false;
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      return ['editor/controls/shared/canvas-overlay-controls/to-front.png', 'editor/controls/shared/canvas-overlay-controls/duplicate.png', 'editor/controls/shared/canvas-overlay-controls/delete.png'];
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('sticker') && editor.isToolEnabled('sticker');
    }
  }]);

  return StickerControls;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"]);

StickerControls.identifier = 'sticker';
StickerControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_7__sticker_controls_component__["a" /* default */];
StickerControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_8__sticker_canvas_controls_component__["a" /* default */];
StickerControls.iconPath = 'editor/controls/sticker/icon.png';
StickerControls.activeIconPath = 'editor/controls/sticker/icon-active.png';
StickerControls.requiredOperations = ['sprite'];
StickerControls.defaultOptions = {
  categories: [],
  replaceCategories: false,
  availableStickers: null,
  snapRotation: 90,
  snapRotationTolerance: 5 };
StickerControls.updatableOperations = ['sprite'];
StickerControls.switchToDefaultControlsOnRemoval = true;


__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default.a.Controls.StickerControls = StickerControls;

/* harmony default export */ __webpack_exports__["a"] = (StickerControls);

/***/ }),
/* 336 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__sticker_root_panel_component__ = __webpack_require__(337);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__sticker_category_panel_component__ = __webpack_require__(339);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__sticker_options_panel_component__ = __webpack_require__(340);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */







var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var PanelEnum = {
  ROOT: 1,
  CATEGORY: 2,
  OPTIONS: 3
};

var StickerControlsComponent = function (_ControlsComponent) {
  _inherits(StickerControlsComponent, _ControlsComponent);

  function StickerControlsComponent() {
    var _ref;

    _classCallCheck(this, StickerControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = StickerControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onCategoryClick', '_onStickerClick', '_onBackClick', '_onNewStickerClick', '_onReplaceClick');

    _this._needsStyleFixes = true;

    var currentPanel = PanelEnum.ROOT;
    if (_this.sharedState.selectedSprite) {
      currentPanel = PanelEnum.OPTIONS;
    }
    _this.state.currentPanel = currentPanel;
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * A method that is called whenever styles need to be fixed by the JavaScript.
   * This needs to be done thanks to older Internet Explorer browsers which have
   * a bunch of CSS bugs.
   * @return {Promise}
   */


  _createClass(StickerControlsComponent, [{
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      this._list.style.height = '100%';
      return _get(StickerControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerControlsComponent.prototype), 'fixStyles', this).call(this).then(function () {
        if (__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          var containerHeight = _this2._container.offsetHeight;
          _this2._list.style.height = containerHeight + 'px';
        }

        return _this2.refs.panel.fixStyles();
      });
    }

    /**
     * Invoked immediately after updating occurs
     */

  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(prevProps, prevState) {
      if (this.state.currentPanel !== prevState.currentPanel) {
        this.fixStyles();
      }
    }
  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      if (oldState.stickerObject !== newState.stickerObject && newState.selectedSprite && newState.stickerObject) {
        this.setState({
          currentPanel: PanelEnum.OPTIONS
        });
      }
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked hwen the `Replace` button has been clicked
     * @privte
     */

  }, {
    key: '_onReplaceClick',
    value: function _onReplaceClick() {
      this.setState({
        currentPanel: PanelEnum.ROOT
      });
    }

    /**
     * Invoked when the `New Sticker` button has been clicked
     * @private
     */

  }, {
    key: '_onNewStickerClick',
    value: function _onNewStickerClick() {
      this.state.currentPanel = PanelEnum.ROOT;
      this.setSharedState({
        selectedSprite: null
      });
    }

    /**
     * Called when the user clicks a category item.
     * @param  {Category} category
     * @private
     */

  }, {
    key: '_onCategoryClick',
    value: function _onCategoryClick(category) {
      this.setState({
        currentPanel: PanelEnum.CATEGORY,
        category: category
      });
    }

    /**
     * Called when the user clicks the back button
     * in a category panel.
     * @private
     */

  }, {
    key: '_onBackClick',
    value: function _onBackClick() {
      this.setState({
        currentPanel: PanelEnum.ROOT
      });
    }

    /**
     * Called when the user clicks a sticker.
     * @param {Object} sticker
     * @private
     */

  }, {
    key: '_onStickerClick',
    value: function _onStickerClick(sticker) {
      var _this3 = this;

      var selectedSprite = this.sharedState.selectedSprite;

      var switchToOptions = function switchToOptions() {
        _this3.setState({
          currentPanel: PanelEnum.OPTIONS
        });
      };

      var editor = this.context.editor;

      if (!selectedSprite) {
        this.props.controls.createSticker(sticker).then(function (selectedSprite) {
          switchToOptions();
        });
      } else {
        this.props.controls.loadStickerImage(sticker).then(function (image) {
          var dimensions = selectedSprite.getDimensions().clone();
          var longestSide = dimensions.max();
          var boundingRectangle = new Vector2(longestSide, longestSide);
          var imageDimensions = new Vector2(image.width, image.height);

          var stickerOptions = {
            image: image,
            identifier: sticker.identifier,
            dimensions: __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].resizeVectorToFit(imageDimensions, boundingRectangle)
          };

          if (selectedSprite.getTintMode() !== 'none') {
            selectedSprite.setTintMode(sticker.tintMode || 'none');
          }

          _this3.sharedState.setStickerOptions(stickerOptions);
          _this3.sharedState.setStickerImage(image);

          _this3.props.controls.addLocalHistorySnapshot('sticker-image', true);

          editor.render();

          switchToOptions();
        });
      }
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the current panel according to
     * the components state.
     * @return {React.Element} The panel component
     */

  }, {
    key: '_renderCurrentPanel',
    value: function _renderCurrentPanel() {
      var _this4 = this;

      var controls = this.props.controls;
      var stickerManager = this.sharedState.stickerManager;


      var currentPanel = this.state.currentPanel;

      // const currentPanel = (this.sharedState.selectedSprite && this.sharedState.stickerObject)
      //   ? PanelEnum.OPTIONS : this.state.currentPanel

      switch (currentPanel) {
        case PanelEnum.ROOT:
          return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__sticker_root_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            stickerManager: stickerManager,
            onCategoryClick: this._onCategoryClick,
            onStickerClick: this._onStickerClick,
            controls: controls,
            ref: 'panel'
          });
        case PanelEnum.CATEGORY:
          return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__sticker_category_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            category: this.state.category,
            stickerManager: stickerManager,
            onBackClick: this._onBackClick,
            onStickerClick: this._onStickerClick,
            controls: controls,
            ref: 'panel'
          });
        case PanelEnum.OPTIONS:
          return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_9__sticker_options_panel_component__["a" /* default */], {
            innerRef: function innerRef(el) {
              _this4._list = el;
            },
            stickerManager: stickerManager,
            onReplaceClick: this._onReplaceClick,
            onNewStickerClick: this._onNewStickerClick,
            controls: controls,
            ref: 'panel'
          });
      }
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-stickerControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this component's content
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      return this._renderCurrentPanel();
    }
  }]);

  return StickerControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

StickerControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
StickerControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (StickerControlsComponent);

/***/ }),
/* 337 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sticker_category_item_component__ = __webpack_require__(338);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__sticker_list_component__ = __webpack_require__(132);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */





var test = ("production") === 'test';

var StickerRootPanelComponent = function (_BaseComponent) {
  _inherits(StickerRootPanelComponent, _BaseComponent);

  function StickerRootPanelComponent() {
    var _ref;

    _classCallCheck(this, StickerRootPanelComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = StickerRootPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerRootPanelComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      category: 'all'
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Invoked when the user clicks a category
   * @param  {Object} category
   * @param  {Event} e
   * @private
   */


  _createClass(StickerRootPanelComponent, [{
    key: '_onCategoryClick',
    value: function _onCategoryClick(category, e) {
      this.props.onCategoryClick && this.props.onCategoryClick(category);
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * This method is called from the StickerControlsComponent due to timing issues.
     * @return {Promise}
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders an item for each category
     * @return {React.Element[]} An array of items.
     * @private
     */

  }, {
    key: '_renderListItems',
    value: function _renderListItems() {
      var _this3 = this;

      var stickerManager = this.props.stickerManager;

      var categories = stickerManager.getCategories();

      return categories.map(function (category) {
        return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__sticker_category_item_component__["a" /* default */], {
          key: category.identifier,
          category: category,
          onClick: _this3._onCategoryClick.bind(_this3, category)
        });
      });
    }

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this4 = this;

      var _props = this.props,
          stickerManager = _props.stickerManager,
          _innerRef = _props.innerRef;

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Wrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this4._wrapper = el;
          },
          className: test ? 'js-rootPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this4._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            CategoryList,
            null,
            this._renderListItems()
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__sticker_list_component__["a" /* default */], {
            stickers: stickerManager.getStickersForCategory('all'),
            onStickerClick: this.props.onStickerClick })
        )
      );
    }
  }]);

  return StickerRootPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

StickerRootPanelComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerRootPanelComponent);


var Wrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'Wrapper');

var CategoryList = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].ul('5jg0ou', 'CategoryList');

/***/ }),
/* 338 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;

var test = ("production") === 'test';

var StickerCategoryItemComponent = function (_BaseComponent) {
  _inherits(StickerCategoryItemComponent, _BaseComponent);

  function StickerCategoryItemComponent() {
    _classCallCheck(this, StickerCategoryItemComponent);

    return _possibleConstructorReturn(this, (StickerCategoryItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(StickerCategoryItemComponent)).apply(this, arguments));
  }

  _createClass(StickerCategoryItemComponent, [{
    key: 'render',


    /**
     * Renders this component.
     * @return {React.Element}
     */
    value: function render() {
      var category = this.props.category;

      var backgroundImagePath = this._getAssetPath(category.metaData.backgroundImage);

      var itemStyle = {
        backgroundImage: 'url(\'' + backgroundImagePath + '\')'
      };
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        StickerCategoryItem,
        {
          onClick: this.props.onClick,
          style: itemStyle,
          className: test ? 'js-category' : undefined },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Title,
          null,
          this._t('editor.controls.sticker.stickerCategories.' + category.identifier) || category.defaultName
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(Gradient, null)
      );
    }
  }]);

  return StickerCategoryItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

StickerCategoryItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerCategoryItemComponent);


var StickerCategoryItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).li('1dc04zg', 'StickerCategoryItem');

var Gradient = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1fxaw8w', 'Gradient');

var Title = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).div('120drhm', 'Title');

/***/ }),
/* 339 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__sticker_list_component__ = __webpack_require__(132);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var ControlItemTextStyles = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTextStyles;

var test = ("production") === 'test';

var StickerCategoryPanelComponent = function (_BaseComponent) {
  _inherits(StickerCategoryPanelComponent, _BaseComponent);

  function StickerCategoryPanelComponent() {
    _classCallCheck(this, StickerCategoryPanelComponent);

    return _possibleConstructorReturn(this, (StickerCategoryPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerCategoryPanelComponent)).apply(this, arguments));
  }

  _createClass(StickerCategoryPanelComponent, [{
    key: 'fixStyles',


    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * This method is called from the StickerControlsComponent due to timing issues.
     * @return {Promise}
     */
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          stickerManager = _props.stickerManager,
          category = _props.category,
          onBackClick = _props.onBackClick,
          onStickerClick = _props.onStickerClick,
          _innerRef = _props.innerRef;


      var backgroundImagePath = this._getAssetPath(category.metaData.backgroundImage);
      var headerStyle = {
        backgroundImage: 'url(\'' + backgroundImagePath + '\')',
        backgroundSize: 'cover'
      };
      var backButtonStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/shared/back.png', true) + '\')'
      };

      var stickers = stickerManager.getStickersForCategory(category.identifier);
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        StickerCategoryPanel,
        {
          innerRef: function innerRef(el) {
            return _innerRef && _innerRef(el);
          },
          className: test ? 'js-categoryPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Header,
          { style: headerStyle },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            HeaderContent,
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Title,
              null,
              this._t('editor.controls.sticker.stickerCategories.' + category.identifier) || category.defaultName
            ),
            category.metaData.author && __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Subtitle,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                'span',
                null,
                'by '
              ),
              category.metaData.author
            ),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(BackButton, {
              style: backButtonStyle,
              onClick: onBackClick.bind(this),
              className: test ? 'js-backButton' : undefined })
          )
        ),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Content,
          { innerRef: function innerRef(el) {
              _this3._wrapper = el;
            } },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
            {
              direction: 'vertical',
              innerRef: function innerRef(el) {
                _this3._scrollbar = el;
              } },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__sticker_list_component__["a" /* default */], {
              stickers: stickers,
              onStickerClick: onStickerClick })
          )
        )
      );
    }
  }]);

  return StickerCategoryPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

// -------------------------------------------------------------------------- STYLES

StickerCategoryPanelComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerCategoryPanelComponent);
var StickerCategoryPanel = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('iauaz2', 'StickerCategoryPanel');

var Header = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('2j8ygm', 'Header');

var HeaderContent = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('3wd3qf', 'HeaderContent');

var Content = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('zb78lb', 'Content');

var Title = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTextStyles).div('kswtk0', 'Title');

var Subtitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTextStyles).div('1qn5s6u', 'Subtitle');

var BackButton = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].button('1t2nim8', 'BackButton');

/***/ }),
/* 340 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItemBackground = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItemBackground;

var test = ("production") === 'test';

var StickerOptionsPanelComponent = function (_SharedStateComponent) {
  _inherits(StickerOptionsPanelComponent, _SharedStateComponent);

  function StickerOptionsPanelComponent() {
    var _ref;

    _classCallCheck(this, StickerOptionsPanelComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = StickerOptionsPanelComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerOptionsPanelComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onTintToggle', '_onTintColorChange', '_onOpacityChange');
    return _this;
  }

  /**
   * Returns the sticker object
   * @return {Object}
   * @private
   */


  _createClass(StickerOptionsPanelComponent, [{
    key: '_getStickerObject',
    value: function _getStickerObject() {
      return this.sharedState.stickerObject;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Called after a operation option has been changed on the UI, so we can create
     * a history item and update the editor output.
     * @param {String} name
     * @param {Boolean} grouped
     */

  }, {
    key: '_onChangedOption',
    value: function _onChangedOption(name, grouped) {
      name && this.props.controls.addLocalHistorySnapshot(name, grouped);

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the opacity has been changed
     * @param  {Number} opacity
     * @private
     */

  }, {
    key: '_onOpacityChange',
    value: function _onOpacityChange(opacity) {
      this.sharedState.setAlpha(opacity);
      this._onChangedOption('sticker-opacity', true);
    }

    /**
     * Invoked when the tint has been turned on or off
     * @param  {Boolean} enabled
     * @private
     */

  }, {
    key: '_onTintToggle',
    value: function _onTintToggle(enabled) {
      var sticker = this._getStickerObject();
      this.sharedState.setTintMode(enabled ? sticker.tintMode : 'none');
      this._onChangedOption('sticker-tint-toggle', true);
    }

    /**
     * Invoked when the tint color has been changed
     * @param  {PhotoEditorSDK.Color} color
     * @private
     */

  }, {
    key: '_onTintColorChange',
    value: function _onTintColorChange(color) {
      this.sharedState.setTintColor(color.clone());
      this._onChangedOption('sticker-tint', true);
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * A method that is called whenever styles need to be fixed by the JavaScript.
     * This needs to be done thanks to older Internet Explorer browsers which have
     * a bunch of CSS bugs.
     * This method is called from the StickerControlsComponent due to timing issues.
     * @return {Promise}
     */

  }, {
    key: 'fixStyles',
    value: function fixStyles() {
      var _this2 = this;

      return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a.resolve().then(function () {
        if (__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].Browser.isIElte(10)) {
          Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["requestAnimationFrame"])(function () {
            _this2._scrollbar.update();
          });
        } else {
          _this2._scrollbar.update();
        }
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component.
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var _props = this.props,
          _innerRef = _props.innerRef,
          onNewStickerClick = _props.onNewStickerClick,
          onReplaceClick = _props.onReplaceClick;
      var _sharedState = this.sharedState,
          alpha = _sharedState.alpha,
          tintMode = _sharedState.tintMode,
          tintColor = _sharedState.tintColor,
          selectedSprite = _sharedState.selectedSprite;

      if (!selectedSprite) return null;

      var sticker = this._getStickerObject();

      var thumbnailStyle = {
        background: 'url(\'' + selectedSprite.getImage().src + '\') center center / contain no-repeat'
      };

      var tintable = !!sticker.tintMode && sticker.tintMode !== 'none';

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Wrapper,
        {
          innerRef: function innerRef(el) {
            _innerRef && _innerRef(el);_this3._wrapper = el;
          },
          className: test ? 'js-optionsPanel' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
          {
            direction: 'vertical',
            innerRef: function innerRef(el) {
              _this3._scrollbar = el;
            } },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            'div',
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              TopSection,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ButtonComponent"], {
                title: this._t('editor.controls.sticker.new'),
                className: test ? 'js-newStickerButton' : undefined,
                onClick: onNewStickerClick }),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                Details,
                null,
                __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  Thumbnail,
                  null,
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(ThumbnailImage, {
                    onClick: onReplaceClick,
                    style: thumbnailStyle })
                ),
                __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  DetailsContainer,
                  null,
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    Title,
                    null,
                    this._t('editor.controls.sticker.stickers.' + sticker.identifier) || sticker.defaultName
                  ),
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    ReplaceButton,
                    {
                      onClick: onReplaceClick,
                      className: test ? 'js-replaceButton' : undefined },
                    this._t('editor.controls.sticker.replace')
                  )
                )
              ),
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderControlComponent"], {
                minValue: 0,
                value: Math.round(alpha),
                maxValue: 100,
                label: this._t('editor.controls.sticker.opacity'),
                onSliderValueChange: this._onOpacityChange,
                onValueChange: this._onOpacityChange,
                middleDot: false,
                className: test ? 'js-opacityControl' : undefined })
            ),
            tintable && __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CollapseSectionComponent"],
              {
                toggleable: true,
                title: this._t('editor.controls.sticker.fill'),
                expanded: tintMode !== 'none',
                className: test ? 'js-fillControl' : undefined,
                onToggle: this._onTintToggle },
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(ColorSelection, {
                value: tintColor,
                onColorPickerToggle: this.fixStyles,
                onChange: this._onTintColorChange })
            )
          )
        )
      );
    }
  }]);

  return StickerOptionsPanelComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

// -------------------------------------------------------------------------- STYLES

StickerOptionsPanelComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerOptionsPanelComponent);
var Wrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('rfecls', 'Wrapper');

var TopSection = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1vnvjau', 'TopSection');

var Details = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('aqfteq', 'Details');

var Thumbnail = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItemBackground).div('6u8g0p', 'Thumbnail');

var ThumbnailImage = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('7r0ke8', 'ThumbnailImage');

var DetailsContainer = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1trlo6v', 'DetailsContainer');

var Title = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('w9mc0y', 'Title');

var ReplaceButton = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1rhky7p', 'ReplaceButton');

var ColorSelection = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"])('1ouwzwk', 'ColorSelection');

/***/ }),
/* 341 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__shared_sprites_sprites_canvas_controls_component__ = __webpack_require__(54);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var SpriteOperation = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation;

var StickerSprite = void 0;
if (SpriteOperation) {
  StickerSprite = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Operations"].SpriteOperation.StickerSprite;
}

var StickerCanvasControlsComponent = function (_SpritesCanvasControl) {
  _inherits(StickerCanvasControlsComponent, _SpritesCanvasControl);

  function StickerCanvasControlsComponent() {
    _classCallCheck(this, StickerCanvasControlsComponent);

    return _possibleConstructorReturn(this, (StickerCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerCanvasControlsComponent)).apply(this, arguments));
  }

  _createClass(StickerCanvasControlsComponent, [{
    key: '_renderSpriteItems',


    /**
     * Renders the sprite items
     * @param {Sprite[]} sprites
     * @return {React.Component[]}
     * @private
     */
    value: function _renderSpriteItems(sprites) {
      // Only render sticker items
      return _get(StickerCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(StickerCanvasControlsComponent.prototype), '_renderSpriteItems', this).call(this, sprites.filter(function (s) {
        return s instanceof StickerSprite;
      }));
    }

    /**
     * Selects the next sprite
     * @private
     */

  }, {
    key: '_selectNextSprite',
    value: function _selectNextSprite() {
      var operation = this.getSharedState('operation');
      var sprites = operation.getSprites().slice(0).reverse();

      var sprite = void 0,
          nextSprite = void 0;
      for (var i = 0; i < sprites.length; i++) {
        sprite = sprites[i];
        if (sprite instanceof StickerSprite) {
          nextSprite = sprite;
          break;
        }
      }

      if (!nextSprite) {
        this.props.controls.skipHistory = true;
        this.context.screen.switchToControls('default');
      }
      this.setSharedState({ selectedSprite: nextSprite });
    }

    /**
     * Creates a new sprite with the given options
     * @param  {Object} options
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprite}
     * @private
     */

  }, {
    key: '_createSprite',
    value: function _createSprite(options) {
      var operation = this.getSharedState('operation');
      return operation.createSticker(options);
    }
  }]);

  return StickerCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6__shared_sprites_sprites_canvas_controls_component__["a" /* default */]);

StickerCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6__shared_sprites_sprites_canvas_controls_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (StickerCanvasControlsComponent);

/***/ }),
/* 342 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__text_controls_component__ = __webpack_require__(343);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__text_canvas_controls_component__ = __webpack_require__(347);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var Vector2 = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Math"].Vector2;


var TextSprite = void 0,
    BrushSprite = void 0;
if (__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Operations"].SpriteOperation) {
  TextSprite = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Operations"].SpriteOperation.TextSprite;
  BrushSprite = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Operations"].SpriteOperation.BrushSprite;
}

/**
 * The Controls for the Text tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var TextControls = function (_BaseControls) {
  _inherits(TextControls, _BaseControls);

  function TextControls() {
    _classCallCheck(this, TextControls);

    return _possibleConstructorReturn(this, (TextControls.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TextControls)).apply(this, arguments));
  }

  _createClass(TextControls, [{
    key: 'createText',


    /**
     * Creates a new text sprite
     * @private
     */
    value: function createText() {
      var editor = this.context.editor;


      var operation = this.sharedState.get('operation');
      var fontManager = this.sharedState.get('fontManager');
      var defaultFontVariation = fontManager.getDefaultVariation();

      var outputDimensions = editor.getOutputDimensions();
      var sdk = editor.getSDK();
      var renderer = sdk.getRenderer();
      var maxTextureSize = renderer.getMaxTextureSize();

      var text = operation.createText({
        text: this.context.ui.translate('editor.controls.text.defaultText'),
        position: new Vector2(0.5, 0.5),
        maxWidth: 0.5,
        maxHeight: maxTextureSize ? maxTextureSize / outputDimensions.y : 3,
        textMetrics: defaultFontVariation.getTextMetrics(),
        fontIdentifier: defaultFontVariation.getIdentifier(),
        fontSize: 0.08,
        fontFamily: defaultFontVariation.getFontFamily(),
        fontWeight: defaultFontVariation.getFontWeight(),
        fontStyle: defaultFontVariation.getFontStyle(),
        color: __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Color"].WHITE,
        alignment: 'center'
      });

      this.sharedState.set({ selectedSprite: text });

      operation.addSprite(text);

      this.addLocalHistorySnapshot();

      return text;
    }

    /**
     * Is called when a control is entered
     * @private
     */

  }, {
    key: '_onEnter',
    value: function _onEnter() {
      var editor = this.context.editor;
      var _options = this._options,
          fonts = _options.fonts,
          replaceFonts = _options.replaceFonts,
          availableVariations = _options.availableVariations;

      var fontManager = new __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["FontManager"](this.context.ui, { fonts: fonts, replaceFonts: replaceFonts, availableVariations: availableVariations });

      this.sharedState.set({
        fontManager: fontManager
      });

      editor.features.disable('zoom', 'drag');
      editor.zoom.auto();

      var selectedSprite = this.sharedState.get('selectedSprite');
      if (!selectedSprite) {
        this.createText();
      }

      editor.render();
    }

    /**
     * Invoked when the user leaves this control
     * @private
     */

  }, {
    key: '_onLeave',
    value: function _onLeave() {
      var editor = this.context.editor;


      editor.features.enable('zoom', 'drag');
      editor.render();
    }

    /**
     * Checks if this control reacts to a click at the given (relative to canvas) position. If it
     * does, it returns an object with a prepared shared state (e.g. selected sprite) that is passed
     * to this control on creation
     * @param  {PhotoEditorSDK.Math.Vector2} clickPosition
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {Object}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.getOrCreate('sprite');
      var inputDimensions = operation.getInputDimensions();
      var selectedSprite = previousState.selectedSprite;


      if (selectedSprite && operation.getSprites().indexOf(selectedSprite) < 0) {
        var newSprite = operation.getSprites().filter(function (sprite) {
          return sprite.getId() === selectedSprite.getId();
        })[0];
        if (newSprite) {
          selectedSprite = newSprite;
        }
      }

      return {
        operation: operation,
        selectedSprite: selectedSprite,
        inputDimensions: inputDimensions,
        color: selectedSprite ? selectedSprite.getColor().clone() : null,
        backgroundColor: selectedSprite ? selectedSprite.getBackgroundColor().clone() : null,
        alignment: selectedSprite ? selectedSprite.getAlignment() : null,
        lineHeight: selectedSprite ? selectedSprite.getLineHeight() : 0,
        fontFamily: selectedSprite ? selectedSprite.getFontFamily() : null,

        // actions
        setFontSize: function setFontSize(fontSize) {
          selectedSprite && selectedSprite.setFontSize(fontSize / inputDimensions.min());
        },
        setColor: function setColor(color) {
          selectedSprite && selectedSprite.setColor(color.clone());
        },
        setBackgroundColor: function setBackgroundColor(color) {
          selectedSprite && selectedSprite.setBackgroundColor(color.clone());
        },
        setCharacterSpacing: function setCharacterSpacing(value) {
          selectedSprite && selectedSprite.setCharacterSpacing(value);
        },
        setLineHeight: function setLineHeight(value) {
          selectedSprite && selectedSprite.setLineHeight(value);
        },
        setAlignment: function setAlignment(value) {
          selectedSprite && selectedSprite.setAlignment(value);
        },
        setTextOptions: function setTextOptions(opts) {
          selectedSprite && selectedSprite.set(opts);
        },
        setVariation: function setVariation(variation) {
          selectedSprite && selectedSprite.set({
            fontIdentifier: variation.getIdentifier(),
            fontFamily: variation.getFontFamily(),
            fontWeight: variation.getFontWeight(),
            fontStyle: variation.getFontStyle(),
            textMetrics: variation.getTextMetrics()
          });
        }
      };
    }

    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Object[]} [fonts = []]
     * @property {Boolean} [replaceFonts = false]
     * @property {String[]} [availableVariations = null]
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */

    /**
     * A unique identifier for these controls
     * @type {String}
     */

  }, {
    key: 'clickAtPosition',
    value: function clickAtPosition(clickPosition, editor) {
      if (!editor.operations.exists('sprite')) return false;

      var operation = editor.operations.getOrCreate('sprite');
      var sprites = operation.getSpritesAtPosition(clickPosition, editor.getOutputTextureDimensions()).filter(function (s) {
        return !(s instanceof BrushSprite);
      });

      if (sprites.length && sprites[0] instanceof TextSprite) {
        return { selectedSprite: sprites[0] };
      } else {
        return false;
      }
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      return ['editor/controls/shared/canvas-overlay-controls/to-front.png', 'editor/controls/shared/canvas-overlay-controls/duplicate.png', 'editor/controls/shared/canvas-overlay-controls/delete.png'];
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('text') && editor.isToolEnabled('text');
    }
  }]);

  return TextControls;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseControls"]);

TextControls.identifier = 'text';
TextControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_6__text_controls_component__["a" /* default */];
TextControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_7__text_canvas_controls_component__["a" /* default */];
TextControls.iconPath = 'editor/controls/text/icon.png';
TextControls.activeIconPath = 'editor/controls/text/icon-active.png';
TextControls.requiredOperations = ['sprite'];
TextControls.defaultOptions = {
  fonts: [],
  replaceFonts: false,
  availableVariations: null,
  snapRotation: 90,
  snapRotationTolerance: 5 };
TextControls.updatableOperations = ['sprite'];
TextControls.switchToDefaultControlsOnRemoval = true;


__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default.a.Controls.TextControls = TextControls;

/* harmony default export */ __webpack_exports__["a"] = (TextControls);

/***/ }),
/* 343 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__font_family_and_size_component__ = __webpack_require__(344);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__text_controls_styling_component__ = __webpack_require__(345);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__text_legibility_preset_item_component__ = __webpack_require__(346);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */







var ControlGroupList = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupList;

var test = ("production") === 'test';
var MAX_FONT_LOADING_TIME = 200;

var TextControlsComponent = function (_ControlsComponent) {
  _inherits(TextControlsComponent, _ControlsComponent);

  function TextControlsComponent() {
    var _ref;

    _classCallCheck(this, TextControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onNewTextClick', '_onFontChanged', '_onFontSizeChanged', '_onCharacterSpacingChanged', '_onLineSpacingChanged', '_onColorChanged', '_onBackgroundColorChanged', '_onAlignmentChanged', '_onVariationChanged', '_onTextScaled');

    _this._events = _defineProperty({}, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TEXT_SCALED, _this._onTextScaled);

    // This stores the font families which were not loaded and should be hidden
    // in the font selection dropdown
    _this._unavailableFontFamilies = [];
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(TextControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(TextControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextControlsComponent.prototype), 'componentDidMount', this).call(this);
      this._loadFonts();
    }

    // -------------------------------------------------------------------------- FONT LOADING

  }, {
    key: '_loadFonts',
    value: function _loadFonts() {
      var _this2 = this;

      var fontManager = this.sharedState.fontManager;
      var fontLoader = this.context.ui.getFontLoader();
      fontLoader.setFonts(fontManager.getFonts());

      var loadingModal = void 0;
      var loadingTimeout = window.setTimeout(function () {
        loadingModal = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this2._t('loading.fonts'), true);
      }, MAX_FONT_LOADING_TIME);

      var selectedSprite = this.sharedState.selectedSprite;

      this._unavailableFontFamilies = [];

      return fontLoader.load().then(function () {
        window.clearTimeout(loadingTimeout);
        if (loadingModal) loadingModal.close();

        // Force font update after loading
        selectedSprite.emit('update');
        var editor = _this2.context.editor;

        editor.render();
      }).catch(function (errors) {
        window.clearTimeout(loadingTimeout);
        if (loadingModal) loadingModal.close();

        errors.forEach(function (e) {
          _this2._unavailableFontFamilies.push(e.font.getFontFamily());
        });

        var fonts = _this2._unavailableFontFamilies.join(', ');

        // Force font update after loading
        selectedSprite.emit('update');
        var editor = _this2.context.editor;

        editor.render();
        _this2.forceUpdate();

        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this2._t('errors.fontLoadingError.title'), _this2._t('errors.fontLoadingError.text', { fonts: fonts }));
      });
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Called after a operation option has been changed on the UI, so we can create
     * a history item and update the editor output.
     * @param {String} name
     * @param {Boolean} grouped
     */

  }, {
    key: '_onChangedOption',
    value: function _onChangedOption(name, grouped) {
      name && this.props.controls.addLocalHistorySnapshot(name, grouped);

      var editor = this.context.editor;

      editor.render();
    }

    /**
     * Invoked when the 'New Text' button has been clicked
     * @private
     */

  }, {
    key: '_onNewTextClick',
    value: function _onNewTextClick() {
      this.props.controls.createText();
    }

    /**
     * Invoked when the text alignment has been changed
     * @param  {String} alignment
     * @private
     */

  }, {
    key: '_onAlignmentChanged',
    value: function _onAlignmentChanged(alignment) {
      this.sharedState.setAlignment(alignment);
      this._onChangedOption('text-alignment', true);
    }

    /**
     * Invoked when a different font variation has been selected
     * @param  {String} variation
     * @private
     */

  }, {
    key: '_onVariationChanged',
    value: function _onVariationChanged(variation) {
      this.sharedState.setVariation(variation);
      this._onChangedOption('font-family', true);
    }

    /**
     * Invoked when the font family has been changed
     * @param  {Font} font
     * @private
     */

  }, {
    key: '_onFontChanged',
    value: function _onFontChanged(font) {
      var firstVariation = font.getVariations()[0];
      this._onVariationChanged(firstVariation);
    }

    /**
     * Invoked when the font size has been changed
     * @param  {Number} fontSize
     * @private
     */

  }, {
    key: '_onFontSizeChanged',
    value: function _onFontSizeChanged(fontSize) {
      this.sharedState.setFontSize(fontSize);
      this._onChangedOption('font-size', false);
    }

    /**
     * Invoked when the color has been changed
     * @param  {PhotoEditorSDK.Color} color
     * @private
     */

  }, {
    key: '_onColorChanged',
    value: function _onColorChanged(color) {
      this.sharedState.setColor(color);
      this._onChangedOption('color', true);
    }

    /**
     * Invoked when the background color has been changed
     * @param {PhotoEditorSDK.Color} color
     * @private
     */

  }, {
    key: '_onBackgroundColorChanged',
    value: function _onBackgroundColorChanged(color) {
      this.sharedState.setBackgroundColor(color);
      this._onChangedOption('background-color', true);
    }

    /**
     * Called when the character spacing is changed.
     * @param  {Number} value
     * @return @private
     */

  }, {
    key: '_onCharacterSpacingChanged',
    value: function _onCharacterSpacingChanged(value) {
      this.sharedState.setCharacterSpacing(value);
      this._onChangedOption();
    }

    /**
     * Called when the line spacing is changed.
     * @param  {Number} lineSpacing
     * @return @private
     */

  }, {
    key: '_onLineSpacingChanged',
    value: function _onLineSpacingChanged(lineSpacing) {
      this.sharedState.setLineHeight(lineSpacing);
      this._onChangedOption('line-spacing', true);
    }

    /**
     * Invoked when the user scales the sprite (we need to update this component
     * because the font size has changed)
     * @private
     */

  }, {
    key: '_onTextScaled',
    value: function _onTextScaled() {
      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the font family and font size component
     * @return {React.Component}
     * @private
     */

  }, {
    key: '_renderFontFamilyAndSizeComponent',
    value: function _renderFontFamilyAndSizeComponent() {
      var _this3 = this;

      var _sharedState = this.sharedState,
          selectedSprite = _sharedState.selectedSprite,
          inputDimensions = _sharedState.inputDimensions,
          fontManager = _sharedState.fontManager;

      var fontSize = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].toFixed(selectedSprite.getFontSize() * inputDimensions.min(), 1);
      var maxFontSize = Math.round(inputDimensions.y);
      var selectableFonts = fontManager.getFonts().filter(function (f) {
        return _this3._unavailableFontFamilies.indexOf(f.getFontFamily()) < 0;
      });

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__font_family_and_size_component__["a" /* default */], {
        onValueChange: this._onFontSizeChanged,
        onFontChange: this._onFontChanged,
        fonts: selectableFonts,
        dropdownValue: selectedSprite.getFontFamily(),
        label: this._t('editor.controls.text.font'),
        inputLabel: this._t('editor.controls.text.size'),
        className: test ? 'js-fontFamilyAndSize' : undefined,
        value: fontSize,
        minValue: 10,
        maxValue: maxFontSize });
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-textControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this4 = this;

      var _sharedState2 = this.sharedState,
          selectedSprite = _sharedState2.selectedSprite,
          fontManager = _sharedState2.fontManager;

      if (!selectedSprite) return null;

      var font = fontManager.getFontByFontFamily(selectedSprite.getFontFamily());
      var fontVariation = fontManager.getVariationByIdentifier(selectedSprite.getFontIdentifier());

      var _sharedState3 = this.sharedState,
          color = _sharedState3.color,
          backgroundColor = _sharedState3.backgroundColor,
          alignment = _sharedState3.alignment,
          lineHeight = _sharedState3.lineHeight;


      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          direction: 'vertical',
          innerListRef: function innerListRef(el) {
            _this4._list = el;
          },
          innerRef: function innerRef(el) {
            _this4._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          TopSection,
          { className: test ? 'fixed-text-controls' : undefined },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ButtonComponent"], {
            title: this._t('editor.controls.text.new'),
            onClick: this._onNewTextClick,
            className: test ? 'js-newTextButton' : undefined }),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Details,
            null,
            this._renderFontFamilyAndSizeComponent(),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__text_controls_styling_component__["a" /* default */], {
              alignment: alignment,
              variations: font.getVariations(),
              selectedVariation: fontVariation,
              onAlignmentChange: this._onAlignmentChanged,
              onVariationChange: this._onVariationChanged })
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"], {
            value: color,
            onColorPickerToggle: this.fixStyles,
            onChange: this._onColorChanged })
        ),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          SectionList,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CollapseSectionComponent"],
            { key: 'background', title: this._t('editor.controls.text.background'), alwaysExpanded: true, className: test ? 'js-bgColorCollapse' : undefined },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"], {
              value: backgroundColor,
              onColorPickerToggle: this.fixStyles,
              onChange: this._onBackgroundColorChanged })
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CollapseSectionComponent"],
            { key: 'spacing', title: this._t('editor.controls.text.spacing'), alwaysExpanded: true },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SliderControlComponent"], {
              label: this._t('editor.controls.text.line'),
              minValue: 0.5,
              maxValue: 3,
              className: test ? 'js-lineSpacing' : undefined,
              value: __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Utils"].toFixed(lineHeight, 1),
              onSliderValueChange: this._onLineSpacingChanged,
              onValueChange: this._onLineSpacingChanged })
          )
        )
      );
    }
  }]);

  return TextControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

// -------------------------------------------------------------------------- STYLING


TextControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
TextControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (TextControlsComponent);
var TopSection = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1vnvjau', 'TopSection');

var SectionList = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupList).ul('mgrj1m', 'SectionList');

var Details = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('tymb4t', 'Details');

/***/ }),
/* 344 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var FontFamilyAndSizeComponent = function (_ValueSelectionCompon) {
  _inherits(FontFamilyAndSizeComponent, _ValueSelectionCompon);

  function FontFamilyAndSizeComponent() {
    var _ref;

    _classCallCheck(this, FontFamilyAndSizeComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = FontFamilyAndSizeComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FontFamilyAndSizeComponent)).call.apply(_ref, [this].concat(args)));

    _this._updateFontsMap();
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Invoked before a mounted component receives new props
   * @param  {Object} nextProps
   */


  _createClass(FontFamilyAndSizeComponent, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      _get(FontFamilyAndSizeComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(FontFamilyAndSizeComponent.prototype), 'componentWillReceiveProps', this).call(this, nextProps);
      if (nextProps.fonts !== this.props.fonts) {
        this._updateFontsMap();
      }
    }

    /**
     * Updates the fonts map (<FontFamily, Font>)
     * @private
     */

  }, {
    key: '_updateFontsMap',
    value: function _updateFontsMap() {
      var _this2 = this;

      this._fontsMap = {};
      this.props.fonts.forEach(function (font) {
        _this2._fontsMap[font.getFontFamily()] = font;
      });
    }

    /**
     * Renders the left part of this ValueSelectionComponent
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderLeftPart',
    value: function _renderLeftPart() {
      var fontFamily = this.sharedState.fontFamily;
      var font = this._fontsMap[fontFamily];
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        'div',
        { ref: 'root', className: test ? 'js-fontDropdown' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["DropdownComponent"],
          {
            value: font,
            style: { fontFamily: fontFamily },
            className: test ? 'js-fontDropdown' : undefined,
            onChange: this.props.onFontChange },
          this.props.fonts.map(function (font) {
            return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["DropdownComponent"].Item,
              {
                value: font,
                key: font.getFontFamily(),
                style: { fontFamily: font.getFontFamily() } },
              font.getFontFamily()
            );
          })
        )
      );
    }
  }]);

  return FontFamilyAndSizeComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ValueSelectionComponent"]);

FontFamilyAndSizeComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ValueSelectionComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (FontFamilyAndSizeComponent);

/***/ }),
/* 345 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:/**
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var test = ("production") === 'test';

var TextControlsStylingComponent = function (_BaseComponent) {
  _inherits(TextControlsStylingComponent, _BaseComponent);

  function TextControlsStylingComponent() {
    _classCallCheck(this, TextControlsStylingComponent);

    return _possibleConstructorReturn(this, (TextControlsStylingComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TextControlsStylingComponent)).apply(this, arguments));
  }

  _createClass(TextControlsStylingComponent, [{
    key: '_onAlignmentItemClick',


    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks an alignment item
     * @param  {Object} item
     * @private
     */
    value: function _onAlignmentItemClick(item) {
      this.props.onAlignmentChange && this.props.onAlignmentChange(item.title);
    }

    /**
     * Invoked when the user clicks a style item
     * @param  {Object} item
     * @private
     */

  }, {
    key: '_onStyleItemClick',
    value: function _onStyleItemClick(item) {
      switch (item.title) {
        case 'bold':
          this.props.onStyleChange && this.props.onStyleChange('fontWeight', this.props.bold ? 'normal' : 'bold');
          break;
        case 'italic':
          this.props.onStyleChange && this.props.onStyleChange('fontStyle', this.props.italic ? 'normal' : 'italic');
          break;
      }
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the alignment items
     * @return {React.Element[]}
     * @private
     */

  }, {
    key: '_renderAligmentItems',
    value: function _renderAligmentItems() {
      var _this2 = this;

      var alignment = this.props.alignment;

      var items = [{
        title: 'left',
        selected: alignment === 'left',
        iconPath: 'editor/controls/text/align-left.png',
        selectedIconPath: 'editor/controls/text/align-left-selected.png'
      }, {
        title: 'center',
        selected: alignment === 'center',
        iconPath: 'editor/controls/text/align-center.png',
        selectedIconPath: 'editor/controls/text/align-center-selected.png'
      }, {
        title: 'right',
        selected: alignment === 'right',
        iconPath: 'editor/controls/text/align-right.png',
        selectedIconPath: 'editor/controls/text/align-right-selected.png'
      }];

      return items.map(function (item) {
        var iconPath = _this2._getAssetPath(item.iconPath, true);
        var selectedIconPath = _this2._getAssetPath(item.selectedIconPath, true);
        return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ItemContainer,
          {
            key: item.title,
            className: test ? 'js-textAlignment' : undefined,
            'data-alignment': item.title,
            'data-selected': item.selected,
            onClick: _this2._onAlignmentItemClick.bind(_this2, item) },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(ItemImage, {
            visible: true,
            src: iconPath }),
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(ItemImage, {
            visible: item.selected,
            src: selectedIconPath })
        );
      }, this);
    }

    /**
     * Renders the styles dropdown
     * @return {React.Element}
     * @private
     */

  }, {
    key: '_renderStylesDropdown',
    value: function _renderStylesDropdown() {
      var _props = this.props,
          variations = _props.variations,
          selectedVariation = _props.selectedVariation;

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["DropdownComponent"],
        {
          value: selectedVariation,
          onChange: this.props.onVariationChange,
          className: test ? 'js-styleDropdown' : undefined,
          enableMenu: variations.length > 1
        },
        variations.map(function (variation) {
          return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["DropdownComponent"].Item,
            {
              value: variation,
              key: variation.getIdentifier(),
              style: {
                fontFamily: variation.getFontFamily(),
                fontStyle: variation.getFontStyle(),
                fontWeight: variation.getFontWeight()
              } },
            variation.getLabel()
          );
        })
      );
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        TextControlsStyling,
        {
          className: test ? 'js-textStylingControls' : undefined },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Group,
          null,
          this._renderStylesDropdown()
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Group,
          { right: true },
          this._renderAligmentItems()
        )
      );
    }
  }]);

  return TextControlsStylingComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

TextControlsStylingComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TextControlsStylingComponent);


var TextControlsStyling = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('1hzgwcr', 'TextControlsStyling');

var Group = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('64aub5', {
  right: '9ygmmm'
}, 'Group');

var ItemContainer = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('tgbgl1', {
  selected: 'zgbg08'
}, 'ItemContainer');

var ItemImage = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].img('7ni881', {
  visible: 'zgbg08'
}, 'ItemImage');

/***/ }),
/* 346 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */


var ControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItem,
    ControlItemTitle = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].ControlItemTitle;

var LegibilityPresetItemComponent = function (_BaseComponent) {
  _inherits(LegibilityPresetItemComponent, _BaseComponent);

  function LegibilityPresetItemComponent() {
    var _ref;

    _classCallCheck(this, LegibilityPresetItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = LegibilityPresetItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(LegibilityPresetItemComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onClick', '_onMouseEnter', '_onMouseLeave', '_onIntensityChanged');

    _this.state = {
      selected: false,
      hovering: false,
      intensity: 50
    };
    return _this;
  }

  // -------------------------------------------------------------------------- EVENTS

  /**
   * Gets called when the user clicks the item.
   * @private
   */


  _createClass(LegibilityPresetItemComponent, [{
    key: '_onClick',
    value: function _onClick() {
      this.setState({
        selected: true
      });
    }

    /**
     * Gets called when the mouse enters the navigation bar.
     * @private
     */

  }, {
    key: '_onMouseEnter',
    value: function _onMouseEnter() {
      this.setState({
        hovering: true
      });
    }

    /**
     * Gets called when the mouse leaves the navigation bar.
     * @private
     */

  }, {
    key: '_onMouseLeave',
    value: function _onMouseLeave() {
      this.setState({
        hovering: false
      });
    }

    /**
     * Called when the intensity changes.
     * @param  {Number} value The new intensity
     * @private
     */

  }, {
    key: '_onIntensityChanged',
    value: function _onIntensityChanged(value) {
      this.setState({
        intensity: value
      });
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          selected = _state.selected,
          hovering = _state.hovering,
          intensity = _state.intensity;


      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        LegibilityPresetItem,
        {
          onMouseEnter: this._onMouseEnter,
          onMouseLeave: this._onMouseLeave,
          onClick: this._onClick,
          selected: selected },
        !(selected && hovering) && __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Title,
          { selected: selected },
          this.props.title
        ),
        selected && hovering && __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Slider,
          null,
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["SliderComponent"], {
            minValue: 0,
            maxValue: 100,
            valueUnit: '',
            middleDot: false,
            value: intensity,
            onChange: this._onIntensityChanged })
        )
      );
    }
  }]);

  return LegibilityPresetItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

// -------------------------------------------------------------------------- STYLING

LegibilityPresetItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* unused harmony default export */ var _unused_webpack_default_export = (LegibilityPresetItemComponent);
var LegibilityPresetItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItem).div('nasu8t', {
  selected: '120drhm'
}, 'LegibilityPresetItem');

var Title = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(ControlItemTitle).div('1hd9n2f', {
  selected: '186qcx6'
}, 'Title');

var Slider = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('8ekz81', 'Slider');

/***/ }),
/* 347 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__shared_sprites_sprites_canvas_controls_component__ = __webpack_require__(54);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var TextSprite = void 0;
if (__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Operations"].SpriteOperation) {
  TextSprite = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Operations"].SpriteOperation.TextSprite;
}

var TextCanvasControlsComponent = function (_SpritesCanvasControl) {
  _inherits(TextCanvasControlsComponent, _SpritesCanvasControl);

  function TextCanvasControlsComponent() {
    _classCallCheck(this, TextCanvasControlsComponent);

    return _possibleConstructorReturn(this, (TextCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TextCanvasControlsComponent)).apply(this, arguments));
  }

  _createClass(TextCanvasControlsComponent, [{
    key: '_selectNextSprite',


    /**
     * Selects the next sprite
     * @private
     */
    value: function _selectNextSprite() {
      var operation = this.getSharedState('operation');
      var sprites = operation.getSprites().slice(0).reverse();

      var sprite = void 0,
          nextSprite = void 0;
      for (var i = 0; i < sprites.length; i++) {
        sprite = sprites[i];
        if (sprite instanceof TextSprite) {
          nextSprite = sprite;
          break;
        }
      }

      if (!nextSprite) {
        this.props.controls.skipHistory = true;
        this.context.screen.switchToControls('default');
      }
      this.setSharedState({ selectedSprite: nextSprite });
    }

    /**
     * Creates a new sprite with the given options
     * @param  {Object} options
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprite}
     * @private
     */

  }, {
    key: '_createSprite',
    value: function _createSprite(options) {
      var operation = this.getSharedState('operation');
      return operation.createText(options);
    }
  }]);

  return TextCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5__shared_sprites_sprites_canvas_controls_component__["a" /* default */]);

TextCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5__shared_sprites_sprites_canvas_controls_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TextCanvasControlsComponent);

/***/ }),
/* 348 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__transform_canvas_controls_component__ = __webpack_require__(349);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__transform_controls_component__ = __webpack_require__(351);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var MIN_DIMENSIONS = new Vector2(50, 50);

/**
 * The Controls for the Transform tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var TransformControls = function (_BaseControls) {
  _inherits(TransformControls, _BaseControls);

  function TransformControls() {
    _classCallCheck(this, TransformControls);

    return _possibleConstructorReturn(this, (TransformControls.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformControls)).apply(this, arguments));
  }

  _createClass(TransformControls, [{
    key: 'convertOperationOptionsToUI',
    value: function convertOperationOptionsToUI(_ref) {
      var start = _ref.start,
          end = _ref.end,
          rotation = _ref.rotation,
          textureScale = _ref.textureScale;

      var transformOperation = this.sharedState.get('transformOperation');

      var finalScale = transformOperation.calculateScale(rotation);
      var inputDimensions = transformOperation.getInputDimensions(false);
      var cos = Math.cos(rotation);
      var sin = Math.sin(rotation);

      var halfRelativeSize = end.clone().subtract(start).divide(2);
      var middleInPixels = start.clone().add(halfRelativeSize).multiply(inputDimensions);

      var middleDistanceFromCenter = middleInPixels.subtract(inputDimensions.clone().multiply(0.5));

      // Rotate and scale the middle back
      var newMiddleDistanceFromCenter = new Vector2(middleDistanceFromCenter.x * cos - middleDistanceFromCenter.y * sin, middleDistanceFromCenter.x * sin + middleDistanceFromCenter.y * cos).multiply(finalScale);

      var newMiddleInPixels = inputDimensions.clone().multiply(0.5).add(newMiddleDistanceFromCenter);

      var newRelativeMiddle = newMiddleInPixels.clone().divide(inputDimensions);

      var newStart = newRelativeMiddle.clone().subtract(halfRelativeSize.clone().multiply(finalScale));
      var newEnd = newRelativeMiddle.clone().add(halfRelativeSize.clone().multiply(finalScale));

      return { start: newStart, end: newEnd, rotation: rotation, textureScale: textureScale };
    }

    /**
     * Is called when a control is entered
     * @private
     */

  }, {
    key: '_onEnter',
    value: function _onEnter() {
      var editor = this.context.editor;


      var transformOperationExistedBeforeEntering = editor.operations.exists('transform');
      var transformOperation = editor.operations.getOrCreate('transform');
      transformOperation.setEnabled(false, false);

      var orientationOperationExistedBeforeEntering = editor.operations.exists('orientation');
      var orientationOperation = editor.operations.getOrCreate('orientation');

      var defaultOptions = {
        end: new Vector2(1, 1),
        rotation: 0,
        start: new Vector2(0, 0),
        textureScale: 1
      };

      var inputDimensions = transformOperation.getInputDimensions(false);
      var initialDimensions = transformOperation.getNewDimensions(inputDimensions);

      var initialTransformOptions = defaultOptions;
      var _initialTransformOpti = initialTransformOptions,
          start = _initialTransformOpti.start,
          end = _initialTransformOpti.end,
          textureScale = _initialTransformOpti.textureScale,
          rotation = _initialTransformOpti.rotation;

      if (transformOperationExistedBeforeEntering) {
        initialTransformOptions = transformOperation.serializeOptions();
        start = initialTransformOptions.start;
        end = initialTransformOptions.end;
        rotation = initialTransformOptions.rotation;
        textureScale = initialTransformOptions.textureScale;

        delete initialTransformOptions.enabled;

        var uiOptions = this.convertOperationOptionsToUI({ start: start, end: end, textureScale: textureScale, rotation: rotation });
        start = uiOptions.start;
        end = uiOptions.end;
      }

      // This makes sure that all operations listening for a transform are notified
      editor.broadcastTransform(transformOperation, defaultOptions);

      // Update editor rotation and scale
      var initialOrientationOptions = orientationOperation.serializeOptions();
      editor.setSpriteScale(transformOperation.calculateScale());
      editor.setRotation(rotation);

      // Show the whole image
      transformOperation.set(defaultOptions, transformOperationExistedBeforeEntering);

      var exportEnabled = editor.features.isEnabledByOptions('export');
      editor.zoom.auto(true, false, function () {
        // Disable zoom and drag while we're transformping
        editor.features.disable('zoom', 'drag', 'export');
      }, false);

      this.sharedState.set({
        transformOperation: transformOperation,
        initialTransformOptions: initialTransformOptions,
        newTransformOptions: {
          start: start, end: end, rotation: rotation, textureScale: textureScale
        },
        transformOperationExistedBeforeEntering: transformOperationExistedBeforeEntering,
        exportEnabled: exportEnabled,

        orientationOperation: orientationOperation,
        initialOrientationOptions: initialOrientationOptions,
        newOrientationOptions: __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].cloneOptions(initialOrientationOptions),
        orientationOperationExistedBeforeEntering: orientationOperationExistedBeforeEntering,

        start: Vector2.fromObject(start),
        end: Vector2.fromObject(end),
        rotation: rotation,
        orientationRotation: orientationOperation.getRotation(),
        flipVertically: orientationOperation.getFlipVertically(),
        flipHorizontally: orientationOperation.getFlipHorizontally(),
        initialDimensions: initialDimensions,
        initialRatio: transformOperation._ratio || null
      });
    }

    /**
     * Invoked before a control is left. Can control whether or not the control is left.
     * @private
     * @return {Promise.<Boolean>}
     */

  }, {
    key: '_onBeforeLeave',
    value: function _onBeforeLeave() {
      var _this2 = this;

      var t = this.context.ui.translate.bind(this.context.ui);
      return new __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_promise___default.a(function (resolve, reject) {
        var changesDone = _this2.sharedState.get('changesDone');
        var changesAccepted = _this2.sharedState.get('changesAccepted');

        if (changesDone && !changesAccepted) {
          var warningModal = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayWarning(t('warnings.discardChanges.title'), t('warnings.discardChanges.text'), [t('warnings.discardChanges.buttons.cancel'), t('warnings.discardChanges.buttons.discard')]);

          warningModal.on('button', function (buttonIndex) {
            if (buttonIndex === 0) return resolve({ leave: false });
            if (buttonIndex === 1) {
              return resolve({
                leave: true,
                data: {
                  discard: true
                }
              });
            }
          });
          return;
        }

        resolve({ leave: true });
      });
    }

    /**
     * Is called when a control is left
     * @private
     */

  }, {
    key: '_onLeave',
    value: function _onLeave(_ref2) {
      var discard = _ref2.discard;
      var editor = this.context.editor;

      var transformOperation = this.sharedState.get('transformOperation');
      var orientationOperation = this.sharedState.get('orientationOperation');
      var transformOperationExistedBeforeEntering = this.sharedState.get('transformOperationExistedBeforeEntering');

      if (discard) {
        // Discard all changes by setting transform and orientation options to the same
        // values their initial values
        var initialOrientationOptions = this.sharedState.get('initialOrientationOptions');
        orientationOperation.set(initialOrientationOptions);

        var initialTransformOptions = this.sharedState.get('initialTransformOptions');
        editor.broadcastTransform(transformOperation, initialTransformOptions);
        transformOperation.set(initialTransformOptions);
        transformOperation.setTextureScale(this._calculateTextureScale());
        transformOperation.setEnabled(true);

        if (!transformOperationExistedBeforeEntering) {
          editor.operations.remove(transformOperation, false);
        }
      } else {
        // Remove orientation operation if it's redundant
        var defaultOptions = {
          rotation: 0,
          flipVertically: false,
          flipHorizontally: false
        };
        if (orientationOperation.optionsEqual(defaultOptions)) {
          editor.operations.remove(orientationOperation, false);
        }

        var newTransformOptions = this.sharedState.get('newTransformOptions');
        var start = newTransformOptions.start,
            end = newTransformOptions.end,
            textureScale = newTransformOptions.textureScale,
            rotation = newTransformOptions.rotation;

        textureScale = this._calculateTextureScale();
        start = start.clone();
        end = end.clone();

        var finalScale = transformOperation.calculateScale(rotation);
        var inputDimensions = transformOperation.getInputDimensions(false);
        var cos = Math.cos(-rotation);
        var sin = Math.sin(-rotation);

        var halfRelativeSize = end.clone().subtract(start).divide(2);
        var middleInPixels = start.clone().add(halfRelativeSize).multiply(inputDimensions);

        var middleDistanceFromCenter = middleInPixels.subtract(inputDimensions.clone().multiply(0.5));

        // Rotate and scale the middle back
        var newMiddleDistanceFromCenter = new Vector2(middleDistanceFromCenter.x * cos - middleDistanceFromCenter.y * sin, middleDistanceFromCenter.x * sin + middleDistanceFromCenter.y * cos).divide(finalScale);

        var newMiddleInPixels = inputDimensions.clone().multiply(0.5).add(newMiddleDistanceFromCenter);

        var newRelativeMiddle = newMiddleInPixels.clone().divide(inputDimensions);

        var newStart = newRelativeMiddle.clone().subtract(halfRelativeSize.clone().divide(finalScale));
        var newEnd = newRelativeMiddle.clone().add(halfRelativeSize.clone().divide(finalScale));

        var defaultTransformOptions = {
          start: new Vector2(0, 0),
          end: new Vector2(1, 1),
          rotation: 0,
          textureScale: 1
        };

        var newOptions = {
          start: newStart, end: newEnd, textureScale: textureScale, rotation: rotation
        };

        if (newOptions.start.equals(defaultTransformOptions.start) && newOptions.end.equals(defaultTransformOptions.end) && newOptions.rotation === defaultTransformOptions.rotation && newOptions.textureScale === defaultTransformOptions.textureScale) {
          editor.operations.remove(transformOperation, false);
        } else {
          transformOperation.set(defaultTransformOptions);
          editor.broadcastTransform(transformOperation, newOptions);
          transformOperation.set(newOptions);
          transformOperation.setTextureScale(this._calculateTextureScale());
          transformOperation.setEnabled(true);
        }
      }

      // Reset editor
      editor.setRotation(0);
      editor.setSpriteScale(1);
      editor.features.enable('zoom', 'drag', 'export');
      if (this.sharedState.get('exportEnabled')) {
        editor.features.enable('export');
      }
      editor.zoom.auto(true);
    }
  }, {
    key: '_getGlobalHistoryData',
    value: function _getGlobalHistoryData() {
      return { ratio: this.sharedState.get('ratio') };
    }

    /**
     * Gets called when an operation has been removed. If it is the same operation that
     * this control belongs to, it switches back to the overview, leaving this control
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationRemoved',
    value: function _onOperationRemoved(operation) {}
    // void


    /**
     * Calculates the texture scale using the current settings
     * @return {Number}
     * @private
     */

  }, {
    key: '_calculateTextureScale',
    value: function _calculateTextureScale() {
      var transformOperation = this.sharedState.get('transformOperation');
      var ratio = this.sharedState.get('ratio');
      if (!ratio || !ratio.dimensions) {
        return 1;
      }

      var start = this.sharedState.get('start');
      var end = this.sharedState.get('end');

      var size = end.clone().subtract(start);
      var transformDimensions = transformOperation.getInputDimensions(false).multiply(size);
      return ratio.dimensions.x / transformDimensions.x;
    }

    /**
     * Fixes the given start and end coordinates to represent a valid transform. The `horizontalSide`
     * and `verticalSide` flags indicate which corner has been dragged.
     * @param  {PhotoEditorSDK.Math.Vector2} start
     * @param  {PhotoEditorSDK.Math.Vector2} end
     * @param  {String} horizontalSide
     * @param  {String} verticalSide
     */

  }, {
    key: 'fixTransform',
    value: function fixTransform(start, end, horizontalSide, verticalSide) {
      var editor = this.context.editor;

      var transformOperation = this.sharedState.get('transformOperation');
      var imageDimensions = transformOperation.getInputDimensions(false);

      var _sharedState$get = this.sharedState.get('ratio'),
          ratio = _sharedState$get.ratio,
          dimensions = _sharedState$get.dimensions;

      if (dimensions && !ratio) {
        ratio = dimensions.x / dimensions.y;
      }

      // Maximum transform size (relative)
      var maxTransformSize = new Vector2();
      maxTransformSize.x = horizontalSide === 'left' ? end.x : 1.0 - start.x;
      maxTransformSize.y = verticalSide === 'top' ? end.y : 1.0 - start.y;

      // Maximum transform size (absolute)
      var maxSize = imageDimensions.clone().multiply(maxTransformSize);

      // Current transform size (relative)
      var transformSize = end.clone().subtract(start);

      // Current transform size (absolute)
      var size = transformSize.clone().multiply(imageDimensions);

      // The minimum dimensions
      var minUIDimensions = MIN_DIMENSIONS.clone().divide(editor.zoom.targetLevel);
      var minDimensions = new Vector2(Math.min(minUIDimensions.x, imageDimensions.x * 0.1), Math.min(minUIDimensions.y, imageDimensions.y * 0.1));

      // Clamp width
      size.x = Math.min(Math.max(minDimensions.x, size.x), maxSize.x);
      if (ratio !== '*') {
        size.y = size.x / ratio;
      }

      // Clamp height
      size.y = Math.min(Math.max(minDimensions.y, size.y), maxSize.y);
      if (ratio !== '*') {
        // Calculate new width by height
        size.x = size.y * ratio;
      }

      // Recalculate start and end using new size
      var relativeSize = size.divide(imageDimensions);
      if (verticalSide === 'top') {
        start.y = end.y - relativeSize.y;
      } else {
        end.y = start.y + relativeSize.y;
      }
      if (horizontalSide === 'left') {
        start.x = end.x - relativeSize.x;
      } else {
        end.x = start.x + relativeSize.x;
      }

      // Snap to full pixels (for free ratio)
      if (ratio === '*') {
        start.multiply(imageDimensions).round().divide(imageDimensions);
        end.multiply(imageDimensions).round().divide(imageDimensions);
      }

      return { start: start, end: end };
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object. Called whenever one of
     * the updatableOperations is modified, created or removed.
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object} - An object that will be passet to sharedState.set
     */


    /**
     * Operations which will trigger UI updates on this controls.
     * @type {String[]}
     * @static
     */


    /**
     * The operations required for this control to work properly
     * @type {Array}
     */


    /**
     * The icon path of this control
     * @type {String}
     */


    /**
     * The controls component for these controls
     * @type {React.Component}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var transformOperation = operations.get('transform');
      var orientationOperation = operations.get('orientation');
      return {
        transformOperation: transformOperation,
        orientationOperation: orientationOperation
      };
    }

    /**
     * If true, the editor will switch to the default controls when any of the updatableOperations is removed.
     *
     * @type {Boolean}
     * @static
     */


    /**
     * The default options for this control
     * @type {Object}
     * @property {Object[]} [ratios = []]
     * @property {Boolean} [replaceRatios = false]
     * @property {String[]} [availableRatios = null]
     * @property {Boolean} [enableRotation = true]
     * @property {Boolean} [enableStraighten = true]
     * @property {Boolean} [enableFlip = true]
     */


    /**
     * The active icon path of this control
     * @type {String}
     */


    /**
     * The canvas component for these controls
     * @type {React.Component}
     */


    /**
     * A unique identifier for these controlsComponent
     * @type {String}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      var options = editor.getOptions();
      var transformOptions = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].defaults(options.editor.controlsOptions.transform, this.defaultOptions);

      var assets = ['editor/controls/transform/dimensions-cross.png', 'editor/controls/transform/degree-slider.png', 'editor/controls/transform/flip.png', 'editor/controls/transform/lock.png', 'editor/controls/transform/rotate.png'];

      // Add ratios
      var ratioManager = new __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["TransformRatioManager"](transformOptions);
      var categories = ratioManager.getCategories();
      categories.forEach(function (_ref3) {
        var ratios = _ref3.ratios;

        ratios.forEach(function (_ref4) {
          var identifier = _ref4.identifier;

          assets.push('editor/controls/transform/ratios/' + identifier + '-default.png', 'editor/controls/transform/ratios/' + identifier + '-hover.png', 'editor/controls/transform/ratios/' + identifier + '-active.png');
        });
      });

      return assets;
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolAllowed('transform') && editor.isToolEnabled('transform');
    }
  }]);

  return TransformControls;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"]);

TransformControls.clickAtPosition = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["BaseControls"].clickAtPosition;
TransformControls.identifier = 'transform';
TransformControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_8__transform_controls_component__["a" /* default */];
TransformControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_7__transform_canvas_controls_component__["a" /* default */];
TransformControls.iconPath = 'editor/controls/transform/icon.png';
TransformControls.activeIconPath = 'editor/controls/transform/icon-active.png';
TransformControls.requiredOperations = ['transform', 'orientation'];
TransformControls.defaultOptions = {
  categories: [],
  replaceCategories: false,
  availableRatios: null,
  enableRotation: true,
  enableStraighten: true,
  enableFlip: true };
TransformControls.updatableOperations = ['transform', 'orientation'];
TransformControls.switchToDefaultControlsOnRemoval = false;


__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default.a.Controls.TransformControls = TransformControls;

/* harmony default export */ __webpack_exports__["a"] = (TransformControls);

/***/ }),
/* 349 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__ = __webpack_require__(15);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__transform_rotation_slider_component__ = __webpack_require__(350);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var Vector2 = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var TransformCanvasControlsComponent = function (_CanvasControlsCompon) {
  _inherits(TransformCanvasControlsComponent, _CanvasControlsCompon);

  function TransformCanvasControlsComponent() {
    var _ref, _this$_events;

    _classCallCheck(this, TransformCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TransformCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onZoomDone', '_onCornerDrag', '_onCenterDragStart', '_onCenterDrag', '_onRotationChange', '_onOperationUpdated', '_onOperationRemoved', '_onAcceptClick', '_onAcceptMouseDown');

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.OPERATION_UPDATED, _this._onOperationUpdated), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.OPERATION_REMOVED, _this._onOperationRemoved), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.ZOOM_DONE, _this._onZoomDone), _this$_events);

    _this.state = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk__["Utils"].extend(_this.state, {
      visible: false
    });
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Checks if the component should change from the given state
   * @param  {Object} oldState
   * @param  {Object} newState
   * @return {Boolean}
   */


  _createClass(TransformCanvasControlsComponent, [{
    key: 'shouldSharedComponentUpdate',
    value: function shouldSharedComponentUpdate(oldState, newState) {
      return !oldState.start.equals(newState.start) || !oldState.end.equals(newState.end) || oldState.orientationRotation !== newState.orientationRotation || oldState.ratio !== newState.ratio || oldState.changesDone !== newState.changesDone;
    }

    /**
     * Gets called when the shared state did change
     * @param {Object} oldState
     * @param {Object} newState
     */

  }, {
    key: 'sharedStateDidChange',
    value: function sharedStateDidChange(oldState, newState) {
      var oldRatio = oldState.ratio && oldState.ratio.ratio;
      var newRatio = newState.ratio && newState.ratio.ratio;
      if (oldRatio !== newRatio) {
        this._calculateRatioFraction();
      }
    }
  }, {
    key: 'sharedComponentWillUpdate',
    value: function sharedComponentWillUpdate(oldState, newState) {
      if (oldState.orientationRotation !== newState.orientationRotation) {
        this._updateTransformAreaStyles();
      }
    }

    /**
     * Gets called after the component has been mounted
     */

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(TransformCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformCanvasControlsComponent.prototype), 'componentDidMount', this).call(this);

      this._updateTransformAreaStyles();
      this._calculateRatioFraction();

      this.forceUpdate();
    }

    /**
     * Invoked immediately before rendering when new props or state are being received
     */

  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate() {
      this._updateTransformAreaStyles();
    }

    /**
     * Invoked immediately after updating occurs
     */

  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (!this._transformContainerRect && this.getSharedState('ratio')) {
        this._updateTransformAreaStyles();
        this.forceUpdate();
      }
    }

    /**
     * Invoked when the component is about to be unmounted
     */

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      _get(TransformCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformCanvasControlsComponent.prototype), 'componentWillUnmount', this).call(this);

      if (this._zoomAFRequest) {
        Object(__WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__["a" /* cancelAnimationFrame */])(this._zoomAFRequest);
        this._zoomAFRequest = null;
      }
    }

    // -------------------------------------------------------------------------- CALCULATION

    /**
     * Calculates the closest ratio fraction for the current ratio
     * @private
     */

  }, {
    key: '_calculateRatioFraction',
    value: function _calculateRatioFraction() {
      var ratio = this.getSharedState('ratio');
      if (!ratio || ratio.ratio === '*') return;

      this._ratioFraction = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].findIntegerFraction(ratio.ratio);
    }

    // -------------------------------------------------------------------------- CENTER DRAGGING

    /**
     * Gets called when the user start dragging the center
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @private
     */

  }, {
    key: '_onCenterDragStart',
    value: function _onCenterDragStart(position) {
      var operation = this.getSharedState('transformOperation');
      this._dragOptions = {
        initialStart: this.getSharedState('start').clone(),
        initialEnd: this.getSharedState('end').clone(),
        areaDimensions: this._transformContainerRect.getSize(),
        imageDimensions: operation.getInputDimensions(false)
      };
    }

    /**
     * Gets called while the user drags the center
     * @param  {PhotoEditorSDK.Math.Vector2} offset
     * @private
     */

  }, {
    key: '_onCenterDrag',
    value: function _onCenterDrag(offset) {
      var _dragOptions = this._dragOptions,
          initialStart = _dragOptions.initialStart,
          initialEnd = _dragOptions.initialEnd,
          areaDimensions = _dragOptions.areaDimensions,
          imageDimensions = _dragOptions.imageDimensions;

      var relativeOffset = offset.clone().divide(areaDimensions);
      var size = initialEnd.clone().subtract(initialStart);

      var minStart = new Vector2(0, 0);
      var maxStart = new Vector2(1, 1).subtract(size);

      var newStart = initialStart.clone().add(relativeOffset).clamp(minStart, maxStart);
      var newEnd = newStart.clone().add(size);

      newStart.multiply(imageDimensions).floor().divide(imageDimensions);
      newEnd.multiply(imageDimensions).floor().divide(imageDimensions);

      this.props.controls.fixTransform(newStart, newEnd, 'right', 'bottom');

      var newTransformOptions = this.getSharedState('newTransformOptions');
      newTransformOptions.start = newStart;
      newTransformOptions.end = newEnd;

      this.setSharedState({
        start: newStart,
        end: newEnd,
        changesDone: this.getSharedState('changesDone') || !(initialStart.equals(newStart) && initialEnd.equals(newEnd))
      });
    }

    // -------------------------------------------------------------------------- CORNER DRAGGING

    /**
     * Gets called when the user starts dragging a corner
     * @param  {String} verticalSide
     * @param  {String} horizontalSide
     * @param  {PhotoEditorSDK.Math.Vector2} position
     * @private
     */

  }, {
    key: '_onCornerDragStart',
    value: function _onCornerDragStart(verticalSide, horizontalSide, position) {
      var operation = this.getSharedState('transformOperation');
      this._dragOptions = {
        initialStart: this.getSharedState('start').clone(),
        initialEnd: this.getSharedState('end').clone(),
        verticalSide: verticalSide,
        horizontalSide: horizontalSide,
        areaDimensions: this._transformContainerRect.getSize(),
        imageDimensions: operation.getInputDimensions(false)
      };

      this._currentCorner = {
        vertical: verticalSide,
        horizontal: horizontalSide
      };
    }

    /**
     * Gets called while the user drags a corner
     * @param  {PhotoEditorSDK.Math.Vector2} offset
     * @private
     */

  }, {
    key: '_onCornerDrag',
    value: function _onCornerDrag(offset) {
      var _dragOptions2 = this._dragOptions,
          initialStart = _dragOptions2.initialStart,
          initialEnd = _dragOptions2.initialEnd,
          verticalSide = _dragOptions2.verticalSide,
          horizontalSide = _dragOptions2.horizontalSide,
          areaDimensions = _dragOptions2.areaDimensions;


      var relativeOffset = offset.clone().divide(areaDimensions);

      var start = initialStart.clone();
      var end = initialEnd.clone();

      // Update start and end positions depending on dragged corner
      (verticalSide === 'top' ? start : end).y += relativeOffset.y;
      (horizontalSide === 'left' ? start : end).x += relativeOffset.x;

      this.props.controls.fixTransform(start, end, horizontalSide, verticalSide);

      var newTransformOptions = this.getSharedState('newTransformOptions');
      newTransformOptions.start = start;
      newTransformOptions.end = end;

      this.setSharedState({
        start: start,
        end: end,
        changesDone: true
      });
      this._emitEvent(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_RESIZE);
    }

    // -------------------------------------------------------------------------- ROTATION

    /**
     * Gets called when the user changes the rotation (straighten)
     * @param  {Number} rotation
     * @private
     */

  }, {
    key: '_onRotationChange',
    value: function _onRotationChange(rotation) {
      var transformOperation = this.getSharedState('transformOperation');
      var editor = this.context.editor;

      editor.setRotation(rotation);
      editor.setSpriteScale(transformOperation.calculateScale(rotation));

      var newTransformOptions = this.getSharedState('newTransformOptions');
      newTransformOptions.rotation = rotation;

      editor.render();
      this.setSharedState({
        rotation: rotation,
        changesDone: true
      });
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the user clicks the accept button
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onAcceptClick',
    value: function _onAcceptClick(e) {
      e.preventDefault();
      e.stopPropagation();

      if (!this.getSharedState('changesDone')) {
        return;
      }

      this.setSharedState({ changesAccepted: true });
      this.context.screen.switchToControls('default');
    }

    /**
     * Invoked when the user presses a mouse button on the accept button. We need to make sure that
     * the center drag event is not triggered
     * @param  {Event} e
     * @private
     */

  }, {
    key: '_onAcceptMouseDown',
    value: function _onAcceptMouseDown(e) {
      e.stopPropagation();
    }

    /**
     * Gets called after a zoom has been done
     * @private
     */

  }, {
    key: '_onZoomDone',
    value: function _onZoomDone() {
      var _this2 = this;

      this._zoomAFRequest = Object(__WEBPACK_IMPORTED_MODULE_7_shared_async_animation_frame__["b" /* requestAnimationFrame */])(function () {
        _this2._updateTransformAreaStyles();
        _this2.state.visible = true;
        _this2.forceUpdate();
        _this2._zoomAFRequest = null;
      });
    }

    /**
     * Invoked after an operation has been updated
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationUpdated',
    value: function _onOperationUpdated(operation) {
      var transformOperation = this.getSharedState('transformOperation');
      if (operation !== transformOperation) return;

      var editor = this.context.editor;

      var sdk = editor.getSDK();
      sdk.setRotation(operation.getRotation());
      sdk.setSpriteScale(operation.calculateScale());

      editor.render();
      this.setSharedState({
        rotation: operation.getRotation()
      });

      // Since we're not automatically re-rendering when the rotation changes, we need to force
      // this component to do solid
      this.forceUpdate();
    }

    /**
     * Invoked after an operation has been removed
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationRemoved',
    value: function _onOperationRemoved(operation) {
      // We can't compare against the transform operation in the shared state because this might have
      // already changed to a new instance
      if (operation.constructor.identifier === 'transform' || operation.constructor.identifier === 'orientation') {
        this.forceUpdate();
      }
    }

    /**
     * Gets called when the user taps the flip icon.
     * @param {String} direction
     * @private
     */

  }, {
    key: '_onFlipClick',
    value: function _onFlipClick(direction) {
      var editor = this.context.editor;

      var operation = this.getSharedState('orientationOperation');

      var capitalizedDirection = direction.charAt(0).toUpperCase() + direction.slice(1) + 'ly';

      var newFlip = !this.getSharedState('flip' + capitalizedDirection);
      this.setSharedState(_defineProperty({}, 'flip' + capitalizedDirection, newFlip));
      operation.flip(direction);

      var newTransformOptions = this.getSharedState('newTransformOptions');
      var newRotation = this.getSharedState('rotation') * -1;
      editor.setRotation(newRotation);

      var start = this.getSharedState('start').clone();
      var end = this.getSharedState('end').clone();
      var tmpStart = start.clone();
      if (direction === 'horizontal') {
        start.set(1.0 - end.x, start.y);
        end.set(1.0 - tmpStart.x, end.y);
      } else if (direction === 'vertical') {
        start.set(start.x, 1.0 - end.y);
        end.set(end.x, 1.0 - tmpStart.y);
      }

      newTransformOptions.start = start;
      newTransformOptions.end = end;
      newTransformOptions.rotation = newRotation;

      this.setSharedState({
        start: start,
        end: end,
        rotation: newRotation,
        changesDone: true,
        newTransformOptions: newTransformOptions
      });

      this.forceUpdate();

      editor.broadcastFlip(direction);
      editor.render();
    }

    /**
     * Gets called when the user taps the rotate icon.
     * @private
     */

  }, {
    key: '_onRotateClick',
    value: function _onRotateClick(direction) {
      var _this3 = this;

      var degrees = direction === 'cw' ? 90 : -90;

      var editor = this.context.editor;

      var operation = this.getSharedState('orientationOperation');
      var newRotation = (operation.getRotation() + degrees) % 360;

      operation.set({ rotation: newRotation });

      var newState = {
        orientationRotation: newRotation
      };

      var newTransformOptions = this.getSharedState('newTransformOptions');
      var ratio = this.getSharedState('ratio');
      if (ratio) {
        if (!ratio.dimensions && ratio.ratio === '*') {
          var start = this.getSharedState('start').clone();
          var end = this.getSharedState('end').clone();
          var tempStart = start.clone();
          if (direction === 'cw') {
            start.set(1.0 - end.y, tempStart.x);
            end.set(1.0 - tempStart.y, end.x);
          } else if (direction === 'ccw') {
            start.set(tempStart.y, 1.0 - end.x);
            end.set(end.y, 1.0 - tempStart.x);
          }
          newState.start = start;
          newState.end = end;

          newTransformOptions.start = start;
          newTransformOptions.end = end;

          // if (!Number.isNaN(parseInt(ratio.ratio, 10))) {
          //   ratio.ratio = 1 / ratio.ratio
          // }
        } else {
          this._emitEvent(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_REAPPLY_RATIO);
          this._emitEvent(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_RESIZE);
        }
      }

      this.setSharedState({
        changesDone: true,
        newTransformOptions: newTransformOptions
      });

      editor.broadcastRotate(degrees);
      editor.zoom.auto(true, true, function () {
        _this3.setSharedState(newState);
      });
    }

    // -------------------------------------------------------------------------- STYLING

    /**
     * Updates the styles for the transform area
     * @private
     */

  }, {
    key: '_updateTransformAreaStyles',
    value: function _updateTransformAreaStyles() {
      this._transformContainerRect = this.getImageBoundingRect();
      if (this._imageContainer) {
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["Utils"].styleElement(this._imageContainer, {
          left: this._transformContainerRect.x + 'px',
          top: this._transformContainerRect.y + 'px',
          width: this._transformContainerRect.width + 'px',
          height: this._transformContainerRect.height + 'px'
        });
      }
    }

    /**
     * Returns the dimension styles for the dark areas
     * @return {Object}
     * @private
     */

  }, {
    key: '_getAreaStyles',
    value: function _getAreaStyles() {
      var imageDimensions = void 0,
          start = void 0,
          end = void 0,
          size = void 0,
          offset = void 0;
      if (this._transformContainer) {
        imageDimensions = this._transformContainerRect.getSize();
        offset = this._transformContainerRect.getPosition();
        start = this.getSharedState('start').clone().multiply(imageDimensions);
        end = this.getSharedState('end').clone().multiply(imageDimensions);
        size = end.clone().subtract(start);
      } else {
        imageDimensions = new Vector2(0, 0);
        start = new Vector2(0, 0);
        size = new Vector2(0, 0);
        offset = new Vector2(0, 0);
      }

      var center = this._getDimensionsStyles(size.x, size.y);
      return {
        topLeft: this._getDimensionsStyles(start.x + offset.x, start.y + offset.y),
        topCenter: this._getDimensionsStyles(size.x, start.y + offset.y),
        centerLeft: this._getDimensionsStyles(start.x + offset.x, size.y),
        center: { width: center.width },
        innerTransformContainer: center
      };
    }

    // -------------------------------------------------------------------------- MISC

    /**
     * Returns the dimensions style (width / height) for the given dimensions
     * @param {Number} x
     * @param {Number} y
     * @return {Object}
     * @private
     */

  }, {
    key: '_getDimensionsStyles',
    value: function _getDimensionsStyles(x, y) {
      // Table cells and rows can't have a width / height of 0
      return {
        width: Math.max(1, x),
        height: Math.max(1, y)
      };
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component's on-canvas controls
     * @return {React.Element}
     */

  }, {
    key: '_renderOnCanvasControls',
    value: function _renderOnCanvasControls() {
      var _this4 = this;

      var areaStyles = this._getAreaStyles();
      var disabled = !this.getSharedState('ratio');

      var acceptButtonStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/transform/accept.png', true) + '\')'
      };
      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        OnCanvasControls,
        { innerRef: function innerRef(el) {
            _this4._container = el;
          } },
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          ImageContainer,
          {
            className: 'js-imageContainer', innerRef: function innerRef(el) {
              _this4._imageContainer = el;
            } },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(AcceptButton, {
            className: test ? 'js-acceptButton' : undefined,
            enabled: this.getSharedState('changesDone'),
            onClick: this._onAcceptClick,
            onMouseDown: this._onAcceptMouseDown,
            style: acceptButtonStyle })
        ),
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          OuterTransformContainer,
          {
            className: test ? 'js-outerTransformContainer' : undefined,
            visible: this.state.visible,
            innerRef: function innerRef(el) {
              _this4._transformContainer = el;
            } },
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            TransformRow,
            null,
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, { style: areaStyles.topLeft }),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, { style: areaStyles.topCenter }),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, null)
          ),
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            TransformRow,
            null,
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, { style: areaStyles.centerLeft }),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
              {
                onStart: this._onCenterDragStart,
                onDrag: this._onCenterDrag,
                disabled: disabled },
              __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                CenterTransformCell,
                { style: areaStyles.center, className: test ? 'js-transformCenterCell' : undefined, undraggable: disabled },
                !disabled && [__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
                  {
                    onStart: this._onCornerDragStart.bind(this, 'top', 'left'),
                    onDrag: this._onCornerDrag,
                    key: 'topLeft' },
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Dragger, { top: true, left: true, className: test ? 'js-transformTopLeftCorner' : undefined })
                ), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
                  {
                    onStart: this._onCornerDragStart.bind(this, 'top', 'right'),
                    onDrag: this._onCornerDrag,
                    key: 'topRight' },
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Dragger, { top: true, right: true, className: test ? 'js-transformTopRightCorner' : undefined })
                ), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
                  {
                    onStart: this._onCornerDragStart.bind(this, 'bottom', 'left'),
                    onDrag: this._onCornerDrag,
                    key: 'bottomLeft' },
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Dragger, { bottom: true, left: true, className: test ? 'js-transformBottomLeftCorner' : undefined })
                ), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
                  {
                    onStart: this._onCornerDragStart.bind(this, 'bottom', 'right'),
                    onDrag: this._onCornerDrag,
                    key: 'bottomRight' },
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(Dragger, { bottom: true, right: true, className: test ? 'js-transformBottomRightCorner' : undefined })
                ), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  InnerTransformContainer,
                  { style: areaStyles.innerTransformContainer, className: test ? 'js-innerTransformContainer' : undefined, key: 'inner' },
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    TransformRow,
                    null,
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true, bottom: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true, bottom: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { bottom: true })
                  ),
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    TransformRow,
                    null,
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true, bottom: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true, bottom: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { bottom: true })
                  ),
                  __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
                    TransformRow,
                    null,
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, { right: true }),
                    __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(BorderedTransformCell, null)
                  )
                )]
              )
            ),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, null)
          ),
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            TransformRow,
            null,
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, null),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, null),
            __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(DarkTransformCell, null)
          )
        )
      );
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: '_renderControls',
    value: function _renderControls() {
      var flipIconStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/transform/flip.png', true) + '\')'
      };
      var rotateIconStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/transform/rotate.png', true) + '\')'
      };

      var _props$options = this.props.options,
          enableRotation = _props$options.enableRotation,
          enableFlip = _props$options.enableFlip,
          enableStraighten = _props$options.enableStraighten;

      return __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
        CanvasControls,
        { className: test ? 'js-transformCanvasControls' : undefined },
        this._renderOnCanvasControls(),
        __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
          BottomControlsContainer,
          null,
          __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(
            BottomControls,
            { className: test ? 'js-transformBottomCanvasControls' : undefined },
            enableFlip && [__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(FlipButton, {
              style: flipIconStyle,
              key: 'flip-h',
              onClick: this._onFlipClick.bind(this, 'horizontal'),
              className: test ? 'js-flipHorizontallyButton' : undefined }), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(FlipButton, {
              vertical: true,
              style: flipIconStyle,
              key: 'flip-v',
              onClick: this._onFlipClick.bind(this, 'vertical'),
              className: test ? 'js-flipVerticallyButton' : undefined })],
            enableStraighten && __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_8__transform_rotation_slider_component__["a" /* default */], {
              value: this.getSharedState('rotation'),
              onChange: this._onRotationChange }),
            enableRotation && [__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(RotateButton, {
              style: rotateIconStyle,
              key: 'rotate-ccw',
              onClick: this._onRotateClick.bind(this, 'ccw'),
              className: test ? 'js-rotateCounterClockwiseButton' : undefined }), __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["React"].createElement(RotateButton, {
              clockwise: true,
              style: rotateIconStyle,
              key: 'rotate-cw',
              onClick: this._onRotateClick.bind(this, 'cw'),
              className: test ? 'js-rotateClockwiseButton' : undefined })]
          )
        )
      );
    }
  }]);

  return TransformCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"]);

// -------------------------------------------------------------------------- STYLES

TransformCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["CanvasControlsComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TransformCanvasControlsComponent);
var CanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('120drhm', 'CanvasControls');

var OnCanvasControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('8gacw5', {
  draggable: 'ovipzq'
}, 'OnCanvasControls');

var BottomControlsContainer = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('nmw377', 'BottomControlsContainer');

var BottomControls = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1gk061a', 'BottomControls');

var TransformContainer = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1v9hd4r', 'TransformContainer');

var ImageContainer = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('15kzu1c', 'ImageContainer');

var OuterTransformContainer = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(TransformContainer)('1kjfwvf', {
  visible: 'zgbg08'
}, 'OuterTransformContainer');

var InnerTransformContainer = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(TransformContainer)('120drhm', 'InnerTransformContainer');

var TransformRow = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('15u7gri', 'TransformRow');

var TransformCell = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1q481v0', 'TransformCell');

var BorderedTransformCell = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(TransformCell)('1qh9j3j', {
  top: '1mup05p',
  right: '12l7t8k',
  bottom: '1ebuiz6',
  left: 'txqhsl'
}, 'BorderedTransformCell');

var CenterTransformCell = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(TransformCell)('52h18o', {
  undraggable: '16s6vgr'
}, 'CenterTransformCell');

var DarkTransformCell = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(TransformCell)('17b4s67', 'DarkTransformCell');

var Dragger = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('1tai30v', {
  top: '1stnln8',
  right: '1wj5vxi',
  bottom: '17bojqc',
  left: '1a9ompl'
}, 'Dragger');

var Button = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].button('127b6wl', 'Button');

var FlipButton = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(Button)('120drhm', {
  vertical: '12fqiy2'
}, 'FlipButton');

var RotateButton = Object(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"])(Button)('120drhm', {
  clockwise: 'o7ss47'
}, 'RotateButton');

var AcceptButton = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk_desktop_ui_core__["adonis"].div('sbdqjz', {
  enabled: 'ro0g1e'
}, 'AcceptButton');

/***/ }),
/* 350 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var SLIDER_WIDTH = 217;
var MAX_ROTATION = 45;
var test = ("production") === 'test';

var TransformRotationSliderComponent = function (_BaseComponent) {
  _inherits(TransformRotationSliderComponent, _BaseComponent);

  function TransformRotationSliderComponent() {
    var _ref;

    _classCallCheck(this, TransformRotationSliderComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TransformRotationSliderComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformRotationSliderComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_onDragStart', '_onDrag');

    _this._width = 0;
    _this.state = {
      value: _this.props.value || 0
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Gets called when this component has been mounted
   */


  _createClass(TransformRotationSliderComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(TransformRotationSliderComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TransformRotationSliderComponent.prototype), 'componentDidMount', this).call(this);
      this._degreesPerPixel = MAX_ROTATION * 2 / SLIDER_WIDTH;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked before a mounted component receives new props
     * @param  {Object} nextProps
     */

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (this.state.value !== nextProps.value) {
        this.setState({ value: nextProps.value });
      }
    }

    /**
     * Invoked when the user starts dragging the rotation slider
     * @private
     */

  }, {
    key: '_onDragStart',
    value: function _onDragStart() {
      this._initialDegrees = this.state.value * 180 / Math.PI;
    }

    /**
     * Invoked while the user is dragging the rotation slider
     * @private
     */

  }, {
    key: '_onDrag',
    value: function _onDrag(distance) {
      var degrees = this._initialDegrees + distance.x * this._degreesPerPixel;
      degrees = Math.min(MAX_ROTATION, Math.max(degrees, MAX_ROTATION * -1));

      var value = degrees * Math.PI / 180;
      this.setState({ value: value });
      this.props.onChange && this.props.onChange(value);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Returns the label value
     * @return {String}
     * @private
     */

  }, {
    key: '_getValue',
    value: function _getValue() {
      return Math.round(this.state.value * 180 / Math.PI) + '\xB0';
    }

    /**
     * Returns the indicator position
     * @return {Number}
     * @private
     */

  }, {
    key: '_getIndicatorPosition',
    value: function _getIndicatorPosition() {
      var valueRange = MAX_ROTATION * Math.PI / 180;
      return this._width / 2 + this.state.value / valueRange * (this._width / 2);
    }
  }, {
    key: '_getIndicatorStyles',
    value: function _getIndicatorStyles() {
      var valueRange = MAX_ROTATION * Math.PI / 180;
      return {
        left: { left: SLIDER_WIDTH / 2 + this.state.value / valueRange * (SLIDER_WIDTH / 2) },
        right: { right: SLIDER_WIDTH / 2 - this.state.value / valueRange * (SLIDER_WIDTH / 2) }
      };
    }

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      var indicatorStyles = this._getIndicatorStyles();
      var leftSliderStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/transform/degree-slider.png', true) + '\')',
        backgroundPosition: indicatorStyles.left.left - 4
      };
      var rightSliderStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath('editor/controls/transform/degree-slider.png', true) + '\')',
        backgroundPosition: indicatorStyles.left.left + 35
      };

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["DraggableComponent"],
        {
          onStart: this._onDragStart,
          onDrag: this._onDrag },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Wrapper,
          { className: test ? 'js-transformRotationSlider' : undefined },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            RotationSlider,
            { style: leftSliderStyle },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Indicator, { style: indicatorStyles.left })
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Value,
            { className: test ? 'js-transformRotationValue' : undefined },
            this._getValue()
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            RotationSlider,
            { style: rightSliderStyle },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Indicator, { style: indicatorStyles.right })
          )
        )
      );
    }
  }]);

  return TransformRotationSliderComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

TransformRotationSliderComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TransformRotationSliderComponent);


var Wrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('tix0xu', 'Wrapper');

var RotationSlider = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('6mdana', 'RotationSlider');

var Indicator = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('nxjpo', 'Indicator');

var Value = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('d97kws', 'Value');

/***/ }),
/* 351 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__transform_list_item_component__ = __webpack_require__(352);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__transform_dimensions_component__ = __webpack_require__(353);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */






var ControlGroupList = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupList,
    ControlGroup = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroup,
    ControlGroupTitle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupTitle;
var Vector2 = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Math"].Vector2;

var test = ("production") === 'test';

var TransformControlsComponent = function (_ControlsComponent) {
  _inherits(TransformControlsComponent, _ControlsComponent);

  function TransformControlsComponent() {
    var _ref, _this$_events;

    _classCallCheck(this, TransformControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TransformControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TransformControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._bindAll('_reapplyRatio', '_onHistoryChange', '_onResetDefaultClick', '_onOperationRemoved', '_onOperationUpdated');

    _this._events = (_this$_events = {}, _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_REAPPLY_RATIO, _this._reapplyRatio), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.OPERATION_REMOVED, _this._onOperationRemoved), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.OPERATION_UPDATED, _this._onOperationUpdated), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.HISTORY_UNDO, _this._onHistoryChange), _defineProperty(_this$_events, __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.HISTORY_REDO, _this._onHistoryChange), _this$_events);

    _this._transformRatioManager = new __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["TransformRatioManager"](_this.props.options);

    _this.state.ratio = null;
    _this._selectInitialRatio(!_this.getSharedState('transformOperationExistedBeforeEntering'));
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Checks if the component should change from the given state
   * @param  {Object} oldState
   * @param  {Object} newState
   * @return {Boolean}
   */


  _createClass(TransformControlsComponent, [{
    key: 'shouldSharedComponentUpdate',
    value: function shouldSharedComponentUpdate(oldState, newState) {
      return oldState.ratio !== newState.ratio;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the given undo items are applied
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onHistoryChange',
    value: function _onHistoryChange(item) {
      var editor = this.context.editor;

      var newSharedState = {};

      var operation = editor.operations.get('transform');
      if (!operation) {
        return;
      }

      var newTransformOptions = this.getSharedState('newTransformOptions');
      var newOptions = this.props.controls.convertOperationOptionsToUI(operation.serializeOptions());
      newTransformOptions.start = newOptions.start;
      newTransformOptions.end = newOptions.end;
      newTransformOptions.rotation = newOptions.rotation;
      newTransformOptions.textureScale = newOptions.textureScale;
      newSharedState.newTransformOptions = newTransformOptions;
      newSharedState.changesDone = true;

      if (item.data && item.data.ratio) {
        newSharedState.ratio = item.data.ratio;
      }

      var defaultOptions = {
        end: new Vector2(1, 1),
        rotation: 0,
        start: new Vector2(0, 0),
        textureScale: 1
      };

      editor.broadcastTransform(operation, defaultOptions);
      this.setSharedState(newSharedState);
      editor.zoom.auto(true, true);
    }

    /**
     * Invoked when an operation has been updated
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationUpdated',
    value: function _onOperationUpdated(operation) {
      var editor = this.context.editor;

      var currentTransformOperation = this.getSharedState('transformOperation');
      if (currentTransformOperation !== operation) return;

      var newOptions = this.props.controls.convertOperationOptionsToUI(operation.serializeOptions());

      this.setSharedState({
        rotation: newOptions.rotation,
        start: newOptions.start,
        end: newOptions.end
      });
      editor.zoom.auto(true, true);
    }

    /**
     * Gets called when an operation has been removed
     * @param  {PhotoEditorSDK.Operation} operation
     * @private
     */

  }, {
    key: '_onOperationRemoved',
    value: function _onOperationRemoved(operation) {
      var editor = this.context.editor;


      var currentTransformOperation = this.getSharedState('transformOperation');
      if (currentTransformOperation === operation) {
        var transformOperation = editor.operations.getOrCreate('transform', {
          enabled: false
        });

        var sdk = editor.getSDK();
        sdk.setRotation(0);
        sdk.setSpriteScale(1);

        this.setSharedState({
          transformOperation: transformOperation,
          rotation: 0,
          initialTransformOptions: transformOperation.serializeOptions(),
          transformOperationExistedBeforeEntering: false
        });

        transformOperation._ratio = null;
        this._selectInitialRatio(true, true);
      }

      var currentOrientationOperation = this.getSharedState('orientationOperation');
      if (currentOrientationOperation === operation) {
        var orientationOperation = editor.operations.getOrCreate('orientation');

        this.setSharedState({
          orientationOperation: orientationOperation,
          rotation: 0,
          flipVertically: false,
          flipHorizontally: false
        });
      }
    }

    /**
     * Called when the user clicked the reset default button.
     * @private
     */

  }, {
    key: '_onResetDefaultClick',
    value: function _onResetDefaultClick() {
      var editor = this.context.editor;


      var orientationOperation = this.getSharedState('orientationOperation');
      var transformOperation = this.getSharedState('transformOperation');
      orientationOperation.set({
        flipHorizontally: false,
        flipVertically: false,
        rotation: 0
      });

      var newTransformOptions = this.getSharedState('newTransformOptions');
      newTransformOptions.start = new Vector2(0, 0);
      newTransformOptions.end = new Vector2(1, 1);
      newTransformOptions.rotation = 0;

      this.setSharedState({
        ratio: null,
        start: new Vector2(0, 0),
        end: new Vector2(1, 1),
        orientationRotation: 0,
        rotation: 0,
        flipVertically: false,
        flipHorizontally: false,
        changesDone: true
      });

      transformOperation._ratio = null;
      this._selectInitialRatio(true, true);

      this._emitEvent(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_RESIZE);

      editor.setRotation(0);
      editor.setSpriteScale(1);
      editor.zoom.auto(true, true);
    }

    // -------------------------------------------------------------------------- RATIO HANDLING

    /**
     * Re-applies the current ratio
     * @private
     */

  }, {
    key: '_reapplyRatio',
    value: function _reapplyRatio() {
      var ratio = this.getSharedState('ratio');
      this._selectRatio(ratio);
    }

    /**
     * Selects the given ratio
     * @param {String} ratio
     * @param {Boolean} setDefaultOptions = true
     * @param {Boolean} update = true
     * @private
     */

  }, {
    key: '_selectRatio',
    value: function _selectRatio(ratio) {
      var setDefaultOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var update = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

      var operation = this.getSharedState('transformOperation');
      if (setDefaultOptions && ratio) {
        this._setDefaultOptionsForRatio(ratio, update);
      }
      operation._ratio = ratio;
      this.setSharedState({ ratio: ratio }, update);
      if (update) {
        this.setSharedState({ changesDone: true });
      }
      this._emitEvent(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_RESIZE);
    }

    /**
     * Sets the default options (start / end) for the given ratio
     * @param {Object} ratioObject
     * @param {Boolean} update = false
     * @private
     */

  }, {
    key: '_setDefaultOptionsForRatio',
    value: function _setDefaultOptionsForRatio(ratioObject) {
      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var _ref2 = ratioObject || {},
          ratio = _ref2.ratio,
          dimensions = _ref2.dimensions;

      var start = new Vector2();
      var end = new Vector2();

      if (dimensions && !ratio) {
        ratio = dimensions.x / dimensions.y;
      }

      if (!ratio || ratio === '*') {
        start = new Vector2(0, 0);
        end = new Vector2(1, 1);
      } else {
        var operation = this.getSharedState('transformOperation');
        var inputDimensions = operation.getInputDimensions(false);
        var outputRatio = inputDimensions.x / inputDimensions.y;
        var width = void 0,
            height = void 0;
        if (outputRatio <= ratio) {
          height = inputDimensions.x / ratio;
          width = height * ratio;
          start.set((inputDimensions.x - width) / 2, (inputDimensions.y - height) / 2);
        } else {
          width = inputDimensions.y * ratio;
          height = width / ratio;
          start.set((inputDimensions.x - width) / 2, (inputDimensions.y - height) / 2);
        }

        end.copy(start).add(width, height);
        start.divide(inputDimensions);
        end.divide(inputDimensions);
      }

      var newTransformOptions = this.getSharedState('newTransformOptions');
      newTransformOptions.start = start;
      newTransformOptions.end = end;

      this.setSharedState({ start: start, end: end }, update);
    }

    /**
     * Selects the initial ratio
     * @param {Boolean} setDefaultOptions = true
     * @param {Boolean} update = false
     * @private
     */

  }, {
    key: '_selectInitialRatio',
    value: function _selectInitialRatio() {
      var _this2 = this;

      var setDefaultOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var transformOperation = this.getSharedState('transformOperation');
      var selectedRatio = null;
      var categories = this._transformRatioManager.getCategories();
      var ratios = categories.map(function (c) {
        return _this2._transformRatioManager.getRatiosForCategory(c);
      }).reduce(function (a, b) {
        return a.concat(b);
      });

      // 1. Selected ratio stored in operation
      var operationRatio = transformOperation._ratio;
      if (operationRatio) {
        var matchingRatios = ratios.filter(function (ratio) {
          return ratio === operationRatio;
        });
        selectedRatio = matchingRatios[0];
      }

      // 2. First ratio with `selected` flag
      if (!selectedRatio) {
        var selectedRatios = ratios.filter(function (ratio) {
          return ratio.selected;
        });
        selectedRatio = selectedRatios.pop();
      }

      // 3. First ratio
      if (!selectedRatio) {
        selectedRatio = ratios[0];
        if (selectedRatio.ratio !== '*') {
          this.setSharedState({ changesDone: true });
        }
      }

      return this._selectRatio(selectedRatio, setDefaultOptions, update);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders the sections and their items.
     * @private
     */

  }, {
    key: '_renderSections',
    value: function _renderSections() {
      var _this3 = this;

      var makeSection = function makeSection(category) {
        return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Section,
          { key: category.identifier },
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SectionTitle,
            null,
            _this3._t('editor.controls.transform.ratios.' + category.identifier + '.name') || category.defaultName
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SectionGrid,
            null,
            makeItems(category)
          )
        );
      };

      var makeItems = function makeItems(category) {
        return _this3._transformRatioManager.getRatiosForCategory(category).map(function (ratio) {
          var isSelected = _this3.getSharedState('ratio') === ratio;
          return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_6__transform_list_item_component__["a" /* default */], {
            key: ratio.identifier,
            defaultIconPath: 'editor/controls/transform/ratios/' + ratio.identifier + '-default.png',
            hoverIconPath: 'editor/controls/transform/ratios/' + ratio.identifier + '-hover.png',
            activeIconPath: 'editor/controls/transform/ratios/' + ratio.identifier + '-active.png',
            onClick: _this3._selectRatio.bind(_this3, ratio),
            title: _this3._t('editor.controls.transform.ratios.' + category.identifier + '.ratios.' + ratio.identifier) || ratio.defaultName,
            identifier: ratio.identifier,
            selected: isSelected });
        });
      };

      var categories = this._transformRatioManager.getCategories();
      return categories.map(function (category) {
        return _this3._transformRatioManager.getRatiosForCategory(category).length > 0 ? makeSection(category) : null;
      });
    }

    /**
     * Returns the properties for the root element
     * @return {Object}
     * @private
     */

  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-transformControls' : undefined,
        withBorderTop: true
      };
    }

    /**
     * Renders this control's content
     * @return {React.Element}
     */

  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this4 = this;

      var options = this.context.options;

      var resetButtonDisabled = options.editor.forceCrop;
      var ratio = this.getSharedState('ratio');
      return [__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollableListComponent"],
        {
          key: 'list',
          direction: 'vertical',
          innerRef: function innerRef(el) {
            _this4._scrollbar = el;
          } },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          SectionList,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SectionListHeader,
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ButtonComponent"], {
              disabled: resetButtonDisabled,
              title: this._t('editor.controls.transform.reset'),
              className: test ? 'js-transformResetButton' : undefined,
              onClick: this._onResetDefaultClick })
          ),
          this._renderSections()
        )
      ), __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_7__transform_dimensions_component__["a" /* default */], {
        key: 'transformDimensions',
        controls: this.props.controls,
        disabled: !ratio || !!ratio.dimensions })];
    }
  }]);

  return TransformControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

// -------------------------------------------------------------------------- STYLES

TransformControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
TransformControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (TransformControlsComponent);
var SectionListHeader = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].li('7abnmv', 'SectionListHeader');

var SectionList = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupList).ul('x32ss4', 'SectionList');

var Section = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroup).li('ber9o0', 'Section');

var SectionTitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupTitle).div('15ebqhq', 'SectionTitle');

var SectionGrid = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].ul('1klgjyq', 'SectionGrid');

/***/ }),
/* 352 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var PlainControlItem = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["ControlsStyles"].PlainControlItem;

var test = ("production") === 'test';

var TransformListItemComponent = function (_BaseComponent) {
  _inherits(TransformListItemComponent, _BaseComponent);

  function TransformListItemComponent() {
    var _ref;

    _classCallCheck(this, TransformListItemComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TransformListItemComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TransformListItemComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      hovered: false
    };
    return _this;
  }

  /**
   * Renders this component
   * @return {React.Element}
   */


  _createClass(TransformListItemComponent, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // @todo: Handle active icon
      var defaultIconStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath(this.props.defaultIconPath, true) + '\')'
      };
      var hoverIconStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath(this.props.hoverIconPath, true) + '\')'
      };
      var activeIconStyle = {
        backgroundImage: 'url(\'' + this._getAssetPath(this.props.activeIconPath, true) + '\')'
      };
      var _props = this.props,
          selected = _props.selected,
          onClick = _props.onClick,
          identifier = _props.identifier,
          title = _props.title;
      var hovered = this.state.hovered;

      return __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
        TransformListItem,
        {
          selected: selected,
          onClick: onClick,
          'data-identifier': identifier,
          'data-selected': selected,
          onMouseEnter: function onMouseEnter() {
            return _this2.setState({ hovered: true });
          },
          onMouseLeave: function onMouseLeave() {
            return _this2.setState({ hovered: false });
          },
          className: test ? 'js-transformListItem' : undefined },
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: !selected },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(Icon, { style: defaultIconStyle })
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: !selected && hovered },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(Icon, { style: hoverIconStyle })
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["Transition"],
          {
            active: selected },
          __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(Icon, { style: activeIconStyle })
        ),
        __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Title,
          { selected: selected },
          title
        )
      );
    }
  }]);

  return TransformListItemComponent;
}(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"]);

TransformListItemComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["BaseComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TransformListItemComponent);


var TransformListItem = Object(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"])(PlainControlItem).li('71xi0n', 'TransformListItem');

var Icon = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('u0ryhr', {
  rendered: '2jlos',
  visible: '82svov'
}, 'Icon');

var Title = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk_desktop_ui_core__["adonis"].div('jpjwq7', {
  selected: 'zgbg08'
}, 'Title');

/***/ }),
/* 353 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);





var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement **/
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var test = ("production") === 'test';

var TransformDimensionsComponent = function (_SharedStateComponent) {
  _inherits(TransformDimensionsComponent, _SharedStateComponent);

  function TransformDimensionsComponent() {
    var _ref;

    _classCallCheck(this, TransformDimensionsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TransformDimensionsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_prototype_of___default()(TransformDimensionsComponent)).call.apply(_ref, [this].concat(args)));

    var dimensions = _this._getTransformDimensions();
    _this.state = {
      dimensions: dimensions,
      x: dimensions.x,
      y: dimensions.y
    };
    return _this;
  }

  // -------------------------------------------------------------------------- LIFECYCLE

  /**
   * Checks if the component should change from the given state
   * @param  {Object} oldState
   * @param  {Object} newState
   * @return {Boolean}
   */


  _createClass(TransformDimensionsComponent, [{
    key: 'shouldSharedComponentUpdate',
    value: function shouldSharedComponentUpdate(oldState, newState) {
      return !oldState.start.equals(newState.start) || !oldState.end.equals(newState.end) || oldState.ratio !== newState.ratio;
    }

    /**
     * Invoked before the shared state component is re-rendered due to a
     * state change
     * @param  {Object} oldState
     * @param  {Object} newState
     */

  }, {
    key: 'sharedComponentWillUpdate',
    value: function sharedComponentWillUpdate(oldState, newState) {
      if (!newState.transformOperation) return;

      var dimensions = this._getTransformDimensions();
      var x = dimensions.x,
          y = dimensions.y;


      this.state.dimensions = dimensions;
      this.state.x = x;
      this.state.y = y;
    }

    // -------------------------------------------------------------------------- EVENTS

    /**
     * Invoked when the value of an input is changed
     * @param  {String} prop
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onInputLiveChange',
    value: function _onInputLiveChange(prop, event) {
      var value = event.target.value;

      if (value.length && !value.match(/\d+?/i)) return;

      this.state[prop] = value && parseInt(value, 10) || '';
      this.forceUpdate();
    }

    /**
     * Invoked when the new value of an input is accepted (input loses focus)
     * @param  {String} prop
     * @param  {Event} event
     * @private
     */

  }, {
    key: '_onInputChange',
    value: function _onInputChange(prop, event) {
      var value = this.state[prop] || 0;
      var operation = this.getSharedState('transformOperation');
      var inputDimensions = operation.getInputDimensions(false);

      var _getSharedState = this.getSharedState('ratio'),
          ratio = _getSharedState.ratio;

      var start = this.getSharedState('start');
      var end = this.getSharedState('end');
      var size = end.clone().subtract(start);

      var requestedDimensions = size.clone().multiply(inputDimensions);
      requestedDimensions[prop] = Math.min(inputDimensions[prop], value);
      if (ratio !== '*') {
        if (prop === 'x') {
          requestedDimensions.y = requestedDimensions.x / ratio;
        } else {
          requestedDimensions.x = requestedDimensions.y * ratio;
        }
      }

      var finalDimensions = requestedDimensions.clone();
      if (requestedDimensions.x > inputDimensions.x || requestedDimensions.y > inputDimensions.y) {
        finalDimensions = __WEBPACK_IMPORTED_MODULE_4_photoeditorsdk__["Utils"].resizeVectorToFit(requestedDimensions, inputDimensions);
      }

      var dimensions = this._getTransformDimensions();
      var x = dimensions.x,
          y = dimensions.y;


      this.state.dimensions = dimensions;
      this.state.x = x;
      this.state.y = y;

      this._resizeTransformTo(finalDimensions);
      this.forceUpdate();
    }

    // -------------------------------------------------------------------------- RESIZING

    /**
     * Returns the current transform dimensions
     * @return {PhotoEditorSDK.Math.Vector2}
     * @private
     */

  }, {
    key: '_getTransformDimensions',
    value: function _getTransformDimensions() {
      var operation = this.getSharedState('transformOperation');
      var ratio = this.getSharedState('ratio') || { ratio: '*' };

      var dimensions = void 0;
      if (ratio.dimensions) {
        dimensions = ratio.dimensions.clone();
      } else {
        var inputDimensions = operation.getInputDimensions(false);
        var start = this.getSharedState('start');
        var end = this.getSharedState('end');
        var transformSize = end.clone().subtract(start);
        dimensions = transformSize.multiply(inputDimensions).round();
      }

      return dimensions;
    }

    /**
     * Changes `start` and `end` positions according to the given dimensions
     * @param  {PhotoEditorSDK.Math.Vector2} dimensions
     * @private
     */

  }, {
    key: '_resizeTransformTo',
    value: function _resizeTransformTo(dimensions) {
      var operation = this.getSharedState('transformOperation');
      var inputDimensions = operation.getInputDimensions(false);

      var start = this.getSharedState('start').clone();
      var end = this.getSharedState('end').clone();
      var newSize = dimensions.divide(inputDimensions);

      end.copy(start).add(newSize);
      if (end.x > 1) {
        start.x -= end.x - 1;
        end.x = 1;
      }
      if (end.y > 1) {
        start.y -= end.y - 1;
        end.y = 1;
      }

      var controls = this.props.controls;

      var _controls$fixTransfor = controls.fixTransform(start, end, 'right', 'bottom'),
          fixedStart = _controls$fixTransfor.start,
          fixedEnd = _controls$fixTransfor.end;

      var newTransformOptions = this.getSharedState('newTransformOptions');

      newTransformOptions.start = fixedStart;
      newTransformOptions.end = fixedEnd;

      this.setSharedState({
        start: fixedStart,
        end: fixedEnd
      });
      this._emitEvent(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Constants"].EVENTS.TRANSFORM_RESIZE);
    }

    // -------------------------------------------------------------------------- RENDERING

    /**
     * Renders this component
     * @return {React.Element}
     */

  }, {
    key: 'render',
    value: function render() {
      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        TransformDimensions,
        { className: test ? 'js-transformDimensions' : undefined },
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          TransformDimensionsWrapper,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            Table,
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Cell,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(DimensionInput, {
                suffix: this._t('editor.controls.transform.dimensions.width'),
                name: 'width',
                disabled: this.props.disabled,
                value: this.state.x,
                onLiveChange: this._onInputLiveChange.bind(this, 'x'),
                onChange: this._onInputChange.bind(this, 'x') })
            ),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              CrossCell,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Cross, { src: this._getAssetPath('editor/controls/transform/dimensions-cross.png', true) })
            ),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              Cell,
              null,
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(DimensionInput, {
                suffix: this._t('editor.controls.transform.dimensions.height'),
                name: 'height',
                disabled: this.props.disabled,
                value: this.state.y,
                onLiveChange: this._onInputLiveChange.bind(this, 'y'),
                onChange: this._onInputChange.bind(this, 'y') })
            )
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["Transition"],
            {
              active: this.props.disabled,
              enterProp: 'rendered',
              enterDuration: 300,
              appearProp: 'visible',
              appearDuration: 300,
              leaveDuration: 300 },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              LockOverlay,
              { className: test ? 'js-transformDimensionsLockOverlay' : undefined },
              __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Lock, { src: this._getAssetPath('editor/controls/transform/lock.png', true) })
            )
          )
        )
      );
    }
  }]);

  return TransformDimensionsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"]);

TransformDimensionsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SharedStateComponent"].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TransformDimensionsComponent);


var DimensionInput = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["SuffixedTextInputComponent"])('2jlos', 'DimensionInput');

var Cross = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].img('1dew3s1', 'Cross');

var TransformDimensions = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1yz821h', 'TransformDimensions');

var TransformDimensionsWrapper = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1dg9k0o', 'TransformDimensionsWrapper');

var Table = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('wlk9p6', 'Table');

var Cell = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1q481v0', 'Cell');

var CrossCell = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(Cell)('13lk3i9', 'CrossCell');

var LockOverlay = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('943mx5', {
  rendered: '2jlos',
  visible: 'rval4i'
}, 'LockOverlay');

var Lock = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].img('1hp46pm', 'Lock');

/***/ }),
/* 354 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__ = __webpack_require__(109);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__ = __webpack_require__(8);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__text_design_controls_component__ = __webpack_require__(355);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__text_design_canvas_controls_component_jsx__ = __webpack_require__(356);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_shared_log__ = __webpack_require__(46);








var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */







var MAX_FONT_LOADING_TIME = 600;

var TextDesignSprite = void 0;
var AssetManager = void 0;
if (__WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__["Operations"].SpriteOperation) {
  TextDesignSprite = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__["Operations"].SpriteOperation.TextDesignSprite;
  AssetManager = TextDesignSprite.AssetManager;
}

/**
 * The Controls for the Filter tool.
 *
 * @class
 * @memberof PhotoEditorSDK.UI.DesktopUI.Controls
 * @extends PhotoEditorSDK.UI.DesktopUI.BaseControls
 */

var TextDesignControls = function (_BaseControls) {
  _inherits(TextDesignControls, _BaseControls);

  function TextDesignControls() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, TextDesignControls);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TextDesignControls.__proto__ || __WEBPACK_IMPORTED_MODULE_6_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignControls)).call.apply(_ref, [this].concat(args))), _this), _this.toggleTextAsMask = function () {
      var editor = _this.context.editor;

      var sprite = _this.sharedState.get('selectedSprite');

      if (sprite) {
        sprite.setInverted(!sprite.getInverted());
        _this.addLocalHistorySnapshot('inverted-layout');
        editor.render();
      } else {
        _this.sharedState.set({
          textAsMask: !_this.sharedState.get('textAsMask')
        });
      }
    }, _this.setColor = function (color) {
      var editor = _this.context.editor;

      var sprite = _this.sharedState.get('selectedSprite');

      _this.sharedState.set('color', color.clone());

      if (sprite) {
        sprite.setColor(color.clone());

        _this.addLocalHistorySnapshot('layout-color');

        editor.render();
      } else {
        _this.sharedState.set({
          color: color.clone()
        });
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }
  /**
   * A unique identifier for these controls
   * @type {String}
   */


  /**
   * The controls component for these controls
   * @type {React.Component}
   */


  /**
   * The canvas component for these controls
   * @type {React.Component}
   */


  /**
   * The icon path of this control
   * @type {String}
   */


  /**
   * The active icon path of this control
   * @type {String}
   */


  /**
   * The operations required for this control to work properly
   * @type {Array}
   */


  /**
   * Operations which will trigger UI updates on this controls.
   * @type {String[]}
   */


  /**
   * The default options for this control
   * @type {Object}
   * @property {Object[]} [categories = []]
   * @property {Boolean} [replaceCategories = false]
   * @property {String[]} [availableFilters = null]
   */


  _createClass(TextDesignControls, [{
    key: '_onEnter',
    value: function _onEnter() {
      var editor = this.context.editor;


      var textDesignManager = new __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["TextDesignManager"](this.context.ui, this._options);
      var fontManager = new __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["FontManager"](this.context.ui, { fonts: __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["Constants"].DEFAULTS.TEXT_DESIGN_FONTS, replaceFonts: true });
      var operation = editor.operations.getOrCreate('sprite');

      var selectedSprite = __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__["Utils"].Array.find(operation.getSprites(), function (s) {
        return s instanceof TextDesignSprite;
      });

      this.sharedState.set({
        textDesignManager: textDesignManager,
        fontManager: fontManager,
        operation: operation,
        selectedSprite: selectedSprite,
        color: __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__["Color"].WHITE
      });
    }
  }, {
    key: 'getLayoutItems',
    value: function getLayoutItems() {
      var textDesignManager = this.sharedState.get('textDesignManager');
      return this.constructor.TextDesignItems.filter(function (item) {
        return textDesignManager.getLayoutByIdentifier(item.identifier);
      });
    }
  }, {
    key: 'getText',
    value: function () {
      var _ref2 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function _callee() {
        var initialValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
        var modal;
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                modal = __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayInput('Text', initialValue);
                return _context.abrupt('return', new __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_promise___default.a(function (resolve) {
                  modal.on('input', resolve);
                  modal.on('close', function (_) {
                    return resolve(initialValue);
                  });
                }));

              case 2:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getText() {
        return _ref2.apply(this, arguments);
      }

      return getText;
    }()
  }, {
    key: 'editText',
    value: function () {
      var _ref3 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function _callee2() {
        var sprite, operation, editor, text, newText;
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sprite = this.sharedState.get('selectedSprite');
                operation = this.sharedState.get('operation');
                editor = this.context.editor;

                if (sprite) {
                  _context2.next = 5;
                  break;
                }

                return _context2.abrupt('return');

              case 5:
                text = sprite.getText();
                _context2.next = 8;
                return this.getText(text);

              case 8:
                newText = _context2.sent;

                if (!(!newText || newText.trim() === '')) {
                  _context2.next = 15;
                  break;
                }

                operation.removeSprite(sprite);
                sprite.dispose();
                this.sharedState.set({
                  selectedLayout: null,
                  selectedSprite: null
                });
                editor.render();
                return _context2.abrupt('return');

              case 15:

                sprite.setText(newText);
                this.addLocalHistorySnapshot('layout-text');

              case 17:
              case 'end':
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function editText() {
        return _ref3.apply(this, arguments);
      }

      return editText;
    }()
  }, {
    key: 'selectLayout',
    value: function () {
      var _ref4 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function _callee3(identifier) {
        var _this2 = this;

        var _sharedState$get, textDesignManager, selectedSprite, operation, Layout, editor, text, layout, images;

        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _sharedState$get = this.sharedState.get(), textDesignManager = _sharedState$get.textDesignManager, selectedSprite = _sharedState$get.selectedSprite, operation = _sharedState$get.operation;
                Layout = textDesignManager.getLayoutByIdentifier(identifier);
                editor = this.context.editor;

                if (Layout) {
                  _context3.next = 5;
                  break;
                }

                return _context3.abrupt('return', null);

              case 5:
                if (selectedSprite) {
                  _context3.next = 16;
                  break;
                }

                _context3.next = 8;
                return this.getText();

              case 8:
                text = _context3.sent;

                if (!(!text || text.trim() === '')) {
                  _context3.next = 11;
                  break;
                }

                return _context3.abrupt('return');

              case 11:

                selectedSprite = new TextDesignSprite(operation, {
                  text: text,
                  color: this.sharedState.get('color'),
                  inverted: this.sharedState.get('textAsMask'),
                  width: 0.8
                });

                operation.addSprite(selectedSprite);
                this.sharedState.set({ selectedSprite: selectedSprite });
                _context3.next = 17;
                break;

              case 16:
                selectedSprite.seed();

              case 17:

                // Select/create layout
                layout = new Layout();
                _context3.prev = 18;
                images = layout.getImagePaths().map(function (path) {
                  return { path: path, fullPath: _this2._getAssetPath(path), image: null };
                });
                _context3.next = 22;
                return AssetManager.loadImages(images);

              case 22:
                layout.onImagesLoaded();
                _context3.next = 29;
                break;

              case 25:
                _context3.prev = 25;
                _context3.t0 = _context3['catch'](18);

                __WEBPACK_IMPORTED_MODULE_11_shared_log__["a" /* default */].error(_context3.t0);
                return _context3.abrupt('return');

              case 29:

                selectedSprite.setLayout(layout);

                this.addLocalHistorySnapshot('layout');

                editor.render();

                return _context3.abrupt('return', selectedSprite);

              case 33:
              case 'end':
                return _context3.stop();
            }
          }
        }, _callee3, this, [[18, 25]]);
      }));

      function selectLayout(_x2) {
        return _ref4.apply(this, arguments);
      }

      return selectLayout;
    }()
  }, {
    key: '_loadFonts',
    value: function () {
      var _ref5 = _asyncToGenerator(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.mark(function _callee4() {
        var fontManager, fontLoader;
        return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_regenerator___default.a.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                fontManager = this.sharedState.get('fontManager');
                fontLoader = this.context.ui.getFontLoader();

                fontLoader.setFonts(fontManager.getFonts());

                AssetManager.setFonts(_extends({}, AssetManager.getFonts(), fontManager.getVariationsByIdentifier()));

                return _context4.abrupt('return', fontLoader.load().catch(function (errors) {
                  return errors.map(function (e) {
                    return e.font.getFontFamily();
                  });
                }));

              case 5:
              case 'end':
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function _loadFonts() {
        return _ref5.apply(this, arguments);
      }

      return _loadFonts;
    }()
  }, {
    key: 'loadFonts',
    value: function loadFonts() {
      var _this3 = this;

      var loadingModal = void 0;
      var loadingTimeout = window.setTimeout(function () {
        loadingModal = __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayLoading(_this3._t('loading.fonts'), true);
      }, MAX_FONT_LOADING_TIME);

      return this._loadFonts().then(function () {
        window.clearTimeout(loadingTimeout);
        if (loadingModal) loadingModal.close();
        // Force font update after loading
        // selectedSprite.emit('update')
        // const { editor } = this.context
        // editor.render()
      }).catch(function (unavailableFontFamilies) {
        window.clearTimeout(loadingTimeout);
        if (loadingModal) loadingModal.close();

        var fonts = _this3._unavailableFontFamilies.join(', ');

        // Force font update after loading
        // selectedSprite.emit('update')
        // const { editor } = this.context
        // editor.render()
        // this.forceUpdate()

        __WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["ModalManager"].instance.displayError(_this3._t('errors.fontLoadingError.title'), _this3._t('errors.fontLoadingError.text', { fonts: fonts }));
      });
    }
  }], [{
    key: 'mapOperationsToSharedState',


    /**
     * Maps the operations state to a shared state object
     *
     * @static
     * @param {Object} operations
     * @param {Boolean} [initial=false]
     * @returns {Object}
     */
    value: function mapOperationsToSharedState(operations) {
      var initial = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var previousState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

      var operation = operations.getOrCreate('sprite');
      var sprite = operation.getSprites().filter(function (s) {
        return s instanceof TextDesignSprite;
      })[0] || null;
      var layout = sprite ? sprite.getLayout() : null;
      return {
        color: sprite ? sprite.getColor() : __WEBPACK_IMPORTED_MODULE_7_photoeditorsdk__["Color"].WHITE,
        textAsMask: sprite ? sprite.getInverted() : false,
        selectedLayout: layout ? layout.constructor.identifier : null
      };
    }
  }, {
    key: 'clickAtPosition',
    value: function clickAtPosition(clickPosition, editor) {
      var operation = editor.operations.get('sprite');

      if (!operation) {
        return false;
      }

      var sprites = operation.getSpritesAtPosition(clickPosition, editor.getOutputTextureDimensions()).filter(function (s) {
        return s instanceof TextDesignSprite;
      });

      return sprites[0] ? { selectedSprite: sprites[0] } : false;
    }

    /**
     * Checks if this control is enabled
     * @return {Boolean}
     */

  }, {
    key: 'isEnabled',
    value: function isEnabled(editor) {
      return editor.isToolEnabled('textdesign') && editor.isToolAllowed('textdesign');
    }

    /**
     * Returns the assets that should be preloaded for this control
     * @param  {PhotoEditorSDK.UI.DesktopUI.Editor} editor
     * @return {String[]}
     */

  }, {
    key: 'getPreloadAssets',
    value: function getPreloadAssets(editor) {
      var assets = [];
      this.TextDesignItems.forEach(function (item) {
        assets.push(item.backgroundImagePath);
      });
      return assets;
    }
  }]);

  return TextDesignControls;
}(__WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core__["BaseControls"]);

TextDesignControls.identifier = 'textdesign';
TextDesignControls.controlsComponent = __WEBPACK_IMPORTED_MODULE_9__text_design_controls_component__["a" /* default */];
TextDesignControls.canvasControlsComponent = __WEBPACK_IMPORTED_MODULE_10__text_design_canvas_controls_component_jsx__["a" /* default */];
TextDesignControls.iconPath = 'editor/controls/text-design/icon.png';
TextDesignControls.activeIconPath = 'editor/controls/text-design/icon-active.png';
TextDesignControls.requiredOperations = ['sprite'];
TextDesignControls.updatableOperations = ['sprite'];
TextDesignControls.switchToDefaultControlsOnRemoval = true;
TextDesignControls.defaultOptions = {
  availableLayouts: null
};
TextDesignControls.TextDesignItems = [{
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_thislayoutisgreat.png',
  identifier: 'imgly_text_design_blocks'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_fatandfast.png',
  identifier: 'imgly_text_design_rotated'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_summerfeeling.png',
  identifier: 'imgly_text_design_blocks_light'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_typewithstyle.png',
  identifier: 'imgly_text_design_equal_width'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_inthebox.png',
  identifier: 'imgly_text_design_masked'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_bluefriday.png',
  identifier: 'imgly_text_design_celebrate'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_decorative.png',
  identifier: 'imgly_text_design_sunshine'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_specialdeals.png',
  identifier: 'imgly_text_design_masked_badge'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_doublelines.png',
  identifier: 'imgly_text_design_blocks_condensed'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_celebrate.png',
  identifier: 'imgly_text_design_celebrate_simple'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_beerandburger.png',
  identifier: 'imgly_text_design_equal_width_fat'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_watercolor.png',
  identifier: 'imgly_text_design_watercolor'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_particle.png',
  identifier: 'imgly_text_design_particles'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_yeah.png',
  identifier: 'imgly_text_design_masked_speech_bubble'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_thisisadream.png',
  identifier: 'imgly_text_design_masked_speech_bubble_comic'
}, {
  backgroundImagePath: 'editor/controls/text-design/icons/imgly_text_design_icon_fat_face.png',
  identifier: 'imgly_text_design_multiline'
}];


__WEBPACK_IMPORTED_MODULE_8_photoeditorsdk_desktop_ui_core___default.a.Controls.TextDesignControls = TextDesignControls;

/* harmony default export */ __webpack_exports__["a"] = (TextDesignControls);

/***/ }),
/* 355 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__);






var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/** @jsx React.createElement */
/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */



var ControlGroupTitle = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroupTitle,
    ControlGroup = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["GroupedControlsStyles"].ControlGroup;


var test = ("production") === 'test';

var shuffleIconPath = 'editor/controls/text-design/icons/imgly_icon_next_48pt.png';

var TextDesignControlsComponent = function (_ControlsComponent) {
  _inherits(TextDesignControlsComponent, _ControlsComponent);

  function TextDesignControlsComponent() {
    var _ref;

    _classCallCheck(this, TextDesignControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextDesignControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this._events = {};

    _this._unavailableFontFamilies = [];
    return _this;
  }

  _createClass(TextDesignControlsComponent, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      _get(TextDesignControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignControlsComponent.prototype), 'componentDidMount', this).call(this);
      this.props.controls.loadFonts();
    }
  }, {
    key: 'shouldSharedComponentUpdate',
    value: function shouldSharedComponentUpdate(oldState, newState) {
      return true;
    }
  }, {
    key: '_getRootProps',
    value: function _getRootProps() {
      return {
        className: test ? 'js-textDesignControls' : undefined,
        withBorderTop: true
      };
    }
  }, {
    key: 'onSelectLayout',
    value: function onSelectLayout(identifier) {
      var _this2 = this;

      this.props.controls.selectLayout(identifier).then(function () {
        _this2.forceUpdate();
        _this2.context.editor.render();
      });
    }
  }, {
    key: '_renderContent',
    value: function _renderContent() {
      var _this3 = this;

      var _sharedState = this.sharedState,
          color = _sharedState.color,
          textAsMask = _sharedState.textAsMask,
          selectedLayout = _sharedState.selectedLayout;

      var controls = this.props.controls;
      var items = controls.getLayoutItems();

      return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
        Container,
        null,
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          Settings,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            ColorSelection,
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ColorSelectionComponent"], {
              value: color,
              onChange: controls.setColor
            })
          ),
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            SectionHeader,
            null,
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Checkbox, {
              className: test ? 'js-td-inverted-checkbox' : undefined,
              onClick: controls.toggleTextAsMask,
              checked: textAsMask }),
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              SectionTitle,
              null,
              'Text as mask'
            )
          )
        ),
        __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
          SettingsBottom,
          null,
          __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ScrollbarComponent"],
            { direction: 'vertical' },
            __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
              List,
              null,
              items.map(function (item) {
                return __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(
                  ListItem,
                  {
                    key: item.identifier,
                    className: test ? 'js-td-item-' + item.identifier : undefined,
                    selected: item.identifier === selectedLayout,
                    onClick: function onClick() {
                      return _this3.onSelectLayout(item.identifier);
                    } },
                  __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["React"].createElement(Image, { src: item.identifier === selectedLayout ? _this3._getAssetPath(shuffleIconPath, true) : _this3._getAssetPath(item.backgroundImagePath, true) })
                );
              })
            )
          )
        )
      );
    }
  }]);

  return TextDesignControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"]);

TextDesignControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].contextTypes;
TextDesignControlsComponent.RootElement = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["ControlsComponent"].RootElement;
/* harmony default export */ __webpack_exports__["a"] = (TextDesignControlsComponent);


var Container = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('w4knew', 'Container');

var Image = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].img('95qw31', 'Image');

var List = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].ul('13wctlp', 'List');

var ListItem = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].li('18c5asb', {
  selected: '1eawvu9'
}, 'ListItem');

var SectionTitle = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroupTitle).div('1b0fixa', 'SectionTitle');

var SectionHeader = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('1b4y7iu', 'SectionHeader');

var Checkbox = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["CheckboxComponent"])('15tfhjl', 'Checkbox');

var Settings = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroup).div('eijhud', 'Settings');

var SettingsBottom = Object(__WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"])(ControlGroup).div('n44ist', 'SettingsBottom');

var ColorSelection = __WEBPACK_IMPORTED_MODULE_5_photoeditorsdk_desktop_ui_core__["adonis"].div('yzsuxp', 'ColorSelection');

/***/ }),
/* 356 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__ = __webpack_require__(6);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__ = __webpack_require__(54);







var _extends = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default.a || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_define_property___default()(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_get_own_property_descriptor___default()(object, property); if (desc === undefined) { var parent = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_create___default()(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default.a ? __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_set_prototype_of___default()(subClass, superClass) : subClass.__proto__ = superClass; }

/* @module */
/*
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */




var SpriteOperation = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation;

var TextDesignSprite = void 0;
if (SpriteOperation) {
  TextDesignSprite = __WEBPACK_IMPORTED_MODULE_6_photoeditorsdk__["Operations"].SpriteOperation.TextDesignSprite;
}

var TextDesignCanvasControlsComponent = function (_SpritesCanvasControl) {
  _inherits(TextDesignCanvasControlsComponent, _SpritesCanvasControl);

  function TextDesignCanvasControlsComponent() {
    var _ref;

    _classCallCheck(this, TextDesignCanvasControlsComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = TextDesignCanvasControlsComponent.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignCanvasControlsComponent)).call.apply(_ref, [this].concat(args)));

    _this.state = _extends({}, _this.state, {
      visible: true
    });
    return _this;
  }

  /**
   * Renders the sprite items
   * @param {Sprite[]} sprites
   * @return {React.Component[]}
   * @private
   */


  _createClass(TextDesignCanvasControlsComponent, [{
    key: '_renderSpriteItems',
    value: function _renderSpriteItems(sprites) {
      // Only render TextDesign items
      return _get(TextDesignCanvasControlsComponent.prototype.__proto__ || __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_object_get_prototype_of___default()(TextDesignCanvasControlsComponent.prototype), '_renderSpriteItems', this).call(this, sprites.filter(function (s) {
        return s instanceof TextDesignSprite;
      }));
    }

    /**
     * Selects the next sprite
     * @private
     */

  }, {
    key: '_selectNextSprite',
    value: function _selectNextSprite() {
      var operation = this.getSharedState('operation');
      var sprites = operation.getSprites().slice(0).reverse();

      var sprite = void 0,
          nextSprite = void 0;
      for (var i = 0; i < sprites.length; i++) {
        sprite = sprites[i];
        if (sprite instanceof TextDesignSprite) {
          nextSprite = sprite;
          break;
        }
      }

      this.setSharedState({ selectedSprite: nextSprite || null });
    }

    /**
     * Creates a new sprite with the given options
     * @param  {Object} options
     * @return {PhotoEditorSDK.Operations.SpriteOperation.Sprite}
     * @private
     */

  }, {
    key: '_createSprite',
    value: function _createSprite(options) {}
  }]);

  return TextDesignCanvasControlsComponent;
}(__WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__["a" /* default */]);

TextDesignCanvasControlsComponent.contextTypes = __WEBPACK_IMPORTED_MODULE_7__shared_sprites_sprites_canvas_controls_component__["a" /* default */].contextTypes;
/* harmony default export */ __webpack_exports__["a"] = (TextDesignCanvasControlsComponent);

/***/ })
/******/ ]);
});