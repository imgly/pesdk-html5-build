(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t(require('photoeditorsdk'),require('react'),require('react-dom')):'function'==typeof define&&define.amd?define(['photoeditorsdk','react','react-dom'],t):'object'==typeof exports?exports.PhotoEditorDesktopUI=t(require('photoeditorsdk'),require('react'),require('react-dom')):e.PhotoEditorDesktopUI=t(e.PhotoEditorSDK,e.React,e.ReactDOM)})(this,function(e,t,o){var i=Math.sin,n=Math.cos,r=Math.PI,a=Math.atan2,s=Math.round,l=Math.abs,p=Math.max,d=Math.min,c=Math.ceil,m=Math.floor;return function(e){function t(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=127)}([function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e,t,o){'use strict';(function(e){o.d(t,'j',function(){return R}),o.d(t,'v',function(){return F}),o.d(t,'q',function(){return P}),o.d(t,'e',function(){return O}),o.d(t,'c',function(){return w}),o.d(t,'a',function(){return x}),o.d(t,'o',function(){return B}),o.d(t,'i',function(){return I}),o.d(t,'p',function(){return A}),o.d(t,'y',function(){return M}),o.d(t,'f',function(){return N}),o.d(t,'n',function(){return L}),o.d(t,'w',function(){return E});var i=o(35),n=o.n(i),r=o(47),a=o.n(r),s=o(159),l=o.n(s),p=o(48),d=o.n(p),c=o(96),m=o.n(c),_=o(164),g=o.n(_),u=o(97),y=o(177),h=o(190),f=o(191),b=o(72),k=o(99),v=o(73),S=o(192);o.d(t,'u',function(){return y.a}),o.d(t,'l',function(){return a.a}),o.d(t,'b',function(){return u.a}),o.d(t,'d',function(){return h.a}),o.d(t,'s',function(){return f.a}),o.d(t,'m',function(){return l.a}),o.d(t,'z',function(){return b.b}),o.d(t,'x',function(){return b.a}),o.d(t,'h',function(){return k.a}),o.o(_,'withTheme')&&o.d(t,'A',function(){return _.withTheme}),o.o(_,'ThemeProvider')&&o.d(t,'t',function(){return _.ThemeProvider}),o.d(t,'g',function(){return v.a}),o.d(t,'k',function(){return d.a}),o.d(t,'r',function(){return S.a});var C='production',E=new g.a(e.adonisOptions||{injection:!1,theme:m.a,minified:'production'==C,cssSelectorPrefix:'.pesdk-desktop-editor ',classNamePrefix:'pesdk-',hashedStyles:'production'==C}),x=n.a.Base64,w=n.a.Color,T=n.a.Math.ColorMatrix,O=n.a.EventEmitter,D=n.a.EXIF,I=n.a.OptionType,R=n.a.Promise,P=n.a.Utils,B=n.a.RenderType,N=n.a.ImageFormat,A=n.a,z=n.a.UniformType,F=n.a.Math.Vector2,L=n.a.Math.Rectangle,M='undefined'!=typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):o(101)}).call(t,o(46))},function(e,t,o){'use strict';t.__esModule=!0;var i=o(21),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'===('undefined'==typeof t?'undefined':(0,n.default)(t))||'function'==typeof t)?t:e}},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=o(152),r=i(n),a=o(156),s=i(a),l=o(21),p=i(l);t.default=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof t?'undefined':(0,p.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,o){e.exports={default:o(165),__esModule:!0}},function(e,t,o){'use strict';t.__esModule=!0;var i=o(56),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(e,t,o){return t in e?(0,n.default)(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}},function(e,t,o){'use strict';o.d(t,'e',function(){return n}),o.d(t,'a',function(){return r}),o.d(t,'c',function(){return a}),o.d(t,'d',function(){return s}),o.d(t,'b',function(){return l}),o.d(t,'f',function(){return d}),o.d(t,'g',function(){return c}),o.d(t,'h',function(){return m});var i=o(1),n=i.w.css('vl6nc6','FullContainer'),r=i.w.css('gxhkr8',{animated:'1cekd0y',selected:'10th7ra',visible:'qtjcwg'},'ControlItem'),a=i.w.css('1us1ll5','ControlItemTextStyles'),s=i.w.css('d17ppx',{hovered:'zgbg08'},'ControlItemTitle'),l=i.w.css('x1p1ki',{visible:'zgbg08',rendered:'2jlos'},'ControlItemActiveOverlay'),p=i.w.css('1kza12c','ControlItemOverlay'),d=i.w.css('ywjahx','Knob'),c=i.w.css('9ej9h0',{threeColumns:'14meo64',twoColumns:'4nk392',withText:'rbroui',selected:'eb0k9a'},'PlainControlItem'),m=i.w.css('1lmjuk',{selected:'q4p805'},'PlainControlItemBackground')},function(e){var t=e.exports={version:'2.4.0'};'number'==typeof __e&&(__e=t)},function(e,t,o){var i=o(64)('wks'),n=o(42),r=o(13).Symbol,a='function'==typeof r,s=e.exports=function(e){return i[e]||(i[e]=a&&r[e]||(a?r:n)('Symbol.'+e))};s.store=i},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onSharedStateUpdate'),s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.context.sharedState&&this.context.sharedState.on('update',this._onSharedStateUpdate)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.context.sharedState&&this.context.sharedState.off('update',this._onSharedStateUpdate)},t.prototype._onSharedStateUpdate=function(e,t){this.shouldSharedComponentUpdate(e,t)?(this.sharedComponentWillUpdate(e,t),this.forceUpdate(),this.sharedStateDidChange(e,t)):this.sharedStateDidChange(e,t)},t.prototype.sharedComponentWillUpdate=function(){},t.prototype.shouldSharedComponentUpdate=function(){return!0},t.prototype.sharedStateDidChange=function(){},t.prototype.sharedStateWillChange=function(){},t.prototype.setSharedState=function(e,t){this.context.sharedState.set(e,t)},t.prototype.getSharedState=function(e){return this.context.sharedState.get(e)},t.prototype.forceSharedUpdate=function(){this.context.sharedState.broadcastUpdate()},t}(p.b);d.contextTypes={editor:p.k.object,ui:p.k.object,options:p.k.object,mediator:p.k.object,sharedState:p.k.object,theme:p.k.object,screen:p.k.object,appComponent:p.k.object},d.propTypes={sharedState:p.k.any},t.a=d},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onDragStart','_onDragMove','_onDragEnd'),s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.refs.element&&(this._element=this.refs.element)},t.prototype._onDragStart=function(t){if(!this.props.disabled){t.preventDefault(),t.stopPropagation(),this._initialMousePosition=p.u.getEventPosition(t),document.addEventListener('mousemove',this._onDragMove),document.addEventListener('touchmove',this._onDragMove),document.addEventListener('mouseup',this._onDragEnd),document.addEventListener('touchend',this._onDragEnd);var e=this._element.getBoundingClientRect(),o=new p.v(e.left,e.top);this._lastMousePosition=this._initialMousePosition.clone();var i=this._initialMousePosition.clone().subtract(o);this.props.onStart&&this.props.onStart(i,this._initialMousePosition.clone(),t)}},t.prototype._onDragMove=function(t){t.preventDefault(),t.stopPropagation();var e=p.u.getEventPosition(t);if(e){var o=e.clone().subtract(this._initialMousePosition),i=e.clone().subtract(this._lastMousePosition);this._lastMousePosition=e.clone(),this.props.onDrag&&this.props.onDrag(o,e,i,t)}},t.prototype._onDragEnd=function(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this._onDragMove(t),document.removeEventListener('mousemove',this._onDragMove),document.removeEventListener('touchmove',this._onDragMove),document.removeEventListener('mouseup',this._onDragEnd),document.removeEventListener('touchend',this._onDragEnd),this.props.onStop&&this.props.onStop(t)},t.prototype.render=function(){var t=this;if(!this.props.children||this.props.children instanceof Array)throw new Error('DraggableComponent expects exactly one child.');var e={onMouseDown:this._onDragStart,onTouchStart:this._onDragStart,onClick:function(o){if(t.props.disabled){var e=t.props.children.props.onClick;return void(e&&e(o))}o.stopPropagation()}};if('string'==typeof this.props.children.type)e.ref='element';else{var o=this.props.children.props.innerRef;e.innerRef=function(e){t._element=e,o&&o(e)}}return p.l.cloneElement(this.props.children,e)},t}(p.b);d.contextTypes=p.b.contextTypes,d.propTypes={onStart:p.k.func,onDrag:p.k.func,onStop:p.k.func,disabled:p.k.bool},t.a=d},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(51),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._renderChild=function(t){return e.prototype._renderChild.call(this,React.createElement(m,{innerRef:this.props.innerListRef},t))},t}(d.a);c.RootElement=d.a.RootElement,c.contextTypes=d.a.contextTypes;var m=p.w.div('1jtk1eb','ListWrapper'),_=Object(p.w)(c)('x597uk','ScrollableList');t.a=_},function(e,t,o){'use strict';var i=o(19),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(o,i,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];a()(this,t);var s=l()(this,e.call(this));return s.id=c.q.getUUID(),s.type=o,s.title=i,s.text=n,s.overlay=r,s.visible=!0,s.data=null,s}return d()(t,e),t.prototype.setData=function(e){this.data=e,this.emit('update')},t.prototype.close=function(){this.visible=!1,this.emit('close')},t.prototype.remove=function(){this.emit('remove')},t}(c.e),_=function(e){function t(){a()(this,t);var o=l()(this,e.call(this));return o._modals=[],o}return d()(t,e),t.prototype.displayLoading=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o=new m('loading',e,null,t);return this.addModal(o),o},t.prototype.displayProgress=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=new m('progress',null,e);return o.setData({progress:t}),this.addModal(o),o},t.prototype.displayWarning=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:['OK'],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0,n=new m('warning',e,t,i);return n.setData({buttons:o}),this.addModal(n),n},t.prototype.displayError=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,i=new m('error',e,t,o);return this.addModal(i),i},t.prototype.addModal=function(e){var t=this;this._modals.push(e),e.on('close',function(){t.emit('update')}),e.on('remove',function(){t.removeModal(e)}),e.on('update',function(){t.emit('update')}),this.emit('update')},t.prototype.removeModal=function(e){var t=this._modals.indexOf(e);this._modals.splice(t,1),this.emit('update')},t.prototype.getModals=function(){return this._modals},n()(t,null,[{key:'instance',get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(c.e);t.a=_},function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(47),d=o.n(p),c=o(48),m=o.n(c),_=o(72),g=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._timeout=null,s.state={enter:!1,appear:!1,leave:!1},s.props.active&&(s.state.enter=!0,s.state.appear=!0),s}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.active&&!e.active?this._leave():!this.props.active&&e.active&&(this._enter(),this._appear())},t.prototype._cancelTimeout=function(){this._timeout&&(window.clearTimeout(this._timeout),this._timeout=null)},t.prototype._enter=function(){this.setState({enter:!0})},t.prototype._leave=function(){var e=this;this._timeout&&this._cancelTimeout(),this.setState({appear:!1,leave:!0}),this._timeout=window.setTimeout(function(){e._cancelTimeout(),e.setState({enter:!1})},this.props.leaveDuration)},t.prototype._appear=function(){var e=this;this._timeout&&this._cancelTimeout(),Object(_.b)(function(){e.setState({appear:!0,leave:!1}),e._timeout=window.setTimeout(function(){e._cancelTimeout()},e.props.appearDuration)})},t.prototype._buildStateProps=function(){var e=this.props,t=e.enterProp,o=e.appearProp,i=e.leaveProp,n={};return t&&(n[t]=this.state.enter),o&&(n[o]=this.state.appear),i&&(n[i]=this.state.leave),n},t.prototype.render=function(){if(!this.props.children)return null;var e=this._buildStateProps();return d.a.cloneElement(this.props.children,e)},t}(p.Component);g.propTypes={active:m.a.bool,enterProp:m.a.string,enterDuration:m.a.number,appearProp:m.a.string,appearDuration:m.a.number,leaveProp:m.a.string,leaveDuration:m.a.number},g.defaultProps={active:!0,enterProp:'rendered',enterDuration:300,appearProp:'visible',appearDuration:300,leaveDuration:300},t.a=g},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(75),a=o.n(r),s=o(4),l=o.n(s),p=o(0),d=o.n(p),c=o(19),m=o.n(c),_=o(2),g=o.n(_),u=o(3),y=o.n(u),h=o(1),f=o(9),b=function(e){function t(){d()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=g()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onBackButtonClick'),r._needsStyleFixes=!0,r.state={backButton:!1},r}return y()(t,e),t.prototype._onBackButtonClick=function(){},t.prototype.fixStyles=function(){var e=this;return h.u.Browser.isIElte(10)?(this._table&&(this._table.style.height='100%'),this._container&&(this._container.style.height='100%'),new l.a(function(t){Object(h.z)(function(){if(e._root){var o=e._root.offsetHeight;if(e._container&&e._header){var i=e._header.offsetHeight;e._container.style.height=o-i+'px'}e._table&&(e._table.style.height=o+'px'),e._scrollbar&&e._scrollbar.update(),t()}},1e3)})):(this._scrollbar&&this._scrollbar.update(),l.a.resolve())},t.prototype._getRootProps=function(){return{}},t.prototype._renderContent=function(){return h.l.createElement('div',null)},t.prototype.render=function(){var e=this,t=this.constructor.RootElement,o=this._getRootProps(),i=a()(o,[]),r=this.context.screen.state.currentControl,s={backgroundImage:'url(\''+this._getAssetPath('editor/controls/shared/back.png',!0)+'\')'};return h.l.createElement(k,{innerRef:function(t){i.innerRef&&i.innerRef(t),e._root=t}},h.l.createElement(v,{innerRef:function(t){e._table=t}},!(null===r)&&h.l.createElement(S,{innerRef:function(t){e._header=t}},this.state.backButton&&h.l.createElement(x,{style:s,onClick:this._onBackButtonClick}),h.l.createElement(E,null,this._t('editor.controls.'+r+'.title'))),h.l.createElement(C,null,h.l.createElement(t,n()({},i,{innerRef:function(t){e._container=t},className:!1}),this._renderContent()))))},m()(t,[{key:'container',get:function(){return this._container}}]),t}(f.a);b.contextTypes=f.a.contextTypes,b.propTypes={options:h.k.object},t.a=b;var k=h.w.div('ku10ek','ControlsComponentRoot'),v=h.w.div('rfecls','ControlsComponentTable'),S=h.w.div('1tkmkv6','ControlsComponentHeader'),C=h.w.div('vkb8c9','RootElementContainer');b.RootElement=h.w.div('rfecls',{withBorderTop:'120drhm'},'ControlsComponent');var E=h.w.div('1ru8sfa','ControlsComponentTitle'),x=h.w.button('gyx1pn','BackButton')},function(e,t,o){var i=o(13),n=o(7),r=o(33),a=o(24),s='prototype',l=function(e,t,o){var p=e&l.F,d=e&l.G,c=e&l.S,m=e&l.P,_=e&l.B,g=e&l.W,u=d?n:n[t]||(n[t]={}),y=u[s],h=d?i:c?i[t]:(i[t]||{})[s],f,b,k;for(f in d&&(o=t),o)b=!p&&h&&void 0!==h[f],b&&f in u||(k=b?h[f]:o[f],u[f]=d&&'function'!=typeof h[f]?o[f]:_&&b?r(k,i):g&&h[f]==k?function(e){var t=function(t,o,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,o);}return new e(t,o,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(k):m&&'function'==typeof k?r(Function.call,k):k,m&&((u.virtual||(u.virtual={}))[f]=k,e&l.R&&y&&!y[f]&&a(y,f,k)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,o){'use strict';t.__esModule=!0;var i=o(194),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=n.default||function(e){for(var t=1,o;t<arguments.length;t++)for(var i in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e}},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(1),l=o(27),p=function(){function e(t,o,i){a()(this,e),this.context=t,this.sharedState=o,this._options=i,this._mediator=t.mediator,this.skipHistory=!1,this._localHistoryItems=[],this._globalHistoryItems=[],this._onOperationRemoved=this._onOperationRemoved.bind(this)}return e.prototype._onOperationRemoved=function(e){var t=this.sharedState.get('operation');e===t&&(this.skipHistory=!0,this.context.screen.switchToControls('default'))},e.prototype.onEnter=function(){this._mediator.on(s.d.EVENTS.OPERATION_REMOVED,this._onOperationRemoved),this._onEnter()},e.prototype._onEnter=function(){},e.prototype.onLeave=function(){var e=this;return this.onBeforeLeave().then(function(t){'boolean'==typeof t&&(t={leave:t});var o=t,i=o.leave,n=o.data;if(!i)return!1;e._mediator.off(s.d.EVENTS.OPERATION_REMOVED,e._onOperationRemoved),e._onLeave(n||{});var r=e.context.options,a=e.context.editor.history;return'global'===r.editor.undoMode&&(a.removeItems(e._localHistoryItems),e._localHistoryItems=[]),'local'===r.editor.undoMode&&0!==e._localHistoryItems.length&&(a.removeItems(e._globalHistoryItems),e._globalHistoryItems=[]),!0})},e.prototype._onLeave=function(){},e.prototype.onBeforeLeave=function(){return this._onBeforeLeave()},e.prototype._onBeforeLeave=function(){return n.a.resolve(!0)},e.prototype.registerLocalHistoryChange=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return t?void(this._lastLocalHistoryItem&&(this._lastLocalHistoryItem.getData().identifier!==e||this._lastLocalHistoryItem.isUndone())&&(this._lastLocalHistoryItem=null),!this._lastLocalHistoryItem&&(this._lastLocalHistoryItem=this.createHistoryItem('local',o,{identifier:e}),this.addHistoryItem(this._lastLocalHistoryItem))):(this._lastLocalHistoryItem=null,this.addHistorySnapshot('local',o))},e.prototype.registerGlobalHistoryChange=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return t?void(this._lastGlobalHistoryChange&&(this._lastGlobalHistoryChange.getData().identifier!==e||this._lastGlobalHistoryChange.isUndone())&&(this._lastGlobalHistoryChange=null),!this._lastGlobalHistoryChange&&(this._lastGlobalHistoryChange=this.createHistoryItem('global',null,{identifier:e}),this.addHistoryItem(this._lastGlobalHistoryChange))):(this._lastGlobalHistoryChange=null,this.addHistorySnapshot('global'))},e.prototype.createHistoryItem=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=this.context.editor.history,n=this._buildHistoryItemOptions(e,t,o);return i.createItem(n)},e.prototype._buildHistoryItemOptions=function(e,t,o){var i=this.context.editor.operations,n={type:e,data:o},r=t?i.get(t):this.sharedState.get('operation');if(r){n.operation=r.constructor.identifier;var a=r.serializeOptions();n.options=a,n.existent=!0}else if(!t)throw new Error('Cannot create history item: No operation given');else if(n.operation=t,n.existent=i.exists(t),n.existent){var s=i.get(t);n.options=s.serializeOptions()}return n},e.prototype.addHistorySnapshot=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=this.createHistoryItem(e,t);this.addHistoryItem(o)},e.prototype.addHistoryItem=function(e){var t=this.context.editor.history;t.isItem(e)||(e=t.createItem(e));var o=e.getType();'local'===o?this._localHistoryItems.push(e):this._globalHistoryItems.push(e),t.addItem(e)},e.prototype.addHistoryItems=function(e){var t=this,o=this.context.editor.history;e=e.map(function(e){return o.isItem(e)||(e=o.createItem(e)),e}),e.forEach(function(e){var o=e.getType();'local'===o?t._localHistoryItems.push(e):t._globalHistoryItems.push(e)}),o.addItems(e)},e.getPreloadAssets=function(){return[]},e.clickAtPosition=function(){return!1},e.isEnabled=function(){return!0},e}();p.identifier=null,p.controlsComponent=null,p.canvasControlsComponent=l.a,p.defaultOptions={},t.a=p},function(e,t,o){'use strict';t.__esModule=!0;var i=o(56),n=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}()},function(e,t,o){var i=o(28);e.exports=function(e){if(!i(e))throw TypeError(e+' is not an object!');return e}},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=o(131),r=i(n),a=o(142),s=i(a),l='function'==typeof s.default&&'symbol'==typeof r.default?function(e){return typeof e}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':typeof e};t.default='function'==typeof s.default&&'symbol'===l(r.default)?function(e){return'undefined'==typeof e?'undefined':l(e)}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':'undefined'==typeof e?'undefined':l(e)}},function(e,t,o){var i=o(20),n=o(86),r=o(59),a=Object.defineProperty;t.f=o(23)?Object.defineProperty:function(e,t,o){if(i(e),t=r(t,!0),i(o),n)try{return a(e,t,o)}catch(t){}if('get'in o||'set'in o)throw TypeError('Accessors not supported!');return'value'in o&&(e[t]=o.value),e}},function(e,t,o){e.exports=!o(29)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,o){var i=o(22),n=o(39);e.exports=o(23)?function(e,t,o){return i.f(e,t,n(1,o))}:function(e,t,o){return e[t]=o,e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,o){return t.call(e,o)}},function(e,t,o){var i=o(90),n=o(61);e.exports=function(e){return i(n(e))}},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(19),l=o.n(s),p=o(2),d=o.n(p),_=o(3),g=o.n(_),u=o(1),y=o(9),h=o(210),f=o(10),b=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=d()(this,e.call.apply(e,[this].concat(r)));return l._needsStyleFixes=!0,l._bindAll('_onZoom','_onZoomDone','_onCanvasDrag','_onCanvasDragStart','_onCanvasDragStop','_onCanvasClick','_onCanvasClickDisabled','_onCanvasClickEnabled'),l._initialRerender=!0,l._events=(o={},n()(o,u.d.EVENTS.ZOOM,l._onZoom),n()(o,u.d.EVENTS.ZOOM_DONE,l._onZoomDone),o),l.state={canvasClickDisabled:!1,displayHeader:!0},l}return g()(t,e),t.prototype.fixStyles=function(){if(u.u.Browser.isIElte(11)){var e=this._outerContainer.offsetHeight;this._container.style.height=e+'px'}},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._initialRerender&&this.forceUpdate()},t.prototype._performHitTest=function(e){var t=this.context.appComponent.getBounds(),o=e.subtract(t.left,t.top),i=this.context.editor,n=i.controls.getAvailable();if(this.props.controls){var r=this.props.controls.constructor.clickAtPosition(e,i);if(r)return this.setSharedState(r),!0}for(var a in n){var s=n[a],l=s.clickAtPosition(o,i);if(l)return l.selectedSprite===this.getSharedState('selectedSprite')||(this.context.screen.switchToControls(a,l),!0)}return!1},t.prototype._onCanvasClickDisabled=function(){this.setState({canvasClickDisabled:!0})},t.prototype._onCanvasClickEnabled=function(){var e=this;Object(u.z)(function(){e.setState({canvasClickDisabled:!1})})},t.prototype._onCanvasClick=function(t){var e=u.u.getEventPosition(t);this._performHitTest(e)},t.prototype._onZoom=function(){this.forceUpdate()},t.prototype._onZoomDone=function(){this.forceUpdate()},t.prototype._onCanvasDragStart=function(){var e=this.context.editor;this._initialOffset=e.offset.clone()},t.prototype._onCanvasDrag=function(e){var t=this.context.editor,o=t.offset;t.offset=o.copy(this._initialOffset).add(e),t.render()},t.prototype._onCanvasDragStop=function(){this.forceUpdate()},t.prototype.getImageBoundingRect=function(){var e=this.context.editor,t=e.getSDK(),o=t.getContainer(),i=t.getSprite(),n=o.getPosition(),r=i.getTexture(),a=t.getTextureScale();if(!r)return new u.n;var s=r.getDimensions().clone().divide(a).multiply(e.zoom.level),l=this._outerContainer.getBoundingClientRect(),p=this.context.appComponent.getBounds();return new u.n(m(n.x-s.x/2-(l.left-p.left)),m(n.y-s.y/2-(l.top-p.top)),c(s.x),c(s.y))},t.prototype.getContainerOffset=function(){var e=this._outerContainer.getBoundingClientRect();return new u.v(e.left,e.top)},t.prototype._getContainerStyle=function(){var e=this.getImageBoundingRect();return{left:e.x,top:e.y,width:e.width,height:e.height}},t.prototype._renderControls=function(){var e=this,t=this._imageContainer&&this._getContainerStyle();return u.l.createElement(k,{innerRef:function(t){e._imageContainer=t},style:t,onClick:this._onCanvasClick})},t.prototype.render=function(){var e=this,t=this.context.editor;return u.l.createElement(v,{draggable:!t.isShallow&&t.isDraggable,className:!1,innerRef:function(t){e._outerContainer=t}},u.l.createElement(f.a,{disabled:t.isShallow||!t.isDraggable,onStart:this._onCanvasDragStart,onDrag:this._onCanvasDrag,onStop:this._onCanvasDragStop},u.l.createElement('div',null,u.l.createElement(S,{innerRef:function(t){e._container=t}},this.state.displayHeader&&u.l.createElement(h.a,null),this._renderControls()))))},l()(t,[{key:'container',get:function(){return this._container}}]),t}(y.a);b.contextTypes=y.a.contextTypes,b.propTypes={options:u.k.object},t.a=b;var k=u.w.div('55byom','Container'),v=u.w.div('1ebx3lr',{draggable:'ovipzq'},'CanvasControls'),S=u.w.div('1h6ank1','CanvasControlsContainer')},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e){e.exports={}},function(e,t,o){var i=o(89),n=o(65);e.exports=Object.keys||function(e){return i(e,n)}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),c=o.n(s),m=o(1),_=o(10),g=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKnobDragStart','_onKnobDrag','_onKnobDragStop','_onBarDragStart','_onBarDrag','_onBarDragStop'),s.state={value:s.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0},s}return c()(t,e),t.prototype.componentDidMount=function(){var e=this;Object(m.z)(function(){e._setValue(e.state.value,!1)})},t.prototype.componentWillReceiveProps=function(e){e.value!==this.state.value&&this._setValue(e.value,!1)},t.prototype._onKnobDragStart=function(e){this._previousValue=this.state.value,this._initialSliderPosition=this.state.sliderPosition,this._initialPosition=e},t.prototype._onKnobDrag=function(e){var t=this._bar.offsetWidth,o=this._initialSliderPosition+e.x;o=p(0,d(o,t));var i=o/t,n=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;this._setValue(n)},t.prototype._onKnobDragStop=function(){this._setValue(this.state.value,!0,!0)},t.prototype._onBarDragStart=function(e){this._previousValue=this.state.value,this._initialPosition=e.clone();var t=this._bar.offsetWidth,o=e.x/t,i=this.props.minValue+(this.props.maxValue-this.props.minValue)*o;this._setValue(i)},t.prototype._onBarDrag=function(e){var t=this._initialPosition.clone().add(e),o=this._bar.offsetWidth,i=t.x/o,n=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;n=p(this.props.minValue,d(this.props.maxValue,n)),this._setValue(n)},t.prototype._onBarDragStop=function(){this._setValue(this.state.value,!0,!0)},t.prototype._getKnobStyle=function(){return{left:this.state.sliderPosition}},t.prototype._getForegroundStyle=function(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}},t.prototype._setValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.props,n=i.minValue,r=i.maxValue,a=(e-n)/(r-n),s=this._bar.offsetWidth,p=a*s,d=0;this.props.middleDot&&(p=l(a-0.5)*s,d=0.5>a?0.5*s-p:'50%'),this.setState({value:e,sliderPosition:s*a,foregroundWidth:p,foregroundLeft:d}),t&&this.props.onChange&&this.props.onChange(e,this._previousValue,o)},t.prototype._buildValue=function(e){return 0!=e%1&&(e=e.toFixed(2)),this.props.positiveValuePrefix&&0<=e&&(e=''+this.props.positiveValuePrefix+e),this.props.valueUnit&&(e+=this.props.valueUnit),e},t.prototype.render=function(){var e=this,t={style:this._getForegroundStyle()};return m.l.createElement(u,{disabled:this.props.disabled},m.l.createElement(_.a,{onStart:this._onBarDragStart,onDrag:this._onBarDrag,onStop:this._onBarDragStop,disabled:this.props.disabled},m.l.createElement(v,null,m.l.createElement(y,{ref:'foo',innerRef:function(t){e._bar=t}},m.l.createElement('div',null,m.l.createElement(f,{darkBackground:this.props.darkBackground}),m.l.createElement(b,t),m.l.createElement(_.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag,onStop:this._onKnobDragStop,disabled:this.props.disabled},m.l.createElement(k,{style:this._getKnobStyle(),className:!1})))))))},t}(m.b);g.propTypes={value:m.k.number.isRequired,minValue:m.k.number.isRequired,maxValue:m.k.number.isRequired,middleDot:m.k.bool,onChange:m.k.func,positiveValuePrefix:m.k.string,valueUnit:m.k.string,label:m.k.string},g.contextTypes=m.b.contextTypes,t.a=g;var u=m.w.div('14qjclp',{disabled:'1voy7lm'},'Slider'),y=m.w.div('1pvw1zw','Bar'),h=m.w.div('8gacw5','BarSection'),f=Object(m.w)(h)('120drhm',{darkBackground:'120drhm'},'BarBackgroundSection'),b=Object(m.w)(h)('1apine2','BarForegroundSection'),k=m.w.div('ymjr18','Knob'),v=m.w.div('1ssoezr','BarContainer')},function(e,t,o){var i=o(57);e.exports=function(e,t,o){return(i(e),void 0===t)?e:1===o?function(o){return e.call(t,o)}:2===o?function(o,i){return e.call(t,o,i)}:3===o?function(o,i,n){return e.call(t,o,i,n)}:function(){return e.apply(t,arguments)}}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(t){t.exports=e},function(e,t,o){'use strict';o.d(t,'b',function(){return n}),o.d(t,'a',function(){return r}),o.d(t,'c',function(){return a});var i=o(1),n=i.w.css('1f3fuxn','ControlGroupList'),r=i.w.css('1bxndxk','ControlGroup'),a=i.w.css('12fzsea','ControlGroupTitle')},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(75),a=o.n(r),s=o(0),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(80),u=o(32),y=function(e){function t(){return l()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype._buildSliderProps=function(){var e=this.props,t=e.minValue,o=e.maxValue,i=e.middleDot,n=e.onSliderValueChange,r=e.value,a=e.disabled;return{minValue:t,maxValue:o,value:r,middleDot:i,onChange:n,disabled:a}},t.prototype._renderLeftPart=function(){var e=this._buildSliderProps(),t=a()(e,[]);return _.l.createElement(u.a,n()({},t,{darkBackground:!0}))},t}(g.a);y.contextTypes=g.a.contextTypes,t.a=y},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=o(49),s=function(){function e(t,o){n()(this,e),this._ui=t,this._options=o,this._categoriesById={},this._categories=[],this._stickersById={},this._addCategories(r.r.DEFAULTS.STICKER_CATEGORIES);var i=this._options,a=i.categories,s=i.replaceCategories;this._options.categories?this._addCategories(a,s):(this._updateCategoriesMap(),this._updateAllCategory())}return e.prototype.loadExternal=function(e){var t=this,o=new a.a(e);return o.load().then(function(e){t._addCategories(e.categories,t._options.replaceCategories)})},e.prototype._addCategories=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this._categories=t?e.slice(0):r.u.mergeCategories(this._categories,e,'stickers'),this._updateCategoriesMap(),this._updateAllCategory()},e.prototype._updateCategoriesMap=function(){var e=this;this._categoriesById={},this._categories.forEach(function(t){e._categoriesById[t.identifier]=t}),this._categories.forEach(function(t){t.stickers.forEach(function(t){e._stickersById[t.identifier]=t})}),null!==this._options.availableStickers&&(this._categories.forEach(function(t){t.stickers=t.stickers.filter(function(t){return-1!==e._options.availableStickers.indexOf(t.identifier)})}),this._categories=this._categories.filter(function(e){return 0<e.stickers.length})),this._updateAllCategory()},e.prototype._updateAllCategory=function(){this._allCategory={identifier:'all',defaultName:'All',stickers:this._categories.map(function(e){return e.stickers}).reduce(function(e,t){return e.concat(t)},[])},this._categoriesById.all=this._allCategory},e.prototype.getStickersForCategory=function(e){if(!this._categoriesById[e])throw new Error('Unknown sticker category \''+e+'\'');return this._categoriesById[e].stickers},e.prototype.getStickerByIdentifier=function(e){return this._stickersById[e]},e.prototype.getCategories=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return e?[this._allCategory].concat(this._categories):this._categories},e.prototype.getCategory=function(e){return this._categoriesById[e]},e.getURLForSticker=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'base',o=e.images,i='base'===t?o.mediaBase||o.mediaThumb:o.mediaThumb,n=i.uris||[i.uri];if(!r.u.Browser.getIEVersion()){var a=n.filter(function(e){return /\.svg$/i.test(e)});return a.length?a[0]:n[0]}var s=n.filter(function(e){return!/\.svg$/i.test(e)});return s.length?s[0]:n[0]},e}();t.a=s},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,o){'use strict';var i=o(133)(!0);o(87)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e=this._t,t=this._i,o;return t>=e.length?{value:void 0,done:!0}:(o=i(e,t),this._i+=o.length,{value:o,done:!1})})},function(e){e.exports=!0},function(e){var t=0,o=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+o).toString(36))}},function(e,t,o){var i=o(22).f,n=o(25),r=o(8)('toStringTag');e.exports=function(e,t,o){e&&!n(e=o?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,o){o(139);for(var n=o(13),r=o(24),a=o(30),s=o(8)('toStringTag'),l=['NodeList','DOMTokenList','MediaList','StyleSheetList','CSSRuleList'],p=0;5>p;p++){var i=l[p],d=n[i],c=d&&d.prototype;c&&!c[s]&&r(c,s,i),a[i]=a.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(o){'object'==typeof window&&(t=window)}e.exports=t},function(e){e.exports=t},function(e,t,o){e.exports=o(160)()},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(179),a=o(183),l=o.n(a),p=function(){function e(t){n()(this,e),this._url=t,this._parsedUrl=l.a.parse(this._url,!0)}return e.prototype._isJSONPRequest=function(){var e=this._parsedUrl.query;for(var t in e){var o=e[t];if('?'===o)return!0}return!1},e.prototype.load=function(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()},e.prototype._loadJSON=function(){var e=this;return new r.a(function(t,o){var i;window.XDomainRequest?(i=new window.XDomainRequest,i.onload=function(){var e=JSON.parse(i.responseText);t(e)},i.onerror=function(t){o(t)}):window.XMLHttpRequest&&(i=new XMLHttpRequest,i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){var e=JSON.parse(i.responseText);t(e)}else o(new Error('HTTP Status '+i.status))}),i.open('GET',e._url,!0),i.send()})},e.prototype._loadJSONP=function(){var e=this,t=!1,o=!1,i='pesdk'+s(99999999999999*Math.random());return new r.a(function(n,r){var a=e._createJSONPNode(i);window[i]=function(i){e._removeJSONPNode(a),t||(o=!0,n(i))},window.setTimeout(function(){o||(e._removeJSONPNode(a),t=!0,r(new Error('Timeout of 5 seconds exceeded.')))},5e3)})},e.prototype._createJSONPNode=function(e){var t=this._buildJSONPUrl(e),o=document.querySelector('head'),i=document.createElement('script');return i.src=t,o.appendChild(i),i},e.prototype._removeJSONPNode=function(e){e.parentNode.removeChild(e)},e.prototype._buildJSONPUrl=function(e){var t=this._parsedUrl.query,o=null;for(var i in t)if('?'===t[i]){o=i;break}return delete this._parsedUrl.search,t[o]=e,l.a.format(this._parsedUrl)},e}();t.a=p},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._buttons=[],r.state={visible:!1},r}return d()(t,e),t.prototype.componentDidMount=function(){for(var t=this,o=arguments.length,i=Array(o),n=0,r;n<o;n++)i[n]=arguments[n];(r=e.prototype.componentDidMount).call.apply(r,[this].concat(i));var a=this.props.modal;a.on('close',function(){t.setState({visible:!1}),setTimeout(function(){a.remove()},1e3*t.context.theme.transitionDuration)}),Object(c.z)(function(){t.setState({visible:!0})})},t.prototype._onButtonClick=function(){},t.prototype._renderButtons=function(){var e=this;return this._buttons.map(function(t,o){return c.l.createElement(f,{key:o,onClick:e._onButtonClick.bind(e,o)},t)})},t.prototype.render=function(){var e=this.props.modal,t=n()({},e.type,!0),o=this._buttons.length?c.l.createElement(h,null,this._renderButtons()):null;return c.l.createElement(_,{visible:this.state.visible},c.l.createElement(g,t,c.l.createElement(u,null,c.l.createElement(b,{src:this._getAssetPath('shared/modals/icon.png',!0)})),c.l.createElement(y,null,c.l.createElement(k,null,e.title),c.l.createElement(v,null,e.text))),o,c.l.createElement(S,{visible:!this.state.visible}))},t}(c.b);m.propTypes={modal:c.k.object},m.contextTypes=c.b.contextTypes,t.a=m;var _=c.w.div('1jkivgb',{visible:'7bce9v'},'Modal'),g=c.w.div('1udylfs',{error:'120drhm',warning:'120drhm',loading:'120drhm'},'Top'),u=c.w.div('z6arf2','IconContainer'),y=c.w.div('245la5','TextContainer'),h=c.w.div('1943606','Buttons'),f=c.w.div('1kylmay','Button'),b=c.w.img('jsue2c','Icon'),k=c.w.div('1fx19is','Title'),v=c.w.div('1id6172','Text'),S=c.w.div('mv80g2',{visible:'2jlos'},'BlockingOverlay')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),c=o(1),m=o(10),_=12,g=function(e){function t(){n()(this,t);var o=a()(this,e.call(this));return o.constructor.NATIVE_SCROLLBAR_WIDTH||(o.constructor.NATIVE_SCROLLBAR_WIDTH=c.u.getScrollbarWidth()),o._isDragging=!1,o._bindAll('_onButtonDragStart','_onButtonDrag','_onButtonDragStop','_onBarDragStart','_onBarDrag','_onBarDragStop','_onListScroll'),o.state={buttonSize:0,buttonPosition:0,buttonVisible:!1},o}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.update()},t.prototype._onListScroll=function(){if(!this._isDragging){var e=this._getDirection(),o,i,n;e===t.HORIZONTAL?(o=this._list.scrollWidth-this._list.offsetWidth,i=this._list.scrollLeft,n=this._root.offsetWidth-this.state.buttonSize):e===t.VERTICAL&&(o=this._list.scrollHeight-this._list.offsetHeight,i=this._list.scrollTop,n=this._root.offsetHeight-this.state.buttonSize);var r=i/o;this.setState({buttonPosition:n*r}),this.props.onScroll&&this.props.onScroll(i)}},t.prototype._onButtonDragStart=function(){this._isDragging=!0,this._initialButtonPosition=this.state.buttonPosition||0},t.prototype._onButtonDrag=function(e){var o=this._getDirection(),i;o===t.HORIZONTAL?i=this._initialButtonPosition+e.x:o===t.VERTICAL&&(i=this._initialButtonPosition+e.y),this._setButtonPosition(i)},t.prototype._onButtonDragStop=function(){this._isDragging=!1},t.prototype._onBarDragStart=function(o){var e=c.u.getEventPosition(o);this._initialPosition=e.clone();var i=this._root.getBoundingClientRect(),n=new c.v(i.left,i.top),r=e.clone().subtract(n),a=this._getDirection();a===t.HORIZONTAL?this._setButtonPosition(r.x-this.state.buttonSize/2):a===t.VERTICAL&&this._setButtonPosition(r.y-this.state.buttonSize/2),document.addEventListener('mousemove',this._onBarDrag),document.addEventListener('touchmove',this._onBarDrag),document.addEventListener('mouseup',this._onBarDragStop),document.addEventListener('touchend',this._onBarDragStop)},t.prototype._onBarDrag=function(o){var e=c.u.getEventPosition(o),i=this._root.getBoundingClientRect(),n=new c.v(i.left,i.top),r=e.clone().subtract(n),a=this._getDirection();a===t.HORIZONTAL?this._setButtonPosition(r.x-this.state.buttonSize/2):a===t.VERTICAL&&this._setButtonPosition(r.y-this.state.buttonSize/2)},t.prototype._onBarDragStop=function(){document.removeEventListener('mousemove',this._onBarDrag),document.removeEventListener('touchmove',this._onBarDrag),document.removeEventListener('mouseup',this._onBarDragStop),document.removeEventListener('touchend',this._onBarDragStop)},t.prototype._setButtonPosition=function(e){var o=this._getDirection(),i,n;o===t.HORIZONTAL?(i=this._root.offsetWidth-this.state.buttonSize,n=this._list.scrollWidth-this._list.offsetWidth):o===t.VERTICAL&&(i=this._root.offsetHeight-this.state.buttonSize,n=this._list.scrollHeight-this._list.offsetHeight),e=p(0,e),e=d(e,i),this.setState({buttonPosition:e});var r=e/i,a=n*r;o===t.HORIZONTAL?this._list.scrollLeft=a:o===t.VERTICAL&&(this._list.scrollTop=a),this.props.onScroll&&this.props.onScroll(a)},t.prototype._updateButtonSize=function(e){var o=0,i=!1,n=this._getDirection(),r,a;n===t.HORIZONTAL?(r=this._list.clientWidth,a=this._list.scrollWidth):n===t.VERTICAL&&(r=this._list.offsetHeight,a=this._list.scrollHeight),o=r/a*r,i=a>r,this.setState({buttonSize:o,buttonVisible:i},e)},t.prototype._updateListSize=function(){if(this._list){var e=this._getDirection();if(e===t.HORIZONTAL){this._list.style.height='';var o=this._getFullListDimensions();this._listSize=o.y}else if(e===t.VERTICAL){this._list.style.width='';var i=this._getFullListDimensions();this._listSize=i.x}}},t.prototype._getFullListDimensions=function(){var e=this._list.getBoundingClientRect();return new c.v(e.width,e.height)},t.prototype.update=function(){var e=this;if(!c.u.isMobile()){if(c.u.Browser.isIElte(11)){var o=this._container.offsetHeight;this._list.style.height=o+'px'}var i=this._getDirection();this._updateButtonSize(function(){e._listSize||e._updateListSize();var o=e._listSize;e.state.buttonVisible&&(o+=e.constructor.NATIVE_SCROLLBAR_WIDTH),i===t.HORIZONTAL?(e._root.style.top=e._listSize-_+'px',e._root.style.width=e._list.offsetWidth+'px'):i===t.VERTICAL&&(e._list.style.width=o+'px',e._root.style.left=e._listSize-_+'px',e._root.style.height=e._list.offsetHeight+'px')}),this._list.addEventListener('scroll',this._onListScroll)}},t.prototype._getDirection=function(){return this.props.direction||'horizontal'},t.prototype._getGradientOpacity=function(){if(!this._list)return!1;var e=this._getDirection(),o;return o=e===t.HORIZONTAL?this._list.scrollWidth-this._list.offsetWidth-this._list.scrollLeft:this._list.scrollHeight-this._list.offsetHeight-this._list.scrollTop,d(p(o/15,0),1)},t.prototype._getButtonStyle=function(){var e=this._getDirection();return'horizontal'===e?{left:this.state.buttonPosition,width:this.state.buttonSize}:{top:this.state.buttonPosition,height:this.state.buttonSize}},t.prototype.getList=function(){return this.refs.list},t.prototype.getRoot=function(){return this.refs.root},t.prototype._renderChild=function(e){var t=this;return c.l.cloneElement(e,{innerRef:function(o){e.props.innerRef&&e.props.innerRef(o),t._list=o}})},t.prototype.render=function(){var e=this;if(c.u.isMobile())return this.props.children;var o=this._getButtonStyle(),i=this._renderChild(this.props.children),n=this._getDirection(),r=this._getGradientOpacity();return c.l.createElement(u,{innerRef:function(t){e._container=t},styles:this.props.styles},i,this.props.noGradient||0===r?null:c.l.createElement(f,{style:{opacity:r},horizontal:n===t.HORIZONTAL,vertical:n===t.VERTICAL}),c.l.createElement(y,{innerRef:function(t){e._root=t},onMouseDown:this._onBarDragStart,onTouchStart:this._onBarDragStart,vertical:'vertical'===this.props.direction,horizontal:'horizontal'===this.props.direction},c.l.createElement(m.a,{onStart:this._onButtonDragStart,onDrag:this._onButtonDrag,onStop:this._onButtonDragStop},c.l.createElement(h,{style:o,visible:this.state.buttonVisible,onMouseDown:this._onButtonDown,vertical:'vertical'===this.props.direction,horizontal:'horizontal'===this.props.direction}))))},t}(c.b);g.HORIZONTAL='horizontal',g.VERTICAL='vertical',g.contextTypes=c.b.contextTypes,t.a=g;var u=c.w.div('120drhm','ScrollbarContainer');g.RootElement=u;var y=c.w.div('1s3c4f0',{vertical:'1dvqwqc',horizontal:'1hu63yp'},'Scrollbar'),h=c.w.div('zxujnb',{vertical:'gma9v3',horizontal:'1h5ccdj',visible:'2jlos'},'ScrollbarButton'),f=c.w.div('pc5361',{horizontal:'felmtl',vertical:'1enskgl'},'Gradient')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(77),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKeyDown','_onInputBlur','_onInputChange'),s.state={},s}return l()(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.value!==e.value||this.props.disabled!==e.disabled},t.prototype._onInputChange=function(t){this.props.onLiveChange&&this.props.onLiveChange(t)},t.prototype._onInputBlur=function(t){this.props.onChange&&this.props.onChange(t)},t.prototype._onKeyDown=function(e){(13===e.keyCode||27===e.keyCode)&&this._input.blur(),this.props.onKeyDown&&this.props.onKeyDown()},t.prototype.focus=function(){this._input.focus()},t.prototype._getInputStyle=function(){return{}},t.prototype.render=function(){var e=this,t=this.constructor.RootElement;return p.l.createElement(t,{value:this.props.value,onChange:this._onInputChange,onBlur:this._onInputBlur,innerRef:function(t){e._input=t},onKeyDown:this._onKeyDown,name:this.props.name,styles:this.props.styles,className:this.props.className,style:this._getInputStyle(),disabled:this.props.disabled})},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c,c.RootElement=Object(p.w)(d.a).input('120drhm','NumericInputComponent')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(233),c=o(14),m=!1,_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onDocumentClick','_onColorChange'),s.state={colorPickerVisible:!1,colors:s._getDefaultColors(s.props.value.clone()),selectedColorIndex:0},s}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){if(!this.props.value.equals(e.value)){var t=-1;this.state.colors.forEach(function(o,i){o.equals(e.value)&&(t=i)}),-1===t?this.setState({selectedColorIndex:0,colors:this._getDefaultColors(e.value.clone())}):this.setState({selectedColorIndex:t})}},t.prototype.componentDidMount=function(){document.addEventListener('click',this._onDocumentClick)},t.prototype.componentWillUnmount=function(){document.removeEventListener('click',this._onDocumentClick)},t.prototype._onDocumentClick=function(t){var e=this;if(this.state.colorPickerVisible){for(var o=t.target;o;o=o.parentNode)if(o===this._root)return;this.setState({colorPickerVisible:!1},function(){e.props.onColorPickerToggle&&e.props.onColorPickerToggle(!1)})}},t.prototype._onClick=function(e){var t=this,o={colorPickerVisible:this.state.colorPickerVisible,selectedColorIndex:e};o.colorPickerVisible=e===this.state.selectedColorIndex&&!this.state.colorPickerVisible,this.props.onChange&&this.props.onChange(this.state.colors[e]),this.setState(o,function(){t.props.onColorPickerToggle&&t.props.onColorPickerToggle(o.colorPickerVisible)})},t.prototype._onColorChange=function(e){this.props.onChange&&this.props.onChange(e),this.state.colors[this.state.selectedColorIndex].copy(e),this.forceUpdate()},t.prototype._getDefaultColors=function(e){return[e,p.c.fromHex('6688FA'),p.c.fromHex('8767FA'),p.c.fromHex('DC67FA'),p.c.fromHex('FE68C9'),p.c.fromHex('FE6788'),p.c.fromHex('FE896B')]},t.prototype._renderColorBubbles=function(){var e=this,t=this._getAssetPath('editor/controls/shared/tiled-background.png',!0),o=[];return this.state.colors.forEach(function(i,n){var r=n===e.state.selectedColorIndex;o.push(p.l.createElement(u,{key:n,selected:r,className:m},p.l.createElement(y,null,p.l.createElement(h,{style:{backgroundImage:'url('+t+')'}}),p.l.createElement(f,{style:{backgroundColor:i.toRGBA()},onClick:e._onClick.bind(e,n),className:m},p.l.createElement(b,{selected:r}),p.l.createElement(b,{selected:r}),p.l.createElement(b,{selected:r}))),p.l.createElement(c.a,{active:r&&e.state.colorPickerVisible,enterProp:'rendered',enterDuration:1e3*e.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*e.context.theme.transitionDuration,leaveDuration:1e3*e.context.theme.transitionDuration},p.l.createElement(d.a,{color:i,onChange:e._onColorChange}))))}),o},t.prototype.render=function(){var e=this;return p.l.createElement(g,{className:m,styles:this.props.styles,innerRef:function(t){e._root=t}},this._renderColorBubbles())},t}(p.b);_.contextTypes=p.b.contextTypes,_.propTypes={colors:p.k.array,value:p.k.object.isRequired},t.a=_;var g=p.w.div('qwcamb','ColorSelection');_.RootElement=g;var u=p.w.div('qt3fol',{selected:'18i7ofo'},'ColorSelectionBubble'),y=p.w.div('11cgycr','ColorSelectionPreview'),h=p.w.div('id1aww','ColorSelectionPreviewContent'),f=Object(p.w)(h)('nahwei','ColorSelectionBubbleContent'),b=p.w.div('11la9rb',{selected:'xfn5qu'},'Dot')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(36),c=o(14),m=o(245),_=!1,g=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s.state={expanded:s.props.expanded||s.props.alwaysExpanded||!1},s}return l()(t,e),t.prototype._onClick=function(){var e=!this.state.expanded;this.props.alwaysExpanded||this.setState({expanded:e}),this.props.onToggle&&this.props.onToggle(e)},t.prototype.componentWillReceiveProps=function(e){this.props.expanded!==e.expanded&&this.setState({expanded:e.expanded})},t.prototype.render=function(){var e=this.props,t=e.alwaysExpanded,o=e.toggleable,i=e.className,n=this.state.expanded;return p.l.createElement(u,{styles:this.props.styles,className:i},p.l.createElement(h,{onClick:this._onClick.bind(this)},!t&&!o&&p.l.createElement(b,{turnUp:!n}),o&&p.l.createElement(k,{checked:n,className:_}),p.l.createElement(y,null,this.props.title)),p.l.createElement(c.a,{active:n,enterProp:'rendered',enterDuration:1e3*this.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},p.l.createElement(f,{"data-expanded":n,className:_},this.props.children)))},t}(p.b);g.contextTypes=p.b.contextTypes,t.a=g;var u=Object(p.w)(d.a).div('1pofx54','Section');g.RootElement=u;var y=Object(p.w)(d.c).div('1b0fixa','SectionTitle'),h=p.w.div('1b4y7iu','SectionHeader'),f=p.w.div('10cp0qa',{rendered:'2jlos',visible:'82svov'},'SectionContent'),b=p.w.div('1bagiey',{turnUp:'gucvcl'},'ArrowDown'),k=Object(p.w)(m.a)('15tfhjl','Checkbox')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(21),a=o.n(r),s=o(0),l=o.n(s),p=o(304),d=o(307),c=function(){function e(t,o){l()(this,e),this._ui=t,this._fonts=o,this._loadedFonts=[]}return e.prototype.setFonts=function(e){this._fonts=e},e.prototype.needsToLoad=function(){for(var e=this,t=function(t){var o;return e._fonts[t].getVariations().forEach(function(e){o=o||e.getProvider()}),o?{v:!0}:'continue'},o=0,i;o<this._fonts.length;o++)switch(i=t(o),i){case'continue':continue;default:if('object'===('undefined'==typeof i?'undefined':a()(i)))return i.v;}},e.prototype.fontLoaded=function(e){var t=e.getFontFamily();return-1!==this._loadedFonts.indexOf(t)},e.prototype.setFontLoaded=function(e){if(!this.fontLoaded(e)){var t=e.getFontFamily();this._loadedFonts.push(t)}},e.prototype.load=function(){var e=this,t=this._fonts,o={google:new p.a(this._ui),file:new d.a(this._ui)},i=function(){for(var e in o){var t=o[e];t.dispose()}};t.filter(function(t){return!e.fontLoaded(t)}).forEach(function(e){e.getVariations().forEach(function(e){var t=e.getProvider();if(t){var i=o[t];i.add(e)}})});var r=[];for(var a in o)r.push(o[a].load());return n.a.all(r).then(function(){i(),t.forEach(function(t){e.setFontLoaded(t)})}).catch(function(t){throw i(),t})},e}();t.a=c},function(e,t,o){e.exports={default:o(129),__esModule:!0}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e,t,o){var i=o(28),n=o(13).document,r=i(n)&&i(n.createElement);e.exports=function(e){return r?n.createElement(e):{}}},function(e,t,o){var i=o(28);e.exports=function(e,t){if(!i(e))return e;var o,n;if(t&&'function'==typeof(o=e.toString)&&!i(n=o.call(e)))return n;if('function'==typeof(o=e.valueOf)&&!i(n=o.call(e)))return n;if(!t&&'function'==typeof(o=e.toString)&&!i(n=o.call(e)))return n;throw TypeError('Can\'t convert object to primitive value')}},function(e){e.exports=function(e){return isNaN(e=+e)?0:(0<e?m:c)(e)}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e,t,o){var i=o(20),n=o(135),r=o(65),a=o(63)('IE_PROTO'),s=function(){},l='prototype',p=function(){var e=o(58)('iframe'),t=r.length,i='<',n='>',a;for(e.style.display='none',o(92).appendChild(e),e.src='javascript:',a=e.contentWindow.document,a.open(),a.write(i+'script'+n+'document.F=Object'+i+'/script'+n),a.close(),p=a.F;t--;)delete p[l][r[t]];return p()};e.exports=Object.create||function(e,t){var o;return null===e?o=p():(s[l]=i(e),o=new s,s[l]=null,o[a]=e),void 0===t?o:n(o,t)}},function(e,t,o){var i=o(64)('keys'),n=o(42);e.exports=function(e){return i[e]||(i[e]=n(e))}},function(e,t,o){var i=o(13),n='__core-js_shared__',r=i[n]||(i[n]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e){e.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(e,t,o){var i=o(61);e.exports=function(e){return Object(i(e))}},function(e,t,o){t.f=o(8)},function(e,t,o){var i=o(13),n=o(7),r=o(41),a=o(67),s=o(22).f;e.exports=function(e){var t=n.Symbol||(n.Symbol=r?{}:i.Symbol||{});'_'==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,o){var i=o(34),n=o(8)('toStringTag'),r='Arguments'==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,o,s;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(o=a(t=Object(e),n))?o:r?i(t):'Object'==(s=i(t))&&'function'==typeof t.callee?'Arguments':s}},function(e,t,o){var i=o(33),n=o(172),r=o(92),a=o(58),s=o(13),l=s.process,p=s.setImmediate,d=s.clearImmediate,c=s.MessageChannel,m=0,_={},g='onreadystatechange',u=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){u.call(e.data)},h,f,b;p&&d||(p=function(e){for(var t=[],o=1;arguments.length>o;)t.push(arguments[o++]);return _[++m]=function(){n('function'==typeof e?e:Function(e),t)},h(m),m},d=function(e){delete _[e]},'process'==o(34)(l)?h=function(e){l.nextTick(i(u,e,1))}:c?(f=new c,b=f.port2,f.port1.onmessage=y,h=i(b.postMessage,b,1)):s.addEventListener&&'function'==typeof postMessage&&!s.importScripts?(h=function(e){s.postMessage(e+'','*')},s.addEventListener('message',y,!1)):g in a('script')?h=function(e){r.appendChild(a('script'))[g]=function(){r.removeChild(this),u.call(e)}}:h=function(e){setTimeout(i(u,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,o){'use strict';(function(e){o.d(t,'b',function(){return n}),o.d(t,'a',function(){return r});/*
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel
 * MIT license
 * @license
 */for(var i='undefined'==typeof window?e:window,n=i.requestAnimationFrame,r=i.cancelAnimationFrame,a=0,s=['ms','moz','webkit','o'],l=0;l<s.length&&!n;++l)n=i[s[l]+'RequestAnimationFrame'],r=i[s[l]+'CancelAnimationFrame']||i[s[l]+'CancelRequestAnimationFrame'];n||(n=function(e){var t=new Date().getTime(),o=p(0,16-(t-a)),i=setTimeout(function(){e(t+o)},o);return a=t+o,i}),r||(r=function(e){clearTimeout(e)})}).call(t,o(46))},function(e,t,o){'use strict';var i=o(4),n=o.n(i);t.a={load:function(e){return new n.a(function(t,o){var i=new window.Image;i.addEventListener('load',function(){t(i)}),i.addEventListener('error',function(){o(new Error('Failed to load image at '+e))}),i.src=e})},loadXHR:function(e,t){return new n.a(function(o,i){var n;window.XDomainRequest?(n=new window.XDomainRequest,t&&n.overrideMimeType(t),n.onload=function(){o(n)},n.onerror=function(t){i(t)}):window.XMLHttpRequest&&(n=new window.XMLHttpRequest,t&&n.overrideMimeType(t),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?o(n):i(new Error('HTTP Status '+n.status)))}),n.open('GET',e,!0),n.send()})}}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(19),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(204),_=o(206),g=o(207),u=o(208),y=o(298),h=o(299),f=o(301),b=function(e){function t(o,i,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];n()(this,t);var s=l()(this,e.call(this));return s._ui=o,s._options=i,s._mediator=r,s._ready=!1,s._padding=[0,0,0,0],s._offset=new c.v(0,0),s._shallow=a,a||(s._initSDK(),s._onZoom=s._onZoom.bind(s),s._onUndo=s._onUndo.bind(s),s.operations=new g.a(s,s._sdk,s._mediator),s.history=new f.a(s,s._sdk,s._mediator),s.history.on('undo',s._onUndo),s.zoom=new h.a(s,s._sdk,s._mediator),s.zoom.on('set',s._onZoom),s._initSerializers()),s.controls=new u.a(s,s._sdk,s._mediator),s.features=new y.a(s,s._sdk,s._mediator),s._running=!1,s._renderRequested=!0,s._renderCallbacks=[],s._animationFrameRequest=null,s.render=s.render.bind(s),s._tick=s._tick.bind(s),s}return d()(t,e),t.prototype.setImage=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,i=this._sdk.getRenderer(),n=new c.v(t.naturalWidth,t.naturalHeight),r=1e6*this.getMaxMegapixels(),a=i.getMaxDimensions();o&&this.reset();var s=new _.a(t,r,a),l=null,p=function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r,a;e._sdk.getImage()&&(r=e.getInputDimensions(),a=o.clone().divide(r)),e._setImage(t,l,o),a&&e.broadcastScale(a),e._initWatermark(),e._ready=!0,e.emit('ready')};s.needsResize()?(this.emit('resize'),l=this._sdk.parseExif(t),s.resize().then(function(t){var o=t.canvas,i=t.dimensions,n=t.reason;o.src='data:image/jpeg;base64,',e.emit('resized',{dimensions:i,reason:n}),p(o,i,n)})):p(t)},t.prototype._initWatermark=function(){this._options.editor.watermarkImage&&(this._watermarkOperation=this.operations.getOrCreate('watermark',{image:this._options.editor.watermarkImage}))},t.prototype._initSDK=function(){var e=this._options,t=e.logLevel,o=e.displayWelcomeMessage,i=e.debug,n=e.license,r=this._options.editor,a=r.smoothDownscaling,s=r.smoothUpscaling,l=r.preferredRenderer,p=r.pixelRatio;this._sdk=new c.p(l,{logLevel:t,debug:i,displayWelcomeMessage:o,pixelRatio:p,smoothDownscaling:a,smoothUpscaling:s,transparent:!0,license:n})},t.prototype._onZoom=function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.fixOffset(),this.render(function(){e&&e()})},t.prototype.fixOffset=function(){this._offset=this._clampOffset(this._offset)},t.prototype._onUndo=function(){this.render()},t.prototype.getRotation=function(){return this._sdk.getRotation()},t.prototype.setRotation=function(e){this._sdk.setRotation(e)},t.prototype.getSpriteScale=function(){return this._sdk.getSpriteScale()},t.prototype.setSpriteScale=function(e){this._sdk.setSpriteScale(e)},t.prototype.isToolEnabled=function(e){return-1!==this._options.editor.tools.indexOf(e)},t.prototype.isToolAllowed=function(e){return!!this._shallow||this._sdk._l.isToolAllowed(e)},t.prototype.getMaxMegapixels=function(){var e=this._options.editor.maxMegaPixels;return c.u.isMobile()?e.mobile:e.desktop},t.prototype.getOutputDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputDimensions(e)},t.prototype.getOutputTextureDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputTextureDimensions(e)},t.prototype.getFinalDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this._sdk.getFinalDimensions(e)},t.prototype.getCanvasDimensions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,t=this._sdk.getCanvas(),o=new c.v(t.offsetWidth,t.offsetHeight);return e&&o.subtract(this._padding[1]+this._padding[3],this._padding[0]+this._padding[2]),o},t.prototype._setImage=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;this._sdk.setAllOperationsToDirty(),this._options.editor.image=e,this._sdk.setImage(e,t,o),this.zoom.auto(!0,!0),this.emit('new-image')},t.prototype.export=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty();var o=this._options.editor.export,i=new m.a(this._sdk,o,t);return i.export().then(function(t){return e.emit('export',t),e._mediator.emit(c.d.EVENTS.EXPORT,t,e),e._watermarkOperation&&(e._watermarkOperation.setEnabled(!0),e._sdk.render()),e._sdk.setAllOperationsToDirty(),t})},t.prototype._initSerializers=function(){this._serializers={"1.0.0":o(303).default,"1.0.1":o(308).default,"2.0.0":o(309).default,"2.0.1":o(310).default,"3.0.0":o(313).default}},t.prototype.serialize=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'3.0.0',o=this._serializers[t];if(!o)return c.j.reject(new Error('No serializer for version '+t+' found.'));var i=new o(this);return i.serialize(e)},t.prototype.deserialize=function(e){var t=this,o=this._serializers[e.version];if(!o)return c.j.reject(new Error('No serializer for version '+e.version+' found.'));var i=new o(this);return i.deserialize(e).then(function(){t.zoom.auto(!0,!0)})},t.prototype._applyOffset=function(){var e=this._offset.clone();e.x-=this._padding[1]/2,e.x+=this._padding[3]/2,e.y-=this._padding[2]/2,e.y+=this._padding[0]/2,this._sdk.setOffset(e)},t.prototype.start=function(){this._animationFrameRequest=Object(c.z)(this._tick)},t.prototype.stop=function(){this._running=!1,this._animationFrameRequest&&(Object(c.x)(this._animationFrameRequest),this._renderCallbacks=[])},t.prototype.render=function(e){this._renderRequested=!0,e&&this._renderCallbacks.push(e)},t.prototype._tick=function(){var e=this;if(this.zoom.tick(),this._renderRequested){var t=this._renderCallbacks.slice(0);this._renderCallbacks=[],this._render().then(function(){t.forEach(function(e){return e()}),e._animationFrameRequest=Object(c.z)(e._tick)}),this._renderRequested=!1}else this._animationFrameRequest=Object(c.z)(this._tick)},t.prototype._render=function(){var t=this;return this._ready?(this._applyOffset(),this._sdk.render().then(function(){t._lastOutputBounds=t._sdk.getSprite().getBounds(),t.emit('rendered')}).catch(function(o){c.h.error(t.constructor.name,'An error occurred while rendering: '+o.message),c.h.printError(o),t.emit('render-error',o)})):c.j.resolve()},t.prototype.reset=function(){this._sdk.reset(),this.history.reset(),this.operations.reset(),this.features.reset(),this.emit('reset')},t.prototype.dispose=function(){this.stop(),this._sdk.dispose()},t.prototype.isReady=function(){return this._ready},t.prototype.getRenderer=function(){return this._sdk.getRenderer()},t.prototype.getSDK=function(){return this._sdk},t.prototype.getInputDimensions=function(){return this._sdk.getInputDimensions()},t.prototype.getPadding=function(){return this._padding},t.prototype.setPadding=function(e){this._padding=e?e:[0,0,0,0]},t.prototype.getImage=function(){return this._options.editor.image},t.prototype.getOptions=function(){return this._options},t.prototype.getUI=function(){return this._ui},t.prototype.broadcastScale=function(e){var t=this;['sprite'].forEach(function(o){var i=t.operations.get(o);i&&i.scale(e)})},t.prototype.broadcastTransform=function(e,t){var o=this,i=new c.p.Operations.TransformOperation.TransformChange(e,t);['sprite','selective-blur','radial-focus','mirrored-focus','linear-focus','blur'].forEach(function(e){var t=o.operations.get(e);t&&t.transform(i)})},t.prototype.broadcastFlip=function(e){var t=this;['mirrored-focus','radial-focus','sprite','selective-blur'].forEach(function(o){var i=t.operations.get(o);i&&i.flip(e)})},t.prototype.broadcastRotate=function(e){var t=this;['transform','mirrored-focus','radial-focus','sprite','selective-blur'].forEach(function(o){var i=t.operations.get(o);i&&i.rotate(e)})},t.prototype._clampOffset=function(e){var t=this.getCanvasDimensions(),o=this._sdk.getOutputDimensions(!1),i=t.clone().subtract(o).divide(2).clamp(null,new c.v(0,0)),n=o.clone().subtract(t).divide(2).clamp(new c.v(0,0),null),r=e.clone().clamp(i,n).round();return r},a()(t,[{key:'offset',get:function(){return this._offset},set:function(e){this._offset=this._clampOffset(e)}},{key:'isDraggable',get:function(){var e=this.zoom.targetLevel>this.zoom.defaultLevel;return this.features.isEnabled('drag')&&e}},{key:'isShallow',get:function(){return this._shallow}}]),t}(c.e);t.a=b},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){var o={};for(var n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return p.l.createElement(c,{onClick:this.props.onClick,className:this.props.className},this.props.title)},t}(p.b);d.contextTypes=p.b.contextTypes,t.a=d;var c=p.w.button('7lpbp3','Button')},function(e,t,o){'use strict';o.d(t,'a',function(){return n});var i=o(1),n=i.w.css('nsck4j','Input')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(1),l=function(){function e(t,o){a()(this,e),this._ui=t,this._options=o,this._categoriesById={},this._filtersByIdentifier={identity:s.p.Filters.IdentityFilter},this._categories=s.r.DEFAULTS.FILTERS,this._initCategories()}return e.prototype.instantiateFilterWithIdentifier=function(e){var t=this,o=this.getFilterByIdentifier(e);if(!o)return n.a.reject(new Error('Unknown filter with identifier `'+e+'`!'));if(!(o.prototype instanceof s.p.Filter)){var i=o.lutImage,r=o.resolution,a=o.horizontalTileCount,l=o.verticalTileCount,p=this._ui.getPreloader().getAsset(i),d;return d=p?n.a.resolve(p):s.g.load(this._ui.getAssetPath(i)),d.then(function(){return s.g.load(t._ui.getAssetPath(i)).then(function(e){return new s.p.Filters.ThreeDLUTFilter({image:e,resolution:r,horizontalTileCount:a,verticalTileCount:l})})})}return n.a.resolve(new o)},e.prototype._initCategories=function(){var e=this;if(this._options.categories&&(this._options.replaceCategories?this._categories=this._options.categories:this._categories=s.u.mergeCategories(this._categories,this._options.categories,'filters')),this._options.availableFilters){var t=[];this._categories.forEach(function(o){var i=o.filters.filter(function(t){return-1!==e._options.availableFilters.indexOf(t.identifier)});0<i.length&&t.push({identifier:o.identifier,defaultName:o.defaultName,filters:i})}),this._categories=t}var o={identifier:'all',defaultName:'All',filters:this._categories.map(function(e){return e.filters}).reduce(function(e,t){return e.concat(t)})};this._categories.unshift(o),this._categoriesById.all=o,this._categories.forEach(function(t){e._categoriesById[t.identifier]=t}),o.filters.forEach(function(t){e._filtersByIdentifier[t.identifier]=t})},e.prototype.getFiltersForCategory=function(e){if(!this._categoriesById[e])throw new Error('Unknown filter category \''+e+'\'');return this._categoriesById[e].filters},e.prototype.getFilterByIdentifier=function(e){return this._filtersByIdentifier[e]},e.prototype.getCategories=function(){return this._categories},e.prototype.getCategoryByIdentifier=function(e){return this._categoriesById[e]},e}();t.a=l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=function(e){return{animationDelay:0.1*e+'s'}};return p.l.createElement(c,{styles:this.props.styles},p.l.createElement(m,{style:e(0)}),p.l.createElement(m,{style:e(1)}),p.l.createElement(m,{style:e(2)}))},t}(p.b);d.contextTypes=p.b.contextTypes,t.a=d;var c=p.w.div('eurrvc','LoadingIndicatorContainer');d.RootElement=c;var m=p.w.div('vyyzkw','Ball')},function(e,t,o){'use strict';var i=o(230),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),c=o(3),m=o.n(c),_=o(1),g=o(9),u=o(52),y=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onInputLiveChange','_onInputChange'),r.state={value:r.props.value},r}return m()(t,e),t.prototype.componentWillReceiveProps=function(e){e.value!==this.state.value&&this.setState({value:e.value})},t.prototype._onInputLiveChange=function(e){this.setState({value:e.target.value})},t.prototype._onInputChange=function(e){var t=parseFloat(e.target.value);if(n()(t))return this.setState({value:this.props.value});var o=this.props,i=o.minValue,r=o.maxValue;t=_.u.toFixed(p(i,d(t,r)),1),this.props.onValueChange&&this.props.onValueChange(t),this.setState({value:t})},t.prototype._renderRightPart=function(){var e=this;return _.l.createElement(v,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:!1,innerRef:function(t){e._input=t},disabled:this.props.disabled})},t.prototype.render=function(){var e=this.props,t=e.label,o=e.inputLabel,i=e.className,n=e.disabled,r=e.styles,a='function'==typeof this._renderLeftPart;return _.l.createElement(h,{styles:r,className:i,disabled:n},_.l.createElement(f,null,a&&_.l.createElement(b,null,t&&_.l.createElement(k,{left:!0},t),this._renderLeftPart()),_.l.createElement(b,null,o&&_.l.createElement(k,null,o||' '),this._renderRightPart())))},t}(g.a);y.contextTypes=g.a.contextTypes,t.a=y;var h=_.w.div('12okzzb',{disabled:'1voy7lm'},'ValueSelection');y.RootElement=h;var f=_.w.div('15u7gri','Row'),b=_.w.div('1hy9z1m',{bottomAligned:'17xdalt'},'Column'),k=_.w.div('ts1901',{left:'1ff3rj6'},'Title'),v=Object(_.w)(u.a)('myl4ow',{disabled:'18if3pn'},'InputField')},function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return r}),o.d(t,'c',function(){return a});var i=o(1),n=i.w.css('1ht9t4w','CircleSlider'),r=i.w.css('1ldv9bx','CircleSliderBackground'),a=i.w.css('7g0rty','CircleSliderKnob')},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(5),a=o.n(r),s=o(0),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(27),u=o(253),y=o(255),h=o(256),f=!1,b=function(e){function t(){var o;l()(this,t);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=d()(this,e.call.apply(e,[this].concat(n)));return s._bindAll('_onZoomDone','_onWindowResize','_onHistoryUndo','_onBeforeTransform'),s._events=(o={},a()(o,_.d.EVENTS.ZOOM_DONE,s._onZoomDone),a()(o,_.d.EVENTS.WINDOW_RESIZE,s._onWindowResize),a()(o,_.d.EVENTS.HISTORY_UNDO,s._onHistoryUndo),o),s.state=_.q.extend(s.state,{visible:!1,canvasClickDisabled:!1}),s}return m()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.forceUpdate()},t.prototype._onBeforeTransform=function(e){this.props.controls.registerLocalHistoryChange('sprite-transform-'+e.getId(),!0)},t.prototype._onHistoryUndo=function(e){var t=!1;if(e.forEach(function(e){var o=e.getOperation();'sprite'===o&&(t=!0)}),t){var o=this.getSharedState('operation');if(!o)return;var i=this.getSharedState('selectedSprite'),n=o.getSprites();-1===n.indexOf(i)&&this._selectNextSprite()}},t.prototype._onWindowResize=function(){var e=this,t=this.context.editor;t.once('rendered',function(){e.forceUpdate()})},t.prototype._onZoomDone=function(){var e=this.context.editor;e.render(),this.setState({visible:!0})},t.prototype._onItemBlur=function(){},t.prototype._onCanvasClick=function(t){if(!this.state.canvasClickDisabled){var e=this._performHitTest(_.u.getEventPosition(t));e||(this.getSharedState('selectedSprite')&&this._onItemBlur(),this.context.screen.switchToControls('default'))}},t.prototype._onSpriteDelete=function(e){this.props.controls.registerLocalHistoryChange('sprite-deletion',!1);var t=this.getSharedState('operation');t.removeSprite(e),e.dispose(),this._selectNextSprite();var o=this.context.editor;o.render()},t.prototype._onSpriteTakeToFront=function(e){this.props.controls.registerLocalHistoryChange('sprite-order',!1);var t=this.getSharedState('operation');t.takeSpriteToFront(e),this.forceUpdate();var o=this.context.editor;o.render()},t.prototype._onSpriteFlipHorizontally=function(e,t){t.stopPropagation(),this.props.controls.registerLocalHistoryChange('sprite-order',!1),e.setFlipHorizontally(!e.getFlipHorizontally()),this.forceUpdate();var o=this.context.editor;o.render()},t.prototype._onSpriteDuplicate=function(e,t){t.stopPropagation(),this.props.controls.registerLocalHistoryChange('sprite-creation',!1);var o=this.getSharedState('operation'),i=e.serializeOptions();delete i.id,delete i.type,e.hasOption('image')&&(i.image=e.getImage());var n=o.getInputDimensions();i.position.add(new _.v(10,10).divide(n));var r=this._createSprite(i);o.addSprite(r),this.setSharedState({selectedSprite:r});var a=this.context.editor;a.render()},t.prototype._selectNextSprite=function(){var e=this.getSharedState('operation'),t=e.getSprites(),o=t[t.length-1];o?this.setSharedState({selectedSprite:o}):(this.props.controls.skipHistory=!0,this.context.screen.switchToControls('default'))},t.prototype._getComponentTypeForSprite=function(e){var t=_.p.Operations.SpriteOperation;switch(e.constructor){case t.StickerSprite:return u.a;case t.TextSprite:return y.a;case t.BrushSprite:return h.a;}},t.prototype._getPropsForSprite=function(){return{}},t.prototype._renderSpriteItems=function(e){var t=this,o=this.getSharedState('selectedSprite');return e.map(function(e){var i=t._getComponentTypeForSprite(e),r=t._getPropsForSprite(e);return _.l.createElement(i,n()({sprite:e,selected:o===e,onClick:t._onCanvasClick,onBeforeChange:t._onBeforeTransform.bind(t,e),onCanvasClickDisabled:t._onCanvasClickDisabled,onCanvasClickEnabled:t._onCanvasClickEnabled,onDelete:t._onSpriteDelete.bind(t,e),onTakeToFront:t._onSpriteTakeToFront.bind(t,e),onFlipHorizontally:t._onSpriteFlipHorizontally.bind(t,e),onDuplicate:t._onSpriteDuplicate.bind(t,e),snapRotation:t.props.options.snapRotation,snapRotationTolerance:t.props.options.snapRotationTolerance,canvasControls:t,key:e.getId()},r))})},t.prototype._renderOverlayControls=function(){return null},t.prototype._renderControls=function(){var e=this;if(this.state.visible){var t=this.getSharedState('operation'),o=t.getSprites(),i=this._container&&this._getContainerStyle();return _.l.createElement(k,{className:f},_.l.createElement(v,{innerRef:function(t){e._innerContainer=t},style:i,className:f},!this.state.canvasClickDisabled&&_.l.createElement(S,{onClick:this._onCanvasClick}),_.l.createElement('div',null,this._renderSpriteItems(o),this._renderOverlayControls())))}},t}(g.a);b.contextTypes=g.a.contextTypes,t.a=b;var k=_.w.div('120drhm','CanvasControls'),v=_.w.div('1anj0of','Container'),S=_.w.div('o35414','ClickHandlerForInternetExplorer')},function(e,t,o){'use strict';var d=o(17),c=o.n(d),m=o(5),_=o.n(m),g=o(0),u=o.n(g),y=o(2),h=o.n(y),f=o(3),b=o.n(f),k=o(1),v=o(10),S=o(254),C=k.p.Operations.SpriteOperation.TextSprite,E=!1,x=function(e){function t(){u()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=h()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onDragStart','_onDrag','_onDragStop','_onRotateDragStart','_onRotateDrag','_onRotateDragStop','_onCornerDrag','_onCornerDragStop','_onSpriteUpdate','_onTakeToFront','_onFlipHorizontally','_onDuplicate','_onDelete'),r}return b()(t,e),t.prototype.componentDidMount=function(){this.props.sprite.on('update',this._onSpriteUpdate)},t.prototype.componentWillUnmount=function(){this.props.sprite.off('update',this._onSpriteUpdate)},t.prototype.componentWillReceiveProps=function(e){this.props.sprite.off('update',this._onSpriteUpdate),e.sprite.on('update',this._onSpriteUpdate)},t.prototype._onSpriteUpdate=function(){this.forceUpdate()},t.prototype._onTakeToFront=function(e){e.stopPropagation(),this.props.onTakeToFront&&this.props.onTakeToFront(e)},t.prototype._onFlipHorizontally=function(e){e.stopPropagation(),this.props.onFlipHorizontally&&this.props.onFlipHorizontally(e)},t.prototype._onDelete=function(e){e.stopPropagation(),this.props.onDelete&&this.props.onDelete(e)},t.prototype._onDuplicate=function(e){e.stopPropagation(),this.props.onDuplicate&&this.props.onDuplicate(e)},t.prototype._onBeforeScale=function(){},t.prototype._onScale=function(){},t.prototype._onRotateDragStart=function(){this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset(),this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},t.prototype._onRotateDrag=function(e,t){var o=this.props.sprite,i=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),n=i.clone(),p=t.clone().subtract(this._containerOffset).subtract(n),d=a(p.y,p.x)-r/2,c=this.props,m=c.snapRotation,_=c.snapRotationTolerance,g=s(180*d/r),u=s(g/m)*m;l(g-u)<_&&(d=u*r/180),o.setRotation(d),this.forceUpdate()},t.prototype._onRotateDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},t.prototype._onCornerDragStart=function(e,t,o,i){var n=this.context.editor,r=this.props.sprite,a=r.getDimensions(n.getSDK(),n.getOutputDimensions()),s=a.x;this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset();var l=r.getPivot(),p=r.getAnchor(),d=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),c=r.getDimensions(n.getSDK(),n.getOutputDimensions()),m=new k.v(c.width,c.height),_=d.clone().subtract(m.clone().multiply(p)).add(m.clone().multiply(l)).round(),g=i.clone().subtract(this._containerOffset).subtract(_);this._initialScaleSettings={width:s,mouseDistanceFromPivot:g},this._onBeforeScale(),this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},t.prototype._onCornerDrag=function(e){var t=this.props.sprite,o=t.getRotation(),r=this._initialScaleSettings,a=r.width,s=r.mouseDistanceFromPivot,d=s.clone().add(e),c=n(o),m=i(o),_=p(l(2*(d.x*c+d.y*m)),this.constructor.MIN_WIDTH);this._onScale(_/a)},t.prototype._onCornerDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},t.prototype._isDraggingDisabled=function(){var e=this.props.selected;return!e},t.prototype._onDragStart=function(){var e=this.props.sprite;this._initialPosition=e.getPosition(),this.props.onBeforeChange&&this.props.onBeforeChange()},t.prototype._onDrag=function(e){var t=this.props.sprite,o=this.context.editor,i=o.getOutputDimensions(),n=this._initialPosition.clone().add(e.divide(i));t.setPosition(n),this.forceUpdate()},t.prototype._onDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange()},t.prototype._getAbsoluteSpritePosition=function(){var e=this.context.editor,t=e.getOutputDimensions();return this.props.sprite.getPosition().clone().multiply(t)},t.prototype._getContainerStyle=function(){return{}},t.prototype._renderKnobs=function(){var e=this,t=[];return['top','bottom'].forEach(function(o){['left','right'].forEach(function(i){var n=o+'-'+i,r=_()({},n,!0);t.push(k.l.createElement(v.a,{key:n,onStart:e._onCornerDragStart.bind(e,o,i),onDrag:e._onCornerDrag,onStop:e._onCornerDragStop},k.l.createElement(B,r)))})}),t},t.prototype._getSpriteDimensions=function(){var e=this.context.editor,t=this.props.sprite,o=e.getOutputDimensions();return t.getDimensions(e.getSDK(),o)},t.prototype._getOverlayPosition=function(){var e=this.context.editor,t=this.props.sprite,o=e.getOutputDimensions(),r=this._getSpriteDimensions(),a=t.getPosition().clone().multiply(o),s=t.getRotation(),p=i(s),d=n(s),c=new k.v(l(r.x*d)+l(r.y*p),l(r.x*p)+l(r.y*d));return new k.v(a.x,a.y-c.y/2-70).clamp(new k.v(80,20),o.clone().subtract(80,70))},t.prototype._renderOverlayControls=function(){return this.props.selected?k.l.createElement(S.a,{takeToFront:!0,flipHorizontally:!(this.props.sprite instanceof C),duplicate:!0,delete:!0,position:this._getOverlayPosition(),onTakeToFront:this._onTakeToFront,onFlipHorizontally:this._onFlipHorizontally,onDuplicate:this._onDuplicate,onDelete:this._onDelete}):void 0},t.prototype._getItemControlsProps=function(){return{}},t.prototype.render=function(){var e=this,t=this.props,o=t.selected,i=t.sprite,n=this.state.editing,r=!n,a=[this._renderKnobs(),k.l.createElement(I,{key:'rotateControls'},k.l.createElement(v.a,{onStart:this._onRotateDragStart,onDrag:this._onRotateDrag,onStop:this._onRotateDragStop},k.l.createElement(P,null)))],s=this._getItemControlsProps(),l=k.l.createElement(O,c()({style:this._getContainerStyle()},s),a);return k.l.createElement(v.a,{onStart:this._onDragStart,onStop:this._onDragStop,onDrag:this._onDrag,disabled:this._isDraggingDisabled()},k.l.createElement(w,{onClick:this.props.onClick,"data-type":i.constructor.type,"data-selected":o,className:E},this._renderOverlayControls(),k.l.createElement(T,{style:this._getContainerStyle(),editing:o&&n,innerRef:function(t){e._container=t},className:E},k.l.createElement(D,null,this._renderContent()),o&&!r&&a),o&&r&&l))},t}(k.b);x.contextTypes=k.b.contextTypes,x.MIN_WIDTH=1,x.defaultProps={snapRotation:90,snapRotationTolerance:5},t.a=x;var w=k.w.div('120drhm','OuterContainer'),T=k.w.div('bkf7u8',{editing:'64zghi'},'Container'),O=k.w.div('36haff','ItemControls'),D=k.w.div('120drhm','Content'),I=k.w.div('77tiy3','RotateControl'),R=k.w.div('mznefm','Knob'),P=Object(k.w)(R)('1en5760','RotateKnob'),B=Object(k.w)(R)('bdmepn',{"top-left":'1dtvxe8',"top-right":'1tu191k',"bottom-left":'1we5ut6',"bottom-right":'f2wva1'},'CornerKnob')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(123),d=o(125),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._serializeSticker=function(t,o){var i=t.getInputDimensions(!1),n=e.prototype._serializeSticker.call(this,t,o);return'none'!==o.getTintMode()&&(n.options.tintColor=o.serializeOption('tintColor',!0)),n.options.dimensions=o.getDimensions().clone().divide(i.min()).toObject(),n.options.identifier=n.options.name,delete n.options.name,n},t.prototype._serializePath=function(t){var o=e.prototype._serializePath.call(this,t),i=t.getBrush();return i.hasOption('hardness')&&(o.hardness=i.getOption('hardness')),o},t.prototype._serializeOperation=function(t,o){return'frame'===t.constructor.identifier?(this._serializeFrameOperation(t,o),null):'overlay'===t.constructor.identifier?(this._serializeOverlayOperation(t,o),null):e.prototype._serializeOperation.call(this,t,o)},t.prototype._serializeFrameOperation=function(e,t){var o=t.filter(function(e){return'sprite'===e.type}),i;o.length?i=o.pop():(i={type:'sprite',options:{sprites:[]}},t.push(i)),i.options.sprites.push({type:'frame',options:this._getFrameOptions(e)})},t.prototype._serializeOverlayOperation=function(e,t){if(e.getIdentifier()){var o=t.filter(function(e){return'sprite'===e.type}),i;o.length?i=o.pop():(i={type:'sprite',options:{sprites:[]}},t.push(i)),i.options.sprites.push({type:'overlay',options:{identifier:e.getIdentifier(),intensity:e.getAlpha(),blendMode:d.a[e.getBlendMode()]}})}},t.prototype._getFrameOptions=function(e){return{identifier:e.getFrame().identifier}},t.prototype._serializeOrientationOperation=function(t){var o=e.prototype._serializeOrientationOperation.call(this,t);return(90===o.options.rotation||270===o.options.rotation)&&(o.options.flipHorizontally=!o.options.flipHorizontally,o.options.flipVertically=!o.options.flipVertically),o},t.prototype._serializeTransformOperation=function(t){var o=this._editor.operations;if(o.exists('orientation')){t=t.clone();var i=o.get('orientation');t.rotate(-i.getRotation()),i.getFlipVertically()&&(t.flip('vertical'),t.setRotation(-1*t.getRotation())),i.getFlipHorizontally()&&(t.flip('horizontal'),t.setRotation(-1*t.getRotation()))}var n=e.prototype._serializeTransformOperation.call(this,t);return n.type='transform',n},t.prototype._serializeText=function(t,o){var i=e.prototype._serializeText.call(this,t,o),n=t.getInputDimensions(!1);return i.options.fontIdentifier=o.getFontIdentifier(),i.options.maxWidth=i.options.maxWidth*n.x/n.min(),delete i.options.fontFamily,i},t.prototype._serializeFilterOperation=function(t){var o=e.prototype._serializeFilterOperation.call(this,t);return o?(o.options.identifier=o.options.name,delete o.options.name,o):null},t.prototype._serializeRadialFocusOperation=function(t){var o=e.prototype._serializeRadialFocusOperation.call(this,t),i=o.options.options;return i.start=i.position,delete i.position,i.end={x:i.start.x+i.radius,y:i.start.y},delete i.radius,o},t}(p.a);t.a=c,c.version='2.0.0'},function(e,t,o){'use strict';var i=o(21),n=o.n(i),r=o(4),a=o.n(r),s=o(0),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(124),u=o(106),y=o(119),h=o(108),f=o(55),b=o(73),k=o(125),v=o(38),S=_.q.flipObject(k.a),C=function(e){function t(){l()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=d()(this,e.call.apply(e,[this].concat(i)));r._frameManager=new u.a(r._ui,r._getOptions('frame'));var a=r._getOptions('overlay');return a&&(r._overlayManager=new y.a(r._ui,a)),r}return m()(t,e),t.prototype._deserializeSprite=function(t,o){return'frame'===o.type?this._deserializeFrame(t,o):'overlay'===o.type?this._deserializeOverlay(t,o):e.prototype._deserializeSprite.call(this,t,o)},t.prototype._deserializeOperation=function(t){return'transform'===t.type?this._deserializeTransformOperation(t):e.prototype._deserializeOperation.call(this,t)},t.prototype._deserializeOrientationOperation=function(t){return(90===t.options.rotation||270===t.options.rotation)&&(t.options.flipHorizontally=!t.options.flipHorizontally,t.options.flipVertically=!t.options.flipVertically),e.prototype._deserializeOrientationOperation.call(this,t)},t.prototype._deserializeTransformOperation=function(t){var o=this;return e.prototype._deserializeCropOperation.call(this,t).then(function(e){var t=o._operationsData.orientation;if(t){var i=t.options;e.rotate(i.rotation),i.flipHorizontally&&(e.flip('horizontal'),e.setRotation(-1*e.getRotation())),i.flipVertically&&(e.flip('vertical'),e.setRotation(-1*e.getRotation()))}return e})},t.prototype._deserializeFrame=function(e,t){var o=this,i=t.options.identifier,n=this._frameManager.getFrameByIdentifier(i);if(!n)return _.h.warn('Deserializer','Unknown frame `'+i+'`. Skipping frame.'),a.a.resolve();var r=new h.a(this._ui,n);return r.load().then(function(){o._editor.operations.getOrCreate('frame',{frame:r.getFrame()})})},t.prototype._deserializeOverlay=function(e,t){var o=this,i=t.options,n=i.blendMode,r=i.intensity,s=i.identifier,l=this._overlayManager.getOverlayByIdentifier(s);if(!l)return _.h.warn('Deserializer','Unknown overlay `'+s+'`. Skipping overlay.'),a.a.resolve();var p=this._editor.getUI().getAssetPath(l.image);return b.a.load(p).then(function(e){o._editor.operations.getOrCreate('overlay',{alpha:r,identifier:s,blendMode:parseInt(S[n||l.blendMode],10),image:e})})},t.prototype._createBrushForPath=function(t){var o=e.prototype._createBrushForPath.call(this,t);return'undefined'!=typeof t.hardness&&o.hasOption('hardness')&&o.setHardness(t.hardness),o},t.prototype._deserializeSticker=function(e,t){var o=this,i=_.p.Operations.SpriteOperation,r=t.options,s=this._stickerManager.getStickerByIdentifier(r.identifier),l=v.a.getURLForSticker(s,'base');if(!s)return _.h.warn('Deserializer','Unknown sticker `'+r.identifier+'`. Skipping sprite.'),a.a.resolve();var p=e.getInputDimensions(!1);return new a.a(function(t){var a=new window.Image;a.addEventListener('load',function(){var o=i.StickerSprite.prototype.availableOptions.adjustments.structure,l=r.rotation,d=r.flipHorizontally,c=r.flipVertically,m={identifier:r.identifier,image:a,position:_.v.fromObject(r.position),dimensions:_.v.fromObject(r.dimensions).multiply(p.min()),rotation:l,flipHorizontally:d,flipVertically:c,adjustments:{}};'undefined'!=typeof r.adjustments&&['brightness','contrast','saturation'].forEach(function(e){void 0!==n()(r.adjustments[e])&&(m.adjustments[e]=r.adjustments[e]+o[e].default)}),'undefined'!=typeof r.tintColor&&'undefined'!=typeof s.tintMode&&(m.tintColor=_.c.fromArray(r.tintColor),m.tintMode=s.tintMode),t(e.createSticker(m))}),a.crossOrigin='Anonymous',a.src=o._editor.getUI().getAssetPath(l)})},t.prototype._deserializeFilterOperation=function(e){var t=this,o=e.options;return this._filterManager.getFilterByIdentifier(o.identifier)?this._filterManager.instantiateFilterWithIdentifier(o.identifier).then(function(e){var i=t._editor.operations.getOrCreate('filter');i.set({identifier:o.identifier,filter:e,intensity:o.intensity})}):(_.h.warn('Deserializer','Unknown filter `'+o.identifier+'`'),a.a.resolve())},t.prototype._deserializeFocusOperation=function(t){var o=t.options,i=o.options,n=o.type;if('radial'!==n)return e.prototype._deserializeFocusOperation.call(this,t);var r=i.start,a=i.end,s=i.gradientRadius,l=i.blurRadius,p=_.v.fromObject(a).subtract(_.v.fromObject(r)).len();this._editor.operations.getOrCreate('radial-focus',{position:_.v.fromObject(r),radius:p,gradientRadius:s,blurRadius:l})},t.prototype._deserializeText=function(e,t){var o=t.options,i=o.fontSize,n=o.lineHeight,r=o.fontIdentifier,a=o.alignment,s=o.rotation,l=o.maxWidth,p=o.color,d=o.backgroundColor,c=new f.a(this._ui),m=this._fontManager.getVariationByIdentifier(r);return m?c.setFonts([m.getFont()]):m=this._fontManager.getDefaultFont(),c.load().then(function(){var t=e.getInputDimensions(!1),r=l*t.min()/t.x;return e.createText({fontSize:i,lineHeight:n,fontFamily:m.getFontFamily(),fontWeight:m.getFontWeight(),fontIdentifier:m.getIdentifier(),alignment:a,rotation:s,maxWidth:r,text:o.text,color:_.c.fromArray(p),backgroundColor:_.c.fromArray(d),position:_.v.fromObject(o.position)})})},t}(g.a);t.a=C,C.version='2.0.0'},function(e,t,o){e.exports=!o(23)&&!o(29)(function(){return 7!=Object.defineProperty(o(58)('div'),'a',{get:function(){return 7}}).a})},function(e,t,o){'use strict';var i=o(41),n=o(16),r=o(88),a=o(24),s=o(25),l=o(30),p=o(134),d=o(43),c=o(138),m=o(8)('iterator'),_=!([].keys&&'next'in[].keys()),g='keys',u='values',y=function(){return this};e.exports=function(e,t,o,h,f,b,k){p(o,t,h);var v=function(e){return!_&&e in x?x[e]:e===g?function(){return new o(this,e)}:e===u?function(){return new o(this,e)}:function(){return new o(this,e)}},S=t+' Iterator',C=f==u,E=!1,x=e.prototype,w=x[m]||x['@@iterator']||f&&x[f],T=w||v(f),O=f?C?v('entries'):T:void 0,D='Array'==t?x.entries||w:w,I,R,P;if(D&&(P=c(D.call(new e)),P!==Object.prototype&&(d(P,S,!0),!i&&!s(P,m)&&a(P,m,y))),C&&w&&w.name!==u&&(E=!0,T=function(){return w.call(this)}),(!i||k)&&(_||E||!x[m])&&a(x,m,T),l[t]=T,l[S]=y,f)if(I={values:C?T:v(u),keys:b?T:v(g),entries:O},k)for(R in I)R in x||r(x,R,I[R]);else n(n.P+n.F*(_||E),t,I);return I}},function(e,t,o){e.exports=o(24)},function(e,t,o){var n=o(25),r=o(26),a=o(136)(!1),i=o(63)('IE_PROTO');e.exports=function(e,t){var o=r(e),s=0,l=[],p;for(p in o)p!=i&&n(o,p)&&l.push(p);for(;t.length>s;)n(o,p=t[s++])&&(~a(l,p)||l.push(p));return l}},function(e,t,o){var i=o(34);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==i(e)?e.split(''):Object(e)}},function(e,t,o){var i=o(60);e.exports=function(e){return 0<e?d(i(e),9007199254740991):0}},function(e,t,o){e.exports=o(13).document&&document.documentElement},function(e,t,o){var i=o(89),n=o(65).concat('length','prototype');t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},function(e,t,o){var i=o(45),n=o(39),r=o(26),a=o(59),s=o(25),l=o(86),p=Object.getOwnPropertyDescriptor;t.f=o(23)?p:function(e,t){if(e=r(e),t=a(t,!0),l)try{return p(e,t)}catch(t){}return s(e,t)?n(!i.f.call(e,t),e[t]):void 0}},function(){},function(e){e.exports={primaryColor:'#2D7BFF',primaryColorRGB:'45, 123, 255',backgroundColor:'#141415',backgroundColorRGB:'20, 20, 21',controlsKnobColor:'white',controlsBackgroundColor:'#232326',controlsBackgroundColorRGB:'35, 35, 38',controlsLightBackgroundColor:'#2a2a2e',controlsOutlineColor:'rgba(255, 255, 255, 0.6)',controlsSeparatorColor:'#1b1b1d',navigationBackgroundColor:'#202022',navigationBackgroundColorRGB:'32, 32, 34',textColor:'#FFFFFF',dimmedTextColor:'#888888',dimmedTextColorRGB:'136, 136, 136',filterItemBackgroundColor:'#4b4b4c',secondaryControlsBackgroundColor:'#2a2a2e',secondaryControlsBackgroundColorRGB:'42, 42, 46',focusItemBackgroundColor:'#343437',sliderBackgroundColor:'rgba(255,255,255,0.24)',darkSliderBackgroundColor:'#1B1B1E',sliderKnobColor:'#b5b5be',sliderCircleKnobColor:'#c8c8d2',highlightColor:'#2675F8',highlightColorRGB:'38, 117, 253',darkHighlightColorRGB:'15, 47, 101',buttonBorderColor:'#303034',defaultShadow:'0 1px 2px 0 rgba(0, 0, 0, 0.60)',modalErrorColor:'#C23A3A',modalWarningColor:'#C18226',modalLoadingColor:'#2D7BFF',zIndex:function(e){return['background','controls','controlsOverlays','overlays','navigation'].indexOf(e)*5},transitionDuration:0.3,listItemSlideInDelay:100,scrollbarGradientSize:64,uppercaseBoldFontFamily:'sourcesansprobold',uppercaseSemiBoldFontFamily:'sourcesansprosemibold',regularFontFamily:'firasansregular',mediumFontFamily:'firasansmedium',fonts:{firasansmedium:{fontFamily:'firasansmedium',fontWeight:'500',fontStyle:'normal',src:'fonts/FiraSans-Medium.woff'},firasansregular:{fontFamily:'firasansregular',fontWeight:'400',fontStyle:'normal',src:'fonts/FiraSans-Regular.woff'},sourcesansprobold:{fontFamily:'sourcesansprobold',fontWeight:'bolder',fontStyle:'normal',src:'fonts/SourceSansPro-Bold.woff'},sourcesansprosemibold:{fontFamily:'sourcesansprosemibold',fontWeight:'bold',fontStyle:'normal',src:'fonts/SourceSansPro-Semibold.woff'}}}},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(47),m=o.n(c),_=o(48),g=o.n(_),u=o(35),y=o.n(u),h=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._events={},r._needsStyleFixes=!1,r._bindAll('fixStyles'),r}return d()(t,e),t.prototype.fixStyles=function(){return n.a.resolve()},t.prototype.componentDidMount=function(){this._bindEvents(),this._needsStyleFixes&&(this.fixStyles(),this.context.options.responsive&&window.addEventListener('resize',this.fixStyles))},t.prototype.componentWillUnmount=function(){this._unbindEvents();var e=this.context&&this.context.options||this.props.options;e.responsive&&this._needsStyleFixes&&window.removeEventListener('resize',this.fixStyles)},t.prototype._cloneProps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props;return u.Utils.extend({},e)},t.prototype._bindAll=function(){for(var e=this,t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];o.forEach(function(t){if('function'!=typeof e[t])throw new Error('_bindAll: '+e.constructor.name+'.'+t+' is not a function.');e[t]=e[t].bind(e)})},t.prototype._t=function(e,t){return this.context.ui.translate(e,t)},t.prototype._getAssetPath=function(){var e;return(e=this.context.ui).getAssetPath.apply(e,arguments)},t.prototype._bindEvents=function(){for(var e in this._events){var t=this._events[e];this.context.mediator.on(e,t)}},t.prototype._unbindEvents=function(){for(var e in this._events){var t=this._events[e];this.context.mediator.off(e,t)}},t.prototype._emitEvent=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),i=1,n;i<t;i++)o[i-1]=arguments[i];(n=this.context.mediator).emit.apply(n,[e].concat(o))},t.prototype.render=function(){return m.a.createElement('div',null)},t}(m.a.PureComponent);h.contextTypes={appComponent:g.a.object,editor:g.a.object,ui:g.a.object,options:g.a.object,mediator:g.a.object,screen:g.a.object,theme:g.a.object},t.a=h},function(e,t,o){var i=o(70),n=o(8)('iterator'),r=o(30);e.exports=o(7).getIteratorMethod=function(e){if(e!=void 0)return e[n]||e['@@iterator']||r[i(e)]}},function(e,t,o){'use strict';(function(e){var o='warn',i=[{type:'trace',background:'#EEEEEE',color:'#AAAAAA'},{type:'info',background:'#BDE5F8',color:'#00529B'},{type:'warn',background:'#FEEFB3',color:'#9F6000'},{type:'error',background:'#FFBABA',color:'#D8000C'},{type:'log',background:'#EEEEEE',color:'#1f4f6b'}],n=i.map(function(e){return e.type}),r={};r.setLevel=function(e){o=e},r.canLog=function(e){if(null===o)return!1;var t=n.indexOf(e),i=n.indexOf(o);return!(t<i)},r.hasColorfulOutput=function(){return(!e||e&&e.browser)&&'undefined'!=typeof navigator&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)},r.printError=function(t){var e=t.stack.split('\n');e.forEach(function(e){r.error('Error',e)})},i.forEach(function(e){var t=e.type,o=e.background,i=e.color;r[t]=function(e){if('undefined'!=typeof console&&r.canLog(t)){for(var n=arguments.length,a=Array(1<n?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var l=a.map(function(e){return'string'==typeof e?e:e.toString()}).join(' ');return r.hasColorfulOutput()?void console.log('%c  %c PhotoEditorSDK %c  %c '+e+' %c  '+l+'  %c  ','background: #2D7BFF; line-height: 20px; padding: 4px 0','background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0','background: #2D7BFF; line-height: 20px; padding: 4px 0','background: '+o+'; color: '+i+'; line-height: 20px; padding: 4px 0; font-weight: bold','background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0','background: #2D7BFF; line-height: 20px; padding: 4px 0'):console.log('PhotoEditorSDK | '+e+' | '+l)}}}),t.a=r}).call(t,o(100))},function(e){function t(){throw new Error('setTimeout has not been defined')}function o(){throw new Error('clearTimeout has not been defined')}function n(e){if(d===setTimeout)return setTimeout(e,0);if((d===t||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===o||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function r(){_&&u&&(_=!1,u.length?m=u.concat(m):g=-1,m.length&&a())}function a(){if(!_){var e=n(r);_=!0;for(var t=m.length;t;){for(u=m,m=[];++g<t;)u&&u[g].run();g=-1,t=m.length}u=null,_=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var p=e.exports={},d,c;(function(){try{d='function'==typeof setTimeout?setTimeout:t}catch(o){d=t}try{c='function'==typeof clearTimeout?clearTimeout:o}catch(t){c=o}})();var m=[],_=!1,g=-1,u;p.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];m.push(new s(e,t)),1!==m.length||_||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title='browser',p.browser=!0,p.env={},p.argv=[],p.version='',p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(){return[]},p.binding=function(){throw new Error('process.binding is not supported')},p.cwd=function(){return'/'},p.chdir=function(){throw new Error('process.chdir is not supported')},p.umask=function(){return 0}},function(e,t,o){(function(t){(function(){var o,i,n;'undefined'!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:'undefined'!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(o()-n)/1e6},i=t.hrtime,o=function(){var e;return e=i(),1e9*e[0]+e[1]},n=o()):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(this)}).call(t,o(100))},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(209);o.d(t,'transform',function(){return i.a});var n=o(221);o.d(t,'filter',function(){return n.a});var r=o(225);o.d(t,'frame',function(){return r.a});var a=o(246);o.d(t,'sticker',function(){return a.a});var s=o(257);o.d(t,'adjustments',function(){return s.a});var l=o(261);o.d(t,'brush',function(){return l.a});var p=o(265);o.d(t,'text',function(){return p.a});var d=o(272);o.d(t,'focus',function(){return d.a});var c=o(114);o.d(t,'library',function(){return c.a});var m=o(290);o.d(t,'overlay',function(){return m.a})},function(e,t,o){'use strict';var i=o(75),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.render=function(){var e=this.constructor.RootElement,t=n()(this.props,[]);return c.l.createElement(e,t)},t}(c.b);m.contextTypes=c.b.contextTypes,t.a=m,m.RootElement=c.w.li('12r6rxb','CanvasHeaderButtonComponent')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t){n()(this,e),this._options=t,this._categoriesById={},this._categories=[],this._initCategories()}return e.prototype._initCategories=function(){var e=this,t=this._options,o=t.replaceCategories,i=t.categories,n=r.d.DEFAULTS.TRANSFORM_RATIO_CATEGORIES;this._categories=i?o?r.u.cloneCategories(i,'ratios'):r.u.mergeCategories(n,i,'ratios'):r.u.cloneCategories(n,'ratios'),this._categoriesById={},this._categories.forEach(function(t){e._categoriesById[t.name]=t})},e.prototype.getCategories=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this._categories.slice(0);if(e){var o={name:'all',ratios:this._categories.map(function(e){return e.ratios}).reduce(function(e,t){return e.concat(t)})};t.unshift(o)}return t},e.prototype.getRatiosForCategory=function(e){var t=this._options.availableRatios;return t?e.ratios.filter(function(e){return-1!==t.indexOf(e.identifier)}):e.ratios},e}();t.a=a},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(72),l=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Infinity,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Infinity,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;a()(this,e),this._queue=[],this._pendingPromises=0,this._maxConcurrency=t,this._maxQueueLength=o,this._minDelay=i,this._tick=this._tick.bind(this),this._lastPromiseDone=Date.now(),this._running=!0,this._animationFrameRequest=null,Object(s.b)(this._tick)}return e.prototype._tick=function(){if(this._running){var e=Date.now();e-this._lastPromiseDone>this._minDelay&&this._pendingPromises<this._maxConcurrency&&this._queue.length&&this._dequeue(),this._animationFrameRequest=Object(s.b)(this._tick)}},e.prototype.add=function(e){var t=this;return new n.a(function(o,i){return t._queue.length>=t._maxQueueLength?i(new Error('Max queue length reached')):void t._queue.push({fn:e,resolve:o,reject:i})})},e.prototype._promisify=function(e){return'undefined'!=typeof e&&'function'==typeof e.then?e:n.a.resolve(e)},e.prototype._dequeue=function(){var t=this,o=this._queue.shift(),i=Date.now();this._pendingPromises++;try{this._promisify(o.fn()).then(function(e){t._lastPromiseDone=i,t._pendingPromises--,o.resolve(e)}).catch(function(n){t._lastPromiseDone=i,t._pendingPromises--,o.reject(n)})}catch(t){this._lastPromiseDone=i,this._pendingPromises--,o.reject(t)}return!0},e.prototype.dispose=function(){this._running=!1,this._animationFrameRequest&&Object(s.a)(this._animationFrameRequest)},e}();t.a=l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t,o){n()(this,e),this._ui=t,this._options=o,this._categoriesById={},this._categories=[],this._framesById={},this._addCategories(r.r.DEFAULTS.FRAME_CATEGORIES);var i=this._options,a=i.categories,s=i.replaceCategories;this._options.categories?this._addCategories(a,s):this._updateAllCategory()}return e.prototype._addCategories=function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this._categories=o?e.slice(0):r.u.mergeCategories(this._categories,e,'frames'),this._categoriesById={},this._categories.forEach(function(e){t._categoriesById[e.identifier]=e});var i=this._options.availableFrames;i&&this._categories.forEach(function(e){e.frames=e.frames.filter(function(e){return-1!==i.indexOf(e.identifier)})}),this._categories.forEach(function(e){e.frames.forEach(function(e){t._framesById[e.identifier]=e})}),this._updateAllCategory()},e.prototype._updateAllCategory=function(){this._allCategory={identifier:'all',defaultName:'All',frames:this._categories.map(function(e){return e.frames}).reduce(function(e,t){return e.concat(t)},[])},this._categoriesById.all=this._allCategory},e.prototype.getFramesForCategory=function(e){if(!this._categoriesById[e])throw new Error('Unknown frame category \''+e+'\'');return this._categoriesById[e].frames},e.prototype.getFrameByIdentifier=function(e){return this._framesById[e]},e.prototype.getCategories=function(){return this._categories},e.prototype.getCategory=function(e){return this._categoriesById[e]},e}();t.a=a},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(80),c=o(52),m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._renderRightPart=function(){var e=this,t=[];return this.props.inputClassName&&t.push(this.props.inputClassName),p.l.createElement(_,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:t.join(' '),innerRef:function(t){e._input=t},disabled:this.props.disabled})},t.prototype.render=function(){var e=this.props,t=e.inputLabel,o=e.className,i=e.disabled,n=e.styles;return p.l.createElement(g,{styles:n,className:o,disabled:i},p.l.createElement(u,null,p.l.createElement(y,null,t&&p.l.createElement(h,null,t||' '),this._renderRightPart())))},t}(d.a);m.contextTypes=d.a.contextTypes,t.a=m;var _=Object(p.w)(c.a)('12dz026','InputField'),g=Object(p.w)(d.a.RootElement)('9ngfap','ColorComponentInput'),u=p.w.div('15u7gri','Row'),y=p.w.div('1hy9z1m',{bottomAligned:'17xdalt'},'Column'),h=p.w.div('szltve','Title')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=c.p.OptionType,_=function(e){function t(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a()(this,t);var n=l()(this,e.call(this,i));return n._loaded=!1,n._loading=!1,n._ui=o,n._frame=c.p.Utils.deepClone(n._options),n}return d()(t,e),t.prototype.load=function(){var e=this;if(this._loaded)return n.a.resolve();if(this._loading)return n.a.reject(new Error('Called Frame#load while it\'s already loading'));this._loading=!0;var t=this._frame.imageGroups,o=[];return['top','left','right','bottom'].forEach(function(i){if(i in t){var n=t[i];['start','mid','end'].forEach(function(t){t in n&&o.push(e._loadPart(i,t))})}}),n.a.all(o).then(function(){e._loaded=!0,e._loading=!1}).catch(function(){e._loaded=!1,e._loading=!1})},t.prototype._loadPart=function(e,t){var o=this;return new n.a(function(i,n){var r=o._frame.imageGroups,a=r[e][t],s=a;'string'!=typeof a&&'image'in a&&(s=a.image);var l=new window.Image;l.addEventListener('load',function(){'string'==typeof a?o._frame.imageGroups[e][t]=l:o._frame.imageGroups[e][t].image=l,i(l)}),l.addEventListener('error',function(){n(new Error('Failed to load image at '+s))}),l.src=o._ui.getAssetPath(s)})},t.prototype.getFrame=function(){return this._frame},t}(c.p.Configurable);t.a=_,_.prototype.availableOptions={identifier:{type:m.STRING,required:!0},defaultName:{type:m.STRING},thumbnail:{type:m.STRING},tintable:{type:m.BOOLEAN,default:!1},layoutMode:{type:m.STRING,default:'horizontal-inside',available:['horizontal-inside','vertical-inside']},imageGroups:{type:m.OBJECT,required:!0}}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(9),c=o(6),m=o(38),_=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onStickerClick=function(e){this.props.onStickerClick&&this.props.onStickerClick(e)},t.prototype._renderListItems=function(){var e=this,t=this.props.stickers,o=this.getSharedState('selectedSprite'),i;return o&&(i=o.getIdentifier()),t.map(function(t){var o=m.a.getURLForSticker(t,'thumb'),n=e._getAssetPath(o);return p.l.createElement(u,{selected:t.identifier===i,key:t.identifier,onClick:e._onStickerClick.bind(e,t),className:!1,threeColumns:!0},p.l.createElement(y,{style:{background:'url(\''+n+'\') no-repeat center center',backgroundSize:'contain'}}))})},t.prototype.render=function(){return p.l.createElement(g,null,this._renderListItems())},t}(d.a);_.contextTypes=d.a.contextTypes,t.a=_;var g=p.w.ul('18qztam','StickerList'),u=Object(p.w)(c.g).li('m4lnou','StickerListItem'),y=p.w.div('7r0ke8','StickerImage')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t,o){n()(this,e),this._ui=t,this._options=o,this._brushes=[],this._brushesById={},this._addBrushes(r.d.DEFAULTS.BRUSHES);var i=this._options,a=i.brushes,s=i.replaceBrushes,l=i.availableBrushes;this._options.brushes&&this._addBrushes(a,s),l&&(this._brushes=this._brushes.filter(function(e){return-1!==l.indexOf(e.identifier)}))}return e.prototype._addBrushes=function(e,t){var o=this;t&&(this._brushes=[],this._brushesById={}),e.forEach(function(e){o._brushes.push(e),o._brushesById[e.identifier]=e})},e.prototype.getBrushByIdentifier=function(e){return this._brushesById[e]},e.prototype.getBrushes=function(){return this._brushes},e.prototype.getFirstBrush=function(){return this._brushes[0]},e}();t.a=a},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(77),c=o(51),m=!1,_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onDropdownClick','_onDocumentClick'),s.state={expanded:!1},s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),document.addEventListener('click',this._onDocumentClick)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),document.removeEventListener('click',this._onDocumentClick)},t.prototype._onDocumentClick=function(t){if(this.state.expanded){for(var e=t.target;e;e=e.parentNode)if(e===this._root)return;this.setState({expanded:!1})}},t.prototype._onDropdownClick=function(){var e=this.state.expanded;this.setState({expanded:!e})},t.prototype._onItemClick=function(e){this.props.onChange&&this.props.onChange(e),this.setState({expanded:!1})},t.prototype._renderDropdownItems=function(){var e=this;return this.props.children.map(function(t){var o=p.q.extend({},t.props,{onClick:e._onItemClick.bind(e,t.props.value),selected:e.props.value===t.props.value,className:m});return p.l.cloneElement(t,o)})},t.prototype.render=function(){var e=this,t=null;return this.props.children.forEach(function(o){o.props.value===e.props.value&&(t=o.props.children)}),p.l.createElement(g,{innerRef:function(t){e._root=t},className:this.props.className},p.l.createElement(u,{onClick:this._onDropdownClick,styles:this.props.styles,style:this.props.style},t,p.l.createElement(f,null)),this.state.expanded&&p.l.createElement(y,{className:m},p.l.createElement(c.a,{direction:'vertical',noGradient:!0},p.l.createElement(h,null,this._renderDropdownItems()))))},t}(p.b);_.contextTypes=p.b.contextTypes,t.a=_;var g=p.w.div('13hv8io','DropdownContainer'),u=Object(p.w)(d.a).div('13hv8io','Dropdown');_.RootElement=u;var y=p.w.div('1fqdopp','DropdownOverlay'),h=p.w.ul('zy0cu9','DropdownList'),f=p.w.div('7w2heg',{turnUp:'gucvcl'},'ArrowDown'),b=p.w.li('cibatp',{selected:'60ro2s'},'DropdownItem');_.Item=b,_.RootElement=Object(p.w)(d.a).input('120drhm','DropdownComponent')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=o(271),s=o(113),l=function(){function e(t,o){n()(this,e),this._ui=t,this._options=o,this._fonts=[],this._variationsByIdentifier={},this._fontsByFontFamily={},this._initFonts()}return e.prototype._initFonts=function(){var e=this,t=this._options,o=t.fonts,i=t.replaceFonts,n=t.availableVariations,l=r.d.DEFAULTS.FONTS;l=i?o:l.concat(o||[]);var p;l=l.map(function(t){var o=t.fontFamily,i=t.variations;if(n&&(i=i.filter(function(e){return-1!==n.indexOf(e.identifier)})),0===i.length)return null;var r=new a.a({fontFamily:o});return i=i.map(function(t){var i=new s.a(t);return i.setFontFamily(o),i.setFont(r),t.default&&!p&&(p=i),e._variationsByIdentifier[i.getIdentifier()]=i,i}),r.setVariations(i),e._fontsByFontFamily[o]=r,r}).filter(function(e){return e}),p||(p=l[0].getVariations()[0]),this._defaultVariation=p,this._fonts=l},e.prototype.getFonts=function(){return this._fonts},e.prototype.getFontByFontFamily=function(e){return this._fontsByFontFamily[e]},e.prototype.getVariationByIdentifier=function(e){return this._variationsByIdentifier[e]},e.prototype.getDefaultVariation=function(){return this._defaultVariation},e}();t.a=l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=p.p.OptionType,c={100:'Extra Light',200:'Light',300:'Book',400:'Regular',500:'Medium',600:'Semibold',700:'Bold',800:'Black',900:'Extra Black',bold:'Bold',normal:'Regular'},m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.getLabel=function(){var e=c[this._options.fontWeight];switch(this._options.fontStyle){case'italic':e+=' Italic';}return e},t}(p.p.Configurable);t.a=m,m.prototype.availableOptions={identifier:{type:d.STRING,required:!0},fontFamily:{type:d.STRING,required:!0},fontWeight:{type:d.ALL,default:400},fontStyle:{type:d.STRING,default:'normal'},provider:{type:d.STRING,available:['google','file']},filePath:{type:d.STRING},default:{type:d.BOOLEAN,default:!1},font:{type:d.OBJECT}}},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(18),m=o(279),_=o(287),g=o(12),u=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.shouldKeepChanges=function(){var e=this,t=this.context,o=t.editor,i=t.ui,r;return r='undefined'==typeof this.keepChanges&&!o.isShallow&&o.history.isAvailable()?new n.a(function(t){var o=g.a.instance.displayWarning(i.translate('warnings.discardChanges.title'),i.translate('warnings.discardChanges.text'),[i.translate('warnings.discardChanges.buttons.keep'),i.translate('warnings.discardChanges.buttons.discard')],!0);o.on('button',function(o){var i=0===o;e.keepChanges=i,t(i)})}):n.a.resolve(this.keepChanges),r},t.prototype.onImage=function(e){var t=this;this.shouldKeepChanges().then(function(o){if(t._options.switchScreenOnImage)t.context.options.editor.image=e,t.context.appComponent.switchToScreen('editor');else{var i=t.context.editor;i.setImage(e,!o)}t.sharedState.get('webcamEnabled')&&(t.sharedState.set({webcamEnabled:!1}),t.context.screen.switchToControls('default'))})},t.prototype._onEnter=function(){this.sharedState.set({webcamEnabled:!1})},t.isEnabled=function(e){var t=e.getOptions().editor.controlsOptions;return t.library&&t.library.provider},t}(c.a);u.clickAtPosition=c.a.clickAtPosition,u.getPreloadAssets=c.a.getPreloadAssets,u.identifier='library',u.controlsComponent=m.a,u.canvasControlsComponent=_.a,u.iconPath='editor/controls/library/icon.png',u.activeIconPath='editor/controls/library/icon-active.png',u.defaultOptions={enableWebcam:!0,enableUpload:!0,displayUploadInCanvas:!1,switchScreenOnImage:!1},t.a=u},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=o(12),m=o(116),_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onWebcamClick','_onDropZoneClick','_onDropZoneDragEnter','_onDropZoneDragLeave','_onDropZoneDragOver','_onDropZoneDrop','_onImage'),s._dragCounter=0,s.state={dropZoneHovered:!1},s}return l()(t,e),t.prototype._onWebcamClick=function(){this.props.onWebcamActivated&&this.props.onWebcamActivated()},t.prototype._onImage=function(e){this.props.onImage&&this.props.onImage(e)},t.prototype._onDropZoneClick=function(){this.refs.upload.open()},t.prototype._onDropZoneDragEnter=function(t){t.preventDefault(),this._dragCounter++,this.setState({dropZoneHovered:!0})},t.prototype._onDropZoneDragLeave=function(t){t.preventDefault(),this._dragCounter--,0===this._dragCounter&&this.setState({dropZoneHovered:!1})},t.prototype._onDropZoneDragOver=function(t){t.preventDefault()},t.prototype._onDropZoneDrop=function(t){var e=this;t.stopPropagation(),t.preventDefault(),t=t.nativeEvent,t.returnValue=!1,this.setState({dropZoneHovered:!1},function(){if(t.target||t.dataTransfer){var o=t.target.files||t.dataTransfer.files;return o[0].type.match(/^image\//i)?void e._handleFile(o[0]):c.a.instance.displayError(e._t('errors.title'),e._t('errors.invalidFileType.text',{fileType:o[0].type}))}})},t.prototype._handleFile=function(e){var t=this,o=new window.FileReader;o.onload=function(){return function(o){var e=o.target.result,i=new window.Image;i.addEventListener('load',function(){t._onImage(i)}),i.addEventListener('error',function(){return c.a.instance.displayError(t._t('errors.title'),t._t('errors.imageLoadingError.text'))}),i.src=e}}(e),o.readAsDataURL(e)},t.prototype.render=function(){var e={backgroundImage:'url(\''+this._getAssetPath('editor/controls/library/webcam.png',!0)+'\')'};return p.l.createElement(g,null,p.l.createElement(m.a,{ref:'upload',onNewFile:this._onImage}),p.l.createElement(u,null,p.l.createElement(y,{onClick:this._onDropZoneClick,onDragEnter:this._onDropZoneDragEnter,onDragOver:this._onDropZoneDragOver,onDragLeave:this._onDropZoneDragLeave,onDrop:this._onDropZoneDrop,hovered:this.state.dropZoneHovered},this.state.dropZoneHovered?this._t('editor.controls.library.fileDropZoneHovered'):this._t('editor.controls.library.fileDropZone')),!this.state.dropZoneHovered&&this.props.webcamEnabled&&p.l.createElement(h,{style:e,className:!1,onClick:this._onWebcamClick})))},t}(p.b);t.a=_;var g=Object(p.w)(d.g).li('fujban','Container'),u=Object(p.w)(d.h).div('17hsmc4','Background'),y=p.w.div('yw0i2r',{hovered:'1xndhux'},'DropZone'),h=p.w.div('1y2fyfw','WebcamButton')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(282),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onNewFile'),s}return l()(t,e),t.prototype.componentDidMount=function(){this._fileLoader=new d.a(this._fileInput),this._fileLoader.on('file',this._onNewFile)},t.prototype.componentWillUnmount=function(){this._fileLoader.off('file',this._onNewFile),this._fileLoader.dispose(),this._fileLoader=null},t.prototype._onNewFile=function(e){this.props.onNewFile&&this.props.onNewFile(e)},t.prototype.open=function(){this._fileLoader.open()},t.prototype.render=function(){var e=this;return React.createElement(m,{type:'file',accept:'image/*',innerRef:function(t){e._fileInput=t}})},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c;var m=p.w.input('19u9mq5','HiddenFileInput')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(o,i){n()(this,t);var r=a()(this,e.call(this));return r._jobs=o,r._options=p.q.defaults(i,{minDelay:400}),r._running=!1,r._currentJob=null,r._currentJobIndex=0,r._tick=r._tick.bind(r),r}return l()(t,e),t.prototype.start=function(){this._running=!0,this._lastJobFinished=Object(p.y)(),this._tick()},t.prototype._tick=function(){var t=this;if(this._running){if(!this._currentJob){if(this._currentJob=this._jobs[this._currentJobIndex],!this._currentJob)return this.emit('done'),void this.stop();this._currentJob.fn().then(function(){for(var e=arguments.length,o=Array(e),i=0;i<e;i++)o[i]=arguments[i];var n=function(){t.emit.apply(t,['job-done',t._currentJob].concat(o)),t._lastJobFinished=Object(p.y)(),t._currentJob=null};if(Object(p.y)()-t._lastJobFinished<t._options.minDelay){var r=t._options.minDelay-(Object(p.y)()-t._lastJobFinished);setTimeout(n,r)}else n()}).catch(function(o){t.emit('error',t._currentJob,o),t._currentJob=null}),this._currentJobIndex++}Object(p.z)(this._tick)}},t.prototype.stop=function(){this._running=!1},t.prototype.dispose=function(){this._jobs=[],this._running=!1},t}(p.e);t.a=d},function(e,t,o){'use strict';var i=o(1),n=i.p.Engine.Filters.OverlayFilter;t.a={normal:n.BLEND_MODES.NORMAL,overlay:n.BLEND_MODES.OVERLAY,hardLight:n.BLEND_MODES.HARD_LIGHT,softLight:n.BLEND_MODES.SOFT_LIGHT,multiply:n.BLEND_MODES.MULTIPLY,darken:n.BLEND_MODES.DARKEN,lighten:n.BLEND_MODES.LIGHTEN,screen:n.BLEND_MODES.SCREEN,colorBurn:n.BLEND_MODES.COLOR_BURN}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t,i){var o=this;n()(this,e),this._ui=t,this._options=i,this._overlays=r.r.DEFAULTS.OVERLAYS.slice(0),this._overlaysByIdentifier={},i.overlays&&(i.replaceOverlays?this._overlays=i.overlays:this._overlays=this._overlays.concat(i.overlays)),i.availableOverlays&&(this._overlays=this._overlays.filter(function(e){return-1!==i.availableOverlays.indexOf(e.identifier)})),this._overlays.forEach(function(e){o._overlaysByIdentifier[e.identifier]=e})}return e.prototype.getOverlays=function(){return this._overlays},e.prototype.getOverlayByIdentifier=function(e){return this._overlaysByIdentifier[e]},e}();t.a=a},function(e,t,o){'use strict';var i=o(4),n=o.n(i),a=o(0),s=o.n(a),l=o(1),p=2*r,d=function(){function e(t){s()(this,e),this._editor=t,this._serializeOperations=this._serializeOperations.bind(this)}return e.prototype.serialize=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._options=l.q.defaults(e,{image:!0});var t={version:this.constructor.version};return this._serializeInputImage(t).then(this._serializeOperations)},e.prototype._serializeInputImage=function(e){var t=this._editor.getImage(),o=t.width,i=t.height;if(!this._options.image)return e.inputImage={width:o,height:i},n.a.resolve(e);var r=l.q.createCanvas();r.width=t.width,r.height=t.height;var a=r.getContext('2d');a.drawImage(t,0,0);var s=r.toDataURL(l.f.PNG);return e.inputImage={type:l.f.PNG,data:s.replace(/^data:image\/(.*?);base64,/,''),width:o,height:i},n.a.resolve(e)},e.prototype._serializeOperations=function(e){var t=this,o=[],i=this._editor.operations.getStack();return i.forEach(function(e){var i=t._serializeOperation(e,o);i&&o.push(i)}),e.operations=o.filter(function(e){return e}),n.a.resolve(e)},e.prototype._serializeOperation=function(e,t){switch(e.constructor.identifier){case'transform':return this._serializeTransformOperation(e);case'orientation':return this._serializeOrientationOperation(e);case'filter':return this._serializeFilterOperation(e);case'adjustments':return this._serializeAdjustmentsOperation(e);case'sprite':return this._serializeSpriteOperation(e,t);case'radial-focus':return this._serializeRadialFocusOperation(e);case'mirrored-focus':return this._serializeLinearFocusOperation(e);default:l.h.warn('Unable to serialize operation of type '+e.constructor.identifier);}},e.prototype._serializeTransformOperation=function(e){var t=e.serializeOptions(['start','end','rotation'],!0);return t.rotation=(t.rotation+p)%p,{type:'crop',options:t}},e.prototype._serializeOrientationOperation=function(e){return{type:'orientation',options:e.serializeOptions(['flipVertically','flipHorizontally','rotation'],!0)}},e.prototype._serializeFilterOperation=function(e){return'identity'===e.getIdentifier()?null:{type:'filter',options:{intensity:e.getIntensity(),name:e.getIdentifier()}}},e.prototype._serializeAdjustmentsOperation=function(e){var t=e.availableOptions,o={};return['brightness','saturation','contrast','exposure','shadows','highlights','clarity'].forEach(function(i){var n=t[i],r=e.getOption(i),a=n.minValue,s=n.midValue,l=n.maxValue;o[i]=r<=s?(r-a)/(s-a)-1:(r-s)/(l-s)}),{type:'adjustments',options:o}},e.prototype._serializeSpriteOperation=function(e,t){var o=this,i=t.filter(function(e){return'sprite'===e.type}),n=!0,r;if(i.length?(r=i.pop(),n=!1):r={type:'sprite',options:{sprites:[]}},e.getSprites().forEach(function(t){var i=null;t instanceof e.constructor.StickerSprite?i=o._serializeSticker(e,t):t instanceof e.constructor.TextSprite?i=o._serializeText(e,t):t instanceof e.constructor.BrushSprite&&(i=o._serializeBrush(e,t)),i&&r.options.sprites.push(i)}),n)return r},e.prototype._serializeSticker=function(e,t){var o=t.getAdjustments(),i=t.serializeOptions(['identifier','position','dimensions','flipVertically','flipHorizontally','rotation'],!0);i.name=i.identifier,delete i.identifier,i.rotation=(i.rotation+p)%p;var n=o.availableOptions;return i.adjustments={brightness:o.getBrightness()-n.brightness.default,saturation:o.getSaturation()-n.saturation.default,contrast:o.getContrast()-n.contrast.default},{type:'sticker',options:i}},e.prototype._serializeText=function(e,t){var o=t.serializeOptions(['fontSize','lineHeight','fontFamily','fontWeight','alignment','color','backgroundColor','position','rotation','text','maxWidth'],!0);return o.rotation=(o.rotation+p)%p,{type:'text',options:o}},e.prototype._serializeBrush=function(e,t){var o=this;return{type:'brush',options:{paths:t.getPaths().map(function(e){return o._serializePath(e)})}}},e.prototype._serializePath=function(e){var t=e.getBrush().serializeOptions(['color','size'],!0);return t.points=e.getControlPoints().map(function(e){return e.getPosition().toObject()}),t},e.prototype._serializeRadialFocusOperation=function(e){return{type:'focus',options:{type:'radial',options:e.serializeOptions(['position','radius','gradientRadius','blurRadius'],!0)}}},e.prototype._serializeLinearFocusOperation=function(e){return{type:'focus',options:{type:'linear',options:e.serializeOptions(['start','end','blurRadius','size','gradientSize'],!0)}}},e.prototype._getInputDimensionsForOperation=function(e){var t=!1,o=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(i){i===e&&(t=!0),t||(o=i.getNewDimensions(o))}),o},e}();t.a=d,d.version='1.0.0'},function(e,t,o){'use strict';var i=o(2),n=o.n(i),a=o(3),s=o.n(a),l=o(21),p=o.n(l),d=o(4),c=o.n(d),m=o(0),_=o.n(m),g=o(1),u=o(78),y=o(38),h=o(110),f=o(112),b=o(55),k=g.p.Operations.SpriteOperation.BrushSprite.Brush,v=function(){function e(t,o){_()(this,e),this._editor=t,this._ui=this._editor.getUI(),this._data=o,this._filterManager=new u.a(this._ui,this._getOptions('filter')),this._stickerManager=new y.a(this._ui,this._getOptions('sticker')),this._brushManager=new h.a(this._ui,this._getOptions('brush')),this._fontManager=new f.a(this._ui,this._getOptions('text'))}return e.prototype._getOptions=function(e){var t=this._editor.controls,o={};t&&t.get(e)&&(o=t.get(e).defaultOptions);var i=this._editor.getOptions();return g.q.extend({},i.editor.controlsOptions[e]||{},o)},e.prototype.deserialize=function(){var e=this;return this._validateVersion().then(function(){return e._deserializeInputImage()}).then(function(){return e._deserializeOperations()})},e.prototype._validateVersion=function(){return this._data.version===this.constructor.version?c.a.resolve():c.a.reject(new Error('Invalid version '+this._data.version+', expected '+this.constructor.version))},e.prototype._deserializeInputImage=function(){var e=this;return new c.a(function(t){var o=e._data.inputImage,i=o.data,n=o.type;if(i&&n){var r=new window.Image;r.addEventListener('load',function(){e._editor.setImage(r),t()}),r.src='data:'+n+';base64,'+i}else t()})},e.prototype._deserializeOperations=function(){var e=this;this._operationsData={},this._data.operations.forEach(function(t){e._operationsData[t.type]=t});var t=this._data.operations.map(function(t){return e._deserializeOperation(t)});return c.a.all(t)},e.prototype._deserializeOperation=function(e){switch(e.type){case'crop':return this._deserializeCropOperation(e);case'orientation':return this._deserializeOrientationOperation(e);case'filter':return this._deserializeFilterOperation(e);case'adjustments':return this._deserializeAdjustmentsOperation(e);case'sprite':return this._deserializeSpriteOperation(e);case'focus':return this._deserializeFocusOperation(e);}},e.prototype._deserializeCropOperation=function(e){var t=e.options,o=t.rotation,i=g.v.fromObject(t.start),n=g.v.fromObject(t.end);o>r&&(o-=2*r);var a={start:i,end:n};'undefined'!=typeof o&&(a.rotation=o);var s=this._editor.operations.getOrCreate('transform');return this._editor.broadcastTransform(s,a),s.set(a),c.a.resolve(s)},e.prototype._deserializeOrientationOperation=function(e){var t=e.options,o=this._editor.operations.getOrCreate('orientation');o.set(t)},e.prototype._deserializeFilterOperation=function(e){var t=this,o=e.options;return this._filterManager.getFilterByIdentifier(o.name)?this._filterManager.instantiateFilterWithIdentifier(o.name).then(function(e){var i=t._editor.operations.getOrCreate('filter');i.set({identifier:o.name,filter:e,intensity:o.intensity})}):(g.h.warn('Deserializer','Unknown filter `'+o.name+'`'),c.a.resolve())},e.prototype._deserializeAdjustmentsOperation=function(e){var t=g.p.Operations.AdjustmentsOperation,o=e.options,i={};return['brightness','saturation','contrast','exposure','shadows','highlights','clarity'].forEach(function(e){if('undefined'!=typeof o[e]){var n=t.prototype.availableOptions[e],r=n.minValue,a=n.midValue,s=n.maxValue,l=o[e];l=0>l?a+(a-r)*l:a+(s-a)*l,i[e]=l}}),c.a.resolve(this._editor.operations.getOrCreate('adjustments',i))},e.prototype._deserializeSpriteOperation=function(e){var t=this,o=e.options,i=this._editor.operations.getOrCreate('sprite'),n=o.sprites.map(function(e){return t._deserializeSprite(i,e)}).filter(function(e){return e});return c.a.all(n).then(function(e){i.setSprites(e.filter(function(e){return e}))})},e.prototype._deserializeSprite=function(e,t){switch(t.type){case'sticker':return this._deserializeSticker(e,t);case'text':return this._deserializeText(e,t);case'brush':return this._deserializeBrush(e,t);}},e.prototype._deserializeSticker=function(e,t){var o=this,i=g.p.Operations.SpriteOperation,n=t.options,r=this._stickerManager.getStickerByIdentifier(n.name),a=this._stickerManager.getURLForSticker(r);return r?new c.a(function(t){var r=new window.Image;r.addEventListener('load',function(){var o=i.StickerSprite.prototype.availableOptions.adjustments.structure,a=n.rotation,s=n.flipHorizontally,l=n.flipVertically,d={identifier:n.name,image:r,position:g.v.fromObject(n.position),dimensions:g.v.fromObject(n.dimensions),rotation:a,flipHorizontally:s,flipVertically:l,adjustments:{}};'undefined'!=typeof n.adjustments&&['brightness','contrast','saturation'].forEach(function(e){void 0!==p()(n.adjustments[e])&&(d.adjustments[e]=n.adjustments[e]+o[e].default)}),t(e.createSticker(d))}),r.crossOrigin='Anonymous',r.src=o._editor.getUI().getAssetPath(a)}):(g.h.warn('Deserializer','Unknown sticker \''+n.name+'\'. Skipping sprite.'),c.a.resolve())},e.prototype._deserializeText=function(e,t){var o=t.options,i=o.fontSize,n=o.lineHeight,r=o.fontFamily,a=o.fontWeight,s=o.alignment,l=o.rotation,p=o.maxWidth,d=o.color,c=o.backgroundColor,m=new b.a(this._ui),_=this._fontManager.getFontByFontFamily(r);return _||(_=this._fontManager.getDefaultFont()),m.setFonts([_]),m.load().then(function(){return e.createText({fontSize:i,lineHeight:n,fontFamily:r,fontWeight:a,alignment:s,rotation:l,maxWidth:p,text:o.text,color:g.c.fromArray(d),backgroundColor:g.c.fromArray(c),position:g.v.fromObject(o.position)})})},e.prototype._deserializeBrush=function(e,t){var o=this,i=t.options,n=i.paths,r=e.createBrush();return n.forEach(function(e){o._deserializeBrushPath(r,e)}),c.a.resolve(r)},e.prototype._deserializeBrushPath=function(e,t){var o=t.points,i=this._createBrushForPath(t),n=e.createPath(i);n.setClosed(!0),o.forEach(function(e){n.addControlPoint(g.v.fromObject(e))})},e.prototype._createBrushForPath=function(e){var t=e.color,o=e.size,i=g.c.fromArray(t),r={color:i,size:o},a=this._brushManager.getFirstBrush();if(a.prototype&&a.prototype instanceof k){return new a(r)}var l=g.q.extend({},a);delete l.image;var p=function(e){function t(){return _()(this,t),n()(this,e.apply(this,arguments))}return s()(t,e),t}(k);return p.identifier=a.identifier,new p(g.q.extend({},l,r))},e.prototype._deserializeFocusOperation=function(e){var t=e.options.options;switch(e.options.type){case'radial':{var o=t.position,i=t.radius,n=t.gradientRadius,r=t.blurRadius;this._editor.operations.getOrCreate('radial-focus',{position:g.v.fromObject(o),radius:i,gradientRadius:n,blurRadius:r})}break;case'linear':{var a=t.start,s=t.end,l=t.size,p=t.gradientSize,d=t.blurRadius;this._editor.operations.getOrCreate('mirrored-focus',{start:g.v.fromObject(a),end:g.v.fromObject(s),size:l,gradientSize:p,blurRadius:d})}}},e.prototype._getInputDimensionsForOperation=function(e){var t=!1,o=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach(function(i){i===e&&(t=!0),t||(o=i.getNewDimensions(o))}),o},e}();t.a=v,v.version='1.0.0'},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(305),l=function(){function e(t){a()(this,e),this._ui=t,this._fonts=[],this._observers=[]}return e.prototype.add=function(e){this._fonts.push(e)},e.prototype.load=function(){var e=this;return 0===this._fonts.length?n.a.resolve():(this._observers=[],this._fonts.forEach(function(t){e._observers.push(new s.a(t))}),n.a.all(this._observers.map(function(e){return e.observe()})))},e.prototype.dispose=function(){this._observers.forEach(function(e){return e.dispose()})},e}();t.a=l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),a=o(2),s=o.n(a),l=o(3),p=o.n(l),d=o(120),c=2*r,m=function(e){function t(){return n()(this,t),s()(this,e.apply(this,arguments))}return p()(t,e),t.prototype._serializeTransformOperation=function(e){var t=e.serializeOptions(['start','end','rotation','textureScale'],!0);return t.rotation=(t.rotation+c)%c,1!==t.textureScale&&(t.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete t.textureScale,{type:'crop',options:t}},t}(d.a);t.a=m,m.version='1.0.1'},function(e,t,o){'use strict';var i=o(4),n=o.n(i),a=o(0),s=o.n(a),l=o(2),p=o.n(l),d=o(3),c=o.n(d),m=o(1),_=o(121),g=function(e){function t(){return s()(this,t),p()(this,e.apply(this,arguments))}return c()(t,e),t.prototype._deserializeOperation=function(t){return'selective-blur'===t.type?this._deserializeSelectiveBlurOperation(t):e.prototype._deserializeOperation.call(this,t)},t.prototype._deserializeCropOperation=function(e){var t=e.options,o=t.rotation,i=m.v.fromObject(t.start),a=m.v.fromObject(t.end),s=t.dimensions?m.v.fromObject(t.dimensions):null;o>r&&(o-=2*r);var l={start:i,end:a};'undefined'!=typeof o&&(l.rotation=o);var p=this._editor.operations.getOrCreate('transform');if(this._editor.broadcastTransform(p,l),p.set(l),s){var d=a.clone().subtract(i),c=p.getInputDimensions(!1).multiply(d);p.setTextureScale(s.x/c.x)}return n.a.resolve(p)},t}(_.a);t.a=g,g.version='1.0.1'},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(1),a=r.p.Engine.Filters.OverlayFilter,s;t.a=(s={},n()(s,a.BLEND_MODES.NORMAL,'normal'),n()(s,a.BLEND_MODES.OVERLAY,'overlay'),n()(s,a.BLEND_MODES.HARD_LIGHT,'hard light'),n()(s,a.BLEND_MODES.SOFT_LIGHT,'soft light'),n()(s,a.BLEND_MODES.MULTIPLY,'multiply'),n()(s,a.BLEND_MODES.DARKEN,'darken'),n()(s,a.BLEND_MODES.LIGHTEN,'lighten'),n()(s,a.BLEND_MODES.SCREEN,'screen'),n()(s,a.BLEND_MODES.COLOR_BURN,'color burn'),s)},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(316),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._needsStyleFixes=!0,s._bindAll('_onMouseEnter','_onMouseLeave'),s.state={isHovering:!1},s}return l()(t,e),t.prototype.shouldComponentUpdate=function(e,t){return e.currentControl!==this.props.currentControl||t.isHovering!==this.state.isHovering},t.prototype._onItemClick=function(e){this.props.disabled||(this._onMouseLeave(),this.props.onControlSwitch(e))},t.prototype._onMouseEnter=function(){this.props.disabled||this.setState({isHovering:!0})},t.prototype._onMouseLeave=function(){this.props.disabled||this.setState({isHovering:!1})},t.prototype.fixStyles=function(){if(p.u.Browser.isIElte(10)){var e=this._navigation.offsetHeight;this._gradient.style.height=e+'px'}},t.prototype._getItemCount=function(e){var t=this;return e.reduce(function(e,o){return Array.isArray(o)?e+t._getItemCount(o):e+1},0)},t.prototype._renderListItems=function(){var e=this,t=this.context.editor,o=this.state.isHovering,i=function(i,n,r){var a=t.controls.get(i),s=i===e.props.currentControl;return p.l.createElement(d.a,{key:i,title:i,showTitle:o,iconPath:e._getAssetPath(a.iconPath,!0),activeIconPath:e._getAssetPath(a.activeIconPath,!0),selected:s,onClick:e._onItemClick.bind(e,i),animationDelay:0.02*n,maxAnimationDelay:0.02*r,disabled:e.props.disabled})},n=function(e){return p.l.createElement(d.a,{key:e,isSeparator:!0})},r=[],a=this.context.options.editor.controlsOrder,s=this._getItemCount(a)-1;return a.forEach(function(e,o){if(Array.isArray(e))e.forEach(function(e){t.controls.isEnabled(e)&&r.push(i(e,r.length,s))}),o!==a.length-1&&r.length&&r.push(n('separator-'+o));else{if(!t.controls.isEnabled(e))return;r.push(i(e,r.length,s))}}),r},t.prototype.render=function(){var e=this,t=this.state.isHovering,o=this._getAssetPath('editor/navigation/nav-gradient.png',!0);return p.l.createElement(m,{onMouseLeave:this._onMouseLeave,innerRef:function(t){e._navigation=t}},p.l.createElement(_,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,disabled:this.props.disabled},this._renderListItems()),p.l.createElement(g,{innerRef:function(t){e._gradient=t},style:{backgroundImage:'url('+o+')'},visible:t}))},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c;var m=p.w.div('1y776sn','NavigationContainer'),_=p.w.ul('9phbku','Navigation'),g=p.w.div('1ys8dpb',{visible:'1aw31yo'},'NavigationOverlay')},function(e,t,o){e.exports=o(128).default},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(19),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(193),_=o(51),g=o(49),u=o(32),y=o(96),h=o.n(y),f=o(320),b=o(321),k=o(55),v=o(322),S=o(323),C=function(e){return c.q.byteArrayToString(c.a.decode(e))};/*!
 * This file is part of PhotoEditorSDK.
 *
 * Copyright (C) 2016-2017 9elements GmbH <contact@9elements.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, without
 * modification, are permitted provided that the following license agreement
 * is approved and a legal/financial contract was signed by the user.
 * The license agreement can be found under following link:
 *
 * https://www.photoeditorsdk.com/LICENSE.txt
 */Object(f.a)(c.w,'.pesdk-desktop-editor'),Object(b.a)(c.w);var E=function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var i=l()(this,e.call(this));return i._mediator=new c.e,i._fontLoader=new k.a(i),i._options=o,i._initOptions(),i._initLanguage(),i._initEvents(),i._disposed=!1,i._preloader=new v.a(i,i._options,i._mediator),c.h.setLevel(i._options.logLevel),i._v()&&i.run(),i}return d()(t,e),t.prototype.run=function(){this._theme=this._options.theme,this._injectWebFonts(),this._options.container.style.position='relative',this._options.container.className+=' pesdk-desktop-editor',this._render()},t.prototype._render=function(){var e=c.l.createElement(m.a,{ui:this,mediator:this._mediator,options:this._options});return this._options.renderReturnsComponent?e:void(this._component=c.m.render(e,this._options.container))},t.prototype.export=function(){var e;return(e=this._component).export.apply(e,arguments)},t.prototype.serialize=function(){var e;return(e=this.getEditor()).serialize.apply(e,arguments)},t.prototype.deserialize=function(e){this.getEditor().deserialize(e)},t.prototype.getEditor=function(){return this._component.getEditor()},t.prototype._initOptions=function(){this._options=c.q.defaults(this._options,{language:'en',logLevel:'warn',editor:{},assets:{},responsive:!1,preloader:!0,theme:h.a}),this._options.editor=c.q.defaults(this._options.editor||{},{pixelRatio:'undefined'!=typeof window&&window.devicePixelRatio||1,preferredRenderer:'webgl',displayResizeMessage:!0,maxMegaPixels:{},enableDrag:!0,enableZoom:!0,displayCloseButton:!1,undoMode:'global',tools:['transform','filter','adjustments','focus','text','sticker','brush','frame','overlay'],controlsOrder:[['library'],['transform','filter','adjustments','focus'],['text','sticker','brush','frame','overlay']],operationsOrder:['exif-orientation','orientation','transform','filter','adjustments','radial-focus','mirrored-focus','linear-focus','blur','selective-blur','overlay','sprite','frame','watermark'],controlsOptions:{}}),this._options.editor.maxMegaPixels=c.q.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor.export=c.q.defaults(this._options.editor.export||{},{format:'image/png',type:c.o.IMAGE,download:!0,fileBasename:'photoeditorsdk-export',quality:0.8}),this._options.extensions=c.q.defaults(this._options.extensions||{},{languages:{}}),this._options.assets=c.q.defaults(this._options.assets||{},{baseUrl:'assets',resolver:null})},t.prototype._injectWebFonts=function(){var e=[];for(var t in this._theme.fonts){var o=this._theme.fonts[t],i=this.getAssetPath(o.src,!0,!0);e.push('\n        @font-face {\n          font-family: "'+o.fontFamily+'";\n          src: url(\''+i+'\') format(\'woff\');\n          font-weight: '+o.fontWeight+';\n          font-style: '+o.fontStyle+';\n        }\n      ')}var n='\n      /* Injected by PhotoEditorSDK */\n      '+e.join('\n')+'\n    ';c.w.global(n,!0)},t.prototype._v=function(){return!!this[C('X29wdGlvbnM=')][C('bGljZW5zZQ==')]||(c.h.error(C('TGljZW5zaW5n'),C('Tm8gYGxpY2Vuc2VgIG9wdGlvbiBnaXZlbg==')),c.h.error(C('TGljZW5zaW5n'),C('SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAcGhvdG9lZGl0b3JzZGsuY29tIHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==')),!1)},t.prototype._initEvents=function(){this._mediator.pipeEvents(this)},t.prototype._disposeEvents=function(){this._mediator.unpipeEvents(this)},t.prototype._initLanguage=function(){this._languages=c.q.deepDefaults(this._options.extensions.languages,{de:o(327),en:o(328)}),this._language=this._languages[this._options.language],this._language||c.h.error(this.constructor.name,'Language `'+this._options.language+'` not found!')},t.prototype.translate=function(e,t){return c.u.translate(this._language,e,t)},t.prototype.setImage=function(e){this._component&&this._component.setImage(e)},t.prototype.getAssetPath=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this._options.assets,n=i.baseUrl,r=i.resolver,a=n+'/'+e;if(e.match(/(ftp|http|https):\/\//)&&(a=e),t){if(!o){var s='undefined'!=typeof window&&window.devicePixelRatio||1;if(1<s){var l=/\.[\w?=]+$/;e=e.replace(l,function(e){return'@2x'+e})}}a=n+'/ui/desktop/'+e}return'undefined'!=typeof r&&null!==r&&(a=r(a)),a},t.prototype.getTheme=function(){return this._theme},t.prototype.getFontLoader=function(){return this._fontLoader},t.prototype.getPreloader=function(){return this._preloader},t.prototype.dispose=function(){if(this._disposed)throw new Error('This instance of PhotoEditorSDK is already disposed.');this._disposed=!0,c.m.unmountComponentAtNode(this._options.container),this._disposeEvents()},t}(c.e);E.prototype.identifier='react',E.BaseComponent=c.b,E.React=c.l,E.SharedState=c.s,E.Constants=c.d,E.Utils=c.u,E.ScrollbarComponent=_.a,E.JSONLoader=g.a,E.SliderComponent=u.a,E.Library=S;var x=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.componentDidMount=function(){this._ui=new E(c.q.extend({},this.props,{container:this.refs.container}))},t.prototype.render=function(){var e=c.q.extend({},this.props.style||{});return c.l.createElement('div',{style:e,ref:'container'})},n()(t,[{key:'ui',get:function(){return this._ui}}]),t}(c.l.Component);E.ReactComponent=x,c.p.UI=c.p.UI||{},c.p.UI.DesktopUI=E,t['default']=E},function(e,t,o){o(130);var i=o(7).Object;e.exports=function(e,t,o){return i.defineProperty(e,t,o)}},function(e,t,o){var i=o(16);i(i.S+i.F*!o(23),'Object',{defineProperty:o(22).f})},function(e,t,o){e.exports={default:o(132),__esModule:!0}},function(e,t,o){o(40),o(44),e.exports=o(67).f('iterator')},function(e,t,o){var n=o(60),r=o(61);e.exports=function(e){return function(t,o){var p=r(t)+'',s=n(o),i=p.length,l,a;return 0>s||s>=i?e?'':void 0:(l=p.charCodeAt(s),55296>l||56319<l||s+1===i||56320>(a=p.charCodeAt(s+1))||57343<a?e?p.charAt(s):l:e?p.slice(s,s+2):(l-55296<<10)+(a-56320)+65536)}}},function(e,t,o){'use strict';var i=o(62),n=o(39),r=o(43),a={};o(24)(a,o(8)('iterator'),function(){return this}),e.exports=function(e,t,o){e.prototype=i(a,{next:n(1,o)}),r(e,t+' Iterator')}},function(e,t,o){var n=o(22),r=o(20),a=o(31);e.exports=o(23)?Object.defineProperties:function(e,t){r(e);for(var o=a(t),s=o.length,l=0,i;s>l;)n.f(e,i=o[l++],t[i]);return e}},function(e,t,o){var i=o(26),n=o(91),r=o(137);e.exports=function(e){return function(t,o,a){var s=i(t),l=n(s.length),p=r(a,l),d;if(e&&o!=o){for(;l>p;)if(d=s[p++],d!=d)return!0;}else for(;l>p;p++)if((e||p in s)&&s[p]===o)return e||p||0;return!e&&-1}}},function(e,t,o){var i=o(60);e.exports=function(e,t){return e=i(e),0>e?p(e+t,0):d(e,t)}},function(e,t,o){var i=o(25),n=o(66),r=o(63)('IE_PROTO'),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,r)?e[r]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,o){'use strict';var i=o(140),n=o(141),r=o(30),a=o(26);e.exports=o(87)(Array,'Array',function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,o=this._i++;return!e||o>=e.length?(this._t=void 0,n(1)):'keys'==t?n(0,o):'values'==t?n(0,e[o]):n(0,[o,e[o]])},'values'),r.Arguments=r.Array,i('keys'),i('values'),i('entries')},function(e){e.exports=function(){}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,o){e.exports={default:o(143),__esModule:!0}},function(e,t,o){o(144),o(95),o(150),o(151),e.exports=o(7).Symbol},function(e,t,o){'use strict';var n=o(13),r=o(25),a=o(23),s=o(16),l=o(88),p=o(145).KEY,d=o(29),c=o(64),m=o(43),_=o(42),g=o(8),u=o(67),y=o(68),h=o(146),f=o(147),b=o(148),k=o(20),v=o(26),S=o(59),C=o(39),E=o(62),x=o(149),w=o(94),T=o(22),O=o(31),I=w.f,R=T.f,D=x.f,P=n.Symbol,B=n.JSON,N=B&&B.stringify,A='prototype',z=g('_hidden'),F=g('toPrimitive'),L={}.propertyIsEnumerable,M=c('symbol-registry'),j=c('symbols'),U=c('op-symbols'),V=Object[A],H='function'==typeof P,W=n.QObject,q=!W||!W[A]||!W[A].findChild,K=a&&d(function(){return 7!=E(R({},'a',{get:function(){return R(this,'a',{value:7}).a}})).a})?function(e,t,o){var i=I(V,t);i&&delete V[t],R(e,t,o),i&&e!==V&&R(V,t,i)}:R,Z=function(e){var t=j[e]=E(P[A]);return t._k=e,t},G=H&&'symbol'==typeof P.iterator?function(e){return'symbol'==typeof e}:function(e){return e instanceof P},Y=function(e,t,o){return e===V&&Y(U,t,o),k(e),t=S(t,!0),k(o),r(j,t)?(o.enumerable?(r(e,z)&&e[z][t]&&(e[z][t]=!1),o=E(o,{enumerable:C(0,!1)})):(!r(e,z)&&R(e,z,C(1,{})),e[z][t]=!0),K(e,t,o)):R(e,t,o)},Q=function(e,t){k(e);for(var o=f(t=v(t)),n=0,i=o.length,r;i>n;)Y(e,r=o[n++],t[r]);return e},J=function(e){var t=L.call(this,e=S(e,!0));return this===V&&r(j,e)&&!r(U,e)?!1:t||!r(this,e)||!r(j,e)||r(this,z)&&this[z][e]?t:!0},X=function(e,t){if(e=v(e),t=S(t,!0),e!==V||!r(j,t)||r(U,t)){var o=I(e,t);return o&&r(j,t)&&!(r(e,z)&&e[z][t])&&(o.enumerable=!0),o}},$=function(e){for(var t=D(v(e)),o=[],n=0,i;t.length>n;)r(j,i=t[n++])||i==z||i==p||o.push(i);return o},ee=function(e){for(var t=e===V,o=D(t?U:v(e)),n=[],a=0,i;o.length>a;)r(j,i=o[a++])&&(!t||r(V,i))&&n.push(j[i]);return n};H||(P=function(){if(this instanceof P)throw TypeError('Symbol is not a constructor!');var e=_(0<arguments.length?arguments[0]:void 0),t=function(o){this===V&&t.call(U,o),r(this,z)&&r(this[z],e)&&(this[z][e]=!1),K(this,e,C(1,o))};return a&&q&&K(V,e,{configurable:!0,set:t}),Z(e)},l(P[A],'toString',function(){return this._k}),w.f=X,T.f=Y,o(93).f=x.f=$,o(45).f=J,o(69).f=ee,a&&!o(41)&&l(V,'propertyIsEnumerable',J,!0),u.f=function(e){return Z(g(e))}),s(s.G+s.W+s.F*!H,{Symbol:P});for(var te=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],oe=0;te.length>oe;)g(te[oe++]);for(var te=O(g.store),oe=0;te.length>oe;)y(te[oe++]);s(s.S+s.F*!H,'Symbol',{for:function(e){return r(M,e+='')?M[e]:M[e]=P(e)},keyFor:function(e){if(G(e))return h(M,e);throw TypeError(e+' is not a symbol!')},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!H,'Object',{create:function(e,t){return t===void 0?E(e):Q(E(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),B&&s(s.S+s.F*(!H||d(function(){var e=P();return'[null]'!=N([e])||'{}'!=N({a:e})||'{}'!=N(Object(e))})),'JSON',{stringify:function(e){if(!(void 0===e||G(e))){for(var t=[e],o=1,i,n;arguments.length>o;)t.push(arguments[o++]);return i=t[1],'function'==typeof i&&(n=i),(n||!b(i))&&(i=function(e,t){if(n&&(t=n.call(this,e,t)),!G(t))return t}),t[1]=i,N.apply(B,t)}}}),P[A][F]||o(24)(P[A],F,P[A].valueOf),m(P,'Symbol'),m(Math,'Math',!0),m(n.JSON,'JSON',!0)},function(e,t,o){var i=o(42)('meta'),n=o(28),r=o(25),a=o(22).f,s=0,l=Object.isExtensible||function(){return!0},p=!o(29)(function(){return l(Object.preventExtensions({}))}),d=function(e){a(e,i,{value:{i:'O'+ ++s,w:{}}})},c=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!n(e))return'symbol'==typeof e?e:('string'==typeof e?'S':'P')+e;if(!r(e,i)){if(!l(e))return'F';if(!t)return'E';d(e)}return e[i].i},getWeak:function(e,t){if(!r(e,i)){if(!l(e))return!0;if(!t)return!1;d(e)}return e[i].w},onFreeze:function(e){return p&&c.NEED&&l(e)&&!r(e,i)&&d(e),e}}},function(e,t,o){var i=o(31),n=o(26);e.exports=function(e,t){for(var o=n(e),r=i(o),a=r.length,s=0,l;a>s;)if(o[l=r[s++]]===t)return l}},function(e,t,o){var n=o(31),r=o(69),a=o(45);e.exports=function(e){var t=n(e),o=r.f;if(o)for(var s=o(e),l=a.f,p=0,i;s.length>p;)l.call(e,i=s[p++])&&t.push(i);return t}},function(e,t,o){var i=o(34);e.exports=Array.isArray||function(e){return'Array'==i(e)}},function(e,t,o){var i=o(26),n=o(93).f,r={}.toString,a='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&'[object Window]'==r.call(e)?s(e):n(i(e))}},function(e,t,o){o(68)('asyncIterator')},function(e,t,o){o(68)('observable')},function(e,t,o){e.exports={default:o(153),__esModule:!0}},function(e,t,o){o(154),e.exports=o(7).Object.setPrototypeOf},function(e,t,o){var i=o(16);i(i.S,'Object',{setPrototypeOf:o(155).set})},function(e,t,o){var i=o(28),n=o(20),r=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+': can\'t set as prototype!')};e.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(e,t,i){try{i=o(33)(Function.call,o(94).f(Object.prototype,'__proto__').set,2),i(e,[]),t=!(e instanceof Array)}catch(o){t=!0}return function(e,o){return r(e,o),t?e.__proto__=o:i(e,o),e}}({},!1):void 0),check:r}},function(e,t,o){e.exports={default:o(157),__esModule:!0}},function(e,t,o){o(158);var i=o(7).Object;e.exports=function(e,t){return i.create(e,t)}},function(e,t,o){var i=o(16);i(i.S,'Object',{create:o(62)})},function(e){e.exports=o},function(e,t,o){'use strict';var i=o(161),n=o(162),r=o(163);e.exports=function(){function e(e,t,o,i,a,s){s===r||n(!1,'Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types')}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return o.checkPropTypes=i,o.PropTypes=o,o}},function(e){'use strict';function t(e){return function(){return e}}var o=function(){};o.thatReturns=t,o.thatReturnsFalse=t(!1),o.thatReturnsTrue=t(!0),o.thatReturnsNull=t(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e){'use strict';var t=function(){};!1,e.exports=function(o,i,n,r,a,s,l,e){if(t(i),!o){var p;if(void 0===i)p=new Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var d=[n,r,a,s,l,e],c=0;p=new Error(i.replace(/%s/g,function(){return d[c++]})),p.name='Invariant Violation'}throw p.framesToPop=1,p}}},function(e){'use strict';e.exports='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'},function(e,t,o){(function(t,i){e.exports=i(o(47),o(48))})(this,function(e,t){return function(e){function t(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p='',t(0)}([function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),t.ThemeProvider=t.withTheme=void 0;var n=o(1),r=i(n),a=o(20),s=i(a),l=o(21),p=i(l),d=o(22),c=i(d),m=o(23),_=i(m);t.default=function(e){var t=new r.default(e),o=function(e){if(e instanceof p.default){var o={};return s.default.forEach(function(i){o[i]=function(o,n,r){return'string'==typeof n&&(r=n,n=void 0),t.createComponent(i,{styles:o,variations:n,name:r,baseStyles:e})}}),o}return function(o,i,n){return'string'==typeof i&&(n=i,i=void 0),t.createComponent(e,{styles:o,variations:i,name:n})}};return s.default.forEach(function(e){o[e]=function(o,i,n){return'string'==typeof i&&(n=i,i=void 0),t.createComponent(e,{styles:o,variations:i,name:n})}}),o.global=function(e){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=t.getOptions(),n=i.injection,r=i.theme;if(n||o){'function'==typeof e&&(e=e(r));var a=t.getStylesBuffer();a.bufferCSS(e),a.flushToStyleTag(o)}},o.css=function(e,o,i){return'string'==typeof o&&(i=o,o=void 0),new p.default(t,{styles:e,variations:o,name:i||'baseStyles'})},['renderToStatic'].forEach(function(e){o[e]=t[e].bind(t)}),o},t.withTheme=c.default,t.ThemeProvider=_.default},function(e,t,o){(function(e){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=o(3),s=i(a),l=o(5),p=i(l),d=o(4),c='undefined'!=typeof e&&'production'===e.env.NODE_ENV,m=function(){function e(t){n(this,e),this._options=(0,d.defaults)(t,{injection:!0,batchInjection:!0,minified:!1,autoPrefix:!0,cssSelectorPrefix:'',classNamePrefix:'',hashSeparator:'-',nameSeparator:'__',variationSeparator:'--',styleNode:null,injectionMode:c?'fast':'debug',hashedStyles:!1}),this._stylesBuffer=new s.default(this),this._componentFactory=new p.default(this,this._options)}return r(e,[{key:'createComponent',value:function(e,t){return this._componentFactory.createComponent(e,t)}},{key:'renderToStatic',value:function(e){this._stylesBuffer.disableInjection();var t=e(),o=this._stylesBuffer.flushToString(!0);return this._stylesBuffer.enableInjection(),{css:{content:o},html:t}}},{key:'getStylesBuffer',value:function(){return this._stylesBuffer}},{key:'getOptions',value:function(){return this._options}}]),e}();t.default=m}).call(t,o(2))},function(e){function t(){throw new Error('setTimeout has not been defined')}function o(){throw new Error('clearTimeout has not been defined')}function n(e){if(d===setTimeout)return setTimeout(e,0);if((d===t||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===o||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function r(){_&&u&&(_=!1,u.length?m=u.concat(m):g=-1,m.length&&a())}function a(){if(!_){var e=n(r);_=!0;for(var t=m.length;t;){for(u=m,m=[];++g<t;)u&&u[g].run();g=-1,t=m.length}u=null,_=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var p=e.exports={},d,c;(function(){try{d='function'==typeof setTimeout?setTimeout:t}catch(o){d=t}try{c='function'==typeof clearTimeout?clearTimeout:o}catch(t){c=o}})();var m=[],_=!1,g=-1,u;p.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];m.push(new s(e,t)),1!==m.length||_||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title='browser',p.browser=!0,p.env={},p.argv=[],p.version='',p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(){return[]},p.binding=function(){throw new Error('process.binding is not supported')},p.cwd=function(){return'/'},p.chdir=function(){throw new Error('process.chdir is not supported')},p.umask=function(){return 0}},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){var o=[],i=!0,n=!1,r;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done)&&(o.push(s.value),!(t&&o.length===t));i=!0);}catch(e){n=!0,r=e}finally{try{!i&&a['return']&&a['return']()}finally{if(n)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),r=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=o(4),s=function(){function e(t){i(this,e),this._adonis=t,this._injectionEnabled=!0,this._bufferedSelectors={},this._buffer=[],this._styleNode=this._findStyleNode(),this._sheet=this._findSheet()}return r(e,[{key:'_findSheet',value:function(){if(this._styleNode){if(this._styleNode.sheet)return this._styleNode.sheet;for(var e=document,t=e.styleSheets,o=0,i;o<t.length;o++)if(i=t[o],i.ownerNode===this._styleNode)return i}}},{key:'_findStyleNode',value:function(){var e=this._adonis.getOptions(),t=e.styleNode;return t?t:'undefined'==typeof document?null:(t=document.createElement('style'),t.setAttribute('data-adonis',!0),document.head.appendChild(t),t)}},{key:'bufferCSS',value:function(e){this._buffer.push(e)}},{key:'bufferRulesets',value:function(e){var t=this;e.forEach(function(e){var o=n(e,2),i=o[0],r=o[1];t._bufferedSelectors[i]=!0}),Array.prototype.push.apply(this._buffer,e.map(function(e){var t=n(e,2),o=t[1];return o}))}},{key:'isSelectorBuffered',value:function(e){return this._bufferedSelectors[e]}},{key:'disableInjection',value:function(){this._injectionEnabled=!1}},{key:'enableInjection',value:function(){this._injectionEnabled=!0}},{key:'flushToString',value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this._adonis.getOptions(),o=t.minified,i=this._buffer.join(o?'':'\n\n');return this._buffer=[],e&&(this._bufferedSelectors={}),i}},{key:'_injectFast',value:function(){var e=this;this._buffer.forEach(function(t){e._sheet.insertRule(t,e._sheet.cssRules.length)})}},{key:'_injectDebug',value:function(){var e=this.flushToString();if(e){var t=this._adonis.getOptions(),o=t.minified,i=0<this._styleNode.innerHTML.length;this._styleNode.appendChild(document.createTextNode((o||!i?'':'\n\n')+e))}}},{key:'_flushToStyleTag',value:function(){var e=this._adonis.getOptions(),t=e.injectionMode;if('fast'===t&&this._sheet.insertRule)this._injectFast();else if('debug'===t)this._injectDebug();else throw new Error('Unknown CSS injection mode: `'+t+'`');this._buffer=[]}},{key:'flushToStyleTag',value:function(){var e=this;if(this._injectionEnabled){var t=this._adonis.getOptions(),o=t.batchInjection;!this._nextTick&&o?this._nextTick=(0,a.requestAnimationFrame)(function(){e._nextTick=null,e._flushToStyleTag()}):!o&&this._flushToStyleTag()}}}]),e}();t.default=s},function(e,t){(function(e){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i=t.defaults=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var r={};for(var a in e)r[a]=e[a];for(var s=0,i;s<o.length;s++)for(var l in i=o[s],i)'undefined'==typeof r[l]&&(r[l]=i[l]);return r},n=t.hashObject=function(e){for(var t=JSON.stringify(e),o=t.length,n=o,r=0,i;4<=o;)i=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,i=1540483477*(65535&i)+((65535&1540483477*(i>>>16))<<16),i^=i>>>24,i=1540483477*(65535&i)+((65535&1540483477*(i>>>16))<<16),n=1540483477*(65535&n)+((65535&1540483477*(n>>>16))<<16)^i,o-=4,++r;switch(o){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n^=255&t.charCodeAt(r),n=1540483477*(65535&n)+((65535&1540483477*(n>>>16))<<16);}return n^=n>>>13,n=1540483477*(65535&n)+((65535&1540483477*(n>>>16))<<16),n^=n>>>15,(n>>>0).toString(36)},r=t.flatten=function e(t){return t.reduce(function(t,o){return t.concat(Array.isArray(o)?e(o):o)},[])},a=t.toStaticStyles=function e(t){var i={};for(var n in t){var r=t[n];'object'===('undefined'==typeof r?'undefined':o(r))?i[n]=e(r):'function'!=typeof r&&(i[n]=r)}return i},s=t.deepMerge=function e(t,i){var n={};for(var r in t)n[r]=t[r];for(var a in i)n[a]='object'===o(i[a])&&t[a]?e(t[a],i[a]):i[a];return n},l=t.deepMergeAll=function(e){return e.reduce(function(e,t){return s(e,t)},{})},d=t.resolveStylesObject=function e(t,i){var n={};for(var r in t){var a=t[r];if('object'===('undefined'==typeof a?'undefined':o(a)))n[r]=e(a,i);else if('function'==typeof a){if(!i)throw new Error('Trying to resolve a dynamic property without a `theme` given.');n[r]=a(i)}else n[r]=a}return n},c=t.findAllCombinations=function(e){return function e(t,o){var n=t[0];if('undefined'==typeof n)return o;for(var r=0,i=o.length;r<i;++r)o.push(o[r].concat(n));return e(t.slice(1),o)}(e,[[]]).slice(1)},m=t.requestAnimationFrame=function(){for(var t=0,o='undefined'==typeof e?window:e,i=o.requestAnimationFrame,n=['ms','moz','webkit','o'],r=0;r<n.length&&!i;++r)i=o[n[r]+'RequestAnimationFrame'];return!i&&'undefined'!=typeof o&&o.setImmediate&&(i=o.setImmediate),i||(i=function(e){var o=new Date().getTime(),i=p(0,16-(o-t)),n=setTimeout(function(){e(o+i)},i);return t=o+i,n}),i}()}).call(t,function(){return this}())},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),l=o(6),p=i(l),d=o(4),c=o(7),m=i(c),_=o(9),g=i(_),u=o(10),y=i(u),h=o(19),f=i(h),b=function(){function e(t,o){a(this,e),this._adonis=t,this._options=o}return s(e,[{key:'_getName',value:function(e){return'string'==typeof e?e:e.name?e.name:'adonis'}},{key:'_getTargetStyles',value:function(e){var t=[e.adonisBaseStyles,e.adonisStyles];return e.adonisTarget&&t.unshift(this._getTargetStyles(e.adonisTarget)),e.RootElement&&t.unshift(this._getTargetStyles(e.RootElement)),(0,d.flatten)(t).filter(function(e){return e})}},{key:'createComponent',value:function(e,t){var o=this._adonis,i=t.name;i||(i=this._getName(e));var c='string'==typeof e,_=e.prototype instanceof m.default,u=!_&&e.prototype instanceof l.Component,h=t.styles,b=t.variations,k=t.baseStyles;b=b||{};var v=new g.default(o,{styles:h,variations:b,name:i}),S=o.getOptions(),C=S.injection,E=S.theme,x=S.hashedStyles;if('pre'===C&&!x){var w=this._getTargetStyles(e,i),T,O;T=w.concat([k,v]).filter(function(e){return e}),O=new f.default(o,T,E),O.bufferRulesets();var D=o.getStylesBuffer();D.flushToStyleTag()}var I=function(l){function m(){var e;a(this,m);for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=n(this,(e=m.__proto__||Object.getPrototypeOf(m)).call.apply(e,[this].concat(i)));return s._updateStylesManager(),s._adonis=o,s}return r(m,l),s(m,[{key:'_updateStylesManager',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props;this._allStyles=[k,v].concat(e.styles||[]).filter(function(e){return e});var t=this._getActiveVariationsFromProps(e);this._stylesManager=new y.default(o,this._allStyles,t,this.context.theme)}},{key:'componentWillReceiveProps',value:function(e){var t=this,o=e.styles!==this.props.styles,i=!1,n=(0,d.flatten)(this._allStyles.map(function(e){return e.getVariations()}));n.forEach(function(o){e[o]!==t.props[o]&&(i=!0)}),(o||i)&&this._updateStylesManager(e)}},{key:'_cloneProps',value:function(){var e=this,t={};return Object.keys(this.props).forEach(function(o){t[o]=e.props[o]}),t}},{key:'_getActiveVariationsFromProps',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props,t={};return this._allStyles.forEach(function(e){return e.getVariations().forEach(function(e){return t[e]=!0})}),Object.keys(t).filter(function(t){return!0===e[t]}).sort()}},{key:'_buildClassName',value:function(){var e=this.props.className,t=[];t.push(e);var o=this._stylesManager.getClassName();return t.push(o),{className:t.filter(function(e){return e}).join(' ')}}},{key:'_shouldInjectCSS',value:function(){return!C||x?!1:c||u&&!_}},{key:'render',value:function(){var o=this._cloneProps(),i=this._buildClassName(),n=i.className,r=this._adonis.getStylesBuffer();if(this._shouldInjectCSS()&&(this._stylesManager.bufferRulesets(),!0===C&&!x&&r.flushToStyleTag()),c){var a=t.variations;a&&Object.keys(a).forEach(function(e){delete o[e]}),this.props._activeParentVariations&&this.props._activeParentVariations.forEach(function(e){delete o[e]}),k&&k.getVariations().forEach(function(e){delete o[e]})}c?o.className=n:(o.styles=(0,d.flatten)([v].concat(this.props.styles||[])),o._activeParentVariations=Object.keys(b||{}).concat(this.props._activeParentVariations||[]));var s=this.props,l=s.children,m=s.innerRef;return m&&(u||c?o.ref=m:_&&(o.innerRef=m)),c&&(delete o.styles,delete o.innerRef,delete o._activeParentVariations),p.default.createElement(e,o,l)}}],[{key:'name',get:function(){return i}}]),m}(m.default);return I.contextTypes=m.default.contextTypes,I.adonisTarget=e,I.adonisStyles=v,I.adonisBaseStyles=k,I}}]),e}();t.default=b},function(t){t.exports=e},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var a=o(6),s=o(8),l=function(e){return e&&e.__esModule?e:{default:e}}(s),p=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),t}(a.Component);t.default=p,p.contextTypes={theme:l.default.object}},function(e){e.exports=t},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=o(4),a=function(){function e(t,o){i(this,e),this._adonis=t,this._options=(0,r.defaults)(o,{variations:[],styles:{},name:'Unnamed'});var n=this._adonis.getOptions(),a=n.hashedStyles;if(a&&'string'!=typeof this._options.styles)throw new Error('Passing style objects with `hashedStyles` set to true is invalid.');this._hash=a?this._options.styles:(0,r.hashObject)(this._options.styles),this._variationHashes=this._hashVariations()}return n(e,[{key:'_hashVariations',value:function(){var e={},t=this._adonis.getOptions(),o=t.hashedStyles,i=this._options.variations;for(var n in i){var a=i[n];e[n]=o?a:(0,r.hashObject)(a)}return e}},{key:'getIdentifierForVariations',value:function(e){var t=this,o=this._options.name,i=this._adonis.getOptions(),n=i.hashSeparator,r=i.variationSeparator,a=''+o+n+this._hash;return e.sort().forEach(function(e){var o=t._variationHashes[e];o&&(a+=''+r+e+n+o)}),a}},{key:'getStyles',value:function(){return this._options.styles}},{key:'getVariationStyles',value:function(e){var t=this._options.variations;return e?e.map(function(e){return t[e]}).filter(function(e){return e}):t}},{key:'getVariations',value:function(){return Object.keys(this._options.variations||{})}}]),e}();t.default=a},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),r=o(4),a=o(11),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(t,o,n,r){i(this,e),this._adonis=t,this._styles=o,this._theme=r,this._activeVariations=n,this._className=this._generateClassName(this._activeVariations),this._baseSelector='.'+this._className,this._rulesets=this._generateRulesets()}return n(e,[{key:'generateCSS',value:function(){return this._rulesets.map(function(e){return e.toCSS()}).filter(function(e){return e})}},{key:'bufferRulesets',value:function(){var e=this._adonis.getStylesBuffer(),t=this._rulesets.filter(function(t){return!e.isSelectorBuffered(t.getSelector())&&t.hasDeclarations()}).map(function(e){return[e.getSelector(),e.toCSS()]});e.bufferRulesets(t)}},{key:'_getCombinedStyles',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(0,r.flatten)(this._styles.map(function(t){return[t.getStyles(),t.getVariationStyles(e)]}));return(0,r.deepMergeAll)(t)}},{key:'_generateClassName',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this._adonis.getOptions(),o=t.nameSeparator,i=t.classNamePrefix;return i+this._styles.map(function(t){return t.getIdentifierForVariations(e)}).join(o)}},{key:'_generateRulesets',value:function(){var e=new s.default(this._adonis,this._baseSelector,this._getCombinedStyles(this._activeVariations),{theme:this._theme});return(0,r.flatten)([e,e.getSubRulesets()])}},{key:'getClassName',value:function(){return this._className}}]),e}();t.default=l},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var r=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=o(4),s=o(12),l=i(s),p=o(14),d=i(p),c=function(){function e(t,o,i,r){n(this,e),this._options=r,this._adonis=t,this._selector=o,this._styles=i,this._resolvedStyles=(0,a.resolveStylesObject)(this._styles,this._options.theme);var s=this._adonis.getOptions(),l=s.hashedStyles;this._hash=l?this._styles:(0,a.hashObject)(this._styles);var p=this._parseStyles(),d=p.subRulesets,c=p.declarations;this._subRulesets=d,this._declarations=c}return r(e,[{key:'_getSubRuleset',value:function(t,o){for(var n=this,r=this._adonis.getOptions(),s=r.minified,l=null,p=function(t,i){var r=(0,a.deepMerge)(n._options,{parentSelector:i});l=new e(n._adonis,t,o,r)},c=0,i;c<d.default.length;c++)if(i=d.default[c],i(t,this._selector,p,s),l)return l}},{key:'_parseStyles',value:function(){var e=[],t=[];for(var o in this._resolvedStyles){var i=this._resolvedStyles[o],n=this._getSubRuleset(o,i);n?e.push(n,n.getSubRulesets()):t.push(new l.default(this._adonis,o,i))}return{subRulesets:e,declarations:t}}},{key:'toCSS',value:function(){var e=this._options.parentSelector,t=this._adonis.getOptions(),o=t.minified,i=t.cssSelectorPrefix;if(0===this._declarations.length)return null;var n=e&&e.match(/^@/),r='',a='';e?(i&&!n&&(r+=i),r+=e+(o?'{':' {\n'),a='  '):r+=i;var s='';return i&&n&&(s+=i),s+=this._selector,r+=a+s+(o?'{':' {\n'),this._declarations.forEach(function(e){r+=a+e.toCSS()+(o?'':'\n')}),r+=a+'}',e&&(r+=o?'}':'\n}'),r}},{key:'getSubRulesets',value:function(){return this._subRulesets}},{key:'hasDeclarations',value:function(){return 0!==this._declarations.length}},{key:'getSelector',value:function(){return this._selector}}]),e}();t.default=c},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(t,'__esModule',{value:!0});var n=function(){function e(e,t){var o=[],i=!0,n=!1,r;try{for(var a=e[Symbol.iterator](),s;!(i=(s=a.next()).done)&&(o.push(s.value),!(t&&o.length===t));i=!0);}catch(e){n=!0,r=e}finally{try{!i&&a['return']&&a['return']()}finally{if(n)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),r=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),a=o(13),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(){function e(t,o,n){i(this,e),this._adonis=t,this.key=o,this.value=n,this.cssKey=this.key.replace(/([A-Z])/g,function(e){return'-'+e[0].toLowerCase()})}return r(e,[{key:'_getAutoPrefixedKeyPairs',value:function(){var e=this,t=s.default[this.key],o=[];return t&&t.forEach(function(t){o.push(['-'+t+'-'+e.cssKey,e.value])}),o}},{key:'toCSS',value:function(){var e=this._adonis.getOptions(),t=e.minified,o=e.autoPrefix,i=[[this.cssKey,this.value]];return o&&(i=i.concat(this._getAutoPrefixedKeyPairs())),i.map(function(e){var o=n(e,2),i=o[0],r=o[1];return''+(t?'':'  ')+i+':'+(t?'':' ')+r+';'}).join(t?'':'\n')}}]),e}();t.default=l},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var o='webkit',i='moz',n='ms';t.default={appearance:[o,i],userSelect:[o,i,n],textEmphasisPosition:[o],textEmphasis:[o],textEmphasisStyle:[o],textEmphasisColor:[o],boxDecorationBreak:[o],clipPath:[o],maskImage:[o],maskMode:[o],maskRepeat:[o],maskPosition:[o],maskClip:[o],maskOrigin:[o],maskSize:[o],maskComposite:[o],mask:[o],maskBorderSource:[o],maskBorderMode:[o],maskBorderSlice:[o],maskBorderWidth:[o],maskBorderOutset:[o],maskBorderRepeat:[o],maskBorder:[o],maskType:[o],textDecorationStyle:[o],textDecorationSkip:[o],textDecorationLine:[o],textDecorationColor:[o],filter:[o],fontFeatureSettings:[o],breakAfter:[o,i,n],breakBefore:[o,i,n],breakInside:[o,i,n],columnCount:[o,i],columnFill:[o,i],columnGap:[o,i],columnRule:[o,i],columnRuleColor:[o,i],columnRuleStyle:[o,i],columnRuleWidth:[o,i],columns:[o,i],columnSpan:[o,i],columnWidth:[o,i],flex:[o],flexBasis:[o],flexDirection:[o],flexGrow:[o],flexFlow:[o],flexShrink:[o],flexWrap:[o],alignContent:[o],alignItems:[o],alignSelf:[o],justifyContent:[o],order:[o],transform:[o],transformOrigin:[o],transformOriginX:[o],transformOriginY:[o],backfaceVisibility:[o],perspective:[o],perspectiveOrigin:[o],transformStyle:[o],transformOriginZ:[o],animation:[o],animationDelay:[o],animationDirection:[o],animationFillMode:[o],animationDuration:[o],animationIterationCount:[o],animationName:[o],animationPlayState:[o],animationTimingFunction:[o],backdropFilter:[o],fontKerning:[o],scrollSnapType:[o,n],scrollSnapPointsX:[o,n],scrollSnapPointsY:[o,n],scrollSnapDestination:[o,n],scrollSnapCoordinate:[o,n],shapeImageThreshold:[o],shapeImageMargin:[o],shapeImageOutside:[o],hyphens:[o,i,n],flowInto:[o,n],flowFrom:[o,n],regionFragment:[o,n],textAlignLast:[i],tabSize:[i],wrapFlow:[n],wrapThrough:[n],wrapMargin:[n],gridTemplateColumns:[n],gridTemplateRows:[n],gridTemplateAreas:[n],gridTemplate:[n],gridAutoColumns:[n],gridAutoRows:[n],gridAutoFlow:[n],grid:[n],gridRowStart:[n],gridColumnStart:[n],gridRowEnd:[n],gridRow:[n],gridColumn:[n],gridColumnEnd:[n],gridColumnGap:[n],gridRowGap:[n],gridArea:[n],gridGap:[n],textSizeAdjust:[o,n],transitionDelay:[o],transitionDuration:[o],transitionProperty:[o],transitionTimingFunction:[o]}},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var n=o(15),r=i(n),a=o(16),s=i(a),l=o(17),p=i(l),d=o(18),c=i(d);t.default=[r.default,s.default,p.default,c.default]},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o,i){if(e=e.trim(),'>'!==e[0])return null;e=e.slice(1).trim();var n=t;return i||(n+=' '),n+='>',i||(n+=' '),n+=e,o(n)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){if(e=e.trim(),'&'!==e[0])return null;var n=!e.match(/^&\s+/);e=e.replace(/^&/,'');var i=e.split(',').map(function(e){return e.trim()}).map(function(e,o){return''+t+(0===o&&n?'':' ')+e}).join(', ');return o(i)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){if(e=e.trim(),':'!==e[0])return null;var i=t+e;return o(i)}},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(e,t,o){return e=e.trim(),'@'===e[0]?o(t,e):null}},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),l=o(4),p=o(11),d=i(p),c=o(10),m=i(c),_=function(e){function t(e,o,i){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o,[],i))}return a(t,e),s(t,[{key:'_generateVariationRulesets',value:function(){var e=this,t=(0,l.flatten)(this._styles.map(function(e){return e.getVariations()})),o=(0,l.findAllCombinations)(t);return o.map(function(t){var o=e._generateClassName(t),i=new d.default(e._adonis,'.'+o,e._getCombinedStyles(t),{theme:e._theme});return[i,i.getSubRulesets()]})}},{key:'_generateRulesets',value:function(){var e=new d.default(this._adonis,this._baseSelector,this._getCombinedStyles(),{theme:this._theme}),t=[e,e.getSubRulesets()];return t.push(this._generateVariationRulesets()),(0,l.flatten)(t)}}]),t}(m.default);t.default=_},function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=['a','abbr','address','area','article','aside','audio','b','base','bdi','bdo','big','blockquote','body','br','button','canvas','caption','cite','code','col','colgroup','data','datalist','dd','del','details','dfn','dialog','div','dl','dt','em','embed','fieldset','figcaption','figure','footer','form','h1','h2','h3','h4','h5','h6','head','header','hgroup','hr','html','i','iframe','img','input','ins','kbd','keygen','label','legend','li','link','main','map','mark','menu','menuitem','meta','meter','nav','noscript','object','ol','optgroup','option','output','p','param','picture','pre','progress','q','rp','rt','ruby','s','samp','script','section','select','small','source','span','strong','style','sub','summary','sup','table','tbody','td','textarea','tfoot','th','thead','time','title','tr','track','u','ul','var','video','wbr','circle','clipPath','defs','ellipse','g','image','line','linearGradient','mask','path','pattern','polygon','polyline','radialGradient','rect','stop','svg','text','tspan']},function(e,t,o){'use strict';function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function n(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var a=o(9),s=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),t}(s.default);t.default=l},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),l=o(6),p=i(l),d=o(8),c=i(d);t.default=function(e){var t=function(t){function o(){return n(this,o),r(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return a(o,t),s(o,[{key:'_cloneProps',value:function(){var e=this,t={};return Object.keys(this.props).forEach(function(o){t[o]=e.props[o]}),t}},{key:'render',value:function(){var t=this._cloneProps(),o=t.innerRef;return o&&(t.ref=o),delete t.innerRef,p.default.createElement(e,t)}}]),o}(p.default.Component);return t.contextTypes={theme:c.default.object},t}},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function a(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,'__esModule',{value:!0});var s=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,'value'in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),l=o(6),p=i(l),d=o(8),c=i(d),m=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:'getChildContext',value:function(){var e={};for(var t in this.context)e[t]=this.context;return e.theme=this.props.theme,e}},{key:'render',value:function(){return this.props.children?p.default.Children.only(this.props.children):null}}]),t}(l.Component);t.default=m,m.childContextTypes={theme:c.default.object.isRequired},m.contextTypes={theme:c.default.object}}])})},function(e,t,o){o(95),o(40),o(44),o(166),e.exports=o(7).Promise},function(e,t,o){'use strict';var i=o(41),n=o(13),r=o(33),a=o(70),s=o(16),l=o(28),p=o(57),d=o(167),c=o(168),m=o(171),_=o(71).set,g=o(173)(),u='Promise',y=n.TypeError,h=n.process,f=n[u],h=n.process,b='process'==a(h),k=function(){},v=!!function(){try{var e=f.resolve(1),t=(e.constructor={})[o(8)('species')]=function(e){e(k,k)};return(b||'function'==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(t){}}(),S=function(e,t){return e===t||e===f&&t===A},C=function(e){var t;return l(e)&&'function'==typeof(t=e.then)&&t},E=function(e){return S(f,e)?new x(e):new N(e)},x=N=function(e){var t,o;this.promise=new e(function(e,i){if(t!=void 0||o!=void 0)throw y('Bad Promise constructor');t=e,o=i}),this.resolve=p(t),this.reject=p(o)},w=function(e){try{e()}catch(t){return{error:t}}},T=function(e,t){if(!e._n){e._n=!0;var o=e._c;g(function(){for(var n=e._v,r=1==e._s,a=0,i=function(t){var o=r?t.ok:t.fail,i=t.resolve,a=t.reject,s=t.domain,l,p;try{o?(!r&&(2==e._h&&I(e),e._h=1),!0===o?l=n:(s&&s.enter(),l=o(n),s&&s.exit()),l===t.promise?a(y('Promise-chain cycle')):(p=C(l))?p.call(l,i,a):i(l)):a(n)}catch(t){a(t)}};o.length>a;)i(o[a++]);e._c=[],e._n=!1,t&&!e._h&&O(e)})}},O=function(e){_.call(n,function(){var t=e._v,o,i,r;if(D(e)&&(o=w(function(){b?h.emit('unhandledRejection',t,e):(i=n.onunhandledrejection)?i({promise:e,reason:t}):(r=n.console)&&r.error&&r.error('Unhandled promise rejection',t)}),e._h=b||D(e)?2:1),e._a=void 0,o)throw o.error})},D=function(e){if(1==e._h)return!1;for(var t=e._a||e._c,o=0,i;t.length>o;)if(i=t[o++],i.fail||!D(i.promise))return!1;return!0},I=function(e){_.call(n,function(){var t;b?h.emit('rejectionHandled',e):(t=n.onrejectionhandled)&&t({promise:e,reason:e._v})})},R=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),T(t,!0))},P=function(e){var t=this,o;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw y('Promise can\'t be resolved itself');(o=C(e))?g(function(){var i={_w:t,_d:!1};try{o.call(e,r(P,i,1),r(R,i,1))}catch(t){R.call(i,t)}}):(t._v=e,t._s=1,T(t,!1))}catch(o){R.call({_w:t,_d:!1},o)}}},B,N,A;v||(f=function(e){d(this,f,u,'_h'),p(e),B.call(this);try{e(r(P,this,1),r(R,this,1))}catch(e){R.call(this,e)}},B=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},B.prototype=o(174)(f.prototype,{then:function(e,t){var o=E(m(this,f));return o.ok='function'!=typeof e||e,o.fail='function'==typeof t&&t,o.domain=b?h.domain:void 0,this._c.push(o),this._a&&this._a.push(o),this._s&&T(this,!1),o.promise},catch:function(e){return this.then(void 0,e)}}),x=function(){var e=new B;this.promise=e,this.resolve=r(P,e,1),this.reject=r(R,e,1)}),s(s.G+s.W+s.F*!v,{Promise:f}),o(43)(f,u),o(175)(u),A=o(7)[u],s(s.S+s.F*!v,u,{reject:function(e){var t=E(this),o=t.reject;return o(e),t.promise}}),s(s.S+s.F*(i||!v),u,{resolve:function(e){if(e instanceof f&&S(e.constructor,this))return e;var t=E(this),o=t.resolve;return o(e),t.promise}}),s(s.S+s.F*!(v&&o(176)(function(e){f.all(e)['catch'](k)})),u,{all:function(e){var t=this,o=E(t),i=o.resolve,n=o.reject,r=w(function(){var o=[],r=0,a=1;c(e,!1,function(e){var s=r++,l=!1;o.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,o[s]=e,--a||i(o))},n)}),--a||i(o)});return r&&n(r.error),o.promise},race:function(e){var t=this,o=E(t),i=o.reject,n=w(function(){c(e,!1,function(e){t.resolve(e).then(o.resolve,i)})});return n&&i(n.error),o.promise}})},function(e){e.exports=function(e,t,o,i){if(!(e instanceof t)||i!==void 0&&i in e)throw TypeError(o+': incorrect invocation!');return e}},function(e,t,o){var i=o(33),n=o(169),r=o(170),a=o(20),s=o(91),l=o(98),p={},d={},t=e.exports=function(e,t,o,c,m){var _=m?function(){return e}:l(e),g=i(o,c,t?2:1),u=0,y,h,f,b;if('function'!=typeof _)throw TypeError(e+' is not iterable!');if(r(_)){for(y=s(e.length);y>u;u++)if(b=t?g(a(h=e[u])[0],h[1]):g(e[u]),b===p||b===d)return b;}else for(f=_.call(e);!(h=f.next()).done;)if(b=n(f,g,h.value,t),b===p||b===d)return b};t.BREAK=p,t.RETURN=d},function(e,t,o){var i=o(20);e.exports=function(t,e,o,n){try{return n?e(i(o)[0],o[1]):e(o)}catch(o){var r=t['return'];throw void 0!==r&&i(r.call(t)),o}}},function(e,t,o){var i=o(30),n=o(8)('iterator'),r=Array.prototype;e.exports=function(e){return e!==void 0&&(i.Array===e||r[n]===e)}},function(e,t,o){var i=o(20),n=o(57),r=o(8)('species');e.exports=function(e,t){var o=i(e).constructor,a;return o===void 0||(a=i(o)[r])==void 0?t:n(a)}},function(e){e.exports=function(e,t,o){var i=o===void 0;switch(t.length){case 0:return i?e():e.call(o);case 1:return i?e(t[0]):e.call(o,t[0]);case 2:return i?e(t[0],t[1]):e.call(o,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(o,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(o,t[0],t[1],t[2],t[3]);}return e.apply(o,t)}},function(e,t,o){var i=o(13),n=o(71).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l='process'==o(34)(a);e.exports=function(){var e=function(){var e,i;for(l&&(e=a.domain)&&e.exit();t;){i=t.fn,t=t.next;try{i()}catch(i){throw t?p():o=void 0,i}}o=void 0,e&&e.enter()},t,o,p;if(l)p=function(){a.nextTick(e)};else if(r){var d=!0,c=document.createTextNode('');new r(e).observe(c,{characterData:!0}),p=function(){c.data=d=!d}}else if(s&&s.resolve){var m=s.resolve();p=function(){m.then(e)}}else p=function(){n.call(i,e)};return function(e){var i={fn:e,next:void 0};o&&(o.next=i),t||(t=i,p()),o=i}}},function(e,t,o){var i=o(24);e.exports=function(e,t,o){for(var n in t)o&&e[n]?e[n]=t[n]:i(e,n,t[n]);return e}},function(e,t,o){'use strict';var i=o(13),n=o(7),r=o(22),a=o(23),s=o(8)('species');e.exports=function(e){var t='function'==typeof n[e]?n[e]:i[e];a&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,o){var i=o(8)('iterator'),n=!1;try{var r=[7][i]();r['return']=function(){n=!0},Array.from(r,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!n)return!1;var o=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:o=!0}},r[i]=function(){return a},e(r)}catch(t){}return o}},function(e,t,o){'use strict';var i=o(35),n=o.n(i),r=o(99),a=o(178),s=o(49),p=n.a.Utils,d=n.a.Math.Vector2,c={getInnerDimensionsForElement:function(e){var t=new d(e.offsetWidth,e.offsetHeight),o=window.getComputedStyle(e,null);return t.x-=parseInt(o.getPropertyValue('padding-left'),10),t.x-=parseInt(o.getPropertyValue('padding-right'),10),t.y-=parseInt(o.getPropertyValue('padding-top'),10),t.y-=parseInt(o.getPropertyValue('padding-bottom'),10),t},getEventPosition:function(t){var e=t.clientX,o=t.clientY;if(-1!==t.type.indexOf('touch')){if(!t.touches.length)return;e=t.touches[0].clientX,o=t.touches[0].clientY}return new d(e,o)},createTransparentPatternCanvas:function(){var e=document.createElement('canvas'),t=e.getContext('2d');return e.width=10,e.height=10,t.fillStyle='white',t.fillRect(0,0,e.width,e.height),t.fillStyle='#cccccc',t.fillRect(0,0,e.width/2,e.height/2),t.fillRect(e.width/2,e.height/2,e.width,e.height),e},supportsMSBlob:function(){var e=document.createElement('canvas');return'undefined'!=typeof e.msToBlob},translate:function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},i=this.fetch(e,t);if(!i)return r.a.info('Utils#translate','Unable to translate `'+t+'`'),null;for(var n in o)i=i.replace('${'+n+'}',o[n]);return i},fetch:function(e,t){t=t.replace(/\[(\w+)]/g,'.$1'),t=t.replace(/^\./,'');for(var o=t.split('.'),n=0,i;n<o.length&&(i=o[n],e=e[i],!!e);n++);return'undefined'!=typeof e&&e},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},select:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;o||(o=function(e){return e});var i=[];return t.forEach(function(t){e.forEach(function(e){var n=o(e);n===t&&i.push(e)})}),i},getJSONP:function(e){var t=new s.a(e);return t.load()},cloneCategories:function(e,t){return e.map(function(e){return e=p.clone(e),e[t]=e[t].slice(0),e})},mergeCategories:function(e,t,o){e=this.cloneCategories(e,o);var i=null;return t.forEach(function(t){e.forEach(function(e){t.identifier===e.identifier&&(i=e)}),i?i[o]=i[o].concat(t[o]):e.push(t)}),e},getStyleObject:function(e){var t=window.getComputedStyle(e),o={};for(var i in t){var n=t.getPropertyValue(i),r=i.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});''!==n&&(o[r]=n)}return o},styleElement:function(e,t){for(var o in t)e.style[o]=t[o]},debounce:function(e,t,o){var i;return function(){var n=this,r=arguments,a=o&&!i;clearTimeout(i),i=setTimeout(function(){i=null,o||e.apply(n,r)},t),a&&e.apply(this,r)}},getScrollbarWidth:function(){var e=document.createElement('div');e.style.visibility='hidden',e.style.width='100px',e.style.msOverflowStyle='scrollbar',document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow='scroll';var o=document.createElement('div');o.style.width='100%',e.appendChild(o);var i=o.offsetWidth;return e.parentNode.removeChild(e),t-i},findIntegerFraction:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,o=Number.MAX_VALUE,i=0,n=0,r=1,a=1,s=0,p;s<t;s++){if(p=r/a-e,0>p)r++;else if(0<p)a++;else return new d(r,a);var c=l(r/a-e);c<o&&(o=c,i=r,n=a)}return new d(i,n)},toFixed:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:2,o=e.toFixed(t);return parseFloat(o)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},flipObject:function(e){var t={};for(var o in e)t[e[o]]=o;return t},Browser:a.a};t.a=c},function(e,t){'use strict';t.a={getIEVersion:function(){var e=navigator,t=e.userAgent,o=e.appVersion;return-1===o.indexOf('MSIE')?-1!==t.indexOf('Trident')&&t.match(/rv:([0-9]+)/i)[1]:o.match(/MSIE\s+?([0-9]+)/i)[1]},isIE10:function(){var e=this.getIEVersion();return!1!==e&&10===e},isIE11:function(){var e=this.getIEVersion();return!1!==e&&11===e},isIElte:function(e){var t=this.getIEVersion();return!1!==t&&t<=e}}},function(e,t,o){'use strict';(function(e){var i=o(4),n=o.n(i),r=o(21),a=o.n(r),s=o(56),l=o.n(s),p=o(180),d=o.n(p),c='undefined'==typeof e?window:e,m='undefined'==typeof n.a?function(){function e(e,t){h.add(e,t),y||(y=g(h.drain))}function t(e){var t='undefined'==typeof e?'undefined':a()(e),i;return null!=e&&('object'==t||'function'==t)&&(i=e.then),'function'==typeof i&&i}function i(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,o,i){var n,r;try{!1===o?i.reject(e.msg):(n=!0===o?e.msg:o.call(void 0,e.msg),n===i.promise?i.reject(TypeError('Promise-chain cycle')):(r=t(n))?r.call(n,i.resolve,i.reject):i.resolve(n))}catch(e){i.reject(e)}}function n(o){var a=this,s;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(s=t(o))?e(function(){var e=new p(a);try{s.call(o,function(){n.apply(e,arguments)},function(){r.apply(e,arguments)})}catch(t){r.call(e,t)}}):(a.msg=o,a.state=1,0<a.chain.length&&e(i,a))}catch(e){r.call(new p(a),e)}}}function r(t){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=t,o.state=2,0<o.chain.length&&e(i,o))}function s(e,t,o,i){for(var n=0;n<t.length;n++)(function(n){e.resolve(t[n]).then(function(e){o(n,e)},i)})(n)}function p(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(t){if('function'!=typeof t)throw TypeError('Not a function');if(0!==this.__NPO__)throw TypeError('Not a promise');this.__NPO__=1;var a=new c(this);this.then=function(t,n){var r={success:'function'!=typeof t||t,failure:'function'==typeof n&&n};return r.promise=new this.constructor(function(e,t){if('function'!=typeof e||'function'!=typeof t)throw TypeError('Not a function');r.resolve=e,r.reject=t}),a.chain.push(r),0!==a.state&&e(i,a),r.promise},this['catch']=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){n.call(a,e)},function(e){r.call(a,e)})}catch(e){r.call(a,e)}}var _=Object.prototype.toString,g='undefined'==typeof d.a?setTimeout:function(e){return d()(e)},u,y,h;try{Object.defineProperty({},'x',{}),u=function(e,t,o,i){return l()(e,t,{value:o,writable:!0,configurable:!1!==i})}}catch(e){u=function(e,t,o){return e[t]=o,e}}h=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,o,i;return{add:function(n,r){i=new e(n,r),o?o.next=i:t=i,o=i,i=void 0},drain:function(){var e=t;for(t=o=y=void 0;e;)e.fn.call(e.self),e=e.next}}}();var f=u({},'constructor',m,!1);return m.prototype=f,u(f,'__NPO__',0,!1),u(m,'resolve',function(e){var t=this;return e&&'object'==('undefined'==typeof e?'undefined':a()(e))&&1===e.__NPO__?e:new t(function(t,o){if('function'!=typeof t||'function'!=typeof o)throw TypeError('Not a function');t(e)})}),u(m,'reject',function(e){return new this(function(t,o){if('function'!=typeof t||'function'!=typeof o)throw TypeError('Not a function');o(e)})}),u(m,'all',function(e){var t=this;return'[object Array]'==_.call(e)?0===e.length?t.resolve([]):new t(function(o,i){if('function'!=typeof o||'function'!=typeof i)throw TypeError('Not a function');var n=e.length,r=Array(n),a=0;s(t,e,function(e,t){r[e]=t,++a===n&&o(r)},i)}):t.reject(TypeError('Not an array'))}),u(m,'race',function(e){var t=this;return'[object Array]'==_.call(e)?new t(function(o,i){if('function'!=typeof o||'function'!=typeof i)throw TypeError('Not a function');s(t,e,function(e,t){o(t)},i)}):t.reject(TypeError('Not an array'))}),m}():n.a;/*!
 * Native Promise Only
 * v0.8.0-a (c) Kyle Simpson
 * MIT License: http://getify.mit-license.org
 */c.Promise=c.Promise||m,t.a=m}).call(t,o(46))},function(e,t,o){e.exports={default:o(181),__esModule:!0}},function(e,t,o){o(182),e.exports=o(7).setImmediate},function(e,t,o){var i=o(16),n=o(71);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,o){'use strict';function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,o){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,o),n}var r=o(184),a=o(186);t.parse=n,t.resolve=function(e,t){return n(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=n(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var d=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),c=['\''].concat(p),m=['%','/','?',';','#'].concat(c),_=['/','?','#'],g=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=o(187);i.prototype.parse=function(e,t,o){if(!a.isString(e))throw new TypeError('Parameter \'url\' must be a string, not '+typeof e);var n=e.indexOf('?'),S=-1!==n&&n<e.indexOf('#')?'?':'#',C=e.split(S),E=/\\/g;C[0]=C[0].replace(E,'/'),e=C.join(S);var x=e;if(x=x.trim(),!o&&1===e.split('#').length){var w=l.exec(x);if(w)return this.path=x,this.href=x,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search='',this.query={}),this}var T=d.exec(x);if(T){T=T[0];var O=T.toLowerCase();this.protocol=O,x=x.substr(T.length)}if(o||T||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var D='//'===x.substr(0,2);D&&!(T&&f[T])&&(x=x.substr(2),this.slashes=!0)}if(!f[T]&&(D||T&&!b[T])){for(var I=-1,R=0,i;R<_.length;R++)i=x.indexOf(_[R]),-1!==i&&(-1==I||i<I)&&(I=i);var P,B;B=-1===I?x.lastIndexOf('@'):x.lastIndexOf('@',I),-1!==B&&(P=x.slice(0,B),x=x.slice(B+1),this.auth=decodeURIComponent(P)),I=-1;for(var R=0,i;R<m.length;R++)i=x.indexOf(m[R]),-1!==i&&(-1===I||i<I)&&(I=i);-1===I&&(I=x.length),this.host=x.slice(0,I),x=x.slice(I),this.parseHost(),this.hostname=this.hostname||'';var N='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!N)for(var A=this.hostname.split(/\./),R=0,z=A.length,F;R<z;R++)if(F=A[R],F&&!F.match(g)){for(var L='',M=0,j=F.length;M<j;M++)L+=127<F.charCodeAt(M)?'x':F[M];if(!L.match(g)){var k=A.slice(0,R),U=A.slice(R+1),V=F.match(u);V&&(k.push(V[1]),U.unshift(V[2])),U.length&&(x='/'+U.join('.')+x),this.hostname=k.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var H=this.port?':'+this.port:'',p=this.hostname||'';this.host=p+H,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==x[0]&&(x='/'+x))}if(!y[O])for(var R=0,z=c.length,h;R<z;R++)if(h=c[R],-1!==x.indexOf(h)){var W=encodeURIComponent(h);W===h&&(W=escape(h)),x=x.split(h).join(W)}var q=x.indexOf('#');-1!==q&&(this.hash=x.substr(q),x=x.slice(0,q));var K=x.indexOf('?');if(-1===K?t&&(this.search='',this.query={}):(this.search=x.substr(K),this.query=x.substr(K+1),t&&(this.query=v.parse(this.query)),x=x.slice(0,K)),x&&(this.pathname=x),b[O]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var H=this.pathname||'',Z=this.search||'';this.path=H+Z}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||'';e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,':'),e+='@');var t=this.protocol||'',o=this.pathname||'',i=this.hash||'',n=!1,r='';this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(n+=':'+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(r=v.stringify(this.query));var s=this.search||r&&'?'+r||'';return t&&':'!==t.substr(-1)&&(t+=':'),this.slashes||(!t||b[t])&&!1!==n?(n='//'+(n||''),o&&'/'!==o.charAt(0)&&(o='/'+o)):!n&&(n=''),i&&'#'!==i.charAt(0)&&(i='#'+i),s&&'?'!==s.charAt(0)&&(s='?'+s),o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace('#','%23'),t+n+o+s+i},i.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var o=new i,n=Object.keys(this),r=0,l;r<n.length;r++)l=n[r],o[l]=this[l];if(o.hash=e.hash,''===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var d=Object.keys(e),c=0,m;c<d.length;c++)m=d[c],'protocol'!==m&&(o[m]=e[m]);return b[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname='/'),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!b[e.protocol]){for(var _=Object.keys(e),g=0,u;g<_.length;g++)u=_[g],o[u]=e[u];return o.href=o.format(),o}if(o.protocol=e.protocol,!e.host&&!f[e.protocol]){for(var y=(e.pathname||'').split('/');y.length&&!(e.host=y.shift()););e.host||(e.host=''),e.hostname||(e.hostname=''),''!==y[0]&&y.unshift(''),2>y.length&&y.unshift(''),o.pathname=y.join('/')}else o.pathname=e.pathname;if(o.search=e.search,o.query=e.query,o.host=e.host||'',o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var h=o.pathname||'',p=o.search||'';o.path=h+p}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var s=o.pathname&&'/'===o.pathname.charAt(0),k=e.host||e.pathname&&'/'===e.pathname.charAt(0),v=k||s||o.host&&e.pathname,S=v,C=o.pathname&&o.pathname.split('/')||[],y=e.pathname&&e.pathname.split('/')||[],E=o.protocol&&!b[o.protocol];if(E&&(o.hostname='',o.port=null,o.host&&(''===C[0]?C[0]=o.host:C.unshift(o.host)),o.host='',e.protocol&&(e.hostname=null,e.port=null,e.host&&(''===y[0]?y[0]=e.host:y.unshift(e.host)),e.host=null),v=v&&(''===y[0]||''===C[0])),k)o.host=e.host||''===e.host?e.host:o.host,o.hostname=e.hostname||''===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,C=y;else if(y.length)C||(C=[]),C.pop(),C=C.concat(y),o.search=e.search,o.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(E){o.hostname=o.host=C.shift();var x=o.host&&0<o.host.indexOf('@')&&o.host.split('@');x&&(o.auth=x.shift(),o.host=o.hostname=x.shift())}return o.search=e.search,o.query=e.query,a.isNull(o.pathname)&&a.isNull(o.search)||(o.path=(o.pathname?o.pathname:'')+(o.search?o.search:'')),o.href=o.format(),o}if(!C.length)return o.pathname=null,o.path=o.search?'/'+o.search:null,o.href=o.format(),o;for(var w=C.slice(-1)[0],T=(o.host||e.host||1<C.length)&&('.'===w||'..'===w)||''===w,O=0,D=C.length;0<=D;D--)w=C[D],'.'===w?C.splice(D,1):'..'===w?(C.splice(D,1),O++):O&&(C.splice(D,1),O--);if(!v&&!S)for(;O--;O)C.unshift('..');v&&''!==C[0]&&(!C[0]||'/'!==C[0].charAt(0))&&C.unshift(''),T&&'/'!==C.join('/').substr(-1)&&C.push('');var I=''===C[0]||C[0]&&'/'===C[0].charAt(0);if(E){o.hostname=o.host=I?'':C.length?C.shift():'';var x=o.host&&0<o.host.indexOf('@')&&o.host.split('@');x&&(o.auth=x.shift(),o.host=o.hostname=x.shift())}return v=v||o.host&&C.length,v&&!I&&C.unshift(''),C.length?o.pathname=C.join('/'):(o.pathname=null,o.path=null),a.isNull(o.pathname)&&a.isNull(o.search)||(o.path=(o.pathname?o.pathname:'')+(o.search?o.search:'')),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(t=t[0],':'!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,o){(function(e,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(r){function a(e){throw new RangeError(P[e])}function s(e,t){for(var o=e.length,i=[];o--;)i[o]=t(e[o]);return i}function l(e,t){var o=e.split('@'),i='';1<o.length&&(i=o[0]+'@',e=o[1]),e=e.replace(R,'.');var n=e.split('.'),r=s(n,t).join('.');return i+r}function p(e){for(var t=[],o=0,i=e.length,n,r;o<i;)n=e.charCodeAt(o++),55296<=n&&56319>=n&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?t.push(((1023&n)<<10)+(1023&r)+65536):(t.push(n),o--)):t.push(n);return t}function d(e){return s(e,function(e){var t='';return 65535<e&&(e-=65536,t+=A(55296|1023&e>>>10),e=56320|1023&e),t+=A(e),t}).join('')}function c(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function _(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function g(e,t,o){var i=0;for(e=o?N(e/w):e>>1,e+=N(e/t);e>B*E>>1;i+=S)e=N(e/B);return N(i+(B+1)*e/(e+x))}function u(e){var o=[],r=e.length,s=0,i=O,n=T,l,p,m,_,u,y,h,f,b,t;for(p=e.lastIndexOf(D),0>p&&(p=0),m=0;m<p;++m)128<=e.charCodeAt(m)&&a('not-basic'),o.push(e.charCodeAt(m));for(_=0<p?p+1:0;_<r;){for(u=s,y=1,h=S;;h+=S){if(_>=r&&a('invalid-input'),f=c(e.charCodeAt(_++)),(f>=S||f>N((v-s)/y))&&a('overflow'),s+=f*y,b=h<=n?C:h>=n+E?E:h-n,f<b)break;t=S-b,y>N(v/t)&&a('overflow'),y*=t}l=o.length+1,n=g(s-u,l,0==u),N(s/l)>v-i&&a('overflow'),i+=N(s/l),s%=l,o.splice(s++,0,i)}return d(o)}function y(e){var o=[],i,n,r,s,l,d,c,m,u,y,t,h,f,b,k;for(e=p(e),h=e.length,i=O,n=0,l=T,d=0;d<h;++d)t=e[d],128>t&&o.push(A(t));for(r=s=o.length,s&&o.push(D);r<h;){for(c=v,d=0;d<h;++d)t=e[d],t>=i&&t<c&&(c=t);for(f=r+1,c-i>N((v-n)/f)&&a('overflow'),n+=(c-i)*f,i=c,d=0;d<h;++d)if(t=e[d],t<i&&++n>v&&a('overflow'),t==i){for(m=n,u=S;;u+=S){if(y=u<=l?C:u>=l+E?E:u-l,m<y)break;k=m-y,b=S-y,o.push(A(_(y+k%b,0))),m=N(k/b)}o.push(A(_(m,0))),l=g(n,f,r==s),n=0,++r}++n,++i}return o.join('')}var h='object'==typeof t&&t&&!t.nodeType&&t,f='object'==typeof e&&e&&!e.nodeType&&e,b='object'==typeof i&&i;(b.global===b||b.window===b||b.self===b)&&(r=b);var v=2147483647,S=36,C=1,E=26,x=38,w=700,T=72,O=128,D='-',k=/^xn--/,I=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:'Overflow: input needs wider integers to process',"not-basic":'Illegal input >= 0x80 (not a basic code point)',"invalid-input":'Invalid input'},B=S-C,N=m,A=String.fromCharCode,z;z={version:'1.4.1',ucs2:{decode:p,encode:d},decode:u,encode:y,toASCII:function(e){return l(e,function(e){return I.test(e)?'xn--'+y(e):e})},toUnicode:function(e){return l(e,function(e){return k.test(e)?u(e.slice(4).toLowerCase()):e})}};n=function(){return z}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))})(this)}).call(t,o(185)(e),o(46))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){'use strict';e.exports={isString:function(e){return'string'==typeof e},isObject:function(e){return'object'==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,o){'use strict';t.decode=t.parse=o(188),t.encode=t.stringify=o(189)},function(e){'use strict';function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,a){n=n||'&',r=r||'=';var s={};if('string'!=typeof e||0===e.length)return s;var l=/\+/g;e=e.split(n);var p=1e3;a&&'number'==typeof a.maxKeys&&(p=a.maxKeys);var d=e.length;0<p&&d>p&&(d=p);for(var c=0;c<d;++c){var i=e[c].replace(l,'%20'),m=i.indexOf(r),_,g,u,y;0<=m?(_=i.substr(0,m),g=i.substr(m+1)):(_=i,g=''),u=decodeURIComponent(_),y=decodeURIComponent(g),t(s,u)?o(s[u])?s[u].push(y):s[u]=[s[u],y]:s[u]=y}return s};var o=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)}},function(e){'use strict';function t(e,t){if(e.map)return e.map(t);for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var o=function(e){switch(typeof e){case'string':return e;case'boolean':return e?'true':'false';case'number':return isFinite(e)?e:'';default:return'';}};e.exports=function(e,r,a,s){return r=r||'&',a=a||'=',null===e&&(e=void 0),'object'==typeof e?t(n(e),function(n){var s=encodeURIComponent(o(n))+a;return i(e[n])?t(e[n],function(e){return s+encodeURIComponent(o(e))}).join(r):s+encodeURIComponent(o(e[n]))}).join(r):s?encodeURIComponent(o(s))+a+encodeURIComponent(o(e)):''};var i=Array.isArray||function(e){return'[object Array]'===Object.prototype.toString.call(e)},n=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},function(e,t,o){'use strict';var i=o(35),n=o.n(i);t.a={EVENTS:{EXPORT:'export',CLOSE:'close',OPERATION_CREATED:'operation:created',OPERATION_UPDATED:'operation:updated',OPERATION_REMOVED:'operation:removed',WINDOW_RESIZE:'window:resize',EDITOR_RESIZE:'editor:resize',ZOOM:'editor:zoom',ZOOM_CHANGED:'editor:zoom_changed',ZOOM_DONE:'editor:zoom_done',HISTORY_UNDO:'history:undo',HISTORY_UPDATED:'history:updated',HISTORY_BEFORE_UNDO:'history:before-undo',FEATURES_DISABLED:'editor:features:disabled',FEATURES_ENABLED:'editor:features:enabled',FEATURES_UPDATED:'editor:features:updated',TEXT_SCALED:'editor:text:scaled',TRANSFORM_RESIZE:'transform:resize',TRANSFORM_REAPPLY_RATIO:'transform:reapply-ratio'},DEFAULTS:{TRANSFORM_RATIO_CATEGORIES:[{identifier:'imgly_transforms_common',defaultName:'Common Ratios',ratios:[{identifier:'imgly_transform_common_custom',defaultName:'Custom',ratio:'*',selected:!0},{identifier:'imgly_transform_common_square',defaultName:'Square',ratio:1},{identifier:'imgly_transform_common_4-3',defaultName:'4:3',ratio:4/3},{identifier:'imgly_transform_common_16-9',defaultName:'16:9',ratio:16/9}]},{identifier:'imgly_transforms_facebook',defaultName:'Facebook',ratios:[{identifier:'imgly_transform_facebook_profile',defaultName:'Profile Pic',ratio:1},{identifier:'imgly_transform_facebook_ad',defaultName:'Ad',dimensions:new n.a.Math.Vector2(1200,627)},{identifier:'imgly_transform_facebook_post',defaultName:'Post',dimensions:new n.a.Math.Vector2(940,788)},{identifier:'imgly_transform_facebook_cover',defaultName:'Cover',dimensions:new n.a.Math.Vector2(851,315)}]}],FONTS:[{fontFamily:'Aleo',variations:[{identifier:'imgly_font_aleo_bold',fontWeight:'bold',provider:'file',filePath:'fonts/imgly_font_aleo_bold.woff'}]},{fontFamily:'Amatic SC',variations:[{identifier:'imgly_font_amaticsc',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_amaticsc.woff'}]},{fontFamily:'Bernier',variations:[{identifier:'imgly_font_bernier_regular',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_bernier_regular.woff'}]},{fontFamily:'Cheque',variations:[{identifier:'imgly_font_cheque_regular',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_cheque_regular.woff'}]},{fontFamily:'Open Sans',variations:[{identifier:'imgly_font_open_sans_bold',fontWeight:'bold',provider:'file',filePath:'fonts/imgly_font_open_sans_bold.woff',default:!0}]},{fontFamily:'Gagalin',variations:[{identifier:'imgly_font_gagalin_regular',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_gagalin_regular.woff'}]},{fontFamily:'Hagin',variations:[{identifier:'imgly_font_hagin_caps_thin',fontWeight:200,provider:'file',filePath:'fonts/imgly_font_hagin_caps_thin.woff'}]},{fontFamily:'Intro',variations:[{identifier:'imgly_font_intro_inline',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_intro_inline.woff'}]},{fontFamily:'Lobster',variations:[{identifier:'imgly_font_lobster',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_lobster.woff'}]},{fontFamily:'Nexa',variations:[{identifier:'imgly_font_nexa_script',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_nexa_script.woff'}]},{fontFamily:'Ostrich',variations:[{identifier:'imgly_font_ostrich_sans_black',fontWeight:800,provider:'file',filePath:'fonts/imgly_font_ostrich_sans_black.woff'},{identifier:'imgly_font_ostrich_sans_bold',fontWeight:'bold',provider:'file',filePath:'fonts/imgly_font_ostrich_sans_bold.woff'}]},{fontFamily:'Panton',variations:[{identifier:'imgly_font_panton_black_italic_caps',fontWeight:800,fontStyle:'italic',provider:'file',filePath:'fonts/imgly_font_panton_blackitalic_caps.woff'},{identifier:'imgly_font_panton_light_italic_caps',fontWeight:200,fontStyle:'italic',provider:'file',filePath:'fonts/imgly_font_panton_lightitalic_caps.woff'}]},{fontFamily:'Perfograma',variations:[{identifier:'imgly_font_perfograma',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_perfograma.woff'}]},{fontFamily:'Trashhand',variations:[{identifier:'imgly_font_trash_hand',fontWeight:'normal',provider:'file',filePath:'fonts/imgly_font_trash_hand.woff'}]}],BRUSHES:[n.a.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush]}}},function(e,t,o){'use strict';var i=o(21),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(35),m=o.n(c),_=m.a.EventEmitter,g=m.a.Utils,u=m.a.Log,y=function(e){function t(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a()(this,t);var i=l()(this,e.call(this));return i.setMaxListeners(50),i._canBroadcast=!0,i.state=o,i}return d()(t,e),t.prototype.set=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;'object'!==('undefined'==typeof e?'undefined':n()(e))&&u.info('SharedState#set expects an object as first parameter');var o=g.extend(this.state,e),i=g.extend({},this.state);this.state=o,t&&this.broadcastUpdate(i,o)},t.prototype.get=function(e){return this.state[e]},t.prototype.getState=function(){return this.state},t.prototype.broadcastUpdate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this._canBroadcast&&this.emit('update',e,t)},t.prototype.enableBroadcast=function(){this._canBroadcast=!0},t.prototype.disableBroadcast=function(){this._canBroadcast=!1},t.prototype.clear=function(){var e=this.state;this.state={},this.broadcastUpdate(e,this.state)},t}(_);t.a=y},function(e,t){'use strict';t.a={DEFAULTS:{FILTERS:[{identifier:'imgly_filters_analog',defaultName:'Analog',filters:[{identifier:'imgly_lut_cool',defaultName:'Cool',lutImage:'filters/imgly_lut_cool_5_5_128.png'},{identifier:'imgly_lut_blues',defaultName:'Blues',lutImage:'filters/imgly_lut_blues_5_5_128.png'},{identifier:'imgly_lut_blueshadows',defaultName:'Blue Shadows',lutImage:'filters/imgly_lut_blueshadows_5_5_128.png'},{identifier:'imgly_lut_k6',defaultName:'K6',lutImage:'filters/imgly_lut_k6_5_5_128.png'},{identifier:'imgly_lut_kdynamic',defaultName:'KDynamic',lutImage:'filters/imgly_lut_kdynamic_5_5_128.png'},{identifier:'imgly_lut_lucid',defaultName:'Lucid',lutImage:'filters/imgly_lut_lucid_5_5_128.png'},{identifier:'imgly_lut_pale',defaultName:'Pale',lutImage:'filters/imgly_lut_pale_5_5_128.png'}]},{identifier:'imgly_filters_bw',defaultName:'Black & White',filters:[{identifier:'imgly_lut_sin',defaultName:'Sin',lutImage:'filters/imgly_lut_sin_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_ad1920',defaultName:'1920 A.D.',lutImage:'filters/imgly_lut_ad1920_5_5_128.png'},{identifier:'imgly_lut_bw',defaultName:'B & W',lutImage:'filters/imgly_lut_bw_5_5_128.png'},{identifier:'imgly_lut_litho',defaultName:'Litho',lutImage:'filters/imgly_lut_litho_5_5_128.png'},{identifier:'imgly_lut_plate',defaultName:'Plate',lutImage:'filters/imgly_lut_plate_5_5_128.png'},{identifier:'imgly_lut_x400',defaultName:'X400',lutImage:'filters/imgly_lut_x400_5_5_128.png'}]},{identifier:'imgly_filters_retro',defaultName:'Retro',filters:[{identifier:'imgly_lut_celsius',defaultName:'Celsius',lutImage:'filters/imgly_lut_celsius_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_k2',defaultName:'K2',lutImage:'filters/imgly_lut_k2_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_sepiahigh',defaultName:'Sepia High',lutImage:'filters/imgly_lut_sepiahigh_5_5_128.png'},{identifier:'imgly_lut_ancient',defaultName:'Ancient',lutImage:'filters/imgly_lut_ancient_5_5_128.png'},{identifier:'imgly_lut_classic',defaultName:'Classic',lutImage:'filters/imgly_lut_classic_5_5_128.png'},{identifier:'imgly_lut_eighties',defaultName:'Eighties',lutImage:'filters/imgly_lut_eighties_5_5_128.png'},{identifier:'imgly_lut_elder',defaultName:'Elder',lutImage:'filters/imgly_lut_elder_5_5_128.png'},{identifier:'imgly_lut_glam',defaultName:'Glam',lutImage:'filters/imgly_lut_glam_5_5_128.png'},{identifier:'imgly_lut_gobblin',defaultName:'Gobblin',lutImage:'filters/imgly_lut_gobblin_5_5_128.png'},{identifier:'imgly_lut_orchid',defaultName:'Orchid',lutImage:'filters/imgly_lut_orchid_5_5_128.png'},{identifier:'imgly_lut_seventies',defaultName:'Seventies',lutImage:'filters/imgly_lut_seventies_5_5_128.png'}]},{identifier:'imgly_filters_special',defaultName:'Special',filters:[{identifier:'imgly_lut_fixie',defaultName:'Fixie',lutImage:'filters/imgly_lut_fixie_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_colorful',defaultName:'Colorful',lutImage:'filters/imgly_lut_colorful_5_5_128.png'},{identifier:'imgly_lut_cottoncandy',defaultName:'Cotton Candy',lutImage:'filters/imgly_lut_cottoncandy_5_5_128.png'},{identifier:'imgly_lut_food',defaultName:'Food',lutImage:'filters/imgly_lut_food_5_5_128.png'},{identifier:'imgly_lut_highcontrast',defaultName:'High Contrast',lutImage:'filters/imgly_lut_highcontrast_5_5_128.png'},{identifier:'imgly_lut_k1',defaultName:'K1',lutImage:'filters/imgly_lut_k1_5_5_128.png'},{identifier:'imgly_lut_lomo100',defaultName:'Lomo 100',lutImage:'filters/imgly_lut_lomo100_5_5_128.png'},{identifier:'imgly_lut_neat',defaultName:'Neat',lutImage:'filters/imgly_lut_neat_5_5_128.png'},{identifier:'imgly_lut_nogreen',defaultName:'No Green',lutImage:'filters/imgly_lut_nogreen_5_5_128.png'},{identifier:'imgly_lut_pola669',defaultName:'Pola 669',lutImage:'filters/imgly_lut_pola669_5_5_128.png'},{identifier:'imgly_lut_polasx',defaultName:'Pola SX',lutImage:'filters/imgly_lut_polasx_5_5_128.png'},{identifier:'imgly_lut_pro400',defaultName:'Pro 400',lutImage:'filters/imgly_lut_pro400_5_5_128.png'},{identifier:'imgly_lut_twilight',defaultName:'Twilight',lutImage:'filters/imgly_lut_twilight_5_5_128.png'},{identifier:'imgly_lut_settled',defaultName:'Settled',lutImage:'filters/imgly_lut_settled_5_5_128.png'},{identifier:'imgly_lut_steel',defaultName:'Steel',lutImage:'filters/imgly_lut_steel_5_5_128.png'}]},{identifier:'imgly_filters_summer',defaultName:'Summer',filters:[{identifier:'imgly_lut_texas',defaultName:'Texas',lutImage:'filters/imgly_lut_texas_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_mellow',defaultName:'Mellow',lutImage:'filters/imgly_lut_mellow_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_chest',defaultName:'Chest',lutImage:'filters/imgly_lut_chest_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_creamy',defaultName:'Creamy',lutImage:'filters/imgly_lut_creamy_5_5_128.png'},{identifier:'imgly_lut_evening',defaultName:'Evening',lutImage:'filters/imgly_lut_evening_5_5_128.png'},{identifier:'imgly_lut_fall',defaultName:'Fall',lutImage:'filters/imgly_lut_fall_5_5_128.png'},{identifier:'imgly_lut_front',defaultName:'Front',lutImage:'filters/imgly_lut_front_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_highcarb',defaultName:'High Carb',lutImage:'filters/imgly_lut_highcarb_5_5_128.png'},{identifier:'imgly_lut_keen',defaultName:'Keen',lutImage:'filters/imgly_lut_keen_5_5_128.png'},{identifier:'imgly_lut_pitched',defaultName:'Pitched',lutImage:'filters/imgly_lut_pitched_5_5_128.png'},{identifier:'imgly_lut_soft',defaultName:'Soft',lutImage:'filters/imgly_lut_soft_5_5_128.png'},{identifier:'imgly_lut_summer',defaultName:'Summer',lutImage:'filters/imgly_lut_summer_5_5_128.png'},{identifier:'imgly_lut_sunset',defaultName:'Sunset',lutImage:'filters/imgly_lut_sunset_5_5_128.png'},{identifier:'imgly_lut_tender',defaultName:'Tender',lutImage:'filters/imgly_lut_tender_5_5_128.png'}]},{identifier:'imgly_filters_winter',defaultName:'Winter',filters:[{identifier:'imgly_lut_fridge',defaultName:'Fridge',lutImage:'filters/imgly_lut_fridge_8_8_512.png',resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:'imgly_lut_bleached',defaultName:'Bleached',lutImage:'filters/imgly_lut_bleached_5_5_128.png'},{identifier:'imgly_lut_bleachedblue',defaultName:'Bleached Blue',lutImage:'filters/imgly_lut_bleachedblue_5_5_128.png'},{identifier:'imgly_lut_breeze',defaultName:'Breeze',lutImage:'filters/imgly_lut_breeze_5_5_128.png'},{identifier:'imgly_lut_lenin',defaultName:'Lenin',lutImage:'filters/imgly_lut_lenin_5_5_128.png'},{identifier:'imgly_lut_quozi',defaultName:'Quozi',lutImage:'filters/imgly_lut_quozi_5_5_128.png'},{identifier:'imgly_lut_winter',defaultName:'Winter',lutImage:'filters/imgly_lut_winter_5_5_128.png'}]}],OVERLAYS:[{identifier:'imgly_overlay_golden',defaultName:'Golden',image:'overlays/imgly_overlay_golden.jpg',thumbnail:'overlays/imgly_overlay_golden_thumb.jpg',blendMode:'lighten'},{identifier:'imgly_overlay_bokeh',defaultName:'Bokeh',image:'overlays/imgly_overlay_bokeh.jpg',thumbnail:'overlays/imgly_overlay_bokeh_thumb.jpg',blendMode:'lighten'},{identifier:'imgly_overlay_hearts',defaultName:'Hearts',image:'overlays/imgly_overlay_hearts.jpg',thumbnail:'overlays/imgly_overlay_hearts_thumb.jpg',blendMode:'screen'},{identifier:'imgly_overlay_lightleak1',defaultName:'Light Leak',image:'overlays/imgly_overlay_lightleak1.jpg',thumbnail:'overlays/imgly_overlay_lightleak1_thumb.jpg',blendMode:'screen'},{identifier:'imgly_overlay_lightleak2',defaultName:'Light Leak 2',image:'overlays/imgly_overlay_lightleak2.jpg',thumbnail:'overlays/imgly_overlay_lightleak2_thumb.jpg',blendMode:'lighten'},{identifier:'imgly_overlay_rain',defaultName:'Rain',image:'overlays/imgly_overlay_rain.jpg',thumbnail:'overlays/imgly_overlay_rain_thumb.jpg',blendMode:'overlay'},{identifier:'imgly_overlay_wood',defaultName:'Wood',image:'overlays/imgly_overlay_wood.jpg',thumbnail:'overlays/imgly_overlay_wood_thumb.jpg',blendMode:'multiply'},{identifier:'imgly_overlay_mosaic',defaultName:'Mosaic',image:'overlays/imgly_overlay_mosaic.jpg',thumbnail:'overlays/imgly_overlay_mosaic_thumb.jpg',blendMode:'multiply'},{identifier:'imgly_overlay_chop',defaultName:'Chop',image:'overlays/imgly_overlay_chop.jpg',thumbnail:'overlays/imgly_overlay_chop_thumb.jpg',blendMode:'multiply'},{identifier:'imgly_overlay_vintage',defaultName:'Vintage',image:'overlays/imgly_overlay_vintage.jpg',thumbnail:'overlays/imgly_overlay_vintage_thumb.jpg',blendMode:'darken'},{identifier:'imgly_overlay_metal',defaultName:'Metal',image:'overlays/imgly_overlay_metal.jpg',thumbnail:'overlays/imgly_overlay_metal_thumb.jpg',blendMode:'overlay'},{identifier:'imgly_overlay_paper',defaultName:'Paper',image:'overlays/imgly_overlay_paper.jpg',thumbnail:'overlays/imgly_overlay_paper_thumb.jpg',blendMode:'multiply'},{identifier:'imgly_overlay_painting',defaultName:'Painting',image:'overlays/imgly_overlay_painting.jpg',thumbnail:'overlays/imgly_overlay_painting_thumb.jpg',blendMode:'overlay'},{identifier:'imgly_overlay_grain',defaultName:'Grain',image:'overlays/imgly_overlay_grain.jpg',thumbnail:'overlays/imgly_overlay_grain_thumb.jpg',blendMode:'overlay'},{identifier:'imgly_overlay_clouds',defaultName:'Clouds',image:'overlays/imgly_overlay_clouds.jpg',thumbnail:'overlays/imgly_overlay_clouds_thumb.jpg',blendMode:'softLight'},{identifier:'imgly_overlay_wall1',defaultName:'Wall',image:'overlays/imgly_overlay_wall1.jpg',thumbnail:'overlays/imgly_overlay_wall1_thumb.jpg',blendMode:'lighten'},{identifier:'imgly_overlay_wall2',defaultName:'Wall 2',image:'overlays/imgly_overlay_wall2.jpg',thumbnail:'overlays/imgly_overlay_wall2_thumb.jpg',blendMode:'overlay'}],FRAME_CATEGORIES:[{identifier:'imgly_frame_generic',defaultName:'Generic',metaData:{backgroundImage:'frames/generic.png'},frames:[{identifier:'imgly_frame_dia',defaultName:'Dia',layoutMode:'horizontal-inside',thumbnail:'frames/imgly_frame_dia/imgly_frame_dia_thumb.png',imageGroups:{top:{mid:{image:'frames/imgly_frame_dia/imgly_frame_dia_top.png',mode:'repeat'}},left:{start:'frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png',mid:'frames/imgly_frame_dia/imgly_frame_dia_left.png',end:'frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png'},right:{start:'frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png',mid:'frames/imgly_frame_dia/imgly_frame_dia_right.png',end:'frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png'},bottom:{mid:{image:'frames/imgly_frame_dia/imgly_frame_dia_bottom.png',mode:'repeat'}}}},{identifier:'imgly_frame_art_decor',defaultName:'Art Decor',tintable:!0,layoutMode:'horizontal-inside',thumbnail:'frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png',imageGroups:{top:{start:'frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png',mid:{image:'frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png',mode:'stretch'},end:'frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png'},left:{mid:{image:'frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png',mode:'stretch'}},right:{mid:{image:'frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png',mode:'stretch'}},bottom:{start:'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png',mid:{image:'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png',mode:'stretch'},end:'frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png'}}},{identifier:'imgly_frame_black_passepartout',defaultName:'Black Passepartout',layoutMode:'horizontal-inside',thumbnail:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png',imageGroups:{top:{start:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png',mid:{image:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png',mode:'stretch'},end:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png'},left:{mid:{image:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png',mode:'stretch'}},right:{mid:{image:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png',mode:'stretch'}},bottom:{start:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png',mid:{image:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png',mode:'stretch'},end:'frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png'}}},{identifier:'imgly_frame_lowpoly_shadow',defaultName:'Low Poly',layoutMode:'horizontal-inside',thumbnail:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png',imageGroups:{top:{start:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png',mid:{image:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png',mode:'stretch'},end:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png'},left:{mid:{image:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png',mode:'stretch'}},right:{mid:{image:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png',mode:'stretch'}},bottom:{start:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png',mid:{image:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png',mode:'stretch'},end:'frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png'}}},{identifier:'imgly_frame_wood_passepartout',defaultName:'Wood Passepartout',layoutMode:'horizontal-inside',thumbnail:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png',imageGroups:{top:{start:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png',mid:{image:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png',mode:'stretch'},end:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png'},left:{mid:{image:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png',mode:'stretch'}},right:{mid:{image:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png',mode:'stretch'}},bottom:{start:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png',mid:{image:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png',mode:'stretch'},end:'frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png'}}}]}],STICKER_CATEGORIES:[{identifier:'imgly_sticker_emoticons',defaultName:'Emoticons',metaData:{backgroundImage:'stickers/emoticons/background.png'},stickers:[{identifier:'imgly_sticker_emoticons_alien',defaultName:'Alien',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_angel',defaultName:'Angel',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png'],width:62,height:64},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png'],width:62,height:64}}},{identifier:'imgly_sticker_emoticons_angry',defaultName:'Angry',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_anxious',defaultName:'Anxious',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_asleep',defaultName:'Asleep',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_attention',defaultName:'Attention',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png'],width:62,height:60}}},{identifier:'imgly_sticker_emoticons_baby_chicken',defaultName:'Baby Chicken',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png'],width:61,height:42},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png'],width:61,height:42}}},{identifier:'imgly_sticker_emoticons_batman',defaultName:'Batman',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_beer',defaultName:'Beer',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png'],width:62,height:59},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png'],width:62,height:59}}},{identifier:'imgly_sticker_emoticons_blush',defaultName:'Blush',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_boxer',defaultName:'Boxer',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_business',defaultName:'Business',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png'],width:60,height:63},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png'],width:60,height:63}}},{identifier:'imgly_sticker_emoticons_chicken',defaultName:'Chicken',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png'],width:63,height:55},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png'],width:63,height:55}}},{identifier:'imgly_sticker_emoticons_cool',defaultName:'Cool',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_cry',defaultName:'Cry',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_deceased',defaultName:'Deceased',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_devil',defaultName:'Devil',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_duckface',defaultName:'Duckface',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_furious',defaultName:'Furious',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png'],width:62,height:61},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png'],width:62,height:61}}},{identifier:'imgly_sticker_emoticons_grin',defaultName:'Grin',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_guitar',defaultName:'Guitar',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png'],width:64,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png'],width:64,height:60}}},{identifier:'imgly_sticker_emoticons_harry_potter',defaultName:'Harry Potter',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png'],width:64,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png'],width:64,height:62}}},{identifier:'imgly_sticker_emoticons_hippie',defaultName:'Hippie',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_hitman',defaultName:'Hitman',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png'],width:64,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png'],width:64,height:60}}},{identifier:'imgly_sticker_emoticons_humourous',defaultName:'Humourous',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png'],width:64,height:64},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png'],width:64,height:64}}},{identifier:'imgly_sticker_emoticons_idea',defaultName:'Idea',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png'],width:64,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png'],width:64,height:62}}},{identifier:'imgly_sticker_emoticons_impatient',defaultName:'Impatient',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_kiss',defaultName:'Kiss',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_kisses',defaultName:'Kisses',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_laugh',defaultName:'Laugh',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_loud_cry',defaultName:'Loud Cry',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png'],width:64,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png'],width:64,height:58}}},{identifier:'imgly_sticker_emoticons_loving',defaultName:'Loving',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_masked',defaultName:'Masked',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_music',defaultName:'Music',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png'],width:62,height:54},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png'],width:62,height:54}}},{identifier:'imgly_sticker_emoticons_nerd',defaultName:'Nerd',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png'],width:64,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png'],width:64,height:58}}},{identifier:'imgly_sticker_emoticons_ninja',defaultName:'Ninja',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_not_speaking_to_you',defaultName:'Not Speaking To You',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_pig',defaultName:'Pig',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png'],width:63,height:41},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png'],width:63,height:41}}},{identifier:'imgly_sticker_emoticons_pumpkin',defaultName:'Pumpkin',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png'],width:62,height:60}}},{identifier:'imgly_sticker_emoticons_question',defaultName:'Question',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_rabbit',defaultName:'Rabbit',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png'],width:65,height:47},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png'],width:65,height:47}}},{identifier:'imgly_sticker_emoticons_sad',defaultName:'Sad',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_sick',defaultName:'Sick',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_skateboard',defaultName:'Skateboard',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png'],width:62,height:64},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png'],width:62,height:64}}},{identifier:'imgly_sticker_emoticons_skull',defaultName:'Skull',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png'],width:62,height:62},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png'],width:62,height:62}}},{identifier:'imgly_sticker_emoticons_sleepy',defaultName:'Sleepy',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png'],width:62,height:60}}},{identifier:'imgly_sticker_emoticons_smile',defaultName:'Smile',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_smoking',defaultName:'Smoking',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_sobbing',defaultName:'Sobbing',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png'],width:62,height:59},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png'],width:62,height:59}}},{identifier:'imgly_sticker_emoticons_star',defaultName:'Star',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png'],width:64,height:64},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png'],width:64,height:64}}},{identifier:'imgly_sticker_emoticons_steaming_furious',defaultName:'Steaming Furious',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_sunbathing',defaultName:'Sunbathing',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_tired',defaultName:'Tired',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png'],width:62,height:60}}},{identifier:'imgly_sticker_emoticons_tongue_out_wink',defaultName:'Tongue Out Wink',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_wave',defaultName:'Wave',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png'],width:62,height:60}}},{identifier:'imgly_sticker_emoticons_wide_grin',defaultName:'Wide Grin',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_wink',defaultName:'Wink',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png'],width:62,height:58},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png'],width:62,height:58}}},{identifier:'imgly_sticker_emoticons_wrestler',defaultName:'Wrestler',images:{mediaThumb:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg','stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png'],width:62,height:60},mediaBase:{uris:['stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg','stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png'],width:62,height:60}}}]},{identifier:'imgly_sticker_shapes',defaultName:'Shapes',metaData:{backgroundImage:'stickers/shapes/background.png'},stickers:[{identifier:'imgly_sticker_shapes_arrow_02',defaultName:'Arrow 1',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png'],width:2e3,height:1236},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png'],width:2e3,height:1236}}},{identifier:'imgly_sticker_shapes_arrow_03',defaultName:'Arrow 2',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png'],width:2e3,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png'],width:2e3,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_01',defaultName:'Badge 1',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png'],width:2e3,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png'],width:2e3,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_04',defaultName:'Badge 2',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png'],width:2e3,height:1589},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png'],width:2e3,height:1589}}},{identifier:'imgly_sticker_shapes_badge_06',defaultName:'Badge 3',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png'],width:2e3,height:1733},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png'],width:2e3,height:1733}}},{identifier:'imgly_sticker_shapes_badge_08',defaultName:'Badge 4',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png'],width:2e3,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png'],width:2e3,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_11',defaultName:'Badge 5',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png'],width:2e3,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png'],width:2e3,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_12',defaultName:'Badge 6',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png'],width:2001,height:1903},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png'],width:2001,height:1903}}},{identifier:'imgly_sticker_shapes_badge_13',defaultName:'Badge 7',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png'],width:2e3,height:1718},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png'],width:2e3,height:1718}}},{identifier:'imgly_sticker_shapes_badge_15',defaultName:'Badge 8',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png'],width:1618,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png'],width:1618,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_18',defaultName:'Badge 9',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png'],width:1198,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png'],width:1198,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_19',defaultName:'Badge 10',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png'],width:2127,height:481},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png'],width:2127,height:481}}},{identifier:'imgly_sticker_shapes_badge_20',defaultName:'Badge 11',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png'],width:2e3,height:1404},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png'],width:2e3,height:1404}}},{identifier:'imgly_sticker_shapes_badge_28',defaultName:'Badge 12',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png'],width:2e3,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png'],width:2e3,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_32',defaultName:'Badge 13',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png'],width:1960,height:2e3},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png'],width:1960,height:2e3}}},{identifier:'imgly_sticker_shapes_badge_35',defaultName:'Badge 14',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png'],width:2e3,height:2002},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png'],width:2e3,height:2002}}},{identifier:'imgly_sticker_shapes_badge_36',defaultName:'Badge 15',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png'],width:2e3,height:1668},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png'],width:2e3,height:1668}}},{identifier:'imgly_sticker_shapes_spray_01',defaultName:'Spray 1',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png'],width:1912,height:2039},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png'],width:1912,height:2039}}},{identifier:'imgly_sticker_shapes_spray_03',defaultName:'Spray 2',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png'],width:1681,height:1779},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png'],width:1681,height:1779}}},{identifier:'imgly_sticker_shapes_spray_04',defaultName:'Spray 3',tintMode:'solid',images:{mediaThumb:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg','stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png'],width:1407,height:2248},mediaBase:{uris:['stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg','stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png'],width:1407,height:2248}}}]}]}}},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(12),_=o(198),g=o(203),u=o(318),y=o(319),h=o(97),f={loading:u.a,editor:g.a,splash:y.a},b=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onPreloaderDone');var s=r.props.options,p=s.preloader?u.a:s.editor.image?g.a:y.a;return r.state={theme:r.props.ui.getTheme(),screen:p,screenOptions:{onDone:r._onPreloaderDone}},r}return d()(t,e),t.prototype._onPreloaderDone=function(){this.setState({screen:g.a,screenOptions:{}})},t.prototype.getChildContext=function(){return{ui:this.props.ui,options:this.props.options,mediator:this.props.mediator,appComponent:this}},t.prototype.switchToScreen=function(e){this.setState({screen:f[e],screenOptions:{}})},t.prototype.getEditor=function(){return this._currentScreen.getEditor()},t.prototype.export=function(){var e;return(e=this._currentScreen).export.apply(e,arguments)},t.prototype.serialize=function(){var e;return(e=this._currentScreen).serialize.apply(e,arguments)},t.prototype.deserialize=function(e){return this._currentScreen.deserialize(e)},t.prototype.getBounds=function(){return this._container.getBoundingClientRect()},t.prototype._renderCurrentScreen=function(){var e=this,t=this.state,o=t.screen,i=t.screenOptions;return c.l.createElement(o,n()({},i,{innerRef:function(t){e._currentScreen=t}}))},t.prototype.render=function(){var e=this;return c.l.createElement(c.t,{theme:this.state.theme},c.l.createElement(k,{className:'photoeditorsdk-editor',innerRef:function(t){e._container=t}},c.l.createElement(_.a,{modalManager:m.a.instance}),this._renderCurrentScreen()))},t}(h.a);b.childContextTypes={ui:c.k.object.isRequired,mediator:c.k.object.isRequired,options:c.k.object.isRequired,appComponent:c.k.object.isRequired},b.propTypes={ui:c.k.object.isRequired,mediator:c.k.object.isRequired,options:c.k.object.isRequired},t.a=b;var k=c.w.div('wspo5c','AppContainer')},function(e,t,o){e.exports={default:o(195),__esModule:!0}},function(e,t,o){o(196),e.exports=o(7).Object.assign},function(e,t,o){var i=o(16);i(i.S+i.F,'Object',{assign:o(197)})},function(e,t,o){'use strict';var i=o(31),n=o(69),r=o(45),a=o(66),s=o(90),l=Object.assign;e.exports=!l||o(29)(function(){var e={},t={},o=Symbol(),i='abcdefghijklmnopqrst';return e[o]=7,i.split('').forEach(function(e){t[e]=e}),7!=l({},e)[o]||Object.keys(l({},t)).join('')!=i})?function(e){for(var t=a(e),o=arguments.length,l=1,p=n.f,d=r.f;o>l;)for(var c=s(arguments[l++]),m=p?i(c).concat(p(c)):i(c),_=m.length,g=0,u;_>g;)d.call(c,u=m[g++])&&(t[u]=c[u]);return t}:l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(199),c=o(200),m=o(201),_=o(202),g=o(14),u=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._modalManager=s.props.modalManager,s._bindAll('_onModalManagerUpdate'),s.state={overlayVisible:!1},s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._modalManager.on('update',this._onModalManagerUpdate)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._modalManager.off('update',this._onModalManagerUpdate)},t.prototype._onModalManagerUpdate=function(){var e=this._modalManager.getModals(),t=0<e.filter(function(e){return e.visible}).filter(function(e){return!!e.overlay}).length;this.state.overlayVisible=t,this.forceUpdate()},t.prototype._onModalClosed=function(e){this._modalManager.removeModal(e)},t.prototype._renderModals=function(){var e=this,t=this._modalManager.getModals();return t.map(function(t){var o;switch(t.type){case'loading':o=d.a;break;case'warning':o=c.a;break;case'error':o=m.a;break;case'progress':o=_.a;}return p.l.createElement(o,{modal:t,key:t.id,onClose:e._onModalClosed.bind(e,t)})})},t.prototype.render=function(){return p.l.createElement(h,null,p.l.createElement(g.a,{active:this.state.overlayVisible,enterProp:'rendered',enterDuration:1e3*this.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},p.l.createElement(y,null)),p.l.createElement('div',null,this._renderModals()))},t}(p.b);u.contextTypes=p.b.contextTypes,t.a=u;var y=p.w.div('ovs9m3',{visible:'zgbg08',rendered:'2jlos'},'Overlay'),h=p.w.div('8gacw5','Container')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(50),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t}(d.a);c.contextTypes=p.b.contextTypes,t.a=c},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(50),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._buttons=s.props.modal.data.buttons||['OK'],s}return l()(t,e),t.prototype._onButtonClick=function(e){this.props.modal.emit('button',e),this.props.modal.close()},t}(d.a);c.contextTypes=p.b.contextTypes,t.a=c},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(50),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._buttons=['Okay'],s}return l()(t,e),t.prototype._onButtonClick=function(e){0===e&&this.props.modal.close()},t}(d.a);c.contextTypes=p.b.contextTypes,t.a=c},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(50),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t}(p.a);d.contextTypes=p.a.contextTypes,t.a=d},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(74),_=o(126),g=o(317),u=o(12),y=o(102),h=o(15),f=o(27),b='filter',k=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onRenderError','_onImageResize','_startEditor','_onEditorReset');var s=r.context,p=s.ui,d=s.options,_=s.mediator;return r._editor=new m.a(p,d,_),r._editor.on('ready',r._startEditor),r._editor.on('render-error',r._onRenderError),r._editor.on('resize',r._onImageResize),r._editor.on('reset',r._onEditorReset),r._onWindowResize=c.u.debounce(r._onWindowResize.bind(r),250),r.state={sharedState:new c.s,controls:null,controlsOptions:{},currentControl:null},r}return d()(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this);var o=this.context.options;o.responsive&&window.addEventListener('resize',this._onWindowResize),this._editor.isReady()?this.switchToControls(b):this._editor.once('ready',function(){t.switchToControls(b)})},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this);var t=this.context.options;t.responsive&&window.removeEventListener('resize',this._onWindowResize)},t.prototype._onEditorReset=function(){'library'!==this.state.currentControl&&this.switchToControls(b)},t.prototype._onImageResize=function(){var e=this,t=u.a.instance.displayLoading(this._t('loading.resizing'));this._editor.once('resized',function(o){var i=o.dimensions,n=o.reason;t.close(),e.context.options.editor.displayResizeMessage&&u.a.instance.displayWarning(e._t('warnings.imageResized_'+n+'.title'),e._t('warnings.imageResized_'+n+'.text',{maxMegaPixels:e._editor.getMaxMegapixels(),width:i.x,height:i.y}))})},t.prototype._onRenderError=function(){u.a.instance.displayError(this._t('errors.title'),this._t('errors.renderingError.text'),!0)},t.prototype._onWindowResize=function(){this._emitEvent(c.d.EVENTS.WINDOW_RESIZE);var e=new c.v(this._container.offsetWidth,this._container.offsetHeight);this._emitEvent(c.d.EVENTS.EDITOR_RESIZE,e)},t.prototype.switchToControls=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=this,i=arguments[2],r=arguments[3];if(this.state.currentControl===e)return r&&r();var a=this.state.sharedState;'default'===e&&(e=b);var s=y[e];if(!s&&'overview'!==e)return c.h.error('Control `'+e+'` does not exist!');var l=n.a.resolve(!0);this.state.controls&&(l=this.state.controls.onLeave()),l.then(function(n){if(n){a.disableBroadcast(),a.disableBroadcast(),a.clear(),a.set(t);var l=c.q.defaults(i||o.context.options.editor.controlsOptions[s.identifier],s.defaultOptions),p=new s(o.getChildContext(),o.state.sharedState,l);p.onEnter(),a.enableBroadcast(),o.setState({controls:p,controlsOptions:l,currentControl:e},r)}})},t.prototype._startEditor=function(){this._editor.start()},t.prototype.getChildContext=function(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,mediator:this.context.mediator,sharedState:this.state.sharedState,screen:this,appComponent:this.context.appComponent}},t.prototype.render=function(){var e=this,t=this.state,o=t.controls,i=t.controlsOptions,n,r;if(o){var a=o.constructor,s=a.controlsComponent,l=a.canvasControlsComponent;n=s?c.l.createElement(s,{options:i,controls:o}):c.l.createElement('div',null),r=l?c.l.createElement(l,{options:i,controls:o}):c.l.createElement('div',null)}else n=c.l.createElement(h.a,null),r=c.l.createElement(f.a,null);return c.l.createElement(v,{innerRef:function(t){t&&(e._container=t)},className:!1},c.l.createElement(g.a,{ref:'canvas'}),c.l.createElement(S,{innerRef:function(t){e._tableContainer=t}},c.l.createElement(_.a,{onControlSwitch:this.switchToControls.bind(this),currentControl:this.state.currentControl}),n,r))},t.prototype.getEditor=function(){return this._editor},t.prototype.export=function(){var e;return(e=this._editor).export.apply(e,arguments)},t.prototype.serialize=function(){var e;return(e=this._editor).serialize.apply(e,arguments)},t.prototype.deserialize=function(e){return this._editor.deserialize(e)},t}(c.b);k.contextTypes=c.b.contextTypes,k.childContextTypes={ui:c.k.object.isRequired,editor:c.k.object.isRequired,mediator:c.k.object.isRequired,options:c.k.object.isRequired,sharedState:c.k.object.isRequired,screen:c.k.object.isRequired,appComponent:c.k.object.isRequired};var v=c.w.div('5x8wsv','Container'),S=c.w.div('1b28xzz','TableContainer');t.a=Object(c.A)(k)},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=o(205),s=function(){function e(t,o,i){n()(this,e),this._sdk=t,this._options=o,this._download=i}return e.prototype.export=function(){var e=this,t=this._getRenderType();return this._sdk.export(t,this._options.format,this._options.quality).then(function(o){return e._download&&e._downloadData(t,o),o})},e.prototype._downloadData=function(e,t){e===r.o.DATAURL?a.a.downloadDataURL(t,this._options.fileBasename):e===r.o.MSBLOB?a.a.downloadMSBlob(t,this._options.fileBasename):void 0},e.prototype._getRenderType=function(){var e=this._options;return e.type===r.o.IMAGE&&this._download?r.u.supportsMSBlob()?r.o.MSBLOB:r.o.DATAURL:e.type},e}();t.a=s},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(){n()(this,e)}return e.downloadDataURL=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'photoeditorsdk-export',o=this.createBlobURLFromDataURL(e),i=this.getExtensionFromDataURL(e),n=document.createElement('a');n.download=t+'.'+i,n.href=o,document.body.appendChild(n),n.click(),document.body.removeChild(n)},e.downloadMSBlob=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'photoeditorsdk-export';navigator.msSaveBlob(e,t+'.png')},e.getExtensionFromDataURL=function(e){var t=e.split(',')[0].split(':')[1].split(';')[0];return t.split('/').pop()},e.createBlobURLFromDataURL=function(e){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array)return e;for(var t=r.a.decode(e.split(',')[1]),o=e.split(',')[0].split(':')[1].split(';')[0],n=new ArrayBuffer(t.length),a=new Uint8Array(n),s=0;s<t.length;s++)a[s]=t[s];var i=new window.Blob([n],{type:o});return window.URL.createObjectURL(i)},e}();t.a=a},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t,o,i){n()(this,e),this._image=t,this._maxPixels=o,this._maxDimensions=i}return e.prototype.needsResize=function(){var e=new r.v(this._image.width,this._image.height),t=e.x*e.y,o=t>this._maxPixels,i=null!==this._maxDimensions&&(e.x>this._maxDimensions||e.y>this._maxDimensions);return o||i},e.prototype.resize=function(){var e=this,t=null,o=null,i=this._maxDimensions;return new r.j(function(n){window.setTimeout(function(){var a=new r.v(e._image.width,e._image.height),s=a.clone();if(s.x*s.y>e._maxPixels&&(s.copy(e._getDimensionsByMaxPixels()),t='maxMegaPixels'),null!==i&&(s.x>i||s.y>i)){var l=d(i/s.x,i/s.y);s.multiply(l),t='maxDimensions'}s.floor(),o=e._createResizedImageCanvas(s),n({canvas:o,dimensions:s,reason:t})},1e3)})},e.prototype._createResizedImageCanvas=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,o=this._image,i=document.createElement('canvas');i.width=e.x,i.height=e.y;var n=e.clone().subtract(t).divide(2),r=i.getContext('2d');return r.drawImage(o,0,0,o.width,o.height,n.x,n.y,t.x,t.y),i},e.prototype._getDimensionsByMaxPixels=function(){var e=Math.sqrt,t=this._image,o=this._maxPixels,i=t.width/t.height,n=t.height/t.width;return new r.v(e(o*i),e(o*n)).floor()},e}();t.a=a},function(e,t,o){'use strict';var i=o(21),n=o.n(i),r=o(0),a=o.n(r),s=o(1),l=function(){function e(t,o,i){a()(this,e),this._editor=t,this._sdk=o,this._mediator=i,this._available=this._sdk.getOperations(),this._map={},this._stack=this._sdk.getOperationsStack(),this._preferredOrder=this._editor.getOptions().editor.operationsOrder,this._fixStack()}return e.prototype.exists=function(e){return!!this._map[e]},e.prototype.add=function(e){var t=this,o=e.constructor.identifier;e.on('updated',function(){t._mediator.emit(s.d.EVENTS.OPERATION_UPDATED,e)});var i=this._preferredOrder.indexOf(o);if(-1===i)throw new Error('EditorOperations#add: `'+o+'` does not appear in `operationsOrder`');this._stack.set(i,e),this._map[o]=e,this._mediator.emit(s.d.EVENTS.OPERATION_CREATED,e)},e.prototype.remove=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o='object'===('undefined'==typeof e?'undefined':n()(e))?e.constructor.identifier:e,r=this._stack.getStack();e=this.get(o),delete this._map[o];var a=r.map(function(e){return e.constructor.identifier}).indexOf(o);if(-1!==a){this._stack.removeAt(a);for(var l=a+1,i;l<r.length;l++)i=r[l],i&&i.setDirty(!0);t&&this._mediator.emit(s.d.EVENTS.OPERATION_REMOVED,e)}},e.prototype.get=function(e){return this._map[e]},e.prototype.getOrCreate=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(this._map[e]){var o=this._map[e];return o}var i=this._available[e],n=new i(this._sdk,t);return this.add(n),n},e.prototype.getStack=function(){return this._stack},e.prototype.reset=function(){this._map={}},e.prototype._fixStack=function(){var e=this,t=this._stack.getStack().slice();this._stack.clear(),t.forEach(function(t){e.add(t)})},e}();t.a=l},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(102),a=o(1),s=function(){function e(t,o,i){n()(this,e),this._editor=t,this._sdk=o,this._mediator=i,this._options=this._editor.getOptions(),this._available=a.q.extend({},r,this._options.extensions.controls)}return e.prototype.isEnabled=function(e){var t=this.get(e);return t?t.isEnabled(this._editor):(a.h.info('EditorControls#isEnabled: Unknown control: '+e),!1)},e.prototype.get=function(e){return this._available[e]},e.prototype.getAvailable=function(){return this._available},e}();t.a=s},function(e,t,o){'use strict';var r=o(4),a=o.n(r),l=o(0),c=o.n(l),_=o(2),g=o.n(_),u=o(3),y=o.n(u),h=o(1),f=o(18),b=o(12),k=o(104),v=o(214),S=o(216),C=new h.v(50,50),E=function(e){function t(){return c()(this,t),g()(this,e.apply(this,arguments))}return y()(t,e),t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('transform'),o=e.operations.getOrCreate('transform');o.setEnabled(!1,!1);var r=e.operations.exists('orientation'),a=e.operations.getOrCreate('orientation'),s={end:new h.v(1,1),rotation:0,start:new h.v(0,0),textureScale:1},l=o.getInputDimensions(!1),p=o.getNewDimensions(l),d=s,c=d,m=c.start,_=c.end,g=c.textureScale,u=c.rotation;if(t){d=o.serializeOptions(),m=d.start,_=d.end,u=d.rotation,g=d.textureScale,delete d.enabled;var y=o.calculateScale(u),f=o.getInputDimensions(!1),b=n(u),k=i(u),v=_.clone().subtract(m).divide(2),S=m.clone().add(v).multiply(f),C=S.subtract(f.clone().multiply(0.5)),E=new h.v(C.x*b-C.y*k,C.x*k+C.y*b).multiply(y),x=f.clone().multiply(0.5).add(E),w=x.clone().divide(f),T=w.clone().subtract(v.clone().multiply(y)),O=w.clone().add(v.clone().multiply(y));m=T,_=O}e.broadcastTransform(o,s);var D=a.serializeOptions();e.setSpriteScale(o.calculateScale()),e.setRotation(u),o.set(s,t);var I=e.features.isEnabledByOptions('export');e.zoom.auto(!0,!1,function(){e.features.disable('zoom','drag','export')},!1),this.sharedState.set({transformOperation:o,initialTransformOptions:d,newTransformOptions:{start:m,end:_,rotation:u,textureScale:g},transformOperationExistedBeforeEntering:t,exportEnabled:I,orientationOperation:a,initialOrientationOptions:D,newOrientationOptions:h.q.cloneOptions(D),orientationOperationExistedBeforeEntering:r,start:h.v.fromObject(m),end:h.v.fromObject(_),rotation:u,orientationRotation:a.getRotation(),flipVertically:a.getFlipVertically(),flipHorizontally:a.getFlipHorizontally(),initialDimensions:p,initialRatio:o._ratio||null})},t.prototype._onBeforeLeave=function(){var e=this,o=this.context.ui.translate.bind(this.context.ui);return new a.a(function(t){var i=e.sharedState.get('changesDone'),n=e.sharedState.get('changesAccepted');if(i&&!n){var r=b.a.instance.displayWarning(o('warnings.discardChanges.title'),o('warnings.discardChanges.text'),[o('warnings.discardChanges.buttons.cancel'),o('warnings.discardChanges.buttons.discard')]);return void r.on('button',function(e){return 0===e?t({leave:!1}):1===e?t({leave:!0,data:{discard:!0}}):void 0})}t({leave:!0})})},t.prototype._onLeave=function(e){var t=e.discard,o=this.context.editor,r=this.sharedState.get('transformOperation'),a=this.sharedState.get('orientationOperation');if(t){var s=this.sharedState.get('initialOrientationOptions');a.set(s);var l=this.sharedState.get('initialTransformOptions');o.broadcastTransform(r,l),r.set(l),r.setTextureScale(this._calculateTextureScale()),r.setEnabled(!0)}else{a.optionsEqual({rotation:0,flipVertically:!1,flipHorizontally:!1})&&o.operations.remove(a,!1);var p=this.sharedState.get('newTransformOptions'),d=p.start,c=p.end,m=p.textureScale,_=p.rotation;m=this._calculateTextureScale(),d=d.clone(),c=c.clone();var g=r.calculateScale(_),u=r.getInputDimensions(!1),y=n(-_),f=i(-_),b=c.clone().subtract(d).divide(2),k=d.clone().add(b).multiply(u),v=k.subtract(u.clone().multiply(0.5)),S=new h.v(v.x*y-v.y*f,v.x*f+v.y*y).divide(g),C=u.clone().multiply(0.5).add(S),E=C.clone().divide(u),x=E.clone().subtract(b.clone().divide(g)),w=E.clone().add(b.clone().divide(g)),T={start:new h.v(0,0),end:new h.v(1,1),rotation:0,textureScale:1},O={start:x,end:w,textureScale:m,rotation:_};O.start.equals(T.start)&&O.end.equals(T.end)&&O.rotation===T.rotation&&O.textureScale===T.textureScale?o.operations.remove(r,!1):(o.broadcastTransform(r,O),r.set(O),r.setTextureScale(this._calculateTextureScale()),r.setEnabled(!0));var D=this._getHistoryItems();if(D.length){var I=D[D.length-1],R=I.undo;I.undo=function(){R&&R.apply(void 0,arguments),o.zoom.auto(!0,!0)},this.addHistoryItems(D)}}o.setRotation(0),o.setSpriteScale(1),o.features.enable('zoom','drag','export'),this.sharedState.get('exportEnabled')&&o.features.enable('export'),o.zoom.auto(!0)},t.prototype._onOperationRemoved=function(){},t.prototype._calculateTextureScale=function(){var e=this.sharedState.get('transformOperation'),t=this.sharedState.get('ratio');if(!t||!t.dimensions)return 1;var o=this.sharedState.get('start'),i=this.sharedState.get('end'),n=i.clone().subtract(o),r=e.getInputDimensions(!1).multiply(n);return t.dimensions.x/r.x},t.prototype._getHistoryItems=function(){var e=[],t=this._getTransformHistoryItem();t&&e.push(t);var o=this._getOrientationHistoryItem();return o&&e.push(o),e},t.prototype._getTransformHistoryItem=function(){var e=this.context.editor,t=this.sharedState.get('newTransformOptions'),o=this.sharedState.get('transformOperation'),i=this.sharedState.get('initialTransformOptions'),n=this.sharedState.get('transformOperationExistedBeforeEntering'),r=!i.start.equals(t.start)||!i.end.equals(t.end)||i.rotation!==t.rotation||i.textureScale!==t.textureScale;if(r)return{type:'global',operation:o.constructor.identifier,options:i,existent:n,data:{ratio:this.sharedState.get('initialRatio')},undo:function(t,o){e.broadcastTransform(t,o)}}},t.prototype._getOrientationHistoryItem=function(){var e=this.context.editor,t=this.sharedState.get('orientationOperation'),o=this.sharedState.get('initialOrientationOptions'),i=this.sharedState.get('orientationOperationExistedBeforeEntering');if(!t.optionsEqual(o))return{type:'global',operation:t.constructor.identifier,options:o,existent:i,undo:function(t,o){t.getRotation()!==o.rotation&&e.broadcastRotate(o.rotation-t.getRotation());var i=o.rotation,n=90===i||270===i;t.getFlipVertically()===o.flipVertically?t.getFlipHorizontally()!==o.flipHorizontally&&e.broadcastFlip(n?'vertical':'horizontal'):e.broadcastFlip(n?'horizontal':'vertical')}}},t.prototype.fixTransform=function(e,t,o,i){var n=this.context.editor,r=this.sharedState.get('transformOperation'),a=r.getInputDimensions(!1),l=this.sharedState.get('ratio'),c=l.ratio,_=l.dimensions;_&&!c&&(c=_.x/_.y);var g;'*'!==c&&(g=h.u.findIntegerFraction(c));var u=new h.v;u.x='left'===o?t.x:1-e.x,u.y='top'===i?t.y:1-e.y;var y=a.clone().multiply(u),f=t.clone().subtract(e),b=f.clone().multiply(a),k=C.clone().divide(n.zoom.targetLevel),v=new h.v(d(k.x,0.1*a.x),d(k.y,0.1*a.y));if('*'!==c&&v.divide(g).round().multiply(g),b.x=d(p(v.x,b.x),y.x),'*'!==c){var S=m(a.x/g.x);b.x=p(1,d(S,s(b.x/g.x)))*g.x,b.y=b.x/c}b.y=d(p(v.y,b.y),y.y),'*'!==c&&(b.x=b.y*c);var E=b.divide(a);return'top'===i?e.y=t.y-E.y:t.y=e.y+E.y,'left'===o?e.x=t.x-E.x:t.x=e.x+E.x,'*'===c&&(e.multiply(a).round().divide(a),t.multiply(a).round().divide(a)),{start:e,end:t}},t.getPreloadAssets=function(e){var t=e.getOptions(),o=h.q.defaults(t.editor.controlsOptions.transform,this.defaultOptions),i=['editor/controls/transform/dimensions-cross.png','editor/controls/transform/degree-slider.png','editor/controls/transform/flip.png','editor/controls/transform/lock.png','editor/controls/transform/rotate.png'],n=new k.a(o),r=n.getCategories();return r.forEach(function(e){var t=e.ratios;t.forEach(function(e){var t=e.identifier;i.push('editor/controls/transform/ratios/'+t+'-default.png','editor/controls/transform/ratios/'+t+'-hover.png','editor/controls/transform/ratios/'+t+'-active.png')})}),i},t.isEnabled=function(e){return e.isToolAllowed('transform')&&e.isToolEnabled('transform')},t}(f.a);E.clickAtPosition=f.a.clickAtPosition,E.identifier='transform',E.controlsComponent=S.a,E.canvasControlsComponent=v.a,E.iconPath='editor/controls/transform/icon.png',E.activeIconPath='editor/controls/transform/icon-active.png',E.defaultOptions={categories:[],replaceCategories:!1,availableRatios:null,enableRotation:!0,enableStraighten:!0,enableFlip:!0},t.a=E},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(12),_=o(211),g=o(212),u=o(213),y=!1,h=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var p=l()(this,e.call.apply(e,[this].concat(r)));return p._bindAll('_onUndoClick','_onExportClick','_onCloseClick','_onHistoryUpdated','_onFeaturesUpdated'),p._events=(o={},n()(o,c.d.EVENTS.HISTORY_UPDATED,p._onHistoryUpdated),n()(o,c.d.EVENTS.FEATURES_UPDATED,p._onFeaturesUpdated),o),p}return d()(t,e),t.prototype._onHistoryUpdated=function(){this.forceUpdate()},t.prototype._onFeaturesUpdated=function(){this.forceUpdate()},t.prototype._onUndoClick=function(){var e=this.context.editor;e.history.undo(),this.forceUpdate()},t.prototype._onCloseClick=function(){var e=this.context.mediator;e.emit(c.d.EVENTS.CLOSE)},t.prototype._onExportClick=function(){var t=this,e=this.context,o=e.options,i=e.editor,n=e.screen,r=o.editor.export,a=m.a.instance.displayLoading(this._t('loading.exporting'));n.switchToControls('default',null,{},function(){setTimeout(function(){i.export(r.download).then(function(){a.close()}).catch(function(o){m.a.instance.displayError(t._t('errors.title'),o.message),a.close()})},100)})},t.prototype._renderItems=function(){var e=this.context.editor,t=e.history,o=e.features,i=e.getOptions().editor.displayCloseButton,n=t.isAvailable()?c.l.createElement(g.a,{src:this._getAssetPath('editor/canvas-header/undo.png',!0),onClick:this._onUndoClick,className:y}):null,r=c.l.createElement(k,{key:'left',left:!0},n),a=c.l.createElement(b,{key:'center'},o.isEnabledByOptions('zoom')&&c.l.createElement(u.a,null)),s=c.l.createElement(k,{key:'right',right:!0},o.isEnabled('export')&&c.l.createElement(_.a,{title:this._t('editor.export'),onClick:this._onExportClick,className:y}),i&&c.l.createElement(_.a,{title:this._t('editor.close'),onClick:this._onCloseClick,className:y}));return[r,a,s]},t.prototype.render=function(){return c.l.createElement(f,{className:this.props.className},this._renderItems())},t}(c.b);h.contextTypes=c.b.contextTypes,t.a=h;var f=c.w.div('1vo3slj','CanvasHeaderControls'),b=c.w.div('h5xlzy','CenteredControlGroup'),k=c.w.ul('17ty59f',{left:'1elyhsq',right:'1l7kz3k'},'ControlGroup')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(103),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){return p.l.createElement(d.a,{onClick:this.props.onClick,className:this.props.className},p.l.createElement(m,{disabled:this.props.disabled},this.props.title))},t}(d.a);c.contextTypes=d.a.contextTypes,t.a=c;var m=p.w.div('1d3mv64',{disabled:'1wcaxw7'},'Button');c.Button=m},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(103),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.onClick,o=e.className;return p.l.createElement(d.a,{onClick:t,className:o},p.l.createElement(m,{src:this.props.src}))},t}(d.a);c.contextTypes=d.a.contextTypes,t.a=c;var m=p.w.img('1y2itdu','Image')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),l=o(2),p=o.n(l),d=o(3),c=o.n(d),m=o(1),_=!1,g=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=p()(this,e.call.apply(e,[this].concat(r)));return l._bindAll('_onZoomInClick','_onZoomOutClick','_onZoom','_onFeaturesUpdated'),l._events=(o={},n()(o,m.d.EVENTS.ZOOM,l._onZoom),n()(o,m.d.EVENTS.FEATURES_UPDATED,l._onFeaturesUpdated),o),l}return c()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._renderZoomLevel&&this._renderZoomLevel!==this.context.editor.zoom.targetLevel&&this.forceUpdate()},t.prototype._onFeaturesUpdated=function(){this.forceUpdate()},t.prototype._onZoom=function(){this.forceUpdate()},t.prototype._onZoomInClick=function(){if(!this._isZoomDisabled()){var e=this.context.editor;e.zoom.in()}},t.prototype._onZoomOutClick=function(){if(!this._isZoomDisabled()){var e=this.context.editor;e.zoom.out()}},t.prototype._isZoomDisabled=function(){var e=this.context.editor;return!e.features.isEnabled('zoom')},t.prototype.render=function(){var e=this.context.editor,t=s(100*e.zoom.targetLevel);return this._renderZoomLevel=e.zoom.targetLevel,m.l.createElement(u,{className:_},m.l.createElement(y,{disabled:this._isZoomDisabled(),"data-disabled":this._isZoomDisabled(),onClick:this._onZoomOutClick,className:_},'-'),m.l.createElement(h,null,t,' %'),m.l.createElement(y,{disabled:this._isZoomDisabled(),"data-disabled":this._isZoomDisabled(),onClick:this._onZoomInClick,className:_},'+'))},t}(m.b);g.contextTypes=m.b.contextTypes,t.a=g;var u=m.w.div('12hdgpj','ZoomControl'),y=m.w.div('eqhwwg',{disabled:'10fa721'},'Button'),h=m.w.div('64aub5','Label')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),d=o(3),c=o.n(d),m=o(1),_=o(27),g=o(10),u=o(215),y=!1,h=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var p=l()(this,e.call.apply(e,[this].concat(r)));return p._bindAll('_onZoomDone','_onCornerDrag','_onCenterDragStart','_onCenterDrag','_onRotationChange','_onOperationUpdated','_onOperationRemoved','_onAcceptClick','_onAcceptMouseDown'),p._events=(o={},n()(o,m.d.EVENTS.OPERATION_UPDATED,p._onOperationUpdated),n()(o,m.d.EVENTS.OPERATION_REMOVED,p._onOperationRemoved),n()(o,m.d.EVENTS.ZOOM_DONE,p._onZoomDone),o),p.state=m.q.extend(p.state,{visible:!1}),p}return c()(t,e),t.prototype.shouldSharedComponentUpdate=function(e,t){return!e.start.equals(t.start)||!e.end.equals(t.end)||e.orientationRotation!==t.orientationRotation||e.ratio!==t.ratio||e.changesDone!==t.changesDone},t.prototype.sharedStateDidChange=function(e,t){var o=e.ratio&&e.ratio.ratio,i=t.ratio&&t.ratio.ratio;o!==i&&this._calculateRatioFraction()},t.prototype.sharedComponentWillUpdate=function(e,t){e.orientationRotation!==t.orientationRotation&&this._updateTransformAreaStyles()},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._updateTransformAreaStyles(),this._calculateRatioFraction(),this.forceUpdate()},t.prototype.componentWillUpdate=function(){this._updateTransformAreaStyles()},t.prototype.componentDidUpdate=function(){!this._transformContainerRect&&this.getSharedState('ratio')&&(this._updateTransformAreaStyles(),this.forceUpdate())},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._zoomAFRequest&&(Object(m.x)(this._zoomAFRequest),this._zoomAFRequest=null)},t.prototype._calculateRatioFraction=function(){var e=this.getSharedState('ratio');e&&'*'!==e.ratio&&(this._ratioFraction=m.u.findIntegerFraction(e.ratio))},t.prototype._onCenterDragStart=function(){var e=this.getSharedState('transformOperation');this._dragOptions={initialStart:this.getSharedState('start').clone(),initialEnd:this.getSharedState('end').clone(),areaDimensions:this._transformContainerRect.getSize(),imageDimensions:e.getInputDimensions(!1)}},t.prototype._onCenterDrag=function(e){var t=this._dragOptions,o=t.initialStart,i=t.initialEnd,n=t.areaDimensions,r=t.imageDimensions,a=e.clone().divide(n),s=i.clone().subtract(o),l=new m.v(0,0),p=new m.v(1,1).subtract(s),d=o.clone().add(a).clamp(l,p),c=d.clone().add(s);d.multiply(r).floor().divide(r),c.multiply(r).floor().divide(r),this.props.controls.fixTransform(d,c,'right','bottom');var _=this.getSharedState('newTransformOptions');_.start=d,_.end=c,this.setSharedState({start:d,end:c,changesDone:this.getSharedState('changesDone')||!(o.equals(d)&&i.equals(c))})},t.prototype._onCornerDragStart=function(e,t){var o=this.getSharedState('transformOperation');this._dragOptions={initialStart:this.getSharedState('start').clone(),initialEnd:this.getSharedState('end').clone(),verticalSide:e,horizontalSide:t,areaDimensions:this._transformContainerRect.getSize(),imageDimensions:o.getInputDimensions(!1)},this._currentCorner={vertical:e,horizontal:t}},t.prototype._onCornerDrag=function(e){var t=this._dragOptions,o=t.initialStart,i=t.initialEnd,n=t.verticalSide,r=t.horizontalSide,a=t.areaDimensions,s=e.clone().divide(a),l=o.clone(),p=i.clone();('top'===n?l:p).y+=s.y,('left'===r?l:p).x+=s.x,this.props.controls.fixTransform(l,p,r,n);var d=this.getSharedState('newTransformOptions');d.start=l,d.end=p,this.setSharedState({start:l,end:p,changesDone:!0}),this._emitEvent(m.d.EVENTS.TRANSFORM_RESIZE)},t.prototype._onRotationChange=function(e){var t=this.getSharedState('transformOperation'),o=this.context.editor;o.setRotation(e),o.setSpriteScale(t.calculateScale(e));var i=this.getSharedState('newTransformOptions');i.rotation=e,o.render(),this.setSharedState({rotation:e,changesDone:!0})},t.prototype._onAcceptClick=function(t){t.preventDefault(),t.stopPropagation(),this.getSharedState('changesDone')&&(this.setSharedState({changesAccepted:!0}),this.context.screen.switchToControls('default'))},t.prototype._onAcceptMouseDown=function(t){t.stopPropagation()},t.prototype._onZoomDone=function(){var e=this;this._zoomAFRequest=Object(m.z)(function(){e._updateTransformAreaStyles(),e.state.visible=!0,e.forceUpdate(),e._zoomAFRequest=null})},t.prototype._onOperationUpdated=function(e){var t=this.getSharedState('transformOperation');if(e===t){var o=this.context.editor,i=o.getSDK();i.setRotation(e.getRotation()),i.setSpriteScale(e.calculateScale()),o.render(),this.setSharedState({rotation:e.getRotation()}),this.forceUpdate()}},t.prototype._onOperationRemoved=function(e){('transform'===e.constructor.identifier||'orientation'===e.constructor.identifier)&&this.forceUpdate()},t.prototype._onFlipClick=function(e){var t=this.context.editor,o=this.getSharedState('orientationOperation'),i=e.charAt(0).toUpperCase()+e.slice(1)+'ly',r=!this.getSharedState('flip'+i);this.setSharedState(n()({},'flip'+i,r)),o.flip(e);var a=this.getSharedState('newTransformOptions'),s=-1*this.getSharedState('rotation');t.setRotation(s);var l=this.getSharedState('start').clone(),p=this.getSharedState('end').clone(),d=l.clone();'horizontal'===e?(l.set(1-p.x,l.y),p.set(1-d.x,p.y)):'vertical'===e&&(l.set(l.x,1-p.y),p.set(p.x,1-d.y)),a.start=l,a.end=p,a.rotation=s,this.setSharedState({start:l,end:p,rotation:s,changesDone:!0,newTransformOptions:a}),this.forceUpdate(),t.broadcastFlip(e),t.render()},t.prototype._onRotateClick=function(e){var t=this,o='cw'===e?90:-90,i=this.context.editor,n=this.getSharedState('orientationOperation'),r=(n.getRotation()+o)%360;n.set({rotation:r});var a={orientationRotation:r},s=this.getSharedState('newTransformOptions'),l=this.getSharedState('ratio');if(l)if(!l.dimensions&&'*'===l.ratio){var p=this.getSharedState('start').clone(),d=this.getSharedState('end').clone(),c=p.clone();'cw'===e?(p.set(1-d.y,c.x),d.set(1-c.y,d.x)):'ccw'===e&&(p.set(c.y,1-d.x),d.set(d.y,1-c.x)),a.start=p,a.end=d,s.start=p,s.end=d}else this._emitEvent(m.d.EVENTS.TRANSFORM_REAPPLY_RATIO),this._emitEvent(m.d.EVENTS.TRANSFORM_RESIZE);this.setSharedState({changesDone:!0,newTransformOptions:s}),i.broadcastRotate(o),i.zoom.auto(!0,!0,function(){t.setSharedState(a)})},t.prototype._updateTransformAreaStyles=function(){this._transformContainerRect=this.getImageBoundingRect(),this._imageContainer&&m.u.styleElement(this._imageContainer,{left:this._transformContainerRect.x+'px',top:this._transformContainerRect.y+'px',width:this._transformContainerRect.width+'px',height:this._transformContainerRect.height+'px'})},t.prototype._getAreaStyles=function(){var e,t,o,i,n;this._transformContainer?(e=this._transformContainerRect.getSize(),n=this._transformContainerRect.getPosition(),t=this.getSharedState('start').clone().multiply(e),o=this.getSharedState('end').clone().multiply(e),i=o.clone().subtract(t)):(e=new m.v(0,0),t=new m.v(0,0),i=new m.v(0,0),n=new m.v(0,0));var r=this._getDimensionsStyles(i.x,i.y);return{topLeft:this._getDimensionsStyles(t.x+n.x,t.y+n.y),topCenter:this._getDimensionsStyles(i.x,t.y+n.y),centerLeft:this._getDimensionsStyles(t.x+n.x,i.y),center:{width:r.width},innerTransformContainer:r}},t.prototype._getDimensionsStyles=function(e,t){return{width:p(1,e),height:p(1,t)}},t.prototype._renderOnCanvasControls=function(){var e=this,t=this._getAreaStyles(),o=!this.getSharedState('ratio'),i={backgroundImage:'url(\''+this._getAssetPath('editor/controls/transform/accept.png',!0)+'\')'};return m.l.createElement(b,{innerRef:function(t){e._container=t}},m.l.createElement(C,{className:'js-imageContainer',innerRef:function(t){e._imageContainer=t}},m.l.createElement(A,{className:y,enabled:this.getSharedState('changesDone'),onClick:this._onAcceptClick,onMouseDown:this._onAcceptMouseDown,style:i})),m.l.createElement(E,{visible:this.state.visible,innerRef:function(t){e._transformContainer=t}},m.l.createElement(w,null,m.l.createElement(I,{style:t.topLeft}),m.l.createElement(I,{style:t.topCenter}),m.l.createElement(I,null)),m.l.createElement(w,null,m.l.createElement(I,{style:t.centerLeft}),m.l.createElement(g.a,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag,disabled:o},m.l.createElement(D,{style:t.center,className:y,undraggable:o},!o&&[m.l.createElement(g.a,{onStart:this._onCornerDragStart.bind(this,'top','left'),onDrag:this._onCornerDrag,key:'topLeft'},m.l.createElement(R,{top:!0,left:!0,className:y})),m.l.createElement(g.a,{onStart:this._onCornerDragStart.bind(this,'top','right'),onDrag:this._onCornerDrag,key:'topRight'},m.l.createElement(R,{top:!0,right:!0,className:y})),m.l.createElement(g.a,{onStart:this._onCornerDragStart.bind(this,'bottom','left'),onDrag:this._onCornerDrag,key:'bottomLeft'},m.l.createElement(R,{bottom:!0,left:!0,className:y})),m.l.createElement(g.a,{onStart:this._onCornerDragStart.bind(this,'bottom','right'),onDrag:this._onCornerDrag,key:'bottomRight'},m.l.createElement(R,{bottom:!0,right:!0,className:y})),m.l.createElement(x,{style:t.innerTransformContainer,className:y,key:'inner'},m.l.createElement(w,null,m.l.createElement(O,{right:!0,bottom:!0}),m.l.createElement(O,{right:!0,bottom:!0}),m.l.createElement(O,{bottom:!0})),m.l.createElement(w,null,m.l.createElement(O,{right:!0,bottom:!0}),m.l.createElement(O,{right:!0,bottom:!0}),m.l.createElement(O,{bottom:!0})),m.l.createElement(w,null,m.l.createElement(O,{right:!0}),m.l.createElement(O,{right:!0}),m.l.createElement(O,null)))])),m.l.createElement(I,null)),m.l.createElement(w,null,m.l.createElement(I,null),m.l.createElement(I,null),m.l.createElement(I,null))))},t.prototype._renderControls=function(){var e={backgroundImage:'url(\''+this._getAssetPath('editor/controls/transform/flip.png',!0)+'\')'},t={backgroundImage:'url(\''+this._getAssetPath('editor/controls/transform/rotate.png',!0)+'\')'},o=this.props.options,i=o.enableRotation,n=o.enableFlip,r=o.enableStraighten;return m.l.createElement(f,{className:y},this._renderOnCanvasControls(),m.l.createElement(k,null,m.l.createElement(v,{className:y},n&&[m.l.createElement(B,{style:e,key:'flip-h',onClick:this._onFlipClick.bind(this,'horizontal'),className:y}),m.l.createElement(B,{vertical:!0,style:e,key:'flip-v',onClick:this._onFlipClick.bind(this,'vertical'),className:y})],r&&m.l.createElement(u.a,{value:this.getSharedState('rotation'),onChange:this._onRotationChange}),i&&[m.l.createElement(N,{style:t,key:'rotate-ccw',onClick:this._onRotateClick.bind(this,'ccw'),className:y}),m.l.createElement(N,{clockwise:!0,style:t,key:'rotate-cw',onClick:this._onRotateClick.bind(this,'cw'),className:y})])))},t}(_.a);h.contextTypes=_.a.contextTypes,t.a=h;var f=m.w.div('120drhm','CanvasControls'),b=m.w.div('8gacw5',{draggable:'ovipzq'},'OnCanvasControls'),k=m.w.div('nmw377','BottomControlsContainer'),v=m.w.div('1gk061a','BottomControls'),S=m.w.div('1v9hd4r','TransformContainer'),C=m.w.div('15kzu1c','ImageContainer'),E=Object(m.w)(S)('1kjfwvf',{visible:'zgbg08'},'OuterTransformContainer'),x=Object(m.w)(S)('120drhm','InnerTransformContainer'),w=m.w.div('15u7gri','TransformRow'),T=m.w.div('1q481v0','TransformCell'),O=Object(m.w)(T)('1qh9j3j',{top:'1mup05p',right:'12l7t8k',bottom:'1ebuiz6',left:'txqhsl'},'BorderedTransformCell'),D=Object(m.w)(T)('52h18o',{undraggable:'16s6vgr'},'CenterTransformCell'),I=Object(m.w)(T)('17b4s67','DarkTransformCell'),R=m.w.div('1tai30v',{top:'1stnln8',right:'1wj5vxi',bottom:'17bojqc',left:'1a9ompl'},'Dragger'),P=m.w.button('127b6wl','Button'),B=Object(m.w)(P)('120drhm',{vertical:'12fqiy2'},'FlipButton'),N=Object(m.w)(P)('120drhm',{clockwise:'o7ss47'},'RotateButton'),A=m.w.div('sbdqjz',{enabled:'ro0g1e'},'AcceptButton')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),a=o(2),l=o.n(a),c=o(3),m=o.n(c),_=o(1),g=o(10),u=217,y=45,h=!1,f=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var a=l()(this,e.call.apply(e,[this].concat(i)));return a._bindAll('_onDragStart','_onDrag'),a._width=0,a.state={value:a.props.value||0},a}return m()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._degreesPerPixel=2*y/u},t.prototype.componentWillReceiveProps=function(e){this.state.value!==e.value&&this.setState({value:e.value})},t.prototype._onDragStart=function(){this._initialDegrees=180*this.state.value/r},t.prototype._onDrag=function(e){var t=this._initialDegrees+e.x*this._degreesPerPixel;t=d(y,p(t,-1*y));var o=t*r/180;this.setState({value:o}),this.props.onChange&&this.props.onChange(o)},t.prototype._getValue=function(){return s(180*this.state.value/r)+'\xB0'},t.prototype._getIndicatorPosition=function(){return this._width/2+this.state.value/(y*r/180)*(this._width/2)},t.prototype._getIndicatorStyles=function(){var e=y*r/180;return{left:{left:u/2+this.state.value/e*(u/2)},right:{right:u/2-this.state.value/e*(u/2)}}},t.prototype.render=function(){var e=this._getIndicatorStyles(),t={backgroundImage:'url(\''+this._getAssetPath('editor/controls/transform/degree-slider.png',!0)+'\')',backgroundPosition:e.left.left-4},o={backgroundImage:'url(\''+this._getAssetPath('editor/controls/transform/degree-slider.png',!0)+'\')',backgroundPosition:e.left.left+35};return _.l.createElement(g.a,{onStart:this._onDragStart,onDrag:this._onDrag},_.l.createElement(b,{className:h},_.l.createElement(k,{style:t},_.l.createElement(v,{style:e.left})),_.l.createElement(S,{className:h},this._getValue()),_.l.createElement(k,{style:o},_.l.createElement(v,{style:e.right}))))},t}(_.b);f.contextTypes=_.b.contextTypes,t.a=f;var b=_.w.div('tix0xu','Wrapper'),k=_.w.div('6mdana','RotationSlider'),v=_.w.div('nxjpo','Indicator'),S=_.w.div('d97kws','Value')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),c=o.n(p),_=o(1),g=o(15),u=o(76),y=o(11),h=o(217),f=o(104),b=o(218),k=o(36),v=!1,S=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var p=l()(this,e.call.apply(e,[this].concat(r)));return p._bindAll('_reapplyRatio','_onHistoryUndo','_onResetDefaultClick','_onOperationRemoved','_onOperationUpdated'),p._events=(o={},n()(o,_.d.EVENTS.TRANSFORM_REAPPLY_RATIO,p._reapplyRatio),n()(o,_.d.EVENTS.OPERATION_REMOVED,p._onOperationRemoved),n()(o,_.d.EVENTS.OPERATION_UPDATED,p._onOperationUpdated),n()(o,_.d.EVENTS.HISTORY_UNDO,p._onHistoryUndo),o),p._transformRatioManager=new f.a(p.props.options),p.state.ratio=null,p._selectInitialRatio(!p.getSharedState('transformOperationExistedBeforeEntering')),p}return c()(t,e),t.prototype.shouldSharedComponentUpdate=function(e,t){return e.ratio!==t.ratio},t.prototype._onHistoryUndo=function(e){var t=this,o=this.context.editor;e.forEach(function(e){var i=e.getOperation(),n=e.getData();if('transform'===i){var r={};n.ratio&&(r.ratio=n.ratio);var a=o.operations.get(i),s=t.getSharedState('newTransformOptions');s.start=a.getStart(),s.end=a.getEnd(),s.rotation=a.getRotation(),s.textureScale=a.getTextureScale(),r.newTransformOptions=s,t.setSharedState(r)}})},t.prototype._onOperationUpdated=function(e){var t=this.getSharedState('transformOperation');t!==e||this.setSharedState({rotation:t.getRotation(),start:t.getStart().clone(),end:t.getEnd().clone()})},t.prototype._onOperationRemoved=function(e){var t=this.context.editor,o=this.getSharedState('transformOperation');if(o===e){var i=t.operations.getOrCreate('transform',{enabled:!1}),n=t.getSDK();n.setRotation(0),n.setSpriteScale(1),this.setSharedState({transformOperation:i,rotation:0,initialTransformOptions:i.serializeOptions(),transformOperationExistedBeforeEntering:!1}),i._ratio=null,this._selectInitialRatio(!0,!0)}var r=this.getSharedState('orientationOperation');if(r===e){var a=t.operations.getOrCreate('orientation');this.setSharedState({orientationOperation:a,rotation:0,flipVertically:!1,flipHorizontally:!1})}},t.prototype._onResetDefaultClick=function(){var e=this.context.editor,t=this.getSharedState('orientationOperation'),o=t.getRotation();t.set({flipHorizontally:!1,flipVertically:!1,rotation:0}),e.broadcastRotate(-o);var i=this.getSharedState('newTransformOptions');i.start=new _.v(0,0),i.end=new _.v(1,1),i.rotation=0,this.setSharedState({ratio:null,start:new _.v(0,0),end:new _.v(1,1),orientationRotation:0,rotation:0,flipVertically:!1,flipHorizontally:!1,changesDone:!0}),this._emitEvent(_.d.EVENTS.TRANSFORM_RESIZE),e.setRotation(0),e.setSpriteScale(1),e.zoom.auto(!0,!0)},t.prototype._reapplyRatio=function(){var e=this.getSharedState('ratio');this._selectRatio(e)},t.prototype._selectRatio=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0,i=this.getSharedState('transformOperation');t&&e&&this._setDefaultOptionsForRatio(e,o),i._ratio=e,this.setSharedState({ratio:e},o),o&&this.setSharedState({changesDone:!0}),this._emitEvent(_.d.EVENTS.TRANSFORM_RESIZE)},t.prototype._setDefaultOptionsForRatio=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e||{},i=o.ratio,n=o.dimensions,r=new _.v,a=new _.v;n&&!i&&(i=n.x/n.y);var s=i&&_.u.findIntegerFraction(i);if(!i||'*'===i)r=new _.v(0,0),a=new _.v(1,1);else{var l=this.getSharedState('transformOperation'),p=l.getInputDimensions(!1),c=p.x/p.y,g,u;if(c<=i){var y=m(p.x/s.x)*s.y;u=m(d(y,p.y)/s.y)*s.y,g=u*i,r.set((p.x-g)/2,(p.y-u)/2).floor()}else{var h=m(p.y/s.y)*s.x;g=m(d(h,p.x)/s.x)*s.x,u=g/i,r.set((p.x-g)/2,(p.y-u)/2).floor()}a.copy(r).add(g,u),r.divide(p),a.divide(p)}var f=this.getSharedState('newTransformOptions');f.start=r,f.end=a,this.setSharedState({start:r,end:a},t)},t.prototype._selectInitialRatio=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=this.getSharedState('transformOperation'),i=null,n=this._transformRatioManager.getCategories(),r=n.map(function(e){return e.ratios}).reduce(function(e,t){return e.concat(t)}),a=o._ratio;if(a){var s=r.filter(function(e){return e===a});i=s[0]}if(!i){var l=r.filter(function(e){return e.selected});i=l.pop()}return i||(i=r[0]),this._selectRatio(i,e,t)},t.prototype._renderSections=function(){var e=this,t=function(t){return _.l.createElement(x,{key:t.identifier},_.l.createElement(w,null,e._t('editor.controls.transform.ratios.'+t.identifier+'.name')||t.defaultName),_.l.createElement(T,null,o(t)))},o=function(t){return e._transformRatioManager.getRatiosForCategory(t).map(function(o){var i=e.getSharedState('ratio')===o;return _.l.createElement(h.a,{key:o.identifier,defaultIconPath:'editor/controls/transform/ratios/'+o.identifier+'-default.png',hoverIconPath:'editor/controls/transform/ratios/'+o.identifier+'-hover.png',activeIconPath:'editor/controls/transform/ratios/'+o.identifier+'-active.png',onClick:e._selectRatio.bind(e,o),title:e._t('editor.controls.transform.ratios.'+t.identifier+'.ratios.'+o.identifier)||o.defaultName,identifier:o.identifier,selected:i})})},i=this._transformRatioManager.getCategories();return i.map(function(e){return t(e)})},t.prototype._getRootProps=function(){return{className:v,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this,t=this.getSharedState('ratio');return[_.l.createElement(y.a,{key:'list',direction:'vertical',innerRef:function(t){e._scrollbar=t}},_.l.createElement(E,null,_.l.createElement(C,null,_.l.createElement(u.a,{title:this._t('editor.controls.transform.reset'),className:v,onClick:this._onResetDefaultClick})),this._renderSections())),_.l.createElement(b.a,{key:'transformDimensions',controls:this.props.controls,disabled:!t||!!t.dimensions})]},t}(g.a);S.contextTypes=g.a.contextTypes,S.RootElement=g.a.RootElement,t.a=S;var C=_.w.li('7abnmv','SectionListHeader'),E=Object(_.w)(k.b).ul('x32ss4','SectionList'),x=Object(_.w)(k.a).li('ber9o0','Section'),w=Object(_.w)(k.c).div('15ebqhq','SectionTitle'),T=_.w.ul('1klgjyq','SectionGrid')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=o(14),m=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s.state={hovered:!1},s}return l()(t,e),t.prototype.render=function(){var e=this,t={backgroundImage:'url(\''+this._getAssetPath(this.props.defaultIconPath,!0)+'\')'},o={backgroundImage:'url(\''+this._getAssetPath(this.props.hoverIconPath,!0)+'\')'},i={backgroundImage:'url(\''+this._getAssetPath(this.props.activeIconPath,!0)+'\')'},n=this.props,r=n.selected,a=n.onClick,s=n.identifier,l=n.title,d=this.state.hovered;return p.l.createElement(_,{selected:r,onClick:a,"data-identifier":s,"data-selected":r,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},className:!1},p.l.createElement(c.a,{active:!r},p.l.createElement(g,{style:t})),p.l.createElement(c.a,{active:!r&&d},p.l.createElement(g,{style:o})),p.l.createElement(c.a,{active:r},p.l.createElement(g,{style:i})),p.l.createElement(u,{selected:r},l))},t}(p.b);m.contextTypes=p.b.contextTypes,t.a=m;var _=Object(p.w)(d.g).li('kfnru4','TransformListItem'),g=p.w.div('u0ryhr',{rendered:'2jlos',visible:'82svov'},'Icon'),u=p.w.div('jpjwq7',{selected:'zgbg08'},'Title')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),l=o(3),c=o.n(l),m=o(1),_=o(219),g=o(9),u=o(14),y=!1,h=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i))),l=s._getTransformDimensions();return s.state={dimensions:l,x:l.x,y:l.y},s}return c()(t,e),t.prototype.shouldSharedComponentUpdate=function(e,t){return!e.start.equals(t.start)||!e.end.equals(t.end)||e.ratio!==t.ratio},t.prototype.sharedComponentWillUpdate=function(e,t){if(t.transformOperation){var o=this._getTransformDimensions(),i=o.x,n=o.y;this.state.dimensions=o,this.state.x=i,this.state.y=n}},t.prototype._onInputLiveChange=function(e,t){var o=t.target.value;o.length&&!o.match(/\d+?/i)||(this.state[e]=o&&parseInt(o,10)||'',this.forceUpdate())},t.prototype._onInputChange=function(e){var t=this.state[e]||0,o=this.getSharedState('transformOperation'),i=o.getInputDimensions(!1),n=this.getSharedState('ratio'),r=n.ratio,a=this.getSharedState('start'),l=this.getSharedState('end'),c=l.clone().subtract(a),_=c.clone().multiply(i);if(_[e]=d(i[e],t),'*'!==r){var g=m.u.findIntegerFraction(r);_[e]=p(1,s(_[e]/g[e]))*g[e],'x'===e?_.y=_.x/r:_.x=_.y*r}var u=_.clone();(_.x>i.x||_.y>i.y)&&(u=m.q.resizeVectorToFit(_,i));var h=this._getTransformDimensions(),f=h.x,b=h.y;this.state.dimensions=h,this.state.x=f,this.state.y=b,this._resizeTransformTo(u),this.forceUpdate()},t.prototype._getTransformDimensions=function(){var e=this.getSharedState('transformOperation'),t=this.getSharedState('ratio')||{ratio:'*'},o;if(t.dimensions)o=t.dimensions.clone();else{var i=e.getInputDimensions(!1),n=this.getSharedState('start'),r=this.getSharedState('end'),a=r.clone().subtract(n);o=a.multiply(i).round()}return o},t.prototype._resizeTransformTo=function(e){var t=this.getSharedState('transformOperation'),o=t.getInputDimensions(!1),i=this.getSharedState('start').clone(),n=this.getSharedState('end').clone(),r=e.divide(o);n.copy(i).add(r),1<n.x&&(i.x-=n.x-1,n.x=1),1<n.y&&(i.y-=n.y-1,n.y=1);var a=this.props.controls,s=a.fixTransform(i,n,'right','bottom'),l=s.start,p=s.end,d=this.getSharedState('newTransformOptions');d.start=l,d.end=p,this.setSharedState({start:l,end:p}),this._emitEvent(m.d.EVENTS.TRANSFORM_RESIZE)},t.prototype.render=function(){return m.l.createElement(k,{className:y},m.l.createElement(v,null,m.l.createElement(S,null,m.l.createElement(C,null,m.l.createElement(f,{suffix:this._t('editor.controls.transform.dimensions.width'),name:'width',disabled:this.props.disabled,value:this.state.x,onLiveChange:this._onInputLiveChange.bind(this,'x'),onChange:this._onInputChange.bind(this,'x')})),m.l.createElement(E,null,m.l.createElement(b,{src:this._getAssetPath('editor/controls/transform/dimensions-cross.png',!0)})),m.l.createElement(C,null,m.l.createElement(f,{suffix:this._t('editor.controls.transform.dimensions.height'),name:'height',disabled:this.props.disabled,value:this.state.y,onLiveChange:this._onInputLiveChange.bind(this,'y'),onChange:this._onInputChange.bind(this,'y')}))),m.l.createElement(u.a,{active:this.props.disabled,enterProp:'rendered',enterDuration:300,appearProp:'visible',appearDuration:300,leaveDuration:300},m.l.createElement(x,{className:y},m.l.createElement(w,{src:this._getAssetPath('editor/controls/transform/lock.png',!0)})))))},t}(g.a);h.contextTypes=g.a.contextTypes,t.a=h;var f=Object(m.w)(_.a)('2jlos','DimensionInput'),b=m.w.img('1dew3s1','Cross'),k=m.w.div('1yz821h','TransformDimensions'),v=m.w.div('1dg9k0o','TransformDimensionsWrapper'),S=m.w.div('wlk9p6','Table'),C=m.w.div('1q481v0','Cell'),E=Object(m.w)(C)('13lk3i9','CrossCell'),x=m.w.div('943mx5',{rendered:'2jlos',visible:'rval4i'},'LockOverlay'),w=m.w.img('1hp46pm','Lock')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(220),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onClick'),s}return l()(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.value!==e.value||this.props.disabled!==e.disabled},t.prototype._onClick=function(){this._input.focus()},t.prototype.render=function(){var e=this;return p.l.createElement(m,{className:this.props.className,onClick:this._onClick},p.l.createElement(g,{value:this.props.value,onLiveChange:this.props.onLiveChange,onChange:this.props.onChange,disabled:this.props.disabled,innerRef:function(t){e._input=t},name:this.props.name}),p.l.createElement(_,null,this.props.suffix))},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c;var m=p.w.div('1bubov','Container');c.RootElement=m;var _=p.w.div('1ua5bzq','Suffix'),g=Object(p.w)(d.a)('6ekjfo','Input')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(52),c=function(t){function e(){n()(this,e);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,t.call.apply(t,[this].concat(i)));return s.state.width=0,s}return l()(e,t),e.prototype._onInputChange=function(o){t.prototype._onInputChange.call(this,o),this._adjustWidth(o.target.value)},e.prototype.shouldComponentUpdate=function(e,o){return t.prototype.shouldComponentUpdate.call(this,e,o)||this.state.width!==o.width},e.prototype.componentWillReceiveProps=function(e){this._adjustWidth(e.value)},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this._textRuler=document.createElement('div'),p.u.styleElement(this._textRuler,{position:'absolute',top:'0',left:'0',display:'inline-block',zIndex:10}),this._adjustWidth(this.props.value)},e.prototype._getInputStyle=function(){var e=this.state.width;return{width:e,minWidth:e}},e.prototype._adjustWidth=function(e){document.body.appendChild(this._textRuler);var t=p.u.getStyleObject(this._input);p.u.styleElement(this._textRuler,{font:t.font}),this._textRuler.innerText=e,this.setState({width:this._textRuler.offsetWidth}),this._textRuler.parentNode.removeChild(this._textRuler)},e}(d.a);c.contextTypes=p.b.contextTypes,t.a=c,c.RootElement=Object(p.w)(d.a.RootElement)('n0hw7r','AutoSizeNumericInputComponent')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(18),c=o(222),m=o(78),_=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onOperationRemoved=function(e){var t=this.sharedState.get('operation');e===t&&this._onEnter()},t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('filter'),o=e.operations.getOrCreate('filter'),i=o.serializeOptions();this.sharedState.set({operation:o,initialOptions:i,operationExistedBeforeEntering:t})},t.prototype._onLeave=function(){var e=this.context.editor,t=this.sharedState.state,o=t.operation,i=t.initialOptions,n=t.operationExistedBeforeEntering,r=i.intensity!==o.getIntensity()||i.identifier!==o.getIdentifier();if(o.getFilter().constructor===p.p.Filters.IdentityFilter&&e.operations.remove(o,!1),!!r){var a=i.filter.constructor,s;'3d-lut'===a.identifier&&(s=i.filter.getImage()),this.addHistoryItem({type:'global',operation:o.constructor.identifier,options:{identifier:i.identifier,intensity:i.intensity},undo:function(){var t=e.operations.getOrCreate('filter');'3d-lut'===a.identifier?t.setFilter(new a({image:s,resolution:i.filter.getResolution(),horizontalTileCount:i.filter.getHorizontalTileCount(),verticalTileCount:i.filter.getVerticalTileCount()})):t.setFilter(new a)},existent:n})}},t.isEnabled=function(e){return e.isToolAllowed('filter')&&e.isToolEnabled('filter')},t.getPreloadAssets=function(e){var t=[],o=e.getOptions(),i=p.q.defaults(o.editor.controlsOptions.filter,this.defaultOptions),n=new m.a(e.getUI(),i),r=n.getFiltersForCategory('all');return r.forEach(function(e){'undefined'!=typeof e.lutImage&&t.push([e.lutImage,!1])}),t},t}(d.a);_.clickAtPosition=d.a.clickAtPosition,_.identifier='filter',_.controlsComponent=c.a,_.canvasControlsComponent=d.a.canvasControlsComponent,_.iconPath='editor/controls/filter/icon.png',_.activeIconPath='editor/controls/filter/icon-active.png',_.defaultOptions={categories:[],replaceCategories:!1,availableFilters:null},t.a=_},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(5),a=o.n(r),s=o(0),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(105),u=o(15),y=o(223),h=o(78),f=o(224),b=o(11),k=o(79),v=!1,S=function(e){function t(){l()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=d()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onIntensityChanged','_onListScroll','_onOperationUpdated');var s=r.context,p=s.ui,c=s.editor,m=s.theme;r._loadedFilters=[],r._filterPreviewRenderer=new f.a(c),r._renderQueue=new g.a(1,Infinity,m.listItemSlideInDelay),r._filterManager=new h.a(p,r.props.options),r._filterPreviewQueue=[],r._events=a()({},_.d.EVENTS.OPERATION_UPDATED,r._onOperationUpdated);var u=r.getSharedState('operation');return r.state=_.q.extend(r.state,{intensity:100*u.getIntensity(),category:'all',filterPreviews:[]}),r}return m()(t,e),t.prototype.fixStyles=function(){var t=this;return e.prototype.fixStyles.call(this).then(function(){t._onListScroll()})},t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),this._filterPreviewRenderer.init(),this._renderPreviewsAnimationFrame=Object(_.z)(function(){t._renderPreviews()})},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._renderPreviewsAnimationFrame&&Object(_.x)(this._renderPreviewsAnimationFrame),this._renderQueue.dispose(),this._filterPreviewRenderer.dispose(),this._disposed=!0,window.clearInterval(this._interval)},t.prototype.shouldComponentUpdate=function(e,t){return this.state.intensity!==t.intensity},t.prototype._renderPreviews=function(){var e=this,t=this.context.editor,o=t.getSDK().getRenderer(),i=this._getVisibleFilters().filter(function(t){return-1===e._loadedFilters.indexOf(t)});o.isOfType(_.p.RendererType.WEBGL)?i.forEach(function(t){e._loadedFilters.push(t),e._renderQueue.add(function(){return e._filterManager.instantiateFilterWithIdentifier(t.identifier).then(function(o){return e._disposed?void 0:e._filterPreviewRenderer.render(o).then(function(o){e.state.filterPreviews[t.identifier]=o,e.forceUpdate()})})})}):(this._loadedFilters=this._loadedFilters.concat(i),i.forEach(function(t){e._renderQueue.add(function(){return new n.a(function(o){e.state.filterPreviews[t.identifier]=e._getAssetPath('editor/controls/filter/filters/'+t.identifier+'.png',!0),e.forceUpdate(),o()})})}))},t.prototype._getVisibleFilters=function(){for(var e=[_.p.Filters.IdentityFilter].concat(this._filterManager.getFiltersForCategory(this.state.category)),t=[],o=this._container.getBoundingClientRect(),n=0,i=e.length;n<i;n++){var r=e[n],a=this.refs['filter-'+r.identifier].container,s=a.getBoundingClientRect(),l=!(s.top>o.bottom+o.height||s.bottom<o.top);if(l)t.push(r);else if(t.length)break}return t},t.prototype._onOperationUpdated=function(e){e===this.getSharedState('operation')&&this.forceUpdate()},t.prototype._onListScroll=function(){this._renderPreviews()},t.prototype._onItemClick=function(e){var t=this,o=this.getSharedState('operation');o.getIdentifier()===e||this._filterManager.instantiateFilterWithIdentifier(e).then(function(i){o.set({filter:i,identifier:e,intensity:1});var n=t.context.editor;n.render(),t.forceUpdate(),t.setState({intensity:100})})},t.prototype._onIntensityChanged=function(e){var t=this.context.editor,o=this.getSharedState('operation');o.setIntensity(e/100),t.render(),this.setState({intensity:e})},t.prototype._renderListItems=function(){var e=this,t=this._filterManager.getFiltersForCategory(this.state.category),o=this.getSharedState('operation'),i=o.getIdentifier(),n=this.state.filterPreviews;return[_.p.Filters.IdentityFilter].concat(t).map(function(o,r){var a=o.identifier,s=!n[a]&&r===e._loadedFilters.length,l=a===i;return _.l.createElement(E,{key:a,"data-selected":l,"data-identifier":a,className:v},_.l.createElement(y.a,{ref:'filter-'+a,filter:o,identifier:a,lastChild:o===t[t.length-1],onClick:e._onItemClick.bind(e,a),selected:l,intensity:e.state.intensity,displaySlider:o!==_.p.Filters.IdentityFilter,onIntensityChanged:e._onIntensityChanged,visible:!!n[a],previewUrl:n[a]}),s&&_.l.createElement(x,null))})},t.prototype._getRootProps=function(){return{className:v,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this;return _.l.createElement(b.a,{direction:'vertical',onScroll:this._onListScroll,innerRef:function(t){e._scrollbar=t}},_.l.createElement(C,null,this._renderListItems()))},t}(u.a);S.contextTypes=u.a.contextTypes,S.propTypes=u.a.propTypes,S.RootElement=u.a.RootElement,t.a=S;var C=_.w.ul('9uviv9','List'),E=_.w.li('13hv8io','ListItemContainer'),x=Object(_.w)(k.a)('11ztmqh','LoadingIndicator')},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(0),a=o.n(r),s=o(19),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(32),u=o(6),y=o(14),h=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=d()(this,e.call.apply(e,[this].concat(i)));return r.state={hovered:!1},r}return m()(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.previewUrl!==e.previewUrl||this.props.selected!==e.selected||this.props.visible!==e.visible||this.state.hovered!==t.hovered||this.props.filter!==e.filter||this.props.intensity!==e.intensity&&e.selected},t.prototype.render=function(){var e=this,t=this.props,o=t.lastChild,i=t.onClick,r=t.onIntensityChanged,a=t.selected,s=t.intensity,l=t.displaySlider,p=t.visible,d=t.filter,c=null;this.props.previewUrl&&(c=_.l.createElement(S,{src:this.props.previewUrl}));var m=this.context.theme.transitionDuration;return _.l.createElement(f,n()({},{lastChild:o,onClick:i,visible:p},{animated:!0,innerRef:function(t){e._container=t},onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}}),_.l.createElement(k,{selected:a},c,_.l.createElement(y.a,{active:a&&l,enterProp:'rendered',enterDuration:1e3*m,appearProp:'visible',appearDuration:1e3*m,leaveDuration:1e3*m},a&&l&&_.l.createElement(b,null,_.l.createElement(g.a,{minValue:0,maxValue:100,valueUnit:'',middleDot:!1,value:s,onChange:r}))),_.l.createElement(v,{hovered:this.state.hovered},this._t('editor.controls.filter.filters.'+d.identifier)||d.defaultName),_.l.createElement(y.a,{active:a,enterProp:'rendered',enterDuration:1e3*m,appearProp:'visible',appearDuration:1e3*m,leaveDuration:1e3*m},_.l.createElement(C,{selected:a}))))},l()(t,[{key:'container',get:function(){return this._container}}]),t}(_.b);h.contextTypes=_.b.contextTypes,t.a=h;var f=Object(_.w)(u.a).div('120drhm',{lastChild:'229bd5'},'Item'),b=_.w.div('19g9ike',{visible:'zgbg08',rendered:'2jlos'},'Slider'),k=_.w.div('rf12k1','ItemContainer'),v=Object(_.w)(u.d).span('hpn4lp','ItemTitle'),S=_.w.img('3x5zfy','Preview'),C=Object(_.w)(u.b).div('120drhm','Overlay')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=new r.v(180,80),s=function(){function e(t){n()(this,e),this._editor=t,this._disposed=!1}return e.prototype.init=function(){this._initSDK()},e.prototype.render=function(e){var t=this;return this._filterOperation.setFilter(e),this._sdk.render().then(function(){var e=t._sdk.getCanvas();return e.toDataURL('image/png')})},e.prototype._initSDK=function(){var e=this._editor.getOptions(),t=e.logLevel,o=e.debug,i=e.license,n=e.editor,s=n.smoothDownscaling,l=n.smoothUpscaling,p=n.preferredRenderer,d={logLevel:t,debug:o,pixelRatio:1,smoothDownscaling:s,smoothUpscaling:l,transparent:!0,license:i,image:this._editor.getSDK().getImage(),renderMode:'export',versionCheck:!1,displayWelcomeMessage:!1};this._sdk=new r.p(p,d),this._sdk.resizeTo(a),this._filterOperation=this._sdk.createOperation('filter'),this._transformOperation=this._sdk.createOperation('transform');var c=this._calculateTransformOptions(),m=c.start,_=c.end,g=c.textureScale;this._transformOperation.set({start:m,end:_,textureScale:g}),this._sdk.render()},e.prototype._calculateTransformOptions=function(){var e=this._transformOperation.getInputDimensions(),t=e.x/e.y,o=new r.v,i=new r.v,n=a.x/a.y;if(t<=n){var s=1/e.y*(e.x/n);o.set(0,(1-s)/2),i.set(1,1-o.y)}else{var l=1/e.x*(n*e.y);o.set((1-l)/2,0),i.set(1-o.x,1)}var p=i.clone().subtract(o),d=e.clone().multiply(p),c=a.x/d.x;return{dimensions:a,start:o,end:i,textureScale:c}},e.prototype.dispose=function(){this._sdk&&this._sdk.dispose()},e.prototype.isDisposed=function(){return this._disposed},e}();t.a=s},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(18),d=o(226),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('frame'),o=e.operations.get('frame'),i=o&&o.serializeOptions();this.sharedState.set({operation:o,initialOptions:i,operationExistedBeforeEntering:t})},t.prototype._onLeave=function(){var e=this.sharedState.get('initialOptions'),t=this.sharedState.get('operationExistedBeforeEntering');this.addHistoryItem({type:'global',operation:'frame',options:e,existent:t})},t.prototype._onOperationRemoved=function(){},t.isEnabled=function(e){return e.isToolAllowed('frame')&&e.isToolEnabled('frame')},t}(p.a);c.clickAtPosition=p.a.clickAtPosition,c.getPreloadAssets=p.a.getPreloadAssets,c.identifier='frame',c.controlsComponent=d.a,c.canvasControlsComponent=p.a.canvasControlsComponent,c.iconPath='editor/controls/frame/icon.png',c.activeIconPath='editor/controls/frame/icon-active.png',c.defaultOptions={categories:[],replaceCategories:!1,availableFrames:null},t.a=c},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(106),_=o(15),g=o(227),u=o(229),y=o(108),h=o(12),f={ROOT:1,CATEGORY:2,OPTIONS:3},b=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var p=l()(this,e.call.apply(e,[this].concat(r)));p._bindAll('_onFrameClick','_onReplaceClick','_onHistoryUndo','_onOperationUpdated'),p._initFrameManager(),p._needsStyleFixes=!0;var d=f.ROOT,m=p.getSharedState('operation');return m&&m.getFrame()&&(d=f.OPTIONS),p.state={currentPanel:d},p._events=(o={},n()(o,c.d.EVENTS.HISTORY_UNDO,p._onHistoryUndo),n()(o,c.d.EVENTS.OPERATION_UPDATED,p._onOperationUpdated),o),p}return d()(t,e),t.prototype.fixStyles=function(){var t=this;return this._list.style.height='100%',e.prototype.fixStyles.call(this).then(function(){if(c.u.Browser.isIElte(10)){var e=t._container.offsetHeight;t._list.style.height=e+'px'}return t.refs.panel.fixStyles()})},t.prototype.componentDidUpdate=function(e,t){this.state.currentPanel!==t.currentPanel&&this.fixStyles()},t.prototype._initFrameManager=function(){this._frameManager=new m.a(this.context.ui,this.props.options)},t.prototype._onOperationUpdated=function(e){e===this.getSharedState('operation')&&this.forceUpdate()},t.prototype._onHistoryUndo=function(){var e=this.context.editor,t=e.operations.get('frame');if(!t||t&&!t.getFrame())return this.setState({currentPanel:f.ROOT})},t.prototype._onReplaceClick=function(){this.setState({currentPanel:f.ROOT})},t.prototype._onCategoryClick=function(e){this.setState({currentPanel:f.CATEGORY,category:e})},t.prototype._onFrameClick=function(e){var t=this,o=this.context.editor;if(this.props.controls.registerLocalHistoryChange('frame-image',!1,'frame'),!e){var i=this.getSharedState('operation');return void(i&&(o.operations.remove(i),this.setSharedState({operation:null}),o.render()))}var n=new y.a(this.context.ui,e),r=o.operations.getOrCreate('frame'),a=setTimeout(function(){s=h.a.instance.displayLoading(t._t('loading.loading'))},100),s;n.load().then(function(){s&&s.close(),a&&(clearTimeout(a),a=null),r.setFrame(n.getFrame()),o.render(),t.setSharedState({operation:r},!1),t.setState({currentPanel:f.OPTIONS})})},t.prototype._renderCurrentPanel=function(){var e=this,t=this.props.controls;switch(this.state.currentPanel){case f.ROOT:return c.l.createElement(g.a,{innerRef:function(t){e._list=t},frameManager:this._frameManager,onFrameClick:this._onFrameClick,controls:t,ref:'panel'});case f.OPTIONS:return c.l.createElement(u.a,{innerRef:function(t){e._list=t},frameManager:this._frameManager,onReplaceClick:this._onReplaceClick,onNewFrameClick:this._onNewFrameClick,controls:t,ref:'panel'});}},t.prototype._getRootProps=function(){return{className:!1,withBorderTop:!0}},t.prototype._renderContent=function(){return this._renderCurrentPanel()},t}(_.a);b.contextTypes=_.a.contextTypes,b.RootElement=_.a.RootElement,t.a=b},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(11),_=o(228),g=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){c.u.Browser.isIElte(10)?Object(c.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.render=function(){var e=this,t=this.props,o=t.frameManager,i=t.innerRef;return c.l.createElement(u,{innerRef:function(t){i&&i(t),e._wrapper=t},className:!1},c.l.createElement(m.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(_.a,{frames:o.getFramesForCategory('all'),onFrameClick:this.props.onFrameClick})))},t}(c.b);g.contextTypes=c.b.contextTypes,t.a=g;var u=c.w.div('rfecls','Wrapper')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(9),c=o(6),m=!1,_=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onFrameClick=function(e){this.props.onFrameClick&&this.props.onFrameClick(e)},t.prototype._renderListItems=function(){var e=this,t=this.props.frames,o=this.getSharedState('operation'),i;o&&o.getFrame()&&(i=o.getFrame().identifier);var n=this.getSharedState('selectedSprite');return n&&(i=n.getIdentifier()),t.map(function(t){var o=e._getAssetPath(t.thumbnail);return p.l.createElement(u,{selected:t.identifier===i,key:t.identifier,onClick:e._onFrameClick.bind(e,t),className:m,twoColumns:!0},p.l.createElement(y,{style:{background:'url(\''+o+'\') no-repeat center center',backgroundSize:'contain'}}))})},t.prototype.render=function(){var e=this.getSharedState('operation'),t=e&&e.getFrame();return p.l.createElement(g,null,p.l.createElement(u,{selected:!t,onClick:this._onFrameClick.bind(this,null),className:m,withText:!0,twoColumns:!0},'None'),this._renderListItems())},t}(d.a);_.contextTypes=d.a.contextTypes,t.a=_;var g=p.w.ul('18qztam','FrameList'),u=Object(p.w)(c.g).li('u8nfgk','FrameListItem'),y=p.w.div('7r0ke8','FrameImage')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(5),a=o.n(r),l=o(0),p=o.n(l),d=o(2),c=o.n(d),m=o(3),_=o.n(m),g=o(1),u=o(9),y=o(6),h=o(37),f=o(53),b=o(11),k=o(54),v=!1,S=function(e){function t(){p()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=c()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onTintToggle','_onTintColorChange','_onOpacityChange','_onWidthChange','_onHistoryUndo'),r._events=a()({},g.d.EVENTS.HISTORY_UNDO,r._onHistoryUndo);var s=r.getSharedState('operation');return r.state={tintEnabled:0<s.getTintColor().a,tintColor:s.getTintColor()},r}return _()(t,e),t.prototype._onTintToggle=function(){this.props.controls.registerLocalHistoryChange('frame-tint-enabled');var e=this.getSharedState('operation'),t=this.state.tintEnabled,o=e.getTintColor().clone();o.a=t?0:1,e.setTintColor(o);var i=this.context.editor;i.render(),this.setState({tintEnabled:!t})},t.prototype._onTintColorChange=function(e){this.props.controls.registerLocalHistoryChange('frame-tint-color',!0);var t=this.getSharedState('operation');t.setTintColor(e.clone());var o=this.context.editor;o.render(),this.forceUpdate()},t.prototype._onHistoryUndo=function(){var e=this.context.editor;if(e.operations.exists('frame')){var t=this.getSharedState('operation');t.getFrame()&&this.setState({tintEnabled:0<t.getTintColor().a,tintColor:t.getTintColor().clone()})}},t.prototype._onOpacityChange=function(e){this.props.controls.registerLocalHistoryChange('frame-opacity',!0);var t=this.getSharedState('operation');t.setAlpha(e/100);var o=this.context.editor;o.render(),this.forceUpdate()},t.prototype._onWidthChange=function(e){this.props.controls.registerLocalHistoryChange('frame-width',!0);var t=this.context.editor,o=this.getSharedState('operation'),i=o.getInputDimensions().min();o.setScale(e/i),t.render(),this.forceUpdate()},t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){g.u.Browser.isIElte(10)?Object(g.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.render=function(){var e=this,t=this.props,o=t.innerRef,i=t.onReplaceClick,n=this.getSharedState('operation'),r=n.getFrame(),a=n.getInputDimensions(),l=a.min(),p=r.tintable,d={background:'url(\''+this._getAssetPath(r.thumbnail,!1)+'\') center center / contain no-repeat'};return g.l.createElement(C,{innerRef:function(t){o&&o(t),e._wrapper=t},className:v},g.l.createElement(b.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},g.l.createElement('div',null,g.l.createElement(E,null,g.l.createElement(x,null,g.l.createElement(w,null,g.l.createElement(T,{style:d,onClick:i})),g.l.createElement(O,null,g.l.createElement(D,null,this._t('editor.controls.frame.frames.'+r.identifier)||r.defaultName),g.l.createElement(I,{onClick:i,className:v},this._t('editor.controls.frame.replace')))),g.l.createElement(h.a,{minValue:0,value:s(100*n.getAlpha()),maxValue:100,label:this._t('editor.controls.frame.opacity'),onSliderValueChange:this._onOpacityChange,onValueChange:this._onOpacityChange,middleDot:!1,className:v}),g.l.createElement(h.a,{minValue:0.05*l,value:s(n.getScale()*l),maxValue:0.3*l,label:this._t('editor.controls.frame.width'),onSliderValueChange:this._onWidthChange,onValueChange:this._onWidthChange,middleDot:!1,className:v})),p&&g.l.createElement(k.a,{toggleable:!0,title:this._t('editor.controls.frame.fill'),expanded:this.state.tintEnabled,className:v,onToggle:this._onTintToggle},g.l.createElement(R,{value:this.state.tintColor,onColorPickerToggle:this.fixStyles,onChange:this._onTintColorChange})))))},t}(u.a);S.contextTypes=u.a.contextTypes,t.a=S;var C=g.w.div('rfecls','Wrapper'),E=g.w.div('1vnvjau','TopSection'),x=g.w.div('16woy02','Details'),w=Object(g.w)(y.h).div('6u8g0p','Thumbnail'),T=g.w.div('7r0ke8','ThumbnailImage'),O=g.w.div('1trlo6v','DetailsContainer'),D=g.w.div('w9mc0y','Title'),I=g.w.div('1rhky7p','ReplaceButton'),R=Object(g.w)(f.a)('1ouwzwk','ColorSelection')},function(e,t,o){e.exports={default:o(231),__esModule:!0}},function(e,t,o){o(232),e.exports=o(7).Number.isNaN},function(e,t,o){var i=o(16);i(i.S,'Number',{isNaN:function(e){return e!=e}})},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(234),a=o.n(r),s=o(0),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(241),u=o(242),y=o(243),h=o(107),f=o(244),b=!1,k=function(e){function t(){l()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=d()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onHexValueChange','_onAlphaChange','_onHueChange','_onSaturationBrightnessChange');var s=r.props.color.clone(),p=s.toHSV(),c=a()(p,3),m=c[0],_=c[1],g=c[2];return r.state={color:s,hue:m,saturation:_,brightness:g},r}return m()(t,e),t.prototype._onHexValueChange=function(e){if(!e.match(/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i))return this.forceUpdate();3===e.length&&(e+=e);var t=_.c.fromHex(e),o=this.state.color;o.copy(t),this.props.onChange&&this.props.onChange(o.clone());var i=o.toHSV(),n=a()(i,3),r=n[0],s=n[1],l=n[2];this.setState({hue:r,saturation:s,brightness:l})},t.prototype._onAlphaChange=function(e){var t=this.state.color;t.a=e,this.props.onChange&&this.props.onChange(t.clone()),this.forceUpdate()},t.prototype._onHueChange=function(e){var t=this.state.color,o=t.toHSV(),i=a()(o,3),n=i[1],r=i[2],s=t.a;t.fromHSV(e,n,r),t.a=s,this.props.onChange&&this.props.onChange(t.clone()),this.setState({color:t,hue:e})},t.prototype._onSaturationBrightnessChange=function(e,t){var o=this.state.color,i=o.a;o.fromHSV(this.state.hue,e,t),o.a=i,this.props.onChange&&this.props.onChange(o.clone()),this.setState({color:o,saturation:e,brightness:t})},t.prototype._changeColorComponent=function(e,t){var o=this.state.color;o[e]=t/255,this.props.onChange&&this.props.onChange(o.clone());var i=o.toHSV(),n=a()(i,3),r=n[0],s=n[1],l=n[2];this.setState({hue:r,saturation:s,brightness:l})},t.prototype._renderContent=function(){var e=this.state,t=e.hue,o=e.saturation,i=e.brightness,r=e.color,a={hue:t,saturation:o,brightness:i};return[_.l.createElement(S,{key:'arrow'}),_.l.createElement(C,{key:'colorPicker',className:b},_.l.createElement(E,n()({},a,{onChange:this._onSaturationBrightnessChange})),_.l.createElement(x,n()({},a,{onChange:this._onHueChange})),_.l.createElement(w,{value:r.a,color:r,onChange:this._onAlphaChange}),_.l.createElement(T,null,_.l.createElement(f.a,{inputLabel:'Hex',value:r.toHex().substr(1),inputClassName:b,onValueChange:this._onHexValueChange}),_.l.createElement(h.a,{inputLabel:'R',value:r.toRGB()[0],minValue:1,maxValue:255,inputClassName:b,onValueChange:this._changeColorComponent.bind(this,'r')}),_.l.createElement(h.a,{inputLabel:'G',value:r.toRGB()[1],minValue:1,maxValue:255,inputClassName:b,onValueChange:this._changeColorComponent.bind(this,'g')}),_.l.createElement(h.a,{inputLabel:'B',value:r.toRGB()[2],minValue:1,maxValue:255,inputClassName:b,onValueChange:this._changeColorComponent.bind(this,'b')})))]},t.prototype.render=function(){var e=this.props,t=e.rendered,o=e.visible;return _.l.createElement(v,{rendered:t,visible:o},t&&this._renderContent())},t}(_.b);k.contextTypes=_.b.contextTypes,t.a=k;var v=_.w.div('fko51h',{rendered:'2jlos',visible:'zgbg08'},'ColorPickerContainer'),S=_.w.div('xfcvqs','TopArrow'),C=_.w.div('1gzvppb','ColorPicker'),E=Object(_.w)(y.a)('120drhm','SaturationValueSlider'),x=Object(_.w)(g.a)('1cbv91b','HueSlider'),w=Object(_.w)(u.a)('tnkwnw','OpacitySlider'),T=_.w.div('142apfo','ColorValueInputs')},function(e,t,o){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=o(235),r=i(n),a=o(238),s=i(a);t.default=function(){function e(e,t){var o=[],i=!0,n=!1,r;try{for(var a=(0,s.default)(e),l;!(i=(l=a.next()).done)&&(o.push(l.value),!(t&&o.length===t));i=!0);}catch(e){n=!0,r=e}finally{try{!i&&a['return']&&a['return']()}finally{if(n)throw r}}return o}return function(t,o){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return e(t,o);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}()},function(e,t,o){e.exports={default:o(236),__esModule:!0}},function(e,t,o){o(44),o(40),e.exports=o(237)},function(e,t,o){var i=o(70),n=o(8)('iterator'),r=o(30);e.exports=o(7).isIterable=function(e){var t=Object(e);return t[n]!==void 0||'@@iterator'in t||r.hasOwnProperty(i(t))}},function(e,t,o){e.exports={default:o(239),__esModule:!0}},function(e,t,o){o(44),o(40),e.exports=o(240)},function(e,t,o){var i=o(20),n=o(98);e.exports=o(7).getIterator=function(e){var t=n(e);if('function'!=typeof t)throw TypeError(e+' is not iterable!');return i(t.call(e))}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),c=o(1),m=o(10),_=o(81),g=!1,u=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKnobDragStart','_onKnobDrag','_setValue'),s.state={value:s.props.hue},s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._renderCanvas()},t.prototype.componentWillReceiveProps=function(e){this.setState({value:e.hue})},t.prototype._onKnobDragStart=function(t,o,i){this._sliderWidth=this._slider.offsetWidth,i.target===this._knob?this._initialValue=this.state.value:(this._initialValue=t.x/this._sliderWidth,this._setValue(this._initialValue))},t.prototype._onKnobDrag=function(e){var t=this._initialValue+e.x/this._sliderWidth;this._setValue(t)},t.prototype._setValue=function(e){var t=d(1,p(0,e));this.setState({value:t}),this.props.onChange&&this.props.onChange(t),this.forceUpdate()},t.prototype._renderCanvas=function(){var e=this._canvas,t=e.getContext('2d');e.width=e.offsetWidth,e.height=e.offsetHeight;for(var o=0;o<e.width;o++){var i=o/e.width,n=c.c.fromHSV(i,1,1);t.strokeStyle=n.toRGBA(),t.beginPath(),t.moveTo(o,0),t.lineTo(o,e.height),t.stroke()}},t.prototype.render=function(){var e=this;return c.l.createElement(m.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(y,{styles:this.props.styles,innerRef:function(t){e._slider=t},className:g},c.l.createElement(f,{innerRef:function(t){e._canvas=t}}),c.l.createElement(h,{style:this._getKnobStyle(),innerRef:function(t){e._knob=t},className:g})))},t.prototype._getKnobStyle=function(){return{left:(100*this.props.hue).toFixed(2)+'%'}},t}(c.b);u.contextTypes=c.b.contextTypes,t.a=u;var y=Object(c.w)(_.a).div('120drhm','HueSlider');u.RootElement=y;var h=Object(c.w)(_.c).div('120drhm','Knob'),f=Object(c.w)(_.b).canvas('u98vhm','Background')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),c=o(1),m=o(10),_=o(81),g=!1,u=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKnobDragStart','_onKnobDrag','_updateBackgroundColors','_setValue'),s.state={color:s.props.color.clone(),value:s.props.value},s}return l()(t,e),t.prototype._updateBackgroundColors=function(){this._transparentColor=this.state.color.clone(),this._transparentColor.a=0,this._opaqueColor=this.state.color.clone(),this._opaqueColor.a=1},t.prototype.componentWillReceiveProps=function(e){this.setState({color:e.color.clone(),value:e.value})},t.prototype._onKnobDragStart=function(t,o,i){this._sliderWidth=this._slider.offsetWidth,i.target===this._knob?this._initialValue=this.state.value:(this._initialValue=1-t.x/this._sliderWidth,this._setValue(this._initialValue))},t.prototype._onKnobDrag=function(e){var t=this._initialValue-e.x/this._sliderWidth;this._setValue(t)},t.prototype._setValue=function(e){var t=d(1,p(0,e));this.props.onChange&&this.props.onChange(t),this.setState({value:t}),this.forceUpdate()},t.prototype.render=function(){var e=this;this._updateBackgroundColors();var t=this._getAssetPath('editor/controls/shared/tiled-background.png',!0);return c.l.createElement(m.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(y,{styles:this.props.styles,innerRef:function(t){e._slider=t},className:g},c.l.createElement(b,{style:{backgroundImage:'url('+t+')'}}),c.l.createElement(f,{style:{backgroundImage:'linear-gradient(90deg, '+this._opaqueColor.toRGBA()+' 0%, '+this._transparentColor.toRGBA()+' 100%)'}}),c.l.createElement(h,{style:this._getKnobStyle(),innerRef:function(t){e._knob=t},className:g})))},t.prototype._getKnobStyle=function(){return{left:(100*(1-this.state.value)).toFixed(2)+'%'}},t}(c.b);u.contextTypes=c.b.contextTypes,t.a=u;var y=Object(c.w)(_.a).div('120drhm','OpacitySlider');u.RootElement=y;var h=Object(c.w)(_.c).div('120drhm','Knob'),f=Object(c.w)(_.b).div('120drhm','Background'),b=Object(c.w)(f)('m87q12','TiledBackground')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),c=o(1),m=o(10),_=o(81),g=!1,u=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKnobDragStart','_onKnobDrag'),s._lastHue=null,s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._renderCanvas()},t.prototype.componentDidUpdate=function(){this.props.hue!==this._lastHue&&this._renderCanvas()},t.prototype._onKnobDragStart=function(t,o,i){i.target===this._knob?(this._initialBrightness=this.props.brightness,this._initialSaturation=this.props.saturation):(this._initialSaturation=t.x/this._canvas.offsetWidth,this._initialBrightness=1-t.y/this._canvas.offsetHeight,this.props.onChange&&this.props.onChange(this._initialSaturation,this._initialBrightness))},t.prototype._onKnobDrag=function(e){if(null!=this._canvas){var t=this._canvas.offsetWidth,o=this._canvas.offsetHeight,i=this._initialSaturation+e.x/t;i=p(0,d(1,i));var n=this._initialBrightness+-1*(e.y/o);n=p(0,d(1,n)),this.props.onChange&&this.props.onChange(i,n)}},t.prototype._renderCanvas=function(){var e=this._canvas,t=e.getContext('2d');e.width=e.offsetWidth,e.height=e.offsetHeight;for(var o=t.getImageData(0,0,e.width,e.height),i=0,n;i<e.height;i++){n=(e.height-i)/e.height;for(var s=0;s<e.width;s++){var l=s/e.width,p=c.c.fromHSV(this.props.hue,l,n),d=p.r,r=p.g,m=p.b,_=p.a,a=4*(i*e.width+s);o.data[a]=255*d,o.data[a+1]=255*r,o.data[a+2]=255*m,o.data[a+3]=255*_}}t.putImageData(o,0,0),this._lastHue=this.props.hue},t.prototype.render=function(){var e=this;return c.l.createElement(m.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},c.l.createElement(y,{styles:this.props.styles,innerRef:function(t){e._slider=t},className:g},c.l.createElement(f,{innerRef:function(t){e._canvas=t}}),c.l.createElement(h,{style:this._getKnobStyle(),innerRef:function(t){e._knob=t},className:g})))},t.prototype._getKnobStyle=function(){return{left:(100*this.props.saturation).toFixed(2)+'%',top:(100*(1-this.props.brightness)).toFixed(2)+'%'}},t}(c.b);u.contextTypes=c.b.contextTypes,t.a=u;var y=Object(c.w)(_.a).div('1jf8fwr','SaturationValueSlider');u.RootElement=y;var h=Object(c.w)(_.c).div('icy3f1','Knob'),f=Object(c.w)(_.b).canvas('15alfoa','Background')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(107),c=o(52),m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onInputChange=function(e){var t=e.target.value;return t.match(/^#([A-Fa-f0-9]{6})$/)?this.setState({value:this.props.value}):void(this.props.onValueChange&&this.props.onValueChange(t),this.setState({value:t}))},t.prototype._renderRightPart=function(){var e=this,t=[];return this.props.inputClassName&&t.push(this.props.inputClassName),p.l.createElement(_,{value:this.state.value,onLiveChange:this._onInputLiveChange,onChange:this._onInputChange,className:t.join(' '),innerRef:function(t){e._input=t},disabled:this.props.disabled})},t}(d.a);m.contextTypes=d.a.contextTypes,t.a=m;var _=Object(p.w)(c.a)('t0ruqq','InputField')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this._getAssetPath('editor/controls/shared/checkbox.png',!0),t=this._getAssetPath('editor/controls/shared/checkbox-active.png',!0),o=this.props,i=o.styles,n=o.className,r=o.checked;return p.l.createElement(c,{styles:i,className:n,style:{backgroundImage:'url('+(r?t:e)+')'}})},t}(p.b);t.a=d;var c=p.w.div('5nuoh','Checkbox');d.RootElement=c},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(18),c=o(247),m=o(252),_=p.p.Operations.SpriteOperation,g=_.StickerSprite,u=_.BrushSprite,y=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('sprite'),o=e.operations.getOrCreate('sprite'),i=o.serializeOptions();e.zoom.auto(),e.features.disable('zoom','drag'),this.sharedState.set({operationExistedBeforeEntering:t,operation:o,initialOptions:i})},t.prototype._onLeave=function(){var e=this.sharedState.getState(),t=e.initialOptions,o=e.operation,i=e.operationExistedBeforeEntering;o.optionsEqual(t)||this.addHistoryItem({type:'global',operation:'sprite',options:t,existent:i});var n=this.context.editor;n.features.enable('zoom','drag'),n.render()},t.clickAtPosition=function(e,t){if(!t.operations.exists('sprite'))return!1;var o=t.operations.getOrCreate('sprite'),i=o.getSpritesAtPosition(e,t.getOutputTextureDimensions()).filter(function(e){return!(e instanceof u)});return i.length&&i[0]instanceof g&&{selectedSprite:i[0]}},t.getPreloadAssets=function(){return['editor/controls/shared/canvas-overlay-controls/to-front.png','editor/controls/shared/canvas-overlay-controls/duplicate.png','editor/controls/shared/canvas-overlay-controls/delete.png']},t.isEnabled=function(e){return e.isToolAllowed('sticker')&&e.isToolEnabled('sticker')},t}(d.a);y.identifier='sticker',y.controlsComponent=c.a,y.canvasControlsComponent=m.a,y.iconPath='editor/controls/sticker/icon.png',y.activeIconPath='editor/controls/sticker/icon-active.png',y.defaultOptions={categories:[],replaceCategories:!1,availableStickers:null,snapRotation:90,snapRotationTolerance:5},t.a=y},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(12),_=o(38),g=o(15),u=o(248),y=o(250),h=o(251),f={ROOT:1,CATEGORY:2,OPTIONS:3},b=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));r._bindAll('_onCategoryClick','_onStickerClick','_onBackClick','_onNewStickerClick','_onReplaceClick'),r._initStickerManager(),r._needsStyleFixes=!0;var s=f.ROOT;return r.getSharedState('selectedSprite')&&(s=f.OPTIONS),r.state.currentPanel=s,r}return d()(t,e),t.prototype.fixStyles=function(){var t=this;return this._list.style.height='100%',e.prototype.fixStyles.call(this).then(function(){if(c.u.Browser.isIElte(10)){var e=t._container.offsetHeight;t._list.style.height=e+'px'}return t.refs.panel.fixStyles()})},t.prototype.sharedStateDidChange=function(e,t){e.selectedSprite!==t.selectedSprite&&t.selectedSprite&&this.setState({currentPanel:f.OPTIONS})},t.prototype.componentDidUpdate=function(e,t){this.state.currentPanel!==t.currentPanel&&this.fixStyles()},t.prototype._initStickerManager=function(){var e=this.props.options,t=e.categories,o=e.replaceCategories,i=e.availableStickers;this._stickerManager=new _.a(this.context.ui,{categories:t,replaceCategories:o,availableStickers:i})},t.prototype._loadStickerImage=function(e){var t=this;return new n.a(function(o,i){var n=e.images.mediaBase,r=_.a.getURLForSticker(e,'base'),a=t._getAssetPath(r),s=new window.Image,l=setTimeout(function(){p=m.a.instance.displayLoading(t._t('loading.loading'))},100),p;s.addEventListener('load',function(){p&&p.close(),l&&(clearTimeout(l),l=null),'undefined'!=typeof n.width&&'undefined'!=typeof n.height&&(s.width=n.width,s.height=n.height),o(s)}),s.addEventListener('error',function(){p&&p.close(),l&&(clearTimeout(l),l=null),m.a.instance.displayError(t._t('errors.title'),t._t('errors.stickerLoadingError.text',{path:s.src})),i(new Error('Loading sticker failed'))}),s.crossOrigin='Anonymous',s.src=a})},t.prototype._createSticker=function(e){var t=this;return this._loadStickerImage(e).then(function(o){var i=t.context.editor;t.props.controls.registerLocalHistoryChange('sticker-creation',!0);var n=t.getSharedState('operation'),r=n.getInputDimensions(!1),a=new c.v(o.width,o.height),s=new c.v(0.5*r.min(),0.5*r.min()),l=n.createSticker({identifier:e.identifier,image:o,position:new c.v(0.5,0.5),dimensions:c.q.resizeVectorToFit(a,s),rotation:0,smoothDownscaling:t.props.options.smoothDownscaling});return n.addSprite(l),i.render(function(){t.setSharedState({selectedSprite:l})}),l})},t.prototype._onReplaceClick=function(){this.setState({currentPanel:f.ROOT})},t.prototype._onNewStickerClick=function(){this.state.currentPanel=f.ROOT,this.setSharedState({selectedSprite:null})},t.prototype._onCategoryClick=function(e){this.setState({currentPanel:f.CATEGORY,category:e})},t.prototype._onBackClick=function(){this.setState({currentPanel:f.ROOT})},t.prototype._onStickerClick=function(e){var t=this,o=this.getSharedState('selectedSprite'),i=function(){t.setState({currentPanel:f.OPTIONS})},n=this.context.editor;o?(this.props.controls.registerLocalHistoryChange('sticker-image',!0),this._loadStickerImage(e).then(function(t){var r=o.getDimensions().clone(),a=r.max(),s=new c.v(a,a),l=new c.v(t.width,t.height),p={image:t,identifier:e.identifier,dimensions:c.q.resizeVectorToFit(l,s)};'none'!==o.getTintMode()&&o.setTintMode(e.tintMode||'none'),o.set(p),o.setImage(t),n.render(),i()})):this._createSticker(e).then(function(e){t.setSharedState({selectedSprite:e}),i()})},t.prototype._renderCurrentPanel=function(){var e=this,t=this.props.controls;switch(this.state.currentPanel){case f.ROOT:return c.l.createElement(u.a,{innerRef:function(t){e._list=t},stickerManager:this._stickerManager,onCategoryClick:this._onCategoryClick,onStickerClick:this._onStickerClick,controls:t,ref:'panel'});case f.CATEGORY:return c.l.createElement(y.a,{innerRef:function(t){e._list=t},category:this.state.category,stickerManager:this._stickerManager,onBackClick:this._onBackClick,onStickerClick:this._onStickerClick,controls:t,ref:'panel'});case f.OPTIONS:return c.l.createElement(h.a,{innerRef:function(t){e._list=t},stickerManager:this._stickerManager,onReplaceClick:this._onReplaceClick,onNewStickerClick:this._onNewStickerClick,controls:t,ref:'panel'});}},t.prototype._getRootProps=function(){return{className:!1,withBorderTop:!0}},t.prototype._renderContent=function(){return this._renderCurrentPanel()},t}(g.a);b.contextTypes=g.a.contextTypes,b.RootElement=g.a.RootElement,t.a=b},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(11),_=o(249),g=o(109),u=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r.state={category:'all'},r}return d()(t,e),t.prototype._onCategoryClick=function(e){this.props.onCategoryClick&&this.props.onCategoryClick(e)},t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){c.u.Browser.isIElte(10)?Object(c.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype._renderListItems=function(){var e=this,t=this.props.stickerManager,o=t.getCategories();return o.map(function(t){return c.l.createElement(_.a,{key:t.identifier,category:t,onClick:e._onCategoryClick.bind(e,t)})})},t.prototype.render=function(){var e=this,t=this.props,o=t.stickerManager,i=t.innerRef;return c.l.createElement(y,{innerRef:function(t){i&&i(t),e._wrapper=t},className:!1},c.l.createElement(m.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(h,null,this._renderListItems()),c.l.createElement(g.a,{stickers:o.getStickersForCategory('all'),onStickerClick:this.props.onStickerClick})))},t}(c.b);u.contextTypes=c.b.contextTypes,t.a=u;var y=c.w.div('rfecls','Wrapper'),h=c.w.ul('5jg0ou','CategoryList')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props.category,t=this._getAssetPath(e.metaData.backgroundImage);return p.l.createElement(m,{onClick:this.props.onClick,style:{backgroundImage:'url(\''+t+'\')'},className:!1},p.l.createElement(g,null,this._t('editor.controls.sticker.stickerCategories.'+e.identifier)||e.defaultName),p.l.createElement(_,null))},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c;var m=Object(p.w)(d.a).li('1dc04zg','StickerCategoryItem'),_=p.w.div('1fxaw8w','Gradient'),g=Object(p.w)(d.d).div('120drhm','Title')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(11),_=o(109),g=o(6),u=!1,y=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){c.u.Browser.isIElte(10)?Object(c.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.render=function(){var e=this,t=this.props,o=t.stickerManager,i=t.category,n=t.onBackClick,r=t.onStickerClick,a=t.innerRef,s=this._getAssetPath(i.metaData.backgroundImage),l={backgroundImage:'url(\''+this._getAssetPath('editor/controls/shared/back.png',!0)+'\')'},p=o.getStickersForCategory(i.identifier);return c.l.createElement(h,{innerRef:function(e){return a&&a(e)},className:u},c.l.createElement(f,{style:{backgroundImage:'url(\''+s+'\')',backgroundSize:'cover'}},c.l.createElement(b,null,c.l.createElement(v,null,this._t('editor.controls.sticker.stickerCategories.'+i.identifier)||i.defaultName),i.metaData.author&&c.l.createElement(S,null,c.l.createElement('span',null,'by '),i.metaData.author),c.l.createElement(C,{style:l,onClick:n.bind(this),className:u}))),c.l.createElement(k,{innerRef:function(t){e._wrapper=t}},c.l.createElement(m.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(_.a,{stickers:p,onStickerClick:r}))))},t}(c.b);y.contextTypes=c.b.contextTypes,t.a=y;var h=c.w.div('iauaz2','StickerCategoryPanel'),f=c.w.div('2j8ygm','Header'),b=c.w.div('3wd3qf','HeaderContent'),k=c.w.div('zb78lb','Content'),v=Object(c.w)(g.c).div('kswtk0','Title'),S=Object(c.w)(g.c).div('1qn5s6u','Subtitle'),C=c.w.button('1t2nim8','BackButton')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),l=o(2),p=o.n(l),d=o(3),c=o.n(d),m=o(1),_=o(9),g=o(76),u=o(6),y=o(37),h=o(54),f=o(53),b=o(11),k=!1,v=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=p()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onTintToggle','_onTintColorChange','_onOpacityChange'),r}return c()(t,e),t.prototype._getStickerObject=function(){var e=this.props.stickerManager,t=this.getSharedState('selectedSprite'),o=t.getIdentifier();return e.getStickerByIdentifier(o)},t.prototype._onOpacityChange=function(e){this.props.controls.registerLocalHistoryChange('sticker-opacity',!0);var t=this.getSharedState('selectedSprite');t.setAlpha(e/100);var o=this.context.editor;o.render(),this.forceUpdate()},t.prototype._onTintToggle=function(e){this.props.controls.registerLocalHistoryChange('sticker-tint',!0);var t=this.getSharedState('selectedSprite'),o=this._getStickerObject();t.setTintMode(e?o.tintMode:'none');var i=this.context.editor;i.render(),this.forceUpdate()},t.prototype._onTintColorChange=function(e){this.props.controls.registerLocalHistoryChange('sticker-tint',!0);var t=this.getSharedState('selectedSprite');t.setTintColor(e.clone());var o=this.context.editor;o.render(),this.forceUpdate()},t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){m.u.Browser.isIElte(10)?Object(m.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.render=function(){var e=this,t=this.props,o=t.innerRef,i=t.onNewStickerClick,n=t.onReplaceClick,r=this.getSharedState('selectedSprite'),a=this._getStickerObject(),l={background:'url(\''+r.getImage().src+'\') center center / contain no-repeat'},p=!!a.tintMode&&'none'!==a.tintMode;return m.l.createElement(S,{innerRef:function(t){o&&o(t),e._wrapper=t},className:k},m.l.createElement(b.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},m.l.createElement('div',null,m.l.createElement(C,null,m.l.createElement(g.a,{title:this._t('editor.controls.sticker.new'),className:k,onClick:i}),m.l.createElement(E,null,m.l.createElement(x,null,m.l.createElement(w,{onClick:n,style:l})),m.l.createElement(T,null,m.l.createElement(O,null,this._t('editor.controls.sticker.stickers.'+a.identifier)||a.defaultName),m.l.createElement(D,{onClick:n,className:k},this._t('editor.controls.sticker.replace')))),m.l.createElement(y.a,{minValue:0,value:s(100*r.getAlpha()),maxValue:100,label:this._t('editor.controls.sticker.opacity'),onSliderValueChange:this._onOpacityChange,onValueChange:this._onOpacityChange,middleDot:!1,className:k})),p&&m.l.createElement(h.a,{toggleable:!0,title:this._t('editor.controls.sticker.fill'),expanded:'none'!==r.getTintMode(),className:k,onToggle:this._onTintToggle},m.l.createElement(I,{value:r.getTintColor(),onColorPickerToggle:this.fixStyles,onChange:this._onTintColorChange})))))},t}(_.a);v.contextTypes=_.a.contextTypes,t.a=v;var S=m.w.div('rfecls','Wrapper'),C=m.w.div('1vnvjau','TopSection'),E=m.w.div('aqfteq','Details'),x=Object(m.w)(u.h).div('6u8g0p','Thumbnail'),w=m.w.div('7r0ke8','ThumbnailImage'),T=m.w.div('1trlo6v','DetailsContainer'),O=m.w.div('w9mc0y','Title'),D=m.w.div('1rhky7p','ReplaceButton'),I=Object(m.w)(f.a)('1ouwzwk','ColorSelection')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(82),c=p.p.Operations.SpriteOperation.StickerSprite,m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._renderSpriteItems=function(t){return e.prototype._renderSpriteItems.call(this,t.filter(function(e){return e instanceof c}))},t.prototype._getPropsForSprite=function(t){var o=e.prototype._getPropsForSprite.call(this,t);return t instanceof c&&(o.hideContent=!0),o},t.prototype._selectNextSprite=function(){for(var e=this.getSharedState('operation'),t=e.getSprites().slice(0).reverse(),o=void 0,n=void 0,r=0;r<t.length;r++)if(o=t[r],o instanceof c){n=o;break}n||(this.props.controls.skipHistory=!0,this.context.screen.switchToControls('default')),this.setSharedState({selectedSprite:n})},t.prototype._createSprite=function(e){var t=this.getSharedState('operation');return t.createSticker(e)},t}(d.a);m.contextTypes=d.a.contextTypes,t.a=m},function(e,t,o){'use strict';var i=o(17),n=o.n(i),a=o(0),s=o.n(a),l=o(2),p=o.n(l),d=o(3),c=o.n(d),m=o(1),_=o(83),g=o(73),u=function(e){function t(){s()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=p()(this,e.call.apply(e,[this].concat(i)));return r.state={renderAsSVG:!1,svgAttributes:{}},r}return c()(t,e),t.prototype.componentDidMount=function(){var t=this;if(e.prototype.componentDidMount.call(this),this.props.hideContent)return null;var o=this.props.sprite;o.getImage().src.match(/\w+\.svg(?=\?|$)/i)&&'none'!==o.getTintMode()&&g.a.loadXHR(o.getImage().src,'image/svg+xml').then(function(e){for(var o=e.responseXML.documentElement.attributes,n={},r=0;r<o.length;r++){var i=o[r],a=i.name,s=i.value;'xmlns:xlink'===a&&(a='xmlnsXlink'),n[a]=s}var l=e.responseText.match(/<svg\b[^>]*>([\s\S]*?)<\/svg>/im)[1];l=l.replace(/\s+?fill=["'].*?["']/ig,''),t.setState({renderAsSVG:!0,svgContent:l,svgAttributes:n})})},t.prototype._onDrag=function(){for(var t=arguments.length,o=Array(t),i=0,n;i<t;i++)o[i]=arguments[i];(n=e.prototype._onDrag).call.apply(n,[this].concat(o));var r=this.context.editor;r.render()},t.prototype._onRotateDrag=function(){for(var t=arguments.length,o=Array(t),i=0,n;i<t;i++)o[i]=arguments[i];(n=e.prototype._onRotateDrag).call.apply(n,[this].concat(o));var r=this.context.editor;r.render()},t.prototype._onBeforeScale=function(){var e=this.props.sprite;this._initialOptions={dimensions:e.getDimensions().clone()}},t.prototype._onScale=function(e){var t=this.context.editor,o=this._initialOptions.dimensions,i=this.props.sprite;i.set({dimensions:o.clone().multiply(e/t.zoom.level)}),this.forceUpdate(),t.render()},t.prototype._getSpriteDimensions=function(){var e=this.context.editor,t=this.props.sprite;return t.getDimensions().clone().multiply(e.zoom.level)},t.prototype._getContainerStyle=function(){var e=this.context.editor,t=e.getOutputDimensions(),o=this.props.sprite,i=o.getPosition().clone().multiply(t),n=180*o.getRotation()/r,a='rotateZ('+n.toFixed(2)+'deg)',s='50% 50%',l=o.getDimensions().clone().multiply(e.zoom.level);return{width:l.x,height:l.y,left:i.x,top:i.y,marginLeft:-0.5*l.x,marginTop:-0.5*l.y,transform:a,MozTransform:a,msTransform:a,WebkitTransform:a,transformOrigin:s,MozTransformOrigin:s,msTransformOrigin:s,WebkitTransformOrigin:s}},t.prototype._getContentStyle=function(){var e=this.props.sprite,t='rotateY('+(e.getFlipHorizontally()?180:0)+'deg) rotateX('+(e.getFlipVertically()?180:0)+'deg)',o={opacity:e.getAlpha(),transform:t,MozTransform:t,msTransform:t,WebkitTransform:t};return this.state.renderAsSVG&&(o.fill=e.getTintColor().toRGBA()),o},t.prototype._renderContent=function(){if(this.props.hideContent)return null;var e=this.props.sprite,t=this.state.svgAttributes;return this.state.renderAsSVG?React.createElement(h,n()({style:this._getContentStyle(),dangerouslySetInnerHTML:{__html:this.state.svgContent}},t)):React.createElement(y,{src:e.getImage().src,style:this._getContentStyle()})},t}(_.a);u.contextTypes=_.a.contextTypes,u.MIN_WIDTH=_.a.MIN_WIDTH,t.a=u;var y=m.w.img('1ssoezr','Image'),h=m.w.svg('1ssoezr','SVGImage')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=!1,c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._cancelEvent=function(t){t.stopPropagation(),t.preventDefault()},t.prototype._renderControlItem=function(e,t){var o=this._getAssetPath('editor/controls/shared/canvas-overlay-controls/'+e+'.png',!0);return p.l.createElement(_,{style:{backgroundImage:'url('+o+')'},onClick:t,className:d,"data-identifier":e})},t.prototype.render=function(){var e=this.props.position;return p.l.createElement(m,{style:{left:e.x,top:e.y},onMouseDown:this._cancelEvent,onTouchStart:this._cancelEvent,className:d},this.props.takeToFront&&this._renderControlItem('to-front',this.props.onTakeToFront),this.props.flipHorizontally&&this._renderControlItem('flip-horizontal',this.props.onFlipHorizontally),this.props.duplicate&&this._renderControlItem('duplicate',this.props.onDuplicate),this.props.delete&&this._renderControlItem('delete',this.props.onDelete))},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c;var m=p.w.div('1lf1r1r','CanvasOverlayControl'),_=p.w.div('1l53y3r','ControlItem')},function(e,t,o){'use strict';var a=o(5),s=o.n(a),c=o(0),m=o.n(c),_=o(2),g=o.n(_),u=o(3),y=o.n(u),h=o(1),f=o(83),b=o(10),k=function(e){function t(){m()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=g()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onTextChange','_onBlur','_onItemDoubleClick','_onWidthDrag','_onWidthDragStop'),r.state={editing:!1,updateBecauseIESucks:!1},r}return y()(t,e),t.prototype._isDraggingDisabled=function(){return e.prototype._isDraggingDisabled.call(this)||this.state.editing},t.prototype.enterEditMode=function(){var e=this,t=this.props.sprite;t._edited||(t.setText(''),this._textField.value='',t._edited=!0,this.forceUpdate()),this.setState({editing:!0},function(){e._textField.focus(),e._textField.select()})},t.prototype.shouldComponentUpdate=function(){return!0},t.prototype._onTakeToFront=function(){var t;this.setState({editing:!1});for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];(t=e.prototype._onTakeToFront).call.apply(t,[this].concat(i))},t.prototype._onFlipHorizontally=function(){var t;this.setState({editing:!1});for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];(t=e.prototype._onFlipHorizontally).call.apply(t,[this].concat(i))},t.prototype._onDuplicate=function(){var t;this.setState({editing:!1});for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];(t=e.prototype._onDuplicate).call.apply(t,[this].concat(i))},t.prototype._onSpriteUpdate=function(t,o){var i=this;h.u.Browser.isIElte(10)&&o.alignment&&t.getAlignment()!==o.alignment&&this.setState({updateBecauseIESucks:!0},function(){Object(h.z)(function(){i.setState({updateBecauseIESucks:!1})})}),e.prototype._onSpriteUpdate.call(this)},t.prototype._onWidthDragStart=function(e,t,o){var i=this.context.editor,n=this.props.sprite,r=n.getAnchor();this._imageBoundingBox=this.props.canvasControls.getImageBoundingRect(),this._containerOffset=this.props.canvasControls.getContainerOffset();var a=this._getAbsoluteSpritePosition().add(this._imageBoundingBox.x,this._imageBoundingBox.y),s=n.getDimensions(i.getSDK(),i.getOutputDimensions()),l=new h.v(s.width,s.height),p=a.clone().subtract(l.clone().multiply(r)).add(l.clone().multiply(0.5)).round(),d=o.clone().subtract(this._containerOffset).subtract(p);this._initialScaleSettings={maxWidth:n.getMaxWidth(),mouseDistanceFromCenter:d},this.props.onBeforeChange&&this.props.onBeforeChange(),this.props.onCanvasClickDisabled&&this.props.onCanvasClickDisabled()},t.prototype._onWidthDrag=function(e){var t=this.props.sprite,o=t.getRotation(),r=this._initialScaleSettings.mouseDistanceFromCenter,a=r.clone().add(e),s=n(o),d=i(o),c=p(l(2*(a.x*s+a.y*d)),50)/this._imageBoundingBox.width;t.setMaxWidth(c)},t.prototype._onWidthDragStop=function(){this.props.onAfterChange&&this.props.onAfterChange(),this.props.onCanvasClickEnabled&&this.props.onCanvasClickEnabled()},t.prototype._onBlur=function(){this.setState({editing:!1})},t.prototype._onTextChange=function(t){var e=this.props.sprite;e.setText(t.target.value),this.forceUpdate()},t.prototype._onItemDoubleClick=function(){this.props.selected&&this.enterEditMode()},t.prototype._onBeforeScale=function(){var e=this.props.sprite;this._initialOptions={maxWidth:e.getMaxWidth(),fontSize:e.getFontSize()}},t.prototype._onScale=function(e){var t=this._initialOptions,o=t.maxWidth,i=t.fontSize,n=this.props.sprite;n.set({maxWidth:o*e,fontSize:i*e});var r=this.context.mediator;r.emit(h.d.EVENTS.TEXT_SCALED,n),this.forceUpdate()},t.prototype._getContainerStyle=function(){var e=this.context.editor,t=e.getOutputDimensions(),o=this.props.sprite,i=o.getPosition().clone().multiply(t),n=180*o.getRotation()/r,a='rotateZ('+n.toFixed(2)+'deg)',s='50% 50%',l=o.getMaxWidth()*t.x,p=o.getDimensions(e.getSDK(),t).y;return{width:l,height:p,left:i.x,top:i.y,marginLeft:-0.5*l,marginTop:-0.5*p,transform:a,MozTransform:a,msTransform:a,WebkitTransform:a,transformOrigin:s,MozTransformOrigin:s,msTransformOrigin:s,WebkitTransformOrigin:s}},t.prototype._getTextStyle=function(){var e=this.context.editor,t=this.props.sprite,o=e.getSDK(),i=e.getOutputDimensions(),n=t.getDOMStyle(o,i),r=this._getAbsoluteSpritePosition(),a=t.getDimensions(o,i);return n.height=d(a.y,i.y-r.y+a.y/2),n},t.prototype._renderKnobs=function(){var t=this,o=e.prototype._renderKnobs.call(this);return['left','right'].forEach(function(e){var i=s()({},e,!0);o.push(h.l.createElement(b.a,{key:'width-'+e,onStart:t._onWidthDragStart.bind(t,e),onDrag:t._onWidthDrag,onStop:t._onWidthDragStop},h.l.createElement(C,i)))}),o},t.prototype._getItemControlsProps=function(){return{onDoubleClick:this._onItemDoubleClick,onTouchStart:this._onItemTouchStart,onTouchEnd:this._onItemTouchEnd}},t.prototype._renderContent=function(){var e=this,t=this.props,o=t.sprite,i=t.selected,n=this.state,r=n.editing,a=n.updateBecauseIESucks,s=[h.l.createElement(v,{key:'text-field',editing:r,innerRef:function(t){e._textField=t},style:this._getTextStyle(),defaultValue:o.getText(),onBlur:this._onBlur,onChange:this._onTextChange,updateBecauseIESucks:a})];return this.state.editing||s.push(h.l.createElement(S,{key:'disabled-overlay',className:!1,selected:i})),s},t}(f.a);k.contextTypes=f.a.contextTypes,k.MIN_WIDTH=100,t.a=k;var v=h.w.textarea('12u5t8c',{updateBecauseIESucks:'ckktkq',editing:'15kzu1c'},'TextField'),S=h.w.div('8gacw5','DisabledOverlay'),C=h.w.div('jqmmm4',{left:'tr97e1',right:'1llojum'},'WidthControl')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(83),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.props.sprite.getCanvas();this._appendCanvas(t)},t.prototype.componentWillReceiveProps=function(e){if(e.sprite!==this.props.sprite){var t=this.props.sprite.getCanvas();t.parentNode.removeChild(t);var o=e.sprite.getCanvas();this._appendCanvas(o)}},t.prototype._appendCanvas=function(e){e.style.width='100%',e.style.height='100%',this._brush.appendChild(e)},t.prototype._renderOverlayControls=function(){return null},t.prototype.render=function(){var e=this;return p.l.createElement(m,{innerRef:function(t){e._brush=t}})},t}(d.a);t.a=c;var m=p.w.div('8gacw5','BrushItem')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(18),d=o(258),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('adjustments'),o=e.operations.getOrCreate('adjustments'),i=o.serializeOptions();this.sharedState.set({operation:o,operationExistedBeforeEntering:t,operationExistedBeforeLastHistoryItem:t,initialOptions:i})},t.prototype._onLeave=function(){var e=this.context.editor,t=this.sharedState.get('operation'),o=this.sharedState.get('operationExistedBeforeEntering'),i=this.sharedState.get('initialOptions');t.optionsEqual(i)||this.addHistoryItem(e.history.createItem({type:'global',operation:t.constructor.identifier,options:i,existent:o}));var n=t.getDefaultOptions();t.optionsEqual(n)&&e.operations.remove(t)},t.prototype._onOperationRemoved=function(e){var t=this.sharedState.get('operation');e===t&&this._onEnter()},t.isEnabled=function(e){return e.isToolAllowed('adjustment')&&e.isToolEnabled('adjustments')},t}(p.a);c.clickAtPosition=p.a.clickAtPosition,c.getPreloadAssets=p.a.getPreloadAssets,c.identifier='adjustments',c.controlsComponent=d.a,c.canvasControlsComponent=p.a.canvasControlsComponent,c.iconPath='editor/controls/adjustments/icon.png',c.activeIconPath='editor/controls/adjustments/icon-active.png',c.defaultOptions={availableAdjustments:null},t.a=c},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(15),_=o(36),g=o(54),u=o(11),y=o(259),h=o(260),f=!1,b=[{identifier:'basics',items:['brightness','saturation','contrast','gamma']},{identifier:'refinements',items:['clarity','exposure','shadows','highlights']}],k=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=l()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onOperationUpdated','_onTabSwitch'),s._events=n()({},c.d.EVENTS.OPERATION_UPDATED,s._onOperationUpdated),s._lastLocalHistoryItem=null,s}return d()(t,e),t.prototype._isAdjustmentAvailable=function(e){var t=this.props.options.availableAdjustments;return null===t||-1!==t.indexOf(e)},t.prototype._onOperationUpdated=function(e){e===this.getSharedState('operation')&&this.forceUpdate()},t.prototype._onTabSwitch=function(){this._scrollbar.update()},t.prototype._registerLocalHistoryChange=function(e){this.props.controls.registerLocalHistoryChange(e,!0)},t.prototype._renderAdjustmentsControls=function(){var e=this,t=function(t){return t.filter(function(t){return e._isAdjustmentAvailable(t)}).map(function(t){return e._makeItem(t)})};return b.filter(function(t){return 0<t.items.filter(function(t){return e._isAdjustmentAvailable(t)}).length}).map(function(o){return c.l.createElement(g.a,{key:o.identifier,title:e._t('editor.controls.adjustments.sections.'+o.identifier),alwaysExpanded:!0},c.l.createElement(S,{className:f},t(o.items)))})},t.prototype._makeItem=function(e){var t=this.getSharedState('operation'),o=t.getOption(e);return c.l.createElement(h.a,{item:e,value:o,onBeforeValueChange:this._registerLocalHistoryChange.bind(this,e),className:f,key:e})},t.prototype._renderScenesControls=function(){var e=function(e){return c.l.createElement(y.a,{key:e.title,title:e.title})},t=[];return[{title:'First'},{title:'Second'}].forEach(function(o){t.push(e(o))}),t},t.prototype._getRootProps=function(){return{className:f,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this;return c.l.createElement(u.a,{direction:'vertical',innerListRef:function(t){e._list=t},innerRef:function(t){e._scrollbar=t}},c.l.createElement(v,null,this._renderAdjustmentsControls()))},t}(m.a);k.contextTypes=m.a.contextTypes,k.RootElement=m.a.RootElement,t.a=k;var v=Object(c.w)(_.b).ul('x32ss4','SectionList'),S=c.w.ul('gz4y54','SectionItemList')},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(0),a=o.n(r),s=o(19),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=function(e){function t(){return a()(this,t),d()(this,e.apply(this,arguments))}return m()(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.lastChild,i=t.onClick,r=t.selected,a=null;this.props.previewUrl&&(a=_.l.createElement(f,{src:this.props.previewUrl}));return _.l.createElement(u,n()({},{selected:r,lastChild:o,onClick:i},{innerRef:function(t){e._container=t}}),_.l.createElement(y,{selected:r},a,_.l.createElement(h,null,this.props.title),r&&_.l.createElement(b,{selected:r})))},l()(t,[{key:'container',get:function(){return this._container}}]),t}(_.b);g.contextTypes=_.b.contextTypes,t.a=g;var u=_.w.li('12b2q76',{lastChild:'229bd5',selected:'120drhm'},'Item'),y=_.w.div('1vaveqa','ItemContainer'),h=_.w.span('1dugd02','ItemTitle'),f=_.w.img('1epsta2','Preview'),b=_.w.div('g11rdq','Overlay')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(9),c=o(37),m=p.p.Operations.AdjustmentsOperation,_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));s._bindAll('_onValueChange'),s._option=m.prototype.availableOptions[s.props.item];var l=s.getSharedState('operation');return s.state={value:l?l.getOption(s.props.item):s._option.default},s}return l()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.value!==this.props.value||e.value!==this.state.value},t.prototype._onValueChange=function(e){this.props.onBeforeValueChange&&this.props.onBeforeValueChange(e);var t=this.getSharedState('operation'),o=this._option,i=o.minValue,n=o.midValue,r=o.maxValue;e=0>e?n+(n-i)*e/100:n+(r-n)*e/100,t.setOption(this.props.item,e);var a=this.context.editor;a.render(),this.setState({value:e}),this.props.onValueChange&&this.props.onValueChange(e),this.forceUpdate()},t.prototype.render=function(){var e=this.getSharedState('operation'),t=this._option,o=t.minValue,i=t.midValue,n=t.maxValue,r=e?e.getOption(this.props.item):i,a=100*(r<=i?(r-o)/(i-o)-1:(r-i)/(n-i));return r===o&&(a=-100),p.l.createElement(c.a,{key:this.props.item,label:this._t('editor.controls.adjustments.items.'+this.props.item),minValue:-100,maxValue:100,value:parseInt(a),onSliderValueChange:this._onValueChange,onValueChange:this._onValueChange,className:this.props.className,middleDot:!0})},t}(d.a);_.contextTypes=d.a.contextTypes,t.a=_},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),l=o(3),d=o.n(l),c=o(1),m=o(18),_=o(262),g=o(264),u=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return d()(t,e),t.prototype._onEnter=function(){var e=this,t=this.context.editor,o=t.operations.exists('sprite'),i=t.operations.getOrCreate('sprite'),n=i.serializeOptions(),r=i.createBrush();i.addSprite(r),i.setEnabled(!1),t.zoom.auto(!1,!1,function(){t.features.disable('zoom','drag');var o=t.getOutputDimensions(),i=p(0.05*o.min(),1);e._options.widthPresets&&0<e._options.widthPresets.length&&(i=e._options.sizePresets[0]),e.sharedState.set({brushSize:s(i)})}),this.sharedState.set({operationExistedBeforeEntering:o,operation:i,initialOptions:n,brushSprite:r,brushColor:c.c.WHITE,brushSize:0.1,brushHardness:50})},t.prototype._onLeave=function(){var e=this.context.editor,t=this.sharedState.getState(),o=t.initialOptions,i=t.operation,n=t.operationExistedBeforeEntering;i.optionsEqual(o)||this.addHistoryItem({type:'global',operation:'sprite',options:o,existent:n}),i.setEnabled(!0),e.features.enable('zoom','drag'),e.render()},t.prototype._onOperationRemoved=function(e){var t=this.sharedState.get('operation');if(e===t){var o=this.context.editor.operations.getOrCreate('sprite'),i=o.createBrush();o.addSprite(i),o.setEnabled(!1),this.sharedState.set({operation:o,brushSprite:i})}},t.isEnabled=function(e){return e.isToolAllowed('brush')&&e.isToolEnabled('brush')},t}(m.a);u.clickAtPosition=m.a.clickAtPosition,u.getPreloadAssets=m.a.getPreloadAssets,u.identifier='brush',u.controlsComponent=_.a,u.canvasControlsComponent=g.a,u.iconPath='editor/controls/brush/icon.png',u.activeIconPath='editor/controls/brush/icon-active.png',u.defaultOptions={brushes:[],replaceBrushes:!1,availableBrushes:null},t.a=u},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(5),a=o.n(r),l=o(0),p=o.n(l),d=o(2),c=o.n(d),m=o(3),_=o.n(m),g=o(1),u=o(110),y=o(15),h=o(36),f=o(53),b=o(37),k=o(11),v=o(51),S=o(263),C=g.p.Operations.SpriteOperation.BrushSprite.Brush,E=!1,x=function(e){function t(){p()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=c()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onBrushColorChanged','_onBrushHardnessChanged','_onBrushWidthChanged','_onOperationUpdated'),r._events=a()({},g.d.EVENTS.OPERATION_UPDATED,r._onOperationUpdated),r._initBrushManager(),r}return _()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._onBrushSelect(this._brushManager.getBrushes()[0])},t.prototype._initBrushManager=function(){this._brushManager=new u.a(this.context.ui,this.props.options)},t.prototype._onBrushColorChanged=function(e){var t=this.getSharedState('brushInstance').clone();t.setColor(e.clone()),this.setSharedState({brushInstance:t})},t.prototype._onBrushHardnessChanged=function(e){var t=this.getSharedState('brushInstance').clone();t.setHardness(e/100),this.setSharedState({brushInstance:t,brushHardness:s(e)})},t.prototype.sharedStateDidChange=function(e,t){e.brushSize!==t.brushSize&&this._onBrushWidthChanged(t.brushSize)},t.prototype._onBrushWidthChanged=function(e){var t=this.context.editor,o=t.getOutputDimensions(),i=this.getSharedState('brushInstance').clone();i.setSize(e/o.min()),this.setSharedState({brushInstance:i,brushSize:s(e)})},t.prototype._onOperationUpdated=function(e){var t=this.context.editor;if(e===this.getSharedState('operation')){var o=this.getSharedState('brushSprite');if(o){var i=e.getSprites().filter(function(e){return e.getId()===o.getId()})[0];this.setSharedState({brushSprite:i})}e.setEnabled(!0),t.render(function(){e.setEnabled(!1),t.render()})}},t.prototype._onBrushSelect=function(e){var t=this,o=this.context.editor,i=o.getOutputDimensions(),n=this.getSharedState('brushSize')/i.min(),r=this.getSharedState('brushHardness')/100,a=this.getSharedState('brushColor'),s={size:n,color:a},l;if(e.prototype&&e.prototype instanceof C){l=new e(s)}else{var d=g.q.extend({},e);delete d.image;var m=function(e){function t(){return p()(this,t),c()(this,e.apply(this,arguments))}return _()(t,e),t}(C);m.identifier=e.identifier,l=new m(g.q.extend({},d,s))}l.hasOption('hardness')&&l.setHardness(r),this._loadBrush(e,l).then(function(){t.setSharedState({brushInstance:l,brush:e})})},t.prototype._loadBrush=function(e,t){var o=this;return new n.a(function(i,n){if(e.constructor===Object){var r=new window.Image;r.addEventListener('load',function(){t.setImage(r),i()}),r.addEventListener('error',function(){n(new Error('Failed to load image at '+r.src))}),r.src=o._getAssetPath(e.image),r.crossOrigin='Anonymous'}else i()})},t.prototype._getRootProps=function(){return{className:E,withBorderTop:!0}},t.prototype._renderBrushItems=function(){var e=this,t=this._brushManager.getBrushes();return 1>=t.length?null:t.map(function(t){return g.l.createElement(S.a,{key:t.identifier,brush:t,selected:e.getSharedState('brush')===t,onClick:e._onBrushSelect.bind(e,t)})})},t.prototype._renderContent=function(){var e=this,t=this.getSharedState('brushInstance');return g.l.createElement(k.a,{direction:'vertical',innerListRef:function(t){e._list=t},innerRef:function(t){e._scrollbar=t}},g.l.createElement(T,null,g.l.createElement(O,null,this._t('editor.controls.brush.settings')),g.l.createElement(D,null,g.l.createElement(f.a,{value:this.getSharedState('brushColor'),onChange:this._onBrushColorChanged})),g.l.createElement(w,{label:this._t('editor.controls.brush.width'),minValue:1,maxValue:100,value:this.getSharedState('brushSize'),onSliderValueChange:this._onBrushWidthChanged,onValueChange:this._onBrushWidthChanged,className:E}),g.l.createElement(w,{label:this._t('editor.controls.brush.hardness'),minValue:0,maxValue:100,disabled:!(t&&t.hasOption('hardness')),value:this.getSharedState('brushHardness'),onSliderValueChange:this._onBrushHardnessChanged,onValueChange:this._onBrushHardnessChanged})),g.l.createElement(I,null,g.l.createElement(v.a,{direction:'vertical'},g.l.createElement(R,null,this._renderBrushItems()))))},t}(y.a);x.contextTypes=y.a.contextTypes,x.RootElement=y.a.RootElement,t.a=x;var w=Object(g.w)(b.a)('6vpx1b','SliderControl'),T=Object(g.w)(h.a).div('r92vc7','Settings'),O=Object(g.w)(h.c).div('120drhm','SettingsTitle'),D=g.w.div('yzsuxp','ColorSelection'),I=g.w.div('16dil83','Brushes'),R=g.w.ul('1lb1mg4','BrushList')},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(6),_=c.p.Operations.SpriteOperation.BrushSprite,g=_.Brush,u=_.Path,y=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype._loadBrush=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.brush;return new n.a(function(o,i){if(t.constructor===Object){var n=new window.Image;n.addEventListener('load',function(){e._brush.setImage(n),o()}),n.addEventListener('error',function(){i(new Error('Failed to load image at '+n.src))}),n.src=e._getAssetPath(t.image),n.crossOrigin='Anonymous'}else o()})},t.prototype._drawBrush=function(){var e=new u(null,{brush:this._brush},this._canvas);e.addControlPoint(new c.v(0.1,0.5)),e.addControlPoint(new c.v(0.9,0.5)),e.render(new c.v(this._canvas.width,this._canvas.height))},t.prototype._instantiateBrush=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.brush,t={color:c.c.WHITE,size:0.25};if(e.prototype&&e.prototype instanceof g){this._brush=new e(t)}else{var o=c.q.extend({},e);delete o.image;var i=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t}(g);i.identifier=e.identifier,this._brush=new i(c.q.extend({},o,t))}},t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),this._instantiateBrush();var o=this._canvas,i=o.offsetWidth,n=o.offsetHeight;this._canvas.width=i,this._canvas.height=n,this._loadBrush().then(function(){t._drawBrush()})},t.prototype.render=function(){var e=this;return c.l.createElement(h,{onClick:this.props.onClick,selected:this.props.selected,className:!1,"data-selected":this.props.selected},c.l.createElement(f,{innerRef:function(t){e._canvas=t}}))},t}(c.b);t.a=y;var h=Object(c.w)(m.h).li('8908c2',{selected:'120drhm'},'BrushListItem'),f=c.w.canvas('1ssoezr','Canvas')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(10),c=o(82),m=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onMouseEnter','_onMouseLeave','_onMouseMove','_onDrawStart','_onDraw','_onDrawStop'),s.state=p.q.extend(s.state,{cursorPosition:new p.v(0,0),canvasClickDisabled:!0}),s}return l()(t,e),t.prototype._onDrawStart=function(e){this.props.controls.registerLocalHistoryChange('brush');var t=this.context.editor,o=t.getOutputDimensions();this._initialDrawPosition=e.clone();var i=this.getSharedState('brushSprite'),n=this.getSharedState('brushInstance');this._currentPath=i.createPath(n),this._currentPath.addControlPoint(e.clone().divide(o)),this._lastDrawPosition=this._initialDrawPosition.clone(),this._lastCursorPosition=this._initialDrawPosition.clone()},t.prototype._onDraw=function(e,t,o){var i=this.context.editor,n=i.getOutputDimensions(),r=i.getOutputTextureDimensions(),a=this._lastCursorPosition.clone().add(o),s=i.zoom.level,l=this.getSharedState('brushSize'),p=a.clone().subtract(this._lastDrawPosition).abs().len();p/s>=l/10&&(this._currentPath.addControlPoint(a.clone().divide(n)),this.getSharedState('brushSprite').render(r),this._lastDrawPosition.copy(a)),this._lastCursorPosition.copy(a)},t.prototype._onDrawStop=function(){this._currentPath.setClosed(!0);var e=this.context.editor,t=e.getOutputTextureDimensions();this.getSharedState('brushSprite').render(t),this._currentPath=null},t.prototype._onMouseEnter=function(){this.setState({cursorVisible:!0})},t.prototype._onMouseLeave=function(){this.setState({cursorVisible:!1})},t.prototype._onMouseMove=function(t){var e=p.u.getEventPosition(t),o=this._innerContainer.getBoundingClientRect();e.subtract(o.left,o.top),this.setState({cursorPosition:e})},t.prototype._getCursorStyle=function(){return{width:this.getSharedState('brushSize')+8,height:this.getSharedState('brushSize')+8,left:this.state.cursorPosition.x,top:this.state.cursorPosition.y,marginLeft:-0.5*(this.getSharedState('brushSize')+8),marginTop:-0.5*(this.getSharedState('brushSize')+8)}},t.prototype._renderOverlayControls=function(){return p.l.createElement(d.a,{onStart:this._onDrawStart,onDrag:this._onDraw,onStop:this._onDrawStop},p.l.createElement(_,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onMouseMove:this._onMouseMove,className:!1},p.l.createElement(g,{style:this._getCursorStyle(),visible:this.state.cursorVisible})))},t}(c.a);m.contextTypes=c.a.contextTypes,t.a=m;var _=p.w.div('1sc5z35','BrushCanvasControls'),g=p.w.div('y4v90o',{visible:'2jlos'},'Cursor')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(18),c=o(266),m=o(270),_=o(112),g=p.p.Operations.SpriteOperation,u=g.TextSprite,y=g.BrushSprite,h=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.createText=function(){var e=this.context.editor,t=this.sharedState.get('operation'),o=this.sharedState.get('fontManager'),i=o.getDefaultVariation(),n=e.getOutputDimensions(),r=e.getSDK(),a=r.getRenderer(),s=a.getMaxTextureSize();this.addHistorySnapshot('local');var l=t.createText({text:this.context.ui.translate('editor.controls.text.defaultText'),position:new p.v(0.5,0.5),maxWidth:0.5,maxHeight:s?s/n.y:3,fontIdentifier:i.getIdentifier(),fontSize:0.08,fontFamily:i.getFontFamily(),fontWeight:i.getFontWeight(),fontStyle:i.getFontStyle(),color:p.c.WHITE,alignment:'center'});return t.addSprite(l),this.sharedState.set({selectedSprite:l}),l},t.prototype._onEnter=function(){this._globalHistoryItem=this.createHistoryItem('global','sprite');var e=this.context.editor,t=e.operations.exists('sprite'),o=e.operations.getOrCreate('sprite'),i=o.serializeOptions(),n=this._options,r=n.fonts,a=n.replaceFonts,s=n.availableVariations,l=new _.a(this.context.ui,{fonts:r,replaceFonts:a,availableVariations:s});this.sharedState.set({operation:o,fontManager:l}),e.features.disable('zoom','drag'),e.zoom.auto();var p=this.sharedState.get('selectedSprite');p||this.createText(),this.sharedState.set({operationExistedBeforeEntering:t,operation:o,initialOptions:i}),e.render()},t.prototype._onLeave=function(){var e=this.context.editor,t=this.sharedState.get('operation');t.setEnabled(!0),this._localHistoryItems.length&&!this.skipHistory&&this.addHistoryItem(this._globalHistoryItem),e.features.enable('zoom','drag'),e.render()},t.clickAtPosition=function(e,t){if(!t.operations.exists('sprite'))return!1;var o=t.operations.getOrCreate('sprite'),i=o.getSpritesAtPosition(e,t.getOutputTextureDimensions()).filter(function(e){return!(e instanceof y)});return i.length&&i[0]instanceof u&&{selectedSprite:i[0]}},t.getPreloadAssets=function(){return['editor/controls/shared/canvas-overlay-controls/to-front.png','editor/controls/shared/canvas-overlay-controls/duplicate.png','editor/controls/shared/canvas-overlay-controls/delete.png']},t.isEnabled=function(e){return e.isToolAllowed('text')&&e.isToolEnabled('text')},t}(d.a);h.identifier='text',h.controlsComponent=c.a,h.canvasControlsComponent=m.a,h.iconPath='editor/controls/text/icon.png',h.activeIconPath='editor/controls/text/icon-active.png',h.defaultOptions={fonts:[],replaceFonts:!1,availableVariations:null,snapRotation:90,snapRotationTolerance:5},t.a=h},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),l=o(2),p=o.n(l),d=o(3),c=o.n(d),m=o(1),_=o(15),g=o(76),u=o(11),y=o(267),h=o(37),f=o(53),b=o(268),k=o(36),v=o(54),S=o(269),C=o(12),E=!1,x=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=p()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onNewTextClick','_onFontChanged','_onFontSizeChanged','_onCharacterSpacingChanged','_onLineSpacingChanged','_onColorChanged','_onSelectedSpriteUpdate','_onAlignmentChanged','_onVariationChanged','_onTextScaled'),s._events=n()({},m.d.EVENTS.TEXT_SCALED,s._onTextScaled),s}return c()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._loadFonts()},t.prototype.sharedStateDidChange=function(e,t){e.selectedSprite!==t.selectedSprite&&(this._lastLocalHistoryItem=null,e.selectedSprite.off('update',this._onSelectedSpriteUpdate),t.selectedSprite&&t.selectedSprite.on('update',this._onSelectedSpriteUpdate))},t.prototype._loadFonts=function(){var t=this,e=this.getSharedState('fontManager'),o=this.context.ui.getFontLoader();o.setFonts(e.getFonts());var i=window.setTimeout(function(){n=C.a.instance.displayLoading(t._t('loading.fonts'),!0)},200),n;return o.load().then(function(){window.clearTimeout(i),n&&n.close()}).catch(function(o){window.clearTimeout(i),n&&n.close(),C.a.instance.displayError(t._t('errors.fontLoadingError.text',{fontFamily:o.font.getFontFamily()}))})},t.prototype._onSelectedSpriteUpdate=function(e,t){t.fontSize&&this.forceUpdate()},t.prototype._onNewTextClick=function(){this.props.controls.createText(),this.forceUpdate()},t.prototype._onAlignmentChanged=function(e){this.props.controls.registerLocalHistoryChange('text-alignment',!0);var t=this.getSharedState('selectedSprite');t.setAlignment(e),this.forceUpdate()},t.prototype._onVariationChanged=function(e){this.props.controls.registerLocalHistoryChange('font-variation',!0);var t=this.getSharedState('selectedSprite');t.setFontIdentifier(e.getIdentifier()),t.setFontFamily(e.getFontFamily()),t.setFontWeight(e.getFontWeight()),t.setFontStyle(e.getFontStyle()),this.forceUpdate()},t.prototype._onFontChanged=function(e){this.props.controls.registerLocalHistoryChange('font-family',!0);var t=e.getVariations()[0];this._onVariationChanged(t),this.forceUpdate()},t.prototype._onFontSizeChanged=function(e){this.props.controls.registerLocalHistoryChange('font-size');var t=this.getSharedState('selectedSprite'),o=this.getSharedState('operation'),i=o.getInputDimensions();t.setFontSize(e/i.min())},t.prototype._onColorChanged=function(e){this.props.controls.registerLocalHistoryChange('color',!0);var t=this.getSharedState('selectedSprite');t.setColor(e.clone())},t.prototype._onCharacterSpacingChanged=function(e){var t=this.getSharedState('selectedSprite');t.setCharacterSpacing(e),this.forceUpdate()},t.prototype._onLineSpacingChanged=function(e){this.props.controls.registerLocalHistoryChange('line-spacing',!0);var t=this.getSharedState('selectedSprite');t.setLineHeight(e),this.forceUpdate()},t.prototype._onTextScaled=function(){this.forceUpdate()},t.prototype._renderLegibilityPresets=function(){return[{title:'text shadow'},{title:'bg overlay'},{title:'bg blur'}].map(function(e){return m.l.createElement(S.a,{key:e.title,title:e.title})})},t.prototype._renderFontFamilyAndSizeComponent=function(){var e=this.getSharedState('selectedSprite'),t=this.getSharedState('fontManager'),o=this.getSharedState('operation'),i=o.getInputDimensions(),n=m.u.toFixed(e.getFontSize()*i.min(),1),r=s(i.y);return m.l.createElement(y.a,{onValueChange:this._onFontSizeChanged,onFontChange:this._onFontChanged,fonts:t.getFonts(),dropdownValue:e.getFontFamily(),label:this._t('editor.controls.text.font'),inputLabel:this._t('editor.controls.text.size'),className:E,value:n,minValue:10,maxValue:r})},t.prototype._getRootProps=function(){return{className:E,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this,t=this.getSharedState('selectedSprite'),o=this.getSharedState('fontManager'),i=o.getFontByFontFamily(t.getFontFamily()),n=o.getVariationByIdentifier(t.getFontIdentifier());return m.l.createElement(u.a,{direction:'vertical',innerListRef:function(t){e._list=t},innerRef:function(t){e._scrollbar=t}},m.l.createElement(w,null,m.l.createElement(g.a,{title:this._t('editor.controls.text.new'),onClick:this._onNewTextClick,className:E}),this._renderFontFamilyAndSizeComponent(),m.l.createElement(b.a,{alignment:t.getAlignment(),variations:i.getVariations(),selectedVariation:n,onAlignmentChange:this._onAlignmentChanged,onVariationChange:this._onVariationChanged}),m.l.createElement(f.a,{value:t.getColor(),onColorPickerToggle:this.fixStyles,onChange:this._onColorChanged})),m.l.createElement(T,null,m.l.createElement(O,{key:'spacing',title:this._t('editor.controls.text.spacing'),alwaysExpanded:!0},m.l.createElement(h.a,{label:this._t('editor.controls.text.line'),minValue:0.5,maxValue:3,className:E,value:m.u.toFixed(t.getLineHeight(),1),onSliderValueChange:this._onLineSpacingChanged,onValueChange:this._onLineSpacingChanged}))))},t}(_.a);x.contextTypes=_.a.contextTypes,x.RootElement=_.a.RootElement,t.a=x;var w=m.w.div('4fb1t1','FixedTextControls'),T=Object(m.w)(k.b).ul('x32ss4','SectionList'),O=Object(m.w)(v.a)('dbj2qj','CollapseSection')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(80),c=o(111),m=!1,_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._updateFontsMap(),s}return l()(t,e),t.prototype.componentWillReceiveProps=function(t){e.prototype.componentWillReceiveProps.call(this,t),t.fonts!==this.props.fonts&&this._updateFontsMap()},t.prototype._updateFontsMap=function(){var e=this;this._fontsMap={},this.props.fonts.forEach(function(t){e._fontsMap[t.getFontFamily()]=t})},t.prototype._renderLeftPart=function(){var e=this.getSharedState('selectedSprite'),t=e.getFontFamily(),o=this._fontsMap[t];return p.l.createElement('div',{ref:'root',className:m},p.l.createElement(c.a,{value:o,style:{fontFamily:t},className:m,onChange:this.props.onFontChange},this.props.fonts.map(function(e){return p.l.createElement(c.a.Item,{value:e,key:e.getFontFamily(),style:{fontFamily:e.getFontFamily()}},e.getFontFamily())})))},t}(d.a);_.contextTypes=d.a.contextTypes,t.a=_},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(111),c=!1,m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onAlignmentItemClick=function(e){this.props.onAlignmentChange&&this.props.onAlignmentChange(e.title)},t.prototype._onStyleItemClick=function(e){switch(e.title){case'bold':this.props.onStyleChange&&this.props.onStyleChange('fontWeight',this.props.bold?'normal':'bold');break;case'italic':this.props.onStyleChange&&this.props.onStyleChange('fontStyle',this.props.italic?'normal':'italic');}},t.prototype._renderAligmentItems=function(){var e=this,t=this.props.alignment;return[{title:'left',selected:'left'===t,iconPath:'editor/controls/text/align-left.png',selectedIconPath:'editor/controls/text/align-left-selected.png'},{title:'center',selected:'center'===t,iconPath:'editor/controls/text/align-center.png',selectedIconPath:'editor/controls/text/align-center-selected.png'},{title:'right',selected:'right'===t,iconPath:'editor/controls/text/align-right.png',selectedIconPath:'editor/controls/text/align-right-selected.png'}].map(function(t){var o=e._getAssetPath(t.iconPath,!0),i=e._getAssetPath(t.selectedIconPath,!0);return p.l.createElement(u,{key:t.title,className:c,"data-alignment":t.title,"data-selected":t.selected,onClick:e._onAlignmentItemClick.bind(e,t)},p.l.createElement(y,{visible:!0,src:o}),p.l.createElement(y,{visible:t.selected,src:i}))},this)},t.prototype._renderStylesDropdown=function(){var e=this.props,t=e.variations,o=e.selectedVariation;return p.l.createElement(d.a,{value:o,onChange:this.props.onVariationChange,className:c},t.map(function(e){return p.l.createElement(d.a.Item,{value:e,key:e.getIdentifier(),style:{fontFamily:e.getFontFamily(),fontStyle:e.getFontStyle(),fontWeight:e.getFontWeight()}},e.getLabel())}))},t.prototype.render=function(){return p.l.createElement(_,{className:c},p.l.createElement(g,null,this._renderStylesDropdown()),p.l.createElement(g,{right:!0},this._renderAligmentItems()))},t}(p.b);m.contextTypes=p.b.contextTypes,t.a=m;var _=p.w.div('16gux5g','TextControlsStyling'),g=p.w.div('64aub5',{right:'9ygmmm'},'Group'),u=p.w.div('tgbgl1',{selected:'zgbg08'},'ItemContainer'),y=p.w.img('7ni881',{visible:'zgbg08'},'ItemImage')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(32),c=o(6),m=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onClick','_onMouseEnter','_onMouseLeave','_onIntensityChanged'),s.state={selected:!1,hovering:!1,intensity:50},s}return l()(t,e),t.prototype._onClick=function(){this.setState({selected:!0})},t.prototype._onMouseEnter=function(){this.setState({hovering:!0})},t.prototype._onMouseLeave=function(){this.setState({hovering:!1})},t.prototype._onIntensityChanged=function(e){this.setState({intensity:e})},t.prototype.render=function(){var e=this.state,t=e.selected,o=e.hovering,i=e.intensity;return p.l.createElement(_,{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave,onClick:this._onClick,selected:t},!(t&&o)&&p.l.createElement(g,{selected:t},this.props.title),t&&o&&p.l.createElement(u,null,p.l.createElement(d.a,{minValue:0,maxValue:100,valueUnit:'',middleDot:!1,value:i,onChange:this._onIntensityChanged})))},t}(p.b);m.contextTypes=p.b.contextTypes,t.a=m;var _=Object(p.w)(c.a).div('nasu8t',{selected:'120drhm'},'LegibilityPresetItem'),g=Object(p.w)(c.d).div('1hd9n2f',{selected:'186qcx6'},'Title'),u=p.w.div('8ekz81','Slider')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(82),c=p.p.Operations.SpriteOperation.TextSprite,m=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onZoomDone=function(){var t=this.getSharedState('operation');t.setEnabled(!1),e.prototype._onZoomDone.call(this)},t.prototype._selectNextSprite=function(){for(var e=this.getSharedState('operation'),t=e.getSprites().slice(0).reverse(),o=void 0,n=void 0,r=0;r<t.length;r++)if(o=t[r],o instanceof c){n=o;break}n||(this.props.controls.skipHistory=!0,this.context.screen.switchToControls('default')),this.setSharedState({selectedSprite:n})},t.prototype._createSprite=function(e){var t=this.getSharedState('operation');return t.createText(e)},t}(d.a);m.contextTypes=d.a.contextTypes,t.a=m},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=p.p.OptionType,c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t}(p.p.Configurable);t.a=c,c.prototype.availableOptions={fontFamily:{type:d.STRING,required:!0},variations:{type:d.ARRAY,required:!0}}},function(e,t,o){'use strict';var i=o(21),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(18),m=o(273),_=o(275),g=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype.getOperation=function(){var e=this.context.editor;return this.constructor.FOCUS_OPERATIONS.map(function(t){return e.operations.get(t)}).reduce(function(e,t){return e||t})},t.prototype.isFocusOperation=function(e){var t='object'===('undefined'==typeof e?'undefined':n()(e))?e.constructor.identifier:e;return-1!==this.constructor.FOCUS_OPERATIONS.indexOf(t)},t.prototype._onEnter=function(){var e=this.context.editor,t=this.getOperation(),o={};t&&(o=t.serializeOptions(),delete o.enabled);var i=t&&t.getInputDimensions(!1);this.sharedState.set({selectedFocus:'none',initialOperation:t,operationExistedBeforeEntering:!!t,initialOptions:o,operation:t,inputDimensions:i}),e.zoom.auto(!0,!1,function(){e.features.disable('zoom','drag')},!1)},t.prototype._onLeave=function(){var e=this.context.editor;e.features.enable('zoom','drag');var t=this.sharedState.get('initialOptions'),o=this.sharedState.get('initialOperation'),i=this.sharedState.get('operation');(!i&&o||i&&o&&i.constructor===o.constructor)&&this.addHistoryItem({type:'global',operation:o.constructor.identifier,options:o,existent:!0}),i&&!o&&this.addHistoryItem({type:'global',operation:i.constructor.identifier,existent:!1}),i&&o&&i.constructor!==o.constructor&&this.addHistoryItems([{type:'global',operation:o.constructor.identifier,options:t,existent:!0},{type:'global',operation:i.constructor.identifier,options:{},existent:!1}])},t.getPreloadAssets=function(){var e=[];return this.ITEMS.forEach(function(t){e.push(t.backgroundImagePath),e.push(t.activeBackgroundImagePath)}),e},t.prototype._onOperationRemoved=function(){},t.isEnabled=function(e){return e.isToolAllowed('focus')&&e.isToolEnabled('focus')},t}(c.a);g.clickAtPosition=c.a.clickAtPosition,g.ITEMS=[{identifier:'none',operationIdentifier:null,backgroundImagePath:'editor/controls/focus/none.png',activeBackgroundImagePath:'editor/controls/focus/none-active.png'},{identifier:'radial',operationIdentifier:'radial-focus',backgroundImagePath:'editor/controls/focus/radial.png',activeBackgroundImagePath:'editor/controls/focus/radial-active.png'},{identifier:'mirrored',operationIdentifier:'mirrored-focus',backgroundImagePath:'editor/controls/focus/mirrored.png',activeBackgroundImagePath:'editor/controls/focus/mirrored-active.png'},{identifier:'linear',operationIdentifier:'linear-focus',backgroundImagePath:'editor/controls/focus/linear.png',activeBackgroundImagePath:'editor/controls/focus/linear-active.png'},{identifier:'gaussian',operationIdentifier:'blur',backgroundImagePath:'editor/controls/focus/gaussian.png',activeBackgroundImagePath:'editor/controls/focus/gaussian-active.png'}],g.FOCUS_OPERATIONS=g.ITEMS.map(function(e){return e.operationIdentifier}).filter(function(e){return e}),g.identifier='focus',g.controlsComponent=m.a,g.canvasControlsComponent=_.a,g.iconPath='editor/controls/focus/icon.png',g.activeIconPath='editor/controls/focus/icon-active.png',g.defaultOptions={availableModes:null},t.a=g},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(15),_=o(274),g=o(11),u=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=l()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onBlurRadiusChanged','_onHistoryUndo'),s._events=n()({},c.d.EVENTS.HISTORY_UNDO,s._onHistoryUndo),s.state.selectedItem='none',s.state.intensity=50,s._autoSelectItem(!0),s}return d()(t,e),t.prototype._isModeAvailable=function(e){var t=this.props.options.availableModes;return'none'===e||null===t||-1!==t.indexOf(e)},t.prototype._autoSelectItem=function(e,t){var o=this,i=this.props.controls,n=i.constructor.ITEMS;t=t||i.getOperation(),t?(n.forEach(function(i){i.operationIdentifier===t.constructor.identifier&&o._onItemClick(i,!1,e)}),!e&&this.setSharedState({operation:t})):this._onItemClick(n[0],!1,e)},t.prototype._onItemClick=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=this.context.editor,n=this.getSharedState('operation');if(this.getSharedState('selectedFocus')!==e.identifier){var r={selectedFocus:e.identifier};t&&(n&&i.operations.remove(n,!1),e.operationIdentifier&&(n=i.operations.getOrCreate(e.operationIdentifier),r.operation=n,r.inputDimensions=n.getInputDimensions(!1))),i.render(),this.setSharedState(r,!o)}},t.prototype._onBlurRadiusChanged=function(e){var t=this.context.editor,o=this.getSharedState('operation');o.setBlurRadius(e),t.render()},t.prototype._onHistoryUndo=function(e){var t=this.props.controls,o=this.context.editor.operations,i=e.some(function(e){return t.isFocusOperation(e.getOperation())});i&&(o.remove(this.getSharedState('operation')),this._autoSelectItem(!1),this.setSharedState({initialOperation:null}))},t.prototype._renderListItems=function(){var e=this,t=this.props.controls,o=this.getSharedState('operation'),i=this.getSharedState('selectedFocus');return t.constructor.ITEMS.filter(function(t){return e._isModeAvailable(t.identifier)}).map(function(t){var n=e._getAssetPath(t.backgroundImagePath,!0),r=e._getAssetPath(t.activeBackgroundImagePath,!0),a=t.identifier===i;return c.l.createElement(_.a,{key:t.identifier,title:e._t('editor.controls.focus.items.'+t.identifier),selected:a,showSlider:!!t.operationIdentifier,blurRadius:o&&o.getBlurRadius(),onBlurRadiusChanged:e._onBlurRadiusChanged,backgroundImagePath:n,activeBackgroundImagePath:r,onClick:e._onItemClick.bind(e,t,!0,!1)})},this)},t.prototype._getRootProps=function(){return{className:!1,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this;return c.l.createElement(g.a,{direction:'vertical',innerListRef:function(t){e._list=t},innerRef:function(t){e._scrollbar=t}},c.l.createElement(y,null,this._renderListItems()))},t}(m.a);u.contextTypes=m.a.contextTypes,u.propTypes=m.a.propTypes,u.RootElement=m.a.RootElement,t.a=u;var y=c.w.ul('1snluvd','List')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),l=o(3),p=o.n(l),c=o(1),m=o(9),_=o(32),g=o(6),u=o(14),y=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onSliderValueChanged'),s}return p()(t,e),t.prototype._onSliderValueChanged=function(e){var t=this.props.onBlurRadiusChanged,o=this.getSharedState('inputDimensions'),i=o.min();t&&t(e/i)},t.prototype._renderSlider=function(){var e=this.props,t=e.selected,o=e.showSlider,i=e.blurRadius;if(!(t&&o))return null;var n=this.getSharedState('operation'),r=d(180,s(0.1*n.getInputDimensions(!1).min())),a=this.getSharedState('inputDimensions'),l=a.min();return c.l.createElement(_.a,{minValue:0,maxValue:r,valueUnit:'',middleDot:!1,value:i*l,onChange:this._onSliderValueChanged})},t.prototype.render=function(){var e=this.props,t=e.title,o=e.backgroundImagePath,i=e.activeBackgroundImagePath,n=e.selected,r=e.onClick,a=e.showSlider,s={backgroundImage:'url(\''+(n?i:o)+'\')'},l=this.context.theme.transitionDuration;return c.l.createElement(h,{selected:n,"data-selected":n,className:!1,onClick:r,style:s},c.l.createElement(f,{selected:n,withSlider:n&&a},t),c.l.createElement(k,{visible:n&&a},this._renderSlider()),c.l.createElement(u.a,{active:n,enterProp:'rendered',enterDuration:1e3*l,appearProp:'visible',appearDuration:1e3*l,leaveDuration:1e3*l},c.l.createElement(b,{selected:!0})))},t}(m.a);y.contextTypes=m.a.contextTypes,t.a=y;var h=Object(c.w)(g.a).li('19qom6j','ListItem'),f=Object(c.w)(g.d).div('1cwztpc',{selected:'2znik8',withSlider:'fsvvyb'},'ListItemTitle'),b=Object(c.w)(g.b).div('rctda3','ListItemOverlay'),k=c.w.div('chwlso',{visible:'vpr3tu'},'Slider')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(27),_=o(276),g=o(277),u=o(278),y=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=l()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onZoomDone'),s._events=n()({},c.d.EVENTS.ZOOM_DONE,s._onZoomDone),s.state=c.q.extend(s.state,{zoomDone:!1}),s}return d()(t,e),t.prototype._onZoomDone=function(){this.setState({zoomDone:!0})},t.prototype._renderControls=function(){var e=this.getSharedState('selectedFocus'),t;switch(e){case'radial':t=_.a;break;case'linear':t=g.a;break;case'mirrored':t=u.a;break;default:return c.l.createElement('div',null);}return c.l.createElement(t,{zoomDone:this.state.zoomDone})},t}(m.a);y.contextTypes=m.a.contextTypes,t.a=y},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),_=o(1),g=o(10),u=o(14),y=o(9),h=o(6),f=!1,b=function(e){function t(){var o;a()(this,t);for(var i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];var p=l()(this,e.call.apply(e,[this].concat(r)));return p._bindAll('_onCircleDragStart','_onCircleDrag','_onKnobDragStart','_onKnobDrag','_onOperationUpdated','_onZoomDone'),p.state=_.q.extend(p.state,{circlePosition:new _.v,circleDimensions:new _.v,knobPosition:new _.v,visible:!1}),p._knobChangedManually=!1,p._operation=p.getSharedState('operation'),p._events=(o={},n()(o,_.d.EVENTS.OPERATION_UPDATED,p._onOperationUpdated),n()(o,_.d.EVENTS.ZOOM_DONE,p._onZoomDone),o),p.props.zoomDone&&Object(_.z)(function(){p._onZoomDone()}),p}return d()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},t.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},t.prototype._onOperationUpdated=function(e){e!==this.getSharedState('operation')||(this._knobChangedManually=!1,this._updatePositionsAndDimensions())},t.prototype._onCircleDragStart=function(){this._initialPosition=this._operation.getPosition(),this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onCircleDrag=function(e){var t=this.context.editor,o=t.getOutputDimensions(),i=e.clone().divide(o),n=this._initialPosition.clone().add(i),r=this._initialKnobPosition.clone().add(e);this._operation.set({position:n}),this.state.knobPosition=r,t.render(),this._updatePositionsAndDimensions()},t.prototype._onKnobDragStart=function(){this._knobChangedManually=!0,this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onKnobDrag=function(e){var t=this.context.editor,o=t.getOutputDimensions(),i=this._initialKnobPosition.clone().add(e).clamp(new _.v(0,0),o),n=this._operation.getPosition().clone().multiply(o),r=i.clone().subtract(n).abs().len();this.setState({knobPosition:i,circleDimensions:new _.v(2*r,2*r)}),this._operation.set({radius:r/o.min(),gradientRadius:r/2/o.min()}),t.render()},t.prototype._updatePositionsAndDimensions=function(){var e=this.context.editor,t=e.getOutputDimensions(),o=this._operation.getPosition().clone().multiply(t),i=this._operation.getRadius()*t.min(),n=2*i,r=new _.v(n,n),a={circleDimensions:r,circlePosition:o};this._knobChangedManually||(a.knobPosition=o.clone().add(i,0)),this.setState(a)},t.prototype._updateOnCanvasControls=function(){var e=this.context.editor,t=e.getSDK().getSprite().getBounds(),o=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),n=new _.n(m(t.x-(o.left-i.left)),m(t.y-(o.top-i.top)),c(t.width)+1,c(t.height)+1);_.u.styleElement(this._onCanvasControls,{left:n.x+'px',top:n.y+'px',width:n.width+'px',height:n.height+'px'}),this.forceUpdate()},t.prototype._getCircleStyles=function(){return{width:this.state.circleDimensions.x,height:this.state.circleDimensions.y,left:this.state.circlePosition.x,top:this.state.circlePosition.y,marginLeft:-0.5*this.state.circleDimensions.x,marginTop:-0.5*this.state.circleDimensions.y}},t.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},t.prototype.render=function(){var e=this;return _.l.createElement(k,{innerRef:function(t){e._container=t}},_.l.createElement(u.a,{active:this.state.visible,enterProp:'rendered',enterDuration:1e3*this.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},_.l.createElement(v,{innerRef:function(t){e._onCanvasControls=t}},_.l.createElement(g.a,{onStart:this._onCircleDragStart,onDrag:this._onCircleDrag},_.l.createElement(C,{className:f,style:this._getCircleStyles()})),_.l.createElement(g.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},_.l.createElement(S,{className:f,style:this._getKnobStyle()})))))},t}(y.a);b.contextTypes=y.a.contextTypes,t.a=b;var k=Object(_.w)(h.e).div('1rineb','CanvasControls'),v=_.w.div('12e79nm',{rendered:'2jlos',visible:'zgbg08'},'OnCanvasControls'),S=Object(_.w)(h.f).div('120drhm','Knob'),C=_.w.div('kgwi8g','Circle')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),s=o.n(r),l=o(2),p=o.n(l),d=o(3),_=o.n(d),g=o(1),u=o(10),y=o(14),h=o(9),f=o(6),b=function(e){function t(){var o;s()(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var l=p()(this,e.call.apply(e,[this].concat(r)));return l._bindAll('_onKnobDragStart','_onKnobDrag','_onOperationUpdated','_onZoomDone'),l.state=g.q.extend(l.state,{visible:!1}),l._operation=l.getSharedState('operation'),l._events=(o={},n()(o,g.d.EVENTS.OPERATION_UPDATED,l._onOperationUpdated),n()(o,g.d.EVENTS.ZOOM_DONE,l._onZoomDone),o),l.props.zoomDone&&Object(g.z)(function(){l._onZoomDone()}),l}return _()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._updateOnCanvasControls()},t.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls()},t.prototype._onOperationUpdated=function(e){e!==this.getSharedState('operation')||this.forceUpdate()},t.prototype._onKnobDragStart=function(e){var t=this.getSharedState('operation');this._initialPosition=t.getOption('controlPoint'+e)},t.prototype._onKnobDrag=function(e,t){var o=this.context.editor,i=this.getSharedState('operation'),n=o.getSDK().getSprite().getBounds(),r=this._container.getBoundingClientRect(),a=this.context.appComponent.getBounds(),s=this._initialPosition.clone().multiply(n.width,n.height),l=s.add(t).clamp(new g.v(r.left-a.left-n.x,r.top-a.top-n.y),new g.v(r.width-(n.x-(r.left-a.left)),r.height-(n.y-(r.top-a.top)))),p=l.divide(n.width,n.height);i.setOption('controlPoint'+e,p),o.render(),this.forceUpdate()},t.prototype._updateOnCanvasControls=function(){var e=this.context.editor,t=e.getSDK().getSprite().getBounds(),o=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),n=new g.n(m(t.x-(o.left-i.left)),m(t.y-(o.top-i.top)),c(t.width)+1,c(t.height)+1);g.u.styleElement(this._onCanvasControls,{left:n.x+'px',top:n.y+'px',width:n.width+'px',height:n.height+'px'}),this.forceUpdate()},t.prototype._getKnobStyle=function(e){var t=this.context.editor,o=this.getSharedState('operation'),i=o.getOption('controlPoint'+e),n=t.getSDK().getSprite().getBounds(),r=i.clone().multiply(n.width,n.height);return{left:r.x,top:r.y}},t.prototype._getLineStyle=function(){var e=this.context.editor,t=this.getSharedState('operation'),o=e.getSDK().getSprite().getBounds(),i={1:t.getControlPoint1().clone().multiply(o.width,o.height),2:t.getControlPoint2().clone().multiply(o.width,o.height)},n=i[2].clone().subtract(i[1]),r=n.len(),s=a(n.y,n.x);return{width:r+'px',left:i[1].x+'px',top:i[1].y+'px',transform:'rotate('+s+'rad) translateY(-50%)'}},t.prototype._renderKnobs=function(){for(var e=[],t=1;2>=t;t++)e.push(g.l.createElement(u.a,{onStart:this._onKnobDragStart.bind(this,t),onDrag:this._onKnobDrag.bind(this,t),key:t},g.l.createElement(S,{style:this._getKnobStyle(t),className:'js-secondLinearFocusDraggableKnob'})));return e},t.prototype.render=function(){var e=this;return g.l.createElement(k,{innerRef:function(t){e._container=t}},g.l.createElement(y.a,{active:this.state.visible,enterProp:'rendered',enterDuration:1e3*this.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},g.l.createElement(v,{innerRef:function(t){e._onCanvasControls=t}},this._renderKnobs(),g.l.createElement(C,{style:this._getLineStyle()}))))},t}(h.a);b.contextTypes=h.a.contextTypes,t.a=b;var k=Object(g.w)(f.e).div('1rineb','CanvasControls'),v=g.w.div('12e79nm',{rendered:'2jlos',visible:'zgbg08'},'OnCanvasControls'),S=Object(g.w)(f.f).div('120drhm','Knob'),C=g.w.div('1rrhaqy','Line')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),s=o(0),l=o.n(s),p=o(2),d=o.n(p),_=o(3),g=o.n(_),u=o(1),y=o(10),h=o(14),f=o(9),b=o(6),k=!1,v=function(e){function t(){var o;l()(this,t);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var s=d()(this,e.call.apply(e,[this].concat(r)));return s._bindAll('_onCenterDragStart','_onCenterDrag','_onKnobDragStart','_onKnobDrag','_onOperationUpdated','_onZoomDone'),s.state=u.q.extend(s.state,{areaPosition:new u.v,areaDimensions:new u.v,knobPosition:new u.v,visible:!1}),s._events=(o={},n()(o,u.d.EVENTS.OPERATION_UPDATED,s._onOperationUpdated),n()(o,u.d.EVENTS.ZOOM_DONE,s._onZoomDone),o),s._operation=s.getSharedState('operation'),s.props.zoomDone&&Object(u.z)(function(){s._onZoomDone()}),s}return g()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},t.prototype._onZoomDone=function(){this.state.visible||(this.state.visible=!0),this._updateOnCanvasControls(),this._updatePositionsAndDimensions()},t.prototype._onOperationUpdated=function(e){e!==this._operation||(this.forceUpdate(),this._updatePositionsAndDimensions())},t.prototype._onCenterDragStart=function(){var e=this._operation;this._initialStart=e.getStart(),this._initialEnd=e.getEnd(),this._initialDist=this._initialEnd.clone().subtract(this._initialStart)},t.prototype._onCenterDrag=function(e){var t=this.context.editor,o=this._operation,i=t.getOutputDimensions(),n=e.clone().divide(i),r=this._initialStart.clone().add(n).clamp(new u.v(0,0),new u.v(1,1).subtract(this._initialDist)),a=r.clone().add(this._initialDist);o.set({start:r,end:a}),t.render(),this._updatePositionsAndDimensions(),this.forceUpdate()},t.prototype._onKnobDragStart=function(){this._initialKnobPosition=this.state.knobPosition.clone()},t.prototype._onKnobDrag=function(e){var t=this.context.editor,o=this._operation,i=t.getOutputDimensions(),n=this._initialKnobPosition.clone().add(e).clamp(new u.v(0,0),i),r=n.clone().subtract(this.state.areaPosition),a=this.state.areaPosition.clone().add(-r.y,r.x).divide(i),s=this.state.areaPosition.clone().add(r.y,-r.x).divide(i),l=2*r.len();o.set({start:a,end:s,size:l/i.min(),gradientSize:l/i.min()}),this.setState({knobPosition:n,areaDimensions:new u.v(this.state.areaDimensions.x,l)}),t.render()},t.prototype._getAreaStyle=function(){var e=this.state.knobPosition.clone().subtract(this.state.areaPosition),t=a(e.x,e.y)*(180/r),o='rotate('+(-t).toFixed(2)+'deg)';return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:-0.5*this.state.areaDimensions.x,marginTop:-0.5*this.state.areaDimensions.y,transform:o,MozTransform:o,msTransform:o,WebkitTransform:o}},t.prototype._getKnobStyle=function(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}},t.prototype._updatePositionsAndDimensions=function(){var e=this.context.editor,t=e.getOutputDimensions(),o=this._operation,i=o.getStart().clone().multiply(t),n=o.getEnd().clone().multiply(t),r=o.getSize()*t.min(),a=n.clone().subtract(i),s=i.clone().add(a.clone().divide(2)),l=new u.v(2*t.len(),r),p=a.len(),d=a.clone().divide(p).divide(2);this.setState({areaDimensions:l,areaPosition:s.clone(),knobPosition:s.clone().add(-r*d.y,r*d.x)})},t.prototype._updateOnCanvasControls=function(){var e=this.context.editor,t=e.getSDK().getSprite().getBounds(),o=this._container.getBoundingClientRect(),i=this.context.appComponent.getBounds(),n=new u.n(m(t.x-(o.left-i.left)),m(t.y-(o.top-i.top)),c(t.width)+1,c(t.height)+1);u.u.styleElement(this._onCanvasControls,{left:n.x+'px',top:n.y+'px',width:n.width+'px',height:n.height+'px'}),this.forceUpdate()},t.prototype.render=function(){var e=this;return u.l.createElement(S,{innerRef:function(t){e._container=t}},u.l.createElement(h.a,{active:this.state.visible,enterProp:'rendered',enterDuration:1e3*this.context.theme.transitionDuration,appearProp:'visible',appearDuration:1e3*this.context.theme.transitionDuration,leaveDuration:1e3*this.context.theme.transitionDuration},u.l.createElement(C,{innerRef:function(t){e._onCanvasControls=t}},u.l.createElement(y.a,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},u.l.createElement(x,{className:k,style:this._getAreaStyle()})),u.l.createElement(y.a,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},u.l.createElement(E,{className:k,style:this._getKnobStyle()})))))},t}(f.a);v.contextTypes=f.a.contextTypes,t.a=v;var S=Object(u.w)(b.e).div('1rineb','CanvasControls'),C=u.w.div('aovk7s',{rendered:'2jlos',visible:'zgbg08'},'OnCanvasControls'),E=Object(u.w)(b.f).div('120drhm','Knob'),x=u.w.div('36haff','Area')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(12),c=o(15),m=o(280),_=o(283),g=o(285),u={ROOT:0,SEARCH:1},y=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i))),l=s.props.options.provider;return s._library=new l,s._bindAll('_onCategorySelect','_onImageSelect','_onSearchQueryChange','_onWebcamActivated'),s.state.currentPanel=u.ROOT,s.state.searchQuery='',s}return l()(t,e),t.prototype._onBackButtonClick=function(){this.setState({currentPanel:u.ROOT,searchQuery:'',backButton:!1})},t.prototype._onCategorySelect=function(e){this.setState({currentPanel:u.SEARCH,searchQuery:e.getName(),backButton:!0})},t.prototype._onImageSelect=function(e){var t=this;this.setSharedState({webcamEnabled:!1});var o=new window.Image,i=setTimeout(function(){n=d.a.instance.displayLoading(t._t('loading.loading'))},200),n;o.addEventListener('load',function(){n&&n.close(),i&&(clearTimeout(i),i=null),t.props.controls.onImage(o)}),o.addEventListener('error',function(){n&&n.close(),i&&(clearTimeout(i),i=null),d.a.instance.displayError(t._t('errors.title'),t._t('errors.imageLoadingError.text'))}),o.crossOrigin='Anonymous',o.src=e.getRawUrl()},t.prototype._onSearchQueryChange=function(e){this.setState({searchQuery:e,currentPanel:u.SEARCH})},t.prototype._onWebcamActivated=function(){this.setSharedState({webcamEnabled:!0})},t.prototype.fixStyles=function(){var t=this;if(this._list)return this._list.style.height='100%',e.prototype.fixStyles.call(this).then(function(){if(p.u.Browser.isIElte(10)){var e=t._container.offsetHeight;t._list.style.height=e+'px'}return t.refs.panel.fixStyles()})},t.prototype._renderCurrentPanel=function(){var e=this;switch(this.state.currentPanel){case u.ROOT:return p.l.createElement(m.a,{controls:this.props.controls,innerRef:function(t){e._list=t},library:this._library,onCategorySelect:this._onCategorySelect,onWebcamActivated:this._onWebcamActivated,options:this.props.options,key:'panel',ref:'panel'});case u.SEARCH:return p.l.createElement(_.a,{innerRef:function(t){e._list=t},library:this._library,onImageSelect:this._onImageSelect,searchQuery:this.state.searchQuery,key:'panel',ref:'panel'});}},t.prototype._getRootProps=function(){return{className:!1,withBorderTop:!1}},t.prototype._renderContent=function(){return[p.l.createElement(g.a,{key:'searchHeader',onChange:this._onSearchQueryChange,searchQuery:this.state.searchQuery}),this._renderCurrentPanel()]},t}(c.a);y.contextTypes=c.a.contextTypes,y.propTypes=c.a.propTypes,y.RootElement=c.a.RootElement,t.a=y},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(11),_=o(281),g=o(115),u=o(117),y=o(79),h=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onImage'),r.state={loading:!0,categories:[]},r}return d()(t,e),t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){c.u.Browser.isIElte(10)?Object(c.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._loadCategories()},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._loadCoverImagesQueue.dispose(),this._disposed=!0},t.prototype._onCategoryClick=function(e){this.props.onCategorySelect&&this.props.onCategorySelect(e)},t.prototype._onImage=function(e){this.props.controls.onImage(e)},t.prototype._loadCoverImages=function(e){var t=this,o=this.context.theme,i=e.map(function(e){return{fn:function(){return e.loadCoverImage()},index:e}});this._loadCoverImagesQueue=new u.a(i,{minDelay:o.listItemSlideInDelay}),this._loadCoverImagesQueue.on('job-done',function(){t._disposed||(t.forceUpdate(),t._scrollbar.update())}),this._loadCoverImagesQueue.start()},t.prototype._loadCategories=function(){var e=this;return this.props.library.getCategories().then(function(t){e._loadCoverImages(t),e.setState({loading:!1,categories:t})})},t.prototype._renderListItems=function(){var e=this;return this.state.categories.map(function(t){return c.l.createElement(_.a,{key:t.getName(),category:t,visible:t.isCoverImageLoaded(),onClick:e._onCategoryClick.bind(e,t)})})},t.prototype.render=function(){var e=this;if(this.state.loading)return c.l.createElement(y.a,null);var t=this.props.options,o=t.enableUpload,i=t.displayUploadInCanvas,n=this.props.innerRef;return c.l.createElement(f,{innerRef:function(t){n&&n(t),e._wrapper=t},className:!1},c.l.createElement(m.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(b,null,o&&!i&&c.l.createElement(g.a,{controls:this.props.controls,onImage:this._onImage,webcamEnabled:this.props.options.enableWebcam,onWebcamActivated:this.props.onWebcamActivated}),this._renderListItems())))},t}(c.b);t.a=h;var f=c.w.div('rfecls','RootPanelWrapper'),b=c.w.ul('5jg0ou','CategoryList')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e=this.props,t=e.category,o=e.onClick,i=e.visible,n={backgroundImage:'url(\''+t.getCoverImage()+'\')'};return p.l.createElement(m,{animated:!0,style:n,visible:i,className:!1,onClick:o},p.l.createElement(_,null,t.getName()))},t}(p.b);t.a=c;var m=Object(p.w)(d.a).li('prcvvt','ListItem'),_=Object(p.w)(d.d).div('1ler8h7','ListItemTitle')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(12),c=function(e){function t(o){n()(this,t);var i=a()(this,e.call(this));return i._input=o,i._onFileChange=i._onFileChange.bind(i),i._input.addEventListener('change',i._onFileChange),i}return l()(t,e),t.prototype.open=function(){this._input.value=null,this._input.click()},t.prototype._handleFile=function(e){var t=this,o=new window.FileReader;o.onload=function(){return function(o){var e=o.target.result,i=new window.Image;i.addEventListener('load',function(){t.emit('file',i)}),i.addEventListener('error',function(){return d.a.instance.displayError(t._t('errors.title'),t._t('errors.imageLoadingError.text'))}),i.src=e}}(e),o.readAsDataURL(e)},t.prototype._onFileChange=function(){var e=this._input.files;e.length&&this._handleFile(e[0])},t.prototype.dispose=function(){this._input.removeEventListener('change',this._onFileChange)},t}(p.e);t.a=c},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(11),_=o(284),g=o(117),u=o(79),y=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r.state={loading:!0,images:[]},r}return d()(t,e),t.prototype.fixStyles=function(){var e=this;return n.a.resolve().then(function(){c.u.Browser.isIElte(10)?Object(c.z)(function(){e._scrollbar.update()}):e._scrollbar.update()})},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this._loadImages(this.props.searchQuery)},t.prototype.componentWillReceiveProps=function(e){this.props.searchQuery!==e.searchQuery&&this._loadImages(e.searchQuery)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._loadThumbsQueue.stop(),this._loadThumbsQueue.dispose(),this._disposed=!0},t.prototype._onImageClick=function(e){this.props.onImageSelect&&this.props.onImageSelect(e)},t.prototype._loadThumbs=function(e){var t=this,o=this.context.theme,i=e.map(function(e){return{fn:function(){return e.loadThumb()},index:e}});this._loadThumbsQueue=new g.a(i,{minDelay:o.listItemSlideInDelay}),this._loadThumbsQueue.on('job-done',function(){t._disposed||(t.forceUpdate(),t._scrollbar.update())}),this._loadThumbsQueue.start()},t.prototype._loadImages=function(e){var t=this;return e.trim()||this.setState({loading:!1,images:[]},function(){return t._scrollbar.update()}),this.setState({loading:!0}),this.props.library.searchImages(e).then(function(e){t._loadThumbs(e),t.setState({loading:!1,images:e},function(){return t._scrollbar.update()})})},t.prototype._renderListItems=function(){var e=this,t=this.context.editor,o=t.getImage();return 0===this.state.images.length?c.l.createElement(b,null,this._t('editor.controls.library.noResults')):this.state.images.map(function(t){return c.l.createElement(_.a,{key:t.getThumbUrl(),image:t,selected:t.getRawUrl()===(o&&o.src),visible:t.isThumbLoaded(),onClick:e._onImageClick.bind(e,t)})})},t.prototype.render=function(){var e=this;if(this.state.loading)return c.l.createElement(u.a,null);var t=this.props.innerRef;return c.l.createElement(h,{innerRef:function(o){t&&t(o),e._wrapper=o},className:!1},c.l.createElement(m.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(f,null,this._renderListItems())))},t}(c.b);t.a=y;var h=c.w.div('rfecls','RootPanelWrapper'),f=c.w.ul('5jg0ou','ImageList'),b=c.w.div('6kl290','NoResultsText')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=o(14),m=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s.state={isPortrait:!1,hovered:!1},s}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){if(this.props.visible!==e.visible){var t=this.props.image.getThumbImage();t.height>t.width&&this.setState({isPortrait:!0})}},t.prototype.render=function(){var e=this,t=this.props,o=t.image,i=t.onClick,n=t.selected,r=t.visible,a={backgroundImage:'url(\''+o.getThumbUrl()+'\')'},s=o.getAuthorAvatar(),l=this.context.theme.transitionDuration,d=[!1,n&&'is-selected'].filter(function(e){return e});return p.l.createElement(_,{animated:!0,style:a,selected:n,visible:r,className:d.join(' '),onClick:i,portrait:this.state.isPortrait,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},p.l.createElement(c.a,{active:this.state.hovered,enterProp:'rendered',enterDuration:1e3*l,appearProp:'visible',appearDuration:1e3*l,leaveDuration:1e3*l},p.l.createElement(h,{selected:n},s&&p.l.createElement(u,{src:s}),p.l.createElement(y,null,o.getAuthorName()))),p.l.createElement(c.a,{active:n,enterProp:'rendered',enterDuration:1e3*l,appearProp:'visible',appearDuration:1e3*l,leaveDuration:1e3*l},p.l.createElement(g,{selected:!0})))},t}(p.b);t.a=m;var _=Object(p.w)(d.a).li('1a5mxw5',{portrait:'otbyv0'},'ListItem'),g=Object(p.w)(d.b).div('120drhm','ListItemOverlay'),u=p.w.img('1owxkzt','AuthorAvatar'),y=p.w.div('1jylqsv','AuthorName'),h=p.w.div('mchu36',{rendered:'2jlos',visible:'1fmxelx'},'Author')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(286),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onInputChange'),s._onDebouncedInputChange=p.u.debounce(s._onDebouncedInputChange,250),s.state={searchQueryInputValue:''},s}return l()(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.searchQuery!==e.searchQuery&&this.setState({searchQueryInputValue:e.searchQuery})},t.prototype.componentWillUnmount=function(){this._disposed=!0},t.prototype._onDebouncedInputChange=function(e){this._disposed||this.props.onChange&&this.props.onChange(e)},t.prototype._onInputChange=function(e){var t=e.target.value;this.setState({searchQueryInputValue:t}),this._onDebouncedInputChange(t)},t.prototype.render=function(){return p.l.createElement(m,{key:'header'},p.l.createElement(_,null,p.l.createElement(g,{placeholder:this._t('editor.controls.library.search'),onLiveChange:this._onInputChange,className:!1,value:this.state.searchQueryInputValue})))},t}(p.b);t.a=c;var m=p.w.div('1tkmkv6','Header'),_=p.w.div('mz0a5q','InputContainer'),g=Object(p.w)(d.a)('py3uvl','TextInput')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(77),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onKeyDown','_onInputBlur','_onInputChange'),s.state={value:''},s}return l()(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.value!==e.value||this.props.disabled!==e.disabled||this.state.value!==t.value},t.prototype.componentWillReceiveProps=function(e){this.setState({value:e.value})},t.prototype._onInputChange=function(t){this.setState({value:t.target.value}),this.props.onLiveChange&&this.props.onLiveChange(t)},t.prototype._onInputBlur=function(t){this.props.onChange&&this.props.onChange(t)},t.prototype._onKeyDown=function(e){(13===e.keyCode||27===e.keyCode)&&this._input.blur(),this.props.onKeyDown&&this.props.onKeyDown()},t.prototype.focus=function(){this._input.focus()},t.prototype._getInputStyle=function(){return{}},t.prototype.render=function(){var e=this,t=this.constructor.RootElement;return p.l.createElement(t,{value:this.state.value,placeholder:this.props.placeholder,onChange:this._onInputChange,onBlur:this._onInputBlur,innerRef:function(t){e._input=t},onKeyDown:this._onKeyDown,name:this.props.name,styles:this.props.styles,className:this.props.className,style:this._getInputStyle(),disabled:this.props.disabled})},t}(p.b);c.contextTypes=p.b.contextTypes,t.a=c,c.RootElement=Object(p.w)(d.a).input('120drhm','TextInputComponent')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(27),c=o(288),m=o(289),_=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onImage','_onWebcamBack','_onWebcamActivated'),s.state.displayHeader=!1,s}return l()(t,e),t.prototype._onImage=function(e){this.props.controls.onImage(e)},t.prototype._onWebcamBack=function(){this.setSharedState({webcamEnabled:!1})},t.prototype._onWebcamActivated=function(){this.setSharedState({webcamEnabled:!0})},t.prototype._renderControls=function(){var e=this.getSharedState('webcamEnabled'),t=this.props.options.displayUploadInCanvas;return e?p.l.createElement(c.a,{onImage:this._onImage,onBack:this._onWebcamBack}):t?p.l.createElement(g,null,p.l.createElement(m.a,{large:!0,controls:this.props.controls,webcamEnabled:this.props.options.enableWebcam,onWebcamActivated:this._onWebcamActivated,onImage:this._onImage})):void 0},t}(d.a);_.contextTypes=d.a.contextTypes,t.a=_;var g=p.w.div('1up9ikz','LibraryUploadContainer')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(12),c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onWebcamReady','_onButtonClick','_onCancelClick'),s.state={webcamReady:!1,videoWidth:1,videoHeight:1},s}return l()(t,e),t.prototype._onWebcamReady=function(){this.props.onReady&&this.props.onReady();var e=new p.v(this._video.videoWidth,this._video.videoHeight),t=p.u.getInnerDimensionsForElement(this._videoContainer),o=p.q.resizeVectorToFit(e,t);this.setState({webcamReady:!0,videoWidth:o.x,videoHeight:o.y})},t.prototype._onButtonClick=function(t){t.preventDefault(),this._takePhoto()},t.prototype._onCancelClick=function(t){t.preventDefault(),this.props.onBack&&this.props.onBack()},t.prototype.componentDidMount=function(){this._initVideoStream()},t.prototype.componentWillUnmount=function(){if(e.prototype.componentWillUnmount.call(this),this._stream){var t=this._stream.getTracks()[0];t&&t.stop(),this._stream.stop&&this._stream.stop()}this._video.pause()},t.prototype._initVideoStream=function(){var e=this,t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!t){var o=d.a.instance.displayError(this._t('errors.title'),this._t('errors.webcamNotSupported.text'));return void o.on('close',function(){return e.props.onBack()})}t.call(navigator,{video:!0},function(t){e._stream=t,e._video.onloadedmetadata=e._onWebcamReady,e._video.src=window.URL.createObjectURL(t)},function(t){p.h.error(t);var o=d.a.instance.displayError(e._t('errors.title'),e._t('errors.webcamUnavailable.text',{error:t.name}),!0);o.on('close',function(){return e.props.onBack()})})},t.prototype._takePhoto=function(){var e=this;if(this.state.webcamReady){var t=document.createElement('canvas');t.width=this._video.videoWidth,t.height=this._video.videoHeight;var o=t.getContext('2d');o.drawImage(this._video,0,0);var i=new window.Image;i.addEventListener('load',function(){e.props.onImage&&e.props.onImage(i)}),i.src=t.toDataURL('image/png')}},t.prototype.render=function(){var e=this,t={width:this.state.videoWidth,height:this.state.videoHeight};return p.l.createElement(m,null,p.l.createElement(_,null,p.l.createElement(g,{onClick:this._onCancelClick},this._t('editor.cancel'))),p.l.createElement(u,null,p.l.createElement(y,{innerRef:function(t){e._videoContainer=t}},p.l.createElement(h,{autoPlay:!0,visible:this.state.webcamReady,style:t,innerRef:function(t){e._video=t}}),p.l.createElement(f,{onClick:this._onButtonClick}))))},t}(p.b);t.a=c;var m=p.w.div('dehn6v','Container'),_=p.w.div('4d756t','Gradient'),g=p.w.div('1p4kwwq','CancelButton'),u=p.w.div('1j41msh','OuterVideoContainer'),y=p.w.div('1g72uw9','VideoContainer'),h=p.w.video('1btv3tg',{visible:'jsuk9w'},'Video'),f=p.w.div('1fkab7z','Button')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(6),c=o(116),m=o(115),_=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.render=function(){var e={backgroundImage:'url(\''+this._getAssetPath('editor/controls/library/webcam.png',!0)+'\')'};return p.l.createElement(g,null,p.l.createElement(u,null,p.l.createElement(f,null,p.l.createElement(y,{onClick:this._onDropZoneClick,onDragEnter:this._onDropZoneDragEnter,onDragOver:this._onDropZoneDragOver,onDragLeave:this._onDropZoneDragLeave,onDrop:this._onDropZoneDrop,hovered:this.state.dropZoneHovered},p.l.createElement(c.a,{ref:'upload',onNewFile:this._onNewFile}),this.state.dropZoneHovered?this._t('editor.controls.library.fileDropZoneHovered'):this._t('editor.controls.library.fileDropZone'))),!this.state.dropZoneHovered&&this.props.webcamEnabled&&p.l.createElement(f,null,p.l.createElement(h,{style:e,className:!1,onClick:this._onWebcamClick}))))},t}(m.a);t.a=_;var g=Object(p.w)(d.g).div('1xesje3','Container'),u=Object(p.w)(d.h).div('z914p5','Background'),y=p.w.div('yw0i2r',{hovered:'1xndhux'},'DropZone'),h=p.w.div('1jg5y1q','WebcamButton'),f=p.w.div('15u7gri','Row')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(18),d=o(291),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype._onOperationRemoved=function(e){var t=this.sharedState.get('operation');e===t&&this._onEnter()},t.prototype._onEnter=function(){var e=this.context.editor,t=e.operations.exists('overlay'),o=e.operations.getOrCreate('overlay'),i=o.serializeOptions();delete i.enabled,this.sharedState.set({operation:o,initialOptions:i,operationExistedBeforeEntering:t})},t.prototype._onLeave=function(){var e=this.context.editor,t=this.sharedState.state,o=t.operation,i=t.initialOptions,n=t.operationExistedBeforeEntering,r=!o.optionsEqual(i);r&&this.addHistoryItem({type:'global',operation:o.constructor.identifier,options:i,existent:n,undo:function(){if(n){var t=e.operations.getOrCreate('overlay');t.setImage(i.image)}}})},t.isEnabled=function(e){return e.isToolAllowed('overlay')&&e.isToolEnabled('overlay')},t}(p.a);c.clickAtPosition=p.a.clickAtPosition,c.getPreloadAssets=p.a.getPreloadAssets,c.identifier='overlay',c.controlsComponent=d.a,c.canvasControlsComponent=p.a.canvasControlsComponent,c.iconPath='editor/controls/overlay/icon.png',c.activeIconPath='editor/controls/overlay/icon-active.png',c.defaultOptions={overlays:[],replaceOverlays:!1,availableOverlays:null},t.a=c},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(105),_=o(15),g=o(292),u=o(119),y=o(11),h=o(118),f=o(12),b=o(6),k=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=l()(this,e.call.apply(e,[this].concat(i)));s._bindAll('_onOperationUpdated');var p=s.context,d=p.ui,_=p.theme;return s._thumbnailLoadQueue=new m.a(1,Infinity,_.listItemSlideInDelay),s._thumbnailsLoaded={},s._overlayManager=new u.a(d,s.props.options),s._events=n()({},c.d.EVENTS.OPERATION_UPDATED,s._onOperationUpdated),s.state={},s}return d()(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this);var o=this._overlayManager.getOverlays();o.forEach(function(e){t._thumbnailLoadQueue.add(function(){return c.g.load(t._getAssetPath(e.thumbnail)).then(function(o){t._thumbnailsLoaded[e.identifier]=o,t.forceUpdate()})})})},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._thumbnailLoadQueue.dispose()},t.prototype._onOperationUpdated=function(e){e===this.getSharedState('operation')&&this.forceUpdate()},t.prototype._onBeforeBlendModeChange=function(){this.props.controls.registerLocalHistoryChange('overlay-blendmode',!1)},t.prototype._onItemClick=function(e){var t=this;this.props.controls.registerLocalHistoryChange('overlay-image',!1);var o=this.context.editor,i=this.getSharedState('operation');if(!e)return i.set({image:null,identifier:null,alpha:1}),o.render(),this.forceUpdate();if(e.identifier!==i.getIdentifier()){var n=this._getAssetPath(e.image),r=h.a[e.blendMode],a=setTimeout(function(){s=f.a.instance.displayLoading(t._t('loading.loading'))},100),s;c.g.load(n).then(function(n){s&&s.close(),a&&(clearTimeout(a),a=null),i.set({identifier:e.identifier,image:n,blendMode:r,alpha:'undefined'==typeof e.intensity?1:e.intensity}),o.render(),t.forceUpdate()})}},t.prototype._renderListItems=function(){var e=this,t=this.getSharedState('operation'),o=this._overlayManager.getOverlays();return o.map(function(o){return c.l.createElement(g.a,{key:o.identifier,overlay:o,selected:t.getIdentifier()===o.identifier,visible:!!e._thumbnailsLoaded[o.identifier],onClick:e._onItemClick.bind(e,o),onBeforeBlendModeChange:e._onBeforeBlendModeChange.bind(e,o)})})},t.prototype._getRootProps=function(){return{className:!1,withBorderTop:!0}},t.prototype._renderContent=function(){var e=this,t=this.getSharedState('operation'),o=!t.getIdentifier();return c.l.createElement(y.a,{direction:'vertical',innerRef:function(t){e._scrollbar=t}},c.l.createElement(v,null,c.l.createElement(S,{onClick:this._onItemClick.bind(this,null)},c.l.createElement(C,{selected:o},c.l.createElement(E,null,this._t('editor.controls.overlay.overlays.none')))),this._renderListItems()))},t}(_.a);k.contextTypes=_.a.contextTypes,k.propTypes=_.a.propTypes,k.RootElement=_.a.RootElement,t.a=k;var v=c.w.ul('9uviv9','List'),S=Object(c.w)(b.g).div('1sgdmny','NoneItem'),C=Object(c.w)(b.h).div('yogtp1','NoneItemBackground'),E=Object(c.w)(b.d).span('5krmrh','ItemTitle')},function(e,t,o){'use strict';var i=o(17),n=o.n(i),r=o(0),a=o.n(r),s=o(19),l=o.n(s),p=o(2),d=o.n(p),c=o(3),m=o.n(c),_=o(1),g=o(32),u=o(9),y=o(6),h=o(14),f=o(293),b=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=d()(this,e.call.apply(e,[this].concat(i)));return r.state={hovered:!1},r._bindAll('_onBlendModeChange','_onAlphaChange'),r}return m()(t,e),t.prototype._onBlendModeChange=function(e){this.props.onBeforeBlendModeChange&&this.props.onBeforeBlendModeChange();var t=this.context.editor,o=this.getSharedState('operation');o.setBlendMode(e),t.render(),this.forceUpdate()},t.prototype._onAlphaChange=function(e){var t=this.context.editor,o=this.getSharedState('operation');o.setAlpha(e),t.render(),this.forceUpdate()},t.prototype.shouldComponentUpdate=function(e,t){return this.props.selected!==e.selected||this.props.visible!==e.visible||this.state.hovered!==t.hovered||this.props.overlay!==e.overlay||this.props.intensity!==e.intensity&&e.selected},t.prototype.render=function(){var e=this,t=this.props,o=t.lastChild,i=t.onClick,r=t.selected,a=t.visible,s=t.overlay,l=this.getSharedState('operation'),p=l.getAlpha(),d={lastChild:o,onClick:i,visible:a};return d.style={backgroundImage:'url(\''+this._getAssetPath(s.thumbnail)+'\')'},_.l.createElement(k,n()({},d,{className:!1,animated:!0,innerRef:function(t){e._container=t},onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}}),_.l.createElement(S,{selected:r},_.l.createElement(h.a,{active:!r},_.l.createElement(x,null,_.l.createElement(C,{hovered:this.state.hovered},this._t('editor.controls.overlay.overlays.'+s.identifier)||s.defaultName))),_.l.createElement(h.a,{active:r},_.l.createElement(x,null,_.l.createElement(E,null,'Blending'),_.l.createElement(T,{value:l.getBlendMode(),onChange:this._onBlendModeChange}),r&&_.l.createElement(v,null,_.l.createElement(g.a,{minValue:0,maxValue:1,valueUnit:'',middleDot:!1,value:p,onChange:this._onAlphaChange})),_.l.createElement(w,{rendered:!0,visible:!0})))))},l()(t,[{key:'container',get:function(){return this._container}}]),t}(u.a);b.contextTypes=u.a.contextTypes,t.a=b;var k=Object(_.w)(y.a).div('193vjnw',{lastChild:'229bd5'},'Item'),v=_.w.div('12dmntm','Slider'),S=_.w.div('1m161zg','ItemContainer'),C=Object(_.w)(y.d).span('120drhm','ItemTitle'),E=Object(_.w)(C)('1kbikta','BlendingLabel'),x=_.w.div('tj7k39',{rendered:'cuo4v2',visible:'82svov'},'ItemContent'),w=Object(_.w)(y.b).div('120drhm','Overlay'),T=Object(_.w)(f.a)('ii685b','BlendingControl')},function(e,t,o){'use strict';var i=o(294),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(6),_=o(118),g=c.q.flipObject(_.a),u=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._bindAll('_onPreviousClick','_onNextClick'),r}return d()(t,e),t.prototype._onPreviousClick=function(t){t.preventDefault(),t.stopPropagation();var e=n()(g),o=e.indexOf(this.props.value.toString()),i=(o+e.length-1)%e.length,r=parseInt(e[i],10);this.props.onChange&&this.props.onChange(r)},t.prototype._onNextClick=function(t){t.preventDefault(),t.stopPropagation();var e=n()(g),o=e.indexOf(this.props.value.toString()),i=(o+e.length+1)%e.length,r=parseInt(e[i],10);this.props.onChange&&this.props.onChange(r)},t.prototype.render=function(){var e={backgroundImage:'url(\''+this._getAssetPath('editor/controls/overlay/arrow-left.png',!0)+'\')'},t={backgroundImage:'url(\''+this._getAssetPath('editor/controls/overlay/arrow-right.png',!0)+'\')'},o=this.props.value;return c.l.createElement(y,{styles:this.props.styles},c.l.createElement(f,{onClick:this._onPreviousClick,style:e}),c.l.createElement(h,null,this._t('editor.controls.overlay.blendModes.'+g[o])),c.l.createElement(f,{onClick:this._onNextClick,style:t}))},t}(c.b);u.contextTypes=c.b.contextTypes,t.a=u;var y=c.w.div('15zte1z','BlendingControlContainer');u.RootElement=y;var h=Object(c.w)(m.d).div('1v7ogyl','Label'),f=c.w.div('1v32l0l','Arrow')},function(e,t,o){e.exports={default:o(295),__esModule:!0}},function(e,t,o){o(296),e.exports=o(7).Object.keys},function(e,t,o){var i=o(66),n=o(31);o(297)('keys',function(){return function(e){return n(i(e))}})},function(e,t,o){var i=o(16),n=o(7),r=o(29);e.exports=function(e,t){var o=(n.Object||{})[e]||Object[e],a={};a[e]=t(o),i(i.S+i.F*r(function(){o(1)}),'Object',a)}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a=function(){function e(t,o,i){n()(this,e),this._editor=t,this._sdk=o,this._mediator=i,this._options=this._editor.getOptions(),this.reset()}return e.prototype.isEnabled=function(e){return this._features[e]&&this.isEnabledByOptions(e)},e.prototype.isEnabledByOptions=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1),o=this._options.editor['enable'+t];return'undefined'==typeof o&&(o=!0),o},e.prototype.enable=function(){for(var e=this,t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];o.forEach(function(t){e._features[t]=!0}),this._mediator.emit(r.d.EVENTS.FEATURES_ENABLED,o),this._mediator.emit(r.d.EVENTS.FEATURES_UPDATED,o)},e.prototype.disable=function(){for(var e=this,t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];o.forEach(function(t){e._features[t]=!1}),this._mediator.emit(r.d.EVENTS.FEATURES_DISABLED,o),this._mediator.emit(r.d.EVENTS.FEATURES_UPDATED,o)},e.prototype.reset=function(){this._features={drag:this._options.editor.enableDrag,zoom:this._options.editor.enableZoom,export:!0,new:!0}},e}();t.a=a},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(19),a=o.n(r),s=o(2),l=o.n(s),c=o(3),m=o.n(c),_=o(1),g=o(300),u=300,y=function(e){function t(o,i,r){n()(this,t);var a=l()(this,e.call(this));return a._editor=o,a._sdk=i,a._mediator=r,a._isDefaultZoom=!1,a._zoom=a._sdk.getZoom(),a._targetZoom=a._zoom,a._options=a._editor.getOptions(),a._zoomLevels=[1,2,3,4,5,6.25,8.33,12.5,16.66,25,33.33,50,66.66,100,200,300,400,500,600,700,800,1200,1600,3200].map(function(e){return e/100}),a._editor.on('ready',function(){a._defaultLevel=a._calculateDefaultZoomLevel()}),a}return m()(t,e),t.prototype.auto=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=arguments[2];e&&(this._defaultLevel=this._calculateDefaultZoomLevel()),this.set(this._defaultLevel,t,o)},t.prototype.in=function(e){var t=this._getClosestZoomLevel(this._targetZoom+1e-3,1);t=this._clamp(t),this.set(t,e)},t.prototype.out=function(e){var t=this._getClosestZoomLevel(this._targetZoom-1e-3,-1);t=this._clamp(t),this.set(t,e)},t.prototype._clamp=function(e){var t=this._calculateDefaultZoomLevel(),o=p(1,2*t),i=this.minimum;return p(i,d(o,e))},t.prototype.set=function(e){var t=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=arguments[2];this._targetZoom=e,this._mediator.emit(_.d.EVENTS.ZOOM,e),this._zoom===this._targetZoom&&(o=!0),this._transition&&(this._transition.stop(),this._transition=null);var n=function(e){t._set(e,function(){i&&i(),t._mediator.emit(_.d.EVENTS.ZOOM_DONE,t._zoom)}),t._transition=null,t._sdk.setTextureQuality(d(t._zoom,1))};return o?n(e):void(this._transition=new g.a({zoom:this._zoom},{zoom:e},{duration:300,easing:'easeOutQuart',onUpdate:function(e){t._set(e.zoom)},onDone:function(e){n(e.zoom)}}),this._transition.start())},t.prototype.tick=function(){this._transition&&this._transition.update()},t.prototype._getClosestZoomLevel=function(e,t){var o;return-1===t?(o=this._zoomLevels.filter(function(t){return t<e}).pop(),!o&&(o=this._zoomLevels[this._zoomLevels.length-1])):1===t&&(o=this._zoomLevels.filter(function(t){return t>e})[0],!o&&(o=this._zoomLevels[0])),o},t.prototype.undo=function(){this._previousZoom&&(this.set(this._previousZoom),this._previousZoom=null)},t.prototype._set=function(e,t){this._zoom=e,this._sdk.setZoom(this._zoom),this._mediator.emit(_.d.EVENTS.ZOOM_CHANGED,this._zoom),this.emit('set',this._zoom,t)},t.prototype._calculateDefaultZoomLevel=function(){var e=this._editor.getFinalDimensions(!1),t=this._editor.getCanvasDimensions(),o=_.q.resizeVectorToFit(e,t);return o.divide(e).x},a()(t,[{key:'minimum',get:function(){var e=this._editor.getFinalDimensions(),t=_.q.resizeVectorToFit(e,new _.v(u,u));return t.divide(e).x}},{key:'level',get:function(){return this._zoom}},{key:'defaultLevel',get:function(){return this._defaultLevel}},{key:'targetLevel',get:function(){return this._targetZoom}}]),t}(_.e);t.a=y},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(1),a={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return 0.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return 0.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return 0.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return 0.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},s=function(){function e(t,o,i){n()(this,e),this._obj=t,this._initialObj=r.q.clone(t),this._targetValues=o,this._options=r.q.defaults(i,{duration:1e3,easing:'easeOutQuad',onUpdate:function(){},onDone:function(){}}),this._startedAt=null,this._running=!1}return e.prototype.start=function(){this._startedAt=+new Date,this._running=!0},e.prototype.update=function(){if(this._running){var e=+new Date-this._startedAt,t=a[this._options.easing],o=d(1,e/this._options.duration),i=t(o);for(var n in this._initialObj){var r=this._initialObj[n],s=this._targetValues[n];this._obj[n]=r+(s-r)*i}this._options.onUpdate(this._obj),1<=o&&(this._options.onDone(this._obj),this.stop())}},e.prototype.stop=function(){this._running=!1},e}();t.a=s},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(302),c=function(e){function t(o,i,r){n()(this,t);var s=a()(this,e.call(this));return s._editor=o,s._sdk=i,s._mediator=r,s._items=[],s}return l()(t,e),t.prototype.isItem=function(e){return e instanceof d.a},t.prototype.isAvailable=function(){var e=p.q.flatten(this.getItems());return 0!==e.length},t.prototype.createItem=function(e){return new d.a(e)},t.prototype.addObject=function(e){this.addItem(this.createItem(e))},t.prototype.addObjects=function(e){var t=this,o=e.map(function(e){return t.createItem(e)});this.addItems(o)},t.prototype.addItem=function(e){this._items.push(e),this._mediator.emit(p.d.EVENTS.HISTORY_UPDATED,e.operation)},t.prototype.addItems=function(e){var t=this;this._items.push(e),e.forEach(function(e){t._mediator.emit(p.d.EVENTS.HISTORY_UPDATED,e.operation)})},t.prototype.removeItems=function(e){var t=this;e.forEach(function(e){var o=t._items.indexOf(e);-1===o||t._items.splice(o,1)})},t.prototype.undo=function(){var e=this,t=this._editor.operations,o=this._items,i=o.pop();if(i){var n=[].concat(i);n.forEach(function(o){e._mediator.emit(p.d.EVENTS.HISTORY_BEFORE_UNDO,o);var i=o.serializeOptions(),n=i.operation,r=i.options,a=i.existent,s=t.get(n);a?(s=t.getOrCreate(n),s.set(r),e._mediator.emit(p.d.EVENTS.OPERATION_UPDATED,s)):t.remove(n),o.undo(s,r)}),this._mediator.emit(p.d.EVENTS.HISTORY_UNDO,n),this.emit('undo')}},t.prototype.reset=function(){this._items=[]},t.prototype.getItems=function(){return this._items},t.prototype.getLastItem=function(){return this._items[this._items.length-1]},t}(p.e);t.a=c},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));return s._undone=!1,s}return l()(t,e),t.prototype.undo=function(){if(this._options.undo){var e;(e=this._options).undo.apply(e,arguments)}this._undone=!0},t.prototype.isUndone=function(){return this._undone},t}(p.p.Configurable);t.a=d,d.prototype.availableOptions={type:{type:p.i.STRING,required:!0,default:'global',available:['global','local']},data:{type:p.i.OBJECT,default:{}},operation:{type:p.i.STRING,required:!0},options:{type:p.i.OBJECT,default:{}},existent:{type:p.i.BOOLEAN,default:!0},undo:{type:p.i.FUNCTION}}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(0),n=o.n(i),r=o(120),a=o(121),s=function(){function e(t){n()(this,e),this._editor=t}return e.prototype.serialize=function(){var e=new r.a(this._editor);return e.serialize.apply(e,arguments)},e.prototype.deserialize=function(e){var t=new a.a(this._editor,e);return t.deserialize()},e}();t['default']=s,s.version='1.0.0'},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(122),d={italic:'i'},c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.load=function(){return this._fonts.length&&this._addStylesheetTag(),e.prototype.load.call(this)},t.prototype._addStylesheetTag=function(){var e=this._getFamiliesString(),t=document.createElement('link');t.rel='stylesheet',t.href='https://fonts.googleapis.com/css?family='+e;var o=document.getElementsByTagName('head')[0];o.appendChild(t)},t.prototype._getFamiliesString=function(){var e={};this._fonts.forEach(function(t){var o=t.getFontFamily(),i=t.getFontStyle(),n=t.getFontWeight();e[o]=e[o]||[],'undefined'==typeof n?e[o].push(400):e[o].push(''+n+(d[i]||''))});var t=[];for(var o in e){var i=e[o],n=i.length?':'+i.join(','):'',r=o.replace(' ','+')+n;t.push(r)}return t.join('|')},t}(p.a);t.a=c},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(306),l='undefined'!=typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):o(101),p=function(){function e(t){a()(this,e),this._fontVariation=t,this._defaultFontRuler=new s.a,this._customFontRuler=new s.a(this._fontVariation)}return e.prototype.observe=function(){var e=this,t=l();return new n.a(function(o,i){var n=window.setInterval(function(){var r=e._defaultFontRuler.getWidth()!==e._customFontRuler.getWidth();if(r)return window.clearInterval(n),o();if(l()-t>=5e3){var a=new Error('Failed to load font '+e._fontVariation.getFontFamily()+'.');return a.font=e._fontVariation,i(a)}},50)})},e.prototype.dispose=function(){this._defaultFontRuler.dispose(),this._customFontRuler.dispose()},e}();t.a=p},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(113),a=function(){function e(t){n()(this,e),this._fontVariation=t||new r.a({fontFamily:'Times New Roman',fontWeight:'normal',fontStyle:'normal'}),this._createRuler()}return e.prototype._createRuler=function(){this._ruler=document.createElement('div'),this._ruler.innerText='abcdefghijklmnopqrstuvwxzy',document.body.appendChild(this._ruler),this._setRulerStyle()},e.prototype._setRulerStyle=function(){this._ruler.style.cssText='\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: '+this._fontVariation.getFontStyle()+' '+this._fontVariation.getFontWeight()+' '+30+'px '+this._fontVariation.getFontFamily()+';\n    '},e.prototype.setFontVariation=function(e){this._fontVariation=e,this._setRulerStyle()},e.prototype.getWidth=function(){return this._ruler.offsetWidth},e.prototype.dispose=function(){this._ruler&&(this._ruler.parentNode.removeChild(this._ruler),this._ruler=null)},e}();t.a=a},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(122),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.load=function(){var t=this,o=[];return this._fonts.forEach(function(e){var i=t._ui.getAssetPath(e.getFilePath(),!1,!0);o.push('@font-face {\n        font-family: "'+e.getFontFamily()+'";\n        src: url(\''+i+'\') format(\'woff\');\n        font-weight: '+e.getFontWeight()+';\n        font-style: '+e.getFontStyle()+';\n      }')}),p.w.global(o.join('\n'),!0),e.prototype.load.call(this)},t}(d.a);t.a=c},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(0),n=o.n(i),r=o(123),a=o(124),s=function(){function e(t){n()(this,e),this._editor=t}return e.prototype.serialize=function(){var e=new r.a(this._editor);return e.serialize.apply(e,arguments)},e.prototype.deserialize=function(e){var t=new a.a(this._editor,e);return t.deserialize()},e}();t['default']=s,s.version='1.0.1'},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(0),n=o.n(i),r=o(84),a=o(85),s=function(){function e(t){n()(this,e),this._editor=t}return e.prototype.serialize=function(){var e=new r.a(this._editor);return e.serialize.apply(e,arguments)},e.prototype.deserialize=function(e){var t=new a.a(this._editor,e);return t.deserialize()},e}();t['default']=s,s.version='2.0.0'},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(0),n=o.n(i),r=o(311),a=o(312),s=function(){function e(t){n()(this,e),this._editor=t}return e.prototype.serialize=function(){var e=new r.a(this._editor);return e.serialize.apply(e,arguments)},e.prototype.deserialize=function(e){var t=new a.a(this._editor,e);return t.deserialize()},e}();t['default']=s,s.version='2.0.1'},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(84),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t}(p.a);t.a=d,d.version='2.0.0'},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(85),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t}(p.a);t.a=d,d.version='2.0.1'},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(0),n=o.n(i),r=o(314),a=o(315),s=function(){function e(t){n()(this,e),this._editor=t}return e.prototype.serialize=function(){var e=new r.a(this._editor);return e.serialize.apply(e,arguments)},e.prototype.deserialize=function(e){var t=new a.a(this._editor,e);return t.deserialize()},e}();t['default']=s,s.version='3.0.0'},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(84),c=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.serialize=function(){var t=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.prototype.serialize.call(this,o).then(function(e){return e.meta={platform:'html5',version:t._editor.getSDK().version,createdAt:p.q.ISODateString(new Date)},e.image=e.inputImage,delete e.inputImage,e})},t.prototype._serializeSticker=function(t,o){var i=e.prototype._serializeSticker.call(this,t,o);return i.options.alpha=o.getAlpha(),i.options.tintColor&&(i.options.tintColor={rgba:i.options.tintColor}),i},t.prototype._serializeText=function(t,o){var i=e.prototype._serializeText.call(this,t,o);return i.options.color={rgba:i.options.color},i.options.backgroundColor={rgba:i.options.backgroundColor},i.options.flipHorizontally=!1,i.options.flipVertically=!1,delete i.options.fontWeight,i},t.prototype._serializePath=function(t){var o=e.prototype._serializePath.call(this,t);delete o.hardness,delete o.size,delete o.color;var i=t.getBrush();o.brush=i.serializeOptions(['identifier','size','color'],!0),'undefined'==typeof o.brush.identifier&&delete o.brush.identifier,o.brush.color={rgba:o.brush.color};var n=i.getOption('hardness');return'undefined'!==n&&(o.brush.hardness=n),o},t.prototype._serializeFrameOperation=function(t,o){e.prototype._serializeFrameOperation.call(this,t,o);var i=o.filter(function(e){return'sprite'===e.type}),n;if(i.length){n=i.pop();var r=n.options.sprites.filter(function(e){return'frame'===e.type})[0],a=t.getTintColor();a.equals(new p.c(1,1,1,0))||(r.options.tintColor={rgba:t.serializeOption('tintColor',!0)});var s=t.serializeOptions(['scale','alpha'],!0);r.options=p.q.extend(r.options,s),r.options.size=r.options.scale,delete r.options.scale}},t.prototype._serializeTransformOperation=function(t){var o=e.prototype._serializeTransformOperation.call(this,t);return t._ratio&&(o.options.meta={identifier:t._ratio.identifier}),delete o.options.scale,o},t.prototype._serializeAdjustmentsOperation=function(t){var o=e.prototype._serializeAdjustmentsOperation.call(this,t),i=t.availableOptions,n=i.gamma,r=t.getGamma(),a=n.minValue,s=n.midValue,l=n.maxValue;return o.options.gamma=r<=s?(r-a)/(s-a)-1:(r-s)/(l-s),o},t.prototype._serializeOperation=function(t,o){switch(t.constructor.identifier){case'mirrored-focus':return this._serializeMirroredFocusOperation(t);case'linear-focus':return this._serializeLinearFocusOperation(t);case'blur':return this._serializeBlurOperation(t);default:return e.prototype._serializeOperation.call(this,t,o);}},t.prototype._serializeMirroredFocusOperation=function(e){return{type:'focus',options:{type:'mirrored',options:e.serializeOptions(['start','end','blurRadius','size','gradientSize'],!0)}}},t.prototype._serializeLinearFocusOperation=function(e){var t=e.serializeOptions(['controlPoint1','controlPoint2','blurRadius'],!0);return t.start=t.controlPoint1,delete t.controlPoint1,t.end=t.controlPoint2,delete t.controlPoint2,{type:'focus',options:{type:'linear',options:t}}},t.prototype._serializeBlurOperation=function(e){return{type:'focus',options:{type:'gaussian',options:e.serializeOptions(['blurRadius'],!0)}}},t}(d.a);t.a=c,c.version='3.0.0'},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=o(85),_=o(55),g=o(38),u=c.p.Operations.SpriteOperation.BrushSprite.Brush,y=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t.prototype._deserializeSticker=function(e,t){var o=this,i=c.p.Operations.SpriteOperation,r=t.options,a=this._stickerManager.getStickerByIdentifier(r.identifier);if(!a)return c.h.warn('Deserializer','Unknown sticker `'+r.identifier+'`. Skipping sprite.'),n.a.resolve();var s=g.a.getURLForSticker(a,'base'),l=e.getInputDimensions(!1);return new n.a(function(t){var n=new window.Image;n.addEventListener('load',function(){var o=i.StickerSprite.prototype.availableOptions.adjustments.structure,s=r.rotation,p=r.flipHorizontally,d=r.flipVertically,m={identifier:r.identifier,image:n,position:c.v.fromObject(r.position),dimensions:c.v.fromObject(r.dimensions).multiply(l.min()),rotation:s||0,flipHorizontally:p,flipVertically:d,adjustments:{}};'undefined'!=typeof r.adjustments&&['brightness','contrast','saturation'].forEach(function(e){'undefined'!=typeof r.adjustments[e]&&(m.adjustments[e]=r.adjustments[e]+o[e].default)}),'undefined'!=typeof r.tintColor&&'undefined'!=typeof a.tintMode&&(m.tintColor=c.c.fromArray(r.tintColor.rgba),m.tintMode=a.tintMode),'undefined'!=typeof r.alpha&&(m.alpha=r.alpha),t(e.createSticker(m))}),n.crossOrigin='Anonymous',n.src=o._editor.getUI().getAssetPath(s)})},t.prototype._deserializeTransformOperation=function(t){return e.prototype._deserializeTransformOperation.call(this,t).then(function(e){return e._ratio=null,e})},t.prototype._deserializeInputImage=function(){var e=this;return new n.a(function(t){var o=e._data.image,i=o.data,n=o.type;if(i&&n){var r=new window.Image;r.addEventListener('load',function(){e._editor.setImage(r),t()}),r.src='data:'+n+';base64,'+i}else t()})},t.prototype._deserializeAdjustmentsOperation=function(t){var o=c.p.Operations.AdjustmentsOperation;return e.prototype._deserializeAdjustmentsOperation.call(this,t).then(function(e){var i=t.options;if('undefined'!=typeof i.gamma){var n=o.prototype.availableOptions.gamma,r=n.minValue,a=n.midValue,s=n.maxValue;e.setGamma(0>i.gamma?a+(a-r)*i.gamma:a+(s-a)*i.gamma)}return e})},t.prototype._deserializeFocusOperation=function(t){var o=t.options.options;switch(t.options.type){case'radial':e.prototype._deserializeFocusOperation.call(this,t);break;case'linear':{var i=o.start,n=o.end,r=o.blurRadius;this._editor.operations.getOrCreate('linear-focus',{controlPoint1:c.v.fromObject(i),controlPoint2:c.v.fromObject(n),blurRadius:r})}break;case'mirrored':{var a=o.start,s=o.end,l=o.size,p=o.gradientSize,d=o.blurRadius;this._editor.operations.getOrCreate('mirrored-focus',{start:c.v.fromObject(a),end:c.v.fromObject(s),size:l,gradientSize:p,blurRadius:d})}break;case'gaussian':{var m=o.blurRadius;this._editor.operations.getOrCreate('blur',{blurRadius:m})}}},t.prototype._deserializeText=function(e,t){var o=t.options,i=o.fontSize,n=o.lineHeight,r=o.fontIdentifier,a=o.alignment,s=o.rotation,l=o.maxWidth,p=o.color,d=o.backgroundColor,m=new _.a(this._ui),g=this._fontManager.getVariationByIdentifier(r);return g?m.setFonts([g.getFont()]):g=this._fontManager.getDefaultFont(),m.load().then(function(){var t=e.getInputDimensions(!1),r=l*t.min()/t.x;return e.createText({fontSize:i,lineHeight:n,fontFamily:g.getFontFamily(),fontWeight:g.getFontWeight(),fontIdentifier:g.getIdentifier(),alignment:a,rotation:s,maxWidth:r,text:o.text,color:c.c.fromArray(p.rgba),backgroundColor:c.c.fromArray(d.rgba),position:c.v.fromObject(o.position)})})},t.prototype._createBrushForPath=function(e){var t=e.brush,o=t.identifier,i=t.color,n=t.size,r=t.hardness,s=c.c.fromArray(i.rgba),p={color:s,size:n};'undefined'!=typeof r&&(p.hardness=r);var m=this._brushManager.getBrushByIdentifier(o);if(m||(m=this._brushManager.getFirstBrush()),m.prototype&&m.prototype instanceof u){var _=m;return new _(p)}var g=c.q.extend({},m);delete g.image;var y=function(e){function t(){return a()(this,t),l()(this,e.apply(this,arguments))}return d()(t,e),t}(u);return y.identifier=m.identifier,new y(c.q.extend({},g,p))},t.prototype._deserializeFrame=function(t,o){var i=this;return e.prototype._deserializeFrame.call(this,t,o).then(function(){var e=i._editor.operations.get('frame'),t=o.options,n=t.size,r=t.alpha,a=t.tintColor,s={};'undefined'!=typeof n&&(s.scale=n),'undefined'!=typeof r&&(s.alpha=r),'undefined'!=typeof a&&(s.tintColor=c.c.fromArray(a.rgba)),e.set(s)})},t}(m.a);t.a=y,y.version='3.0.0'},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=function(e){function t(){return n()(this,t),a()(this,e.apply(this,arguments))}return l()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.showTitle!==this.props.showTitle||e.selected!==this.props.selected},t.prototype.render=function(){if(this.props.isSeparator)return p.l.createElement(_,null);var e={transitionDelay:(this.props.showTitle?this.props.animationDelay:this.props.maxAnimationDelay-this.props.animationDelay)+'s'};return p.l.createElement(m,{onClick:this.props.onClick,selected:this.props.selected,className:!1,"data-identifier":this.props.title,disabled:this.props.disabled},p.l.createElement(u,{src:this.props.iconPath,selected:this.props.selected}),p.l.createElement(y,{src:this.props.activeIconPath,selected:this.props.selected}),p.l.createElement(h,{style:e,withTitle:this.props.showTitle},p.l.createElement(f,null,this._t('editor.controls.'+this.props.title+'.title'))))},t}(p.b);d.contextTypes=p.b.contextTypes,t.a=d;var c=p.w.li('175e5wy','BaseItem'),m=Object(p.w)(c)('djzsp',{selected:'b4k2au',disabled:'kcb0uq'},'NavigationItem'),_=Object(p.w)(c)('w5rgvu','SeparatorItem'),g=p.w.img('1ew58rj','Icon'),u=Object(p.w)(g)('vd96gg',{selected:'1cfz9kz'},'InactiveIcon'),y=Object(p.w)(g)('8p00lh',{selected:'zgbg08'},'ActiveIcon'),h=p.w.div('124navh',{withTitle:'1j7o6on'},'TitleContainer'),f=p.w.div('pw4had','Title')},function(e,t,o){'use strict';var i=o(5),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=l()(this,e.call.apply(e,[this].concat(i)));return s._bindAll('_onEditorResize'),s._events=n()({},c.d.EVENTS.EDITOR_RESIZE,s._onEditorResize),s}return d()(t,e),t.prototype._onEditorResize=function(e){var t=this.context.editor,o=t.getSDK();o.resizeTo(e),t.zoom.auto(!0,!0)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.context,o=t.editor,i=t.options,n=this._canvas.offsetWidth,r=this._canvas.offsetHeight,a=o.getSDK().getRenderer();a.setCanvas(this._canvas),a.resizeTo(new c.v(n,r));var s=i.editor.image;o.setPadding([55,30,55,315]),o.setImage(s,!1)},t.prototype.render=function(){var e=this;return c.l.createElement(_,{innerRef:function(t){e._canvas=t}})},t}(c.b);m.contextTypes=c.b.contextTypes,t.a=m;var _=c.w.canvas('8gacw5','Canvas')},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=1300,c=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));s._bindAll('_onPreloaderDone');var l=s.context.ui;return s._preloader=l.getPreloader(),s._preloader.on('done',s._onPreloaderDone),s._loaded=!1,s._canHideAfterLoaded=!1,s.state={startImageVisible:!0,idleImageVisible:!1,indicatorVisible:!0},s}return l()(t,e),t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),this._preloader.load(),this._imageSwitchTimeout=window.setTimeout(function(){t.setState({startImageVisible:!1,idleImageVisible:!0}),t._imageSwitchTimeout=null},d),window.setTimeout(function(){t._loaded&&t._hideAndLeave(),t._canHideAfterLoaded=!0},d)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this._preloader.off('done',this._onPreloaderDone),this._imageSwitchTimeout&&(window.clearTimeout(this._imageSwitchTimeout),this._imageSwitchTimeout=null)},t.prototype._onPreloaderDone=function(){this._loaded=!0,this._canHideAfterLoaded&&this._hideAndLeave()},t.prototype._hideAndLeave=function(){var e=this;this.setState({indicatorVisible:!1}),window.setTimeout(function(){e.props.onDone&&e.props.onDone()},500)},t.prototype.getChildContext=function(){return{ui:this.context.ui,options:this.context.options,mediator:this.context.mediator,appComponent:this.context.appComponent}},t.prototype.render=function(){var e=this,t=this.state,o=t.startImageVisible,i=t.idleImageVisible,n=t.indicatorVisible;return p.l.createElement(m,{innerRef:function(t){e._container=t},className:!1},p.l.createElement(_,{hidden:!n},p.l.createElement(u,{visible:o,src:this._getAssetPath('loading/start-solid.gif',!0)}),p.l.createElement(y,{visible:i,src:this._getAssetPath('loading/idle-solid.gif',!0)})))},t}(p.b);c.contextTypes=p.b.contextTypes,c.childContextTypes={ui:p.k.object.isRequired,mediator:p.k.object.isRequired,options:p.k.object.isRequired,appComponent:p.k.object.isRequired};var m=p.w.div('121fa7f','Container'),_=p.w.div('110xr2i',{hidden:'qbdcep'},'ImageContainer'),g=p.w.img('1gqfg7n',{visible:'zgbg08'},'Image'),u=Object(p.w)(g)('120drhm','StartImage'),y=Object(p.w)(g)('120drhm','IdleImage');t.a=Object(p.A)(c)},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(74),c=o(126),m=o(114),_=o(15),g=o(27),u=function(e){function t(){n()(this,t);for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];var s=a()(this,e.call.apply(e,[this].concat(i)));s._onWindowResize=p.u.debounce(s._onWindowResize.bind(s),250),s.state={sharedState:new p.s};var l=s.context,c=l.ui,_=l.options,g=l.mediator;s._editor=new d.a(c,_,g,!0);var u=p.q.defaults(s.context.options.editor.controlsOptions.library,m.a.defaultOptions);u.displayUploadInCanvas=!0,u.switchScreenOnImage=!0;var y=new m.a(s.getChildContext(),s.state.sharedState,u);return y.onEnter(),s.state=p.q.extend(s.state,{controls:y,controlsOptions:u,currentControl:'library'}),s}return l()(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.context.options;t.responsive&&window.addEventListener('resize',this._onWindowResize)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this);var t=this.context.options;t.responsive&&window.removeEventListener('resize',this._onWindowResize)},t.prototype._onWindowResize=function(){this._emitEvent(p.d.EVENTS.WINDOW_RESIZE);var e=new p.v(this._container.offsetWidth,this._container.offsetHeight);this._emitEvent(p.d.EVENTS.EDITOR_RESIZE,e)},t.prototype.getChildContext=function(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,mediator:this.context.mediator,sharedState:this.state.sharedState,appComponent:this.context.appComponent,screen:this}},t.prototype.render=function(){var e=this,t=this.state,o=t.controls,i=t.controlsOptions,n,r;if(o){var a=o.constructor,s=a.controlsComponent,l=a.canvasControlsComponent;n=s?p.l.createElement(s,{options:i,controls:o}):p.l.createElement('div',null),r=l?p.l.createElement(l,{options:i,controls:o}):p.l.createElement('div',null)}else n=p.l.createElement(_.a,null),r=p.l.createElement(g.a,null);return p.l.createElement(y,{innerRef:function(t){t&&(e._container=t)},className:!1},p.l.createElement(h,{innerRef:function(t){e._tableContainer=t}},p.l.createElement(c.a,{disabled:!0,currentControl:this.state.currentControl}),n,r))},t.prototype.getEditor=function(){return this._editor},t.prototype.export=function(){var e;return(e=this._editor).export.apply(e,arguments)},t.prototype.serialize=function(){var e;return(e=this._editor).serialize.apply(e,arguments)},t.prototype.deserialize=function(e){return this._editor.deserialize(e)},t}(p.b);u.contextTypes=p.b.contextTypes,u.childContextTypes={ui:p.k.object.isRequired,editor:p.k.object.isRequired,mediator:p.k.object.isRequired,options:p.k.object.isRequired,sharedState:p.k.object.isRequired,screen:p.k.object.isRequired,appComponent:p.k.object.isRequired};var y=p.w.div('5x8wsv','Container'),h=p.w.div('1b28xzz','TableContainer');t.a=Object(p.A)(u)},function(e,t){'use strict';t.a=function(e,t){e.global(t+' html,'+t+' body,'+t+' div,'+t+' span,'+t+' applet,'+t+' object,'+t+' iframe,'+t+' h1,'+t+' h2,'+t+' h3,'+t+' h4,'+t+' h5,'+t+' h6,'+t+' p,'+t+' blockquote,'+t+' pre,'+t+' a,'+t+' abbr,'+t+' acronym,'+t+' address,'+t+' big,'+t+' cite,'+t+' code,'+t+' del,'+t+' dfn,'+t+' em,'+t+' img,'+t+' ins,'+t+' kbd,'+t+' q,'+t+' s,'+t+' samp,'+t+' small,'+t+' strike,'+t+' strong,'+t+' sub,'+t+' sup,'+t+' tt,'+t+' var,'+t+' b,'+t+' u,'+t+' i,'+t+' center,'+t+' dl,'+t+' dt,'+t+' dd,'+t+' ol,'+t+' ul,'+t+' li,'+t+' fieldset,'+t+' form,'+t+' label,'+t+' legend,'+t+' table,'+t+' caption,'+t+' tbody,'+t+' tfoot,'+t+' thead,'+t+' tr,'+t+' th,'+t+' td,'+t+' article,'+t+' aside,'+t+' canvas,'+t+' details,'+t+' embed,'+t+' figure,'+t+' figcaption,'+t+' footer,'+t+' header,'+t+' hgroup,'+t+' menu,'+t+' nav,'+t+' output,'+t+' ruby,'+t+' section,'+t+' summary,'+t+' time,'+t+' mark,'+t+' audio,'+t+' video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}'+t+' html{line-height:1}'+t+' ol,'+t+' ul{list-style:none}'+t+' table{border-collapse:collapse;border-spacing:0}'+t+' caption,'+t+' th,'+t+' td{text-align:left;font-weight:400;vertical-align:middle}'+t+' q,'+t+' blockquote{quotes:none}'+t+' q:before,'+t+' q:after,'+t+' blockquote:before,'+t+' blockquote:after{content:"";content:none}'+t+' a img{border:none}'+t+' article,'+t+' aside,'+t+' details,'+t+' figcaption,'+t+' figure,'+t+' footer,'+t+' header,'+t+' hgroup,'+t+' main,'+t+' menu,'+t+' nav,'+t+' section,'+t+' summary{display:block}@media only screen and (min-width: 768px){'+t+'{-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;border-radius:5px}}'+t+','+t+' *{box-sizing:border-box}')}},function(e,t){'use strict';t.a=function(e){e.global('\n    @-webkit-keyframes bouncingLoadingIndicator {\n      0% {\n        transform: translateY(0);\n      }\n      40% {\n        transform: translateY(10px);\n      }\n      60% {\n        transform: translateY(-5px);\n      }\n      80%{\n        transform: translateY(0);\n      }\n    }\n  ')}},function(e,t,o){'use strict';var i=o(0),n=o.n(i),r=o(2),a=o.n(r),s=o(3),l=o.n(s),p=o(1),d=o(74),c=function(e){function t(o,i,r){n()(this,t);var s=a()(this,e.call(this));return s._ui=o,s._options=i,s._mediator=r,s._assets={},s._editor=new d.a(o,i,r,!0),s._assets=['editor/canvas-header/undo.png','editor/navigation/nav-gradient.png','editor/controls/shared/checkbox.png','editor/controls/shared/checkbox-active.png','editor/controls/shared/tiled-background.png'],s._appendControlsAssets(),s}return l()(t,e),t.prototype._appendControlsAssets=function(){var e=this._editor.controls.getAvailable();for(var t in e){var o=e[t];this._editor.controls.isEnabled(t)&&(this._assets=this._assets.concat(o.getPreloadAssets(this._editor)),this._assets.push(o.iconPath),this._assets.push(o.activeIconPath))}},t.prototype.load=function(){var e=this,t=this._assets.slice(),o=t.length,i=0,n=function(){i++,e.emit('progress',i/o),i===o&&e.emit('done')},r=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'timed out';p.h.warn('Preloader',e+' '+t+'.'),n()},a=function(e){return window.setTimeout(function(){r(e)},5e3)};t.forEach(function(t){var o=!0;Array.isArray(t)&&(o=t[1],t=t[0]);var i=!0;p.q.isArray(t)&&(i=t[1],t=t[0]);var s=e._ui.getAssetPath(t,o,!i),l=new window.Image,d=a(s);l.addEventListener('load',function(){window.clearTimeout(d),e._assets[t]=l,n()}),l.addEventListener('error',function(){window.clearTimeout(d),r(s,'was not found')}),l.crossOrigin='Anonymous',l.src=s})},t.prototype.getAsset=function(e){return this._assets[e]},t}(p.e);t.a=c},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=o(324);o.d(t,'Provider',function(){return i.a});var n=o(325);o.d(t,'Category',function(){return n.a});var r=o(326);o.d(t,'Image',function(){return r.a})},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(1),l=o(49),p=function(){function e(){a()(this,e)}return e.prototype._loadJSON=function(e){var t=new l.a(e);return t.load()},e.prototype.getCategories=function(){return s.h.warn(this.constructor.name,'`getCategories` is abstract and not implemented.'),n.a.resolve([])},e.prototype.searchImages=function(){return s.h.warn(this.constructor.name,'`searchImages` is abstract and not implemented.'),n.a.resolve([])},e}();t.a=p},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._coverImage=null,r._coverImageLoaded=!1,r}return d()(t,e),t.prototype.loadCoverImage=function(){var e=this;return new n.a(function(t,o){var i=new window.Image;i.addEventListener('load',function(){e._coverImageLoaded=!0,t(i)}),i.addEventListener('error',function(){o(new Error('Failed to load image at '+e.getCoverImage()))}),i.src=e.getCoverImage(),e._coverImage=i})},t.prototype.isCoverImageLoaded=function(){return this._coverImage&&this._coverImageLoaded},t}(c.p.Configurable);t.a=m,m.prototype.availableOptions={name:{type:c.i.STRING,required:!0},coverImage:{type:c.i.STRING,required:!0}}},function(e,t,o){'use strict';var i=o(4),n=o.n(i),r=o(0),a=o.n(r),s=o(2),l=o.n(s),p=o(3),d=o.n(p),c=o(1),m=function(e){function t(){a()(this,t);for(var o=arguments.length,i=Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=l()(this,e.call.apply(e,[this].concat(i)));return r._thumbImage=null,r._thumbImageLoaded=!1,r}return d()(t,e),t.prototype.loadThumb=function(){var e=this;return new n.a(function(t,o){var i=new window.Image;i.addEventListener('load',function(){e._thumbImageLoaded=!0,t(i)}),i.addEventListener('error',function(){o(new Error('Failed to load image at '+e.getThumbUrl()))}),i.src=e.getThumbUrl(),e._thumbImage=i})},t.prototype.isThumbLoaded=function(){return this._thumbImage&&this._thumbImageLoaded},t.prototype.getThumbImage=function(){return this._thumbImage},t}(c.p.Configurable);t.a=m,m.prototype.availableOptions={category:{type:c.i.OBJECT,required:!0},title:{type:c.i.STRING},rawUrl:{type:c.i.STRING,required:!0},thumbUrl:{type:c.i.STRING},authorName:{type:c.i.STRING},authorAvatar:{type:c.i.STRING}}},function(e){e.exports={editor:{new:'Neu',export:'Exportieren',cancel:'Abbrechen',close:'Schlie\xDFen',controls:{library:{title:'Bibliothek',search:'Bibliothek durchsuchen',fileDropZone:'Datei hier hin ziehen oder klicken zum Durchsuchen.',fileDropZoneHovered:'Zum Hochladen loslassen.',noResults:'Keine Ergebnisse'},transform:{title:'Zuschneiden',reset:'Zur\xFCcksetzen',dimensions:{width:'b',height:'h'},ratios:{imgly_transforms_common:{name:'Standard',ratios:{imgly_transform_common_custom:'Frei',imgly_transform_common_square:'Quadratisch',"imgly_transform_common_4-3":'4:3',"imgly_transform_common_16-9":'16:9'}},imgly_transforms_facebook:{name:'Facebook',ratios:{imgly_transform_facebook_ad:'Ad',imgly_transform_facebook_post:'Post',imgly_transform_facebook_cover:'Cover',imgly_transform_facebook_profile:'Profilbild'}}}},filter:{title:'Filter',filters:{identity:'Kein Filter',imgly_lut_celsius:'Celsius',imgly_lut_chest:'Chest',imgly_lut_fixie:'Fixie',imgly_lut_fridge:'Fridge',imgly_lut_front:'Front',imgly_lut_k2:'K2',imgly_lut_mellow:'Mellow',imgly_lut_sin:'Sin',imgly_lut_texas:'Texas',imgly_lut_ad1920:'1920 A.D.',imgly_lut_ancient:'Ancient',imgly_lut_bleached:'Bleached',imgly_lut_bleachedblue:'Bleached Blue',imgly_lut_blues:'Blues',imgly_lut_blueshadows:'Blue Shadows',imgly_lut_breeze:'Breeze',imgly_lut_bw:'B & W',imgly_lut_classic:'Classic',imgly_lut_colorful:'Colorful',imgly_lut_cool:'Cool',imgly_lut_cottoncandy:'Cotton Candy',imgly_lut_creamy:'Creamy',imgly_lut_eighties:'Eighties',imgly_lut_elder:'Elder',imgly_lut_evening:'Evening',imgly_lut_fall:'Fall',imgly_lut_food:'Food',imgly_lut_glam:'Glam',imgly_lut_gobblin:'Gobblin',imgly_lut_highcarb:'High Carb',imgly_lut_highcontrast:'High Contrast',imgly_lut_k1:'K1',imgly_lut_k6:'K6',imgly_lut_kdynamic:'KDynamic',imgly_lut_keen:'Keen',imgly_lut_lenin:'Lenin',imgly_lut_litho:'Litho',imgly_lut_lomo100:'Lomo 100',imgly_lut_lucid:'Lucid',imgly_lut_neat:'Neat',imgly_lut_nogreen:'No Green',imgly_lut_orchid:'Orchid',imgly_lut_pale:'Pale',imgly_lut_pitched:'Pitched',imgly_lut_plate:'Plate',imgly_lut_pola669:'Pola 669',imgly_lut_polasx:'Pola SX',imgly_lut_pro400:'Pro 400',imgly_lut_quozi:'Quozi',imgly_lut_sepiahigh:'Sepia High',imgly_lut_settled:'Settled',imgly_lut_seventies:'Seventies',imgly_lut_soft:'Soft',imgly_lut_steel:'Steel',imgly_lut_summer:'Summer',imgly_lut_sunset:'Sunset',imgly_lut_tender:'Tender',imgly_lut_twilight:'Twilight',imgly_lut_winter:'Winter',imgly_lut_x400:'X400'}},adjustments:{title:'Korrekturen',sections:{basics:'Grundlagen',refinements:'Feinheiten'},items:{brightness:'Helligkeit',contrast:'Kontrast',saturation:'S\xE4ttigung',exposure:'Belichtung',gamma:'Gamma',shadows:'Schatten',highlights:'Lichter',clarity:'Klarheit'}},focus:{title:'Weichzeichnen',items:{none:'Original',radial:'Kreisf\xF6rmig',mirrored:'Gespiegelt',linear:'Linear',gaussian:'Gau\xDFsch'}},text:{title:'Text',defaultText:'Doppelklick zum Bearbeiten!',new:'Neuer Text',font:'Schriftart',size:'Gr\xF6\xDFe',spacing:'Abstand',line:'Zeile'},sticker:{title:'Sticker',new:'Neuer Sticker',fill:'Einf\xE4rben',opacity:'Transparenz',replace:'Ersetzen',stickerCategories:{},stickers:{}},brush:{title:'Malen',settings:'Pinseleinstellungen',width:'Dicke',hardness:'H\xE4rte'},frame:{title:'Rahmen',opacity:'Transparenz',width:'Dicke',replace:'Ersetzen',fill:'Einf\xE4rben',frames:{none:'Kein Rahmen'}},overlay:{title:'Overlay',blendModes:{normal:'Normal',overlay:'Overlay',hardLight:'Hard Light',softLight:'Soft Light',multiply:'Multiply',darken:'Darken',lighten:'Lighten',screen:'Screen',colorBurn:'Color Burn'},overlays:{none:'Kein Overlay',imgly_overlay_bokeh:'Bokeh',imgly_overlay_chop:'Chop',imgly_overlay_clouds:'Clouds',imgly_overlay_golden:'Golden',imgly_overlay_grain:'Grain',imgly_overlay_hearts:'Hearts',imgly_overlay_lightleak1:'Light Leak 1',imgly_overlay_lightleak2:'Light Leak 2',imgly_overlay_metal:'Metal',imgly_overlay_mosaic:'Mosaic',imgly_overlay_painting:'Painting',imgly_overlay_paper:'Paper',imgly_overlay_rain:'Rain',imgly_overlay_vintage:'Vintage',imgly_overlay_wall1:'Wall',imgly_overlay_wall2:'Wall 2',imgly_overlay_wood:'Wood'}}}},loading:{loading:'Lade...',exporting:'Exportiere...',resizing:'Bild wird bearbeitet...',fonts:'Lade Schriftarten...'},warnings:{imageResized_maxMegaPixels:{title:'Bild verkleinert',text:'Da dein Bild die maximale Gr\xF6\xDFe von ${maxMegaPixels} Megapixeln \xFCberschreitet, wurde es auf ${width}x${height} Pixel verkleinert.'},imageResized_maxDimensions:{title:'Bild verkleinert',text:'Aufgrund von Hardware-Beschr\xE4nkungen wurde das Bild auf ${width}x${height} Pixel verkleinert.'},newImage_changesLost:{title:'Neues Bild',text:'Alle nicht gespeicherten \xC4nderungen gehen verloren. Fortfahren?',buttons:{yes:'Ja',no:'Nein'}},discardChanges:{title:'\xC4nderungen verwerfen?',text:'Sind Sie sicher, dass Sie die \xC4nderungen verwerfen wollen?',buttons:{cancel:'Abbrechen',keep:'\xC4nderungen beibehalten',discard:'\xC4nderungen verwerfen'}}},errors:{title:'Fehler',renderingError:{text:'Beim Rendern des Bildes ist ein Fehler aufgetreten.'},stickerLoadingError:{text:'Laden des Stickers ${path} fehlgeschlagen.'},imageLoadingError:{text:'Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gr\xFCnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterst\xFCtzt.'},fontLoadingError:{text:'Laden der Schriftart ${fontFamily} fehlgeschlagen.'},webcamNotSupported:{text:'Dein Browser unterst\xFCtzt das Webcam-Feature leider noch nicht.'},webcamUnavailable:{text:'Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})'},invalidFileType:{text:'Der Dateityp ${fileType} wird nicht unterst\xFCtzt.'}}}},function(e){e.exports={editor:{new:'New',export:'Export',cancel:'Cancel',close:'Close',controls:{library:{title:'Library',search:'Search Library',fileDropZone:'Drag image here or click to browse for one.',fileDropZoneHovered:'Drop to upload.',noResults:'No results'},transform:{title:'Transform',reset:'Reset Default',dimensions:{width:'w',height:'h'},ratios:{imgly_transforms_common:{name:'Common Crops',ratios:{imgly_transform_common_custom:'Custom',imgly_transform_common_square:'Square',"imgly_transform_common_4-3":'4:3',"imgly_transform_common_16-9":'16:9'}},imgly_transforms_facebook:{name:'Facebook',ratios:{imgly_transform_facebook_ad:'Ad',imgly_transform_facebook_post:'Post',imgly_transform_facebook_cover:'Cover',imgly_transform_facebook_profile:'Profile Pic'}}}},filter:{title:'Filters',filters:{identity:'None',imgly_lut_celsius:'Celsius',imgly_lut_chest:'Chest',imgly_lut_fixie:'Fixie',imgly_lut_fridge:'Fridge',imgly_lut_front:'Front',imgly_lut_k2:'K2',imgly_lut_mellow:'Mellow',imgly_lut_sin:'Sin',imgly_lut_texas:'Texas',imgly_lut_ad1920:'1920 A.D.',imgly_lut_ancient:'Ancient',imgly_lut_bleached:'Bleached',imgly_lut_bleachedblue:'Bleached Blue',imgly_lut_blues:'Blues',imgly_lut_blueshadows:'Blue Shadows',imgly_lut_breeze:'Breeze',imgly_lut_bw:'B & W',imgly_lut_classic:'Classic',imgly_lut_colorful:'Colorful',imgly_lut_cool:'Cool',imgly_lut_cottoncandy:'Cotton Candy',imgly_lut_creamy:'Creamy',imgly_lut_eighties:'Eighties',imgly_lut_elder:'Elder',imgly_lut_evening:'Evening',imgly_lut_fall:'Fall',imgly_lut_food:'Food',imgly_lut_glam:'Glam',imgly_lut_gobblin:'Gobblin',imgly_lut_highcarb:'High Carb',imgly_lut_highcontrast:'High Contrast',imgly_lut_k1:'K1',imgly_lut_k6:'K6',imgly_lut_kdynamic:'KDynamic',imgly_lut_keen:'Keen',imgly_lut_lenin:'Lenin',imgly_lut_litho:'Litho',imgly_lut_lomo100:'Lomo 100',imgly_lut_lucid:'Lucid',imgly_lut_neat:'Neat',imgly_lut_nogreen:'No Green',imgly_lut_orchid:'Orchid',imgly_lut_pale:'Pale',imgly_lut_pitched:'Pitched',imgly_lut_plate:'Plate',imgly_lut_pola669:'Pola 669',imgly_lut_polasx:'Pola SX',imgly_lut_pro400:'Pro 400',imgly_lut_quozi:'Quozi',imgly_lut_sepiahigh:'Sepia High',imgly_lut_settled:'Settled',imgly_lut_seventies:'Seventies',imgly_lut_soft:'Soft',imgly_lut_steel:'Steel',imgly_lut_summer:'Summer',imgly_lut_sunset:'Sunset',imgly_lut_tender:'Tender',imgly_lut_twilight:'Twilight',imgly_lut_winter:'Winter',imgly_lut_x400:'X400'}},adjustments:{title:'Adjust',sections:{basics:'Basics',refinements:'Refinements'},items:{brightness:'Brightness',contrast:'Contrast',saturation:'Saturation',exposure:'Exposure',gamma:'Gamma',shadows:'Shadows',highlights:'Highlights',clarity:'Clarity'}},focus:{title:'Focus',items:{none:'None',radial:'Radial',mirrored:'Mirrored',linear:'Linear',gaussian:'Gaussian'}},text:{title:'Text',defaultText:'Double-click to edit!',new:'New Text',font:'Font',size:'Size',spacing:'Spacing',line:'Line'},sticker:{title:'Stickers',new:'New Sticker',fill:'Fill',opacity:'Opacity',replace:'Replace',stickerCategories:{},stickers:{}},brush:{title:'Brush',settings:'Brush Settings',width:'Width',hardness:'Hardness'},frame:{title:'Frames',opacity:'Opacity',width:'Width',replace:'Replace',fill:'Fill',frames:{none:'None'}},overlay:{title:'Overlays',blendModes:{none:'None',normal:'Normal',overlay:'Overlay',hardLight:'Hard Light',softLight:'Soft Light',multiply:'Multiply',darken:'Darken',lighten:'Lighten',screen:'Screen',colorBurn:'Color Burn'},overlays:{none:'None',imgly_overlay_bokeh:'Bokeh',imgly_overlay_chop:'Chop',imgly_overlay_clouds:'Clouds',imgly_overlay_golden:'Golden',imgly_overlay_grain:'Grain',imgly_overlay_hearts:'Hearts',imgly_overlay_lightleak1:'Light Leak 1',imgly_overlay_lightleak2:'Light Leak 2',imgly_overlay_metal:'Metal',imgly_overlay_mosaic:'Mosaic',imgly_overlay_painting:'Painting',imgly_overlay_paper:'Paper',imgly_overlay_rain:'Rain',imgly_overlay_vintage:'Vintage',imgly_overlay_wall1:'Wall',imgly_overlay_wall2:'Wall 2',imgly_overlay_wood:'Wood'}}}},loading:{loading:'Loading...',exporting:'Exporting...',resizing:'Resizing...',fonts:'Loading fonts...'},warnings:{imageResized_maxMegaPixels:{title:'Image resized',text:'Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels.'},imageResized_maxDimensions:{title:'Image resized',text:'Due to hardware limitations your image has been resized to ${width}x${height} pixels.'},newImage_changesLost:{title:'New Image',text:'Any unsaved changes will be lost. Continue?',buttons:{yes:'Yes',no:'No'}},discardChanges:{title:'Discard changes?',text:'You have unsaved changes. Are you sure you want to discard the changes?',buttons:{cancel:'Cancel',keep:'Keep changes',discard:'Discard changes'}}},errors:{title:'Error',renderingError:{text:'An error has occurred while rendering the image.'},stickerLoadingError:{text:'Failed to load sticker ${path}.'},imageLoadingError:{text:'Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported.'},fontLoadingError:{text:'Failed to load font ${fontFamily}.'},webcamNotSupported:{text:'The webcam feature is not supported by your browser.'},webcamUnavailable:{text:'Unable to display webcam image (Error: ${error})'},invalidFileType:{text:'The file type ${fileType} is not supported.'}}}}])});