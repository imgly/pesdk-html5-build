(function() {
  var __create = Object.create;
  var __defProp = Object.defineProperty;
  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __getProtoOf = Object.getPrototypeOf;
  var __hasOwnProp = Object.prototype.hasOwnProperty;
  var __markAsModule = function(target) {
    return __defProp(target, "__esModule", { value: true });
  };
  var __commonJS = function(cb, mod) {
    return function __require() {
      return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
    };
  };
  var __reExport = function(target, module, copyDefault, desc) {
    if (module && typeof module === "object" || typeof module === "function")
      for (var keys = __getOwnPropNames(module), i = 0, n = keys.length, key; i < n; i++) {
        key = keys[i];
        if (!__hasOwnProp.call(target, key) && (copyDefault || key !== "default"))
          __defProp(target, key, { get: function(k) {
            return module[k];
          }.bind(null, key), enumerable: !(desc = __getOwnPropDesc(module, key)) || desc.enumerable });
      }
    return target;
  };
  var __toESM = function(module, isNodeMode) {
    return __reExport(__markAsModule(__defProp(module != null ? __create(__getProtoOf(module)) : {}, "default", !isNodeMode && module && module.__esModule ? { get: function() {
      return module.default;
    }, enumerable: true } : { value: module, enumerable: true })), module);
  };

  // ../../node_modules/asap/browser-raw.js
  var require_browser_raw = __commonJS({
    "../../node_modules/asap/browser-raw.js": function(exports, module) {
      "use strict";
      module.exports = rawAsap;
      function rawAsap(task) {
        if (!queue.length) {
          requestFlush();
          flushing = true;
        }
        queue[queue.length] = task;
      }
      var queue = [];
      var flushing = false;
      var requestFlush;
      var index = 0;
      var capacity = 1024;
      function flush() {
        while (index < queue.length) {
          var currentIndex = index;
          index = index + 1;
          queue[currentIndex].call();
          if (index > capacity) {
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
              queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
          }
        }
        queue.length = 0;
        index = 0;
        flushing = false;
      }
      var scope = typeof global !== "undefined" ? global : self;
      var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;
      if (typeof BrowserMutationObserver === "function") {
        requestFlush = makeRequestCallFromMutationObserver(flush);
      } else {
        requestFlush = makeRequestCallFromTimer(flush);
      }
      rawAsap.requestFlush = requestFlush;
      function makeRequestCallFromMutationObserver(callback) {
        var toggle = 1;
        var observer = new BrowserMutationObserver(callback);
        var node = document.createTextNode("");
        observer.observe(node, { characterData: true });
        return function requestCall() {
          toggle = -toggle;
          node.data = toggle;
        };
      }
      function makeRequestCallFromTimer(callback) {
        return function requestCall() {
          var timeoutHandle = setTimeout(handleTimer, 0);
          var intervalHandle = setInterval(handleTimer, 50);
          function handleTimer() {
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
          }
        };
      }
      rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;
    }
  });

  // ../../node_modules/promise/lib/core.js
  var require_core = __commonJS({
    "../../node_modules/promise/lib/core.js": function(exports, module) {
      "use strict";
      var asap = require_browser_raw();
      function noop() {
      }
      var LAST_ERROR = null;
      var IS_ERROR = {};
      function getThen(obj) {
        try {
          return obj.then;
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      function tryCallOne(fn, a) {
        try {
          return fn(a);
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      function tryCallTwo(fn, a, b) {
        try {
          fn(a, b);
        } catch (ex) {
          LAST_ERROR = ex;
          return IS_ERROR;
        }
      }
      module.exports = Promise2;
      function Promise2(fn) {
        if (typeof this !== "object") {
          throw new TypeError("Promises must be constructed via new");
        }
        if (typeof fn !== "function") {
          throw new TypeError("Promise constructor's argument is not a function");
        }
        this._U = 0;
        this._V = 0;
        this._W = null;
        this._X = null;
        if (fn === noop)
          return;
        doResolve(fn, this);
      }
      Promise2._Y = null;
      Promise2._Z = null;
      Promise2._0 = noop;
      Promise2.prototype.then = function(onFulfilled, onRejected) {
        if (this.constructor !== Promise2) {
          return safeThen(this, onFulfilled, onRejected);
        }
        var res = new Promise2(noop);
        handle(this, new Handler(onFulfilled, onRejected, res));
        return res;
      };
      function safeThen(self2, onFulfilled, onRejected) {
        return new self2.constructor(function(resolve2, reject2) {
          var res = new Promise2(noop);
          res.then(resolve2, reject2);
          handle(self2, new Handler(onFulfilled, onRejected, res));
        });
      }
      function handle(self2, deferred) {
        while (self2._V === 3) {
          self2 = self2._W;
        }
        if (Promise2._Y) {
          Promise2._Y(self2);
        }
        if (self2._V === 0) {
          if (self2._U === 0) {
            self2._U = 1;
            self2._X = deferred;
            return;
          }
          if (self2._U === 1) {
            self2._U = 2;
            self2._X = [self2._X, deferred];
            return;
          }
          self2._X.push(deferred);
          return;
        }
        handleResolved(self2, deferred);
      }
      function handleResolved(self2, deferred) {
        asap(function() {
          var cb = self2._V === 1 ? deferred.onFulfilled : deferred.onRejected;
          if (cb === null) {
            if (self2._V === 1) {
              resolve(deferred.promise, self2._W);
            } else {
              reject(deferred.promise, self2._W);
            }
            return;
          }
          var ret = tryCallOne(cb, self2._W);
          if (ret === IS_ERROR) {
            reject(deferred.promise, LAST_ERROR);
          } else {
            resolve(deferred.promise, ret);
          }
        });
      }
      function resolve(self2, newValue) {
        if (newValue === self2) {
          return reject(self2, new TypeError("A promise cannot be resolved with itself."));
        }
        if (newValue && (typeof newValue === "object" || typeof newValue === "function")) {
          var then = getThen(newValue);
          if (then === IS_ERROR) {
            return reject(self2, LAST_ERROR);
          }
          if (then === self2.then && newValue instanceof Promise2) {
            self2._V = 3;
            self2._W = newValue;
            finale(self2);
            return;
          } else if (typeof then === "function") {
            doResolve(then.bind(newValue), self2);
            return;
          }
        }
        self2._V = 1;
        self2._W = newValue;
        finale(self2);
      }
      function reject(self2, newValue) {
        self2._V = 2;
        self2._W = newValue;
        if (Promise2._Z) {
          Promise2._Z(self2, newValue);
        }
        finale(self2);
      }
      function finale(self2) {
        if (self2._U === 1) {
          handle(self2, self2._X);
          self2._X = null;
        }
        if (self2._U === 2) {
          for (var i = 0; i < self2._X.length; i++) {
            handle(self2, self2._X[i]);
          }
          self2._X = null;
        }
      }
      function Handler(onFulfilled, onRejected, promise) {
        this.onFulfilled = typeof onFulfilled === "function" ? onFulfilled : null;
        this.onRejected = typeof onRejected === "function" ? onRejected : null;
        this.promise = promise;
      }
      function doResolve(fn, promise) {
        var done = false;
        var res = tryCallTwo(fn, function(value) {
          if (done)
            return;
          done = true;
          resolve(promise, value);
        }, function(reason) {
          if (done)
            return;
          done = true;
          reject(promise, reason);
        });
        if (!done && res === IS_ERROR) {
          done = true;
          reject(promise, LAST_ERROR);
        }
      }
    }
  });

  // ../../node_modules/promise/lib/rejection-tracking.js
  var require_rejection_tracking = __commonJS({
    "../../node_modules/promise/lib/rejection-tracking.js": function(exports) {
      "use strict";
      var Promise2 = require_core();
      var DEFAULT_WHITELIST = [
        ReferenceError,
        TypeError,
        RangeError
      ];
      var enabled = false;
      exports.disable = disable;
      function disable() {
        enabled = false;
        Promise2._Y = null;
        Promise2._Z = null;
      }
      exports.enable = enable;
      function enable(options) {
        options = options || {};
        if (enabled)
          disable();
        enabled = true;
        var id = 0;
        var displayId = 0;
        var rejections = {};
        Promise2._Y = function(promise) {
          if (promise._V === 2 && rejections[promise._1]) {
            if (rejections[promise._1].logged) {
              onHandled(promise._1);
            } else {
              clearTimeout(rejections[promise._1].timeout);
            }
            delete rejections[promise._1];
          }
        };
        Promise2._Z = function(promise, err) {
          if (promise._U === 0) {
            promise._1 = id++;
            rejections[promise._1] = {
              displayId: null,
              error: err,
              timeout: setTimeout(onUnhandled.bind(null, promise._1), matchWhitelist(err, DEFAULT_WHITELIST) ? 100 : 2e3),
              logged: false
            };
          }
        };
        function onUnhandled(id2) {
          if (options.allRejections || matchWhitelist(rejections[id2].error, options.whitelist || DEFAULT_WHITELIST)) {
            rejections[id2].displayId = displayId++;
            if (options.onUnhandled) {
              rejections[id2].logged = true;
              options.onUnhandled(rejections[id2].displayId, rejections[id2].error);
            } else {
              rejections[id2].logged = true;
              logError(rejections[id2].displayId, rejections[id2].error);
            }
          }
        }
        function onHandled(id2) {
          if (rejections[id2].logged) {
            if (options.onHandled) {
              options.onHandled(rejections[id2].displayId, rejections[id2].error);
            } else if (!rejections[id2].onUnhandled) {
              console.warn("Promise Rejection Handled (id: " + rejections[id2].displayId + "):");
              console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id ' + rejections[id2].displayId + ".");
            }
          }
        }
      }
      function logError(id, error) {
        console.warn("Possible Unhandled Promise Rejection (id: " + id + "):");
        var errStr = (error && (error.stack || error)) + "";
        errStr.split("\n").forEach(function(line) {
          console.warn("  " + line);
        });
      }
      function matchWhitelist(error, list) {
        return list.some(function(cls) {
          return error instanceof cls;
        });
      }
    }
  });

  // ../../node_modules/promise/lib/es6-extensions.js
  var require_es6_extensions = __commonJS({
    "../../node_modules/promise/lib/es6-extensions.js": function(exports, module) {
      "use strict";
      var Promise2 = require_core();
      module.exports = Promise2;
      var TRUE = valuePromise(true);
      var FALSE = valuePromise(false);
      var NULL = valuePromise(null);
      var UNDEFINED = valuePromise(void 0);
      var ZERO = valuePromise(0);
      var EMPTYSTRING = valuePromise("");
      function valuePromise(value) {
        var p = new Promise2(Promise2._0);
        p._V = 1;
        p._W = value;
        return p;
      }
      Promise2.resolve = function(value) {
        if (value instanceof Promise2)
          return value;
        if (value === null)
          return NULL;
        if (value === void 0)
          return UNDEFINED;
        if (value === true)
          return TRUE;
        if (value === false)
          return FALSE;
        if (value === 0)
          return ZERO;
        if (value === "")
          return EMPTYSTRING;
        if (typeof value === "object" || typeof value === "function") {
          try {
            var then = value.then;
            if (typeof then === "function") {
              return new Promise2(then.bind(value));
            }
          } catch (ex) {
            return new Promise2(function(resolve, reject) {
              reject(ex);
            });
          }
        }
        return valuePromise(value);
      };
      var iterableToArray = function(iterable) {
        if (typeof Array.from === "function") {
          iterableToArray = Array.from;
          return Array.from(iterable);
        }
        iterableToArray = function(x) {
          return Array.prototype.slice.call(x);
        };
        return Array.prototype.slice.call(iterable);
      };
      Promise2.all = function(arr) {
        var args = iterableToArray(arr);
        return new Promise2(function(resolve, reject) {
          if (args.length === 0)
            return resolve([]);
          var remaining = args.length;
          function res(i2, val) {
            if (val && (typeof val === "object" || typeof val === "function")) {
              if (val instanceof Promise2 && val.then === Promise2.prototype.then) {
                while (val._V === 3) {
                  val = val._W;
                }
                if (val._V === 1)
                  return res(i2, val._W);
                if (val._V === 2)
                  reject(val._W);
                val.then(function(val2) {
                  res(i2, val2);
                }, reject);
                return;
              } else {
                var then = val.then;
                if (typeof then === "function") {
                  var p = new Promise2(then.bind(val));
                  p.then(function(val2) {
                    res(i2, val2);
                  }, reject);
                  return;
                }
              }
            }
            args[i2] = val;
            if (--remaining === 0) {
              resolve(args);
            }
          }
          for (var i = 0; i < args.length; i++) {
            res(i, args[i]);
          }
        });
      };
      Promise2.reject = function(value) {
        return new Promise2(function(resolve, reject) {
          reject(value);
        });
      };
      Promise2.race = function(values) {
        return new Promise2(function(resolve, reject) {
          iterableToArray(values).forEach(function(value) {
            Promise2.resolve(value).then(resolve, reject);
          });
        });
      };
      Promise2.prototype["catch"] = function(onRejected) {
        return this.then(null, onRejected);
      };
    }
  });

  // ../../node_modules/whatwg-fetch/dist/fetch.umd.js
  var require_fetch_umd = __commonJS({
    "../../node_modules/whatwg-fetch/dist/fetch.umd.js": function(exports, module) {
      (function(global2, factory) {
        typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : factory(global2.WHATWGFetch = {});
      })(exports, function(exports2) {
        "use strict";
        var global2 = typeof globalThis !== "undefined" && globalThis || typeof self !== "undefined" && self || typeof global2 !== "undefined" && global2;
        var support = {
          searchParams: "URLSearchParams" in global2,
          iterable: "Symbol" in global2 && "iterator" in Symbol,
          blob: "FileReader" in global2 && "Blob" in global2 && function() {
            try {
              new Blob();
              return true;
            } catch (e) {
              return false;
            }
          }(),
          formData: "FormData" in global2,
          arrayBuffer: "ArrayBuffer" in global2
        };
        function isDataView(obj) {
          return obj && DataView.prototype.isPrototypeOf(obj);
        }
        if (support.arrayBuffer) {
          var viewClasses = [
            "[object Int8Array]",
            "[object Uint8Array]",
            "[object Uint8ClampedArray]",
            "[object Int16Array]",
            "[object Uint16Array]",
            "[object Int32Array]",
            "[object Uint32Array]",
            "[object Float32Array]",
            "[object Float64Array]"
          ];
          var isArrayBufferView = ArrayBuffer.isView || function(obj) {
            return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
          };
        }
        function normalizeName(name) {
          if (typeof name !== "string") {
            name = String(name);
          }
          if (/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(name) || name === "") {
            throw new TypeError("Invalid character in header field name");
          }
          return name.toLowerCase();
        }
        function normalizeValue(value) {
          if (typeof value !== "string") {
            value = String(value);
          }
          return value;
        }
        function iteratorFor(items) {
          var iterator = {
            next: function() {
              var value = items.shift();
              return { done: value === void 0, value: value };
            }
          };
          if (support.iterable) {
            iterator[Symbol.iterator] = function() {
              return iterator;
            };
          }
          return iterator;
        }
        function Headers(headers) {
          this.map = {};
          if (headers instanceof Headers) {
            headers.forEach(function(value, name) {
              this.append(name, value);
            }, this);
          } else if (Array.isArray(headers)) {
            headers.forEach(function(header) {
              this.append(header[0], header[1]);
            }, this);
          } else if (headers) {
            Object.getOwnPropertyNames(headers).forEach(function(name) {
              this.append(name, headers[name]);
            }, this);
          }
        }
        Headers.prototype.append = function(name, value) {
          name = normalizeName(name);
          value = normalizeValue(value);
          var oldValue = this.map[name];
          this.map[name] = oldValue ? oldValue + ", " + value : value;
        };
        Headers.prototype["delete"] = function(name) {
          delete this.map[normalizeName(name)];
        };
        Headers.prototype.get = function(name) {
          name = normalizeName(name);
          return this.has(name) ? this.map[name] : null;
        };
        Headers.prototype.has = function(name) {
          return this.map.hasOwnProperty(normalizeName(name));
        };
        Headers.prototype.set = function(name, value) {
          this.map[normalizeName(name)] = normalizeValue(value);
        };
        Headers.prototype.forEach = function(callback, thisArg) {
          for (var name in this.map) {
            if (this.map.hasOwnProperty(name)) {
              callback.call(thisArg, this.map[name], name, this);
            }
          }
        };
        Headers.prototype.keys = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push(name);
          });
          return iteratorFor(items);
        };
        Headers.prototype.values = function() {
          var items = [];
          this.forEach(function(value) {
            items.push(value);
          });
          return iteratorFor(items);
        };
        Headers.prototype.entries = function() {
          var items = [];
          this.forEach(function(value, name) {
            items.push([name, value]);
          });
          return iteratorFor(items);
        };
        if (support.iterable) {
          Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
        }
        function consumed(body) {
          if (body.bodyUsed) {
            return Promise.reject(new TypeError("Already read"));
          }
          body.bodyUsed = true;
        }
        function fileReaderReady(reader) {
          return new Promise(function(resolve, reject) {
            reader.onload = function() {
              resolve(reader.result);
            };
            reader.onerror = function() {
              reject(reader.error);
            };
          });
        }
        function readBlobAsArrayBuffer(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsArrayBuffer(blob);
          return promise;
        }
        function readBlobAsText(blob) {
          var reader = new FileReader();
          var promise = fileReaderReady(reader);
          reader.readAsText(blob);
          return promise;
        }
        function readArrayBufferAsText(buf) {
          var view = new Uint8Array(buf);
          var chars = new Array(view.length);
          for (var i = 0; i < view.length; i++) {
            chars[i] = String.fromCharCode(view[i]);
          }
          return chars.join("");
        }
        function bufferClone(buf) {
          if (buf.slice) {
            return buf.slice(0);
          } else {
            var view = new Uint8Array(buf.byteLength);
            view.set(new Uint8Array(buf));
            return view.buffer;
          }
        }
        function Body() {
          this.bodyUsed = false;
          this._initBody = function(body) {
            this.bodyUsed = this.bodyUsed;
            this._bodyInit = body;
            if (!body) {
              this._bodyText = "";
            } else if (typeof body === "string") {
              this._bodyText = body;
            } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
              this._bodyBlob = body;
            } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
              this._bodyFormData = body;
            } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
              this._bodyText = body.toString();
            } else if (support.arrayBuffer && support.blob && isDataView(body)) {
              this._bodyArrayBuffer = bufferClone(body.buffer);
              this._bodyInit = new Blob([this._bodyArrayBuffer]);
            } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
              this._bodyArrayBuffer = bufferClone(body);
            } else {
              this._bodyText = body = Object.prototype.toString.call(body);
            }
            if (!this.headers.get("content-type")) {
              if (typeof body === "string") {
                this.headers.set("content-type", "text/plain;charset=UTF-8");
              } else if (this._bodyBlob && this._bodyBlob.type) {
                this.headers.set("content-type", this._bodyBlob.type);
              } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
                this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
              }
            }
          };
          if (support.blob) {
            this.blob = function() {
              var rejected = consumed(this);
              if (rejected) {
                return rejected;
              }
              if (this._bodyBlob) {
                return Promise.resolve(this._bodyBlob);
              } else if (this._bodyArrayBuffer) {
                return Promise.resolve(new Blob([this._bodyArrayBuffer]));
              } else if (this._bodyFormData) {
                throw new Error("could not read FormData body as blob");
              } else {
                return Promise.resolve(new Blob([this._bodyText]));
              }
            };
            this.arrayBuffer = function() {
              if (this._bodyArrayBuffer) {
                var isConsumed = consumed(this);
                if (isConsumed) {
                  return isConsumed;
                }
                if (ArrayBuffer.isView(this._bodyArrayBuffer)) {
                  return Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset, this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength));
                } else {
                  return Promise.resolve(this._bodyArrayBuffer);
                }
              } else {
                return this.blob().then(readBlobAsArrayBuffer);
              }
            };
          }
          this.text = function() {
            var rejected = consumed(this);
            if (rejected) {
              return rejected;
            }
            if (this._bodyBlob) {
              return readBlobAsText(this._bodyBlob);
            } else if (this._bodyArrayBuffer) {
              return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
            } else if (this._bodyFormData) {
              throw new Error("could not read FormData body as text");
            } else {
              return Promise.resolve(this._bodyText);
            }
          };
          if (support.formData) {
            this.formData = function() {
              return this.text().then(decode);
            };
          }
          this.json = function() {
            return this.text().then(JSON.parse);
          };
          return this;
        }
        var methods = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"];
        function normalizeMethod(method) {
          var upcased = method.toUpperCase();
          return methods.indexOf(upcased) > -1 ? upcased : method;
        }
        function Request(input, options) {
          if (!(this instanceof Request)) {
            throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
          }
          options = options || {};
          var body = options.body;
          if (input instanceof Request) {
            if (input.bodyUsed) {
              throw new TypeError("Already read");
            }
            this.url = input.url;
            this.credentials = input.credentials;
            if (!options.headers) {
              this.headers = new Headers(input.headers);
            }
            this.method = input.method;
            this.mode = input.mode;
            this.signal = input.signal;
            if (!body && input._bodyInit != null) {
              body = input._bodyInit;
              input.bodyUsed = true;
            }
          } else {
            this.url = String(input);
          }
          this.credentials = options.credentials || this.credentials || "same-origin";
          if (options.headers || !this.headers) {
            this.headers = new Headers(options.headers);
          }
          this.method = normalizeMethod(options.method || this.method || "GET");
          this.mode = options.mode || this.mode || null;
          this.signal = options.signal || this.signal;
          this.referrer = null;
          if ((this.method === "GET" || this.method === "HEAD") && body) {
            throw new TypeError("Body not allowed for GET or HEAD requests");
          }
          this._initBody(body);
          if (this.method === "GET" || this.method === "HEAD") {
            if (options.cache === "no-store" || options.cache === "no-cache") {
              var reParamSearch = /([?&])_=[^&]*/;
              if (reParamSearch.test(this.url)) {
                this.url = this.url.replace(reParamSearch, "$1_=" + new Date().getTime());
              } else {
                var reQueryString = /\?/;
                this.url += (reQueryString.test(this.url) ? "&" : "?") + "_=" + new Date().getTime();
              }
            }
          }
        }
        Request.prototype.clone = function() {
          return new Request(this, { body: this._bodyInit });
        };
        function decode(body) {
          var form = new FormData();
          body.trim().split("&").forEach(function(bytes) {
            if (bytes) {
              var split = bytes.split("=");
              var name = split.shift().replace(/\+/g, " ");
              var value = split.join("=").replace(/\+/g, " ");
              form.append(decodeURIComponent(name), decodeURIComponent(value));
            }
          });
          return form;
        }
        function parseHeaders(rawHeaders) {
          var headers = new Headers();
          var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, " ");
          preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
            var parts = line.split(":");
            var key = parts.shift().trim();
            if (key) {
              var value = parts.join(":").trim();
              headers.append(key, value);
            }
          });
          return headers;
        }
        Body.call(Request.prototype);
        function Response(bodyInit, options) {
          if (!(this instanceof Response)) {
            throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');
          }
          if (!options) {
            options = {};
          }
          this.type = "default";
          this.status = options.status === void 0 ? 200 : options.status;
          this.ok = this.status >= 200 && this.status < 300;
          this.statusText = "statusText" in options ? options.statusText : "";
          this.headers = new Headers(options.headers);
          this.url = options.url || "";
          this._initBody(bodyInit);
        }
        Body.call(Response.prototype);
        Response.prototype.clone = function() {
          return new Response(this._bodyInit, {
            status: this.status,
            statusText: this.statusText,
            headers: new Headers(this.headers),
            url: this.url
          });
        };
        Response.error = function() {
          var response = new Response(null, { status: 0, statusText: "" });
          response.type = "error";
          return response;
        };
        var redirectStatuses = [301, 302, 303, 307, 308];
        Response.redirect = function(url, status) {
          if (redirectStatuses.indexOf(status) === -1) {
            throw new RangeError("Invalid status code");
          }
          return new Response(null, { status: status, headers: { location: url } });
        };
        exports2.DOMException = global2.DOMException;
        try {
          new exports2.DOMException();
        } catch (err) {
          exports2.DOMException = function(message, name) {
            this.message = message;
            this.name = name;
            var error = Error(message);
            this.stack = error.stack;
          };
          exports2.DOMException.prototype = Object.create(Error.prototype);
          exports2.DOMException.prototype.constructor = exports2.DOMException;
        }
        function fetch(input, init) {
          return new Promise(function(resolve, reject) {
            var request = new Request(input, init);
            if (request.signal && request.signal.aborted) {
              return reject(new exports2.DOMException("Aborted", "AbortError"));
            }
            var xhr = new XMLHttpRequest();
            function abortXhr() {
              xhr.abort();
            }
            xhr.onload = function() {
              var options = {
                status: xhr.status,
                statusText: xhr.statusText,
                headers: parseHeaders(xhr.getAllResponseHeaders() || "")
              };
              options.url = "responseURL" in xhr ? xhr.responseURL : options.headers.get("X-Request-URL");
              var body = "response" in xhr ? xhr.response : xhr.responseText;
              setTimeout(function() {
                resolve(new Response(body, options));
              }, 0);
            };
            xhr.onerror = function() {
              setTimeout(function() {
                reject(new TypeError("Network request failed"));
              }, 0);
            };
            xhr.ontimeout = function() {
              setTimeout(function() {
                reject(new TypeError("Network request failed"));
              }, 0);
            };
            xhr.onabort = function() {
              setTimeout(function() {
                reject(new exports2.DOMException("Aborted", "AbortError"));
              }, 0);
            };
            function fixUrl(url) {
              try {
                return url === "" && global2.location.href ? global2.location.href : url;
              } catch (e) {
                return url;
              }
            }
            xhr.open(request.method, fixUrl(request.url), true);
            if (request.credentials === "include") {
              xhr.withCredentials = true;
            } else if (request.credentials === "omit") {
              xhr.withCredentials = false;
            }
            if ("responseType" in xhr) {
              if (support.blob) {
                xhr.responseType = "blob";
              } else if (support.arrayBuffer && request.headers.get("Content-Type") && request.headers.get("Content-Type").indexOf("application/octet-stream") !== -1) {
                xhr.responseType = "arraybuffer";
              }
            }
            if (init && typeof init.headers === "object" && !(init.headers instanceof Headers)) {
              Object.getOwnPropertyNames(init.headers).forEach(function(name) {
                xhr.setRequestHeader(name, normalizeValue(init.headers[name]));
              });
            } else {
              request.headers.forEach(function(value, name) {
                xhr.setRequestHeader(name, value);
              });
            }
            if (request.signal) {
              request.signal.addEventListener("abort", abortXhr);
              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  request.signal.removeEventListener("abort", abortXhr);
                }
              };
            }
            xhr.send(typeof request._bodyInit === "undefined" ? null : request._bodyInit);
          });
        }
        fetch.polyfill = true;
        if (!global2.fetch) {
          global2.fetch = fetch;
          global2.Headers = Headers;
          global2.Request = Request;
          global2.Response = Response;
        }
        exports2.Headers = Headers;
        exports2.Request = Request;
        exports2.Response = Response;
        exports2.fetch = fetch;
        Object.defineProperty(exports2, "__esModule", { value: true });
      });
    }
  });

  // ../../node_modules/object-assign/index.js
  var require_object_assign = __commonJS({
    "../../node_modules/object-assign/index.js": function(exports, module) {
      "use strict";
      var getOwnPropertySymbols = Object.getOwnPropertySymbols;
      var hasOwnProperty = Object.prototype.hasOwnProperty;
      var propIsEnumerable = Object.prototype.propertyIsEnumerable;
      function toObject(val) {
        if (val === null || val === void 0) {
          throw new TypeError("Object.assign cannot be called with null or undefined");
        }
        return Object(val);
      }
      function shouldUseNative() {
        try {
          if (!Object.assign) {
            return false;
          }
          var test1 = new String("abc");
          test1[5] = "de";
          if (Object.getOwnPropertyNames(test1)[0] === "5") {
            return false;
          }
          var test2 = {};
          for (var i = 0; i < 10; i++) {
            test2["_" + String.fromCharCode(i)] = i;
          }
          var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
            return test2[n];
          });
          if (order2.join("") !== "0123456789") {
            return false;
          }
          var test3 = {};
          "abcdefghijklmnopqrst".split("").forEach(function(letter) {
            test3[letter] = letter;
          });
          if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
            return false;
          }
          return true;
        } catch (err) {
          return false;
        }
      }
      module.exports = shouldUseNative() ? Object.assign : function(target, source) {
        var from;
        var to = toObject(target);
        var symbols;
        for (var s = 1; s < arguments.length; s++) {
          from = Object(arguments[s]);
          for (var key in from) {
            if (hasOwnProperty.call(from, key)) {
              to[key] = from[key];
            }
          }
          if (getOwnPropertySymbols) {
            symbols = getOwnPropertySymbols(from);
            for (var i = 0; i < symbols.length; i++) {
              if (propIsEnumerable.call(from, symbols[i])) {
                to[symbols[i]] = from[symbols[i]];
              }
            }
          }
        }
        return to;
      };
    }
  });

  // ../../node_modules/core-js/internals/global.js
  var require_global = __commonJS({
    "../../node_modules/core-js/internals/global.js": function(exports, module) {
      var check = function(it) {
        return it && it.Math == Math && it;
      };
      module.exports = check(typeof globalThis == "object" && globalThis) || check(typeof window == "object" && window) || check(typeof self == "object" && self) || check(typeof global == "object" && global) || Function("return this")();
    }
  });

  // ../../node_modules/core-js/internals/fails.js
  var require_fails = __commonJS({
    "../../node_modules/core-js/internals/fails.js": function(exports, module) {
      module.exports = function(exec) {
        try {
          return !!exec();
        } catch (error) {
          return true;
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/descriptors.js
  var require_descriptors = __commonJS({
    "../../node_modules/core-js/internals/descriptors.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        return Object.defineProperty({}, 1, { get: function() {
          return 7;
        } })[1] != 7;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-property-is-enumerable.js
  var require_object_property_is_enumerable = __commonJS({
    "../../node_modules/core-js/internals/object-property-is-enumerable.js": function(exports) {
      "use strict";
      var nativePropertyIsEnumerable = {}.propertyIsEnumerable;
      var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
      var NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);
      exports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
        var descriptor = getOwnPropertyDescriptor(this, V);
        return !!descriptor && descriptor.enumerable;
      } : nativePropertyIsEnumerable;
    }
  });

  // ../../node_modules/core-js/internals/create-property-descriptor.js
  var require_create_property_descriptor = __commonJS({
    "../../node_modules/core-js/internals/create-property-descriptor.js": function(exports, module) {
      module.exports = function(bitmap, value) {
        return {
          enumerable: !(bitmap & 1),
          configurable: !(bitmap & 2),
          writable: !(bitmap & 4),
          value: value
        };
      };
    }
  });

  // ../../node_modules/core-js/internals/classof-raw.js
  var require_classof_raw = __commonJS({
    "../../node_modules/core-js/internals/classof-raw.js": function(exports, module) {
      var toString = {}.toString;
      module.exports = function(it) {
        return toString.call(it).slice(8, -1);
      };
    }
  });

  // ../../node_modules/core-js/internals/indexed-object.js
  var require_indexed_object = __commonJS({
    "../../node_modules/core-js/internals/indexed-object.js": function(exports, module) {
      var fails = require_fails();
      var classof = require_classof_raw();
      var split = "".split;
      module.exports = fails(function() {
        return !Object("z").propertyIsEnumerable(0);
      }) ? function(it) {
        return classof(it) == "String" ? split.call(it, "") : Object(it);
      } : Object;
    }
  });

  // ../../node_modules/core-js/internals/require-object-coercible.js
  var require_require_object_coercible = __commonJS({
    "../../node_modules/core-js/internals/require-object-coercible.js": function(exports, module) {
      module.exports = function(it) {
        if (it == void 0)
          throw TypeError("Can't call method on " + it);
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-indexed-object.js
  var require_to_indexed_object = __commonJS({
    "../../node_modules/core-js/internals/to-indexed-object.js": function(exports, module) {
      var IndexedObject = require_indexed_object();
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = function(it) {
        return IndexedObject(requireObjectCoercible(it));
      };
    }
  });

  // ../../node_modules/core-js/internals/is-object.js
  var require_is_object = __commonJS({
    "../../node_modules/core-js/internals/is-object.js": function(exports, module) {
      module.exports = function(it) {
        return typeof it === "object" ? it !== null : typeof it === "function";
      };
    }
  });

  // ../../node_modules/core-js/internals/to-primitive.js
  var require_to_primitive = __commonJS({
    "../../node_modules/core-js/internals/to-primitive.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(input, PREFERRED_STRING) {
        if (!isObject(input))
          return input;
        var fn, val;
        if (PREFERRED_STRING && typeof (fn = input.toString) == "function" && !isObject(val = fn.call(input)))
          return val;
        if (typeof (fn = input.valueOf) == "function" && !isObject(val = fn.call(input)))
          return val;
        if (!PREFERRED_STRING && typeof (fn = input.toString) == "function" && !isObject(val = fn.call(input)))
          return val;
        throw TypeError("Can't convert object to primitive value");
      };
    }
  });

  // ../../node_modules/core-js/internals/has.js
  var require_has = __commonJS({
    "../../node_modules/core-js/internals/has.js": function(exports, module) {
      var hasOwnProperty = {}.hasOwnProperty;
      module.exports = function(it, key) {
        return hasOwnProperty.call(it, key);
      };
    }
  });

  // ../../node_modules/core-js/internals/document-create-element.js
  var require_document_create_element = __commonJS({
    "../../node_modules/core-js/internals/document-create-element.js": function(exports, module) {
      var global2 = require_global();
      var isObject = require_is_object();
      var document2 = global2.document;
      var EXISTS = isObject(document2) && isObject(document2.createElement);
      module.exports = function(it) {
        return EXISTS ? document2.createElement(it) : {};
      };
    }
  });

  // ../../node_modules/core-js/internals/ie8-dom-define.js
  var require_ie8_dom_define = __commonJS({
    "../../node_modules/core-js/internals/ie8-dom-define.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var createElement = require_document_create_element();
      module.exports = !DESCRIPTORS && !fails(function() {
        return Object.defineProperty(createElement("div"), "a", {
          get: function() {
            return 7;
          }
        }).a != 7;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-descriptor.js
  var require_object_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-descriptor.js": function(exports) {
      var DESCRIPTORS = require_descriptors();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var createPropertyDescriptor = require_create_property_descriptor();
      var toIndexedObject = require_to_indexed_object();
      var toPrimitive = require_to_primitive();
      var has = require_has();
      var IE8_DOM_DEFINE = require_ie8_dom_define();
      var nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
      exports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {
        O = toIndexedObject(O);
        P = toPrimitive(P, true);
        if (IE8_DOM_DEFINE)
          try {
            return nativeGetOwnPropertyDescriptor(O, P);
          } catch (error) {
          }
        if (has(O, P))
          return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);
      };
    }
  });

  // ../../node_modules/core-js/internals/an-object.js
  var require_an_object = __commonJS({
    "../../node_modules/core-js/internals/an-object.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(it) {
        if (!isObject(it)) {
          throw TypeError(String(it) + " is not an object");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-define-property.js
  var require_object_define_property = __commonJS({
    "../../node_modules/core-js/internals/object-define-property.js": function(exports) {
      var DESCRIPTORS = require_descriptors();
      var IE8_DOM_DEFINE = require_ie8_dom_define();
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      var nativeDefineProperty = Object.defineProperty;
      exports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {
        anObject(O);
        P = toPrimitive(P, true);
        anObject(Attributes);
        if (IE8_DOM_DEFINE)
          try {
            return nativeDefineProperty(O, P, Attributes);
          } catch (error) {
          }
        if ("get" in Attributes || "set" in Attributes)
          throw TypeError("Accessors not supported");
        if ("value" in Attributes)
          O[P] = Attributes.value;
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/create-non-enumerable-property.js
  var require_create_non_enumerable_property = __commonJS({
    "../../node_modules/core-js/internals/create-non-enumerable-property.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var definePropertyModule = require_object_define_property();
      var createPropertyDescriptor = require_create_property_descriptor();
      module.exports = DESCRIPTORS ? function(object, key, value) {
        return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));
      } : function(object, key, value) {
        object[key] = value;
        return object;
      };
    }
  });

  // ../../node_modules/core-js/internals/set-global.js
  var require_set_global = __commonJS({
    "../../node_modules/core-js/internals/set-global.js": function(exports, module) {
      var global2 = require_global();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      module.exports = function(key, value) {
        try {
          createNonEnumerableProperty(global2, key, value);
        } catch (error) {
          global2[key] = value;
        }
        return value;
      };
    }
  });

  // ../../node_modules/core-js/internals/shared-store.js
  var require_shared_store = __commonJS({
    "../../node_modules/core-js/internals/shared-store.js": function(exports, module) {
      var global2 = require_global();
      var setGlobal = require_set_global();
      var SHARED = "__core-js_shared__";
      var store = global2[SHARED] || setGlobal(SHARED, {});
      module.exports = store;
    }
  });

  // ../../node_modules/core-js/internals/inspect-source.js
  var require_inspect_source = __commonJS({
    "../../node_modules/core-js/internals/inspect-source.js": function(exports, module) {
      var store = require_shared_store();
      var functionToString = Function.toString;
      if (typeof store.inspectSource != "function") {
        store.inspectSource = function(it) {
          return functionToString.call(it);
        };
      }
      module.exports = store.inspectSource;
    }
  });

  // ../../node_modules/core-js/internals/native-weak-map.js
  var require_native_weak_map = __commonJS({
    "../../node_modules/core-js/internals/native-weak-map.js": function(exports, module) {
      var global2 = require_global();
      var inspectSource = require_inspect_source();
      var WeakMap2 = global2.WeakMap;
      module.exports = typeof WeakMap2 === "function" && /native code/.test(inspectSource(WeakMap2));
    }
  });

  // ../../node_modules/core-js/internals/is-pure.js
  var require_is_pure = __commonJS({
    "../../node_modules/core-js/internals/is-pure.js": function(exports, module) {
      module.exports = false;
    }
  });

  // ../../node_modules/core-js/internals/shared.js
  var require_shared = __commonJS({
    "../../node_modules/core-js/internals/shared.js": function(exports, module) {
      var IS_PURE = require_is_pure();
      var store = require_shared_store();
      (module.exports = function(key, value) {
        return store[key] || (store[key] = value !== void 0 ? value : {});
      })("versions", []).push({
        version: "3.6.5",
        mode: IS_PURE ? "pure" : "global",
        copyright: "\xA9 2020 Denis Pushkarev (zloirock.ru)"
      });
    }
  });

  // ../../node_modules/core-js/internals/uid.js
  var require_uid = __commonJS({
    "../../node_modules/core-js/internals/uid.js": function(exports, module) {
      var id = 0;
      var postfix = Math.random();
      module.exports = function(key) {
        return "Symbol(" + String(key === void 0 ? "" : key) + ")_" + (++id + postfix).toString(36);
      };
    }
  });

  // ../../node_modules/core-js/internals/shared-key.js
  var require_shared_key = __commonJS({
    "../../node_modules/core-js/internals/shared-key.js": function(exports, module) {
      var shared = require_shared();
      var uid = require_uid();
      var keys = shared("keys");
      module.exports = function(key) {
        return keys[key] || (keys[key] = uid(key));
      };
    }
  });

  // ../../node_modules/core-js/internals/hidden-keys.js
  var require_hidden_keys = __commonJS({
    "../../node_modules/core-js/internals/hidden-keys.js": function(exports, module) {
      module.exports = {};
    }
  });

  // ../../node_modules/core-js/internals/internal-state.js
  var require_internal_state = __commonJS({
    "../../node_modules/core-js/internals/internal-state.js": function(exports, module) {
      var NATIVE_WEAK_MAP = require_native_weak_map();
      var global2 = require_global();
      var isObject = require_is_object();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var objectHas = require_has();
      var sharedKey = require_shared_key();
      var hiddenKeys = require_hidden_keys();
      var WeakMap2 = global2.WeakMap;
      var set;
      var get;
      var has;
      var enforce = function(it) {
        return has(it) ? get(it) : set(it, {});
      };
      var getterFor = function(TYPE) {
        return function(it) {
          var state;
          if (!isObject(it) || (state = get(it)).type !== TYPE) {
            throw TypeError("Incompatible receiver, " + TYPE + " required");
          }
          return state;
        };
      };
      if (NATIVE_WEAK_MAP) {
        store = new WeakMap2();
        wmget = store.get;
        wmhas = store.has;
        wmset = store.set;
        set = function(it, metadata) {
          wmset.call(store, it, metadata);
          return metadata;
        };
        get = function(it) {
          return wmget.call(store, it) || {};
        };
        has = function(it) {
          return wmhas.call(store, it);
        };
      } else {
        STATE = sharedKey("state");
        hiddenKeys[STATE] = true;
        set = function(it, metadata) {
          createNonEnumerableProperty(it, STATE, metadata);
          return metadata;
        };
        get = function(it) {
          return objectHas(it, STATE) ? it[STATE] : {};
        };
        has = function(it) {
          return objectHas(it, STATE);
        };
      }
      var store;
      var wmget;
      var wmhas;
      var wmset;
      var STATE;
      module.exports = {
        set: set,
        get: get,
        has: has,
        enforce: enforce,
        getterFor: getterFor
      };
    }
  });

  // ../../node_modules/core-js/internals/redefine.js
  var require_redefine = __commonJS({
    "../../node_modules/core-js/internals/redefine.js": function(exports, module) {
      var global2 = require_global();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var has = require_has();
      var setGlobal = require_set_global();
      var inspectSource = require_inspect_source();
      var InternalStateModule = require_internal_state();
      var getInternalState = InternalStateModule.get;
      var enforceInternalState = InternalStateModule.enforce;
      var TEMPLATE = String(String).split("String");
      (module.exports = function(O, key, value, options) {
        var unsafe = options ? !!options.unsafe : false;
        var simple = options ? !!options.enumerable : false;
        var noTargetGet = options ? !!options.noTargetGet : false;
        if (typeof value == "function") {
          if (typeof key == "string" && !has(value, "name"))
            createNonEnumerableProperty(value, "name", key);
          enforceInternalState(value).source = TEMPLATE.join(typeof key == "string" ? key : "");
        }
        if (O === global2) {
          if (simple)
            O[key] = value;
          else
            setGlobal(key, value);
          return;
        } else if (!unsafe) {
          delete O[key];
        } else if (!noTargetGet && O[key]) {
          simple = true;
        }
        if (simple)
          O[key] = value;
        else
          createNonEnumerableProperty(O, key, value);
      })(Function.prototype, "toString", function toString() {
        return typeof this == "function" && getInternalState(this).source || inspectSource(this);
      });
    }
  });

  // ../../node_modules/core-js/internals/path.js
  var require_path = __commonJS({
    "../../node_modules/core-js/internals/path.js": function(exports, module) {
      var global2 = require_global();
      module.exports = global2;
    }
  });

  // ../../node_modules/core-js/internals/get-built-in.js
  var require_get_built_in = __commonJS({
    "../../node_modules/core-js/internals/get-built-in.js": function(exports, module) {
      var path = require_path();
      var global2 = require_global();
      var aFunction = function(variable) {
        return typeof variable == "function" ? variable : void 0;
      };
      module.exports = function(namespace, method) {
        return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global2[namespace]) : path[namespace] && path[namespace][method] || global2[namespace] && global2[namespace][method];
      };
    }
  });

  // ../../node_modules/core-js/internals/to-integer.js
  var require_to_integer = __commonJS({
    "../../node_modules/core-js/internals/to-integer.js": function(exports, module) {
      var ceil = Math.ceil;
      var floor = Math.floor;
      module.exports = function(argument) {
        return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);
      };
    }
  });

  // ../../node_modules/core-js/internals/to-length.js
  var require_to_length = __commonJS({
    "../../node_modules/core-js/internals/to-length.js": function(exports, module) {
      var toInteger = require_to_integer();
      var min = Math.min;
      module.exports = function(argument) {
        return argument > 0 ? min(toInteger(argument), 9007199254740991) : 0;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-absolute-index.js
  var require_to_absolute_index = __commonJS({
    "../../node_modules/core-js/internals/to-absolute-index.js": function(exports, module) {
      var toInteger = require_to_integer();
      var max = Math.max;
      var min = Math.min;
      module.exports = function(index, length) {
        var integer = toInteger(index);
        return integer < 0 ? max(integer + length, 0) : min(integer, length);
      };
    }
  });

  // ../../node_modules/core-js/internals/array-includes.js
  var require_array_includes = __commonJS({
    "../../node_modules/core-js/internals/array-includes.js": function(exports, module) {
      var toIndexedObject = require_to_indexed_object();
      var toLength = require_to_length();
      var toAbsoluteIndex = require_to_absolute_index();
      var createMethod = function(IS_INCLUDES) {
        return function($this, el, fromIndex) {
          var O = toIndexedObject($this);
          var length = toLength(O.length);
          var index = toAbsoluteIndex(fromIndex, length);
          var value;
          if (IS_INCLUDES && el != el)
            while (length > index) {
              value = O[index++];
              if (value != value)
                return true;
            }
          else
            for (; length > index; index++) {
              if ((IS_INCLUDES || index in O) && O[index] === el)
                return IS_INCLUDES || index || 0;
            }
          return !IS_INCLUDES && -1;
        };
      };
      module.exports = {
        includes: createMethod(true),
        indexOf: createMethod(false)
      };
    }
  });

  // ../../node_modules/core-js/internals/object-keys-internal.js
  var require_object_keys_internal = __commonJS({
    "../../node_modules/core-js/internals/object-keys-internal.js": function(exports, module) {
      var has = require_has();
      var toIndexedObject = require_to_indexed_object();
      var indexOf = require_array_includes().indexOf;
      var hiddenKeys = require_hidden_keys();
      module.exports = function(object, names) {
        var O = toIndexedObject(object);
        var i = 0;
        var result = [];
        var key;
        for (key in O)
          !has(hiddenKeys, key) && has(O, key) && result.push(key);
        while (names.length > i)
          if (has(O, key = names[i++])) {
            ~indexOf(result, key) || result.push(key);
          }
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/enum-bug-keys.js
  var require_enum_bug_keys = __commonJS({
    "../../node_modules/core-js/internals/enum-bug-keys.js": function(exports, module) {
      module.exports = [
        "constructor",
        "hasOwnProperty",
        "isPrototypeOf",
        "propertyIsEnumerable",
        "toLocaleString",
        "toString",
        "valueOf"
      ];
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-names.js
  var require_object_get_own_property_names = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-names.js": function(exports) {
      var internalObjectKeys = require_object_keys_internal();
      var enumBugKeys = require_enum_bug_keys();
      var hiddenKeys = enumBugKeys.concat("length", "prototype");
      exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
        return internalObjectKeys(O, hiddenKeys);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-symbols.js
  var require_object_get_own_property_symbols = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-symbols.js": function(exports) {
      exports.f = Object.getOwnPropertySymbols;
    }
  });

  // ../../node_modules/core-js/internals/own-keys.js
  var require_own_keys = __commonJS({
    "../../node_modules/core-js/internals/own-keys.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      var getOwnPropertyNamesModule = require_object_get_own_property_names();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var anObject = require_an_object();
      module.exports = getBuiltIn("Reflect", "ownKeys") || function ownKeys(it) {
        var keys = getOwnPropertyNamesModule.f(anObject(it));
        var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
        return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;
      };
    }
  });

  // ../../node_modules/core-js/internals/copy-constructor-properties.js
  var require_copy_constructor_properties = __commonJS({
    "../../node_modules/core-js/internals/copy-constructor-properties.js": function(exports, module) {
      var has = require_has();
      var ownKeys = require_own_keys();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var definePropertyModule = require_object_define_property();
      module.exports = function(target, source) {
        var keys = ownKeys(source);
        var defineProperty = definePropertyModule.f;
        var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
        for (var i = 0; i < keys.length; i++) {
          var key = keys[i];
          if (!has(target, key))
            defineProperty(target, key, getOwnPropertyDescriptor(source, key));
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-forced.js
  var require_is_forced = __commonJS({
    "../../node_modules/core-js/internals/is-forced.js": function(exports, module) {
      var fails = require_fails();
      var replacement = /#|\.prototype\./;
      var isForced = function(feature, detection) {
        var value = data[normalize(feature)];
        return value == POLYFILL ? true : value == NATIVE ? false : typeof detection == "function" ? fails(detection) : !!detection;
      };
      var normalize = isForced.normalize = function(string) {
        return String(string).replace(replacement, ".").toLowerCase();
      };
      var data = isForced.data = {};
      var NATIVE = isForced.NATIVE = "N";
      var POLYFILL = isForced.POLYFILL = "P";
      module.exports = isForced;
    }
  });

  // ../../node_modules/core-js/internals/export.js
  var require_export = __commonJS({
    "../../node_modules/core-js/internals/export.js": function(exports, module) {
      var global2 = require_global();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var setGlobal = require_set_global();
      var copyConstructorProperties = require_copy_constructor_properties();
      var isForced = require_is_forced();
      module.exports = function(options, source) {
        var TARGET = options.target;
        var GLOBAL = options.global;
        var STATIC = options.stat;
        var FORCED, target, key, targetProperty, sourceProperty, descriptor;
        if (GLOBAL) {
          target = global2;
        } else if (STATIC) {
          target = global2[TARGET] || setGlobal(TARGET, {});
        } else {
          target = (global2[TARGET] || {}).prototype;
        }
        if (target)
          for (key in source) {
            sourceProperty = source[key];
            if (options.noTargetGet) {
              descriptor = getOwnPropertyDescriptor(target, key);
              targetProperty = descriptor && descriptor.value;
            } else
              targetProperty = target[key];
            FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? "." : "#") + key, options.forced);
            if (!FORCED && targetProperty !== void 0) {
              if (typeof sourceProperty === typeof targetProperty)
                continue;
              copyConstructorProperties(sourceProperty, targetProperty);
            }
            if (options.sham || targetProperty && targetProperty.sham) {
              createNonEnumerableProperty(sourceProperty, "sham", true);
            }
            redefine(target, key, sourceProperty, options);
          }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-array.js
  var require_is_array = __commonJS({
    "../../node_modules/core-js/internals/is-array.js": function(exports, module) {
      var classof = require_classof_raw();
      module.exports = Array.isArray || function isArray(arg) {
        return classof(arg) == "Array";
      };
    }
  });

  // ../../node_modules/core-js/internals/to-object.js
  var require_to_object = __commonJS({
    "../../node_modules/core-js/internals/to-object.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = function(argument) {
        return Object(requireObjectCoercible(argument));
      };
    }
  });

  // ../../node_modules/core-js/internals/create-property.js
  var require_create_property = __commonJS({
    "../../node_modules/core-js/internals/create-property.js": function(exports, module) {
      "use strict";
      var toPrimitive = require_to_primitive();
      var definePropertyModule = require_object_define_property();
      var createPropertyDescriptor = require_create_property_descriptor();
      module.exports = function(object, key, value) {
        var propertyKey = toPrimitive(key);
        if (propertyKey in object)
          definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));
        else
          object[propertyKey] = value;
      };
    }
  });

  // ../../node_modules/core-js/internals/native-symbol.js
  var require_native_symbol = __commonJS({
    "../../node_modules/core-js/internals/native-symbol.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !!Object.getOwnPropertySymbols && !fails(function() {
        return !String(Symbol());
      });
    }
  });

  // ../../node_modules/core-js/internals/use-symbol-as-uid.js
  var require_use_symbol_as_uid = __commonJS({
    "../../node_modules/core-js/internals/use-symbol-as-uid.js": function(exports, module) {
      var NATIVE_SYMBOL = require_native_symbol();
      module.exports = NATIVE_SYMBOL && !Symbol.sham && typeof Symbol.iterator == "symbol";
    }
  });

  // ../../node_modules/core-js/internals/well-known-symbol.js
  var require_well_known_symbol = __commonJS({
    "../../node_modules/core-js/internals/well-known-symbol.js": function(exports, module) {
      var global2 = require_global();
      var shared = require_shared();
      var has = require_has();
      var uid = require_uid();
      var NATIVE_SYMBOL = require_native_symbol();
      var USE_SYMBOL_AS_UID = require_use_symbol_as_uid();
      var WellKnownSymbolsStore = shared("wks");
      var Symbol2 = global2.Symbol;
      var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol2 : Symbol2 && Symbol2.withoutSetter || uid;
      module.exports = function(name) {
        if (!has(WellKnownSymbolsStore, name)) {
          if (NATIVE_SYMBOL && has(Symbol2, name))
            WellKnownSymbolsStore[name] = Symbol2[name];
          else
            WellKnownSymbolsStore[name] = createWellKnownSymbol("Symbol." + name);
        }
        return WellKnownSymbolsStore[name];
      };
    }
  });

  // ../../node_modules/core-js/internals/array-species-create.js
  var require_array_species_create = __commonJS({
    "../../node_modules/core-js/internals/array-species-create.js": function(exports, module) {
      var isObject = require_is_object();
      var isArray = require_is_array();
      var wellKnownSymbol = require_well_known_symbol();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(originalArray, length) {
        var C;
        if (isArray(originalArray)) {
          C = originalArray.constructor;
          if (typeof C == "function" && (C === Array || isArray(C.prototype)))
            C = void 0;
          else if (isObject(C)) {
            C = C[SPECIES];
            if (C === null)
              C = void 0;
          }
        }
        return new (C === void 0 ? Array : C)(length === 0 ? 0 : length);
      };
    }
  });

  // ../../node_modules/core-js/internals/engine-user-agent.js
  var require_engine_user_agent = __commonJS({
    "../../node_modules/core-js/internals/engine-user-agent.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      module.exports = getBuiltIn("navigator", "userAgent") || "";
    }
  });

  // ../../node_modules/core-js/internals/engine-v8-version.js
  var require_engine_v8_version = __commonJS({
    "../../node_modules/core-js/internals/engine-v8-version.js": function(exports, module) {
      var global2 = require_global();
      var userAgent = require_engine_user_agent();
      var process = global2.process;
      var versions = process && process.versions;
      var v8 = versions && versions.v8;
      var match;
      var version;
      if (v8) {
        match = v8.split(".");
        version = match[0] + match[1];
      } else if (userAgent) {
        match = userAgent.match(/Edge\/(\d+)/);
        if (!match || match[1] >= 74) {
          match = userAgent.match(/Chrome\/(\d+)/);
          if (match)
            version = match[1];
        }
      }
      module.exports = version && +version;
    }
  });

  // ../../node_modules/core-js/internals/array-method-has-species-support.js
  var require_array_method_has_species_support = __commonJS({
    "../../node_modules/core-js/internals/array-method-has-species-support.js": function(exports, module) {
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(METHOD_NAME) {
        return V8_VERSION >= 51 || !fails(function() {
          var array = [];
          var constructor = array.constructor = {};
          constructor[SPECIES] = function() {
            return { foo: 1 };
          };
          return array[METHOD_NAME](Boolean).foo !== 1;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.concat.js
  var require_es_array_concat = __commonJS({
    "../../node_modules/core-js/modules/es.array.concat.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var isArray = require_is_array();
      var isObject = require_is_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var createProperty = require_create_property();
      var arraySpeciesCreate = require_array_species_create();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var IS_CONCAT_SPREADABLE = wellKnownSymbol("isConcatSpreadable");
      var MAX_SAFE_INTEGER = 9007199254740991;
      var MAXIMUM_ALLOWED_INDEX_EXCEEDED = "Maximum allowed index exceeded";
      var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function() {
        var array = [];
        array[IS_CONCAT_SPREADABLE] = false;
        return array.concat()[0] !== array;
      });
      var SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("concat");
      var isConcatSpreadable = function(O) {
        if (!isObject(O))
          return false;
        var spreadable = O[IS_CONCAT_SPREADABLE];
        return spreadable !== void 0 ? !!spreadable : isArray(O);
      };
      var FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;
      $({ target: "Array", proto: true, forced: FORCED }, {
        concat: function concat(arg) {
          var O = toObject(this);
          var A = arraySpeciesCreate(O, 0);
          var n = 0;
          var i, k, length, len, E;
          for (i = -1, length = arguments.length; i < length; i++) {
            E = i === -1 ? O : arguments[i];
            if (isConcatSpreadable(E)) {
              len = toLength(E.length);
              if (n + len > MAX_SAFE_INTEGER)
                throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
              for (k = 0; k < len; k++, n++)
                if (k in E)
                  createProperty(A, n, E[k]);
            } else {
              if (n >= MAX_SAFE_INTEGER)
                throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);
              createProperty(A, n++, E);
            }
          }
          A.length = n;
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/to-string-tag-support.js
  var require_to_string_tag_support = __commonJS({
    "../../node_modules/core-js/internals/to-string-tag-support.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var test = {};
      test[TO_STRING_TAG] = "z";
      module.exports = String(test) === "[object z]";
    }
  });

  // ../../node_modules/core-js/internals/classof.js
  var require_classof = __commonJS({
    "../../node_modules/core-js/internals/classof.js": function(exports, module) {
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var classofRaw = require_classof_raw();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var CORRECT_ARGUMENTS = classofRaw(function() {
        return arguments;
      }()) == "Arguments";
      var tryGet = function(it, key) {
        try {
          return it[key];
        } catch (error) {
        }
      };
      module.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function(it) {
        var O, tag, result;
        return it === void 0 ? "Undefined" : it === null ? "Null" : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == "string" ? tag : CORRECT_ARGUMENTS ? classofRaw(O) : (result = classofRaw(O)) == "Object" && typeof O.callee == "function" ? "Arguments" : result;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-to-string.js
  var require_object_to_string = __commonJS({
    "../../node_modules/core-js/internals/object-to-string.js": function(exports, module) {
      "use strict";
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var classof = require_classof();
      module.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {
        return "[object " + classof(this) + "]";
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.to-string.js
  var require_es_object_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.object.to-string.js": function() {
      var TO_STRING_TAG_SUPPORT = require_to_string_tag_support();
      var redefine = require_redefine();
      var toString = require_object_to_string();
      if (!TO_STRING_TAG_SUPPORT) {
        redefine(Object.prototype, "toString", toString, { unsafe: true });
      }
    }
  });

  // ../../node_modules/core-js/internals/object-keys.js
  var require_object_keys = __commonJS({
    "../../node_modules/core-js/internals/object-keys.js": function(exports, module) {
      var internalObjectKeys = require_object_keys_internal();
      var enumBugKeys = require_enum_bug_keys();
      module.exports = Object.keys || function keys(O) {
        return internalObjectKeys(O, enumBugKeys);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-define-properties.js
  var require_object_define_properties = __commonJS({
    "../../node_modules/core-js/internals/object-define-properties.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var definePropertyModule = require_object_define_property();
      var anObject = require_an_object();
      var objectKeys = require_object_keys();
      module.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {
        anObject(O);
        var keys = objectKeys(Properties);
        var length = keys.length;
        var index = 0;
        var key;
        while (length > index)
          definePropertyModule.f(O, key = keys[index++], Properties[key]);
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/html.js
  var require_html = __commonJS({
    "../../node_modules/core-js/internals/html.js": function(exports, module) {
      var getBuiltIn = require_get_built_in();
      module.exports = getBuiltIn("document", "documentElement");
    }
  });

  // ../../node_modules/core-js/internals/object-create.js
  var require_object_create = __commonJS({
    "../../node_modules/core-js/internals/object-create.js": function(exports, module) {
      var anObject = require_an_object();
      var defineProperties = require_object_define_properties();
      var enumBugKeys = require_enum_bug_keys();
      var hiddenKeys = require_hidden_keys();
      var html = require_html();
      var documentCreateElement = require_document_create_element();
      var sharedKey = require_shared_key();
      var GT = ">";
      var LT = "<";
      var PROTOTYPE = "prototype";
      var SCRIPT = "script";
      var IE_PROTO = sharedKey("IE_PROTO");
      var EmptyConstructor = function() {
      };
      var scriptTag = function(content) {
        return LT + SCRIPT + GT + content + LT + "/" + SCRIPT + GT;
      };
      var NullProtoObjectViaActiveX = function(activeXDocument2) {
        activeXDocument2.write(scriptTag(""));
        activeXDocument2.close();
        var temp = activeXDocument2.parentWindow.Object;
        activeXDocument2 = null;
        return temp;
      };
      var NullProtoObjectViaIFrame = function() {
        var iframe = documentCreateElement("iframe");
        var JS = "java" + SCRIPT + ":";
        var iframeDocument;
        iframe.style.display = "none";
        html.appendChild(iframe);
        iframe.src = String(JS);
        iframeDocument = iframe.contentWindow.document;
        iframeDocument.open();
        iframeDocument.write(scriptTag("document.F=Object"));
        iframeDocument.close();
        return iframeDocument.F;
      };
      var activeXDocument;
      var NullProtoObject = function() {
        try {
          activeXDocument = document.domain && new ActiveXObject("htmlfile");
        } catch (error) {
        }
        NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();
        var length = enumBugKeys.length;
        while (length--)
          delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];
        return NullProtoObject();
      };
      hiddenKeys[IE_PROTO] = true;
      module.exports = Object.create || function create(O, Properties) {
        var result;
        if (O !== null) {
          EmptyConstructor[PROTOTYPE] = anObject(O);
          result = new EmptyConstructor();
          EmptyConstructor[PROTOTYPE] = null;
          result[IE_PROTO] = O;
        } else
          result = NullProtoObject();
        return Properties === void 0 ? result : defineProperties(result, Properties);
      };
    }
  });

  // ../../node_modules/core-js/internals/object-get-own-property-names-external.js
  var require_object_get_own_property_names_external = __commonJS({
    "../../node_modules/core-js/internals/object-get-own-property-names-external.js": function(exports, module) {
      var toIndexedObject = require_to_indexed_object();
      var nativeGetOwnPropertyNames = require_object_get_own_property_names().f;
      var toString = {}.toString;
      var windowNames = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
      var getWindowNames = function(it) {
        try {
          return nativeGetOwnPropertyNames(it);
        } catch (error) {
          return windowNames.slice();
        }
      };
      module.exports.f = function getOwnPropertyNames(it) {
        return windowNames && toString.call(it) == "[object Window]" ? getWindowNames(it) : nativeGetOwnPropertyNames(toIndexedObject(it));
      };
    }
  });

  // ../../node_modules/core-js/internals/well-known-symbol-wrapped.js
  var require_well_known_symbol_wrapped = __commonJS({
    "../../node_modules/core-js/internals/well-known-symbol-wrapped.js": function(exports) {
      var wellKnownSymbol = require_well_known_symbol();
      exports.f = wellKnownSymbol;
    }
  });

  // ../../node_modules/core-js/internals/define-well-known-symbol.js
  var require_define_well_known_symbol = __commonJS({
    "../../node_modules/core-js/internals/define-well-known-symbol.js": function(exports, module) {
      var path = require_path();
      var has = require_has();
      var wrappedWellKnownSymbolModule = require_well_known_symbol_wrapped();
      var defineProperty = require_object_define_property().f;
      module.exports = function(NAME) {
        var Symbol2 = path.Symbol || (path.Symbol = {});
        if (!has(Symbol2, NAME))
          defineProperty(Symbol2, NAME, {
            value: wrappedWellKnownSymbolModule.f(NAME)
          });
      };
    }
  });

  // ../../node_modules/core-js/internals/set-to-string-tag.js
  var require_set_to_string_tag = __commonJS({
    "../../node_modules/core-js/internals/set-to-string-tag.js": function(exports, module) {
      var defineProperty = require_object_define_property().f;
      var has = require_has();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      module.exports = function(it, TAG, STATIC) {
        if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {
          defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/a-function.js
  var require_a_function = __commonJS({
    "../../node_modules/core-js/internals/a-function.js": function(exports, module) {
      module.exports = function(it) {
        if (typeof it != "function") {
          throw TypeError(String(it) + " is not a function");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/function-bind-context.js
  var require_function_bind_context = __commonJS({
    "../../node_modules/core-js/internals/function-bind-context.js": function(exports, module) {
      var aFunction = require_a_function();
      module.exports = function(fn, that, length) {
        aFunction(fn);
        if (that === void 0)
          return fn;
        switch (length) {
          case 0:
            return function() {
              return fn.call(that);
            };
          case 1:
            return function(a) {
              return fn.call(that, a);
            };
          case 2:
            return function(a, b) {
              return fn.call(that, a, b);
            };
          case 3:
            return function(a, b, c) {
              return fn.call(that, a, b, c);
            };
        }
        return function() {
          return fn.apply(that, arguments);
        };
      };
    }
  });

  // ../../node_modules/core-js/internals/array-iteration.js
  var require_array_iteration = __commonJS({
    "../../node_modules/core-js/internals/array-iteration.js": function(exports, module) {
      var bind = require_function_bind_context();
      var IndexedObject = require_indexed_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var arraySpeciesCreate = require_array_species_create();
      var push = [].push;
      var createMethod = function(TYPE) {
        var IS_MAP = TYPE == 1;
        var IS_FILTER = TYPE == 2;
        var IS_SOME = TYPE == 3;
        var IS_EVERY = TYPE == 4;
        var IS_FIND_INDEX = TYPE == 6;
        var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
        return function($this, callbackfn, that, specificCreate) {
          var O = toObject($this);
          var self2 = IndexedObject(O);
          var boundFunction = bind(callbackfn, that, 3);
          var length = toLength(self2.length);
          var index = 0;
          var create = specificCreate || arraySpeciesCreate;
          var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : void 0;
          var value, result;
          for (; length > index; index++)
            if (NO_HOLES || index in self2) {
              value = self2[index];
              result = boundFunction(value, index, O);
              if (TYPE) {
                if (IS_MAP)
                  target[index] = result;
                else if (result)
                  switch (TYPE) {
                    case 3:
                      return true;
                    case 5:
                      return value;
                    case 6:
                      return index;
                    case 2:
                      push.call(target, value);
                  }
                else if (IS_EVERY)
                  return false;
              }
            }
          return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
        };
      };
      module.exports = {
        forEach: createMethod(0),
        map: createMethod(1),
        filter: createMethod(2),
        some: createMethod(3),
        every: createMethod(4),
        find: createMethod(5),
        findIndex: createMethod(6)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.js
  var require_es_symbol = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.js": function() {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var getBuiltIn = require_get_built_in();
      var IS_PURE = require_is_pure();
      var DESCRIPTORS = require_descriptors();
      var NATIVE_SYMBOL = require_native_symbol();
      var USE_SYMBOL_AS_UID = require_use_symbol_as_uid();
      var fails = require_fails();
      var has = require_has();
      var isArray = require_is_array();
      var isObject = require_is_object();
      var anObject = require_an_object();
      var toObject = require_to_object();
      var toIndexedObject = require_to_indexed_object();
      var toPrimitive = require_to_primitive();
      var createPropertyDescriptor = require_create_property_descriptor();
      var nativeObjectCreate = require_object_create();
      var objectKeys = require_object_keys();
      var getOwnPropertyNamesModule = require_object_get_own_property_names();
      var getOwnPropertyNamesExternal = require_object_get_own_property_names_external();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var definePropertyModule = require_object_define_property();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var shared = require_shared();
      var sharedKey = require_shared_key();
      var hiddenKeys = require_hidden_keys();
      var uid = require_uid();
      var wellKnownSymbol = require_well_known_symbol();
      var wrappedWellKnownSymbolModule = require_well_known_symbol_wrapped();
      var defineWellKnownSymbol = require_define_well_known_symbol();
      var setToStringTag = require_set_to_string_tag();
      var InternalStateModule = require_internal_state();
      var $forEach = require_array_iteration().forEach;
      var HIDDEN = sharedKey("hidden");
      var SYMBOL = "Symbol";
      var PROTOTYPE = "prototype";
      var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(SYMBOL);
      var ObjectPrototype = Object[PROTOTYPE];
      var $Symbol = global2.Symbol;
      var $stringify = getBuiltIn("JSON", "stringify");
      var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
      var nativeDefineProperty = definePropertyModule.f;
      var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
      var nativePropertyIsEnumerable = propertyIsEnumerableModule.f;
      var AllSymbols = shared("symbols");
      var ObjectPrototypeSymbols = shared("op-symbols");
      var StringToSymbolRegistry = shared("string-to-symbol-registry");
      var SymbolToStringRegistry = shared("symbol-to-string-registry");
      var WellKnownSymbolsStore = shared("wks");
      var QObject = global2.QObject;
      var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
      var setSymbolDescriptor = DESCRIPTORS && fails(function() {
        return nativeObjectCreate(nativeDefineProperty({}, "a", {
          get: function() {
            return nativeDefineProperty(this, "a", { value: 7 }).a;
          }
        })).a != 7;
      }) ? function(O, P, Attributes) {
        var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);
        if (ObjectPrototypeDescriptor)
          delete ObjectPrototype[P];
        nativeDefineProperty(O, P, Attributes);
        if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {
          nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);
        }
      } : nativeDefineProperty;
      var wrap = function(tag, description) {
        var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);
        setInternalState(symbol, {
          type: SYMBOL,
          tag: tag,
          description: description
        });
        if (!DESCRIPTORS)
          symbol.description = description;
        return symbol;
      };
      var isSymbol = USE_SYMBOL_AS_UID ? function(it) {
        return typeof it == "symbol";
      } : function(it) {
        return Object(it) instanceof $Symbol;
      };
      var $defineProperty = function defineProperty(O, P, Attributes) {
        if (O === ObjectPrototype)
          $defineProperty(ObjectPrototypeSymbols, P, Attributes);
        anObject(O);
        var key = toPrimitive(P, true);
        anObject(Attributes);
        if (has(AllSymbols, key)) {
          if (!Attributes.enumerable) {
            if (!has(O, HIDDEN))
              nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));
            O[HIDDEN][key] = true;
          } else {
            if (has(O, HIDDEN) && O[HIDDEN][key])
              O[HIDDEN][key] = false;
            Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });
          }
          return setSymbolDescriptor(O, key, Attributes);
        }
        return nativeDefineProperty(O, key, Attributes);
      };
      var $defineProperties = function defineProperties(O, Properties) {
        anObject(O);
        var properties = toIndexedObject(Properties);
        var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));
        $forEach(keys, function(key) {
          if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key))
            $defineProperty(O, key, properties[key]);
        });
        return O;
      };
      var $create = function create(O, Properties) {
        return Properties === void 0 ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
      };
      var $propertyIsEnumerable = function propertyIsEnumerable(V) {
        var P = toPrimitive(V, true);
        var enumerable = nativePropertyIsEnumerable.call(this, P);
        if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P))
          return false;
        return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;
      };
      var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
        var it = toIndexedObject(O);
        var key = toPrimitive(P, true);
        if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key))
          return;
        var descriptor = nativeGetOwnPropertyDescriptor(it, key);
        if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {
          descriptor.enumerable = true;
        }
        return descriptor;
      };
      var $getOwnPropertyNames = function getOwnPropertyNames(O) {
        var names = nativeGetOwnPropertyNames(toIndexedObject(O));
        var result = [];
        $forEach(names, function(key) {
          if (!has(AllSymbols, key) && !has(hiddenKeys, key))
            result.push(key);
        });
        return result;
      };
      var $getOwnPropertySymbols = function getOwnPropertySymbols(O) {
        var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;
        var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));
        var result = [];
        $forEach(names, function(key) {
          if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {
            result.push(AllSymbols[key]);
          }
        });
        return result;
      };
      if (!NATIVE_SYMBOL) {
        $Symbol = function Symbol2() {
          if (this instanceof $Symbol)
            throw TypeError("Symbol is not a constructor");
          var description = !arguments.length || arguments[0] === void 0 ? void 0 : String(arguments[0]);
          var tag = uid(description);
          var setter = function(value) {
            if (this === ObjectPrototype)
              setter.call(ObjectPrototypeSymbols, value);
            if (has(this, HIDDEN) && has(this[HIDDEN], tag))
              this[HIDDEN][tag] = false;
            setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));
          };
          if (DESCRIPTORS && USE_SETTER)
            setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });
          return wrap(tag, description);
        };
        redefine($Symbol[PROTOTYPE], "toString", function toString() {
          return getInternalState(this).tag;
        });
        redefine($Symbol, "withoutSetter", function(description) {
          return wrap(uid(description), description);
        });
        propertyIsEnumerableModule.f = $propertyIsEnumerable;
        definePropertyModule.f = $defineProperty;
        getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;
        getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
        getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;
        wrappedWellKnownSymbolModule.f = function(name) {
          return wrap(wellKnownSymbol(name), name);
        };
        if (DESCRIPTORS) {
          nativeDefineProperty($Symbol[PROTOTYPE], "description", {
            configurable: true,
            get: function description() {
              return getInternalState(this).description;
            }
          });
          if (!IS_PURE) {
            redefine(ObjectPrototype, "propertyIsEnumerable", $propertyIsEnumerable, { unsafe: true });
          }
        }
      }
      $({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {
        Symbol: $Symbol
      });
      $forEach(objectKeys(WellKnownSymbolsStore), function(name) {
        defineWellKnownSymbol(name);
      });
      $({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {
        "for": function(key) {
          var string = String(key);
          if (has(StringToSymbolRegistry, string))
            return StringToSymbolRegistry[string];
          var symbol = $Symbol(string);
          StringToSymbolRegistry[string] = symbol;
          SymbolToStringRegistry[symbol] = string;
          return symbol;
        },
        keyFor: function keyFor(sym) {
          if (!isSymbol(sym))
            throw TypeError(sym + " is not a symbol");
          if (has(SymbolToStringRegistry, sym))
            return SymbolToStringRegistry[sym];
        },
        useSetter: function() {
          USE_SETTER = true;
        },
        useSimple: function() {
          USE_SETTER = false;
        }
      });
      $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {
        create: $create,
        defineProperty: $defineProperty,
        defineProperties: $defineProperties,
        getOwnPropertyDescriptor: $getOwnPropertyDescriptor
      });
      $({ target: "Object", stat: true, forced: !NATIVE_SYMBOL }, {
        getOwnPropertyNames: $getOwnPropertyNames,
        getOwnPropertySymbols: $getOwnPropertySymbols
      });
      $({ target: "Object", stat: true, forced: fails(function() {
        getOwnPropertySymbolsModule.f(1);
      }) }, {
        getOwnPropertySymbols: function getOwnPropertySymbols(it) {
          return getOwnPropertySymbolsModule.f(toObject(it));
        }
      });
      if ($stringify) {
        FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function() {
          var symbol = $Symbol();
          return $stringify([symbol]) != "[null]" || $stringify({ a: symbol }) != "{}" || $stringify(Object(symbol)) != "{}";
        });
        $({ target: "JSON", stat: true, forced: FORCED_JSON_STRINGIFY }, {
          stringify: function stringify(it, replacer, space) {
            var args = [it];
            var index = 1;
            var $replacer;
            while (arguments.length > index)
              args.push(arguments[index++]);
            $replacer = replacer;
            if (!isObject(replacer) && it === void 0 || isSymbol(it))
              return;
            if (!isArray(replacer))
              replacer = function(key, value) {
                if (typeof $replacer == "function")
                  value = $replacer.call(this, key, value);
                if (!isSymbol(value))
                  return value;
              };
            args[1] = replacer;
            return $stringify.apply(null, args);
          }
        });
      }
      var FORCED_JSON_STRINGIFY;
      if (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {
        createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
      }
      setToStringTag($Symbol, SYMBOL);
      hiddenKeys[HIDDEN] = true;
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.async-iterator.js
  var require_es_symbol_async_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.async-iterator.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("asyncIterator");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.description.js
  var require_es_symbol_description = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.description.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var has = require_has();
      var isObject = require_is_object();
      var defineProperty = require_object_define_property().f;
      var copyConstructorProperties = require_copy_constructor_properties();
      var NativeSymbol = global2.Symbol;
      if (DESCRIPTORS && typeof NativeSymbol == "function" && (!("description" in NativeSymbol.prototype) || NativeSymbol().description !== void 0)) {
        EmptyStringDescriptionStore = {};
        SymbolWrapper = function Symbol2() {
          var description = arguments.length < 1 || arguments[0] === void 0 ? void 0 : String(arguments[0]);
          var result = this instanceof SymbolWrapper ? new NativeSymbol(description) : description === void 0 ? NativeSymbol() : NativeSymbol(description);
          if (description === "")
            EmptyStringDescriptionStore[result] = true;
          return result;
        };
        copyConstructorProperties(SymbolWrapper, NativeSymbol);
        symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;
        symbolPrototype.constructor = SymbolWrapper;
        symbolToString = symbolPrototype.toString;
        native = String(NativeSymbol("test")) == "Symbol(test)";
        regexp = /^Symbol\((.*)\)[^)]+$/;
        defineProperty(symbolPrototype, "description", {
          configurable: true,
          get: function description() {
            var symbol = isObject(this) ? this.valueOf() : this;
            var string = symbolToString.call(symbol);
            if (has(EmptyStringDescriptionStore, symbol))
              return "";
            var desc = native ? string.slice(7, -1) : string.replace(regexp, "$1");
            return desc === "" ? void 0 : desc;
          }
        });
        $({ global: true, forced: true }, {
          Symbol: SymbolWrapper
        });
      }
      var EmptyStringDescriptionStore;
      var SymbolWrapper;
      var symbolPrototype;
      var symbolToString;
      var native;
      var regexp;
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.has-instance.js
  var require_es_symbol_has_instance = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.has-instance.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("hasInstance");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js
  var require_es_symbol_is_concat_spreadable = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.is-concat-spreadable.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("isConcatSpreadable");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.iterator.js
  var require_es_symbol_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.iterator.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("iterator");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.match.js
  var require_es_symbol_match = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.match.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("match");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.match-all.js
  var require_es_symbol_match_all = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.match-all.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("matchAll");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.replace.js
  var require_es_symbol_replace = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.replace.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("replace");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.search.js
  var require_es_symbol_search = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.search.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("search");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.species.js
  var require_es_symbol_species = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.species.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("species");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.split.js
  var require_es_symbol_split = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.split.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("split");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.to-primitive.js
  var require_es_symbol_to_primitive = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.to-primitive.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("toPrimitive");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.to-string-tag.js
  var require_es_symbol_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.to-string-tag.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("toStringTag");
    }
  });

  // ../../node_modules/core-js/modules/es.symbol.unscopables.js
  var require_es_symbol_unscopables = __commonJS({
    "../../node_modules/core-js/modules/es.symbol.unscopables.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("unscopables");
    }
  });

  // ../../node_modules/core-js/modules/es.math.to-string-tag.js
  var require_es_math_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.math.to-string-tag.js": function() {
      var setToStringTag = require_set_to_string_tag();
      setToStringTag(Math, "Math", true);
    }
  });

  // ../../node_modules/core-js/modules/es.json.to-string-tag.js
  var require_es_json_to_string_tag = __commonJS({
    "../../node_modules/core-js/modules/es.json.to-string-tag.js": function() {
      var global2 = require_global();
      var setToStringTag = require_set_to_string_tag();
      setToStringTag(global2.JSON, "JSON", true);
    }
  });

  // ../../node_modules/core-js/es/symbol/index.js
  var require_symbol = __commonJS({
    "../../node_modules/core-js/es/symbol/index.js": function(exports, module) {
      require_es_array_concat();
      require_es_object_to_string();
      require_es_symbol();
      require_es_symbol_async_iterator();
      require_es_symbol_description();
      require_es_symbol_has_instance();
      require_es_symbol_is_concat_spreadable();
      require_es_symbol_iterator();
      require_es_symbol_match();
      require_es_symbol_match_all();
      require_es_symbol_replace();
      require_es_symbol_search();
      require_es_symbol_species();
      require_es_symbol_split();
      require_es_symbol_to_primitive();
      require_es_symbol_to_string_tag();
      require_es_symbol_unscopables();
      require_es_math_to_string_tag();
      require_es_json_to_string_tag();
      var path = require_path();
      module.exports = path.Symbol;
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.async-dispose.js
  var require_esnext_symbol_async_dispose = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.async-dispose.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("asyncDispose");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.dispose.js
  var require_esnext_symbol_dispose = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.dispose.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("dispose");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.observable.js
  var require_esnext_symbol_observable = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.observable.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("observable");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.pattern-match.js
  var require_esnext_symbol_pattern_match = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.pattern-match.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("patternMatch");
    }
  });

  // ../../node_modules/core-js/modules/esnext.symbol.replace-all.js
  var require_esnext_symbol_replace_all = __commonJS({
    "../../node_modules/core-js/modules/esnext.symbol.replace-all.js": function() {
      var defineWellKnownSymbol = require_define_well_known_symbol();
      defineWellKnownSymbol("replaceAll");
    }
  });

  // ../../node_modules/core-js/features/symbol/index.js
  var require_symbol2 = __commonJS({
    "../../node_modules/core-js/features/symbol/index.js": function(exports, module) {
      var parent = require_symbol();
      require_esnext_symbol_async_dispose();
      require_esnext_symbol_dispose();
      require_esnext_symbol_observable();
      require_esnext_symbol_pattern_match();
      require_esnext_symbol_replace_all();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/internals/string-multibyte.js
  var require_string_multibyte = __commonJS({
    "../../node_modules/core-js/internals/string-multibyte.js": function(exports, module) {
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      var createMethod = function(CONVERT_TO_STRING) {
        return function($this, pos) {
          var S = String(requireObjectCoercible($this));
          var position = toInteger(pos);
          var size = S.length;
          var first, second;
          if (position < 0 || position >= size)
            return CONVERT_TO_STRING ? "" : void 0;
          first = S.charCodeAt(position);
          return first < 55296 || first > 56319 || position + 1 === size || (second = S.charCodeAt(position + 1)) < 56320 || second > 57343 ? CONVERT_TO_STRING ? S.charAt(position) : first : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 55296 << 10) + (second - 56320) + 65536;
        };
      };
      module.exports = {
        codeAt: createMethod(false),
        charAt: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/internals/correct-prototype-getter.js
  var require_correct_prototype_getter = __commonJS({
    "../../node_modules/core-js/internals/correct-prototype-getter.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        function F() {
        }
        F.prototype.constructor = null;
        return Object.getPrototypeOf(new F()) !== F.prototype;
      });
    }
  });

  // ../../node_modules/core-js/internals/object-get-prototype-of.js
  var require_object_get_prototype_of = __commonJS({
    "../../node_modules/core-js/internals/object-get-prototype-of.js": function(exports, module) {
      var has = require_has();
      var toObject = require_to_object();
      var sharedKey = require_shared_key();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      var IE_PROTO = sharedKey("IE_PROTO");
      var ObjectPrototype = Object.prototype;
      module.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function(O) {
        O = toObject(O);
        if (has(O, IE_PROTO))
          return O[IE_PROTO];
        if (typeof O.constructor == "function" && O instanceof O.constructor) {
          return O.constructor.prototype;
        }
        return O instanceof Object ? ObjectPrototype : null;
      };
    }
  });

  // ../../node_modules/core-js/internals/iterators-core.js
  var require_iterators_core = __commonJS({
    "../../node_modules/core-js/internals/iterators-core.js": function(exports, module) {
      "use strict";
      var getPrototypeOf = require_object_get_prototype_of();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var has = require_has();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var ITERATOR = wellKnownSymbol("iterator");
      var BUGGY_SAFARI_ITERATORS = false;
      var returnThis = function() {
        return this;
      };
      var IteratorPrototype;
      var PrototypeOfArrayIteratorPrototype;
      var arrayIterator;
      if ([].keys) {
        arrayIterator = [].keys();
        if (!("next" in arrayIterator))
          BUGGY_SAFARI_ITERATORS = true;
        else {
          PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));
          if (PrototypeOfArrayIteratorPrototype !== Object.prototype)
            IteratorPrototype = PrototypeOfArrayIteratorPrototype;
        }
      }
      if (IteratorPrototype == void 0)
        IteratorPrototype = {};
      if (!IS_PURE && !has(IteratorPrototype, ITERATOR)) {
        createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);
      }
      module.exports = {
        IteratorPrototype: IteratorPrototype,
        BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS
      };
    }
  });

  // ../../node_modules/core-js/internals/iterators.js
  var require_iterators = __commonJS({
    "../../node_modules/core-js/internals/iterators.js": function(exports, module) {
      module.exports = {};
    }
  });

  // ../../node_modules/core-js/internals/create-iterator-constructor.js
  var require_create_iterator_constructor = __commonJS({
    "../../node_modules/core-js/internals/create-iterator-constructor.js": function(exports, module) {
      "use strict";
      var IteratorPrototype = require_iterators_core().IteratorPrototype;
      var create = require_object_create();
      var createPropertyDescriptor = require_create_property_descriptor();
      var setToStringTag = require_set_to_string_tag();
      var Iterators = require_iterators();
      var returnThis = function() {
        return this;
      };
      module.exports = function(IteratorConstructor, NAME, next) {
        var TO_STRING_TAG = NAME + " Iterator";
        IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });
        setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);
        Iterators[TO_STRING_TAG] = returnThis;
        return IteratorConstructor;
      };
    }
  });

  // ../../node_modules/core-js/internals/a-possible-prototype.js
  var require_a_possible_prototype = __commonJS({
    "../../node_modules/core-js/internals/a-possible-prototype.js": function(exports, module) {
      var isObject = require_is_object();
      module.exports = function(it) {
        if (!isObject(it) && it !== null) {
          throw TypeError("Can't set " + String(it) + " as a prototype");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/object-set-prototype-of.js
  var require_object_set_prototype_of = __commonJS({
    "../../node_modules/core-js/internals/object-set-prototype-of.js": function(exports, module) {
      var anObject = require_an_object();
      var aPossiblePrototype = require_a_possible_prototype();
      module.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
        var CORRECT_SETTER = false;
        var test = {};
        var setter;
        try {
          setter = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set;
          setter.call(test, []);
          CORRECT_SETTER = test instanceof Array;
        } catch (error) {
        }
        return function setPrototypeOf(O, proto) {
          anObject(O);
          aPossiblePrototype(proto);
          if (CORRECT_SETTER)
            setter.call(O, proto);
          else
            O.__proto__ = proto;
          return O;
        };
      }() : void 0);
    }
  });

  // ../../node_modules/core-js/internals/define-iterator.js
  var require_define_iterator = __commonJS({
    "../../node_modules/core-js/internals/define-iterator.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var createIteratorConstructor = require_create_iterator_constructor();
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var setToStringTag = require_set_to_string_tag();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var Iterators = require_iterators();
      var IteratorsCore = require_iterators_core();
      var IteratorPrototype = IteratorsCore.IteratorPrototype;
      var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
      var ITERATOR = wellKnownSymbol("iterator");
      var KEYS = "keys";
      var VALUES = "values";
      var ENTRIES = "entries";
      var returnThis = function() {
        return this;
      };
      module.exports = function(Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
        createIteratorConstructor(IteratorConstructor, NAME, next);
        var getIterationMethod = function(KIND) {
          if (KIND === DEFAULT && defaultIterator)
            return defaultIterator;
          if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype)
            return IterablePrototype[KIND];
          switch (KIND) {
            case KEYS:
              return function keys() {
                return new IteratorConstructor(this, KIND);
              };
            case VALUES:
              return function values() {
                return new IteratorConstructor(this, KIND);
              };
            case ENTRIES:
              return function entries() {
                return new IteratorConstructor(this, KIND);
              };
          }
          return function() {
            return new IteratorConstructor(this);
          };
        };
        var TO_STRING_TAG = NAME + " Iterator";
        var INCORRECT_VALUES_NAME = false;
        var IterablePrototype = Iterable.prototype;
        var nativeIterator = IterablePrototype[ITERATOR] || IterablePrototype["@@iterator"] || DEFAULT && IterablePrototype[DEFAULT];
        var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
        var anyNativeIterator = NAME == "Array" ? IterablePrototype.entries || nativeIterator : nativeIterator;
        var CurrentIteratorPrototype, methods, KEY;
        if (anyNativeIterator) {
          CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));
          if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
            if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {
              if (setPrototypeOf) {
                setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);
              } else if (typeof CurrentIteratorPrototype[ITERATOR] != "function") {
                createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);
              }
            }
            setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
            if (IS_PURE)
              Iterators[TO_STRING_TAG] = returnThis;
          }
        }
        if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {
          INCORRECT_VALUES_NAME = true;
          defaultIterator = function values() {
            return nativeIterator.call(this);
          };
        }
        if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {
          createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);
        }
        Iterators[NAME] = defaultIterator;
        if (DEFAULT) {
          methods = {
            values: getIterationMethod(VALUES),
            keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
            entries: getIterationMethod(ENTRIES)
          };
          if (FORCED)
            for (KEY in methods) {
              if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
                redefine(IterablePrototype, KEY, methods[KEY]);
              }
            }
          else
            $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
        }
        return methods;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.iterator.js
  var require_es_string_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.string.iterator.js": function() {
      "use strict";
      var charAt = require_string_multibyte().charAt;
      var InternalStateModule = require_internal_state();
      var defineIterator = require_define_iterator();
      var STRING_ITERATOR = "String Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);
      defineIterator(String, "String", function(iterated) {
        setInternalState(this, {
          type: STRING_ITERATOR,
          string: String(iterated),
          index: 0
        });
      }, function next() {
        var state = getInternalState(this);
        var string = state.string;
        var index = state.index;
        var point;
        if (index >= string.length)
          return { value: void 0, done: true };
        point = charAt(string, index);
        state.index += point.length;
        return { value: point, done: false };
      });
    }
  });

  // ../../node_modules/core-js/internals/call-with-safe-iteration-closing.js
  var require_call_with_safe_iteration_closing = __commonJS({
    "../../node_modules/core-js/internals/call-with-safe-iteration-closing.js": function(exports, module) {
      var anObject = require_an_object();
      module.exports = function(iterator, fn, value, ENTRIES) {
        try {
          return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
        } catch (error) {
          var returnMethod = iterator["return"];
          if (returnMethod !== void 0)
            anObject(returnMethod.call(iterator));
          throw error;
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/is-array-iterator-method.js
  var require_is_array_iterator_method = __commonJS({
    "../../node_modules/core-js/internals/is-array-iterator-method.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var Iterators = require_iterators();
      var ITERATOR = wellKnownSymbol("iterator");
      var ArrayPrototype = Array.prototype;
      module.exports = function(it) {
        return it !== void 0 && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);
      };
    }
  });

  // ../../node_modules/core-js/internals/get-iterator-method.js
  var require_get_iterator_method = __commonJS({
    "../../node_modules/core-js/internals/get-iterator-method.js": function(exports, module) {
      var classof = require_classof();
      var Iterators = require_iterators();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      module.exports = function(it) {
        if (it != void 0)
          return it[ITERATOR] || it["@@iterator"] || Iterators[classof(it)];
      };
    }
  });

  // ../../node_modules/core-js/internals/array-from.js
  var require_array_from = __commonJS({
    "../../node_modules/core-js/internals/array-from.js": function(exports, module) {
      "use strict";
      var bind = require_function_bind_context();
      var toObject = require_to_object();
      var callWithSafeIterationClosing = require_call_with_safe_iteration_closing();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var toLength = require_to_length();
      var createProperty = require_create_property();
      var getIteratorMethod = require_get_iterator_method();
      module.exports = function from(arrayLike) {
        var O = toObject(arrayLike);
        var C = typeof this == "function" ? this : Array;
        var argumentsLength = arguments.length;
        var mapfn = argumentsLength > 1 ? arguments[1] : void 0;
        var mapping = mapfn !== void 0;
        var iteratorMethod = getIteratorMethod(O);
        var index = 0;
        var length, result, step, iterator, next, value;
        if (mapping)
          mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : void 0, 2);
        if (iteratorMethod != void 0 && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {
          iterator = iteratorMethod.call(O);
          next = iterator.next;
          result = new C();
          for (; !(step = next.call(iterator)).done; index++) {
            value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
            createProperty(result, index, value);
          }
        } else {
          length = toLength(O.length);
          result = new C(length);
          for (; length > index; index++) {
            value = mapping ? mapfn(O[index], index) : O[index];
            createProperty(result, index, value);
          }
        }
        result.length = index;
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/check-correctness-of-iteration.js
  var require_check_correctness_of_iteration = __commonJS({
    "../../node_modules/core-js/internals/check-correctness-of-iteration.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var SAFE_CLOSING = false;
      try {
        called = 0;
        iteratorWithReturn = {
          next: function() {
            return { done: !!called++ };
          },
          "return": function() {
            SAFE_CLOSING = true;
          }
        };
        iteratorWithReturn[ITERATOR] = function() {
          return this;
        };
        Array.from(iteratorWithReturn, function() {
          throw 2;
        });
      } catch (error) {
      }
      var called;
      var iteratorWithReturn;
      module.exports = function(exec, SKIP_CLOSING) {
        if (!SKIP_CLOSING && !SAFE_CLOSING)
          return false;
        var ITERATION_SUPPORT = false;
        try {
          var object = {};
          object[ITERATOR] = function() {
            return {
              next: function() {
                return { done: ITERATION_SUPPORT = true };
              }
            };
          };
          exec(object);
        } catch (error) {
        }
        return ITERATION_SUPPORT;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.from.js
  var require_es_array_from = __commonJS({
    "../../node_modules/core-js/modules/es.array.from.js": function() {
      var $ = require_export();
      var from = require_array_from();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var INCORRECT_ITERATION = !checkCorrectnessOfIteration(function(iterable) {
        Array.from(iterable);
      });
      $({ target: "Array", stat: true, forced: INCORRECT_ITERATION }, {
        from: from
      });
    }
  });

  // ../../node_modules/core-js/es/array/from.js
  var require_from = __commonJS({
    "../../node_modules/core-js/es/array/from.js": function(exports, module) {
      require_es_string_iterator();
      require_es_array_from();
      var path = require_path();
      module.exports = path.Array.from;
    }
  });

  // ../../node_modules/core-js/features/array/from.js
  var require_from2 = __commonJS({
    "../../node_modules/core-js/features/array/from.js": function(exports, module) {
      var parent = require_from();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/internals/object-assign.js
  var require_object_assign2 = __commonJS({
    "../../node_modules/core-js/internals/object-assign.js": function(exports, module) {
      "use strict";
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var objectKeys = require_object_keys();
      var getOwnPropertySymbolsModule = require_object_get_own_property_symbols();
      var propertyIsEnumerableModule = require_object_property_is_enumerable();
      var toObject = require_to_object();
      var IndexedObject = require_indexed_object();
      var nativeAssign = Object.assign;
      var defineProperty = Object.defineProperty;
      module.exports = !nativeAssign || fails(function() {
        if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, "a", {
          enumerable: true,
          get: function() {
            defineProperty(this, "b", {
              value: 3,
              enumerable: false
            });
          }
        }), { b: 2 })).b !== 1)
          return true;
        var A = {};
        var B = {};
        var symbol = Symbol();
        var alphabet = "abcdefghijklmnopqrst";
        A[symbol] = 7;
        alphabet.split("").forEach(function(chr) {
          B[chr] = chr;
        });
        return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join("") != alphabet;
      }) ? function assign(target, source) {
        var T = toObject(target);
        var argumentsLength = arguments.length;
        var index = 1;
        var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
        var propertyIsEnumerable = propertyIsEnumerableModule.f;
        while (argumentsLength > index) {
          var S = IndexedObject(arguments[index++]);
          var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);
          var length = keys.length;
          var j = 0;
          var key;
          while (length > j) {
            key = keys[j++];
            if (!DESCRIPTORS || propertyIsEnumerable.call(S, key))
              T[key] = S[key];
          }
        }
        return T;
      } : nativeAssign;
    }
  });

  // ../../node_modules/core-js/modules/es.object.assign.js
  var require_es_object_assign = __commonJS({
    "../../node_modules/core-js/modules/es.object.assign.js": function() {
      var $ = require_export();
      var assign = require_object_assign2();
      $({ target: "Object", stat: true, forced: Object.assign !== assign }, {
        assign: assign
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.create.js
  var require_es_object_create = __commonJS({
    "../../node_modules/core-js/modules/es.object.create.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var create = require_object_create();
      $({ target: "Object", stat: true, sham: !DESCRIPTORS }, {
        create: create
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-property.js
  var require_es_object_define_property = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-property.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var objectDefinePropertyModile = require_object_define_property();
      $({ target: "Object", stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {
        defineProperty: objectDefinePropertyModile.f
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-properties.js
  var require_es_object_define_properties = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-properties.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var defineProperties = require_object_define_properties();
      $({ target: "Object", stat: true, forced: !DESCRIPTORS, sham: !DESCRIPTORS }, {
        defineProperties: defineProperties
      });
    }
  });

  // ../../node_modules/core-js/internals/object-to-array.js
  var require_object_to_array = __commonJS({
    "../../node_modules/core-js/internals/object-to-array.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var objectKeys = require_object_keys();
      var toIndexedObject = require_to_indexed_object();
      var propertyIsEnumerable = require_object_property_is_enumerable().f;
      var createMethod = function(TO_ENTRIES) {
        return function(it) {
          var O = toIndexedObject(it);
          var keys = objectKeys(O);
          var length = keys.length;
          var i = 0;
          var result = [];
          var key;
          while (length > i) {
            key = keys[i++];
            if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {
              result.push(TO_ENTRIES ? [key, O[key]] : O[key]);
            }
          }
          return result;
        };
      };
      module.exports = {
        entries: createMethod(true),
        values: createMethod(false)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.entries.js
  var require_es_object_entries = __commonJS({
    "../../node_modules/core-js/modules/es.object.entries.js": function() {
      var $ = require_export();
      var $entries = require_object_to_array().entries;
      $({ target: "Object", stat: true }, {
        entries: function entries(O) {
          return $entries(O);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/freezing.js
  var require_freezing = __commonJS({
    "../../node_modules/core-js/internals/freezing.js": function(exports, module) {
      var fails = require_fails();
      module.exports = !fails(function() {
        return Object.isExtensible(Object.preventExtensions({}));
      });
    }
  });

  // ../../node_modules/core-js/internals/internal-metadata.js
  var require_internal_metadata = __commonJS({
    "../../node_modules/core-js/internals/internal-metadata.js": function(exports, module) {
      var hiddenKeys = require_hidden_keys();
      var isObject = require_is_object();
      var has = require_has();
      var defineProperty = require_object_define_property().f;
      var uid = require_uid();
      var FREEZING = require_freezing();
      var METADATA = uid("meta");
      var id = 0;
      var isExtensible = Object.isExtensible || function() {
        return true;
      };
      var setMetadata = function(it) {
        defineProperty(it, METADATA, { value: {
          objectID: "O" + ++id,
          weakData: {}
        } });
      };
      var fastKey = function(it, create) {
        if (!isObject(it))
          return typeof it == "symbol" ? it : (typeof it == "string" ? "S" : "P") + it;
        if (!has(it, METADATA)) {
          if (!isExtensible(it))
            return "F";
          if (!create)
            return "E";
          setMetadata(it);
        }
        return it[METADATA].objectID;
      };
      var getWeakData = function(it, create) {
        if (!has(it, METADATA)) {
          if (!isExtensible(it))
            return true;
          if (!create)
            return false;
          setMetadata(it);
        }
        return it[METADATA].weakData;
      };
      var onFreeze = function(it) {
        if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA))
          setMetadata(it);
        return it;
      };
      var meta = module.exports = {
        REQUIRED: false,
        fastKey: fastKey,
        getWeakData: getWeakData,
        onFreeze: onFreeze
      };
      hiddenKeys[METADATA] = true;
    }
  });

  // ../../node_modules/core-js/modules/es.object.freeze.js
  var require_es_object_freeze = __commonJS({
    "../../node_modules/core-js/modules/es.object.freeze.js": function() {
      var $ = require_export();
      var FREEZING = require_freezing();
      var fails = require_fails();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var nativeFreeze = Object.freeze;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeFreeze(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        freeze: function freeze(it) {
          return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/iterate.js
  var require_iterate = __commonJS({
    "../../node_modules/core-js/internals/iterate.js": function(exports, module) {
      var anObject = require_an_object();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var toLength = require_to_length();
      var bind = require_function_bind_context();
      var getIteratorMethod = require_get_iterator_method();
      var callWithSafeIterationClosing = require_call_with_safe_iteration_closing();
      var Result = function(stopped, result) {
        this.stopped = stopped;
        this.result = result;
      };
      var iterate = module.exports = function(iterable, fn, that, AS_ENTRIES, IS_ITERATOR) {
        var boundFunction = bind(fn, that, AS_ENTRIES ? 2 : 1);
        var iterator, iterFn, index, length, result, next, step;
        if (IS_ITERATOR) {
          iterator = iterable;
        } else {
          iterFn = getIteratorMethod(iterable);
          if (typeof iterFn != "function")
            throw TypeError("Target is not iterable");
          if (isArrayIteratorMethod(iterFn)) {
            for (index = 0, length = toLength(iterable.length); length > index; index++) {
              result = AS_ENTRIES ? boundFunction(anObject(step = iterable[index])[0], step[1]) : boundFunction(iterable[index]);
              if (result && result instanceof Result)
                return result;
            }
            return new Result(false);
          }
          iterator = iterFn.call(iterable);
        }
        next = iterator.next;
        while (!(step = next.call(iterator)).done) {
          result = callWithSafeIterationClosing(iterator, boundFunction, step.value, AS_ENTRIES);
          if (typeof result == "object" && result && result instanceof Result)
            return result;
        }
        return new Result(false);
      };
      iterate.stop = function(result) {
        return new Result(true, result);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.from-entries.js
  var require_es_object_from_entries = __commonJS({
    "../../node_modules/core-js/modules/es.object.from-entries.js": function() {
      var $ = require_export();
      var iterate = require_iterate();
      var createProperty = require_create_property();
      $({ target: "Object", stat: true }, {
        fromEntries: function fromEntries(iterable) {
          var obj = {};
          iterate(iterable, function(k, v) {
            createProperty(obj, k, v);
          }, void 0, true);
          return obj;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js
  var require_es_object_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-descriptor.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var toIndexedObject = require_to_indexed_object();
      var nativeGetOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var DESCRIPTORS = require_descriptors();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeGetOwnPropertyDescriptor(1);
      });
      var FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;
      $({ target: "Object", stat: true, forced: FORCED, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
          return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js
  var require_es_object_get_own_property_descriptors = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-descriptors.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var ownKeys = require_own_keys();
      var toIndexedObject = require_to_indexed_object();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var createProperty = require_create_property();
      $({ target: "Object", stat: true, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
          var O = toIndexedObject(object);
          var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
          var keys = ownKeys(O);
          var result = {};
          var index = 0;
          var key, descriptor;
          while (keys.length > index) {
            descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
            if (descriptor !== void 0)
              createProperty(result, key, descriptor);
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-own-property-names.js
  var require_es_object_get_own_property_names = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-own-property-names.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var nativeGetOwnPropertyNames = require_object_get_own_property_names_external().f;
      var FAILS_ON_PRIMITIVES = fails(function() {
        return !Object.getOwnPropertyNames(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        getOwnPropertyNames: nativeGetOwnPropertyNames
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.get-prototype-of.js
  var require_es_object_get_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.object.get-prototype-of.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var toObject = require_to_object();
      var nativeGetPrototypeOf = require_object_get_prototype_of();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeGetPrototypeOf(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {
        getPrototypeOf: function getPrototypeOf(it) {
          return nativeGetPrototypeOf(toObject(it));
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/same-value.js
  var require_same_value = __commonJS({
    "../../node_modules/core-js/internals/same-value.js": function(exports, module) {
      module.exports = Object.is || function is(x, y) {
        return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.object.is.js
  var require_es_object_is = __commonJS({
    "../../node_modules/core-js/modules/es.object.is.js": function() {
      var $ = require_export();
      var is = require_same_value();
      $({ target: "Object", stat: true }, {
        is: is
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-extensible.js
  var require_es_object_is_extensible = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-extensible.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsExtensible = Object.isExtensible;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsExtensible(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isExtensible: function isExtensible(it) {
          return isObject(it) ? nativeIsExtensible ? nativeIsExtensible(it) : true : false;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-frozen.js
  var require_es_object_is_frozen = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-frozen.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsFrozen = Object.isFrozen;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsFrozen(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isFrozen: function isFrozen(it) {
          return isObject(it) ? nativeIsFrozen ? nativeIsFrozen(it) : false : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.is-sealed.js
  var require_es_object_is_sealed = __commonJS({
    "../../node_modules/core-js/modules/es.object.is-sealed.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var isObject = require_is_object();
      var nativeIsSealed = Object.isSealed;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeIsSealed(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        isSealed: function isSealed(it) {
          return isObject(it) ? nativeIsSealed ? nativeIsSealed(it) : false : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.keys.js
  var require_es_object_keys = __commonJS({
    "../../node_modules/core-js/modules/es.object.keys.js": function() {
      var $ = require_export();
      var toObject = require_to_object();
      var nativeKeys = require_object_keys();
      var fails = require_fails();
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeKeys(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES }, {
        keys: function keys(it) {
          return nativeKeys(toObject(it));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.prevent-extensions.js
  var require_es_object_prevent_extensions = __commonJS({
    "../../node_modules/core-js/modules/es.object.prevent-extensions.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var FREEZING = require_freezing();
      var fails = require_fails();
      var nativePreventExtensions = Object.preventExtensions;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativePreventExtensions(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        preventExtensions: function preventExtensions(it) {
          return nativePreventExtensions && isObject(it) ? nativePreventExtensions(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.seal.js
  var require_es_object_seal = __commonJS({
    "../../node_modules/core-js/modules/es.object.seal.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var onFreeze = require_internal_metadata().onFreeze;
      var FREEZING = require_freezing();
      var fails = require_fails();
      var nativeSeal = Object.seal;
      var FAILS_ON_PRIMITIVES = fails(function() {
        nativeSeal(1);
      });
      $({ target: "Object", stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {
        seal: function seal(it) {
          return nativeSeal && isObject(it) ? nativeSeal(onFreeze(it)) : it;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.set-prototype-of.js
  var require_es_object_set_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.object.set-prototype-of.js": function() {
      var $ = require_export();
      var setPrototypeOf = require_object_set_prototype_of();
      $({ target: "Object", stat: true }, {
        setPrototypeOf: setPrototypeOf
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.values.js
  var require_es_object_values = __commonJS({
    "../../node_modules/core-js/modules/es.object.values.js": function() {
      var $ = require_export();
      var $values = require_object_to_array().values;
      $({ target: "Object", stat: true }, {
        values: function values(O) {
          return $values(O);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/object-prototype-accessors-forced.js
  var require_object_prototype_accessors_forced = __commonJS({
    "../../node_modules/core-js/internals/object-prototype-accessors-forced.js": function(exports, module) {
      "use strict";
      var IS_PURE = require_is_pure();
      var global2 = require_global();
      var fails = require_fails();
      module.exports = IS_PURE || !fails(function() {
        var key = Math.random();
        __defineSetter__.call(null, key, function() {
        });
        delete global2[key];
      });
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-getter.js
  var require_es_object_define_getter = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-getter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var aFunction = require_a_function();
      var definePropertyModule = require_object_define_property();
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __defineGetter__: function __defineGetter__(P, getter) {
            definePropertyModule.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.define-setter.js
  var require_es_object_define_setter = __commonJS({
    "../../node_modules/core-js/modules/es.object.define-setter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var aFunction = require_a_function();
      var definePropertyModule = require_object_define_property();
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __defineSetter__: function __defineSetter__2(P, setter) {
            definePropertyModule.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.lookup-getter.js
  var require_es_object_lookup_getter = __commonJS({
    "../../node_modules/core-js/modules/es.object.lookup-getter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var getPrototypeOf = require_object_get_prototype_of();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __lookupGetter__: function __lookupGetter__(P) {
            var O = toObject(this);
            var key = toPrimitive(P, true);
            var desc;
            do {
              if (desc = getOwnPropertyDescriptor(O, key))
                return desc.get;
            } while (O = getPrototypeOf(O));
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.object.lookup-setter.js
  var require_es_object_lookup_setter = __commonJS({
    "../../node_modules/core-js/modules/es.object.lookup-setter.js": function() {
      "use strict";
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var FORCED = require_object_prototype_accessors_forced();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var getPrototypeOf = require_object_get_prototype_of();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      if (DESCRIPTORS) {
        $({ target: "Object", proto: true, forced: FORCED }, {
          __lookupSetter__: function __lookupSetter__(P) {
            var O = toObject(this);
            var key = toPrimitive(P, true);
            var desc;
            do {
              if (desc = getOwnPropertyDescriptor(O, key))
                return desc.set;
            } while (O = getPrototypeOf(O));
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/function-bind.js
  var require_function_bind = __commonJS({
    "../../node_modules/core-js/internals/function-bind.js": function(exports, module) {
      "use strict";
      var aFunction = require_a_function();
      var isObject = require_is_object();
      var slice = [].slice;
      var factories = {};
      var construct = function(C, argsLength, args) {
        if (!(argsLength in factories)) {
          for (var list = [], i = 0; i < argsLength; i++)
            list[i] = "a[" + i + "]";
          factories[argsLength] = Function("C,a", "return new C(" + list.join(",") + ")");
        }
        return factories[argsLength](C, args);
      };
      module.exports = Function.bind || function bind(that) {
        var fn = aFunction(this);
        var partArgs = slice.call(arguments, 1);
        var boundFunction = function bound() {
          var args = partArgs.concat(slice.call(arguments));
          return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);
        };
        if (isObject(fn.prototype))
          boundFunction.prototype = fn.prototype;
        return boundFunction;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.function.bind.js
  var require_es_function_bind = __commonJS({
    "../../node_modules/core-js/modules/es.function.bind.js": function() {
      var $ = require_export();
      var bind = require_function_bind();
      $({ target: "Function", proto: true }, {
        bind: bind
      });
    }
  });

  // ../../node_modules/core-js/modules/es.function.name.js
  var require_es_function_name = __commonJS({
    "../../node_modules/core-js/modules/es.function.name.js": function() {
      var DESCRIPTORS = require_descriptors();
      var defineProperty = require_object_define_property().f;
      var FunctionPrototype = Function.prototype;
      var FunctionPrototypeToString = FunctionPrototype.toString;
      var nameRE = /^\s*function ([^ (]*)/;
      var NAME = "name";
      if (DESCRIPTORS && !(NAME in FunctionPrototype)) {
        defineProperty(FunctionPrototype, NAME, {
          configurable: true,
          get: function() {
            try {
              return FunctionPrototypeToString.call(this).match(nameRE)[1];
            } catch (error) {
              return "";
            }
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.function.has-instance.js
  var require_es_function_has_instance = __commonJS({
    "../../node_modules/core-js/modules/es.function.has-instance.js": function() {
      "use strict";
      var isObject = require_is_object();
      var definePropertyModule = require_object_define_property();
      var getPrototypeOf = require_object_get_prototype_of();
      var wellKnownSymbol = require_well_known_symbol();
      var HAS_INSTANCE = wellKnownSymbol("hasInstance");
      var FunctionPrototype = Function.prototype;
      if (!(HAS_INSTANCE in FunctionPrototype)) {
        definePropertyModule.f(FunctionPrototype, HAS_INSTANCE, { value: function(O) {
          if (typeof this != "function" || !isObject(O))
            return false;
          if (!isObject(this.prototype))
            return O instanceof this;
          while (O = getPrototypeOf(O))
            if (this.prototype === O)
              return true;
          return false;
        } });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.global-this.js
  var require_es_global_this = __commonJS({
    "../../node_modules/core-js/modules/es.global-this.js": function() {
      var $ = require_export();
      var global2 = require_global();
      $({ global: true }, {
        globalThis: global2
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.is-array.js
  var require_es_array_is_array = __commonJS({
    "../../node_modules/core-js/modules/es.array.is-array.js": function() {
      var $ = require_export();
      var isArray = require_is_array();
      $({ target: "Array", stat: true }, {
        isArray: isArray
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.of.js
  var require_es_array_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.of.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var createProperty = require_create_property();
      var ISNT_GENERIC = fails(function() {
        function F() {
        }
        return !(Array.of.call(F) instanceof F);
      });
      $({ target: "Array", stat: true, forced: ISNT_GENERIC }, {
        of: function of() {
          var index = 0;
          var argumentsLength = arguments.length;
          var result = new (typeof this == "function" ? this : Array)(argumentsLength);
          while (argumentsLength > index)
            createProperty(result, index, arguments[index++]);
          result.length = argumentsLength;
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-copy-within.js
  var require_array_copy_within = __commonJS({
    "../../node_modules/core-js/internals/array-copy-within.js": function(exports, module) {
      "use strict";
      var toObject = require_to_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var min = Math.min;
      module.exports = [].copyWithin || function copyWithin(target, start) {
        var O = toObject(this);
        var len = toLength(O.length);
        var to = toAbsoluteIndex(target, len);
        var from = toAbsoluteIndex(start, len);
        var end = arguments.length > 2 ? arguments[2] : void 0;
        var count = min((end === void 0 ? len : toAbsoluteIndex(end, len)) - from, len - to);
        var inc = 1;
        if (from < to && to < from + count) {
          inc = -1;
          from += count - 1;
          to += count - 1;
        }
        while (count-- > 0) {
          if (from in O)
            O[to] = O[from];
          else
            delete O[to];
          to += inc;
          from += inc;
        }
        return O;
      };
    }
  });

  // ../../node_modules/core-js/internals/add-to-unscopables.js
  var require_add_to_unscopables = __commonJS({
    "../../node_modules/core-js/internals/add-to-unscopables.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var create = require_object_create();
      var definePropertyModule = require_object_define_property();
      var UNSCOPABLES = wellKnownSymbol("unscopables");
      var ArrayPrototype = Array.prototype;
      if (ArrayPrototype[UNSCOPABLES] == void 0) {
        definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {
          configurable: true,
          value: create(null)
        });
      }
      module.exports = function(key) {
        ArrayPrototype[UNSCOPABLES][key] = true;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.copy-within.js
  var require_es_array_copy_within = __commonJS({
    "../../node_modules/core-js/modules/es.array.copy-within.js": function() {
      var $ = require_export();
      var copyWithin = require_array_copy_within();
      var addToUnscopables = require_add_to_unscopables();
      $({ target: "Array", proto: true }, {
        copyWithin: copyWithin
      });
      addToUnscopables("copyWithin");
    }
  });

  // ../../node_modules/core-js/internals/array-method-is-strict.js
  var require_array_method_is_strict = __commonJS({
    "../../node_modules/core-js/internals/array-method-is-strict.js": function(exports, module) {
      "use strict";
      var fails = require_fails();
      module.exports = function(METHOD_NAME, argument) {
        var method = [][METHOD_NAME];
        return !!method && fails(function() {
          method.call(null, argument || function() {
            throw 1;
          }, 1);
        });
      };
    }
  });

  // ../../node_modules/core-js/internals/array-method-uses-to-length.js
  var require_array_method_uses_to_length = __commonJS({
    "../../node_modules/core-js/internals/array-method-uses-to-length.js": function(exports, module) {
      var DESCRIPTORS = require_descriptors();
      var fails = require_fails();
      var has = require_has();
      var defineProperty = Object.defineProperty;
      var cache = {};
      var thrower = function(it) {
        throw it;
      };
      module.exports = function(METHOD_NAME, options) {
        if (has(cache, METHOD_NAME))
          return cache[METHOD_NAME];
        if (!options)
          options = {};
        var method = [][METHOD_NAME];
        var ACCESSORS = has(options, "ACCESSORS") ? options.ACCESSORS : false;
        var argument0 = has(options, 0) ? options[0] : thrower;
        var argument1 = has(options, 1) ? options[1] : void 0;
        return cache[METHOD_NAME] = !!method && !fails(function() {
          if (ACCESSORS && !DESCRIPTORS)
            return true;
          var O = { length: -1 };
          if (ACCESSORS)
            defineProperty(O, 1, { enumerable: true, get: thrower });
          else
            O[1] = 1;
          method.call(O, argument0, argument1);
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.every.js
  var require_es_array_every = __commonJS({
    "../../node_modules/core-js/modules/es.array.every.js": function() {
      "use strict";
      var $ = require_export();
      var $every = require_array_iteration().every;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("every");
      var USES_TO_LENGTH = arrayMethodUsesToLength("every");
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        every: function every(callbackfn) {
          return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-fill.js
  var require_array_fill = __commonJS({
    "../../node_modules/core-js/internals/array-fill.js": function(exports, module) {
      "use strict";
      var toObject = require_to_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      module.exports = function fill(value) {
        var O = toObject(this);
        var length = toLength(O.length);
        var argumentsLength = arguments.length;
        var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : void 0, length);
        var end = argumentsLength > 2 ? arguments[2] : void 0;
        var endPos = end === void 0 ? length : toAbsoluteIndex(end, length);
        while (endPos > index)
          O[index++] = value;
        return O;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.fill.js
  var require_es_array_fill = __commonJS({
    "../../node_modules/core-js/modules/es.array.fill.js": function() {
      var $ = require_export();
      var fill = require_array_fill();
      var addToUnscopables = require_add_to_unscopables();
      $({ target: "Array", proto: true }, {
        fill: fill
      });
      addToUnscopables("fill");
    }
  });

  // ../../node_modules/core-js/modules/es.array.filter.js
  var require_es_array_filter = __commonJS({
    "../../node_modules/core-js/modules/es.array.filter.js": function() {
      "use strict";
      var $ = require_export();
      var $filter = require_array_iteration().filter;
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("filter");
      var USES_TO_LENGTH = arrayMethodUsesToLength("filter");
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        filter: function filter(callbackfn) {
          return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.find.js
  var require_es_array_find = __commonJS({
    "../../node_modules/core-js/modules/es.array.find.js": function() {
      "use strict";
      var $ = require_export();
      var $find = require_array_iteration().find;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var FIND = "find";
      var SKIPS_HOLES = true;
      var USES_TO_LENGTH = arrayMethodUsesToLength(FIND);
      if (FIND in [])
        Array(1)[FIND](function() {
          SKIPS_HOLES = false;
        });
      $({ target: "Array", proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {
        find: function find(callbackfn) {
          return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables(FIND);
    }
  });

  // ../../node_modules/core-js/modules/es.array.find-index.js
  var require_es_array_find_index = __commonJS({
    "../../node_modules/core-js/modules/es.array.find-index.js": function() {
      "use strict";
      var $ = require_export();
      var $findIndex = require_array_iteration().findIndex;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var FIND_INDEX = "findIndex";
      var SKIPS_HOLES = true;
      var USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);
      if (FIND_INDEX in [])
        Array(1)[FIND_INDEX](function() {
          SKIPS_HOLES = false;
        });
      $({ target: "Array", proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {
        findIndex: function findIndex(callbackfn) {
          return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables(FIND_INDEX);
    }
  });

  // ../../node_modules/core-js/internals/flatten-into-array.js
  var require_flatten_into_array = __commonJS({
    "../../node_modules/core-js/internals/flatten-into-array.js": function(exports, module) {
      "use strict";
      var isArray = require_is_array();
      var toLength = require_to_length();
      var bind = require_function_bind_context();
      var flattenIntoArray = function(target, original, source, sourceLen, start, depth, mapper, thisArg) {
        var targetIndex = start;
        var sourceIndex = 0;
        var mapFn = mapper ? bind(mapper, thisArg, 3) : false;
        var element;
        while (sourceIndex < sourceLen) {
          if (sourceIndex in source) {
            element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];
            if (depth > 0 && isArray(element)) {
              targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;
            } else {
              if (targetIndex >= 9007199254740991)
                throw TypeError("Exceed the acceptable array length");
              target[targetIndex] = element;
            }
            targetIndex++;
          }
          sourceIndex++;
        }
        return targetIndex;
      };
      module.exports = flattenIntoArray;
    }
  });

  // ../../node_modules/core-js/modules/es.array.flat.js
  var require_es_array_flat = __commonJS({
    "../../node_modules/core-js/modules/es.array.flat.js": function() {
      "use strict";
      var $ = require_export();
      var flattenIntoArray = require_flatten_into_array();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var toInteger = require_to_integer();
      var arraySpeciesCreate = require_array_species_create();
      $({ target: "Array", proto: true }, {
        flat: function flat() {
          var depthArg = arguments.length ? arguments[0] : void 0;
          var O = toObject(this);
          var sourceLen = toLength(O.length);
          var A = arraySpeciesCreate(O, 0);
          A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === void 0 ? 1 : toInteger(depthArg));
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.flat-map.js
  var require_es_array_flat_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.flat-map.js": function() {
      "use strict";
      var $ = require_export();
      var flattenIntoArray = require_flatten_into_array();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var aFunction = require_a_function();
      var arraySpeciesCreate = require_array_species_create();
      $({ target: "Array", proto: true }, {
        flatMap: function flatMap(callbackfn) {
          var O = toObject(this);
          var sourceLen = toLength(O.length);
          var A;
          aFunction(callbackfn);
          A = arraySpeciesCreate(O, 0);
          A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-for-each.js
  var require_array_for_each = __commonJS({
    "../../node_modules/core-js/internals/array-for-each.js": function(exports, module) {
      "use strict";
      var $forEach = require_array_iteration().forEach;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("forEach");
      var USES_TO_LENGTH = arrayMethodUsesToLength("forEach");
      module.exports = !STRICT_METHOD || !USES_TO_LENGTH ? function forEach(callbackfn) {
        return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      } : [].forEach;
    }
  });

  // ../../node_modules/core-js/modules/es.array.for-each.js
  var require_es_array_for_each = __commonJS({
    "../../node_modules/core-js/modules/es.array.for-each.js": function() {
      "use strict";
      var $ = require_export();
      var forEach = require_array_for_each();
      $({ target: "Array", proto: true, forced: [].forEach != forEach }, {
        forEach: forEach
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.includes.js
  var require_es_array_includes = __commonJS({
    "../../node_modules/core-js/modules/es.array.includes.js": function() {
      "use strict";
      var $ = require_export();
      var $includes = require_array_includes().includes;
      var addToUnscopables = require_add_to_unscopables();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      $({ target: "Array", proto: true, forced: !USES_TO_LENGTH }, {
        includes: function includes(el) {
          return $includes(this, el, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
      addToUnscopables("includes");
    }
  });

  // ../../node_modules/core-js/modules/es.array.index-of.js
  var require_es_array_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.index-of.js": function() {
      "use strict";
      var $ = require_export();
      var $indexOf = require_array_includes().indexOf;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var nativeIndexOf = [].indexOf;
      var NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;
      var STRICT_METHOD = arrayMethodIsStrict("indexOf");
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      $({ target: "Array", proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {
        indexOf: function indexOf(searchElement) {
          return NEGATIVE_ZERO ? nativeIndexOf.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.join.js
  var require_es_array_join = __commonJS({
    "../../node_modules/core-js/modules/es.array.join.js": function() {
      "use strict";
      var $ = require_export();
      var IndexedObject = require_indexed_object();
      var toIndexedObject = require_to_indexed_object();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var nativeJoin = [].join;
      var ES3_STRINGS = IndexedObject != Object;
      var STRICT_METHOD = arrayMethodIsStrict("join", ",");
      $({ target: "Array", proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {
        join: function join(separator) {
          return nativeJoin.call(toIndexedObject(this), separator === void 0 ? "," : separator);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-last-index-of.js
  var require_array_last_index_of = __commonJS({
    "../../node_modules/core-js/internals/array-last-index-of.js": function(exports, module) {
      "use strict";
      var toIndexedObject = require_to_indexed_object();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var min = Math.min;
      var nativeLastIndexOf = [].lastIndexOf;
      var NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;
      var STRICT_METHOD = arrayMethodIsStrict("lastIndexOf");
      var USES_TO_LENGTH = arrayMethodUsesToLength("indexOf", { ACCESSORS: true, 1: 0 });
      var FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;
      module.exports = FORCED ? function lastIndexOf(searchElement) {
        if (NEGATIVE_ZERO)
          return nativeLastIndexOf.apply(this, arguments) || 0;
        var O = toIndexedObject(this);
        var length = toLength(O.length);
        var index = length - 1;
        if (arguments.length > 1)
          index = min(index, toInteger(arguments[1]));
        if (index < 0)
          index = length + index;
        for (; index >= 0; index--)
          if (index in O && O[index] === searchElement)
            return index || 0;
        return -1;
      } : nativeLastIndexOf;
    }
  });

  // ../../node_modules/core-js/modules/es.array.last-index-of.js
  var require_es_array_last_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.array.last-index-of.js": function() {
      var $ = require_export();
      var lastIndexOf = require_array_last_index_of();
      $({ target: "Array", proto: true, forced: lastIndexOf !== [].lastIndexOf }, {
        lastIndexOf: lastIndexOf
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.map.js
  var require_es_array_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.map.js": function() {
      "use strict";
      var $ = require_export();
      var $map = require_array_iteration().map;
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("map");
      var USES_TO_LENGTH = arrayMethodUsesToLength("map");
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        map: function map(callbackfn) {
          return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/array-reduce.js
  var require_array_reduce = __commonJS({
    "../../node_modules/core-js/internals/array-reduce.js": function(exports, module) {
      var aFunction = require_a_function();
      var toObject = require_to_object();
      var IndexedObject = require_indexed_object();
      var toLength = require_to_length();
      var createMethod = function(IS_RIGHT) {
        return function(that, callbackfn, argumentsLength, memo) {
          aFunction(callbackfn);
          var O = toObject(that);
          var self2 = IndexedObject(O);
          var length = toLength(O.length);
          var index = IS_RIGHT ? length - 1 : 0;
          var i = IS_RIGHT ? -1 : 1;
          if (argumentsLength < 2)
            while (true) {
              if (index in self2) {
                memo = self2[index];
                index += i;
                break;
              }
              index += i;
              if (IS_RIGHT ? index < 0 : length <= index) {
                throw TypeError("Reduce of empty array with no initial value");
              }
            }
          for (; IS_RIGHT ? index >= 0 : length > index; index += i)
            if (index in self2) {
              memo = callbackfn(memo, self2[index], index, O);
            }
          return memo;
        };
      };
      module.exports = {
        left: createMethod(false),
        right: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.reduce.js
  var require_es_array_reduce = __commonJS({
    "../../node_modules/core-js/modules/es.array.reduce.js": function() {
      "use strict";
      var $ = require_export();
      var $reduce = require_array_reduce().left;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("reduce");
      var USES_TO_LENGTH = arrayMethodUsesToLength("reduce", { 1: 0 });
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        reduce: function reduce(callbackfn) {
          return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.reduce-right.js
  var require_es_array_reduce_right = __commonJS({
    "../../node_modules/core-js/modules/es.array.reduce-right.js": function() {
      "use strict";
      var $ = require_export();
      var $reduceRight = require_array_reduce().right;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("reduceRight");
      var USES_TO_LENGTH = arrayMethodUsesToLength("reduce", { 1: 0 });
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        reduceRight: function reduceRight(callbackfn) {
          return $reduceRight(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.reverse.js
  var require_es_array_reverse = __commonJS({
    "../../node_modules/core-js/modules/es.array.reverse.js": function() {
      "use strict";
      var $ = require_export();
      var isArray = require_is_array();
      var nativeReverse = [].reverse;
      var test = [1, 2];
      $({ target: "Array", proto: true, forced: String(test) === String(test.reverse()) }, {
        reverse: function reverse() {
          if (isArray(this))
            this.length = this.length;
          return nativeReverse.call(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.slice.js
  var require_es_array_slice = __commonJS({
    "../../node_modules/core-js/modules/es.array.slice.js": function() {
      "use strict";
      var $ = require_export();
      var isObject = require_is_object();
      var isArray = require_is_array();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var toIndexedObject = require_to_indexed_object();
      var createProperty = require_create_property();
      var wellKnownSymbol = require_well_known_symbol();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("slice");
      var USES_TO_LENGTH = arrayMethodUsesToLength("slice", { ACCESSORS: true, 0: 0, 1: 2 });
      var SPECIES = wellKnownSymbol("species");
      var nativeSlice = [].slice;
      var max = Math.max;
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        slice: function slice(start, end) {
          var O = toIndexedObject(this);
          var length = toLength(O.length);
          var k = toAbsoluteIndex(start, length);
          var fin = toAbsoluteIndex(end === void 0 ? length : end, length);
          var Constructor, result, n;
          if (isArray(O)) {
            Constructor = O.constructor;
            if (typeof Constructor == "function" && (Constructor === Array || isArray(Constructor.prototype))) {
              Constructor = void 0;
            } else if (isObject(Constructor)) {
              Constructor = Constructor[SPECIES];
              if (Constructor === null)
                Constructor = void 0;
            }
            if (Constructor === Array || Constructor === void 0) {
              return nativeSlice.call(O, k, fin);
            }
          }
          result = new (Constructor === void 0 ? Array : Constructor)(max(fin - k, 0));
          for (n = 0; k < fin; k++, n++)
            if (k in O)
              createProperty(result, n, O[k]);
          result.length = n;
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.some.js
  var require_es_array_some = __commonJS({
    "../../node_modules/core-js/modules/es.array.some.js": function() {
      "use strict";
      var $ = require_export();
      var $some = require_array_iteration().some;
      var arrayMethodIsStrict = require_array_method_is_strict();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var STRICT_METHOD = arrayMethodIsStrict("some");
      var USES_TO_LENGTH = arrayMethodUsesToLength("some");
      $({ target: "Array", proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {
        some: function some(callbackfn) {
          return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.sort.js
  var require_es_array_sort = __commonJS({
    "../../node_modules/core-js/modules/es.array.sort.js": function() {
      "use strict";
      var $ = require_export();
      var aFunction = require_a_function();
      var toObject = require_to_object();
      var fails = require_fails();
      var arrayMethodIsStrict = require_array_method_is_strict();
      var test = [];
      var nativeSort = test.sort;
      var FAILS_ON_UNDEFINED = fails(function() {
        test.sort(void 0);
      });
      var FAILS_ON_NULL = fails(function() {
        test.sort(null);
      });
      var STRICT_METHOD = arrayMethodIsStrict("sort");
      var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD;
      $({ target: "Array", proto: true, forced: FORCED }, {
        sort: function sort(comparefn) {
          return comparefn === void 0 ? nativeSort.call(toObject(this)) : nativeSort.call(toObject(this), aFunction(comparefn));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array.splice.js
  var require_es_array_splice = __commonJS({
    "../../node_modules/core-js/modules/es.array.splice.js": function() {
      "use strict";
      var $ = require_export();
      var toAbsoluteIndex = require_to_absolute_index();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var toObject = require_to_object();
      var arraySpeciesCreate = require_array_species_create();
      var createProperty = require_create_property();
      var arrayMethodHasSpeciesSupport = require_array_method_has_species_support();
      var arrayMethodUsesToLength = require_array_method_uses_to_length();
      var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport("splice");
      var USES_TO_LENGTH = arrayMethodUsesToLength("splice", { ACCESSORS: true, 0: 0, 1: 2 });
      var max = Math.max;
      var min = Math.min;
      var MAX_SAFE_INTEGER = 9007199254740991;
      var MAXIMUM_ALLOWED_LENGTH_EXCEEDED = "Maximum allowed length exceeded";
      $({ target: "Array", proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {
        splice: function splice(start, deleteCount) {
          var O = toObject(this);
          var len = toLength(O.length);
          var actualStart = toAbsoluteIndex(start, len);
          var argumentsLength = arguments.length;
          var insertCount, actualDeleteCount, A, k, from, to;
          if (argumentsLength === 0) {
            insertCount = actualDeleteCount = 0;
          } else if (argumentsLength === 1) {
            insertCount = 0;
            actualDeleteCount = len - actualStart;
          } else {
            insertCount = argumentsLength - 2;
            actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);
          }
          if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {
            throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);
          }
          A = arraySpeciesCreate(O, actualDeleteCount);
          for (k = 0; k < actualDeleteCount; k++) {
            from = actualStart + k;
            if (from in O)
              createProperty(A, k, O[from]);
          }
          A.length = actualDeleteCount;
          if (insertCount < actualDeleteCount) {
            for (k = actualStart; k < len - actualDeleteCount; k++) {
              from = k + actualDeleteCount;
              to = k + insertCount;
              if (from in O)
                O[to] = O[from];
              else
                delete O[to];
            }
            for (k = len; k > len - actualDeleteCount + insertCount; k--)
              delete O[k - 1];
          } else if (insertCount > actualDeleteCount) {
            for (k = len - actualDeleteCount; k > actualStart; k--) {
              from = k + actualDeleteCount - 1;
              to = k + insertCount - 1;
              if (from in O)
                O[to] = O[from];
              else
                delete O[to];
            }
          }
          for (k = 0; k < insertCount; k++) {
            O[k + actualStart] = arguments[k + 2];
          }
          O.length = len - actualDeleteCount + insertCount;
          return A;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/set-species.js
  var require_set_species = __commonJS({
    "../../node_modules/core-js/internals/set-species.js": function(exports, module) {
      "use strict";
      var getBuiltIn = require_get_built_in();
      var definePropertyModule = require_object_define_property();
      var wellKnownSymbol = require_well_known_symbol();
      var DESCRIPTORS = require_descriptors();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(CONSTRUCTOR_NAME) {
        var Constructor = getBuiltIn(CONSTRUCTOR_NAME);
        var defineProperty = definePropertyModule.f;
        if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {
          defineProperty(Constructor, SPECIES, {
            configurable: true,
            get: function() {
              return this;
            }
          });
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array.species.js
  var require_es_array_species = __commonJS({
    "../../node_modules/core-js/modules/es.array.species.js": function() {
      var setSpecies = require_set_species();
      setSpecies("Array");
    }
  });

  // ../../node_modules/core-js/modules/es.array.unscopables.flat.js
  var require_es_array_unscopables_flat = __commonJS({
    "../../node_modules/core-js/modules/es.array.unscopables.flat.js": function() {
      var addToUnscopables = require_add_to_unscopables();
      addToUnscopables("flat");
    }
  });

  // ../../node_modules/core-js/modules/es.array.unscopables.flat-map.js
  var require_es_array_unscopables_flat_map = __commonJS({
    "../../node_modules/core-js/modules/es.array.unscopables.flat-map.js": function() {
      var addToUnscopables = require_add_to_unscopables();
      addToUnscopables("flatMap");
    }
  });

  // ../../node_modules/core-js/modules/es.array.iterator.js
  var require_es_array_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.array.iterator.js": function(exports, module) {
      "use strict";
      var toIndexedObject = require_to_indexed_object();
      var addToUnscopables = require_add_to_unscopables();
      var Iterators = require_iterators();
      var InternalStateModule = require_internal_state();
      var defineIterator = require_define_iterator();
      var ARRAY_ITERATOR = "Array Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);
      module.exports = defineIterator(Array, "Array", function(iterated, kind) {
        setInternalState(this, {
          type: ARRAY_ITERATOR,
          target: toIndexedObject(iterated),
          index: 0,
          kind: kind
        });
      }, function() {
        var state = getInternalState(this);
        var target = state.target;
        var kind = state.kind;
        var index = state.index++;
        if (!target || index >= target.length) {
          state.target = void 0;
          return { value: void 0, done: true };
        }
        if (kind == "keys")
          return { value: index, done: false };
        if (kind == "values")
          return { value: target[index], done: false };
        return { value: [index, target[index]], done: false };
      }, "values");
      Iterators.Arguments = Iterators.Array;
      addToUnscopables("keys");
      addToUnscopables("values");
      addToUnscopables("entries");
    }
  });

  // ../../node_modules/core-js/modules/es.string.from-code-point.js
  var require_es_string_from_code_point = __commonJS({
    "../../node_modules/core-js/modules/es.string.from-code-point.js": function() {
      var $ = require_export();
      var toAbsoluteIndex = require_to_absolute_index();
      var fromCharCode = String.fromCharCode;
      var nativeFromCodePoint = String.fromCodePoint;
      var INCORRECT_LENGTH = !!nativeFromCodePoint && nativeFromCodePoint.length != 1;
      $({ target: "String", stat: true, forced: INCORRECT_LENGTH }, {
        fromCodePoint: function fromCodePoint(x) {
          var elements = [];
          var length = arguments.length;
          var i = 0;
          var code;
          while (length > i) {
            code = +arguments[i++];
            if (toAbsoluteIndex(code, 1114111) !== code)
              throw RangeError(code + " is not a valid code point");
            elements.push(code < 65536 ? fromCharCode(code) : fromCharCode(((code -= 65536) >> 10) + 55296, code % 1024 + 56320));
          }
          return elements.join("");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.raw.js
  var require_es_string_raw = __commonJS({
    "../../node_modules/core-js/modules/es.string.raw.js": function() {
      var $ = require_export();
      var toIndexedObject = require_to_indexed_object();
      var toLength = require_to_length();
      $({ target: "String", stat: true }, {
        raw: function raw(template) {
          var rawTemplate = toIndexedObject(template.raw);
          var literalSegments = toLength(rawTemplate.length);
          var argumentsLength = arguments.length;
          var elements = [];
          var i = 0;
          while (literalSegments > i) {
            elements.push(String(rawTemplate[i++]));
            if (i < argumentsLength)
              elements.push(String(arguments[i]));
          }
          return elements.join("");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.code-point-at.js
  var require_es_string_code_point_at = __commonJS({
    "../../node_modules/core-js/modules/es.string.code-point-at.js": function() {
      "use strict";
      var $ = require_export();
      var codeAt = require_string_multibyte().codeAt;
      $({ target: "String", proto: true }, {
        codePointAt: function codePointAt(pos) {
          return codeAt(this, pos);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/is-regexp.js
  var require_is_regexp = __commonJS({
    "../../node_modules/core-js/internals/is-regexp.js": function(exports, module) {
      var isObject = require_is_object();
      var classof = require_classof_raw();
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      module.exports = function(it) {
        var isRegExp;
        return isObject(it) && ((isRegExp = it[MATCH]) !== void 0 ? !!isRegExp : classof(it) == "RegExp");
      };
    }
  });

  // ../../node_modules/core-js/internals/not-a-regexp.js
  var require_not_a_regexp = __commonJS({
    "../../node_modules/core-js/internals/not-a-regexp.js": function(exports, module) {
      var isRegExp = require_is_regexp();
      module.exports = function(it) {
        if (isRegExp(it)) {
          throw TypeError("The method doesn't accept regular expressions");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/correct-is-regexp-logic.js
  var require_correct_is_regexp_logic = __commonJS({
    "../../node_modules/core-js/internals/correct-is-regexp-logic.js": function(exports, module) {
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      module.exports = function(METHOD_NAME) {
        var regexp = /./;
        try {
          "/./"[METHOD_NAME](regexp);
        } catch (e) {
          try {
            regexp[MATCH] = false;
            return "/./"[METHOD_NAME](regexp);
          } catch (f) {
          }
        }
        return false;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.ends-with.js
  var require_es_string_ends_with = __commonJS({
    "../../node_modules/core-js/modules/es.string.ends-with.js": function() {
      "use strict";
      var $ = require_export();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var toLength = require_to_length();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      var IS_PURE = require_is_pure();
      var nativeEndsWith = "".endsWith;
      var min = Math.min;
      var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic("endsWith");
      var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function() {
        var descriptor = getOwnPropertyDescriptor(String.prototype, "endsWith");
        return descriptor && !descriptor.writable;
      }();
      $({ target: "String", proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
        endsWith: function endsWith(searchString) {
          var that = String(requireObjectCoercible(this));
          notARegExp(searchString);
          var endPosition = arguments.length > 1 ? arguments[1] : void 0;
          var len = toLength(that.length);
          var end = endPosition === void 0 ? len : min(toLength(endPosition), len);
          var search = String(searchString);
          return nativeEndsWith ? nativeEndsWith.call(that, search, end) : that.slice(end - search.length, end) === search;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.includes.js
  var require_es_string_includes = __commonJS({
    "../../node_modules/core-js/modules/es.string.includes.js": function() {
      "use strict";
      var $ = require_export();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      $({ target: "String", proto: true, forced: !correctIsRegExpLogic("includes") }, {
        includes: function includes(searchString) {
          return !!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/regexp-flags.js
  var require_regexp_flags = __commonJS({
    "../../node_modules/core-js/internals/regexp-flags.js": function(exports, module) {
      "use strict";
      var anObject = require_an_object();
      module.exports = function() {
        var that = anObject(this);
        var result = "";
        if (that.global)
          result += "g";
        if (that.ignoreCase)
          result += "i";
        if (that.multiline)
          result += "m";
        if (that.dotAll)
          result += "s";
        if (that.unicode)
          result += "u";
        if (that.sticky)
          result += "y";
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/regexp-sticky-helpers.js
  var require_regexp_sticky_helpers = __commonJS({
    "../../node_modules/core-js/internals/regexp-sticky-helpers.js": function(exports) {
      "use strict";
      var fails = require_fails();
      function RE(s, f) {
        return RegExp(s, f);
      }
      exports.UNSUPPORTED_Y = fails(function() {
        var re = RE("a", "y");
        re.lastIndex = 2;
        return re.exec("abcd") != null;
      });
      exports.BROKEN_CARET = fails(function() {
        var re = RE("^r", "gy");
        re.lastIndex = 2;
        return re.exec("str") != null;
      });
    }
  });

  // ../../node_modules/core-js/internals/regexp-exec.js
  var require_regexp_exec = __commonJS({
    "../../node_modules/core-js/internals/regexp-exec.js": function(exports, module) {
      "use strict";
      var regexpFlags = require_regexp_flags();
      var stickyHelpers = require_regexp_sticky_helpers();
      var nativeExec = RegExp.prototype.exec;
      var nativeReplace = String.prototype.replace;
      var patchedExec = nativeExec;
      var UPDATES_LAST_INDEX_WRONG = function() {
        var re1 = /a/;
        var re2 = /b*/g;
        nativeExec.call(re1, "a");
        nativeExec.call(re2, "a");
        return re1.lastIndex !== 0 || re2.lastIndex !== 0;
      }();
      var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;
      var NPCG_INCLUDED = /()??/.exec("")[1] !== void 0;
      var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;
      if (PATCH) {
        patchedExec = function exec(str) {
          var re = this;
          var lastIndex, reCopy, match, i;
          var sticky = UNSUPPORTED_Y && re.sticky;
          var flags = regexpFlags.call(re);
          var source = re.source;
          var charsAdded = 0;
          var strCopy = str;
          if (sticky) {
            flags = flags.replace("y", "");
            if (flags.indexOf("g") === -1) {
              flags += "g";
            }
            strCopy = String(str).slice(re.lastIndex);
            if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== "\n")) {
              source = "(?: " + source + ")";
              strCopy = " " + strCopy;
              charsAdded++;
            }
            reCopy = new RegExp("^(?:" + source + ")", flags);
          }
          if (NPCG_INCLUDED) {
            reCopy = new RegExp("^" + source + "$(?!\\s)", flags);
          }
          if (UPDATES_LAST_INDEX_WRONG)
            lastIndex = re.lastIndex;
          match = nativeExec.call(sticky ? reCopy : re, strCopy);
          if (sticky) {
            if (match) {
              match.input = match.input.slice(charsAdded);
              match[0] = match[0].slice(charsAdded);
              match.index = re.lastIndex;
              re.lastIndex += match[0].length;
            } else
              re.lastIndex = 0;
          } else if (UPDATES_LAST_INDEX_WRONG && match) {
            re.lastIndex = re.global ? match.index + match[0].length : lastIndex;
          }
          if (NPCG_INCLUDED && match && match.length > 1) {
            nativeReplace.call(match[0], reCopy, function() {
              for (i = 1; i < arguments.length - 2; i++) {
                if (arguments[i] === void 0)
                  match[i] = void 0;
              }
            });
          }
          return match;
        };
      }
      module.exports = patchedExec;
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.exec.js
  var require_es_regexp_exec = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.exec.js": function() {
      "use strict";
      var $ = require_export();
      var exec = require_regexp_exec();
      $({ target: "RegExp", proto: true, forced: /./.exec !== exec }, {
        exec: exec
      });
    }
  });

  // ../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js
  var require_fix_regexp_well_known_symbol_logic = __commonJS({
    "../../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js": function(exports, module) {
      "use strict";
      require_es_regexp_exec();
      var redefine = require_redefine();
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var regexpExec = require_regexp_exec();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var SPECIES = wellKnownSymbol("species");
      var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function() {
        var re = /./;
        re.exec = function() {
          var result = [];
          result.groups = { a: "7" };
          return result;
        };
        return "".replace(re, "$<a>") !== "7";
      });
      var REPLACE_KEEPS_$0 = function() {
        return "a".replace(/./, "$0") === "$0";
      }();
      var REPLACE = wellKnownSymbol("replace");
      var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = function() {
        if (/./[REPLACE]) {
          return /./[REPLACE]("a", "$0") === "";
        }
        return false;
      }();
      var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function() {
        var re = /(?:)/;
        var originalExec = re.exec;
        re.exec = function() {
          return originalExec.apply(this, arguments);
        };
        var result = "ab".split(re);
        return result.length !== 2 || result[0] !== "a" || result[1] !== "b";
      });
      module.exports = function(KEY, length, exec, sham) {
        var SYMBOL = wellKnownSymbol(KEY);
        var DELEGATES_TO_SYMBOL = !fails(function() {
          var O = {};
          O[SYMBOL] = function() {
            return 7;
          };
          return ""[KEY](O) != 7;
        });
        var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function() {
          var execCalled = false;
          var re = /a/;
          if (KEY === "split") {
            re = {};
            re.constructor = {};
            re.constructor[SPECIES] = function() {
              return re;
            };
            re.flags = "";
            re[SYMBOL] = /./[SYMBOL];
          }
          re.exec = function() {
            execCalled = true;
            return null;
          };
          re[SYMBOL]("");
          return !execCalled;
        });
        if (!DELEGATES_TO_SYMBOL || !DELEGATES_TO_EXEC || KEY === "replace" && !(REPLACE_SUPPORTS_NAMED_GROUPS && REPLACE_KEEPS_$0 && !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE) || KEY === "split" && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC) {
          var nativeRegExpMethod = /./[SYMBOL];
          var methods = exec(SYMBOL, ""[KEY], function(nativeMethod, regexp, str, arg2, forceStringMethod) {
            if (regexp.exec === regexpExec) {
              if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
                return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };
              }
              return { done: true, value: nativeMethod.call(str, regexp, arg2) };
            }
            return { done: false };
          }, {
            REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,
            REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE
          });
          var stringMethod = methods[0];
          var regexMethod = methods[1];
          redefine(String.prototype, KEY, stringMethod);
          redefine(RegExp.prototype, SYMBOL, length == 2 ? function(string, arg) {
            return regexMethod.call(string, this, arg);
          } : function(string) {
            return regexMethod.call(string, this);
          });
        }
        if (sham)
          createNonEnumerableProperty(RegExp.prototype[SYMBOL], "sham", true);
      };
    }
  });

  // ../../node_modules/core-js/internals/advance-string-index.js
  var require_advance_string_index = __commonJS({
    "../../node_modules/core-js/internals/advance-string-index.js": function(exports, module) {
      "use strict";
      var charAt = require_string_multibyte().charAt;
      module.exports = function(S, index, unicode) {
        return index + (unicode ? charAt(S, index).length : 1);
      };
    }
  });

  // ../../node_modules/core-js/internals/regexp-exec-abstract.js
  var require_regexp_exec_abstract = __commonJS({
    "../../node_modules/core-js/internals/regexp-exec-abstract.js": function(exports, module) {
      var classof = require_classof_raw();
      var regexpExec = require_regexp_exec();
      module.exports = function(R, S) {
        var exec = R.exec;
        if (typeof exec === "function") {
          var result = exec.call(R, S);
          if (typeof result !== "object") {
            throw TypeError("RegExp exec method returned something other than an Object or null");
          }
          return result;
        }
        if (classof(R) !== "RegExp") {
          throw TypeError("RegExp#exec called on incompatible receiver");
        }
        return regexpExec.call(R, S);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.match.js
  var require_es_string_match = __commonJS({
    "../../node_modules/core-js/modules/es.string.match.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var toLength = require_to_length();
      var requireObjectCoercible = require_require_object_coercible();
      var advanceStringIndex = require_advance_string_index();
      var regExpExec = require_regexp_exec_abstract();
      fixRegExpWellKnownSymbolLogic("match", 1, function(MATCH, nativeMatch, maybeCallNative) {
        return [
          function match(regexp) {
            var O = requireObjectCoercible(this);
            var matcher = regexp == void 0 ? void 0 : regexp[MATCH];
            return matcher !== void 0 ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
          },
          function(regexp) {
            var res = maybeCallNative(nativeMatch, regexp, this);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            if (!rx.global)
              return regExpExec(rx, S);
            var fullUnicode = rx.unicode;
            rx.lastIndex = 0;
            var A = [];
            var n = 0;
            var result;
            while ((result = regExpExec(rx, S)) !== null) {
              var matchStr = String(result[0]);
              A[n] = matchStr;
              if (matchStr === "")
                rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
              n++;
            }
            return n === 0 ? null : A;
          }
        ];
      });
    }
  });

  // ../../node_modules/core-js/internals/species-constructor.js
  var require_species_constructor = __commonJS({
    "../../node_modules/core-js/internals/species-constructor.js": function(exports, module) {
      var anObject = require_an_object();
      var aFunction = require_a_function();
      var wellKnownSymbol = require_well_known_symbol();
      var SPECIES = wellKnownSymbol("species");
      module.exports = function(O, defaultConstructor) {
        var C = anObject(O).constructor;
        var S;
        return C === void 0 || (S = anObject(C)[SPECIES]) == void 0 ? defaultConstructor : aFunction(S);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.match-all.js
  var require_es_string_match_all = __commonJS({
    "../../node_modules/core-js/modules/es.string.match-all.js": function() {
      "use strict";
      var $ = require_export();
      var createIteratorConstructor = require_create_iterator_constructor();
      var requireObjectCoercible = require_require_object_coercible();
      var toLength = require_to_length();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var classof = require_classof_raw();
      var isRegExp = require_is_regexp();
      var getRegExpFlags = require_regexp_flags();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var speciesConstructor = require_species_constructor();
      var advanceStringIndex = require_advance_string_index();
      var InternalStateModule = require_internal_state();
      var IS_PURE = require_is_pure();
      var MATCH_ALL = wellKnownSymbol("matchAll");
      var REGEXP_STRING = "RegExp String";
      var REGEXP_STRING_ITERATOR = REGEXP_STRING + " Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalState = InternalStateModule.getterFor(REGEXP_STRING_ITERATOR);
      var RegExpPrototype = RegExp.prototype;
      var regExpBuiltinExec = RegExpPrototype.exec;
      var nativeMatchAll = "".matchAll;
      var WORKS_WITH_NON_GLOBAL_REGEX = !!nativeMatchAll && !fails(function() {
        "a".matchAll(/./);
      });
      var regExpExec = function(R, S) {
        var exec = R.exec;
        var result;
        if (typeof exec == "function") {
          result = exec.call(R, S);
          if (typeof result != "object")
            throw TypeError("Incorrect exec result");
          return result;
        }
        return regExpBuiltinExec.call(R, S);
      };
      var $RegExpStringIterator = createIteratorConstructor(function RegExpStringIterator(regexp, string, global2, fullUnicode) {
        setInternalState(this, {
          type: REGEXP_STRING_ITERATOR,
          regexp: regexp,
          string: string,
          global: global2,
          unicode: fullUnicode,
          done: false
        });
      }, REGEXP_STRING, function next() {
        var state = getInternalState(this);
        if (state.done)
          return { value: void 0, done: true };
        var R = state.regexp;
        var S = state.string;
        var match = regExpExec(R, S);
        if (match === null)
          return { value: void 0, done: state.done = true };
        if (state.global) {
          if (String(match[0]) == "")
            R.lastIndex = advanceStringIndex(S, toLength(R.lastIndex), state.unicode);
          return { value: match, done: false };
        }
        state.done = true;
        return { value: match, done: false };
      });
      var $matchAll = function(string) {
        var R = anObject(this);
        var S = String(string);
        var C, flagsValue, flags, matcher, global2, fullUnicode;
        C = speciesConstructor(R, RegExp);
        flagsValue = R.flags;
        if (flagsValue === void 0 && R instanceof RegExp && !("flags" in RegExpPrototype)) {
          flagsValue = getRegExpFlags.call(R);
        }
        flags = flagsValue === void 0 ? "" : String(flagsValue);
        matcher = new C(C === RegExp ? R.source : R, flags);
        global2 = !!~flags.indexOf("g");
        fullUnicode = !!~flags.indexOf("u");
        matcher.lastIndex = toLength(R.lastIndex);
        return new $RegExpStringIterator(matcher, S, global2, fullUnicode);
      };
      $({ target: "String", proto: true, forced: WORKS_WITH_NON_GLOBAL_REGEX }, {
        matchAll: function matchAll(regexp) {
          var O = requireObjectCoercible(this);
          var flags, S, matcher, rx;
          if (regexp != null) {
            if (isRegExp(regexp)) {
              flags = String(requireObjectCoercible("flags" in RegExpPrototype ? regexp.flags : getRegExpFlags.call(regexp)));
              if (!~flags.indexOf("g"))
                throw TypeError("`.matchAll` does not allow non-global regexes");
            }
            if (WORKS_WITH_NON_GLOBAL_REGEX)
              return nativeMatchAll.apply(O, arguments);
            matcher = regexp[MATCH_ALL];
            if (matcher === void 0 && IS_PURE && classof(regexp) == "RegExp")
              matcher = $matchAll;
            if (matcher != null)
              return aFunction(matcher).call(regexp, O);
          } else if (WORKS_WITH_NON_GLOBAL_REGEX)
            return nativeMatchAll.apply(O, arguments);
          S = String(O);
          rx = new RegExp(regexp, "g");
          return IS_PURE ? $matchAll.call(rx, S) : rx[MATCH_ALL](S);
        }
      });
      IS_PURE || MATCH_ALL in RegExpPrototype || createNonEnumerableProperty(RegExpPrototype, MATCH_ALL, $matchAll);
    }
  });

  // ../../node_modules/core-js/internals/string-repeat.js
  var require_string_repeat = __commonJS({
    "../../node_modules/core-js/internals/string-repeat.js": function(exports, module) {
      "use strict";
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      module.exports = "".repeat || function repeat(count) {
        var str = String(requireObjectCoercible(this));
        var result = "";
        var n = toInteger(count);
        if (n < 0 || n == Infinity)
          throw RangeError("Wrong number of repetitions");
        for (; n > 0; (n >>>= 1) && (str += str))
          if (n & 1)
            result += str;
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/string-pad.js
  var require_string_pad = __commonJS({
    "../../node_modules/core-js/internals/string-pad.js": function(exports, module) {
      var toLength = require_to_length();
      var repeat = require_string_repeat();
      var requireObjectCoercible = require_require_object_coercible();
      var ceil = Math.ceil;
      var createMethod = function(IS_END) {
        return function($this, maxLength, fillString) {
          var S = String(requireObjectCoercible($this));
          var stringLength = S.length;
          var fillStr = fillString === void 0 ? " " : String(fillString);
          var intMaxLength = toLength(maxLength);
          var fillLen, stringFiller;
          if (intMaxLength <= stringLength || fillStr == "")
            return S;
          fillLen = intMaxLength - stringLength;
          stringFiller = repeat.call(fillStr, ceil(fillLen / fillStr.length));
          if (stringFiller.length > fillLen)
            stringFiller = stringFiller.slice(0, fillLen);
          return IS_END ? S + stringFiller : stringFiller + S;
        };
      };
      module.exports = {
        start: createMethod(false),
        end: createMethod(true)
      };
    }
  });

  // ../../node_modules/core-js/internals/string-pad-webkit-bug.js
  var require_string_pad_webkit_bug = __commonJS({
    "../../node_modules/core-js/internals/string-pad-webkit-bug.js": function(exports, module) {
      var userAgent = require_engine_user_agent();
      module.exports = /Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);
    }
  });

  // ../../node_modules/core-js/modules/es.string.pad-end.js
  var require_es_string_pad_end = __commonJS({
    "../../node_modules/core-js/modules/es.string.pad-end.js": function() {
      "use strict";
      var $ = require_export();
      var $padEnd = require_string_pad().end;
      var WEBKIT_BUG = require_string_pad_webkit_bug();
      $({ target: "String", proto: true, forced: WEBKIT_BUG }, {
        padEnd: function padEnd(maxLength) {
          return $padEnd(this, maxLength, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.pad-start.js
  var require_es_string_pad_start = __commonJS({
    "../../node_modules/core-js/modules/es.string.pad-start.js": function() {
      "use strict";
      var $ = require_export();
      var $padStart = require_string_pad().start;
      var WEBKIT_BUG = require_string_pad_webkit_bug();
      $({ target: "String", proto: true, forced: WEBKIT_BUG }, {
        padStart: function padStart(maxLength) {
          return $padStart(this, maxLength, arguments.length > 1 ? arguments[1] : void 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.repeat.js
  var require_es_string_repeat = __commonJS({
    "../../node_modules/core-js/modules/es.string.repeat.js": function() {
      var $ = require_export();
      var repeat = require_string_repeat();
      $({ target: "String", proto: true }, {
        repeat: repeat
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.replace.js
  var require_es_string_replace = __commonJS({
    "../../node_modules/core-js/modules/es.string.replace.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var toObject = require_to_object();
      var toLength = require_to_length();
      var toInteger = require_to_integer();
      var requireObjectCoercible = require_require_object_coercible();
      var advanceStringIndex = require_advance_string_index();
      var regExpExec = require_regexp_exec_abstract();
      var max = Math.max;
      var min = Math.min;
      var floor = Math.floor;
      var SUBSTITUTION_SYMBOLS = /\$([$&'`]|\d\d?|<[^>]*>)/g;
      var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&'`]|\d\d?)/g;
      var maybeToString = function(it) {
        return it === void 0 ? it : String(it);
      };
      fixRegExpWellKnownSymbolLogic("replace", 2, function(REPLACE, nativeReplace, maybeCallNative, reason) {
        var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;
        var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;
        var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? "$" : "$0";
        return [
          function replace(searchValue, replaceValue) {
            var O = requireObjectCoercible(this);
            var replacer = searchValue == void 0 ? void 0 : searchValue[REPLACE];
            return replacer !== void 0 ? replacer.call(searchValue, O, replaceValue) : nativeReplace.call(String(O), searchValue, replaceValue);
          },
          function(regexp, replaceValue) {
            if (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0 || typeof replaceValue === "string" && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1) {
              var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);
              if (res.done)
                return res.value;
            }
            var rx = anObject(regexp);
            var S = String(this);
            var functionalReplace = typeof replaceValue === "function";
            if (!functionalReplace)
              replaceValue = String(replaceValue);
            var global2 = rx.global;
            if (global2) {
              var fullUnicode = rx.unicode;
              rx.lastIndex = 0;
            }
            var results = [];
            while (true) {
              var result = regExpExec(rx, S);
              if (result === null)
                break;
              results.push(result);
              if (!global2)
                break;
              var matchStr = String(result[0]);
              if (matchStr === "")
                rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
            }
            var accumulatedResult = "";
            var nextSourcePosition = 0;
            for (var i = 0; i < results.length; i++) {
              result = results[i];
              var matched = String(result[0]);
              var position = max(min(toInteger(result.index), S.length), 0);
              var captures = [];
              for (var j = 1; j < result.length; j++)
                captures.push(maybeToString(result[j]));
              var namedCaptures = result.groups;
              if (functionalReplace) {
                var replacerArgs = [matched].concat(captures, position, S);
                if (namedCaptures !== void 0)
                  replacerArgs.push(namedCaptures);
                var replacement = String(replaceValue.apply(void 0, replacerArgs));
              } else {
                replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
              }
              if (position >= nextSourcePosition) {
                accumulatedResult += S.slice(nextSourcePosition, position) + replacement;
                nextSourcePosition = position + matched.length;
              }
            }
            return accumulatedResult + S.slice(nextSourcePosition);
          }
        ];
        function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {
          var tailPos = position + matched.length;
          var m = captures.length;
          var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
          if (namedCaptures !== void 0) {
            namedCaptures = toObject(namedCaptures);
            symbols = SUBSTITUTION_SYMBOLS;
          }
          return nativeReplace.call(replacement, symbols, function(match, ch) {
            var capture;
            switch (ch.charAt(0)) {
              case "$":
                return "$";
              case "&":
                return matched;
              case "`":
                return str.slice(0, position);
              case "'":
                return str.slice(tailPos);
              case "<":
                capture = namedCaptures[ch.slice(1, -1)];
                break;
              default:
                var n = +ch;
                if (n === 0)
                  return match;
                if (n > m) {
                  var f = floor(n / 10);
                  if (f === 0)
                    return match;
                  if (f <= m)
                    return captures[f - 1] === void 0 ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);
                  return match;
                }
                capture = captures[n - 1];
            }
            return capture === void 0 ? "" : capture;
          });
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.search.js
  var require_es_string_search = __commonJS({
    "../../node_modules/core-js/modules/es.string.search.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var anObject = require_an_object();
      var requireObjectCoercible = require_require_object_coercible();
      var sameValue = require_same_value();
      var regExpExec = require_regexp_exec_abstract();
      fixRegExpWellKnownSymbolLogic("search", 1, function(SEARCH, nativeSearch, maybeCallNative) {
        return [
          function search(regexp) {
            var O = requireObjectCoercible(this);
            var searcher = regexp == void 0 ? void 0 : regexp[SEARCH];
            return searcher !== void 0 ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));
          },
          function(regexp) {
            var res = maybeCallNative(nativeSearch, regexp, this);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            var previousLastIndex = rx.lastIndex;
            if (!sameValue(previousLastIndex, 0))
              rx.lastIndex = 0;
            var result = regExpExec(rx, S);
            if (!sameValue(rx.lastIndex, previousLastIndex))
              rx.lastIndex = previousLastIndex;
            return result === null ? -1 : result.index;
          }
        ];
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.split.js
  var require_es_string_split = __commonJS({
    "../../node_modules/core-js/modules/es.string.split.js": function() {
      "use strict";
      var fixRegExpWellKnownSymbolLogic = require_fix_regexp_well_known_symbol_logic();
      var isRegExp = require_is_regexp();
      var anObject = require_an_object();
      var requireObjectCoercible = require_require_object_coercible();
      var speciesConstructor = require_species_constructor();
      var advanceStringIndex = require_advance_string_index();
      var toLength = require_to_length();
      var callRegExpExec = require_regexp_exec_abstract();
      var regexpExec = require_regexp_exec();
      var fails = require_fails();
      var arrayPush = [].push;
      var min = Math.min;
      var MAX_UINT32 = 4294967295;
      var SUPPORTS_Y = !fails(function() {
        return !RegExp(MAX_UINT32, "y");
      });
      fixRegExpWellKnownSymbolLogic("split", 2, function(SPLIT, nativeSplit, maybeCallNative) {
        var internalSplit;
        if ("abbc".split(/(b)*/)[1] == "c" || "test".split(/(?:)/, -1).length != 4 || "ab".split(/(?:ab)*/).length != 2 || ".".split(/(.?)(.?)/).length != 4 || ".".split(/()()/).length > 1 || "".split(/.?/).length) {
          internalSplit = function(separator, limit) {
            var string = String(requireObjectCoercible(this));
            var lim = limit === void 0 ? MAX_UINT32 : limit >>> 0;
            if (lim === 0)
              return [];
            if (separator === void 0)
              return [string];
            if (!isRegExp(separator)) {
              return nativeSplit.call(string, separator, lim);
            }
            var output = [];
            var flags = (separator.ignoreCase ? "i" : "") + (separator.multiline ? "m" : "") + (separator.unicode ? "u" : "") + (separator.sticky ? "y" : "");
            var lastLastIndex = 0;
            var separatorCopy = new RegExp(separator.source, flags + "g");
            var match, lastIndex, lastLength;
            while (match = regexpExec.call(separatorCopy, string)) {
              lastIndex = separatorCopy.lastIndex;
              if (lastIndex > lastLastIndex) {
                output.push(string.slice(lastLastIndex, match.index));
                if (match.length > 1 && match.index < string.length)
                  arrayPush.apply(output, match.slice(1));
                lastLength = match[0].length;
                lastLastIndex = lastIndex;
                if (output.length >= lim)
                  break;
              }
              if (separatorCopy.lastIndex === match.index)
                separatorCopy.lastIndex++;
            }
            if (lastLastIndex === string.length) {
              if (lastLength || !separatorCopy.test(""))
                output.push("");
            } else
              output.push(string.slice(lastLastIndex));
            return output.length > lim ? output.slice(0, lim) : output;
          };
        } else if ("0".split(void 0, 0).length) {
          internalSplit = function(separator, limit) {
            return separator === void 0 && limit === 0 ? [] : nativeSplit.call(this, separator, limit);
          };
        } else
          internalSplit = nativeSplit;
        return [
          function split(separator, limit) {
            var O = requireObjectCoercible(this);
            var splitter = separator == void 0 ? void 0 : separator[SPLIT];
            return splitter !== void 0 ? splitter.call(separator, O, limit) : internalSplit.call(String(O), separator, limit);
          },
          function(regexp, limit) {
            var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);
            if (res.done)
              return res.value;
            var rx = anObject(regexp);
            var S = String(this);
            var C = speciesConstructor(rx, RegExp);
            var unicodeMatching = rx.unicode;
            var flags = (rx.ignoreCase ? "i" : "") + (rx.multiline ? "m" : "") + (rx.unicode ? "u" : "") + (SUPPORTS_Y ? "y" : "g");
            var splitter = new C(SUPPORTS_Y ? rx : "^(?:" + rx.source + ")", flags);
            var lim = limit === void 0 ? MAX_UINT32 : limit >>> 0;
            if (lim === 0)
              return [];
            if (S.length === 0)
              return callRegExpExec(splitter, S) === null ? [S] : [];
            var p = 0;
            var q = 0;
            var A = [];
            while (q < S.length) {
              splitter.lastIndex = SUPPORTS_Y ? q : 0;
              var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));
              var e;
              if (z === null || (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p) {
                q = advanceStringIndex(S, q, unicodeMatching);
              } else {
                A.push(S.slice(p, q));
                if (A.length === lim)
                  return A;
                for (var i = 1; i <= z.length - 1; i++) {
                  A.push(z[i]);
                  if (A.length === lim)
                    return A;
                }
                q = p = e;
              }
            }
            A.push(S.slice(p));
            return A;
          }
        ];
      }, !SUPPORTS_Y);
    }
  });

  // ../../node_modules/core-js/modules/es.string.starts-with.js
  var require_es_string_starts_with = __commonJS({
    "../../node_modules/core-js/modules/es.string.starts-with.js": function() {
      "use strict";
      var $ = require_export();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var toLength = require_to_length();
      var notARegExp = require_not_a_regexp();
      var requireObjectCoercible = require_require_object_coercible();
      var correctIsRegExpLogic = require_correct_is_regexp_logic();
      var IS_PURE = require_is_pure();
      var nativeStartsWith = "".startsWith;
      var min = Math.min;
      var CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic("startsWith");
      var MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function() {
        var descriptor = getOwnPropertyDescriptor(String.prototype, "startsWith");
        return descriptor && !descriptor.writable;
      }();
      $({ target: "String", proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {
        startsWith: function startsWith(searchString) {
          var that = String(requireObjectCoercible(this));
          notARegExp(searchString);
          var index = toLength(min(arguments.length > 1 ? arguments[1] : void 0, that.length));
          var search = String(searchString);
          return nativeStartsWith ? nativeStartsWith.call(that, search, index) : that.slice(index, index + search.length) === search;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/whitespaces.js
  var require_whitespaces = __commonJS({
    "../../node_modules/core-js/internals/whitespaces.js": function(exports, module) {
      module.exports = "	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";
    }
  });

  // ../../node_modules/core-js/internals/string-trim.js
  var require_string_trim = __commonJS({
    "../../node_modules/core-js/internals/string-trim.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      var whitespaces = require_whitespaces();
      var whitespace = "[" + whitespaces + "]";
      var ltrim = RegExp("^" + whitespace + whitespace + "*");
      var rtrim = RegExp(whitespace + whitespace + "*$");
      var createMethod = function(TYPE) {
        return function($this) {
          var string = String(requireObjectCoercible($this));
          if (TYPE & 1)
            string = string.replace(ltrim, "");
          if (TYPE & 2)
            string = string.replace(rtrim, "");
          return string;
        };
      };
      module.exports = {
        start: createMethod(1),
        end: createMethod(2),
        trim: createMethod(3)
      };
    }
  });

  // ../../node_modules/core-js/internals/string-trim-forced.js
  var require_string_trim_forced = __commonJS({
    "../../node_modules/core-js/internals/string-trim-forced.js": function(exports, module) {
      var fails = require_fails();
      var whitespaces = require_whitespaces();
      var non = "\u200B\x85\u180E";
      module.exports = function(METHOD_NAME) {
        return fails(function() {
          return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim.js
  var require_es_string_trim = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim.js": function() {
      "use strict";
      var $ = require_export();
      var $trim = require_string_trim().trim;
      var forcedStringTrimMethod = require_string_trim_forced();
      $({ target: "String", proto: true, forced: forcedStringTrimMethod("trim") }, {
        trim: function trim() {
          return $trim(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim-start.js
  var require_es_string_trim_start = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim-start.js": function() {
      "use strict";
      var $ = require_export();
      var $trimStart = require_string_trim().start;
      var forcedStringTrimMethod = require_string_trim_forced();
      var FORCED = forcedStringTrimMethod("trimStart");
      var trimStart = FORCED ? function trimStart2() {
        return $trimStart(this);
      } : "".trimStart;
      $({ target: "String", proto: true, forced: FORCED }, {
        trimStart: trimStart,
        trimLeft: trimStart
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.trim-end.js
  var require_es_string_trim_end = __commonJS({
    "../../node_modules/core-js/modules/es.string.trim-end.js": function() {
      "use strict";
      var $ = require_export();
      var $trimEnd = require_string_trim().end;
      var forcedStringTrimMethod = require_string_trim_forced();
      var FORCED = forcedStringTrimMethod("trimEnd");
      var trimEnd = FORCED ? function trimEnd2() {
        return $trimEnd(this);
      } : "".trimEnd;
      $({ target: "String", proto: true, forced: FORCED }, {
        trimEnd: trimEnd,
        trimRight: trimEnd
      });
    }
  });

  // ../../node_modules/core-js/internals/create-html.js
  var require_create_html = __commonJS({
    "../../node_modules/core-js/internals/create-html.js": function(exports, module) {
      var requireObjectCoercible = require_require_object_coercible();
      var quot = /"/g;
      module.exports = function(string, tag, attribute, value) {
        var S = String(requireObjectCoercible(string));
        var p1 = "<" + tag;
        if (attribute !== "")
          p1 += " " + attribute + '="' + String(value).replace(quot, "&quot;") + '"';
        return p1 + ">" + S + "</" + tag + ">";
      };
    }
  });

  // ../../node_modules/core-js/internals/string-html-forced.js
  var require_string_html_forced = __commonJS({
    "../../node_modules/core-js/internals/string-html-forced.js": function(exports, module) {
      var fails = require_fails();
      module.exports = function(METHOD_NAME) {
        return fails(function() {
          var test = ""[METHOD_NAME]('"');
          return test !== test.toLowerCase() || test.split('"').length > 3;
        });
      };
    }
  });

  // ../../node_modules/core-js/modules/es.string.anchor.js
  var require_es_string_anchor = __commonJS({
    "../../node_modules/core-js/modules/es.string.anchor.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("anchor") }, {
        anchor: function anchor(name) {
          return createHTML(this, "a", "name", name);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.big.js
  var require_es_string_big = __commonJS({
    "../../node_modules/core-js/modules/es.string.big.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("big") }, {
        big: function big() {
          return createHTML(this, "big", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.blink.js
  var require_es_string_blink = __commonJS({
    "../../node_modules/core-js/modules/es.string.blink.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("blink") }, {
        blink: function blink() {
          return createHTML(this, "blink", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.bold.js
  var require_es_string_bold = __commonJS({
    "../../node_modules/core-js/modules/es.string.bold.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("bold") }, {
        bold: function bold() {
          return createHTML(this, "b", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fixed.js
  var require_es_string_fixed = __commonJS({
    "../../node_modules/core-js/modules/es.string.fixed.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fixed") }, {
        fixed: function fixed() {
          return createHTML(this, "tt", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fontcolor.js
  var require_es_string_fontcolor = __commonJS({
    "../../node_modules/core-js/modules/es.string.fontcolor.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fontcolor") }, {
        fontcolor: function fontcolor(color) {
          return createHTML(this, "font", "color", color);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.fontsize.js
  var require_es_string_fontsize = __commonJS({
    "../../node_modules/core-js/modules/es.string.fontsize.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("fontsize") }, {
        fontsize: function fontsize(size) {
          return createHTML(this, "font", "size", size);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.italics.js
  var require_es_string_italics = __commonJS({
    "../../node_modules/core-js/modules/es.string.italics.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("italics") }, {
        italics: function italics() {
          return createHTML(this, "i", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.link.js
  var require_es_string_link = __commonJS({
    "../../node_modules/core-js/modules/es.string.link.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("link") }, {
        link: function link(url) {
          return createHTML(this, "a", "href", url);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.small.js
  var require_es_string_small = __commonJS({
    "../../node_modules/core-js/modules/es.string.small.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("small") }, {
        small: function small() {
          return createHTML(this, "small", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.strike.js
  var require_es_string_strike = __commonJS({
    "../../node_modules/core-js/modules/es.string.strike.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("strike") }, {
        strike: function strike() {
          return createHTML(this, "strike", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.sub.js
  var require_es_string_sub = __commonJS({
    "../../node_modules/core-js/modules/es.string.sub.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("sub") }, {
        sub: function sub() {
          return createHTML(this, "sub", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.string.sup.js
  var require_es_string_sup = __commonJS({
    "../../node_modules/core-js/modules/es.string.sup.js": function() {
      "use strict";
      var $ = require_export();
      var createHTML = require_create_html();
      var forcedStringHTMLMethod = require_string_html_forced();
      $({ target: "String", proto: true, forced: forcedStringHTMLMethod("sup") }, {
        sup: function sup() {
          return createHTML(this, "sup", "", "");
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/inherit-if-required.js
  var require_inherit_if_required = __commonJS({
    "../../node_modules/core-js/internals/inherit-if-required.js": function(exports, module) {
      var isObject = require_is_object();
      var setPrototypeOf = require_object_set_prototype_of();
      module.exports = function($this, dummy, Wrapper) {
        var NewTarget, NewTargetPrototype;
        if (setPrototypeOf && typeof (NewTarget = dummy.constructor) == "function" && NewTarget !== Wrapper && isObject(NewTargetPrototype = NewTarget.prototype) && NewTargetPrototype !== Wrapper.prototype)
          setPrototypeOf($this, NewTargetPrototype);
        return $this;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.constructor.js
  var require_es_regexp_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.constructor.js": function() {
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isForced = require_is_forced();
      var inheritIfRequired = require_inherit_if_required();
      var defineProperty = require_object_define_property().f;
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var isRegExp = require_is_regexp();
      var getFlags = require_regexp_flags();
      var stickyHelpers = require_regexp_sticky_helpers();
      var redefine = require_redefine();
      var fails = require_fails();
      var setInternalState = require_internal_state().set;
      var setSpecies = require_set_species();
      var wellKnownSymbol = require_well_known_symbol();
      var MATCH = wellKnownSymbol("match");
      var NativeRegExp = global2.RegExp;
      var RegExpPrototype = NativeRegExp.prototype;
      var re1 = /a/g;
      var re2 = /a/g;
      var CORRECT_NEW = new NativeRegExp(re1) !== re1;
      var UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;
      var FORCED = DESCRIPTORS && isForced("RegExp", !CORRECT_NEW || UNSUPPORTED_Y || fails(function() {
        re2[MATCH] = false;
        return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, "i") != "/a/i";
      }));
      if (FORCED) {
        RegExpWrapper = function RegExp2(pattern, flags) {
          var thisIsRegExp = this instanceof RegExpWrapper;
          var patternIsRegExp = isRegExp(pattern);
          var flagsAreUndefined = flags === void 0;
          var sticky;
          if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {
            return pattern;
          }
          if (CORRECT_NEW) {
            if (patternIsRegExp && !flagsAreUndefined)
              pattern = pattern.source;
          } else if (pattern instanceof RegExpWrapper) {
            if (flagsAreUndefined)
              flags = getFlags.call(pattern);
            pattern = pattern.source;
          }
          if (UNSUPPORTED_Y) {
            sticky = !!flags && flags.indexOf("y") > -1;
            if (sticky)
              flags = flags.replace(/y/g, "");
          }
          var result = inheritIfRequired(CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags), thisIsRegExp ? this : RegExpPrototype, RegExpWrapper);
          if (UNSUPPORTED_Y && sticky)
            setInternalState(result, { sticky: sticky });
          return result;
        };
        proxy = function(key) {
          key in RegExpWrapper || defineProperty(RegExpWrapper, key, {
            configurable: true,
            get: function() {
              return NativeRegExp[key];
            },
            set: function(it) {
              NativeRegExp[key] = it;
            }
          });
        };
        keys = getOwnPropertyNames(NativeRegExp);
        index = 0;
        while (keys.length > index)
          proxy(keys[index++]);
        RegExpPrototype.constructor = RegExpWrapper;
        RegExpWrapper.prototype = RegExpPrototype;
        redefine(global2, "RegExp", RegExpWrapper);
      }
      var RegExpWrapper;
      var proxy;
      var keys;
      var index;
      setSpecies("RegExp");
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.flags.js
  var require_es_regexp_flags = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.flags.js": function() {
      var DESCRIPTORS = require_descriptors();
      var objectDefinePropertyModule = require_object_define_property();
      var regExpFlags = require_regexp_flags();
      var UNSUPPORTED_Y = require_regexp_sticky_helpers().UNSUPPORTED_Y;
      if (DESCRIPTORS && (/./g.flags != "g" || UNSUPPORTED_Y)) {
        objectDefinePropertyModule.f(RegExp.prototype, "flags", {
          configurable: true,
          get: regExpFlags
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.sticky.js
  var require_es_regexp_sticky = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.sticky.js": function() {
      var DESCRIPTORS = require_descriptors();
      var UNSUPPORTED_Y = require_regexp_sticky_helpers().UNSUPPORTED_Y;
      var defineProperty = require_object_define_property().f;
      var getInternalState = require_internal_state().get;
      var RegExpPrototype = RegExp.prototype;
      if (DESCRIPTORS && UNSUPPORTED_Y) {
        defineProperty(RegExp.prototype, "sticky", {
          configurable: true,
          get: function() {
            if (this === RegExpPrototype)
              return void 0;
            if (this instanceof RegExp) {
              return !!getInternalState(this).sticky;
            }
            throw TypeError("Incompatible receiver, RegExp required");
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.test.js
  var require_es_regexp_test = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.test.js": function() {
      "use strict";
      require_es_regexp_exec();
      var $ = require_export();
      var isObject = require_is_object();
      var DELEGATES_TO_EXEC = function() {
        var execCalled = false;
        var re = /[ac]/;
        re.exec = function() {
          execCalled = true;
          return /./.exec.apply(this, arguments);
        };
        return re.test("abc") === true && execCalled;
      }();
      var nativeTest = /./.test;
      $({ target: "RegExp", proto: true, forced: !DELEGATES_TO_EXEC }, {
        test: function(str) {
          if (typeof this.exec !== "function") {
            return nativeTest.call(this, str);
          }
          var result = this.exec(str);
          if (result !== null && !isObject(result)) {
            throw new Error("RegExp exec method returned something other than an Object or null");
          }
          return !!result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.regexp.to-string.js
  var require_es_regexp_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.regexp.to-string.js": function() {
      "use strict";
      var redefine = require_redefine();
      var anObject = require_an_object();
      var fails = require_fails();
      var flags = require_regexp_flags();
      var TO_STRING = "toString";
      var RegExpPrototype = RegExp.prototype;
      var nativeToString = RegExpPrototype[TO_STRING];
      var NOT_GENERIC = fails(function() {
        return nativeToString.call({ source: "a", flags: "b" }) != "/a/b";
      });
      var INCORRECT_NAME = nativeToString.name != TO_STRING;
      if (NOT_GENERIC || INCORRECT_NAME) {
        redefine(RegExp.prototype, TO_STRING, function toString() {
          var R = anObject(this);
          var p = String(R.source);
          var rf = R.flags;
          var f = String(rf === void 0 && R instanceof RegExp && !("flags" in RegExpPrototype) ? flags.call(R) : rf);
          return "/" + p + "/" + f;
        }, { unsafe: true });
      }
    }
  });

  // ../../node_modules/core-js/internals/number-parse-int.js
  var require_number_parse_int = __commonJS({
    "../../node_modules/core-js/internals/number-parse-int.js": function(exports, module) {
      var global2 = require_global();
      var trim = require_string_trim().trim;
      var whitespaces = require_whitespaces();
      var $parseInt = global2.parseInt;
      var hex = /^[+-]?0[Xx]/;
      var FORCED = $parseInt(whitespaces + "08") !== 8 || $parseInt(whitespaces + "0x16") !== 22;
      module.exports = FORCED ? function parseInt2(string, radix) {
        var S = trim(String(string));
        return $parseInt(S, radix >>> 0 || (hex.test(S) ? 16 : 10));
      } : $parseInt;
    }
  });

  // ../../node_modules/core-js/modules/es.parse-int.js
  var require_es_parse_int = __commonJS({
    "../../node_modules/core-js/modules/es.parse-int.js": function() {
      var $ = require_export();
      var parseIntImplementation = require_number_parse_int();
      $({ global: true, forced: parseInt != parseIntImplementation }, {
        parseInt: parseIntImplementation
      });
    }
  });

  // ../../node_modules/core-js/internals/number-parse-float.js
  var require_number_parse_float = __commonJS({
    "../../node_modules/core-js/internals/number-parse-float.js": function(exports, module) {
      var global2 = require_global();
      var trim = require_string_trim().trim;
      var whitespaces = require_whitespaces();
      var $parseFloat = global2.parseFloat;
      var FORCED = 1 / $parseFloat(whitespaces + "-0") !== -Infinity;
      module.exports = FORCED ? function parseFloat2(string) {
        var trimmedString = trim(String(string));
        var result = $parseFloat(trimmedString);
        return result === 0 && trimmedString.charAt(0) == "-" ? -0 : result;
      } : $parseFloat;
    }
  });

  // ../../node_modules/core-js/modules/es.parse-float.js
  var require_es_parse_float = __commonJS({
    "../../node_modules/core-js/modules/es.parse-float.js": function() {
      var $ = require_export();
      var parseFloatImplementation = require_number_parse_float();
      $({ global: true, forced: parseFloat != parseFloatImplementation }, {
        parseFloat: parseFloatImplementation
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.constructor.js
  var require_es_number_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.number.constructor.js": function() {
      "use strict";
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isForced = require_is_forced();
      var redefine = require_redefine();
      var has = require_has();
      var classof = require_classof_raw();
      var inheritIfRequired = require_inherit_if_required();
      var toPrimitive = require_to_primitive();
      var fails = require_fails();
      var create = require_object_create();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var defineProperty = require_object_define_property().f;
      var trim = require_string_trim().trim;
      var NUMBER = "Number";
      var NativeNumber = global2[NUMBER];
      var NumberPrototype = NativeNumber.prototype;
      var BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;
      var toNumber = function(argument) {
        var it = toPrimitive(argument, false);
        var first, third, radix, maxCode, digits, length, index, code;
        if (typeof it == "string" && it.length > 2) {
          it = trim(it);
          first = it.charCodeAt(0);
          if (first === 43 || first === 45) {
            third = it.charCodeAt(2);
            if (third === 88 || third === 120)
              return NaN;
          } else if (first === 48) {
            switch (it.charCodeAt(1)) {
              case 66:
              case 98:
                radix = 2;
                maxCode = 49;
                break;
              case 79:
              case 111:
                radix = 8;
                maxCode = 55;
                break;
              default:
                return +it;
            }
            digits = it.slice(2);
            length = digits.length;
            for (index = 0; index < length; index++) {
              code = digits.charCodeAt(index);
              if (code < 48 || code > maxCode)
                return NaN;
            }
            return parseInt(digits, radix);
          }
        }
        return +it;
      };
      if (isForced(NUMBER, !NativeNumber(" 0o1") || !NativeNumber("0b1") || NativeNumber("+0x1"))) {
        NumberWrapper = function Number2(value) {
          var it = arguments.length < 1 ? 0 : value;
          var dummy = this;
          return dummy instanceof NumberWrapper && (BROKEN_CLASSOF ? fails(function() {
            NumberPrototype.valueOf.call(dummy);
          }) : classof(dummy) != NUMBER) ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);
        };
        for (keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), j = 0; keys.length > j; j++) {
          if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {
            defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));
          }
        }
        NumberWrapper.prototype = NumberPrototype;
        NumberPrototype.constructor = NumberWrapper;
        redefine(global2, NUMBER, NumberWrapper);
      }
      var NumberWrapper;
      var keys;
      var j;
      var key;
    }
  });

  // ../../node_modules/core-js/modules/es.number.epsilon.js
  var require_es_number_epsilon = __commonJS({
    "../../node_modules/core-js/modules/es.number.epsilon.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        EPSILON: Math.pow(2, -52)
      });
    }
  });

  // ../../node_modules/core-js/internals/number-is-finite.js
  var require_number_is_finite = __commonJS({
    "../../node_modules/core-js/internals/number-is-finite.js": function(exports, module) {
      var global2 = require_global();
      var globalIsFinite = global2.isFinite;
      module.exports = Number.isFinite || function isFinite2(it) {
        return typeof it == "number" && globalIsFinite(it);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-finite.js
  var require_es_number_is_finite = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-finite.js": function() {
      var $ = require_export();
      var numberIsFinite = require_number_is_finite();
      $({ target: "Number", stat: true }, { isFinite: numberIsFinite });
    }
  });

  // ../../node_modules/core-js/internals/is-integer.js
  var require_is_integer = __commonJS({
    "../../node_modules/core-js/internals/is-integer.js": function(exports, module) {
      var isObject = require_is_object();
      var floor = Math.floor;
      module.exports = function isInteger(it) {
        return !isObject(it) && isFinite(it) && floor(it) === it;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-integer.js
  var require_es_number_is_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-integer.js": function() {
      var $ = require_export();
      var isInteger = require_is_integer();
      $({ target: "Number", stat: true }, {
        isInteger: isInteger
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-nan.js
  var require_es_number_is_nan = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-nan.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        isNaN: function isNaN2(number) {
          return number != number;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.is-safe-integer.js
  var require_es_number_is_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.is-safe-integer.js": function() {
      var $ = require_export();
      var isInteger = require_is_integer();
      var abs = Math.abs;
      $({ target: "Number", stat: true }, {
        isSafeInteger: function isSafeInteger(number) {
          return isInteger(number) && abs(number) <= 9007199254740991;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.max-safe-integer.js
  var require_es_number_max_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.max-safe-integer.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        MAX_SAFE_INTEGER: 9007199254740991
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.min-safe-integer.js
  var require_es_number_min_safe_integer = __commonJS({
    "../../node_modules/core-js/modules/es.number.min-safe-integer.js": function() {
      var $ = require_export();
      $({ target: "Number", stat: true }, {
        MIN_SAFE_INTEGER: -9007199254740991
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.parse-float.js
  var require_es_number_parse_float = __commonJS({
    "../../node_modules/core-js/modules/es.number.parse-float.js": function() {
      var $ = require_export();
      var parseFloat2 = require_number_parse_float();
      $({ target: "Number", stat: true, forced: Number.parseFloat != parseFloat2 }, {
        parseFloat: parseFloat2
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.parse-int.js
  var require_es_number_parse_int = __commonJS({
    "../../node_modules/core-js/modules/es.number.parse-int.js": function() {
      var $ = require_export();
      var parseInt2 = require_number_parse_int();
      $({ target: "Number", stat: true, forced: Number.parseInt != parseInt2 }, {
        parseInt: parseInt2
      });
    }
  });

  // ../../node_modules/core-js/internals/this-number-value.js
  var require_this_number_value = __commonJS({
    "../../node_modules/core-js/internals/this-number-value.js": function(exports, module) {
      var classof = require_classof_raw();
      module.exports = function(value) {
        if (typeof value != "number" && classof(value) != "Number") {
          throw TypeError("Incorrect invocation");
        }
        return +value;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.number.to-fixed.js
  var require_es_number_to_fixed = __commonJS({
    "../../node_modules/core-js/modules/es.number.to-fixed.js": function() {
      "use strict";
      var $ = require_export();
      var toInteger = require_to_integer();
      var thisNumberValue = require_this_number_value();
      var repeat = require_string_repeat();
      var fails = require_fails();
      var nativeToFixed = 1 .toFixed;
      var floor = Math.floor;
      var pow = function(x, n, acc) {
        return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);
      };
      var log = function(x) {
        var n = 0;
        var x2 = x;
        while (x2 >= 4096) {
          n += 12;
          x2 /= 4096;
        }
        while (x2 >= 2) {
          n += 1;
          x2 /= 2;
        }
        return n;
      };
      var FORCED = nativeToFixed && (8e-5 .toFixed(3) !== "0.000" || 0.9 .toFixed(0) !== "1" || 1.255 .toFixed(2) !== "1.25" || 1000000000000000100 .toFixed(0) !== "1000000000000000128") || !fails(function() {
        nativeToFixed.call({});
      });
      $({ target: "Number", proto: true, forced: FORCED }, {
        toFixed: function toFixed(fractionDigits) {
          var number = thisNumberValue(this);
          var fractDigits = toInteger(fractionDigits);
          var data = [0, 0, 0, 0, 0, 0];
          var sign = "";
          var result = "0";
          var e, z, j, k;
          var multiply = function(n, c) {
            var index = -1;
            var c2 = c;
            while (++index < 6) {
              c2 += n * data[index];
              data[index] = c2 % 1e7;
              c2 = floor(c2 / 1e7);
            }
          };
          var divide = function(n) {
            var index = 6;
            var c = 0;
            while (--index >= 0) {
              c += data[index];
              data[index] = floor(c / n);
              c = c % n * 1e7;
            }
          };
          var dataToString = function() {
            var index = 6;
            var s = "";
            while (--index >= 0) {
              if (s !== "" || index === 0 || data[index] !== 0) {
                var t = String(data[index]);
                s = s === "" ? t : s + repeat.call("0", 7 - t.length) + t;
              }
            }
            return s;
          };
          if (fractDigits < 0 || fractDigits > 20)
            throw RangeError("Incorrect fraction digits");
          if (number != number)
            return "NaN";
          if (number <= -1e21 || number >= 1e21)
            return String(number);
          if (number < 0) {
            sign = "-";
            number = -number;
          }
          if (number > 1e-21) {
            e = log(number * pow(2, 69, 1)) - 69;
            z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);
            z *= 4503599627370496;
            e = 52 - e;
            if (e > 0) {
              multiply(0, z);
              j = fractDigits;
              while (j >= 7) {
                multiply(1e7, 0);
                j -= 7;
              }
              multiply(pow(10, j, 1), 0);
              j = e - 1;
              while (j >= 23) {
                divide(1 << 23);
                j -= 23;
              }
              divide(1 << j);
              multiply(1, 1);
              divide(2);
              result = dataToString();
            } else {
              multiply(0, z);
              multiply(1 << -e, 0);
              result = dataToString() + repeat.call("0", fractDigits);
            }
          }
          if (fractDigits > 0) {
            k = result.length;
            result = sign + (k <= fractDigits ? "0." + repeat.call("0", fractDigits - k) + result : result.slice(0, k - fractDigits) + "." + result.slice(k - fractDigits));
          } else {
            result = sign + result;
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.number.to-precision.js
  var require_es_number_to_precision = __commonJS({
    "../../node_modules/core-js/modules/es.number.to-precision.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var thisNumberValue = require_this_number_value();
      var nativeToPrecision = 1 .toPrecision;
      var FORCED = fails(function() {
        return nativeToPrecision.call(1, void 0) !== "1";
      }) || !fails(function() {
        nativeToPrecision.call({});
      });
      $({ target: "Number", proto: true, forced: FORCED }, {
        toPrecision: function toPrecision(precision) {
          return precision === void 0 ? nativeToPrecision.call(thisNumberValue(this)) : nativeToPrecision.call(thisNumberValue(this), precision);
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-log1p.js
  var require_math_log1p = __commonJS({
    "../../node_modules/core-js/internals/math-log1p.js": function(exports, module) {
      var log = Math.log;
      module.exports = Math.log1p || function log1p(x) {
        return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : log(1 + x);
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.acosh.js
  var require_es_math_acosh = __commonJS({
    "../../node_modules/core-js/modules/es.math.acosh.js": function() {
      var $ = require_export();
      var log1p = require_math_log1p();
      var nativeAcosh = Math.acosh;
      var log = Math.log;
      var sqrt = Math.sqrt;
      var LN2 = Math.LN2;
      var FORCED = !nativeAcosh || Math.floor(nativeAcosh(Number.MAX_VALUE)) != 710 || nativeAcosh(Infinity) != Infinity;
      $({ target: "Math", stat: true, forced: FORCED }, {
        acosh: function acosh(x) {
          return (x = +x) < 1 ? NaN : x > 9490626562425156e-8 ? log(x) + LN2 : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.asinh.js
  var require_es_math_asinh = __commonJS({
    "../../node_modules/core-js/modules/es.math.asinh.js": function() {
      var $ = require_export();
      var nativeAsinh = Math.asinh;
      var log = Math.log;
      var sqrt = Math.sqrt;
      function asinh(x) {
        return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : log(x + sqrt(x * x + 1));
      }
      $({ target: "Math", stat: true, forced: !(nativeAsinh && 1 / nativeAsinh(0) > 0) }, {
        asinh: asinh
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.atanh.js
  var require_es_math_atanh = __commonJS({
    "../../node_modules/core-js/modules/es.math.atanh.js": function() {
      var $ = require_export();
      var nativeAtanh = Math.atanh;
      var log = Math.log;
      $({ target: "Math", stat: true, forced: !(nativeAtanh && 1 / nativeAtanh(-0) < 0) }, {
        atanh: function atanh(x) {
          return (x = +x) == 0 ? x : log((1 + x) / (1 - x)) / 2;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-sign.js
  var require_math_sign = __commonJS({
    "../../node_modules/core-js/internals/math-sign.js": function(exports, module) {
      module.exports = Math.sign || function sign(x) {
        return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.cbrt.js
  var require_es_math_cbrt = __commonJS({
    "../../node_modules/core-js/modules/es.math.cbrt.js": function() {
      var $ = require_export();
      var sign = require_math_sign();
      var abs = Math.abs;
      var pow = Math.pow;
      $({ target: "Math", stat: true }, {
        cbrt: function cbrt(x) {
          return sign(x = +x) * pow(abs(x), 1 / 3);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.clz32.js
  var require_es_math_clz32 = __commonJS({
    "../../node_modules/core-js/modules/es.math.clz32.js": function() {
      var $ = require_export();
      var floor = Math.floor;
      var log = Math.log;
      var LOG2E = Math.LOG2E;
      $({ target: "Math", stat: true }, {
        clz32: function clz32(x) {
          return (x >>>= 0) ? 31 - floor(log(x + 0.5) * LOG2E) : 32;
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/math-expm1.js
  var require_math_expm1 = __commonJS({
    "../../node_modules/core-js/internals/math-expm1.js": function(exports, module) {
      var nativeExpm1 = Math.expm1;
      var exp = Math.exp;
      module.exports = !nativeExpm1 || nativeExpm1(10) > 22025.465794806718 || nativeExpm1(10) < 22025.465794806718 || nativeExpm1(-2e-17) != -2e-17 ? function expm1(x) {
        return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : exp(x) - 1;
      } : nativeExpm1;
    }
  });

  // ../../node_modules/core-js/modules/es.math.cosh.js
  var require_es_math_cosh = __commonJS({
    "../../node_modules/core-js/modules/es.math.cosh.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      var nativeCosh = Math.cosh;
      var abs = Math.abs;
      var E = Math.E;
      $({ target: "Math", stat: true, forced: !nativeCosh || nativeCosh(710) === Infinity }, {
        cosh: function cosh(x) {
          var t = expm1(abs(x) - 1) + 1;
          return (t + 1 / (t * E * E)) * (E / 2);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.expm1.js
  var require_es_math_expm1 = __commonJS({
    "../../node_modules/core-js/modules/es.math.expm1.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      $({ target: "Math", stat: true, forced: expm1 != Math.expm1 }, { expm1: expm1 });
    }
  });

  // ../../node_modules/core-js/internals/math-fround.js
  var require_math_fround = __commonJS({
    "../../node_modules/core-js/internals/math-fround.js": function(exports, module) {
      var sign = require_math_sign();
      var abs = Math.abs;
      var pow = Math.pow;
      var EPSILON = pow(2, -52);
      var EPSILON32 = pow(2, -23);
      var MAX32 = pow(2, 127) * (2 - EPSILON32);
      var MIN32 = pow(2, -126);
      var roundTiesToEven = function(n) {
        return n + 1 / EPSILON - 1 / EPSILON;
      };
      module.exports = Math.fround || function fround(x) {
        var $abs = abs(x);
        var $sign = sign(x);
        var a, result;
        if ($abs < MIN32)
          return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
        a = (1 + EPSILON32 / EPSILON) * $abs;
        result = a - (a - $abs);
        if (result > MAX32 || result != result)
          return $sign * Infinity;
        return $sign * result;
      };
    }
  });

  // ../../node_modules/core-js/modules/es.math.fround.js
  var require_es_math_fround = __commonJS({
    "../../node_modules/core-js/modules/es.math.fround.js": function() {
      var $ = require_export();
      var fround = require_math_fround();
      $({ target: "Math", stat: true }, { fround: fround });
    }
  });

  // ../../node_modules/core-js/modules/es.math.hypot.js
  var require_es_math_hypot = __commonJS({
    "../../node_modules/core-js/modules/es.math.hypot.js": function() {
      var $ = require_export();
      var $hypot = Math.hypot;
      var abs = Math.abs;
      var sqrt = Math.sqrt;
      var BUGGY = !!$hypot && $hypot(Infinity, NaN) !== Infinity;
      $({ target: "Math", stat: true, forced: BUGGY }, {
        hypot: function hypot(value1, value2) {
          var sum = 0;
          var i = 0;
          var aLen = arguments.length;
          var larg = 0;
          var arg, div;
          while (i < aLen) {
            arg = abs(arguments[i++]);
            if (larg < arg) {
              div = larg / arg;
              sum = sum * div * div + 1;
              larg = arg;
            } else if (arg > 0) {
              div = arg / larg;
              sum += div * div;
            } else
              sum += arg;
          }
          return larg === Infinity ? Infinity : larg * sqrt(sum);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.imul.js
  var require_es_math_imul = __commonJS({
    "../../node_modules/core-js/modules/es.math.imul.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var nativeImul = Math.imul;
      var FORCED = fails(function() {
        return nativeImul(4294967295, 5) != -5 || nativeImul.length != 2;
      });
      $({ target: "Math", stat: true, forced: FORCED }, {
        imul: function imul(x, y) {
          var UINT16 = 65535;
          var xn = +x;
          var yn = +y;
          var xl = UINT16 & xn;
          var yl = UINT16 & yn;
          return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log10.js
  var require_es_math_log10 = __commonJS({
    "../../node_modules/core-js/modules/es.math.log10.js": function() {
      var $ = require_export();
      var log = Math.log;
      var LOG10E = Math.LOG10E;
      $({ target: "Math", stat: true }, {
        log10: function log10(x) {
          return log(x) * LOG10E;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log1p.js
  var require_es_math_log1p = __commonJS({
    "../../node_modules/core-js/modules/es.math.log1p.js": function() {
      var $ = require_export();
      var log1p = require_math_log1p();
      $({ target: "Math", stat: true }, { log1p: log1p });
    }
  });

  // ../../node_modules/core-js/modules/es.math.log2.js
  var require_es_math_log2 = __commonJS({
    "../../node_modules/core-js/modules/es.math.log2.js": function() {
      var $ = require_export();
      var log = Math.log;
      var LN2 = Math.LN2;
      $({ target: "Math", stat: true }, {
        log2: function log2(x) {
          return log(x) / LN2;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.sign.js
  var require_es_math_sign = __commonJS({
    "../../node_modules/core-js/modules/es.math.sign.js": function() {
      var $ = require_export();
      var sign = require_math_sign();
      $({ target: "Math", stat: true }, {
        sign: sign
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.sinh.js
  var require_es_math_sinh = __commonJS({
    "../../node_modules/core-js/modules/es.math.sinh.js": function() {
      var $ = require_export();
      var fails = require_fails();
      var expm1 = require_math_expm1();
      var abs = Math.abs;
      var exp = Math.exp;
      var E = Math.E;
      var FORCED = fails(function() {
        return Math.sinh(-2e-17) != -2e-17;
      });
      $({ target: "Math", stat: true, forced: FORCED }, {
        sinh: function sinh(x) {
          return abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (E / 2);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.tanh.js
  var require_es_math_tanh = __commonJS({
    "../../node_modules/core-js/modules/es.math.tanh.js": function() {
      var $ = require_export();
      var expm1 = require_math_expm1();
      var exp = Math.exp;
      $({ target: "Math", stat: true }, {
        tanh: function tanh(x) {
          var a = expm1(x = +x);
          var b = expm1(-x);
          return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.math.trunc.js
  var require_es_math_trunc = __commonJS({
    "../../node_modules/core-js/modules/es.math.trunc.js": function() {
      var $ = require_export();
      var ceil = Math.ceil;
      var floor = Math.floor;
      $({ target: "Math", stat: true }, {
        trunc: function trunc(it) {
          return (it > 0 ? floor : ceil)(it);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.now.js
  var require_es_date_now = __commonJS({
    "../../node_modules/core-js/modules/es.date.now.js": function() {
      var $ = require_export();
      $({ target: "Date", stat: true }, {
        now: function now() {
          return new Date().getTime();
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-json.js
  var require_es_date_to_json = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-json.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var toObject = require_to_object();
      var toPrimitive = require_to_primitive();
      var FORCED = fails(function() {
        return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({ toISOString: function() {
          return 1;
        } }) !== 1;
      });
      $({ target: "Date", proto: true, forced: FORCED }, {
        toJSON: function toJSON(key) {
          var O = toObject(this);
          var pv = toPrimitive(O);
          return typeof pv == "number" && !isFinite(pv) ? null : O.toISOString();
        }
      });
    }
  });

  // ../../node_modules/core-js/internals/date-to-iso-string.js
  var require_date_to_iso_string = __commonJS({
    "../../node_modules/core-js/internals/date-to-iso-string.js": function(exports, module) {
      "use strict";
      var fails = require_fails();
      var padStart = require_string_pad().start;
      var abs = Math.abs;
      var DatePrototype = Date.prototype;
      var getTime = DatePrototype.getTime;
      var nativeDateToISOString = DatePrototype.toISOString;
      module.exports = fails(function() {
        return nativeDateToISOString.call(new Date(-5e13 - 1)) != "0385-07-25T07:06:39.999Z";
      }) || !fails(function() {
        nativeDateToISOString.call(new Date(NaN));
      }) ? function toISOString() {
        if (!isFinite(getTime.call(this)))
          throw RangeError("Invalid time value");
        var date = this;
        var year = date.getUTCFullYear();
        var milliseconds = date.getUTCMilliseconds();
        var sign = year < 0 ? "-" : year > 9999 ? "+" : "";
        return sign + padStart(abs(year), sign ? 6 : 4, 0) + "-" + padStart(date.getUTCMonth() + 1, 2, 0) + "-" + padStart(date.getUTCDate(), 2, 0) + "T" + padStart(date.getUTCHours(), 2, 0) + ":" + padStart(date.getUTCMinutes(), 2, 0) + ":" + padStart(date.getUTCSeconds(), 2, 0) + "." + padStart(milliseconds, 3, 0) + "Z";
      } : nativeDateToISOString;
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-iso-string.js
  var require_es_date_to_iso_string = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-iso-string.js": function() {
      var $ = require_export();
      var toISOString = require_date_to_iso_string();
      $({ target: "Date", proto: true, forced: Date.prototype.toISOString !== toISOString }, {
        toISOString: toISOString
      });
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-string.js
  var require_es_date_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-string.js": function() {
      var redefine = require_redefine();
      var DatePrototype = Date.prototype;
      var INVALID_DATE = "Invalid Date";
      var TO_STRING = "toString";
      var nativeDateToString = DatePrototype[TO_STRING];
      var getTime = DatePrototype.getTime;
      if (new Date(NaN) + "" != INVALID_DATE) {
        redefine(DatePrototype, TO_STRING, function toString() {
          var value = getTime.call(this);
          return value === value ? nativeDateToString.call(this) : INVALID_DATE;
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/date-to-primitive.js
  var require_date_to_primitive = __commonJS({
    "../../node_modules/core-js/internals/date-to-primitive.js": function(exports, module) {
      "use strict";
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      module.exports = function(hint) {
        if (hint !== "string" && hint !== "number" && hint !== "default") {
          throw TypeError("Incorrect hint");
        }
        return toPrimitive(anObject(this), hint !== "number");
      };
    }
  });

  // ../../node_modules/core-js/modules/es.date.to-primitive.js
  var require_es_date_to_primitive = __commonJS({
    "../../node_modules/core-js/modules/es.date.to-primitive.js": function() {
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var dateToPrimitive = require_date_to_primitive();
      var wellKnownSymbol = require_well_known_symbol();
      var TO_PRIMITIVE = wellKnownSymbol("toPrimitive");
      var DatePrototype = Date.prototype;
      if (!(TO_PRIMITIVE in DatePrototype)) {
        createNonEnumerableProperty(DatePrototype, TO_PRIMITIVE, dateToPrimitive);
      }
    }
  });

  // ../../node_modules/core-js/modules/es.json.stringify.js
  var require_es_json_stringify = __commonJS({
    "../../node_modules/core-js/modules/es.json.stringify.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var fails = require_fails();
      var $stringify = getBuiltIn("JSON", "stringify");
      var re = /[\uD800-\uDFFF]/g;
      var low = /^[\uD800-\uDBFF]$/;
      var hi = /^[\uDC00-\uDFFF]$/;
      var fix = function(match, offset, string) {
        var prev = string.charAt(offset - 1);
        var next = string.charAt(offset + 1);
        if (low.test(match) && !hi.test(next) || hi.test(match) && !low.test(prev)) {
          return "\\u" + match.charCodeAt(0).toString(16);
        }
        return match;
      };
      var FORCED = fails(function() {
        return $stringify("\uDF06\uD834") !== '"\\udf06\\ud834"' || $stringify("\uDEAD") !== '"\\udead"';
      });
      if ($stringify) {
        $({ target: "JSON", stat: true, forced: FORCED }, {
          stringify: function stringify(it, replacer, space) {
            var result = $stringify.apply(null, arguments);
            return typeof result == "string" ? result.replace(re, fix) : result;
          }
        });
      }
    }
  });

  // ../../node_modules/core-js/internals/native-promise-constructor.js
  var require_native_promise_constructor = __commonJS({
    "../../node_modules/core-js/internals/native-promise-constructor.js": function(exports, module) {
      var global2 = require_global();
      module.exports = global2.Promise;
    }
  });

  // ../../node_modules/core-js/internals/redefine-all.js
  var require_redefine_all = __commonJS({
    "../../node_modules/core-js/internals/redefine-all.js": function(exports, module) {
      var redefine = require_redefine();
      module.exports = function(target, src, options) {
        for (var key in src)
          redefine(target, key, src[key], options);
        return target;
      };
    }
  });

  // ../../node_modules/core-js/internals/an-instance.js
  var require_an_instance = __commonJS({
    "../../node_modules/core-js/internals/an-instance.js": function(exports, module) {
      module.exports = function(it, Constructor, name) {
        if (!(it instanceof Constructor)) {
          throw TypeError("Incorrect " + (name ? name + " " : "") + "invocation");
        }
        return it;
      };
    }
  });

  // ../../node_modules/core-js/internals/engine-is-ios.js
  var require_engine_is_ios = __commonJS({
    "../../node_modules/core-js/internals/engine-is-ios.js": function(exports, module) {
      var userAgent = require_engine_user_agent();
      module.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);
    }
  });

  // ../../node_modules/core-js/internals/task.js
  var require_task = __commonJS({
    "../../node_modules/core-js/internals/task.js": function(exports, module) {
      var global2 = require_global();
      var fails = require_fails();
      var classof = require_classof_raw();
      var bind = require_function_bind_context();
      var html = require_html();
      var createElement = require_document_create_element();
      var IS_IOS = require_engine_is_ios();
      var location = global2.location;
      var set = global2.setImmediate;
      var clear = global2.clearImmediate;
      var process = global2.process;
      var MessageChannel = global2.MessageChannel;
      var Dispatch = global2.Dispatch;
      var counter = 0;
      var queue = {};
      var ONREADYSTATECHANGE = "onreadystatechange";
      var defer;
      var channel;
      var port;
      var run = function(id) {
        if (queue.hasOwnProperty(id)) {
          var fn = queue[id];
          delete queue[id];
          fn();
        }
      };
      var runner = function(id) {
        return function() {
          run(id);
        };
      };
      var listener = function(event) {
        run(event.data);
      };
      var post = function(id) {
        global2.postMessage(id + "", location.protocol + "//" + location.host);
      };
      if (!set || !clear) {
        set = function setImmediate(fn) {
          var args = [];
          var i = 1;
          while (arguments.length > i)
            args.push(arguments[i++]);
          queue[++counter] = function() {
            (typeof fn == "function" ? fn : Function(fn)).apply(void 0, args);
          };
          defer(counter);
          return counter;
        };
        clear = function clearImmediate(id) {
          delete queue[id];
        };
        if (classof(process) == "process") {
          defer = function(id) {
            process.nextTick(runner(id));
          };
        } else if (Dispatch && Dispatch.now) {
          defer = function(id) {
            Dispatch.now(runner(id));
          };
        } else if (MessageChannel && !IS_IOS) {
          channel = new MessageChannel();
          port = channel.port2;
          channel.port1.onmessage = listener;
          defer = bind(port.postMessage, port, 1);
        } else if (global2.addEventListener && typeof postMessage == "function" && !global2.importScripts && !fails(post) && location.protocol !== "file:") {
          defer = post;
          global2.addEventListener("message", listener, false);
        } else if (ONREADYSTATECHANGE in createElement("script")) {
          defer = function(id) {
            html.appendChild(createElement("script"))[ONREADYSTATECHANGE] = function() {
              html.removeChild(this);
              run(id);
            };
          };
        } else {
          defer = function(id) {
            setTimeout(runner(id), 0);
          };
        }
      }
      module.exports = {
        set: set,
        clear: clear
      };
    }
  });

  // ../../node_modules/core-js/internals/microtask.js
  var require_microtask = __commonJS({
    "../../node_modules/core-js/internals/microtask.js": function(exports, module) {
      var global2 = require_global();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      var classof = require_classof_raw();
      var macrotask = require_task().set;
      var IS_IOS = require_engine_is_ios();
      var MutationObserver = global2.MutationObserver || global2.WebKitMutationObserver;
      var process = global2.process;
      var Promise2 = global2.Promise;
      var IS_NODE = classof(process) == "process";
      var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global2, "queueMicrotask");
      var queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
      var flush;
      var head;
      var last;
      var notify;
      var toggle;
      var node;
      var promise;
      var then;
      if (!queueMicrotask) {
        flush = function() {
          var parent, fn;
          if (IS_NODE && (parent = process.domain))
            parent.exit();
          while (head) {
            fn = head.fn;
            head = head.next;
            try {
              fn();
            } catch (error) {
              if (head)
                notify();
              else
                last = void 0;
              throw error;
            }
          }
          last = void 0;
          if (parent)
            parent.enter();
        };
        if (IS_NODE) {
          notify = function() {
            process.nextTick(flush);
          };
        } else if (MutationObserver && !IS_IOS) {
          toggle = true;
          node = document.createTextNode("");
          new MutationObserver(flush).observe(node, { characterData: true });
          notify = function() {
            node.data = toggle = !toggle;
          };
        } else if (Promise2 && Promise2.resolve) {
          promise = Promise2.resolve(void 0);
          then = promise.then;
          notify = function() {
            then.call(promise, flush);
          };
        } else {
          notify = function() {
            macrotask.call(global2, flush);
          };
        }
      }
      module.exports = queueMicrotask || function(fn) {
        var task = { fn: fn, next: void 0 };
        if (last)
          last.next = task;
        if (!head) {
          head = task;
          notify();
        }
        last = task;
      };
    }
  });

  // ../../node_modules/core-js/internals/new-promise-capability.js
  var require_new_promise_capability = __commonJS({
    "../../node_modules/core-js/internals/new-promise-capability.js": function(exports, module) {
      "use strict";
      var aFunction = require_a_function();
      var PromiseCapability = function(C) {
        var resolve, reject;
        this.promise = new C(function($$resolve, $$reject) {
          if (resolve !== void 0 || reject !== void 0)
            throw TypeError("Bad Promise constructor");
          resolve = $$resolve;
          reject = $$reject;
        });
        this.resolve = aFunction(resolve);
        this.reject = aFunction(reject);
      };
      module.exports.f = function(C) {
        return new PromiseCapability(C);
      };
    }
  });

  // ../../node_modules/core-js/internals/promise-resolve.js
  var require_promise_resolve = __commonJS({
    "../../node_modules/core-js/internals/promise-resolve.js": function(exports, module) {
      var anObject = require_an_object();
      var isObject = require_is_object();
      var newPromiseCapability = require_new_promise_capability();
      module.exports = function(C, x) {
        anObject(C);
        if (isObject(x) && x.constructor === C)
          return x;
        var promiseCapability = newPromiseCapability.f(C);
        var resolve = promiseCapability.resolve;
        resolve(x);
        return promiseCapability.promise;
      };
    }
  });

  // ../../node_modules/core-js/internals/host-report-errors.js
  var require_host_report_errors = __commonJS({
    "../../node_modules/core-js/internals/host-report-errors.js": function(exports, module) {
      var global2 = require_global();
      module.exports = function(a, b) {
        var console2 = global2.console;
        if (console2 && console2.error) {
          arguments.length === 1 ? console2.error(a) : console2.error(a, b);
        }
      };
    }
  });

  // ../../node_modules/core-js/internals/perform.js
  var require_perform = __commonJS({
    "../../node_modules/core-js/internals/perform.js": function(exports, module) {
      module.exports = function(exec) {
        try {
          return { error: false, value: exec() };
        } catch (error) {
          return { error: true, value: error };
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.promise.js
  var require_es_promise = __commonJS({
    "../../node_modules/core-js/modules/es.promise.js": function() {
      "use strict";
      var $ = require_export();
      var IS_PURE = require_is_pure();
      var global2 = require_global();
      var getBuiltIn = require_get_built_in();
      var NativePromise = require_native_promise_constructor();
      var redefine = require_redefine();
      var redefineAll = require_redefine_all();
      var setToStringTag = require_set_to_string_tag();
      var setSpecies = require_set_species();
      var isObject = require_is_object();
      var aFunction = require_a_function();
      var anInstance = require_an_instance();
      var classof = require_classof_raw();
      var inspectSource = require_inspect_source();
      var iterate = require_iterate();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var speciesConstructor = require_species_constructor();
      var task = require_task().set;
      var microtask = require_microtask();
      var promiseResolve = require_promise_resolve();
      var hostReportErrors = require_host_report_errors();
      var newPromiseCapabilityModule = require_new_promise_capability();
      var perform = require_perform();
      var InternalStateModule = require_internal_state();
      var isForced = require_is_forced();
      var wellKnownSymbol = require_well_known_symbol();
      var V8_VERSION = require_engine_v8_version();
      var SPECIES = wellKnownSymbol("species");
      var PROMISE = "Promise";
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var getInternalPromiseState = InternalStateModule.getterFor(PROMISE);
      var PromiseConstructor = NativePromise;
      var TypeError2 = global2.TypeError;
      var document2 = global2.document;
      var process = global2.process;
      var $fetch = getBuiltIn("fetch");
      var newPromiseCapability = newPromiseCapabilityModule.f;
      var newGenericPromiseCapability = newPromiseCapability;
      var IS_NODE = classof(process) == "process";
      var DISPATCH_EVENT = !!(document2 && document2.createEvent && global2.dispatchEvent);
      var UNHANDLED_REJECTION = "unhandledrejection";
      var REJECTION_HANDLED = "rejectionhandled";
      var PENDING = 0;
      var FULFILLED = 1;
      var REJECTED = 2;
      var HANDLED = 1;
      var UNHANDLED = 2;
      var Internal;
      var OwnPromiseCapability;
      var PromiseWrapper;
      var nativeThen;
      var FORCED = isForced(PROMISE, function() {
        var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);
        if (!GLOBAL_CORE_JS_PROMISE) {
          if (V8_VERSION === 66)
            return true;
          if (!IS_NODE && typeof PromiseRejectionEvent != "function")
            return true;
        }
        if (IS_PURE && !PromiseConstructor.prototype["finally"])
          return true;
        if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor))
          return false;
        var promise = PromiseConstructor.resolve(1);
        var FakePromise = function(exec) {
          exec(function() {
          }, function() {
          });
        };
        var constructor = promise.constructor = {};
        constructor[SPECIES] = FakePromise;
        return !(promise.then(function() {
        }) instanceof FakePromise);
      });
      var INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function(iterable) {
        PromiseConstructor.all(iterable)["catch"](function() {
        });
      });
      var isThenable = function(it) {
        var then;
        return isObject(it) && typeof (then = it.then) == "function" ? then : false;
      };
      var notify = function(promise, state, isReject) {
        if (state.notified)
          return;
        state.notified = true;
        var chain = state.reactions;
        microtask(function() {
          var value = state.value;
          var ok = state.state == FULFILLED;
          var index = 0;
          while (chain.length > index) {
            var reaction = chain[index++];
            var handler = ok ? reaction.ok : reaction.fail;
            var resolve = reaction.resolve;
            var reject = reaction.reject;
            var domain = reaction.domain;
            var result, then, exited;
            try {
              if (handler) {
                if (!ok) {
                  if (state.rejection === UNHANDLED)
                    onHandleUnhandled(promise, state);
                  state.rejection = HANDLED;
                }
                if (handler === true)
                  result = value;
                else {
                  if (domain)
                    domain.enter();
                  result = handler(value);
                  if (domain) {
                    domain.exit();
                    exited = true;
                  }
                }
                if (result === reaction.promise) {
                  reject(TypeError2("Promise-chain cycle"));
                } else if (then = isThenable(result)) {
                  then.call(result, resolve, reject);
                } else
                  resolve(result);
              } else
                reject(value);
            } catch (error) {
              if (domain && !exited)
                domain.exit();
              reject(error);
            }
          }
          state.reactions = [];
          state.notified = false;
          if (isReject && !state.rejection)
            onUnhandled(promise, state);
        });
      };
      var dispatchEvent = function(name, promise, reason) {
        var event, handler;
        if (DISPATCH_EVENT) {
          event = document2.createEvent("Event");
          event.promise = promise;
          event.reason = reason;
          event.initEvent(name, false, true);
          global2.dispatchEvent(event);
        } else
          event = { promise: promise, reason: reason };
        if (handler = global2["on" + name])
          handler(event);
        else if (name === UNHANDLED_REJECTION)
          hostReportErrors("Unhandled promise rejection", reason);
      };
      var onUnhandled = function(promise, state) {
        task.call(global2, function() {
          var value = state.value;
          var IS_UNHANDLED = isUnhandled(state);
          var result;
          if (IS_UNHANDLED) {
            result = perform(function() {
              if (IS_NODE) {
                process.emit("unhandledRejection", value, promise);
              } else
                dispatchEvent(UNHANDLED_REJECTION, promise, value);
            });
            state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
            if (result.error)
              throw result.value;
          }
        });
      };
      var isUnhandled = function(state) {
        return state.rejection !== HANDLED && !state.parent;
      };
      var onHandleUnhandled = function(promise, state) {
        task.call(global2, function() {
          if (IS_NODE) {
            process.emit("rejectionHandled", promise);
          } else
            dispatchEvent(REJECTION_HANDLED, promise, state.value);
        });
      };
      var bind = function(fn, promise, state, unwrap) {
        return function(value) {
          fn(promise, state, value, unwrap);
        };
      };
      var internalReject = function(promise, state, value, unwrap) {
        if (state.done)
          return;
        state.done = true;
        if (unwrap)
          state = unwrap;
        state.value = value;
        state.state = REJECTED;
        notify(promise, state, true);
      };
      var internalResolve = function(promise, state, value, unwrap) {
        if (state.done)
          return;
        state.done = true;
        if (unwrap)
          state = unwrap;
        try {
          if (promise === value)
            throw TypeError2("Promise can't be resolved itself");
          var then = isThenable(value);
          if (then) {
            microtask(function() {
              var wrapper = { done: false };
              try {
                then.call(value, bind(internalResolve, promise, wrapper, state), bind(internalReject, promise, wrapper, state));
              } catch (error) {
                internalReject(promise, wrapper, error, state);
              }
            });
          } else {
            state.value = value;
            state.state = FULFILLED;
            notify(promise, state, false);
          }
        } catch (error) {
          internalReject(promise, { done: false }, error, state);
        }
      };
      if (FORCED) {
        PromiseConstructor = function Promise2(executor) {
          anInstance(this, PromiseConstructor, PROMISE);
          aFunction(executor);
          Internal.call(this);
          var state = getInternalState(this);
          try {
            executor(bind(internalResolve, this, state), bind(internalReject, this, state));
          } catch (error) {
            internalReject(this, state, error);
          }
        };
        Internal = function Promise2(executor) {
          setInternalState(this, {
            type: PROMISE,
            done: false,
            notified: false,
            parent: false,
            reactions: [],
            rejection: false,
            state: PENDING,
            value: void 0
          });
        };
        Internal.prototype = redefineAll(PromiseConstructor.prototype, {
          then: function then(onFulfilled, onRejected) {
            var state = getInternalPromiseState(this);
            var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));
            reaction.ok = typeof onFulfilled == "function" ? onFulfilled : true;
            reaction.fail = typeof onRejected == "function" && onRejected;
            reaction.domain = IS_NODE ? process.domain : void 0;
            state.parent = true;
            state.reactions.push(reaction);
            if (state.state != PENDING)
              notify(this, state, false);
            return reaction.promise;
          },
          "catch": function(onRejected) {
            return this.then(void 0, onRejected);
          }
        });
        OwnPromiseCapability = function() {
          var promise = new Internal();
          var state = getInternalState(promise);
          this.promise = promise;
          this.resolve = bind(internalResolve, promise, state);
          this.reject = bind(internalReject, promise, state);
        };
        newPromiseCapabilityModule.f = newPromiseCapability = function(C) {
          return C === PromiseConstructor || C === PromiseWrapper ? new OwnPromiseCapability(C) : newGenericPromiseCapability(C);
        };
        if (!IS_PURE && typeof NativePromise == "function") {
          nativeThen = NativePromise.prototype.then;
          redefine(NativePromise.prototype, "then", function then(onFulfilled, onRejected) {
            var that = this;
            return new PromiseConstructor(function(resolve, reject) {
              nativeThen.call(that, resolve, reject);
            }).then(onFulfilled, onRejected);
          }, { unsafe: true });
          if (typeof $fetch == "function")
            $({ global: true, enumerable: true, forced: true }, {
              fetch: function fetch(input) {
                return promiseResolve(PromiseConstructor, $fetch.apply(global2, arguments));
              }
            });
        }
      }
      $({ global: true, wrap: true, forced: FORCED }, {
        Promise: PromiseConstructor
      });
      setToStringTag(PromiseConstructor, PROMISE, false, true);
      setSpecies(PROMISE);
      PromiseWrapper = getBuiltIn(PROMISE);
      $({ target: PROMISE, stat: true, forced: FORCED }, {
        reject: function reject(r) {
          var capability = newPromiseCapability(this);
          capability.reject.call(void 0, r);
          return capability.promise;
        }
      });
      $({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {
        resolve: function resolve(x) {
          return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);
        }
      });
      $({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {
        all: function all(iterable) {
          var C = this;
          var capability = newPromiseCapability(C);
          var resolve = capability.resolve;
          var reject = capability.reject;
          var result = perform(function() {
            var $promiseResolve = aFunction(C.resolve);
            var values = [];
            var counter = 0;
            var remaining = 1;
            iterate(iterable, function(promise) {
              var index = counter++;
              var alreadyCalled = false;
              values.push(void 0);
              remaining++;
              $promiseResolve.call(C, promise).then(function(value) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = value;
                --remaining || resolve(values);
              }, reject);
            });
            --remaining || resolve(values);
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        },
        race: function race(iterable) {
          var C = this;
          var capability = newPromiseCapability(C);
          var reject = capability.reject;
          var result = perform(function() {
            var $promiseResolve = aFunction(C.resolve);
            iterate(iterable, function(promise) {
              $promiseResolve.call(C, promise).then(capability.resolve, reject);
            });
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.promise.all-settled.js
  var require_es_promise_all_settled = __commonJS({
    "../../node_modules/core-js/modules/es.promise.all-settled.js": function() {
      "use strict";
      var $ = require_export();
      var aFunction = require_a_function();
      var newPromiseCapabilityModule = require_new_promise_capability();
      var perform = require_perform();
      var iterate = require_iterate();
      $({ target: "Promise", stat: true }, {
        allSettled: function allSettled(iterable) {
          var C = this;
          var capability = newPromiseCapabilityModule.f(C);
          var resolve = capability.resolve;
          var reject = capability.reject;
          var result = perform(function() {
            var promiseResolve = aFunction(C.resolve);
            var values = [];
            var counter = 0;
            var remaining = 1;
            iterate(iterable, function(promise) {
              var index = counter++;
              var alreadyCalled = false;
              values.push(void 0);
              remaining++;
              promiseResolve.call(C, promise).then(function(value) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = { status: "fulfilled", value: value };
                --remaining || resolve(values);
              }, function(e) {
                if (alreadyCalled)
                  return;
                alreadyCalled = true;
                values[index] = { status: "rejected", reason: e };
                --remaining || resolve(values);
              });
            });
            --remaining || resolve(values);
          });
          if (result.error)
            reject(result.value);
          return capability.promise;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.promise.finally.js
  var require_es_promise_finally = __commonJS({
    "../../node_modules/core-js/modules/es.promise.finally.js": function() {
      "use strict";
      var $ = require_export();
      var IS_PURE = require_is_pure();
      var NativePromise = require_native_promise_constructor();
      var fails = require_fails();
      var getBuiltIn = require_get_built_in();
      var speciesConstructor = require_species_constructor();
      var promiseResolve = require_promise_resolve();
      var redefine = require_redefine();
      var NON_GENERIC = !!NativePromise && fails(function() {
        NativePromise.prototype["finally"].call({ then: function() {
        } }, function() {
        });
      });
      $({ target: "Promise", proto: true, real: true, forced: NON_GENERIC }, {
        "finally": function(onFinally) {
          var C = speciesConstructor(this, getBuiltIn("Promise"));
          var isFunction = typeof onFinally == "function";
          return this.then(isFunction ? function(x) {
            return promiseResolve(C, onFinally()).then(function() {
              return x;
            });
          } : onFinally, isFunction ? function(e) {
            return promiseResolve(C, onFinally()).then(function() {
              throw e;
            });
          } : onFinally);
        }
      });
      if (!IS_PURE && typeof NativePromise == "function" && !NativePromise.prototype["finally"]) {
        redefine(NativePromise.prototype, "finally", getBuiltIn("Promise").prototype["finally"]);
      }
    }
  });

  // ../../node_modules/core-js/internals/collection.js
  var require_collection = __commonJS({
    "../../node_modules/core-js/internals/collection.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var isForced = require_is_forced();
      var redefine = require_redefine();
      var InternalMetadataModule = require_internal_metadata();
      var iterate = require_iterate();
      var anInstance = require_an_instance();
      var isObject = require_is_object();
      var fails = require_fails();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var setToStringTag = require_set_to_string_tag();
      var inheritIfRequired = require_inherit_if_required();
      module.exports = function(CONSTRUCTOR_NAME, wrapper, common) {
        var IS_MAP = CONSTRUCTOR_NAME.indexOf("Map") !== -1;
        var IS_WEAK = CONSTRUCTOR_NAME.indexOf("Weak") !== -1;
        var ADDER = IS_MAP ? "set" : "add";
        var NativeConstructor = global2[CONSTRUCTOR_NAME];
        var NativePrototype = NativeConstructor && NativeConstructor.prototype;
        var Constructor = NativeConstructor;
        var exported = {};
        var fixMethod = function(KEY) {
          var nativeMethod = NativePrototype[KEY];
          redefine(NativePrototype, KEY, KEY == "add" ? function add(value) {
            nativeMethod.call(this, value === 0 ? 0 : value);
            return this;
          } : KEY == "delete" ? function(key) {
            return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
          } : KEY == "get" ? function get(key) {
            return IS_WEAK && !isObject(key) ? void 0 : nativeMethod.call(this, key === 0 ? 0 : key);
          } : KEY == "has" ? function has(key) {
            return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
          } : function set(key, value) {
            nativeMethod.call(this, key === 0 ? 0 : key, value);
            return this;
          });
        };
        if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != "function" || !(IS_WEAK || NativePrototype.forEach && !fails(function() {
          new NativeConstructor().entries().next();
        })))) {
          Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
          InternalMetadataModule.REQUIRED = true;
        } else if (isForced(CONSTRUCTOR_NAME, true)) {
          var instance = new Constructor();
          var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
          var THROWS_ON_PRIMITIVES = fails(function() {
            instance.has(1);
          });
          var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function(iterable) {
            new NativeConstructor(iterable);
          });
          var BUGGY_ZERO = !IS_WEAK && fails(function() {
            var $instance = new NativeConstructor();
            var index = 5;
            while (index--)
              $instance[ADDER](index, index);
            return !$instance.has(-0);
          });
          if (!ACCEPT_ITERABLES) {
            Constructor = wrapper(function(dummy, iterable) {
              anInstance(dummy, Constructor, CONSTRUCTOR_NAME);
              var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);
              if (iterable != void 0)
                iterate(iterable, that[ADDER], that, IS_MAP);
              return that;
            });
            Constructor.prototype = NativePrototype;
            NativePrototype.constructor = Constructor;
          }
          if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
            fixMethod("delete");
            fixMethod("has");
            IS_MAP && fixMethod("get");
          }
          if (BUGGY_ZERO || HASNT_CHAINING)
            fixMethod(ADDER);
          if (IS_WEAK && NativePrototype.clear)
            delete NativePrototype.clear;
        }
        exported[CONSTRUCTOR_NAME] = Constructor;
        $({ global: true, forced: Constructor != NativeConstructor }, exported);
        setToStringTag(Constructor, CONSTRUCTOR_NAME);
        if (!IS_WEAK)
          common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);
        return Constructor;
      };
    }
  });

  // ../../node_modules/core-js/internals/collection-strong.js
  var require_collection_strong = __commonJS({
    "../../node_modules/core-js/internals/collection-strong.js": function(exports, module) {
      "use strict";
      var defineProperty = require_object_define_property().f;
      var create = require_object_create();
      var redefineAll = require_redefine_all();
      var bind = require_function_bind_context();
      var anInstance = require_an_instance();
      var iterate = require_iterate();
      var defineIterator = require_define_iterator();
      var setSpecies = require_set_species();
      var DESCRIPTORS = require_descriptors();
      var fastKey = require_internal_metadata().fastKey;
      var InternalStateModule = require_internal_state();
      var setInternalState = InternalStateModule.set;
      var internalStateGetterFor = InternalStateModule.getterFor;
      module.exports = {
        getConstructor: function(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
          var C = wrapper(function(that, iterable) {
            anInstance(that, C, CONSTRUCTOR_NAME);
            setInternalState(that, {
              type: CONSTRUCTOR_NAME,
              index: create(null),
              first: void 0,
              last: void 0,
              size: 0
            });
            if (!DESCRIPTORS)
              that.size = 0;
            if (iterable != void 0)
              iterate(iterable, that[ADDER], that, IS_MAP);
          });
          var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var define2 = function(that, key, value) {
            var state = getInternalState(that);
            var entry = getEntry(that, key);
            var previous, index;
            if (entry) {
              entry.value = value;
            } else {
              state.last = entry = {
                index: index = fastKey(key, true),
                key: key,
                value: value,
                previous: previous = state.last,
                next: void 0,
                removed: false
              };
              if (!state.first)
                state.first = entry;
              if (previous)
                previous.next = entry;
              if (DESCRIPTORS)
                state.size++;
              else
                that.size++;
              if (index !== "F")
                state.index[index] = entry;
            }
            return that;
          };
          var getEntry = function(that, key) {
            var state = getInternalState(that);
            var index = fastKey(key);
            var entry;
            if (index !== "F")
              return state.index[index];
            for (entry = state.first; entry; entry = entry.next) {
              if (entry.key == key)
                return entry;
            }
          };
          redefineAll(C.prototype, {
            clear: function clear() {
              var that = this;
              var state = getInternalState(that);
              var data = state.index;
              var entry = state.first;
              while (entry) {
                entry.removed = true;
                if (entry.previous)
                  entry.previous = entry.previous.next = void 0;
                delete data[entry.index];
                entry = entry.next;
              }
              state.first = state.last = void 0;
              if (DESCRIPTORS)
                state.size = 0;
              else
                that.size = 0;
            },
            "delete": function(key) {
              var that = this;
              var state = getInternalState(that);
              var entry = getEntry(that, key);
              if (entry) {
                var next = entry.next;
                var prev = entry.previous;
                delete state.index[entry.index];
                entry.removed = true;
                if (prev)
                  prev.next = next;
                if (next)
                  next.previous = prev;
                if (state.first == entry)
                  state.first = next;
                if (state.last == entry)
                  state.last = prev;
                if (DESCRIPTORS)
                  state.size--;
                else
                  that.size--;
              }
              return !!entry;
            },
            forEach: function forEach(callbackfn) {
              var state = getInternalState(this);
              var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : void 0, 3);
              var entry;
              while (entry = entry ? entry.next : state.first) {
                boundFunction(entry.value, entry.key, this);
                while (entry && entry.removed)
                  entry = entry.previous;
              }
            },
            has: function has(key) {
              return !!getEntry(this, key);
            }
          });
          redefineAll(C.prototype, IS_MAP ? {
            get: function get(key) {
              var entry = getEntry(this, key);
              return entry && entry.value;
            },
            set: function set(key, value) {
              return define2(this, key === 0 ? 0 : key, value);
            }
          } : {
            add: function add(value) {
              return define2(this, value = value === 0 ? 0 : value, value);
            }
          });
          if (DESCRIPTORS)
            defineProperty(C.prototype, "size", {
              get: function() {
                return getInternalState(this).size;
              }
            });
          return C;
        },
        setStrong: function(C, CONSTRUCTOR_NAME, IS_MAP) {
          var ITERATOR_NAME = CONSTRUCTOR_NAME + " Iterator";
          var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);
          defineIterator(C, CONSTRUCTOR_NAME, function(iterated, kind) {
            setInternalState(this, {
              type: ITERATOR_NAME,
              target: iterated,
              state: getInternalCollectionState(iterated),
              kind: kind,
              last: void 0
            });
          }, function() {
            var state = getInternalIteratorState(this);
            var kind = state.kind;
            var entry = state.last;
            while (entry && entry.removed)
              entry = entry.previous;
            if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
              state.target = void 0;
              return { value: void 0, done: true };
            }
            if (kind == "keys")
              return { value: entry.key, done: false };
            if (kind == "values")
              return { value: entry.value, done: false };
            return { value: [entry.key, entry.value], done: false };
          }, IS_MAP ? "entries" : "values", !IS_MAP, true);
          setSpecies(CONSTRUCTOR_NAME);
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.map.js
  var require_es_map = __commonJS({
    "../../node_modules/core-js/modules/es.map.js": function(exports, module) {
      "use strict";
      var collection = require_collection();
      var collectionStrong = require_collection_strong();
      module.exports = collection("Map", function(init) {
        return function Map() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionStrong);
    }
  });

  // ../../node_modules/core-js/modules/es.set.js
  var require_es_set = __commonJS({
    "../../node_modules/core-js/modules/es.set.js": function(exports, module) {
      "use strict";
      var collection = require_collection();
      var collectionStrong = require_collection_strong();
      module.exports = collection("Set", function(init) {
        return function Set() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionStrong);
    }
  });

  // ../../node_modules/core-js/internals/collection-weak.js
  var require_collection_weak = __commonJS({
    "../../node_modules/core-js/internals/collection-weak.js": function(exports, module) {
      "use strict";
      var redefineAll = require_redefine_all();
      var getWeakData = require_internal_metadata().getWeakData;
      var anObject = require_an_object();
      var isObject = require_is_object();
      var anInstance = require_an_instance();
      var iterate = require_iterate();
      var ArrayIterationModule = require_array_iteration();
      var $has = require_has();
      var InternalStateModule = require_internal_state();
      var setInternalState = InternalStateModule.set;
      var internalStateGetterFor = InternalStateModule.getterFor;
      var find = ArrayIterationModule.find;
      var findIndex = ArrayIterationModule.findIndex;
      var id = 0;
      var uncaughtFrozenStore = function(store) {
        return store.frozen || (store.frozen = new UncaughtFrozenStore());
      };
      var UncaughtFrozenStore = function() {
        this.entries = [];
      };
      var findUncaughtFrozen = function(store, key) {
        return find(store.entries, function(it) {
          return it[0] === key;
        });
      };
      UncaughtFrozenStore.prototype = {
        get: function(key) {
          var entry = findUncaughtFrozen(this, key);
          if (entry)
            return entry[1];
        },
        has: function(key) {
          return !!findUncaughtFrozen(this, key);
        },
        set: function(key, value) {
          var entry = findUncaughtFrozen(this, key);
          if (entry)
            entry[1] = value;
          else
            this.entries.push([key, value]);
        },
        "delete": function(key) {
          var index = findIndex(this.entries, function(it) {
            return it[0] === key;
          });
          if (~index)
            this.entries.splice(index, 1);
          return !!~index;
        }
      };
      module.exports = {
        getConstructor: function(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
          var C = wrapper(function(that, iterable) {
            anInstance(that, C, CONSTRUCTOR_NAME);
            setInternalState(that, {
              type: CONSTRUCTOR_NAME,
              id: id++,
              frozen: void 0
            });
            if (iterable != void 0)
              iterate(iterable, that[ADDER], that, IS_MAP);
          });
          var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);
          var define2 = function(that, key, value) {
            var state = getInternalState(that);
            var data = getWeakData(anObject(key), true);
            if (data === true)
              uncaughtFrozenStore(state).set(key, value);
            else
              data[state.id] = value;
            return that;
          };
          redefineAll(C.prototype, {
            "delete": function(key) {
              var state = getInternalState(this);
              if (!isObject(key))
                return false;
              var data = getWeakData(key);
              if (data === true)
                return uncaughtFrozenStore(state)["delete"](key);
              return data && $has(data, state.id) && delete data[state.id];
            },
            has: function has(key) {
              var state = getInternalState(this);
              if (!isObject(key))
                return false;
              var data = getWeakData(key);
              if (data === true)
                return uncaughtFrozenStore(state).has(key);
              return data && $has(data, state.id);
            }
          });
          redefineAll(C.prototype, IS_MAP ? {
            get: function get(key) {
              var state = getInternalState(this);
              if (isObject(key)) {
                var data = getWeakData(key);
                if (data === true)
                  return uncaughtFrozenStore(state).get(key);
                return data ? data[state.id] : void 0;
              }
            },
            set: function set(key, value) {
              return define2(this, key, value);
            }
          } : {
            add: function add(value) {
              return define2(this, value, true);
            }
          });
          return C;
        }
      };
    }
  });

  // ../../node_modules/core-js/modules/es.weak-map.js
  var require_es_weak_map = __commonJS({
    "../../node_modules/core-js/modules/es.weak-map.js": function(exports, module) {
      "use strict";
      var global2 = require_global();
      var redefineAll = require_redefine_all();
      var InternalMetadataModule = require_internal_metadata();
      var collection = require_collection();
      var collectionWeak = require_collection_weak();
      var isObject = require_is_object();
      var enforceIternalState = require_internal_state().enforce;
      var NATIVE_WEAK_MAP = require_native_weak_map();
      var IS_IE11 = !global2.ActiveXObject && "ActiveXObject" in global2;
      var isExtensible = Object.isExtensible;
      var InternalWeakMap;
      var wrapper = function(init) {
        return function WeakMap2() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      };
      var $WeakMap = module.exports = collection("WeakMap", wrapper, collectionWeak);
      if (NATIVE_WEAK_MAP && IS_IE11) {
        InternalWeakMap = collectionWeak.getConstructor(wrapper, "WeakMap", true);
        InternalMetadataModule.REQUIRED = true;
        WeakMapPrototype = $WeakMap.prototype;
        nativeDelete = WeakMapPrototype["delete"];
        nativeHas = WeakMapPrototype.has;
        nativeGet = WeakMapPrototype.get;
        nativeSet = WeakMapPrototype.set;
        redefineAll(WeakMapPrototype, {
          "delete": function(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeDelete.call(this, key) || state.frozen["delete"](key);
            }
            return nativeDelete.call(this, key);
          },
          has: function has(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeHas.call(this, key) || state.frozen.has(key);
            }
            return nativeHas.call(this, key);
          },
          get: function get(key) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);
            }
            return nativeGet.call(this, key);
          },
          set: function set(key, value) {
            if (isObject(key) && !isExtensible(key)) {
              var state = enforceIternalState(this);
              if (!state.frozen)
                state.frozen = new InternalWeakMap();
              nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);
            } else
              nativeSet.call(this, key, value);
            return this;
          }
        });
      }
      var WeakMapPrototype;
      var nativeDelete;
      var nativeHas;
      var nativeGet;
      var nativeSet;
    }
  });

  // ../../node_modules/core-js/modules/es.weak-set.js
  var require_es_weak_set = __commonJS({
    "../../node_modules/core-js/modules/es.weak-set.js": function() {
      "use strict";
      var collection = require_collection();
      var collectionWeak = require_collection_weak();
      collection("WeakSet", function(init) {
        return function WeakSet2() {
          return init(this, arguments.length ? arguments[0] : void 0);
        };
      }, collectionWeak);
    }
  });

  // ../../node_modules/core-js/internals/array-buffer-native.js
  var require_array_buffer_native = __commonJS({
    "../../node_modules/core-js/internals/array-buffer-native.js": function(exports, module) {
      module.exports = typeof ArrayBuffer !== "undefined" && typeof DataView !== "undefined";
    }
  });

  // ../../node_modules/core-js/internals/to-index.js
  var require_to_index = __commonJS({
    "../../node_modules/core-js/internals/to-index.js": function(exports, module) {
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      module.exports = function(it) {
        if (it === void 0)
          return 0;
        var number = toInteger(it);
        var length = toLength(number);
        if (number !== length)
          throw RangeError("Wrong length or index");
        return length;
      };
    }
  });

  // ../../node_modules/core-js/internals/ieee754.js
  var require_ieee754 = __commonJS({
    "../../node_modules/core-js/internals/ieee754.js": function(exports, module) {
      var Infinity2 = 1 / 0;
      var abs = Math.abs;
      var pow = Math.pow;
      var floor = Math.floor;
      var log = Math.log;
      var LN2 = Math.LN2;
      var pack = function(number, mantissaLength, bytes) {
        var buffer = new Array(bytes);
        var exponentLength = bytes * 8 - mantissaLength - 1;
        var eMax = (1 << exponentLength) - 1;
        var eBias = eMax >> 1;
        var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;
        var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;
        var index = 0;
        var exponent, mantissa, c;
        number = abs(number);
        if (number != number || number === Infinity2) {
          mantissa = number != number ? 1 : 0;
          exponent = eMax;
        } else {
          exponent = floor(log(number) / LN2);
          if (number * (c = pow(2, -exponent)) < 1) {
            exponent--;
            c *= 2;
          }
          if (exponent + eBias >= 1) {
            number += rt / c;
          } else {
            number += rt * pow(2, 1 - eBias);
          }
          if (number * c >= 2) {
            exponent++;
            c /= 2;
          }
          if (exponent + eBias >= eMax) {
            mantissa = 0;
            exponent = eMax;
          } else if (exponent + eBias >= 1) {
            mantissa = (number * c - 1) * pow(2, mantissaLength);
            exponent = exponent + eBias;
          } else {
            mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);
            exponent = 0;
          }
        }
        for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8)
          ;
        exponent = exponent << mantissaLength | mantissa;
        exponentLength += mantissaLength;
        for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8)
          ;
        buffer[--index] |= sign * 128;
        return buffer;
      };
      var unpack = function(buffer, mantissaLength) {
        var bytes = buffer.length;
        var exponentLength = bytes * 8 - mantissaLength - 1;
        var eMax = (1 << exponentLength) - 1;
        var eBias = eMax >> 1;
        var nBits = exponentLength - 7;
        var index = bytes - 1;
        var sign = buffer[index--];
        var exponent = sign & 127;
        var mantissa;
        sign >>= 7;
        for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8)
          ;
        mantissa = exponent & (1 << -nBits) - 1;
        exponent >>= -nBits;
        nBits += mantissaLength;
        for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8)
          ;
        if (exponent === 0) {
          exponent = 1 - eBias;
        } else if (exponent === eMax) {
          return mantissa ? NaN : sign ? -Infinity2 : Infinity2;
        } else {
          mantissa = mantissa + pow(2, mantissaLength);
          exponent = exponent - eBias;
        }
        return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);
      };
      module.exports = {
        pack: pack,
        unpack: unpack
      };
    }
  });

  // ../../node_modules/core-js/internals/array-buffer.js
  var require_array_buffer = __commonJS({
    "../../node_modules/core-js/internals/array-buffer.js": function(exports, module) {
      "use strict";
      var global2 = require_global();
      var DESCRIPTORS = require_descriptors();
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefineAll = require_redefine_all();
      var fails = require_fails();
      var anInstance = require_an_instance();
      var toInteger = require_to_integer();
      var toLength = require_to_length();
      var toIndex = require_to_index();
      var IEEE754 = require_ieee754();
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var defineProperty = require_object_define_property().f;
      var arrayFill = require_array_fill();
      var setToStringTag = require_set_to_string_tag();
      var InternalStateModule = require_internal_state();
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var ARRAY_BUFFER = "ArrayBuffer";
      var DATA_VIEW = "DataView";
      var PROTOTYPE = "prototype";
      var WRONG_LENGTH = "Wrong length";
      var WRONG_INDEX = "Wrong index";
      var NativeArrayBuffer = global2[ARRAY_BUFFER];
      var $ArrayBuffer = NativeArrayBuffer;
      var $DataView = global2[DATA_VIEW];
      var $DataViewPrototype = $DataView && $DataView[PROTOTYPE];
      var ObjectPrototype = Object.prototype;
      var RangeError2 = global2.RangeError;
      var packIEEE754 = IEEE754.pack;
      var unpackIEEE754 = IEEE754.unpack;
      var packInt8 = function(number) {
        return [number & 255];
      };
      var packInt16 = function(number) {
        return [number & 255, number >> 8 & 255];
      };
      var packInt32 = function(number) {
        return [number & 255, number >> 8 & 255, number >> 16 & 255, number >> 24 & 255];
      };
      var unpackInt32 = function(buffer) {
        return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];
      };
      var packFloat32 = function(number) {
        return packIEEE754(number, 23, 4);
      };
      var packFloat64 = function(number) {
        return packIEEE754(number, 52, 8);
      };
      var addGetter = function(Constructor, key2) {
        defineProperty(Constructor[PROTOTYPE], key2, { get: function() {
          return getInternalState(this)[key2];
        } });
      };
      var get = function(view, count, index, isLittleEndian) {
        var intIndex = toIndex(index);
        var store = getInternalState(view);
        if (intIndex + count > store.byteLength)
          throw RangeError2(WRONG_INDEX);
        var bytes = getInternalState(store.buffer).bytes;
        var start = intIndex + store.byteOffset;
        var pack = bytes.slice(start, start + count);
        return isLittleEndian ? pack : pack.reverse();
      };
      var set = function(view, count, index, conversion, value, isLittleEndian) {
        var intIndex = toIndex(index);
        var store = getInternalState(view);
        if (intIndex + count > store.byteLength)
          throw RangeError2(WRONG_INDEX);
        var bytes = getInternalState(store.buffer).bytes;
        var start = intIndex + store.byteOffset;
        var pack = conversion(+value);
        for (var i = 0; i < count; i++)
          bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];
      };
      if (!NATIVE_ARRAY_BUFFER) {
        $ArrayBuffer = function ArrayBuffer2(length) {
          anInstance(this, $ArrayBuffer, ARRAY_BUFFER);
          var byteLength = toIndex(length);
          setInternalState(this, {
            bytes: arrayFill.call(new Array(byteLength), 0),
            byteLength: byteLength
          });
          if (!DESCRIPTORS)
            this.byteLength = byteLength;
        };
        $DataView = function DataView2(buffer, byteOffset, byteLength) {
          anInstance(this, $DataView, DATA_VIEW);
          anInstance(buffer, $ArrayBuffer, DATA_VIEW);
          var bufferLength = getInternalState(buffer).byteLength;
          var offset = toInteger(byteOffset);
          if (offset < 0 || offset > bufferLength)
            throw RangeError2("Wrong offset");
          byteLength = byteLength === void 0 ? bufferLength - offset : toLength(byteLength);
          if (offset + byteLength > bufferLength)
            throw RangeError2(WRONG_LENGTH);
          setInternalState(this, {
            buffer: buffer,
            byteLength: byteLength,
            byteOffset: offset
          });
          if (!DESCRIPTORS) {
            this.buffer = buffer;
            this.byteLength = byteLength;
            this.byteOffset = offset;
          }
        };
        if (DESCRIPTORS) {
          addGetter($ArrayBuffer, "byteLength");
          addGetter($DataView, "buffer");
          addGetter($DataView, "byteLength");
          addGetter($DataView, "byteOffset");
        }
        redefineAll($DataView[PROTOTYPE], {
          getInt8: function getInt8(byteOffset) {
            return get(this, 1, byteOffset)[0] << 24 >> 24;
          },
          getUint8: function getUint8(byteOffset) {
            return get(this, 1, byteOffset)[0];
          },
          getInt16: function getInt16(byteOffset) {
            var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : void 0);
            return (bytes[1] << 8 | bytes[0]) << 16 >> 16;
          },
          getUint16: function getUint16(byteOffset) {
            var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : void 0);
            return bytes[1] << 8 | bytes[0];
          },
          getInt32: function getInt32(byteOffset) {
            return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0));
          },
          getUint32: function getUint32(byteOffset) {
            return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0)) >>> 0;
          },
          getFloat32: function getFloat32(byteOffset) {
            return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : void 0), 23);
          },
          getFloat64: function getFloat64(byteOffset) {
            return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : void 0), 52);
          },
          setInt8: function setInt8(byteOffset, value) {
            set(this, 1, byteOffset, packInt8, value);
          },
          setUint8: function setUint8(byteOffset, value) {
            set(this, 1, byteOffset, packInt8, value);
          },
          setInt16: function setInt16(byteOffset, value) {
            set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint16: function setUint16(byteOffset, value) {
            set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setInt32: function setInt32(byteOffset, value) {
            set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setUint32: function setUint32(byteOffset, value) {
            set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat32: function setFloat32(byteOffset, value) {
            set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : void 0);
          },
          setFloat64: function setFloat64(byteOffset, value) {
            set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : void 0);
          }
        });
      } else {
        if (!fails(function() {
          NativeArrayBuffer(1);
        }) || !fails(function() {
          new NativeArrayBuffer(-1);
        }) || fails(function() {
          new NativeArrayBuffer();
          new NativeArrayBuffer(1.5);
          new NativeArrayBuffer(NaN);
          return NativeArrayBuffer.name != ARRAY_BUFFER;
        })) {
          $ArrayBuffer = function ArrayBuffer2(length) {
            anInstance(this, $ArrayBuffer);
            return new NativeArrayBuffer(toIndex(length));
          };
          ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];
          for (keys = getOwnPropertyNames(NativeArrayBuffer), j = 0; keys.length > j; ) {
            if (!((key = keys[j++]) in $ArrayBuffer)) {
              createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);
            }
          }
          ArrayBufferPrototype.constructor = $ArrayBuffer;
        }
        if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {
          setPrototypeOf($DataViewPrototype, ObjectPrototype);
        }
        testView = new $DataView(new $ArrayBuffer(2));
        nativeSetInt8 = $DataViewPrototype.setInt8;
        testView.setInt8(0, 2147483648);
        testView.setInt8(1, 2147483649);
        if (testView.getInt8(0) || !testView.getInt8(1))
          redefineAll($DataViewPrototype, {
            setInt8: function setInt8(byteOffset, value) {
              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);
            },
            setUint8: function setUint8(byteOffset, value) {
              nativeSetInt8.call(this, byteOffset, value << 24 >> 24);
            }
          }, { unsafe: true });
      }
      var ArrayBufferPrototype;
      var keys;
      var j;
      var key;
      var testView;
      var nativeSetInt8;
      setToStringTag($ArrayBuffer, ARRAY_BUFFER);
      setToStringTag($DataView, DATA_VIEW);
      module.exports = {
        ArrayBuffer: $ArrayBuffer,
        DataView: $DataView
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.constructor.js
  var require_es_array_buffer_constructor = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.constructor.js": function() {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var arrayBufferModule = require_array_buffer();
      var setSpecies = require_set_species();
      var ARRAY_BUFFER = "ArrayBuffer";
      var ArrayBuffer2 = arrayBufferModule[ARRAY_BUFFER];
      var NativeArrayBuffer = global2[ARRAY_BUFFER];
      $({ global: true, forced: NativeArrayBuffer !== ArrayBuffer2 }, {
        ArrayBuffer: ArrayBuffer2
      });
      setSpecies(ARRAY_BUFFER);
    }
  });

  // ../../node_modules/core-js/internals/array-buffer-view-core.js
  var require_array_buffer_view_core = __commonJS({
    "../../node_modules/core-js/internals/array-buffer-view-core.js": function(exports, module) {
      "use strict";
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      var DESCRIPTORS = require_descriptors();
      var global2 = require_global();
      var isObject = require_is_object();
      var has = require_has();
      var classof = require_classof();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var redefine = require_redefine();
      var defineProperty = require_object_define_property().f;
      var getPrototypeOf = require_object_get_prototype_of();
      var setPrototypeOf = require_object_set_prototype_of();
      var wellKnownSymbol = require_well_known_symbol();
      var uid = require_uid();
      var Int8Array2 = global2.Int8Array;
      var Int8ArrayPrototype = Int8Array2 && Int8Array2.prototype;
      var Uint8ClampedArray = global2.Uint8ClampedArray;
      var Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;
      var TypedArray = Int8Array2 && getPrototypeOf(Int8Array2);
      var TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);
      var ObjectPrototype = Object.prototype;
      var isPrototypeOf = ObjectPrototype.isPrototypeOf;
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var TYPED_ARRAY_TAG = uid("TYPED_ARRAY_TAG");
      var NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global2.opera) !== "Opera";
      var TYPED_ARRAY_TAG_REQIRED = false;
      var NAME;
      var TypedArrayConstructorsList = {
        Int8Array: 1,
        Uint8Array: 1,
        Uint8ClampedArray: 1,
        Int16Array: 2,
        Uint16Array: 2,
        Int32Array: 4,
        Uint32Array: 4,
        Float32Array: 4,
        Float64Array: 8
      };
      var isView = function isView2(it) {
        var klass = classof(it);
        return klass === "DataView" || has(TypedArrayConstructorsList, klass);
      };
      var isTypedArray = function(it) {
        return isObject(it) && has(TypedArrayConstructorsList, classof(it));
      };
      var aTypedArray = function(it) {
        if (isTypedArray(it))
          return it;
        throw TypeError("Target is not a typed array");
      };
      var aTypedArrayConstructor = function(C) {
        if (setPrototypeOf) {
          if (isPrototypeOf.call(TypedArray, C))
            return C;
        } else
          for (var ARRAY in TypedArrayConstructorsList)
            if (has(TypedArrayConstructorsList, NAME)) {
              var TypedArrayConstructor = global2[ARRAY];
              if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {
                return C;
              }
            }
        throw TypeError("Target is not a typed array constructor");
      };
      var exportTypedArrayMethod = function(KEY, property, forced) {
        if (!DESCRIPTORS)
          return;
        if (forced)
          for (var ARRAY in TypedArrayConstructorsList) {
            var TypedArrayConstructor = global2[ARRAY];
            if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) {
              delete TypedArrayConstructor.prototype[KEY];
            }
          }
        if (!TypedArrayPrototype[KEY] || forced) {
          redefine(TypedArrayPrototype, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);
        }
      };
      var exportTypedArrayStaticMethod = function(KEY, property, forced) {
        var ARRAY, TypedArrayConstructor;
        if (!DESCRIPTORS)
          return;
        if (setPrototypeOf) {
          if (forced)
            for (ARRAY in TypedArrayConstructorsList) {
              TypedArrayConstructor = global2[ARRAY];
              if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) {
                delete TypedArrayConstructor[KEY];
              }
            }
          if (!TypedArray[KEY] || forced) {
            try {
              return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && Int8Array2[KEY] || property);
            } catch (error) {
            }
          } else
            return;
        }
        for (ARRAY in TypedArrayConstructorsList) {
          TypedArrayConstructor = global2[ARRAY];
          if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {
            redefine(TypedArrayConstructor, KEY, property);
          }
        }
      };
      for (NAME in TypedArrayConstructorsList) {
        if (!global2[NAME])
          NATIVE_ARRAY_BUFFER_VIEWS = false;
      }
      if (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != "function" || TypedArray === Function.prototype) {
        TypedArray = function TypedArray2() {
          throw TypeError("Incorrect invocation");
        };
        if (NATIVE_ARRAY_BUFFER_VIEWS)
          for (NAME in TypedArrayConstructorsList) {
            if (global2[NAME])
              setPrototypeOf(global2[NAME], TypedArray);
          }
      }
      if (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {
        TypedArrayPrototype = TypedArray.prototype;
        if (NATIVE_ARRAY_BUFFER_VIEWS)
          for (NAME in TypedArrayConstructorsList) {
            if (global2[NAME])
              setPrototypeOf(global2[NAME].prototype, TypedArrayPrototype);
          }
      }
      if (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {
        setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);
      }
      if (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {
        TYPED_ARRAY_TAG_REQIRED = true;
        defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function() {
          return isObject(this) ? this[TYPED_ARRAY_TAG] : void 0;
        } });
        for (NAME in TypedArrayConstructorsList)
          if (global2[NAME]) {
            createNonEnumerableProperty(global2[NAME], TYPED_ARRAY_TAG, NAME);
          }
      }
      module.exports = {
        NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,
        TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,
        aTypedArray: aTypedArray,
        aTypedArrayConstructor: aTypedArrayConstructor,
        exportTypedArrayMethod: exportTypedArrayMethod,
        exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,
        isView: isView,
        isTypedArray: isTypedArray,
        TypedArray: TypedArray,
        TypedArrayPrototype: TypedArrayPrototype
      };
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.is-view.js
  var require_es_array_buffer_is_view = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.is-view.js": function() {
      var $ = require_export();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
      $({ target: "ArrayBuffer", stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
        isView: ArrayBufferViewCore.isView
      });
    }
  });

  // ../../node_modules/core-js/modules/es.array-buffer.slice.js
  var require_es_array_buffer_slice = __commonJS({
    "../../node_modules/core-js/modules/es.array-buffer.slice.js": function() {
      "use strict";
      var $ = require_export();
      var fails = require_fails();
      var ArrayBufferModule = require_array_buffer();
      var anObject = require_an_object();
      var toAbsoluteIndex = require_to_absolute_index();
      var toLength = require_to_length();
      var speciesConstructor = require_species_constructor();
      var ArrayBuffer2 = ArrayBufferModule.ArrayBuffer;
      var DataView2 = ArrayBufferModule.DataView;
      var nativeArrayBufferSlice = ArrayBuffer2.prototype.slice;
      var INCORRECT_SLICE = fails(function() {
        return !new ArrayBuffer2(2).slice(1, void 0).byteLength;
      });
      $({ target: "ArrayBuffer", proto: true, unsafe: true, forced: INCORRECT_SLICE }, {
        slice: function slice(start, end) {
          if (nativeArrayBufferSlice !== void 0 && end === void 0) {
            return nativeArrayBufferSlice.call(anObject(this), start);
          }
          var length = anObject(this).byteLength;
          var first = toAbsoluteIndex(start, length);
          var fin = toAbsoluteIndex(end === void 0 ? length : end, length);
          var result = new (speciesConstructor(this, ArrayBuffer2))(toLength(fin - first));
          var viewSource = new DataView2(this);
          var viewTarget = new DataView2(result);
          var index = 0;
          while (first < fin) {
            viewTarget.setUint8(index++, viewSource.getUint8(first++));
          }
          return result;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.data-view.js
  var require_es_data_view = __commonJS({
    "../../node_modules/core-js/modules/es.data-view.js": function() {
      var $ = require_export();
      var ArrayBufferModule = require_array_buffer();
      var NATIVE_ARRAY_BUFFER = require_array_buffer_native();
      $({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {
        DataView: ArrayBufferModule.DataView
      });
    }
  });

  // ../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js
  var require_typed_array_constructors_require_wrappers = __commonJS({
    "../../node_modules/core-js/internals/typed-array-constructors-require-wrappers.js": function(exports, module) {
      var global2 = require_global();
      var fails = require_fails();
      var checkCorrectnessOfIteration = require_check_correctness_of_iteration();
      var NATIVE_ARRAY_BUFFER_VIEWS = require_array_buffer_view_core().NATIVE_ARRAY_BUFFER_VIEWS;
      var ArrayBuffer2 = global2.ArrayBuffer;
      var Int8Array2 = global2.Int8Array;
      module.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function() {
        Int8Array2(1);
      }) || !fails(function() {
        new Int8Array2(-1);
      }) || !checkCorrectnessOfIteration(function(iterable) {
        new Int8Array2();
        new Int8Array2(null);
        new Int8Array2(1.5);
        new Int8Array2(iterable);
      }, true) || fails(function() {
        return new Int8Array2(new ArrayBuffer2(2), 1, void 0).length !== 1;
      });
    }
  });

  // ../../node_modules/core-js/internals/to-positive-integer.js
  var require_to_positive_integer = __commonJS({
    "../../node_modules/core-js/internals/to-positive-integer.js": function(exports, module) {
      var toInteger = require_to_integer();
      module.exports = function(it) {
        var result = toInteger(it);
        if (result < 0)
          throw RangeError("The argument can't be less than 0");
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/to-offset.js
  var require_to_offset = __commonJS({
    "../../node_modules/core-js/internals/to-offset.js": function(exports, module) {
      var toPositiveInteger = require_to_positive_integer();
      module.exports = function(it, BYTES) {
        var offset = toPositiveInteger(it);
        if (offset % BYTES)
          throw RangeError("Wrong offset");
        return offset;
      };
    }
  });

  // ../../node_modules/core-js/internals/typed-array-from.js
  var require_typed_array_from = __commonJS({
    "../../node_modules/core-js/internals/typed-array-from.js": function(exports, module) {
      var toObject = require_to_object();
      var toLength = require_to_length();
      var getIteratorMethod = require_get_iterator_method();
      var isArrayIteratorMethod = require_is_array_iterator_method();
      var bind = require_function_bind_context();
      var aTypedArrayConstructor = require_array_buffer_view_core().aTypedArrayConstructor;
      module.exports = function from(source) {
        var O = toObject(source);
        var argumentsLength = arguments.length;
        var mapfn = argumentsLength > 1 ? arguments[1] : void 0;
        var mapping = mapfn !== void 0;
        var iteratorMethod = getIteratorMethod(O);
        var i, length, result, step, iterator, next;
        if (iteratorMethod != void 0 && !isArrayIteratorMethod(iteratorMethod)) {
          iterator = iteratorMethod.call(O);
          next = iterator.next;
          O = [];
          while (!(step = next.call(iterator)).done) {
            O.push(step.value);
          }
        }
        if (mapping && argumentsLength > 2) {
          mapfn = bind(mapfn, arguments[2], 2);
        }
        length = toLength(O.length);
        result = new (aTypedArrayConstructor(this))(length);
        for (i = 0; length > i; i++) {
          result[i] = mapping ? mapfn(O[i], i) : O[i];
        }
        return result;
      };
    }
  });

  // ../../node_modules/core-js/internals/typed-array-constructor.js
  var require_typed_array_constructor = __commonJS({
    "../../node_modules/core-js/internals/typed-array-constructor.js": function(exports, module) {
      "use strict";
      var $ = require_export();
      var global2 = require_global();
      var DESCRIPTORS = require_descriptors();
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var ArrayBufferModule = require_array_buffer();
      var anInstance = require_an_instance();
      var createPropertyDescriptor = require_create_property_descriptor();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var toLength = require_to_length();
      var toIndex = require_to_index();
      var toOffset = require_to_offset();
      var toPrimitive = require_to_primitive();
      var has = require_has();
      var classof = require_classof();
      var isObject = require_is_object();
      var create = require_object_create();
      var setPrototypeOf = require_object_set_prototype_of();
      var getOwnPropertyNames = require_object_get_own_property_names().f;
      var typedArrayFrom = require_typed_array_from();
      var forEach = require_array_iteration().forEach;
      var setSpecies = require_set_species();
      var definePropertyModule = require_object_define_property();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var InternalStateModule = require_internal_state();
      var inheritIfRequired = require_inherit_if_required();
      var getInternalState = InternalStateModule.get;
      var setInternalState = InternalStateModule.set;
      var nativeDefineProperty = definePropertyModule.f;
      var nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
      var round = Math.round;
      var RangeError2 = global2.RangeError;
      var ArrayBuffer2 = ArrayBufferModule.ArrayBuffer;
      var DataView2 = ArrayBufferModule.DataView;
      var NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;
      var TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;
      var TypedArray = ArrayBufferViewCore.TypedArray;
      var TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var isTypedArray = ArrayBufferViewCore.isTypedArray;
      var BYTES_PER_ELEMENT = "BYTES_PER_ELEMENT";
      var WRONG_LENGTH = "Wrong length";
      var fromList = function(C, list) {
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      };
      var addGetter = function(it, key) {
        nativeDefineProperty(it, key, { get: function() {
          return getInternalState(this)[key];
        } });
      };
      var isArrayBuffer = function(it) {
        var klass;
        return it instanceof ArrayBuffer2 || (klass = classof(it)) == "ArrayBuffer" || klass == "SharedArrayBuffer";
      };
      var isTypedArrayIndex = function(target, key) {
        return isTypedArray(target) && typeof key != "symbol" && key in target && String(+key) == String(key);
      };
      var wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {
        return isTypedArrayIndex(target, key = toPrimitive(key, true)) ? createPropertyDescriptor(2, target[key]) : nativeGetOwnPropertyDescriptor(target, key);
      };
      var wrappedDefineProperty = function defineProperty(target, key, descriptor) {
        if (isTypedArrayIndex(target, key = toPrimitive(key, true)) && isObject(descriptor) && has(descriptor, "value") && !has(descriptor, "get") && !has(descriptor, "set") && !descriptor.configurable && (!has(descriptor, "writable") || descriptor.writable) && (!has(descriptor, "enumerable") || descriptor.enumerable)) {
          target[key] = descriptor.value;
          return target;
        }
        return nativeDefineProperty(target, key, descriptor);
      };
      if (DESCRIPTORS) {
        if (!NATIVE_ARRAY_BUFFER_VIEWS) {
          getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;
          definePropertyModule.f = wrappedDefineProperty;
          addGetter(TypedArrayPrototype, "buffer");
          addGetter(TypedArrayPrototype, "byteOffset");
          addGetter(TypedArrayPrototype, "byteLength");
          addGetter(TypedArrayPrototype, "length");
        }
        $({ target: "Object", stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {
          getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,
          defineProperty: wrappedDefineProperty
        });
        module.exports = function(TYPE, wrapper, CLAMPED) {
          var BYTES = TYPE.match(/\d+$/)[0] / 8;
          var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? "Clamped" : "") + "Array";
          var GETTER = "get" + TYPE;
          var SETTER = "set" + TYPE;
          var NativeTypedArrayConstructor = global2[CONSTRUCTOR_NAME];
          var TypedArrayConstructor = NativeTypedArrayConstructor;
          var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;
          var exported = {};
          var getter = function(that, index) {
            var data = getInternalState(that);
            return data.view[GETTER](index * BYTES + data.byteOffset, true);
          };
          var setter = function(that, index, value) {
            var data = getInternalState(that);
            if (CLAMPED)
              value = (value = round(value)) < 0 ? 0 : value > 255 ? 255 : value & 255;
            data.view[SETTER](index * BYTES + data.byteOffset, value, true);
          };
          var addElement = function(that, index) {
            nativeDefineProperty(that, index, {
              get: function() {
                return getter(this, index);
              },
              set: function(value) {
                return setter(this, index, value);
              },
              enumerable: true
            });
          };
          if (!NATIVE_ARRAY_BUFFER_VIEWS) {
            TypedArrayConstructor = wrapper(function(that, data, offset, $length) {
              anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);
              var index = 0;
              var byteOffset = 0;
              var buffer, byteLength, length;
              if (!isObject(data)) {
                length = toIndex(data);
                byteLength = length * BYTES;
                buffer = new ArrayBuffer2(byteLength);
              } else if (isArrayBuffer(data)) {
                buffer = data;
                byteOffset = toOffset(offset, BYTES);
                var $len = data.byteLength;
                if ($length === void 0) {
                  if ($len % BYTES)
                    throw RangeError2(WRONG_LENGTH);
                  byteLength = $len - byteOffset;
                  if (byteLength < 0)
                    throw RangeError2(WRONG_LENGTH);
                } else {
                  byteLength = toLength($length) * BYTES;
                  if (byteLength + byteOffset > $len)
                    throw RangeError2(WRONG_LENGTH);
                }
                length = byteLength / BYTES;
              } else if (isTypedArray(data)) {
                return fromList(TypedArrayConstructor, data);
              } else {
                return typedArrayFrom.call(TypedArrayConstructor, data);
              }
              setInternalState(that, {
                buffer: buffer,
                byteOffset: byteOffset,
                byteLength: byteLength,
                length: length,
                view: new DataView2(buffer)
              });
              while (index < length)
                addElement(that, index++);
            });
            if (setPrototypeOf)
              setPrototypeOf(TypedArrayConstructor, TypedArray);
            TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);
          } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {
            TypedArrayConstructor = wrapper(function(dummy, data, typedArrayOffset, $length) {
              anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);
              return inheritIfRequired(function() {
                if (!isObject(data))
                  return new NativeTypedArrayConstructor(toIndex(data));
                if (isArrayBuffer(data))
                  return $length !== void 0 ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length) : typedArrayOffset !== void 0 ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES)) : new NativeTypedArrayConstructor(data);
                if (isTypedArray(data))
                  return fromList(TypedArrayConstructor, data);
                return typedArrayFrom.call(TypedArrayConstructor, data);
              }(), dummy, TypedArrayConstructor);
            });
            if (setPrototypeOf)
              setPrototypeOf(TypedArrayConstructor, TypedArray);
            forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function(key) {
              if (!(key in TypedArrayConstructor)) {
                createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);
              }
            });
            TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;
          }
          if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, "constructor", TypedArrayConstructor);
          }
          if (TYPED_ARRAY_TAG) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);
          }
          exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;
          $({
            global: true,
            forced: TypedArrayConstructor != NativeTypedArrayConstructor,
            sham: !NATIVE_ARRAY_BUFFER_VIEWS
          }, exported);
          if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {
            createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);
          }
          if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {
            createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);
          }
          setSpecies(CONSTRUCTOR_NAME);
        };
      } else
        module.exports = function() {
        };
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int8-array.js
  var require_es_typed_array_int8_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int8-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int8", function(init) {
        return function Int8Array2(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint8-array.js
  var require_es_typed_array_uint8_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint8-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint8", function(init) {
        return function Uint8Array2(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js
  var require_es_typed_array_uint8_clamped_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint8", function(init) {
        return function Uint8ClampedArray(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      }, true);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int16-array.js
  var require_es_typed_array_int16_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int16-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int16", function(init) {
        return function Int16Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint16-array.js
  var require_es_typed_array_uint16_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint16-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint16", function(init) {
        return function Uint16Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.int32-array.js
  var require_es_typed_array_int32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.int32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Int32", function(init) {
        return function Int32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.uint32-array.js
  var require_es_typed_array_uint32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.uint32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Uint32", function(init) {
        return function Uint32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.float32-array.js
  var require_es_typed_array_float32_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.float32-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Float32", function(init) {
        return function Float32Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.float64-array.js
  var require_es_typed_array_float64_array = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.float64-array.js": function() {
      var createTypedArrayConstructor = require_typed_array_constructor();
      createTypedArrayConstructor("Float64", function(init) {
        return function Float64Array(data, byteOffset, length) {
          return init(this, data, byteOffset, length);
        };
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.from.js
  var require_es_typed_array_from = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.from.js": function() {
      "use strict";
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var exportTypedArrayStaticMethod = require_array_buffer_view_core().exportTypedArrayStaticMethod;
      var typedArrayFrom = require_typed_array_from();
      exportTypedArrayStaticMethod("from", typedArrayFrom, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.of.js
  var require_es_typed_array_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require_typed_array_constructors_require_wrappers();
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayStaticMethod = ArrayBufferViewCore.exportTypedArrayStaticMethod;
      exportTypedArrayStaticMethod("of", function of() {
        var index = 0;
        var length = arguments.length;
        var result = new (aTypedArrayConstructor(this))(length);
        while (length > index)
          result[index] = arguments[index++];
        return result;
      }, TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.copy-within.js
  var require_es_typed_array_copy_within = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.copy-within.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $copyWithin = require_array_copy_within();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("copyWithin", function copyWithin(target, start) {
        return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.every.js
  var require_es_typed_array_every = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.every.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $every = require_array_iteration().every;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("every", function every(callbackfn) {
        return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.fill.js
  var require_es_typed_array_fill = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.fill.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $fill = require_array_fill();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("fill", function fill(value) {
        return $fill.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.filter.js
  var require_es_typed_array_filter = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.filter.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $filter = require_array_iteration().filter;
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("filter", function filter(callbackfn) {
        var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
        var C = speciesConstructor(this, this.constructor);
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.find.js
  var require_es_typed_array_find = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.find.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $find = require_array_iteration().find;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("find", function find(predicate) {
        return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.find-index.js
  var require_es_typed_array_find_index = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.find-index.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $findIndex = require_array_iteration().findIndex;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("findIndex", function findIndex(predicate) {
        return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.for-each.js
  var require_es_typed_array_for_each = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.for-each.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $forEach = require_array_iteration().forEach;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("forEach", function forEach(callbackfn) {
        $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.includes.js
  var require_es_typed_array_includes = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.includes.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $includes = require_array_includes().includes;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("includes", function includes(searchElement) {
        return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.index-of.js
  var require_es_typed_array_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.index-of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $indexOf = require_array_includes().indexOf;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("indexOf", function indexOf(searchElement) {
        return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.iterator.js
  var require_es_typed_array_iterator = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.iterator.js": function() {
      "use strict";
      var global2 = require_global();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var ArrayIterators = require_es_array_iterator();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var Uint8Array2 = global2.Uint8Array;
      var arrayValues = ArrayIterators.values;
      var arrayKeys = ArrayIterators.keys;
      var arrayEntries = ArrayIterators.entries;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var nativeTypedArrayIterator = Uint8Array2 && Uint8Array2.prototype[ITERATOR];
      var CORRECT_ITER_NAME = !!nativeTypedArrayIterator && (nativeTypedArrayIterator.name == "values" || nativeTypedArrayIterator.name == void 0);
      var typedArrayValues = function values() {
        return arrayValues.call(aTypedArray(this));
      };
      exportTypedArrayMethod("entries", function entries() {
        return arrayEntries.call(aTypedArray(this));
      });
      exportTypedArrayMethod("keys", function keys() {
        return arrayKeys.call(aTypedArray(this));
      });
      exportTypedArrayMethod("values", typedArrayValues, !CORRECT_ITER_NAME);
      exportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.join.js
  var require_es_typed_array_join = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.join.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $join = [].join;
      exportTypedArrayMethod("join", function join(separator) {
        return $join.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.last-index-of.js
  var require_es_typed_array_last_index_of = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.last-index-of.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $lastIndexOf = require_array_last_index_of();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("lastIndexOf", function lastIndexOf(searchElement) {
        return $lastIndexOf.apply(aTypedArray(this), arguments);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.map.js
  var require_es_typed_array_map = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.map.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $map = require_array_iteration().map;
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("map", function map(mapfn) {
        return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : void 0, function(O, length) {
          return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);
        });
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reduce.js
  var require_es_typed_array_reduce = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reduce.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $reduce = require_array_reduce().left;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("reduce", function reduce(callbackfn) {
        return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reduce-right.js
  var require_es_typed_array_reduce_right = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reduce-right.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $reduceRight = require_array_reduce().right;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("reduceRight", function reduceRight(callbackfn) {
        return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.reverse.js
  var require_es_typed_array_reverse = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.reverse.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var floor = Math.floor;
      exportTypedArrayMethod("reverse", function reverse() {
        var that = this;
        var length = aTypedArray(that).length;
        var middle = floor(length / 2);
        var index = 0;
        var value;
        while (index < middle) {
          value = that[index];
          that[index++] = that[--length];
          that[length] = value;
        }
        return that;
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.set.js
  var require_es_typed_array_set = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.set.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var toLength = require_to_length();
      var toOffset = require_to_offset();
      var toObject = require_to_object();
      var fails = require_fails();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var FORCED = fails(function() {
        new Int8Array(1).set({});
      });
      exportTypedArrayMethod("set", function set(arrayLike) {
        aTypedArray(this);
        var offset = toOffset(arguments.length > 1 ? arguments[1] : void 0, 1);
        var length = this.length;
        var src = toObject(arrayLike);
        var len = toLength(src.length);
        var index = 0;
        if (len + offset > length)
          throw RangeError("Wrong length");
        while (index < len)
          this[offset + index] = src[index++];
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.slice.js
  var require_es_typed_array_slice = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.slice.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var speciesConstructor = require_species_constructor();
      var fails = require_fails();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $slice = [].slice;
      var FORCED = fails(function() {
        new Int8Array(1).slice();
      });
      exportTypedArrayMethod("slice", function slice(start, end) {
        var list = $slice.call(aTypedArray(this), start, end);
        var C = speciesConstructor(this, this.constructor);
        var index = 0;
        var length = list.length;
        var result = new (aTypedArrayConstructor(C))(length);
        while (length > index)
          result[index] = list[index++];
        return result;
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.some.js
  var require_es_typed_array_some = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.some.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var $some = require_array_iteration().some;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("some", function some(callbackfn) {
        return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : void 0);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.sort.js
  var require_es_typed_array_sort = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.sort.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $sort = [].sort;
      exportTypedArrayMethod("sort", function sort(comparefn) {
        return $sort.call(aTypedArray(this), comparefn);
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.subarray.js
  var require_es_typed_array_subarray = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.subarray.js": function() {
      "use strict";
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var toLength = require_to_length();
      var toAbsoluteIndex = require_to_absolute_index();
      var speciesConstructor = require_species_constructor();
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      exportTypedArrayMethod("subarray", function subarray(begin, end) {
        var O = aTypedArray(this);
        var length = O.length;
        var beginIndex = toAbsoluteIndex(begin, length);
        return new (speciesConstructor(O, O.constructor))(O.buffer, O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT, toLength((end === void 0 ? length : toAbsoluteIndex(end, length)) - beginIndex));
      });
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.to-locale-string.js
  var require_es_typed_array_to_locale_string = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.to-locale-string.js": function() {
      "use strict";
      var global2 = require_global();
      var ArrayBufferViewCore = require_array_buffer_view_core();
      var fails = require_fails();
      var Int8Array2 = global2.Int8Array;
      var aTypedArray = ArrayBufferViewCore.aTypedArray;
      var exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;
      var $toLocaleString = [].toLocaleString;
      var $slice = [].slice;
      var TO_LOCALE_STRING_BUG = !!Int8Array2 && fails(function() {
        $toLocaleString.call(new Int8Array2(1));
      });
      var FORCED = fails(function() {
        return [1, 2].toLocaleString() != new Int8Array2([1, 2]).toLocaleString();
      }) || !fails(function() {
        Int8Array2.prototype.toLocaleString.call([1, 2]);
      });
      exportTypedArrayMethod("toLocaleString", function toLocaleString() {
        return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);
      }, FORCED);
    }
  });

  // ../../node_modules/core-js/modules/es.typed-array.to-string.js
  var require_es_typed_array_to_string = __commonJS({
    "../../node_modules/core-js/modules/es.typed-array.to-string.js": function() {
      "use strict";
      var exportTypedArrayMethod = require_array_buffer_view_core().exportTypedArrayMethod;
      var fails = require_fails();
      var global2 = require_global();
      var Uint8Array2 = global2.Uint8Array;
      var Uint8ArrayPrototype = Uint8Array2 && Uint8Array2.prototype || {};
      var arrayToString = [].toString;
      var arrayJoin = [].join;
      if (fails(function() {
        arrayToString.call({});
      })) {
        arrayToString = function toString() {
          return arrayJoin.call(this);
        };
      }
      var IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;
      exportTypedArrayMethod("toString", arrayToString, IS_NOT_ARRAY_METHOD);
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.apply.js
  var require_es_reflect_apply = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.apply.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var fails = require_fails();
      var nativeApply = getBuiltIn("Reflect", "apply");
      var functionApply = Function.apply;
      var OPTIONAL_ARGUMENTS_LIST = !fails(function() {
        nativeApply(function() {
        });
      });
      $({ target: "Reflect", stat: true, forced: OPTIONAL_ARGUMENTS_LIST }, {
        apply: function apply(target, thisArgument, argumentsList) {
          aFunction(target);
          anObject(argumentsList);
          return nativeApply ? nativeApply(target, thisArgument, argumentsList) : functionApply.call(target, thisArgument, argumentsList);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.construct.js
  var require_es_reflect_construct = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.construct.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var aFunction = require_a_function();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var create = require_object_create();
      var bind = require_function_bind();
      var fails = require_fails();
      var nativeConstruct = getBuiltIn("Reflect", "construct");
      var NEW_TARGET_BUG = fails(function() {
        function F() {
        }
        return !(nativeConstruct(function() {
        }, [], F) instanceof F);
      });
      var ARGS_BUG = !fails(function() {
        nativeConstruct(function() {
        });
      });
      var FORCED = NEW_TARGET_BUG || ARGS_BUG;
      $({ target: "Reflect", stat: true, forced: FORCED, sham: FORCED }, {
        construct: function construct(Target, args) {
          aFunction(Target);
          anObject(args);
          var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
          if (ARGS_BUG && !NEW_TARGET_BUG)
            return nativeConstruct(Target, args, newTarget);
          if (Target == newTarget) {
            switch (args.length) {
              case 0:
                return new Target();
              case 1:
                return new Target(args[0]);
              case 2:
                return new Target(args[0], args[1]);
              case 3:
                return new Target(args[0], args[1], args[2]);
              case 4:
                return new Target(args[0], args[1], args[2], args[3]);
            }
            var $args = [null];
            $args.push.apply($args, args);
            return new (bind.apply(Target, $args))();
          }
          var proto = newTarget.prototype;
          var instance = create(isObject(proto) ? proto : Object.prototype);
          var result = Function.apply.call(Target, instance, args);
          return isObject(result) ? result : instance;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.define-property.js
  var require_es_reflect_define_property = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.define-property.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var anObject = require_an_object();
      var toPrimitive = require_to_primitive();
      var definePropertyModule = require_object_define_property();
      var fails = require_fails();
      var ERROR_INSTEAD_OF_FALSE = fails(function() {
        Reflect.defineProperty(definePropertyModule.f({}, 1, { value: 1 }), 1, { value: 2 });
      });
      $({ target: "Reflect", stat: true, forced: ERROR_INSTEAD_OF_FALSE, sham: !DESCRIPTORS }, {
        defineProperty: function defineProperty(target, propertyKey, attributes) {
          anObject(target);
          var key = toPrimitive(propertyKey, true);
          anObject(attributes);
          try {
            definePropertyModule.f(target, key, attributes);
            return true;
          } catch (error) {
            return false;
          }
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.delete-property.js
  var require_es_reflect_delete_property = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.delete-property.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var getOwnPropertyDescriptor = require_object_get_own_property_descriptor().f;
      $({ target: "Reflect", stat: true }, {
        deleteProperty: function deleteProperty(target, propertyKey) {
          var descriptor = getOwnPropertyDescriptor(anObject(target), propertyKey);
          return descriptor && !descriptor.configurable ? false : delete target[propertyKey];
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get.js
  var require_es_reflect_get = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get.js": function() {
      var $ = require_export();
      var isObject = require_is_object();
      var anObject = require_an_object();
      var has = require_has();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var getPrototypeOf = require_object_get_prototype_of();
      function get(target, propertyKey) {
        var receiver = arguments.length < 3 ? target : arguments[2];
        var descriptor, prototype;
        if (anObject(target) === receiver)
          return target[propertyKey];
        if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey))
          return has(descriptor, "value") ? descriptor.value : descriptor.get === void 0 ? void 0 : descriptor.get.call(receiver);
        if (isObject(prototype = getPrototypeOf(target)))
          return get(prototype, propertyKey, receiver);
      }
      $({ target: "Reflect", stat: true }, {
        get: get
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js
  var require_es_reflect_get_own_property_descriptor = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get-own-property-descriptor.js": function() {
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var anObject = require_an_object();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      $({ target: "Reflect", stat: true, sham: !DESCRIPTORS }, {
        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
          return getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.get-prototype-of.js
  var require_es_reflect_get_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.get-prototype-of.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var objectGetPrototypeOf = require_object_get_prototype_of();
      var CORRECT_PROTOTYPE_GETTER = require_correct_prototype_getter();
      $({ target: "Reflect", stat: true, sham: !CORRECT_PROTOTYPE_GETTER }, {
        getPrototypeOf: function getPrototypeOf(target) {
          return objectGetPrototypeOf(anObject(target));
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.has.js
  var require_es_reflect_has = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.has.js": function() {
      var $ = require_export();
      $({ target: "Reflect", stat: true }, {
        has: function has(target, propertyKey) {
          return propertyKey in target;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.is-extensible.js
  var require_es_reflect_is_extensible = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.is-extensible.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var objectIsExtensible = Object.isExtensible;
      $({ target: "Reflect", stat: true }, {
        isExtensible: function isExtensible(target) {
          anObject(target);
          return objectIsExtensible ? objectIsExtensible(target) : true;
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.own-keys.js
  var require_es_reflect_own_keys = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.own-keys.js": function() {
      var $ = require_export();
      var ownKeys = require_own_keys();
      $({ target: "Reflect", stat: true }, {
        ownKeys: ownKeys
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.prevent-extensions.js
  var require_es_reflect_prevent_extensions = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.prevent-extensions.js": function() {
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var anObject = require_an_object();
      var FREEZING = require_freezing();
      $({ target: "Reflect", stat: true, sham: !FREEZING }, {
        preventExtensions: function preventExtensions(target) {
          anObject(target);
          try {
            var objectPreventExtensions = getBuiltIn("Object", "preventExtensions");
            if (objectPreventExtensions)
              objectPreventExtensions(target);
            return true;
          } catch (error) {
            return false;
          }
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.set.js
  var require_es_reflect_set = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.set.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var has = require_has();
      var fails = require_fails();
      var definePropertyModule = require_object_define_property();
      var getOwnPropertyDescriptorModule = require_object_get_own_property_descriptor();
      var getPrototypeOf = require_object_get_prototype_of();
      var createPropertyDescriptor = require_create_property_descriptor();
      function set(target, propertyKey, V) {
        var receiver = arguments.length < 4 ? target : arguments[3];
        var ownDescriptor = getOwnPropertyDescriptorModule.f(anObject(target), propertyKey);
        var existingDescriptor, prototype;
        if (!ownDescriptor) {
          if (isObject(prototype = getPrototypeOf(target))) {
            return set(prototype, propertyKey, V, receiver);
          }
          ownDescriptor = createPropertyDescriptor(0);
        }
        if (has(ownDescriptor, "value")) {
          if (ownDescriptor.writable === false || !isObject(receiver))
            return false;
          if (existingDescriptor = getOwnPropertyDescriptorModule.f(receiver, propertyKey)) {
            if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false)
              return false;
            existingDescriptor.value = V;
            definePropertyModule.f(receiver, propertyKey, existingDescriptor);
          } else
            definePropertyModule.f(receiver, propertyKey, createPropertyDescriptor(0, V));
          return true;
        }
        return ownDescriptor.set === void 0 ? false : (ownDescriptor.set.call(receiver, V), true);
      }
      var MS_EDGE_BUG = fails(function() {
        var object = definePropertyModule.f({}, "a", { configurable: true });
        return Reflect.set(getPrototypeOf(object), "a", 1, object) !== false;
      });
      $({ target: "Reflect", stat: true, forced: MS_EDGE_BUG }, {
        set: set
      });
    }
  });

  // ../../node_modules/core-js/modules/es.reflect.set-prototype-of.js
  var require_es_reflect_set_prototype_of = __commonJS({
    "../../node_modules/core-js/modules/es.reflect.set-prototype-of.js": function() {
      var $ = require_export();
      var anObject = require_an_object();
      var aPossiblePrototype = require_a_possible_prototype();
      var objectSetPrototypeOf = require_object_set_prototype_of();
      if (objectSetPrototypeOf)
        $({ target: "Reflect", stat: true }, {
          setPrototypeOf: function setPrototypeOf(target, proto) {
            anObject(target);
            aPossiblePrototype(proto);
            try {
              objectSetPrototypeOf(target, proto);
              return true;
            } catch (error) {
              return false;
            }
          }
        });
    }
  });

  // ../../node_modules/core-js/es/index.js
  var require_es = __commonJS({
    "../../node_modules/core-js/es/index.js": function(exports, module) {
      require_es_symbol();
      require_es_symbol_async_iterator();
      require_es_symbol_description();
      require_es_symbol_has_instance();
      require_es_symbol_is_concat_spreadable();
      require_es_symbol_iterator();
      require_es_symbol_match();
      require_es_symbol_match_all();
      require_es_symbol_replace();
      require_es_symbol_search();
      require_es_symbol_species();
      require_es_symbol_split();
      require_es_symbol_to_primitive();
      require_es_symbol_to_string_tag();
      require_es_symbol_unscopables();
      require_es_object_assign();
      require_es_object_create();
      require_es_object_define_property();
      require_es_object_define_properties();
      require_es_object_entries();
      require_es_object_freeze();
      require_es_object_from_entries();
      require_es_object_get_own_property_descriptor();
      require_es_object_get_own_property_descriptors();
      require_es_object_get_own_property_names();
      require_es_object_get_prototype_of();
      require_es_object_is();
      require_es_object_is_extensible();
      require_es_object_is_frozen();
      require_es_object_is_sealed();
      require_es_object_keys();
      require_es_object_prevent_extensions();
      require_es_object_seal();
      require_es_object_set_prototype_of();
      require_es_object_values();
      require_es_object_to_string();
      require_es_object_define_getter();
      require_es_object_define_setter();
      require_es_object_lookup_getter();
      require_es_object_lookup_setter();
      require_es_function_bind();
      require_es_function_name();
      require_es_function_has_instance();
      require_es_global_this();
      require_es_array_from();
      require_es_array_is_array();
      require_es_array_of();
      require_es_array_concat();
      require_es_array_copy_within();
      require_es_array_every();
      require_es_array_fill();
      require_es_array_filter();
      require_es_array_find();
      require_es_array_find_index();
      require_es_array_flat();
      require_es_array_flat_map();
      require_es_array_for_each();
      require_es_array_includes();
      require_es_array_index_of();
      require_es_array_join();
      require_es_array_last_index_of();
      require_es_array_map();
      require_es_array_reduce();
      require_es_array_reduce_right();
      require_es_array_reverse();
      require_es_array_slice();
      require_es_array_some();
      require_es_array_sort();
      require_es_array_splice();
      require_es_array_species();
      require_es_array_unscopables_flat();
      require_es_array_unscopables_flat_map();
      require_es_array_iterator();
      require_es_string_from_code_point();
      require_es_string_raw();
      require_es_string_code_point_at();
      require_es_string_ends_with();
      require_es_string_includes();
      require_es_string_match();
      require_es_string_match_all();
      require_es_string_pad_end();
      require_es_string_pad_start();
      require_es_string_repeat();
      require_es_string_replace();
      require_es_string_search();
      require_es_string_split();
      require_es_string_starts_with();
      require_es_string_trim();
      require_es_string_trim_start();
      require_es_string_trim_end();
      require_es_string_iterator();
      require_es_string_anchor();
      require_es_string_big();
      require_es_string_blink();
      require_es_string_bold();
      require_es_string_fixed();
      require_es_string_fontcolor();
      require_es_string_fontsize();
      require_es_string_italics();
      require_es_string_link();
      require_es_string_small();
      require_es_string_strike();
      require_es_string_sub();
      require_es_string_sup();
      require_es_regexp_constructor();
      require_es_regexp_exec();
      require_es_regexp_flags();
      require_es_regexp_sticky();
      require_es_regexp_test();
      require_es_regexp_to_string();
      require_es_parse_int();
      require_es_parse_float();
      require_es_number_constructor();
      require_es_number_epsilon();
      require_es_number_is_finite();
      require_es_number_is_integer();
      require_es_number_is_nan();
      require_es_number_is_safe_integer();
      require_es_number_max_safe_integer();
      require_es_number_min_safe_integer();
      require_es_number_parse_float();
      require_es_number_parse_int();
      require_es_number_to_fixed();
      require_es_number_to_precision();
      require_es_math_acosh();
      require_es_math_asinh();
      require_es_math_atanh();
      require_es_math_cbrt();
      require_es_math_clz32();
      require_es_math_cosh();
      require_es_math_expm1();
      require_es_math_fround();
      require_es_math_hypot();
      require_es_math_imul();
      require_es_math_log10();
      require_es_math_log1p();
      require_es_math_log2();
      require_es_math_sign();
      require_es_math_sinh();
      require_es_math_tanh();
      require_es_math_to_string_tag();
      require_es_math_trunc();
      require_es_date_now();
      require_es_date_to_json();
      require_es_date_to_iso_string();
      require_es_date_to_string();
      require_es_date_to_primitive();
      require_es_json_stringify();
      require_es_json_to_string_tag();
      require_es_promise();
      require_es_promise_all_settled();
      require_es_promise_finally();
      require_es_map();
      require_es_set();
      require_es_weak_map();
      require_es_weak_set();
      require_es_array_buffer_constructor();
      require_es_array_buffer_is_view();
      require_es_array_buffer_slice();
      require_es_data_view();
      require_es_typed_array_int8_array();
      require_es_typed_array_uint8_array();
      require_es_typed_array_uint8_clamped_array();
      require_es_typed_array_int16_array();
      require_es_typed_array_uint16_array();
      require_es_typed_array_int32_array();
      require_es_typed_array_uint32_array();
      require_es_typed_array_float32_array();
      require_es_typed_array_float64_array();
      require_es_typed_array_from();
      require_es_typed_array_of();
      require_es_typed_array_copy_within();
      require_es_typed_array_every();
      require_es_typed_array_fill();
      require_es_typed_array_filter();
      require_es_typed_array_find();
      require_es_typed_array_find_index();
      require_es_typed_array_for_each();
      require_es_typed_array_includes();
      require_es_typed_array_index_of();
      require_es_typed_array_iterator();
      require_es_typed_array_join();
      require_es_typed_array_last_index_of();
      require_es_typed_array_map();
      require_es_typed_array_reduce();
      require_es_typed_array_reduce_right();
      require_es_typed_array_reverse();
      require_es_typed_array_set();
      require_es_typed_array_slice();
      require_es_typed_array_some();
      require_es_typed_array_sort();
      require_es_typed_array_subarray();
      require_es_typed_array_to_locale_string();
      require_es_typed_array_to_string();
      require_es_reflect_apply();
      require_es_reflect_construct();
      require_es_reflect_define_property();
      require_es_reflect_delete_property();
      require_es_reflect_get();
      require_es_reflect_get_own_property_descriptor();
      require_es_reflect_get_prototype_of();
      require_es_reflect_has();
      require_es_reflect_is_extensible();
      require_es_reflect_own_keys();
      require_es_reflect_prevent_extensions();
      require_es_reflect_set();
      require_es_reflect_set_prototype_of();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/core-js/internals/dom-iterables.js
  var require_dom_iterables = __commonJS({
    "../../node_modules/core-js/internals/dom-iterables.js": function(exports, module) {
      module.exports = {
        CSSRuleList: 0,
        CSSStyleDeclaration: 0,
        CSSValueList: 0,
        ClientRectList: 0,
        DOMRectList: 0,
        DOMStringList: 0,
        DOMTokenList: 1,
        DataTransferItemList: 0,
        FileList: 0,
        HTMLAllCollection: 0,
        HTMLCollection: 0,
        HTMLFormElement: 0,
        HTMLSelectElement: 0,
        MediaList: 0,
        MimeTypeArray: 0,
        NamedNodeMap: 0,
        NodeList: 1,
        PaintRequestList: 0,
        Plugin: 0,
        PluginArray: 0,
        SVGLengthList: 0,
        SVGNumberList: 0,
        SVGPathSegList: 0,
        SVGPointList: 0,
        SVGStringList: 0,
        SVGTransformList: 0,
        SourceBufferList: 0,
        StyleSheetList: 0,
        TextTrackCueList: 0,
        TextTrackList: 0,
        TouchList: 0
      };
    }
  });

  // ../../node_modules/core-js/modules/web.dom-collections.for-each.js
  var require_web_dom_collections_for_each = __commonJS({
    "../../node_modules/core-js/modules/web.dom-collections.for-each.js": function() {
      var global2 = require_global();
      var DOMIterables = require_dom_iterables();
      var forEach = require_array_for_each();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      for (COLLECTION_NAME in DOMIterables) {
        Collection = global2[COLLECTION_NAME];
        CollectionPrototype = Collection && Collection.prototype;
        if (CollectionPrototype && CollectionPrototype.forEach !== forEach)
          try {
            createNonEnumerableProperty(CollectionPrototype, "forEach", forEach);
          } catch (error) {
            CollectionPrototype.forEach = forEach;
          }
      }
      var Collection;
      var CollectionPrototype;
      var COLLECTION_NAME;
    }
  });

  // ../../node_modules/core-js/modules/web.dom-collections.iterator.js
  var require_web_dom_collections_iterator = __commonJS({
    "../../node_modules/core-js/modules/web.dom-collections.iterator.js": function() {
      var global2 = require_global();
      var DOMIterables = require_dom_iterables();
      var ArrayIteratorMethods = require_es_array_iterator();
      var createNonEnumerableProperty = require_create_non_enumerable_property();
      var wellKnownSymbol = require_well_known_symbol();
      var ITERATOR = wellKnownSymbol("iterator");
      var TO_STRING_TAG = wellKnownSymbol("toStringTag");
      var ArrayValues = ArrayIteratorMethods.values;
      for (COLLECTION_NAME in DOMIterables) {
        Collection = global2[COLLECTION_NAME];
        CollectionPrototype = Collection && Collection.prototype;
        if (CollectionPrototype) {
          if (CollectionPrototype[ITERATOR] !== ArrayValues)
            try {
              createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);
            } catch (error) {
              CollectionPrototype[ITERATOR] = ArrayValues;
            }
          if (!CollectionPrototype[TO_STRING_TAG]) {
            createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);
          }
          if (DOMIterables[COLLECTION_NAME])
            for (METHOD_NAME in ArrayIteratorMethods) {
              if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME])
                try {
                  createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);
                } catch (error) {
                  CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];
                }
            }
        }
      }
      var Collection;
      var CollectionPrototype;
      var METHOD_NAME;
      var COLLECTION_NAME;
    }
  });

  // ../../node_modules/core-js/modules/web.immediate.js
  var require_web_immediate = __commonJS({
    "../../node_modules/core-js/modules/web.immediate.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var task = require_task();
      var FORCED = !global2.setImmediate || !global2.clearImmediate;
      $({ global: true, bind: true, enumerable: true, forced: FORCED }, {
        setImmediate: task.set,
        clearImmediate: task.clear
      });
    }
  });

  // ../../node_modules/core-js/modules/web.queue-microtask.js
  var require_web_queue_microtask = __commonJS({
    "../../node_modules/core-js/modules/web.queue-microtask.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var microtask = require_microtask();
      var classof = require_classof_raw();
      var process = global2.process;
      var isNode = classof(process) == "process";
      $({ global: true, enumerable: true, noTargetGet: true }, {
        queueMicrotask: function queueMicrotask(fn) {
          var domain = isNode && process.domain;
          microtask(domain ? domain.bind(fn) : fn);
        }
      });
    }
  });

  // ../../node_modules/core-js/modules/web.timers.js
  var require_web_timers = __commonJS({
    "../../node_modules/core-js/modules/web.timers.js": function() {
      var $ = require_export();
      var global2 = require_global();
      var userAgent = require_engine_user_agent();
      var slice = [].slice;
      var MSIE = /MSIE .\./.test(userAgent);
      var wrap = function(scheduler) {
        return function(handler, timeout) {
          var boundArgs = arguments.length > 2;
          var args = boundArgs ? slice.call(arguments, 2) : void 0;
          return scheduler(boundArgs ? function() {
            (typeof handler == "function" ? handler : Function(handler)).apply(this, args);
          } : handler, timeout);
        };
      };
      $({ global: true, bind: true, forced: MSIE }, {
        setTimeout: wrap(global2.setTimeout),
        setInterval: wrap(global2.setInterval)
      });
    }
  });

  // ../../node_modules/core-js/internals/native-url.js
  var require_native_url = __commonJS({
    "../../node_modules/core-js/internals/native-url.js": function(exports, module) {
      var fails = require_fails();
      var wellKnownSymbol = require_well_known_symbol();
      var IS_PURE = require_is_pure();
      var ITERATOR = wellKnownSymbol("iterator");
      module.exports = !fails(function() {
        var url = new URL("b?a=1&b=2&c=3", "http://a");
        var searchParams = url.searchParams;
        var result = "";
        url.pathname = "c%20d";
        searchParams.forEach(function(value, key) {
          searchParams["delete"]("b");
          result += key + value;
        });
        return IS_PURE && !url.toJSON || !searchParams.sort || url.href !== "http://a/c%20d?a=1&c=3" || searchParams.get("c") !== "3" || String(new URLSearchParams("?a=1")) !== "a=1" || !searchParams[ITERATOR] || new URL("https://a@b").username !== "a" || new URLSearchParams(new URLSearchParams("a=b")).get("a") !== "b" || new URL("http://\u0442\u0435\u0441\u0442").host !== "xn--e1aybc" || new URL("http://a#\u0431").hash !== "#%D0%B1" || result !== "a1c3" || new URL("http://x", void 0).host !== "x";
      });
    }
  });

  // ../../node_modules/core-js/internals/string-punycode-to-ascii.js
  var require_string_punycode_to_ascii = __commonJS({
    "../../node_modules/core-js/internals/string-punycode-to-ascii.js": function(exports, module) {
      "use strict";
      var maxInt = 2147483647;
      var base = 36;
      var tMin = 1;
      var tMax = 26;
      var skew = 38;
      var damp = 700;
      var initialBias = 72;
      var initialN = 128;
      var delimiter = "-";
      var regexNonASCII = /[^\0-\u007E]/;
      var regexSeparators = /[.\u3002\uFF0E\uFF61]/g;
      var OVERFLOW_ERROR = "Overflow: input needs wider integers to process";
      var baseMinusTMin = base - tMin;
      var floor = Math.floor;
      var stringFromCharCode = String.fromCharCode;
      var ucs2decode = function(string) {
        var output = [];
        var counter = 0;
        var length = string.length;
        while (counter < length) {
          var value = string.charCodeAt(counter++);
          if (value >= 55296 && value <= 56319 && counter < length) {
            var extra = string.charCodeAt(counter++);
            if ((extra & 64512) == 56320) {
              output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
            } else {
              output.push(value);
              counter--;
            }
          } else {
            output.push(value);
          }
        }
        return output;
      };
      var digitToBasic = function(digit) {
        return digit + 22 + 75 * (digit < 26);
      };
      var adapt = function(delta, numPoints, firstTime) {
        var k = 0;
        delta = firstTime ? floor(delta / damp) : delta >> 1;
        delta += floor(delta / numPoints);
        for (; delta > baseMinusTMin * tMax >> 1; k += base) {
          delta = floor(delta / baseMinusTMin);
        }
        return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
      };
      var encode = function(input) {
        var output = [];
        input = ucs2decode(input);
        var inputLength = input.length;
        var n = initialN;
        var delta = 0;
        var bias = initialBias;
        var i, currentValue;
        for (i = 0; i < input.length; i++) {
          currentValue = input[i];
          if (currentValue < 128) {
            output.push(stringFromCharCode(currentValue));
          }
        }
        var basicLength = output.length;
        var handledCPCount = basicLength;
        if (basicLength) {
          output.push(delimiter);
        }
        while (handledCPCount < inputLength) {
          var m = maxInt;
          for (i = 0; i < input.length; i++) {
            currentValue = input[i];
            if (currentValue >= n && currentValue < m) {
              m = currentValue;
            }
          }
          var handledCPCountPlusOne = handledCPCount + 1;
          if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
            throw RangeError(OVERFLOW_ERROR);
          }
          delta += (m - n) * handledCPCountPlusOne;
          n = m;
          for (i = 0; i < input.length; i++) {
            currentValue = input[i];
            if (currentValue < n && ++delta > maxInt) {
              throw RangeError(OVERFLOW_ERROR);
            }
            if (currentValue == n) {
              var q = delta;
              for (var k = base; ; k += base) {
                var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
                if (q < t)
                  break;
                var qMinusT = q - t;
                var baseMinusT = base - t;
                output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT)));
                q = floor(qMinusT / baseMinusT);
              }
              output.push(stringFromCharCode(digitToBasic(q)));
              bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
              delta = 0;
              ++handledCPCount;
            }
          }
          ++delta;
          ++n;
        }
        return output.join("");
      };
      module.exports = function(input) {
        var encoded = [];
        var labels = input.toLowerCase().replace(regexSeparators, ".").split(".");
        var i, label;
        for (i = 0; i < labels.length; i++) {
          label = labels[i];
          encoded.push(regexNonASCII.test(label) ? "xn--" + encode(label) : label);
        }
        return encoded.join(".");
      };
    }
  });

  // ../../node_modules/core-js/internals/get-iterator.js
  var require_get_iterator = __commonJS({
    "../../node_modules/core-js/internals/get-iterator.js": function(exports, module) {
      var anObject = require_an_object();
      var getIteratorMethod = require_get_iterator_method();
      module.exports = function(it) {
        var iteratorMethod = getIteratorMethod(it);
        if (typeof iteratorMethod != "function") {
          throw TypeError(String(it) + " is not iterable");
        }
        return anObject(iteratorMethod.call(it));
      };
    }
  });

  // ../../node_modules/core-js/modules/web.url-search-params.js
  var require_web_url_search_params = __commonJS({
    "../../node_modules/core-js/modules/web.url-search-params.js": function(exports, module) {
      "use strict";
      require_es_array_iterator();
      var $ = require_export();
      var getBuiltIn = require_get_built_in();
      var USE_NATIVE_URL = require_native_url();
      var redefine = require_redefine();
      var redefineAll = require_redefine_all();
      var setToStringTag = require_set_to_string_tag();
      var createIteratorConstructor = require_create_iterator_constructor();
      var InternalStateModule = require_internal_state();
      var anInstance = require_an_instance();
      var hasOwn = require_has();
      var bind = require_function_bind_context();
      var classof = require_classof();
      var anObject = require_an_object();
      var isObject = require_is_object();
      var create = require_object_create();
      var createPropertyDescriptor = require_create_property_descriptor();
      var getIterator = require_get_iterator();
      var getIteratorMethod = require_get_iterator_method();
      var wellKnownSymbol = require_well_known_symbol();
      var $fetch = getBuiltIn("fetch");
      var Headers = getBuiltIn("Headers");
      var ITERATOR = wellKnownSymbol("iterator");
      var URL_SEARCH_PARAMS = "URLSearchParams";
      var URL_SEARCH_PARAMS_ITERATOR = URL_SEARCH_PARAMS + "Iterator";
      var setInternalState = InternalStateModule.set;
      var getInternalParamsState = InternalStateModule.getterFor(URL_SEARCH_PARAMS);
      var getInternalIteratorState = InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);
      var plus = /\+/g;
      var sequences = Array(4);
      var percentSequence = function(bytes) {
        return sequences[bytes - 1] || (sequences[bytes - 1] = RegExp("((?:%[\\da-f]{2}){" + bytes + "})", "gi"));
      };
      var percentDecode = function(sequence) {
        try {
          return decodeURIComponent(sequence);
        } catch (error) {
          return sequence;
        }
      };
      var deserialize = function(it) {
        var result = it.replace(plus, " ");
        var bytes = 4;
        try {
          return decodeURIComponent(result);
        } catch (error) {
          while (bytes) {
            result = result.replace(percentSequence(bytes--), percentDecode);
          }
          return result;
        }
      };
      var find = /[!'()~]|%20/g;
      var replace = {
        "!": "%21",
        "'": "%27",
        "(": "%28",
        ")": "%29",
        "~": "%7E",
        "%20": "+"
      };
      var replacer = function(match) {
        return replace[match];
      };
      var serialize = function(it) {
        return encodeURIComponent(it).replace(find, replacer);
      };
      var parseSearchParams = function(result, query) {
        if (query) {
          var attributes = query.split("&");
          var index = 0;
          var attribute, entry;
          while (index < attributes.length) {
            attribute = attributes[index++];
            if (attribute.length) {
              entry = attribute.split("=");
              result.push({
                key: deserialize(entry.shift()),
                value: deserialize(entry.join("="))
              });
            }
          }
        }
      };
      var updateSearchParams = function(query) {
        this.entries.length = 0;
        parseSearchParams(this.entries, query);
      };
      var validateArgumentsLength = function(passed, required) {
        if (passed < required)
          throw TypeError("Not enough arguments");
      };
      var URLSearchParamsIterator = createIteratorConstructor(function Iterator(params, kind) {
        setInternalState(this, {
          type: URL_SEARCH_PARAMS_ITERATOR,
          iterator: getIterator(getInternalParamsState(params).entries),
          kind: kind
        });
      }, "Iterator", function next() {
        var state = getInternalIteratorState(this);
        var kind = state.kind;
        var step = state.iterator.next();
        var entry = step.value;
        if (!step.done) {
          step.value = kind === "keys" ? entry.key : kind === "values" ? entry.value : [entry.key, entry.value];
        }
        return step;
      });
      var URLSearchParamsConstructor = function URLSearchParams2() {
        anInstance(this, URLSearchParamsConstructor, URL_SEARCH_PARAMS);
        var init = arguments.length > 0 ? arguments[0] : void 0;
        var that = this;
        var entries = [];
        var iteratorMethod, iterator, next, step, entryIterator, entryNext, first, second, key;
        setInternalState(that, {
          type: URL_SEARCH_PARAMS,
          entries: entries,
          updateURL: function() {
          },
          updateSearchParams: updateSearchParams
        });
        if (init !== void 0) {
          if (isObject(init)) {
            iteratorMethod = getIteratorMethod(init);
            if (typeof iteratorMethod === "function") {
              iterator = iteratorMethod.call(init);
              next = iterator.next;
              while (!(step = next.call(iterator)).done) {
                entryIterator = getIterator(anObject(step.value));
                entryNext = entryIterator.next;
                if ((first = entryNext.call(entryIterator)).done || (second = entryNext.call(entryIterator)).done || !entryNext.call(entryIterator).done)
                  throw TypeError("Expected sequence with length 2");
                entries.push({ key: first.value + "", value: second.value + "" });
              }
            } else
              for (key in init)
                if (hasOwn(init, key))
                  entries.push({ key: key, value: init[key] + "" });
          } else {
            parseSearchParams(entries, typeof init === "string" ? init.charAt(0) === "?" ? init.slice(1) : init : init + "");
          }
        }
      };
      var URLSearchParamsPrototype = URLSearchParamsConstructor.prototype;
      redefineAll(URLSearchParamsPrototype, {
        append: function append(name, value) {
          validateArgumentsLength(arguments.length, 2);
          var state = getInternalParamsState(this);
          state.entries.push({ key: name + "", value: value + "" });
          state.updateURL();
        },
        "delete": function(name) {
          validateArgumentsLength(arguments.length, 1);
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var key = name + "";
          var index = 0;
          while (index < entries.length) {
            if (entries[index].key === key)
              entries.splice(index, 1);
            else
              index++;
          }
          state.updateURL();
        },
        get: function get(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var index = 0;
          for (; index < entries.length; index++) {
            if (entries[index].key === key)
              return entries[index].value;
          }
          return null;
        },
        getAll: function getAll(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var result = [];
          var index = 0;
          for (; index < entries.length; index++) {
            if (entries[index].key === key)
              result.push(entries[index].value);
          }
          return result;
        },
        has: function has(name) {
          validateArgumentsLength(arguments.length, 1);
          var entries = getInternalParamsState(this).entries;
          var key = name + "";
          var index = 0;
          while (index < entries.length) {
            if (entries[index++].key === key)
              return true;
          }
          return false;
        },
        set: function set(name, value) {
          validateArgumentsLength(arguments.length, 1);
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var found = false;
          var key = name + "";
          var val = value + "";
          var index = 0;
          var entry;
          for (; index < entries.length; index++) {
            entry = entries[index];
            if (entry.key === key) {
              if (found)
                entries.splice(index--, 1);
              else {
                found = true;
                entry.value = val;
              }
            }
          }
          if (!found)
            entries.push({ key: key, value: val });
          state.updateURL();
        },
        sort: function sort() {
          var state = getInternalParamsState(this);
          var entries = state.entries;
          var slice = entries.slice();
          var entry, entriesIndex, sliceIndex;
          entries.length = 0;
          for (sliceIndex = 0; sliceIndex < slice.length; sliceIndex++) {
            entry = slice[sliceIndex];
            for (entriesIndex = 0; entriesIndex < sliceIndex; entriesIndex++) {
              if (entries[entriesIndex].key > entry.key) {
                entries.splice(entriesIndex, 0, entry);
                break;
              }
            }
            if (entriesIndex === sliceIndex)
              entries.push(entry);
          }
          state.updateURL();
        },
        forEach: function forEach(callback) {
          var entries = getInternalParamsState(this).entries;
          var boundFunction = bind(callback, arguments.length > 1 ? arguments[1] : void 0, 3);
          var index = 0;
          var entry;
          while (index < entries.length) {
            entry = entries[index++];
            boundFunction(entry.value, entry.key, this);
          }
        },
        keys: function keys() {
          return new URLSearchParamsIterator(this, "keys");
        },
        values: function values() {
          return new URLSearchParamsIterator(this, "values");
        },
        entries: function entries() {
          return new URLSearchParamsIterator(this, "entries");
        }
      }, { enumerable: true });
      redefine(URLSearchParamsPrototype, ITERATOR, URLSearchParamsPrototype.entries);
      redefine(URLSearchParamsPrototype, "toString", function toString() {
        var entries = getInternalParamsState(this).entries;
        var result = [];
        var index = 0;
        var entry;
        while (index < entries.length) {
          entry = entries[index++];
          result.push(serialize(entry.key) + "=" + serialize(entry.value));
        }
        return result.join("&");
      }, { enumerable: true });
      setToStringTag(URLSearchParamsConstructor, URL_SEARCH_PARAMS);
      $({ global: true, forced: !USE_NATIVE_URL }, {
        URLSearchParams: URLSearchParamsConstructor
      });
      if (!USE_NATIVE_URL && typeof $fetch == "function" && typeof Headers == "function") {
        $({ global: true, enumerable: true, forced: true }, {
          fetch: function fetch(input) {
            var args = [input];
            var init, body, headers;
            if (arguments.length > 1) {
              init = arguments[1];
              if (isObject(init)) {
                body = init.body;
                if (classof(body) === URL_SEARCH_PARAMS) {
                  headers = init.headers ? new Headers(init.headers) : new Headers();
                  if (!headers.has("content-type")) {
                    headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8");
                  }
                  init = create(init, {
                    body: createPropertyDescriptor(0, String(body)),
                    headers: createPropertyDescriptor(0, headers)
                  });
                }
              }
              args.push(init);
            }
            return $fetch.apply(this, args);
          }
        });
      }
      module.exports = {
        URLSearchParams: URLSearchParamsConstructor,
        getState: getInternalParamsState
      };
    }
  });

  // ../../node_modules/core-js/modules/web.url.js
  var require_web_url = __commonJS({
    "../../node_modules/core-js/modules/web.url.js": function() {
      "use strict";
      require_es_string_iterator();
      var $ = require_export();
      var DESCRIPTORS = require_descriptors();
      var USE_NATIVE_URL = require_native_url();
      var global2 = require_global();
      var defineProperties = require_object_define_properties();
      var redefine = require_redefine();
      var anInstance = require_an_instance();
      var has = require_has();
      var assign = require_object_assign2();
      var arrayFrom = require_array_from();
      var codeAt = require_string_multibyte().codeAt;
      var toASCII = require_string_punycode_to_ascii();
      var setToStringTag = require_set_to_string_tag();
      var URLSearchParamsModule = require_web_url_search_params();
      var InternalStateModule = require_internal_state();
      var NativeURL = global2.URL;
      var URLSearchParams2 = URLSearchParamsModule.URLSearchParams;
      var getInternalSearchParamsState = URLSearchParamsModule.getState;
      var setInternalState = InternalStateModule.set;
      var getInternalURLState = InternalStateModule.getterFor("URL");
      var floor = Math.floor;
      var pow = Math.pow;
      var INVALID_AUTHORITY = "Invalid authority";
      var INVALID_SCHEME = "Invalid scheme";
      var INVALID_HOST = "Invalid host";
      var INVALID_PORT = "Invalid port";
      var ALPHA = /[A-Za-z]/;
      var ALPHANUMERIC = /[\d+-.A-Za-z]/;
      var DIGIT = /\d/;
      var HEX_START = /^(0x|0X)/;
      var OCT = /^[0-7]+$/;
      var DEC = /^\d+$/;
      var HEX = /^[\dA-Fa-f]+$/;
      var FORBIDDEN_HOST_CODE_POINT = /[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;
      var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT = /[\u0000\u0009\u000A\u000D #/:?@[\\]]/;
      var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE = /^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;
      var TAB_AND_NEW_LINE = /[\u0009\u000A\u000D]/g;
      var EOF;
      var parseHost = function(url, input) {
        var result, codePoints, index;
        if (input.charAt(0) == "[") {
          if (input.charAt(input.length - 1) != "]")
            return INVALID_HOST;
          result = parseIPv6(input.slice(1, -1));
          if (!result)
            return INVALID_HOST;
          url.host = result;
        } else if (!isSpecial(url)) {
          if (FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))
            return INVALID_HOST;
          result = "";
          codePoints = arrayFrom(input);
          for (index = 0; index < codePoints.length; index++) {
            result += percentEncode(codePoints[index], C0ControlPercentEncodeSet);
          }
          url.host = result;
        } else {
          input = toASCII(input);
          if (FORBIDDEN_HOST_CODE_POINT.test(input))
            return INVALID_HOST;
          result = parseIPv4(input);
          if (result === null)
            return INVALID_HOST;
          url.host = result;
        }
      };
      var parseIPv4 = function(input) {
        var parts = input.split(".");
        var partsLength, numbers, index, part, radix, number, ipv4;
        if (parts.length && parts[parts.length - 1] == "") {
          parts.pop();
        }
        partsLength = parts.length;
        if (partsLength > 4)
          return input;
        numbers = [];
        for (index = 0; index < partsLength; index++) {
          part = parts[index];
          if (part == "")
            return input;
          radix = 10;
          if (part.length > 1 && part.charAt(0) == "0") {
            radix = HEX_START.test(part) ? 16 : 8;
            part = part.slice(radix == 8 ? 1 : 2);
          }
          if (part === "") {
            number = 0;
          } else {
            if (!(radix == 10 ? DEC : radix == 8 ? OCT : HEX).test(part))
              return input;
            number = parseInt(part, radix);
          }
          numbers.push(number);
        }
        for (index = 0; index < partsLength; index++) {
          number = numbers[index];
          if (index == partsLength - 1) {
            if (number >= pow(256, 5 - partsLength))
              return null;
          } else if (number > 255)
            return null;
        }
        ipv4 = numbers.pop();
        for (index = 0; index < numbers.length; index++) {
          ipv4 += numbers[index] * pow(256, 3 - index);
        }
        return ipv4;
      };
      var parseIPv6 = function(input) {
        var address = [0, 0, 0, 0, 0, 0, 0, 0];
        var pieceIndex = 0;
        var compress = null;
        var pointer = 0;
        var value, length, numbersSeen, ipv4Piece, number, swaps, swap;
        var char = function() {
          return input.charAt(pointer);
        };
        if (char() == ":") {
          if (input.charAt(1) != ":")
            return;
          pointer += 2;
          pieceIndex++;
          compress = pieceIndex;
        }
        while (char()) {
          if (pieceIndex == 8)
            return;
          if (char() == ":") {
            if (compress !== null)
              return;
            pointer++;
            pieceIndex++;
            compress = pieceIndex;
            continue;
          }
          value = length = 0;
          while (length < 4 && HEX.test(char())) {
            value = value * 16 + parseInt(char(), 16);
            pointer++;
            length++;
          }
          if (char() == ".") {
            if (length == 0)
              return;
            pointer -= length;
            if (pieceIndex > 6)
              return;
            numbersSeen = 0;
            while (char()) {
              ipv4Piece = null;
              if (numbersSeen > 0) {
                if (char() == "." && numbersSeen < 4)
                  pointer++;
                else
                  return;
              }
              if (!DIGIT.test(char()))
                return;
              while (DIGIT.test(char())) {
                number = parseInt(char(), 10);
                if (ipv4Piece === null)
                  ipv4Piece = number;
                else if (ipv4Piece == 0)
                  return;
                else
                  ipv4Piece = ipv4Piece * 10 + number;
                if (ipv4Piece > 255)
                  return;
                pointer++;
              }
              address[pieceIndex] = address[pieceIndex] * 256 + ipv4Piece;
              numbersSeen++;
              if (numbersSeen == 2 || numbersSeen == 4)
                pieceIndex++;
            }
            if (numbersSeen != 4)
              return;
            break;
          } else if (char() == ":") {
            pointer++;
            if (!char())
              return;
          } else if (char())
            return;
          address[pieceIndex++] = value;
        }
        if (compress !== null) {
          swaps = pieceIndex - compress;
          pieceIndex = 7;
          while (pieceIndex != 0 && swaps > 0) {
            swap = address[pieceIndex];
            address[pieceIndex--] = address[compress + swaps - 1];
            address[compress + --swaps] = swap;
          }
        } else if (pieceIndex != 8)
          return;
        return address;
      };
      var findLongestZeroSequence = function(ipv6) {
        var maxIndex = null;
        var maxLength = 1;
        var currStart = null;
        var currLength = 0;
        var index = 0;
        for (; index < 8; index++) {
          if (ipv6[index] !== 0) {
            if (currLength > maxLength) {
              maxIndex = currStart;
              maxLength = currLength;
            }
            currStart = null;
            currLength = 0;
          } else {
            if (currStart === null)
              currStart = index;
            ++currLength;
          }
        }
        if (currLength > maxLength) {
          maxIndex = currStart;
          maxLength = currLength;
        }
        return maxIndex;
      };
      var serializeHost = function(host) {
        var result, index, compress, ignore0;
        if (typeof host == "number") {
          result = [];
          for (index = 0; index < 4; index++) {
            result.unshift(host % 256);
            host = floor(host / 256);
          }
          return result.join(".");
        } else if (typeof host == "object") {
          result = "";
          compress = findLongestZeroSequence(host);
          for (index = 0; index < 8; index++) {
            if (ignore0 && host[index] === 0)
              continue;
            if (ignore0)
              ignore0 = false;
            if (compress === index) {
              result += index ? ":" : "::";
              ignore0 = true;
            } else {
              result += host[index].toString(16);
              if (index < 7)
                result += ":";
            }
          }
          return "[" + result + "]";
        }
        return host;
      };
      var C0ControlPercentEncodeSet = {};
      var fragmentPercentEncodeSet = assign({}, C0ControlPercentEncodeSet, {
        " ": 1,
        '"': 1,
        "<": 1,
        ">": 1,
        "`": 1
      });
      var pathPercentEncodeSet = assign({}, fragmentPercentEncodeSet, {
        "#": 1,
        "?": 1,
        "{": 1,
        "}": 1
      });
      var userinfoPercentEncodeSet = assign({}, pathPercentEncodeSet, {
        "/": 1,
        ":": 1,
        ";": 1,
        "=": 1,
        "@": 1,
        "[": 1,
        "\\": 1,
        "]": 1,
        "^": 1,
        "|": 1
      });
      var percentEncode = function(char, set) {
        var code = codeAt(char, 0);
        return code > 32 && code < 127 && !has(set, char) ? char : encodeURIComponent(char);
      };
      var specialSchemes = {
        ftp: 21,
        file: null,
        http: 80,
        https: 443,
        ws: 80,
        wss: 443
      };
      var isSpecial = function(url) {
        return has(specialSchemes, url.scheme);
      };
      var includesCredentials = function(url) {
        return url.username != "" || url.password != "";
      };
      var cannotHaveUsernamePasswordPort = function(url) {
        return !url.host || url.cannotBeABaseURL || url.scheme == "file";
      };
      var isWindowsDriveLetter = function(string, normalized) {
        var second;
        return string.length == 2 && ALPHA.test(string.charAt(0)) && ((second = string.charAt(1)) == ":" || !normalized && second == "|");
      };
      var startsWithWindowsDriveLetter = function(string) {
        var third;
        return string.length > 1 && isWindowsDriveLetter(string.slice(0, 2)) && (string.length == 2 || ((third = string.charAt(2)) === "/" || third === "\\" || third === "?" || third === "#"));
      };
      var shortenURLsPath = function(url) {
        var path = url.path;
        var pathSize = path.length;
        if (pathSize && (url.scheme != "file" || pathSize != 1 || !isWindowsDriveLetter(path[0], true))) {
          path.pop();
        }
      };
      var isSingleDot = function(segment) {
        return segment === "." || segment.toLowerCase() === "%2e";
      };
      var isDoubleDot = function(segment) {
        segment = segment.toLowerCase();
        return segment === ".." || segment === "%2e." || segment === ".%2e" || segment === "%2e%2e";
      };
      var SCHEME_START = {};
      var SCHEME = {};
      var NO_SCHEME = {};
      var SPECIAL_RELATIVE_OR_AUTHORITY = {};
      var PATH_OR_AUTHORITY = {};
      var RELATIVE = {};
      var RELATIVE_SLASH = {};
      var SPECIAL_AUTHORITY_SLASHES = {};
      var SPECIAL_AUTHORITY_IGNORE_SLASHES = {};
      var AUTHORITY = {};
      var HOST = {};
      var HOSTNAME = {};
      var PORT = {};
      var FILE = {};
      var FILE_SLASH = {};
      var FILE_HOST = {};
      var PATH_START = {};
      var PATH = {};
      var CANNOT_BE_A_BASE_URL_PATH = {};
      var QUERY = {};
      var FRAGMENT = {};
      var parseURL = function(url, input, stateOverride, base) {
        var state = stateOverride || SCHEME_START;
        var pointer = 0;
        var buffer = "";
        var seenAt = false;
        var seenBracket = false;
        var seenPasswordToken = false;
        var codePoints, char, bufferCodePoints, failure;
        if (!stateOverride) {
          url.scheme = "";
          url.username = "";
          url.password = "";
          url.host = null;
          url.port = null;
          url.path = [];
          url.query = null;
          url.fragment = null;
          url.cannotBeABaseURL = false;
          input = input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE, "");
        }
        input = input.replace(TAB_AND_NEW_LINE, "");
        codePoints = arrayFrom(input);
        while (pointer <= codePoints.length) {
          char = codePoints[pointer];
          switch (state) {
            case SCHEME_START:
              if (char && ALPHA.test(char)) {
                buffer += char.toLowerCase();
                state = SCHEME;
              } else if (!stateOverride) {
                state = NO_SCHEME;
                continue;
              } else
                return INVALID_SCHEME;
              break;
            case SCHEME:
              if (char && (ALPHANUMERIC.test(char) || char == "+" || char == "-" || char == ".")) {
                buffer += char.toLowerCase();
              } else if (char == ":") {
                if (stateOverride && (isSpecial(url) != has(specialSchemes, buffer) || buffer == "file" && (includesCredentials(url) || url.port !== null) || url.scheme == "file" && !url.host))
                  return;
                url.scheme = buffer;
                if (stateOverride) {
                  if (isSpecial(url) && specialSchemes[url.scheme] == url.port)
                    url.port = null;
                  return;
                }
                buffer = "";
                if (url.scheme == "file") {
                  state = FILE;
                } else if (isSpecial(url) && base && base.scheme == url.scheme) {
                  state = SPECIAL_RELATIVE_OR_AUTHORITY;
                } else if (isSpecial(url)) {
                  state = SPECIAL_AUTHORITY_SLASHES;
                } else if (codePoints[pointer + 1] == "/") {
                  state = PATH_OR_AUTHORITY;
                  pointer++;
                } else {
                  url.cannotBeABaseURL = true;
                  url.path.push("");
                  state = CANNOT_BE_A_BASE_URL_PATH;
                }
              } else if (!stateOverride) {
                buffer = "";
                state = NO_SCHEME;
                pointer = 0;
                continue;
              } else
                return INVALID_SCHEME;
              break;
            case NO_SCHEME:
              if (!base || base.cannotBeABaseURL && char != "#")
                return INVALID_SCHEME;
              if (base.cannotBeABaseURL && char == "#") {
                url.scheme = base.scheme;
                url.path = base.path.slice();
                url.query = base.query;
                url.fragment = "";
                url.cannotBeABaseURL = true;
                state = FRAGMENT;
                break;
              }
              state = base.scheme == "file" ? FILE : RELATIVE;
              continue;
            case SPECIAL_RELATIVE_OR_AUTHORITY:
              if (char == "/" && codePoints[pointer + 1] == "/") {
                state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
                pointer++;
              } else {
                state = RELATIVE;
                continue;
              }
              break;
            case PATH_OR_AUTHORITY:
              if (char == "/") {
                state = AUTHORITY;
                break;
              } else {
                state = PATH;
                continue;
              }
            case RELATIVE:
              url.scheme = base.scheme;
              if (char == EOF) {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = base.query;
              } else if (char == "/" || char == "\\" && isSpecial(url)) {
                state = RELATIVE_SLASH;
              } else if (char == "?") {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = "";
                state = QUERY;
              } else if (char == "#") {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.query = base.query;
                url.fragment = "";
                state = FRAGMENT;
              } else {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                url.path = base.path.slice();
                url.path.pop();
                state = PATH;
                continue;
              }
              break;
            case RELATIVE_SLASH:
              if (isSpecial(url) && (char == "/" || char == "\\")) {
                state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
              } else if (char == "/") {
                state = AUTHORITY;
              } else {
                url.username = base.username;
                url.password = base.password;
                url.host = base.host;
                url.port = base.port;
                state = PATH;
                continue;
              }
              break;
            case SPECIAL_AUTHORITY_SLASHES:
              state = SPECIAL_AUTHORITY_IGNORE_SLASHES;
              if (char != "/" || buffer.charAt(pointer + 1) != "/")
                continue;
              pointer++;
              break;
            case SPECIAL_AUTHORITY_IGNORE_SLASHES:
              if (char != "/" && char != "\\") {
                state = AUTHORITY;
                continue;
              }
              break;
            case AUTHORITY:
              if (char == "@") {
                if (seenAt)
                  buffer = "%40" + buffer;
                seenAt = true;
                bufferCodePoints = arrayFrom(buffer);
                for (var i = 0; i < bufferCodePoints.length; i++) {
                  var codePoint = bufferCodePoints[i];
                  if (codePoint == ":" && !seenPasswordToken) {
                    seenPasswordToken = true;
                    continue;
                  }
                  var encodedCodePoints = percentEncode(codePoint, userinfoPercentEncodeSet);
                  if (seenPasswordToken)
                    url.password += encodedCodePoints;
                  else
                    url.username += encodedCodePoints;
                }
                buffer = "";
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url)) {
                if (seenAt && buffer == "")
                  return INVALID_AUTHORITY;
                pointer -= arrayFrom(buffer).length + 1;
                buffer = "";
                state = HOST;
              } else
                buffer += char;
              break;
            case HOST:
            case HOSTNAME:
              if (stateOverride && url.scheme == "file") {
                state = FILE_HOST;
                continue;
              } else if (char == ":" && !seenBracket) {
                if (buffer == "")
                  return INVALID_HOST;
                failure = parseHost(url, buffer);
                if (failure)
                  return failure;
                buffer = "";
                state = PORT;
                if (stateOverride == HOSTNAME)
                  return;
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url)) {
                if (isSpecial(url) && buffer == "")
                  return INVALID_HOST;
                if (stateOverride && buffer == "" && (includesCredentials(url) || url.port !== null))
                  return;
                failure = parseHost(url, buffer);
                if (failure)
                  return failure;
                buffer = "";
                state = PATH_START;
                if (stateOverride)
                  return;
                continue;
              } else {
                if (char == "[")
                  seenBracket = true;
                else if (char == "]")
                  seenBracket = false;
                buffer += char;
              }
              break;
            case PORT:
              if (DIGIT.test(char)) {
                buffer += char;
              } else if (char == EOF || char == "/" || char == "?" || char == "#" || char == "\\" && isSpecial(url) || stateOverride) {
                if (buffer != "") {
                  var port = parseInt(buffer, 10);
                  if (port > 65535)
                    return INVALID_PORT;
                  url.port = isSpecial(url) && port === specialSchemes[url.scheme] ? null : port;
                  buffer = "";
                }
                if (stateOverride)
                  return;
                state = PATH_START;
                continue;
              } else
                return INVALID_PORT;
              break;
            case FILE:
              url.scheme = "file";
              if (char == "/" || char == "\\")
                state = FILE_SLASH;
              else if (base && base.scheme == "file") {
                if (char == EOF) {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = base.query;
                } else if (char == "?") {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = "";
                  state = QUERY;
                } else if (char == "#") {
                  url.host = base.host;
                  url.path = base.path.slice();
                  url.query = base.query;
                  url.fragment = "";
                  state = FRAGMENT;
                } else {
                  if (!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))) {
                    url.host = base.host;
                    url.path = base.path.slice();
                    shortenURLsPath(url);
                  }
                  state = PATH;
                  continue;
                }
              } else {
                state = PATH;
                continue;
              }
              break;
            case FILE_SLASH:
              if (char == "/" || char == "\\") {
                state = FILE_HOST;
                break;
              }
              if (base && base.scheme == "file" && !startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))) {
                if (isWindowsDriveLetter(base.path[0], true))
                  url.path.push(base.path[0]);
                else
                  url.host = base.host;
              }
              state = PATH;
              continue;
            case FILE_HOST:
              if (char == EOF || char == "/" || char == "\\" || char == "?" || char == "#") {
                if (!stateOverride && isWindowsDriveLetter(buffer)) {
                  state = PATH;
                } else if (buffer == "") {
                  url.host = "";
                  if (stateOverride)
                    return;
                  state = PATH_START;
                } else {
                  failure = parseHost(url, buffer);
                  if (failure)
                    return failure;
                  if (url.host == "localhost")
                    url.host = "";
                  if (stateOverride)
                    return;
                  buffer = "";
                  state = PATH_START;
                }
                continue;
              } else
                buffer += char;
              break;
            case PATH_START:
              if (isSpecial(url)) {
                state = PATH;
                if (char != "/" && char != "\\")
                  continue;
              } else if (!stateOverride && char == "?") {
                url.query = "";
                state = QUERY;
              } else if (!stateOverride && char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                state = PATH;
                if (char != "/")
                  continue;
              }
              break;
            case PATH:
              if (char == EOF || char == "/" || char == "\\" && isSpecial(url) || !stateOverride && (char == "?" || char == "#")) {
                if (isDoubleDot(buffer)) {
                  shortenURLsPath(url);
                  if (char != "/" && !(char == "\\" && isSpecial(url))) {
                    url.path.push("");
                  }
                } else if (isSingleDot(buffer)) {
                  if (char != "/" && !(char == "\\" && isSpecial(url))) {
                    url.path.push("");
                  }
                } else {
                  if (url.scheme == "file" && !url.path.length && isWindowsDriveLetter(buffer)) {
                    if (url.host)
                      url.host = "";
                    buffer = buffer.charAt(0) + ":";
                  }
                  url.path.push(buffer);
                }
                buffer = "";
                if (url.scheme == "file" && (char == EOF || char == "?" || char == "#")) {
                  while (url.path.length > 1 && url.path[0] === "") {
                    url.path.shift();
                  }
                }
                if (char == "?") {
                  url.query = "";
                  state = QUERY;
                } else if (char == "#") {
                  url.fragment = "";
                  state = FRAGMENT;
                }
              } else {
                buffer += percentEncode(char, pathPercentEncodeSet);
              }
              break;
            case CANNOT_BE_A_BASE_URL_PATH:
              if (char == "?") {
                url.query = "";
                state = QUERY;
              } else if (char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                url.path[0] += percentEncode(char, C0ControlPercentEncodeSet);
              }
              break;
            case QUERY:
              if (!stateOverride && char == "#") {
                url.fragment = "";
                state = FRAGMENT;
              } else if (char != EOF) {
                if (char == "'" && isSpecial(url))
                  url.query += "%27";
                else if (char == "#")
                  url.query += "%23";
                else
                  url.query += percentEncode(char, C0ControlPercentEncodeSet);
              }
              break;
            case FRAGMENT:
              if (char != EOF)
                url.fragment += percentEncode(char, fragmentPercentEncodeSet);
              break;
          }
          pointer++;
        }
      };
      var URLConstructor = function URL2(url) {
        var that = anInstance(this, URLConstructor, "URL");
        var base = arguments.length > 1 ? arguments[1] : void 0;
        var urlString = String(url);
        var state = setInternalState(that, { type: "URL" });
        var baseState, failure;
        if (base !== void 0) {
          if (base instanceof URLConstructor)
            baseState = getInternalURLState(base);
          else {
            failure = parseURL(baseState = {}, String(base));
            if (failure)
              throw TypeError(failure);
          }
        }
        failure = parseURL(state, urlString, null, baseState);
        if (failure)
          throw TypeError(failure);
        var searchParams = state.searchParams = new URLSearchParams2();
        var searchParamsState = getInternalSearchParamsState(searchParams);
        searchParamsState.updateSearchParams(state.query);
        searchParamsState.updateURL = function() {
          state.query = String(searchParams) || null;
        };
        if (!DESCRIPTORS) {
          that.href = serializeURL.call(that);
          that.origin = getOrigin.call(that);
          that.protocol = getProtocol.call(that);
          that.username = getUsername.call(that);
          that.password = getPassword.call(that);
          that.host = getHost.call(that);
          that.hostname = getHostname.call(that);
          that.port = getPort.call(that);
          that.pathname = getPathname.call(that);
          that.search = getSearch.call(that);
          that.searchParams = getSearchParams.call(that);
          that.hash = getHash.call(that);
        }
      };
      var URLPrototype = URLConstructor.prototype;
      var serializeURL = function() {
        var url = getInternalURLState(this);
        var scheme = url.scheme;
        var username = url.username;
        var password = url.password;
        var host = url.host;
        var port = url.port;
        var path = url.path;
        var query = url.query;
        var fragment = url.fragment;
        var output = scheme + ":";
        if (host !== null) {
          output += "//";
          if (includesCredentials(url)) {
            output += username + (password ? ":" + password : "") + "@";
          }
          output += serializeHost(host);
          if (port !== null)
            output += ":" + port;
        } else if (scheme == "file")
          output += "//";
        output += url.cannotBeABaseURL ? path[0] : path.length ? "/" + path.join("/") : "";
        if (query !== null)
          output += "?" + query;
        if (fragment !== null)
          output += "#" + fragment;
        return output;
      };
      var getOrigin = function() {
        var url = getInternalURLState(this);
        var scheme = url.scheme;
        var port = url.port;
        if (scheme == "blob")
          try {
            return new URL(scheme.path[0]).origin;
          } catch (error) {
            return "null";
          }
        if (scheme == "file" || !isSpecial(url))
          return "null";
        return scheme + "://" + serializeHost(url.host) + (port !== null ? ":" + port : "");
      };
      var getProtocol = function() {
        return getInternalURLState(this).scheme + ":";
      };
      var getUsername = function() {
        return getInternalURLState(this).username;
      };
      var getPassword = function() {
        return getInternalURLState(this).password;
      };
      var getHost = function() {
        var url = getInternalURLState(this);
        var host = url.host;
        var port = url.port;
        return host === null ? "" : port === null ? serializeHost(host) : serializeHost(host) + ":" + port;
      };
      var getHostname = function() {
        var host = getInternalURLState(this).host;
        return host === null ? "" : serializeHost(host);
      };
      var getPort = function() {
        var port = getInternalURLState(this).port;
        return port === null ? "" : String(port);
      };
      var getPathname = function() {
        var url = getInternalURLState(this);
        var path = url.path;
        return url.cannotBeABaseURL ? path[0] : path.length ? "/" + path.join("/") : "";
      };
      var getSearch = function() {
        var query = getInternalURLState(this).query;
        return query ? "?" + query : "";
      };
      var getSearchParams = function() {
        return getInternalURLState(this).searchParams;
      };
      var getHash = function() {
        var fragment = getInternalURLState(this).fragment;
        return fragment ? "#" + fragment : "";
      };
      var accessorDescriptor = function(getter, setter) {
        return { get: getter, set: setter, configurable: true, enumerable: true };
      };
      if (DESCRIPTORS) {
        defineProperties(URLPrototype, {
          href: accessorDescriptor(serializeURL, function(href) {
            var url = getInternalURLState(this);
            var urlString = String(href);
            var failure = parseURL(url, urlString);
            if (failure)
              throw TypeError(failure);
            getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);
          }),
          origin: accessorDescriptor(getOrigin),
          protocol: accessorDescriptor(getProtocol, function(protocol) {
            var url = getInternalURLState(this);
            parseURL(url, String(protocol) + ":", SCHEME_START);
          }),
          username: accessorDescriptor(getUsername, function(username) {
            var url = getInternalURLState(this);
            var codePoints = arrayFrom(String(username));
            if (cannotHaveUsernamePasswordPort(url))
              return;
            url.username = "";
            for (var i = 0; i < codePoints.length; i++) {
              url.username += percentEncode(codePoints[i], userinfoPercentEncodeSet);
            }
          }),
          password: accessorDescriptor(getPassword, function(password) {
            var url = getInternalURLState(this);
            var codePoints = arrayFrom(String(password));
            if (cannotHaveUsernamePasswordPort(url))
              return;
            url.password = "";
            for (var i = 0; i < codePoints.length; i++) {
              url.password += percentEncode(codePoints[i], userinfoPercentEncodeSet);
            }
          }),
          host: accessorDescriptor(getHost, function(host) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            parseURL(url, String(host), HOST);
          }),
          hostname: accessorDescriptor(getHostname, function(hostname) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            parseURL(url, String(hostname), HOSTNAME);
          }),
          port: accessorDescriptor(getPort, function(port) {
            var url = getInternalURLState(this);
            if (cannotHaveUsernamePasswordPort(url))
              return;
            port = String(port);
            if (port == "")
              url.port = null;
            else
              parseURL(url, port, PORT);
          }),
          pathname: accessorDescriptor(getPathname, function(pathname) {
            var url = getInternalURLState(this);
            if (url.cannotBeABaseURL)
              return;
            url.path = [];
            parseURL(url, pathname + "", PATH_START);
          }),
          search: accessorDescriptor(getSearch, function(search) {
            var url = getInternalURLState(this);
            search = String(search);
            if (search == "") {
              url.query = null;
            } else {
              if (search.charAt(0) == "?")
                search = search.slice(1);
              url.query = "";
              parseURL(url, search, QUERY);
            }
            getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query);
          }),
          searchParams: accessorDescriptor(getSearchParams),
          hash: accessorDescriptor(getHash, function(hash) {
            var url = getInternalURLState(this);
            hash = String(hash);
            if (hash == "") {
              url.fragment = null;
              return;
            }
            if (hash.charAt(0) == "#")
              hash = hash.slice(1);
            url.fragment = "";
            parseURL(url, hash, FRAGMENT);
          })
        });
      }
      redefine(URLPrototype, "toJSON", function toJSON() {
        return serializeURL.call(this);
      }, { enumerable: true });
      redefine(URLPrototype, "toString", function toString() {
        return serializeURL.call(this);
      }, { enumerable: true });
      if (NativeURL) {
        nativeCreateObjectURL = NativeURL.createObjectURL;
        nativeRevokeObjectURL = NativeURL.revokeObjectURL;
        if (nativeCreateObjectURL)
          redefine(URLConstructor, "createObjectURL", function createObjectURL(blob) {
            return nativeCreateObjectURL.apply(NativeURL, arguments);
          });
        if (nativeRevokeObjectURL)
          redefine(URLConstructor, "revokeObjectURL", function revokeObjectURL(url) {
            return nativeRevokeObjectURL.apply(NativeURL, arguments);
          });
      }
      var nativeCreateObjectURL;
      var nativeRevokeObjectURL;
      setToStringTag(URLConstructor, "URL");
      $({ global: true, forced: !USE_NATIVE_URL, sham: !DESCRIPTORS }, {
        URL: URLConstructor
      });
    }
  });

  // ../../node_modules/core-js/modules/web.url.to-json.js
  var require_web_url_to_json = __commonJS({
    "../../node_modules/core-js/modules/web.url.to-json.js": function() {
      "use strict";
      var $ = require_export();
      $({ target: "URL", proto: true, enumerable: true }, {
        toJSON: function toJSON() {
          return URL.prototype.toString.call(this);
        }
      });
    }
  });

  // ../../node_modules/core-js/web/index.js
  var require_web = __commonJS({
    "../../node_modules/core-js/web/index.js": function(exports, module) {
      require_web_dom_collections_for_each();
      require_web_dom_collections_iterator();
      require_web_immediate();
      require_web_queue_microtask();
      require_web_timers();
      require_web_url();
      require_web_url_to_json();
      require_web_url_search_params();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/core-js/stable/index.js
  var require_stable = __commonJS({
    "../../node_modules/core-js/stable/index.js": function(exports, module) {
      require_es();
      require_web();
      var path = require_path();
      module.exports = path;
    }
  });

  // ../../node_modules/regenerator-runtime/runtime.js
  var require_runtime = __commonJS({
    "../../node_modules/regenerator-runtime/runtime.js": function(exports, module) {
      var runtime = function(exports2) {
        "use strict";
        var Op = Object.prototype;
        var hasOwn = Op.hasOwnProperty;
        var undefined2;
        var $Symbol = typeof Symbol === "function" ? Symbol : {};
        var iteratorSymbol = $Symbol.iterator || "@@iterator";
        var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
        var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";
        function define2(obj, key, value) {
          Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
          });
          return obj[key];
        }
        try {
          define2({}, "");
        } catch (err) {
          define2 = function(obj, key, value) {
            return obj[key] = value;
          };
        }
        function wrap(innerFn, outerFn, self2, tryLocsList) {
          var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
          var generator = Object.create(protoGenerator.prototype);
          var context = new Context(tryLocsList || []);
          generator._invoke = makeInvokeMethod(innerFn, self2, context);
          return generator;
        }
        exports2.wrap = wrap;
        function tryCatch(fn, obj, arg) {
          try {
            return { type: "normal", arg: fn.call(obj, arg) };
          } catch (err) {
            return { type: "throw", arg: err };
          }
        }
        var GenStateSuspendedStart = "suspendedStart";
        var GenStateSuspendedYield = "suspendedYield";
        var GenStateExecuting = "executing";
        var GenStateCompleted = "completed";
        var ContinueSentinel = {};
        function Generator() {
        }
        function GeneratorFunction() {
        }
        function GeneratorFunctionPrototype() {
        }
        var IteratorPrototype = {};
        IteratorPrototype[iteratorSymbol] = function() {
          return this;
        };
        var getProto = Object.getPrototypeOf;
        var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
        if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
          IteratorPrototype = NativeIteratorPrototype;
        }
        var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);
        GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
        GeneratorFunctionPrototype.constructor = GeneratorFunction;
        GeneratorFunction.displayName = define2(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction");
        function defineIteratorMethods(prototype) {
          ["next", "throw", "return"].forEach(function(method) {
            define2(prototype, method, function(arg) {
              return this._invoke(method, arg);
            });
          });
        }
        exports2.isGeneratorFunction = function(genFun) {
          var ctor = typeof genFun === "function" && genFun.constructor;
          return ctor ? ctor === GeneratorFunction || (ctor.displayName || ctor.name) === "GeneratorFunction" : false;
        };
        exports2.mark = function(genFun) {
          if (Object.setPrototypeOf) {
            Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
          } else {
            genFun.__proto__ = GeneratorFunctionPrototype;
            define2(genFun, toStringTagSymbol, "GeneratorFunction");
          }
          genFun.prototype = Object.create(Gp);
          return genFun;
        };
        exports2.awrap = function(arg) {
          return { __await: arg };
        };
        function AsyncIterator(generator, PromiseImpl) {
          function invoke(method, arg, resolve, reject) {
            var record = tryCatch(generator[method], generator, arg);
            if (record.type === "throw") {
              reject(record.arg);
            } else {
              var result = record.arg;
              var value = result.value;
              if (value && typeof value === "object" && hasOwn.call(value, "__await")) {
                return PromiseImpl.resolve(value.__await).then(function(value2) {
                  invoke("next", value2, resolve, reject);
                }, function(err) {
                  invoke("throw", err, resolve, reject);
                });
              }
              return PromiseImpl.resolve(value).then(function(unwrapped) {
                result.value = unwrapped;
                resolve(result);
              }, function(error) {
                return invoke("throw", error, resolve, reject);
              });
            }
          }
          var previousPromise;
          function enqueue(method, arg) {
            function callInvokeWithMethodAndArg() {
              return new PromiseImpl(function(resolve, reject) {
                invoke(method, arg, resolve, reject);
              });
            }
            return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
          }
          this._invoke = enqueue;
        }
        defineIteratorMethods(AsyncIterator.prototype);
        AsyncIterator.prototype[asyncIteratorSymbol] = function() {
          return this;
        };
        exports2.AsyncIterator = AsyncIterator;
        exports2.async = function(innerFn, outerFn, self2, tryLocsList, PromiseImpl) {
          if (PromiseImpl === void 0)
            PromiseImpl = Promise;
          var iter = new AsyncIterator(wrap(innerFn, outerFn, self2, tryLocsList), PromiseImpl);
          return exports2.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
            return result.done ? result.value : iter.next();
          });
        };
        function makeInvokeMethod(innerFn, self2, context) {
          var state = GenStateSuspendedStart;
          return function invoke(method, arg) {
            if (state === GenStateExecuting) {
              throw new Error("Generator is already running");
            }
            if (state === GenStateCompleted) {
              if (method === "throw") {
                throw arg;
              }
              return doneResult();
            }
            context.method = method;
            context.arg = arg;
            while (true) {
              var delegate = context.delegate;
              if (delegate) {
                var delegateResult = maybeInvokeDelegate(delegate, context);
                if (delegateResult) {
                  if (delegateResult === ContinueSentinel)
                    continue;
                  return delegateResult;
                }
              }
              if (context.method === "next") {
                context.sent = context._sent = context.arg;
              } else if (context.method === "throw") {
                if (state === GenStateSuspendedStart) {
                  state = GenStateCompleted;
                  throw context.arg;
                }
                context.dispatchException(context.arg);
              } else if (context.method === "return") {
                context.abrupt("return", context.arg);
              }
              state = GenStateExecuting;
              var record = tryCatch(innerFn, self2, context);
              if (record.type === "normal") {
                state = context.done ? GenStateCompleted : GenStateSuspendedYield;
                if (record.arg === ContinueSentinel) {
                  continue;
                }
                return {
                  value: record.arg,
                  done: context.done
                };
              } else if (record.type === "throw") {
                state = GenStateCompleted;
                context.method = "throw";
                context.arg = record.arg;
              }
            }
          };
        }
        function maybeInvokeDelegate(delegate, context) {
          var method = delegate.iterator[context.method];
          if (method === undefined2) {
            context.delegate = null;
            if (context.method === "throw") {
              if (delegate.iterator["return"]) {
                context.method = "return";
                context.arg = undefined2;
                maybeInvokeDelegate(delegate, context);
                if (context.method === "throw") {
                  return ContinueSentinel;
                }
              }
              context.method = "throw";
              context.arg = new TypeError("The iterator does not provide a 'throw' method");
            }
            return ContinueSentinel;
          }
          var record = tryCatch(method, delegate.iterator, context.arg);
          if (record.type === "throw") {
            context.method = "throw";
            context.arg = record.arg;
            context.delegate = null;
            return ContinueSentinel;
          }
          var info = record.arg;
          if (!info) {
            context.method = "throw";
            context.arg = new TypeError("iterator result is not an object");
            context.delegate = null;
            return ContinueSentinel;
          }
          if (info.done) {
            context[delegate.resultName] = info.value;
            context.next = delegate.nextLoc;
            if (context.method !== "return") {
              context.method = "next";
              context.arg = undefined2;
            }
          } else {
            return info;
          }
          context.delegate = null;
          return ContinueSentinel;
        }
        defineIteratorMethods(Gp);
        define2(Gp, toStringTagSymbol, "Generator");
        Gp[iteratorSymbol] = function() {
          return this;
        };
        Gp.toString = function() {
          return "[object Generator]";
        };
        function pushTryEntry(locs) {
          var entry = { tryLoc: locs[0] };
          if (1 in locs) {
            entry.catchLoc = locs[1];
          }
          if (2 in locs) {
            entry.finallyLoc = locs[2];
            entry.afterLoc = locs[3];
          }
          this.tryEntries.push(entry);
        }
        function resetTryEntry(entry) {
          var record = entry.completion || {};
          record.type = "normal";
          delete record.arg;
          entry.completion = record;
        }
        function Context(tryLocsList) {
          this.tryEntries = [{ tryLoc: "root" }];
          tryLocsList.forEach(pushTryEntry, this);
          this.reset(true);
        }
        exports2.keys = function(object) {
          var keys = [];
          for (var key in object) {
            keys.push(key);
          }
          keys.reverse();
          return function next() {
            while (keys.length) {
              var key2 = keys.pop();
              if (key2 in object) {
                next.value = key2;
                next.done = false;
                return next;
              }
            }
            next.done = true;
            return next;
          };
        };
        function values(iterable) {
          if (iterable) {
            var iteratorMethod = iterable[iteratorSymbol];
            if (iteratorMethod) {
              return iteratorMethod.call(iterable);
            }
            if (typeof iterable.next === "function") {
              return iterable;
            }
            if (!isNaN(iterable.length)) {
              var i = -1, next = function next2() {
                while (++i < iterable.length) {
                  if (hasOwn.call(iterable, i)) {
                    next2.value = iterable[i];
                    next2.done = false;
                    return next2;
                  }
                }
                next2.value = undefined2;
                next2.done = true;
                return next2;
              };
              return next.next = next;
            }
          }
          return { next: doneResult };
        }
        exports2.values = values;
        function doneResult() {
          return { value: undefined2, done: true };
        }
        Context.prototype = {
          constructor: Context,
          reset: function(skipTempReset) {
            this.prev = 0;
            this.next = 0;
            this.sent = this._sent = undefined2;
            this.done = false;
            this.delegate = null;
            this.method = "next";
            this.arg = undefined2;
            this.tryEntries.forEach(resetTryEntry);
            if (!skipTempReset) {
              for (var name in this) {
                if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
                  this[name] = undefined2;
                }
              }
            }
          },
          stop: function() {
            this.done = true;
            var rootEntry = this.tryEntries[0];
            var rootRecord = rootEntry.completion;
            if (rootRecord.type === "throw") {
              throw rootRecord.arg;
            }
            return this.rval;
          },
          dispatchException: function(exception) {
            if (this.done) {
              throw exception;
            }
            var context = this;
            function handle(loc, caught) {
              record.type = "throw";
              record.arg = exception;
              context.next = loc;
              if (caught) {
                context.method = "next";
                context.arg = undefined2;
              }
              return !!caught;
            }
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              var record = entry.completion;
              if (entry.tryLoc === "root") {
                return handle("end");
              }
              if (entry.tryLoc <= this.prev) {
                var hasCatch = hasOwn.call(entry, "catchLoc");
                var hasFinally = hasOwn.call(entry, "finallyLoc");
                if (hasCatch && hasFinally) {
                  if (this.prev < entry.catchLoc) {
                    return handle(entry.catchLoc, true);
                  } else if (this.prev < entry.finallyLoc) {
                    return handle(entry.finallyLoc);
                  }
                } else if (hasCatch) {
                  if (this.prev < entry.catchLoc) {
                    return handle(entry.catchLoc, true);
                  }
                } else if (hasFinally) {
                  if (this.prev < entry.finallyLoc) {
                    return handle(entry.finallyLoc);
                  }
                } else {
                  throw new Error("try statement without catch or finally");
                }
              }
            }
          },
          abrupt: function(type, arg) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
                var finallyEntry = entry;
                break;
              }
            }
            if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
              finallyEntry = null;
            }
            var record = finallyEntry ? finallyEntry.completion : {};
            record.type = type;
            record.arg = arg;
            if (finallyEntry) {
              this.method = "next";
              this.next = finallyEntry.finallyLoc;
              return ContinueSentinel;
            }
            return this.complete(record);
          },
          complete: function(record, afterLoc) {
            if (record.type === "throw") {
              throw record.arg;
            }
            if (record.type === "break" || record.type === "continue") {
              this.next = record.arg;
            } else if (record.type === "return") {
              this.rval = this.arg = record.arg;
              this.method = "return";
              this.next = "end";
            } else if (record.type === "normal" && afterLoc) {
              this.next = afterLoc;
            }
            return ContinueSentinel;
          },
          finish: function(finallyLoc) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.finallyLoc === finallyLoc) {
                this.complete(entry.completion, entry.afterLoc);
                resetTryEntry(entry);
                return ContinueSentinel;
              }
            }
          },
          "catch": function(tryLoc) {
            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
              var entry = this.tryEntries[i];
              if (entry.tryLoc === tryLoc) {
                var record = entry.completion;
                if (record.type === "throw") {
                  var thrown = record.arg;
                  resetTryEntry(entry);
                }
                return thrown;
              }
            }
            throw new Error("illegal catch attempt");
          },
          delegateYield: function(iterable, resultName, nextLoc) {
            this.delegate = {
              iterator: values(iterable),
              resultName: resultName,
              nextLoc: nextLoc
            };
            if (this.method === "next") {
              this.arg = undefined2;
            }
            return ContinueSentinel;
          }
        };
        return exports2;
      }(typeof module === "object" ? module.exports : {});
      try {
        regeneratorRuntime = runtime;
      } catch (accidentalStrictMode) {
        Function("r", "regeneratorRuntime = r")(runtime);
      }
    }
  });

  // ../../node_modules/core-js/internals/entry-unbind.js
  var require_entry_unbind = __commonJS({
    "../../node_modules/core-js/internals/entry-unbind.js": function(exports, module) {
      var global2 = require_global();
      var bind = require_function_bind_context();
      var call = Function.call;
      module.exports = function(CONSTRUCTOR, METHOD, length) {
        return bind(call, global2[CONSTRUCTOR].prototype[METHOD], length);
      };
    }
  });

  // ../../node_modules/core-js/es/array/find.js
  var require_find = __commonJS({
    "../../node_modules/core-js/es/array/find.js": function(exports, module) {
      require_es_array_find();
      var entryUnbind = require_entry_unbind();
      module.exports = entryUnbind("Array", "find");
    }
  });

  // ../../node_modules/core-js/features/array/find.js
  var require_find2 = __commonJS({
    "../../node_modules/core-js/features/array/find.js": function(exports, module) {
      var parent = require_find();
      module.exports = parent;
    }
  });

  // ../../node_modules/core-js/es/array/map.js
  var require_map = __commonJS({
    "../../node_modules/core-js/es/array/map.js": function(exports, module) {
      require_es_array_map();
      var entryUnbind = require_entry_unbind();
      module.exports = entryUnbind("Array", "map");
    }
  });

  // ../../node_modules/core-js/features/array/map.js
  var require_map2 = __commonJS({
    "../../node_modules/core-js/features/array/map.js": function(exports, module) {
      var parent = require_map();
      module.exports = parent;
    }
  });

  // ../../node_modules/react-app-polyfill/ie11.js
  if (typeof Promise === "undefined") {
    require_rejection_tracking().enable();
    self.Promise = require_es6_extensions();
  }
  if (typeof window !== "undefined") {
    require_fetch_umd();
  }
  Object.assign = require_object_assign();
  require_symbol2();
  require_from2();

  // ../../node_modules/react-app-polyfill/stable.js
  require_stable();
  require_runtime();

  // index.js
  var import_find = __toESM(require_find2());
  var import_map = __toESM(require_map2());
})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
"use strict";var _excluded=["position","defaultPosition","rotation","defaultClassName","defaultClassNameDragging","defaultClassNameDragged"],_excluded2=["isActive","isDisabled","label","ariaLabel","children","className"],_excluded3=["direction","data-test","className","children"],_excluded4=["label","children","icon","fullWidth","isDisabled"],_excluded5=["label","icon","children"],_excluded6=["enableRotation","enableFlip"],_excluded7=["preventExportEvent"],_excluded8=["type"],_excluded9=["children"],_excluded10=["children"],_excluded11=["children"],_excluded12=["children"],_excluded13=["isActive"],_excluded14=["type"];var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38,_templateObject39,_templateObject40,_templateObject41,_templateObject42,_templateObject43,_templateObject44,_templateObject45,_templateObject46,_templateObject47,_templateObject48,_templateObject49,_templateObject50,_templateObject51,_templateObject52,_templateObject53,_templateObject54,_templateObject55,_templateObject56,_templateObject57,_templateObject58,_templateObject59,_templateObject60,_templateObject61,_templateObject62,_templateObject63,_templateObject64,_templateObject65,_templateObject66,_templateObject67,_templateObject68,_templateObject69,_templateObject70,_templateObject71,_templateObject72,_templateObject73,_templateObject74,_templateObject75,_templateObject76,_templateObject77,_templateObject78,_templateObject79,_templateObject80,_templateObject81,_templateObject82,_templateObject83,_templateObject84,_templateObject85,_templateObject86,_templateObject87,_templateObject88,_templateObject89,_templateObject90,_templateObject91,_templateObject92,_templateObject93,_templateObject94,_templateObject95,_templateObject96,_templateObject97,_templateObject98,_templateObject99,_templateObject100,_templateObject101,_templateObject102,_templateObject103,_templateObject104,_templateObject105,_templateObject106,_templateObject107,_templateObject108,_templateObject109,_templateObject110,_templateObject111,_templateObject112,_templateObject113,_templateObject114,_templateObject115,_templateObject116,_templateObject117,_templateObject118,_templateObject119,_templateObject120,_templateObject121,_templateObject122,_templateObject123,_templateObject124,_templateObject125,_templateObject126,_templateObject127,_templateObject128,_templateObject129,_templateObject130,_templateObject131,_templateObject132,_templateObject133,_templateObject134,_templateObject135,_templateObject136,_templateObject137,_templateObject138,_templateObject139,_templateObject140,_templateObject141,_templateObject142,_templateObject143,_templateObject144,_templateObject145,_templateObject146,_templateObject147,_templateObject148,_templateObject149,_templateObject150,_templateObject151,_templateObject152,_templateObject153,_templateObject154,_templateObject155,_templateObject156,_templateObject157,_templateObject158,_templateObject159,_templateObject160,_templateObject161,_templateObject162,_templateObject163,_templateObject164,_templateObject165,_templateObject166,_templateObject167,_templateObject168,_templateObject169,_templateObject170,_templateObject171,_templateObject172,_templateObject173,_templateObject174,_templateObject175,_templateObject176,_templateObject177,_templateObject178,_templateObject179,_templateObject180,_templateObject181,_templateObject182,_templateObject183,_templateObject184,_templateObject185,_templateObject186,_templateObject187,_templateObject188,_templateObject189,_templateObject190,_templateObject191,_templateObject192,_templateObject193,_templateObject194,_templateObject195,_templateObject196,_templateObject197,_templateObject198,_templateObject199,_templateObject200,_templateObject201,_templateObject202,_templateObject203,_templateObject204,_templateObject205,_templateObject206,_templateObject207,_templateObject208,_templateObject209,_templateObject210,_templateObject211,_templateObject212,_templateObject213,_templateObject214,_templateObject215,_templateObject216,_templateObject217,_templateObject218,_templateObject219,_templateObject220,_templateObject221,_templateObject222,_templateObject223,_templateObject224,_templateObject225,_templateObject226,_templateObject227,_templateObject228,_templateObject229,_templateObject230,_templateObject231,_templateObject232,_templateObject233,_templateObject234,_templateObject235,_templateObject236,_templateObject237,_templateObject238,_templateObject239,_templateObject240,_templateObject241,_templateObject242,_templateObject243,_templateObject244,_templateObject245,_templateObject246,_templateObject247,_templateObject248,_templateObject249,_templateObject250,_templateObject251,_templateObject252,_templateObject253,_templateObject254,_templateObject255,_templateObject256,_templateObject257,_templateObject258,_templateObject259,_templateObject260,_templateObject261,_templateObject262,_templateObject263,_templateObject264,_templateObject265,_templateObject266,_templateObject267,_templateObject268,_templateObject269,_templateObject270,_templateObject271,_templateObject272,_templateObject273,_templateObject274,_templateObject275,_templateObject276,_templateObject277,_templateObject278,_templateObject279,_templateObject280,_templateObject281,_templateObject282,_templateObject283,_templateObject284,_templateObject285,_templateObject286,_templateObject287,_templateObject288,_templateObject289,_templateObject290,_templateObject291,_templateObject292,_templateObject293,_templateObject294,_templateObject295,_templateObject296,_templateObject297,_templateObject298,_templateObject299,_templateObject300,_templateObject301,_templateObject302,_templateObject303,_templateObject304,_templateObject305,_templateObject306,_templateObject307,_templateObject308,_templateObject309,_templateObject310,_templateObject311,_templateObject312,_templateObject313,_templateObject314,_templateObject315,_templateObject316,_templateObject317,_templateObject318,_templateObject319,_templateObject320,_templateObject321,_templateObject322,_templateObject323,_templateObject324,_templateObject325,_templateObject326,_templateObject327,_templateObject328,_templateObject329,_templateObject330,_templateObject331,_templateObject332,_templateObject333,_templateObject334,_templateObject335,_templateObject336,_templateObject337,_templateObject338,_templateObject339,_templateObject340,_templateObject341,_templateObject342,_templateObject343,_templateObject344,_templateObject345,_templateObject346,_templateObject347,_templateObject348,_templateObject349,_templateObject350,_templateObject351,_templateObject352,_templateObject353,_templateObject354,_templateObject355,_templateObject356,_templateObject357,_templateObject358,_templateObject359,_templateObject360,_templateObject361,_templateObject362,_templateObject363,_templateObject364,_templateObject365,_templateObject366,_templateObject367,_templateObject368,_templateObject369,_templateObject370,_templateObject371,_templateObject372;function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e37){throw _e37;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e38){didErr=true;err=_e38;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}var PhotoEditorSDK=function(){var rJ=Object.create;var Pu=Object.defineProperty;var DD=Object.getOwnPropertyDescriptor;var oJ=Object.getOwnPropertyNames;var nJ=Object.getPrototypeOf;var sJ=Object.prototype.hasOwnProperty;var aJ=function aJ(i,t,e){return t in i?Pu(i,t,{enumerable:true,configurable:true,writable:true,value:e}):i[t]=e;};var ED=function ED(i){return Pu(i,"__esModule",{value:true});};var _=function(i){return typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(i,{get:function get(t,e){return(typeof require!=="undefined"?require:t)[e];}}):i;}(function(i){if(typeof require!=="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+i+'" is not supported');});var d=function d(i,t){return function(){return i&&(t=i(i=0)),t;};};var Gt=function Gt(i,t){return function(){return t||i((t={exports:{}}).exports,t),t.exports;};};var de=function de(i,t){for(var e in t){Pu(i,e,{get:t[e],enumerable:true});}};var FD=function FD(i,t,e,r){if(t&&_typeof(t)==="object"||typeof t==="function"){var _iterator=_createForOfIteratorHelper(oJ(t)),_step;try{var _loop=function _loop(){var o=_step.value;if(!sJ.call(i,o)&&(e||o!=="default"))Pu(i,o,{get:function get(){return t[o];},enumerable:!(r=DD(t,o))||r.enumerable});};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return i;};var y=function y(i,t){return FD(ED(Pu(i!=null?rJ(nJ(i)):{},"default",!t&&i&&i.__esModule?{get:function get(){return i["default"];},enumerable:true}:{value:i,enumerable:true})),i);};var Li=function(i){return function(t,e){return i&&i.get(t)||(e=FD(ED({}),t,1),i&&i.set(t,e),e);};}(typeof WeakMap!=="undefined"?new WeakMap():0);var f=function f(i,t,e,r){var o=r>1?void 0:r?DD(t,e):t;for(var n=i.length-1,s;n>=0;n--){if(s=i[n])o=(r?s(t,e,o):s(o))||o;}if(r&&o)Pu(t,e,o);return o;};var q=function q(i,t,e){aJ(i,_typeof(t)!=="symbol"?t+"":t,e);return e;};function Wm(){if(typeof window!=="undefined"){return window;}if(typeof global!=="undefined"){return global;}if(typeof self!=="undefined"){return self;}return cJ;}function Cr(){return++lt.mobxGuid;}function me(i){ma(false,i);throw"X";}function ma(i,t){if(!i)throw new Error("[mobx] "+(t||lJ));}function is(i,t){if(true)return false;if(t){return is("'"+i+"', use '"+t+"' instead.");}if(OD.indexOf(i)!==-1)return false;OD.push(i);console.error("[mobx] Deprecated: "+i);return true;}function kv(i){var t=false;return function(){if(t)return;t=true;return i.apply(this,arguments);};}function uJ(i){var t=[];i.forEach(function(e){if(t.indexOf(e)===-1)t.push(e);});return t;}function Iv(i){return i!==null&&_typeof(i)==="object";}function Uu(i){if(i===null||_typeof(i)!=="object")return false;var t=Object.getPrototypeOf(i);return t===Object.prototype||t===null;}function dJ(i){if(Nu(i)||sn(i)){return i;}else if(Array.isArray(i)){return new Map(i);}else if(Uu(i)){var t=new Map();for(var e in i){t.set(e,i[e]);}return t;}else{return me("Cannot convert to map from '"+i+"'");}}function mJ(i,t){for(var e=0;e<t.length;e++){as(i,t[e],i[t[e]]);}}function as(i,t,e){Object.defineProperty(i,t,{enumerable:false,writable:true,configurable:true,value:e});}function Vm(i,t,e){Object.defineProperty(i,t,{enumerable:false,writable:false,configurable:true,value:e});}function pJ(i,t){if(false)me("Cannot make property '"+t+"' observable, it is not configurable and writable in the target object");}function ya(i,t){var e="isMobX"+i;t.prototype[e]=true;return function(r){return Iv(r)&&r[e]===true;};}function hJ(i,t){return typeof i==="number"&&typeof t==="number"&&isNaN(i)&&isNaN(t);}function Nu(i){if(Wm().Map!==void 0&&i instanceof Wm().Map)return true;return false;}function jm(i){return i instanceof Set;}function rs(i){var t=[];while(true){var e=i.next();if(e.done)break;t.push(e.value);}return t;}function jD(){return typeof Symbol==="function"&&Symbol.toPrimitive||"@@toPrimitive";}function $D(i){return i===null?null:_typeof(i)==="object"?""+i:i;}function BD(i,t){var e=i.next();while(!e.done){t(e.value);e=i.next();}}function KD(){return typeof Symbol==="function"&&Symbol.iterator||"@@iterator";}function Dv(i,t){Vm(i,KD(),t);}function Gm(i){i[KD()]=fJ;return i;}function Ev(){return typeof Symbol==="function"&&Symbol.toStringTag||"@@toStringTag";}function fJ(){return this;}function xg(i,t,e){if(t===void 0){t=AD;}if(e===void 0){e=AD;}var r=new _g(i);JJ(r,t);uE(r,e);return r;}function XD(i,t){return i===t;}function gJ(i,t){return zv(i,t);}function bJ(i,t){return zv(i,t,1);}function yJ(i,t){return hJ(i,t)||XD(i,t);}function qD(i,t){_yv(i,t);function e(){this.constructor=i;}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e());}function _v(i,t){var e=typeof Symbol==="function"&&i[Symbol.iterator];if(!e)return i;var r=e.call(i),o,n=[],s;try{while((t===void 0||t-->0)&&!(o=r.next()).done){n.push(o.value);}}catch(a){s={error:a};}finally{try{if(o&&!o.done&&(e=r["return"]))e.call(r);}finally{if(s)throw s.error;}}return n;}function xv(){for(var i=[],t=0;t<arguments.length;t++){i=i.concat(_v(arguments[t]));}return i;}function vJ(i,t){var e=t?_J:xJ;return e[i]||(e[i]={configurable:true,enumerable:t,get:function get(){Al(this);return this[i];},set:function set(r){Al(this);this[i]=r;}});}function Al(i){if(i.__mobxDidRunLazyInitializers===true)return;var t=i.__mobxDecorators;if(t){as(i,"__mobxDidRunLazyInitializers",true);for(var e in t){var r=t[e];r.propertyCreator(i,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments);}}}function YD(i,t){return function e(){var r;var o=function n(s,a,l,c){if(c===true){t(s,a,l,s,r);return null;}if(false)me("This function is a decorator, but it wasn't invoked like a decorator");if(!Object.prototype.hasOwnProperty.call(s,"__mobxDecorators")){var u=s.__mobxDecorators;as(s,"__mobxDecorators",_Fe({},u));}s.__mobxDecorators[a]={prop:a,propertyCreator:t,descriptor:l,decoratorTarget:s,decoratorArguments:r};return vJ(a,i);};if(CJ(arguments)){r=mg;return o.apply(null,arguments);}else{r=Array.prototype.slice.call(arguments);return o;}};}function CJ(i){return(i.length===2||i.length===3)&&typeof i[1]==="string"||i.length===4&&i[3]===true;}function $m(i,t,e){if(yg(i))return i;if(Array.isArray(i))return Q.array(i,{name:e});if(Uu(i))return Q.object(i,void 0,{name:e});if(Nu(i))return Q.map(i,{name:e});if(jm(i))return Q.set(i,{name:e});return i;}function SJ(i,t,e){if(i===void 0||i===null)return i;if(Pl(i)||Ll(i)||sn(i)||_a(i))return i;if(Array.isArray(i))return Q.array(i,{name:e,deep:false});if(Uu(i))return Q.object(i,void 0,{name:e,deep:false});if(Nu(i))return Q.map(i,{name:e,deep:false});if(jm(i))return Q.set(i,{name:e,deep:false});return me(false);}function vg(i){return i;}function wJ(i,t,e){if(false)throw"observable.struct should not be used with observable values";if(zv(i,t))return t;return i;}function Cg(i){ma(i);var t=YD(true,function(r,o,n,s,a){if(false){ma(!n||!n.get,'@observable cannot be used on getter (property "'+o+'"), use @computed instead.');}var l=n?n.initializer?n.initializer.call(r):n.value:void 0;pZ(r,o,l,i);});var e=typeof process!=="undefined"&&process.env&&false?function r(){if(arguments.length<2)return me("Incorrect decorator invocation. @observable decorator doesn't expect any arguments");return t.apply(null,arguments);}:t;e.enhancer=i;return e;}function Lu(i){if(i===null||i===void 0)return JD;if(typeof i==="string")return{name:i,deep:true};if(false){if(_typeof(i)!=="object")return me("expected options object");Object.keys(i).forEach(assertValidOption);}return i;}function lg(i){return i.defaultDecorator?i.defaultDecorator.enhancer:i.deep===false?vg:$m;}function DJ(i,t,e){if(typeof arguments[1]==="string"){return Rv.apply(null,arguments);}if(yg(i))return i;var r=Uu(i)?Q.object(i,t,e):Array.isArray(i)?Q.array(i,t):Nu(i)?Q.map(i,t):jm(i)?Q.set(i,t):i;if(r!==i)return r;me(false);}function es(i){me("Expected one or two arguments to observable."+i+". Did you accidentally try to use observable."+i+" as decorator?");}function Hm(i){return i instanceof fg;}function vv(i){switch(i.dependenciesState){case Yt.UP_TO_DATE:return false;case Yt.NOT_TRACKING:case Yt.STALE:return true;case Yt.POSSIBLY_STALE:{var t=Ml(true);var e=Hu();var r=i.observing,o=r.length;for(var n=0;n<o;n++){var s=r[n];if(Sg(s)){if(lt.disableErrorBoundaries){s.get();}else{try{s.get();}catch(a){pa(e);os(t);return true;}}if(i.dependenciesState===Yt.STALE){pa(e);os(t);return true;}}}tE(i);pa(e);os(t);return false;}}}function zu(i){var t=i.observers.length>0;if(lt.computationDepth>0&&t)me(false);if(!lt.allowStateChanges&&(t||lt.enforceActions==="strict"))me(false);}function FJ(i){if(false){console.warn("[mobx] Observable "+i.name+" being read outside a reactive context");}}function QD(i,t,e){var r=Ml(true);tE(i);i.newObserving=new Array(i.observing.length+100);i.unboundDepsCount=0;i.runId=++lt.runId;var o=lt.trackingDerivation;lt.trackingDerivation=i;var n;if(lt.disableErrorBoundaries===true){n=t.call(e);}else{try{n=t.call(e);}catch(s){n=new fg(s);}}lt.trackingDerivation=o;OJ(i);if(i.observing.length===0){RJ(i);}os(r);return n;}function RJ(i){if(true)return;if(lt.reactionRequiresObservable||i.requiresObservable){console.warn("[mobx] Derivation "+i.name+" is created/updated without reading any observable value");}}function OJ(i){var t=i.observing;var e=i.observing=i.newObserving;var r=Yt.UP_TO_DATE;var o=0,n=i.unboundDepsCount;for(var s=0;s<n;s++){var a=e[s];if(a.diffValue===0){a.diffValue=1;if(o!==s)e[o]=a;o++;}if(a.dependenciesState>r){r=a.dependenciesState;}}e.length=o;i.newObserving=null;n=t.length;while(n--){var a=t[n];if(a.diffValue===0){oE(a,i);}a.diffValue=0;}while(o--){var a=e[o];if(a.diffValue===1){a.diffValue=0;zJ(a,i);}}if(r!==Yt.UP_TO_DATE){i.dependenciesState=r;i.onBecomeStale();}}function Cv(i){var t=i.observing;i.observing=[];var e=t.length;while(e--){oE(t[e],i);}i.dependenciesState=Yt.NOT_TRACKING;}function Ov(i){var t=Hu();var e=i();pa(t);return e;}function Hu(){var i=lt.trackingDerivation;lt.trackingDerivation=null;return i;}function pa(i){lt.trackingDerivation=i;}function Ml(i){var t=lt.allowStateReads;lt.allowStateReads=i;return t;}function os(i){lt.allowStateReads=i;}function tE(i){if(i.dependenciesState===Yt.UP_TO_DATE)return;i.dependenciesState=Yt.UP_TO_DATE;var t=i.observing;var e=t.length;while(e--){t[e].lowestObserverState=Yt.UP_TO_DATE;}}function Ol(i,t){if(false){ma(typeof t==="function","`action` can only be invoked on functions");if(typeof i!=="string"||!i)me("actions should have valid names, got: '"+i+"'");}var e=function e(){return eE(i,t,this,arguments);};if(false){if(xpt){Object.defineProperty(e,"name",{value:i});}}e.isMobxAction=true;return e;}function eE(i,t,e,r){var o=BJ(i,e,r);try{return t.apply(e,r);}catch(n){o.error=n;throw n;}finally{PJ(o);}}function BJ(i,t,e){var r=bi()&&!!i;var o=0;if(r){o=Date.now();var n=e&&e.length||0;var s=new Array(n);if(n>0)for(var a=0;a<n;a++){s[a]=e[a];}vo({type:"action",name:i,object:t,arguments:s});}var l=Hu();ns();var c=Km(true);var u=Ml(true);var m={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:r,startTime:o,actionId:AJ++,parentActionId:gg};gg=m.actionId;return m;}function PJ(i){if(gg!==i.actionId){me("invalid action stack. did you forget to finish an action?");}gg=i.parentActionId;if(i.error!==void 0){lt.suppressReactionErrors=true;}Xm(i.prevAllowStateChanges);os(i.prevAllowStateReads);ss();pa(i.prevDerivation);if(i.notifySpy){Co({time:Date.now()-i.startTime});}lt.suppressReactionErrors=false;}function iE(i,t){var e=Km(i);var r;try{r=t();}finally{Xm(e);}return r;}function Km(i){var t=lt.allowStateChanges;lt.allowStateChanges=i;return t;}function Xm(i){lt.allowStateChanges=i;}function LJ(){if(lt.pendingReactions.length||lt.inBatch||lt.isRunningReactions)me("isolateGlobalState should be called before MobX is running any reactions");rE=true;if(dg){if(--Wm().__mobxInstanceCount===0)Wm().__mobxGlobals=void 0;lt=new ug();}}function zJ(i,t){var e=i.observers.length;if(e){i.observersIndexes[t.__mapid]=e;}i.observers[e]=t;if(i.lowestObserverState>t.dependenciesState)i.lowestObserverState=t.dependenciesState;}function oE(i,t){if(i.observers.length===1){i.observers.length=0;nE(i);}else{var e=i.observers;var r=i.observersIndexes;var o=e.pop();if(o!==t){var n=r[t.__mapid]||0;if(n){r[o.__mapid]=n;}else{delete r[o.__mapid];}e[n]=o;}delete r[t.__mapid];}}function nE(i){if(i.isPendingUnobservation===false){i.isPendingUnobservation=true;lt.pendingUnobservations.push(i);}}function ns(){lt.inBatch++;}function ss(){if(--lt.inBatch===0){cE();var i=lt.pendingUnobservations;for(var t=0;t<i.length;t++){var e=i[t];e.isPendingUnobservation=false;if(e.observers.length===0){if(e.isBeingObserved){e.isBeingObserved=false;e.onBecomeUnobserved();}if(e instanceof fa){e.suspend();}}}lt.pendingUnobservations=[];}}function sE(i){FJ(i);var t=lt.trackingDerivation;if(t!==null){if(t.runId!==i.lastAccessedBy){i.lastAccessedBy=t.runId;t.newObserving[t.unboundDepsCount++]=i;if(!i.isBeingObserved){i.isBeingObserved=true;i.onBecomeObserved();}}return true;}else if(i.observers.length===0&&lt.inBatch>0){nE(i);}return false;}function UJ(i){if(i.lowestObserverState===Yt.STALE)return;i.lowestObserverState=Yt.STALE;var t=i.observers;var e=t.length;while(e--){var r=t[e];if(r.dependenciesState===Yt.UP_TO_DATE){if(r.isTracing!==xo.NONE){aE(r,i);}r.onBecomeStale();}r.dependenciesState=Yt.STALE;}}function NJ(i){if(i.lowestObserverState===Yt.STALE)return;i.lowestObserverState=Yt.STALE;var t=i.observers;var e=t.length;while(e--){var r=t[e];if(r.dependenciesState===Yt.POSSIBLY_STALE)r.dependenciesState=Yt.STALE;else if(r.dependenciesState===Yt.UP_TO_DATE)i.lowestObserverState=Yt.UP_TO_DATE;}}function HJ(i){if(i.lowestObserverState!==Yt.UP_TO_DATE)return;i.lowestObserverState=Yt.POSSIBLY_STALE;var t=i.observers;var e=t.length;while(e--){var r=t[e];if(r.dependenciesState===Yt.UP_TO_DATE){r.dependenciesState=Yt.POSSIBLY_STALE;if(r.isTracing!==xo.NONE){aE(r,i);}r.onBecomeStale();}}}function aE(i,t){console.log("[mobx.trace] '"+i.name+"' is invalidated due to a change in: '"+t.name+"'");if(i.isTracing===xo.BREAK){var e=[];lE(Bv(i),e,1);new Function("debugger;\n/*\nTracing '"+i.name+"'\n\nYou are entering this break point because derivation '"+i.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(i instanceof fa?i.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+e.join("\n")+"\n*/\n    ")();}}function lE(i,t,e){if(t.length>=1e3){t.push("(and many more)");return;}t.push(""+new Array(e).join("	")+i.name);if(i.dependencies)i.dependencies.forEach(function(r){return lE(r,t,e+1);});}function cE(){if(lt.inBatch>0||lt.isRunningReactions)return;Sv(WJ);}function WJ(){lt.isRunningReactions=true;var i=lt.pendingReactions;var t=0;while(i.length>0){if(++t===LD){console.error("Reaction doesn't converge to a stable state after "+LD+" iterations."+(" Probably there is a cycle in the reactive function: "+i[0]));i.splice(0);}var e=i.splice(0);for(var r=0,o=e.length;r<o;r++){e[r].runReaction();}}lt.isRunningReactions=false;}function GJ(i){var t=Sv;Sv=function Sv(e){return i(function(){return t(e);});};}function bi(){return!!lt.spyListeners.length;}function Bl(i){if(!lt.spyListeners.length)return;var t=lt.spyListeners;for(var e=0,r=t.length;e<r;e++){t[e](i);}}function vo(i){var t=_Fe(_Fe({},i),{spyReportStart:true});Bl(t);}function Co(i){if(i)Bl(_Fe(_Fe({},i),{spyReportEnd:true}));else Bl(VJ);}function Av(i){lt.spyListeners.push(i);return kv(function(){lt.spyListeners=lt.spyListeners.filter(function(t){return t!==i;});});}function jJ(){me(false);}function zD(i){return function(t,e,r){if(r){if(false){return me("@action cannot be used with getters");}if(r.value){return{value:Ol(i,r.value),enumerable:false,configurable:true,writable:true};}var o=r.initializer;return{enumerable:false,configurable:true,writable:true,initializer:function initializer(){return Ol(i,o.call(this));}};}return $J(i).apply(this,arguments);};}function $J(i){return function(t,e,r){Object.defineProperty(t,e,{configurable:true,enumerable:false,get:function get(){return void 0;},set:function set(o){as(this,e,C(i,o));}});};}function KJ(i,t,e,r){if(r===true){bv(i,t,e.value);return null;}if(e){return{configurable:true,enumerable:false,get:function get(){bv(this,t,e.value||e.initializer.call(this));return this[t];},set:jJ};}return{enumerable:false,configurable:true,set:function set(o){bv(this,t,o);},get:function get(){return void 0;}};}function Ve(i,t){var e=typeof i==="string"?i:i.name||"<unnamed action>";var r=typeof i==="function"?i:t;if(false){ma(typeof r==="function"&&r.length===0,"`runInAction` expects a function without arguments");if(typeof e!=="string"||!e)me("actions should have valid names, got: '"+e+"'");}return eE(e,r,this,void 0);}function bv(i,t,e){as(i,t,Ol(t,e.bind(i)));}function XJ(i,t){if(t===void 0){t=VD;}if(false){ma(typeof i==="function","Autorun expects a function as first argument");ma(isAction(i)===false,"Autorun does not accept actions since actions are untrackable");}var e=t&&t.name||i.name||"Autorun@"+Cr();var r=!t.scheduler&&!t.delay;var o;if(r){o=new ga(e,function(){this.track(a);},t.onError,t.requiresObservable);}else{var n=YJ(t);var s=false;o=new ga(e,function(){if(!s){s=true;n(function(){s=false;if(!o.isDisposed)o.track(a);});}},t.onError,t.requiresObservable);}function a(){i(o);}o.schedule();return o.getDisposer();}function YJ(i){return i.scheduler?i.scheduler:i.delay?function(t){return setTimeout(t,i.delay);}:qJ;}function JJ(i,t,e){return dE("onBecomeObserved",i,t,e);}function uE(i,t,e){return dE("onBecomeUnobserved",i,t,e);}function dE(i,t,e,r){var o=typeof r==="function"?ba(t,e):ba(t);var n=typeof r==="function"?r:e;var s=o[i];if(typeof s!=="function")return me(false);o[i]=function(){s.call(this);n.call(this);};return function(){o[i]=s;};}function wg(i){var t=i.enforceActions,e=i.computedRequiresReaction,r=i.computedConfigurable,o=i.disableErrorBoundaries,n=i.arrayBuffer,s=i.reactionScheduler,a=i.reactionRequiresObservable,l=i.observableRequiresReaction;if(i.isolateGlobalState===true){LJ();}if(t!==void 0){if(typeof t==="boolean"||t==="strict")is("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var c=void 0;switch(t){case true:case"observed":c=true;break;case false:case"never":c=false;break;case"strict":case"always":c="strict";break;default:me("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'");}lt.enforceActions=c;lt.allowStateChanges=c===true||c==="strict"?false:true;}if(e!==void 0){lt.computedRequiresReaction=!!e;}if(a!==void 0){lt.reactionRequiresObservable=!!a;}if(l!==void 0){lt.observableRequiresReaction=!!l;lt.allowStateReads=!lt.observableRequiresReaction;}if(r!==void 0){lt.computedConfigurable=!!r;}if(o!==void 0){if(o===true)console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on.");lt.disableErrorBoundaries=!!o;}if(typeof n==="number"){Mv(n);}if(s){GJ(s);}}function ZJ(i,t,e,r){if(false){ma(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments");ma(_typeof(i)==="object","'extendObservable' expects an object as first argument");ma(!sn(i),"'extendObservable' should not be used on maps, use map.merge instead");ma(!yg(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540");if(e){for(var o in e){if(!(o in t))me("Trying to declare a decorator for unspecified property '"+o+"'");}}}r=Lu(r);var n=r.defaultDecorator||(r.deep===false?ZD:Rv);Al(i);Lv(i,r.name,n.enhancer);ns();try{var s=Object.getOwnPropertyNames(t);for(var a=0,l=s.length;a<l;a++){var o=s[a];var c=Object.getOwnPropertyDescriptor(t,o);if(false){if(isComputed(c.value))me("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead");}var u=e&&o in e?e[o]:c.get?hg:n;if(false)return me("Not a valid decorator for '"+o+"', got: "+u);var m=u(i,o,c,true);if(m)Object.defineProperty(i,o,m);}}finally{ss();}return i;}function Bv(i,t){return mE(ba(i,t));}function mE(i){var t={name:i.name};if(i.observing&&i.observing.length>0)t.dependencies=uJ(i.observing).map(mE);return t;}function QJ(){this.message="FLOW_CANCELLED";}function tZ(i,t){if(i===null||i===void 0)return false;if(t!==void 0){if(false)return me("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");if(Pl(i)){var e=i.$mobx;return e.values&&!!e.values[t];}return false;}return Pl(i)||!!i.$mobx||Fv(i)||bg(i)||Sg(i);}function yg(i){if(arguments.length!==1)me(false);return tZ(i);}function eZ(i){if(Pl(i)){return i.$mobx.getKeys();}if(sn(i)){return rs(i.keys());}if(_a(i)){return rs(i.keys());}if(Ll(i)){return i.map(function(t,e){return e;});}return me(false);}function Mu(i,t,e,r){if(r.detectCycles)i.set(t,e);return e;}function da(i,t,e){if(!t.recurseEverything&&!yg(i))return i;if(_typeof(i)!=="object")return i;if(i===null)return null;if(i instanceof Date)return i;if(MJ(i))return da(i.get(),t,e);if(yg(i))eZ(i);var r=t.detectCycles===true;if(r&&i!==null&&e.has(i)){return e.get(i);}if(Ll(i)||Array.isArray(i)){var o=Mu(e,i,[],t);var n=i.map(function(g){return da(g,t,e);});o.length=n.length;for(var s=0,a=n.length;s<a;s++){o[s]=n[s];}return o;}if(_a(i)||Object.getPrototypeOf(i)===Set.prototype){if(t.exportMapsAsObjects===false){var l=Mu(e,i,new Set(),t);i.forEach(function(g){l.add(da(g,t,e));});return l;}else{var c=Mu(e,i,[],t);i.forEach(function(g){c.push(da(g,t,e));});return c;}}if(sn(i)||Object.getPrototypeOf(i)===Map.prototype){if(t.exportMapsAsObjects===false){var u=Mu(e,i,new Map(),t);i.forEach(function(g,x){u.set(x,da(g,t,e));});return u;}else{var m=Mu(e,i,{},t);i.forEach(function(g,x){m[x]=da(g,t,e);});return m;}}var p=Mu(e,i,{},t);for(var h in i){p[h]=da(i[h],t,e);}return p;}function ct(i,t){if(typeof t==="boolean")t={detectCycles:t};if(!t)t=iZ;t.detectCycles=t.detectCycles===void 0?t.recurseEverything===true:t.detectCycles===true;var e;if(t.detectCycles)e=new Map();return da(i,t,e);}function rZ(){var i=[];for(var t=0;t<arguments.length;t++){i[t]=arguments[t];}var e=false;if(typeof i[i.length-1]==="boolean")e=i.pop();var r=oZ(i);if(!r){return me(false);}if(r.isTracing===xo.NONE){console.log("[mobx.trace] '"+r.name+"' tracing enabled");}r.isTracing=e?xo.BREAK:xo.LOG;}function oZ(i){switch(i.length){case 0:return lt.trackingDerivation;case 1:return ba(i[0]);case 2:return ba(i[0],i[1]);}}function en(i,t){if(t===void 0){t=void 0;}ns();try{return i.apply(t);}finally{ss();}}function rn(i){return i.interceptors!==void 0&&i.interceptors.length>0;}function qm(i,t){var e=i.interceptors||(i.interceptors=[]);e.push(t);return kv(function(){var r=e.indexOf(t);if(r!==-1)e.splice(r,1);});}function on(i,t){var e=Hu();try{var r=i.interceptors;if(r)for(var o=0,n=r.length;o<n;o++){t=r[o](t);ma(!t||t.type,"Intercept handlers should return nothing or a change object");if(!t)break;}return t;}finally{pa(e);}}function So(i){return i.changeListeners!==void 0&&i.changeListeners.length>0;}function Ym(i,t){var e=i.changeListeners||(i.changeListeners=[]);e.push(t);return kv(function(){var r=e.indexOf(t);if(r!==-1)e.splice(r,1);});}function wo(i,t){var e=Hu();var r=i.changeListeners;if(!r)return;r=r.slice();for(var o=0,n=r.length;o<n;o++){r[o](t);}pa(e);}function aZ(i,t){if(typeof Object["setPrototypeOf"]!=="undefined"){Object["setPrototypeOf"](i.prototype,t);}else if(typeof i.prototype.__proto__!=="undefined"){i.prototype.__proto__=t;}else{i["prototype"]=t;}}function hE(i){return{enumerable:false,configurable:false,get:function get(){return this.get(i);},set:function set(t){this.set(i,t);}};}function cZ(i){Object.defineProperty(nn.prototype,""+i,hE(i));}function Mv(i){for(var t=wv;t<i;t++){cZ(t);}wv=i;}function Ll(i){return Iv(i)&&uZ(i.$mobx);}function cg(i){if(i&&i.toString)return i.toString();else return new String(i).toString();}function Lv(i,t,e){if(t===void 0){t="";}if(e===void 0){e=$m;}var r=i.$mobx;if(r)return r;if(!Uu(i))t=(i.constructor.name||"ObservableObject")+"@"+Cr();if(!t)t="ObservableObject@"+Cr();r=new fE(i,t,e);Vm(i,"$mobx",r);return r;}function pZ(i,t,e,r){var o=Lv(i);pJ(i,t);if(rn(o)){var n=on(o,{object:i,name:t,type:"add",newValue:e});if(!n)return;e=n.newValue;}var s=o.values[t]=new ha(e,r,o.name+"."+t,false);e=s.value;Object.defineProperty(i,t,fZ(t));if(o.keys)o.keys.push(t);bZ(o,i,t,e);}function hZ(i,t,e){var r=Lv(i);e.name=r.name+"."+t;e.context=i;r.values[t]=new fa(e);Object.defineProperty(i,t,gZ(t));}function fZ(i){return UD[i]||(UD[i]={configurable:true,enumerable:true,get:function get(){return this.$mobx.read(this,i);},set:function set(t){this.$mobx.write(this,i,t);}});}function HD(i){var t=i.$mobx;if(!t){Al(i);return i.$mobx;}return t;}function gZ(i){return ND[i]||(ND[i]={configurable:lt.computedConfigurable,enumerable:false,get:function get(){return HD(this).read(this,i);},set:function set(t){HD(this).write(this,i,t);}});}function bZ(i,t,e,r){var o=So(i);var n=bi();var s=o||n?{type:"add",object:t,name:e,newValue:r}:null;if(n)vo(_Fe(_Fe({},s),{name:i.name,key:e}));if(o)wo(i,s);if(n)Co();}function Pl(i){if(Iv(i)){Al(i);return yZ(i.$mobx);}return false;}function ba(i,t){if(_typeof(i)==="object"&&i!==null){if(Ll(i)){if(t!==void 0)me(false);return i.$mobx.atom;}if(_a(i)){return i.$mobx;}if(sn(i)){var e=i;if(t===void 0)return e._keysAtom;var r=e._data.get(t)||e._hasMap.get(t);if(!r)me(false);return r;}Al(i);if(t&&!i.$mobx)i[t];if(Pl(i)){if(!t)return me(false);var r=i.$mobx.values[t];if(!r)me(false);return r;}if(Fv(i)||Sg(i)||bg(i)){return i;}}else if(typeof i==="function"){if(bg(i.$mobx)){return i.$mobx;}}return me(false);}function gE(i,t){if(!i)me("Expecting some object");if(t!==void 0)return gE(ba(i,t));if(Fv(i)||Sg(i)||bg(i))return i;if(sn(i)||_a(i))return i;Al(i);if(i.$mobx)return i.$mobx;me(false);}function _Z(i,t){var e;if(t!==void 0)e=ba(i,t);else if(Pl(i)||sn(i)||_a(i))e=gE(i);else e=ba(i);return e.name;}function zv(i,t,e){if(e===void 0){e=-1;}return Tv(i,t,e);}function Tv(i,t,e,r,o){if(i===t)return i!==0||1/i===1/t;if(i==null||t==null)return false;if(i!==i)return t!==t;var n=_typeof(i);if(n!=="function"&&n!=="object"&&_typeof(t)!="object")return false;i=GD(i);t=GD(t);var s=WD.call(i);if(s!==WD.call(t))return false;switch(s){case"[object RegExp]":case"[object String]":return""+i===""+t;case"[object Number]":if(+i!==+i)return+t!==+t;return+i===0?1/+i===1/t:+i===+t;case"[object Date]":case"[object Boolean]":return+i===+t;case"[object Symbol]":return typeof Symbol!=="undefined"&&Symbol.valueOf.call(i)===Symbol.valueOf.call(t);}var a=s==="[object Array]";if(!a){if(_typeof(i)!="object"||_typeof(t)!="object")return false;var l=i.constructor,c=t.constructor;if(l!==c&&!(typeof l==="function"&&l instanceof l&&typeof c==="function"&&c instanceof c)&&"constructor"in i&&"constructor"in t){return false;}}if(e===0){return false;}else if(e<0){e=-1;}r=r||[];o=o||[];var u=r.length;while(u--){if(r[u]===i)return o[u]===t;}r.push(i);o.push(t);if(a){u=i.length;if(u!==t.length)return false;while(u--){if(!Tv(i[u],t[u],e-1,r,o))return false;}}else{var m=Object.keys(i);var p=void 0;u=m.length;if(Object.keys(t).length!==u)return false;while(u--){p=m[u];if(!(xZ(t,p)&&Tv(i[p],t[p],e-1,r,o)))return false;}}r.pop();o.pop();return true;}function GD(i){if(Ll(i))return i.peek();if(Nu(i)||sn(i))return rs(i.entries());if(jm(i)||_a(i))return rs(i.entries());return i;}function xZ(i,t){return Object.prototype.hasOwnProperty.call(i,t);}var lJ,mg,VD,cJ,OD,AD,_g,Fv,pg,_yv,_Fe,_J,xJ,JD,TJ,Rv,kJ,ZD,IJ,PD,Q,hg,EJ,S,Yt,xo,fg,gg,AJ,MD,xpt,ha,MJ,fa,Sg,ug,dg,rE,lt,ga,LD,Sv,bg,VJ,C,qJ,iZ,nZ,sZ,wv,Pv,pE,nn,lZ,uZ,dZ,Tg,sn,mZ,kg,_a,fE,UD,ND,yZ,WD,Uv,vpt;var Tt=d(function(){lJ="An invariant failed, however the error is obfuscated because this is an production build.";mg=[];Object.freeze(mg);VD={};Object.freeze(VD);cJ={};OD=[];AD=function AD(){};_g=function(){function i(t){if(t===void 0){t="Atom@"+Cr();}this.name=t;this.isPendingUnobservation=false;this.isBeingObserved=false;this.observers=[];this.observersIndexes={};this.diffValue=0;this.lastAccessedBy=0;this.lowestObserverState=Yt.NOT_TRACKING;}i.prototype.onBecomeUnobserved=function(){};i.prototype.onBecomeObserved=function(){};i.prototype.reportObserved=function(){return sE(this);};i.prototype.reportChanged=function(){ns();UJ(this);ss();};i.prototype.toString=function(){return this.name;};return i;}();Fv=ya("Atom",_g);pg={identity:XD,structural:gJ,"default":yJ,shallow:bJ};_yv=function yv(i,t){_yv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r;}||function(e,r){for(var o in r){if(r.hasOwnProperty(o))e[o]=r[o];}};return _yv(i,t);};_Fe=function Fe(){_Fe=Object.assign||function i(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n];}}return t;};return _Fe.apply(this,arguments);};_J={};xJ={};JD={deep:true,name:void 0,defaultDecorator:void 0};TJ={deep:false,name:void 0,defaultDecorator:void 0};Object.freeze(JD);Object.freeze(TJ);Rv=Cg($m);kJ=Cg(SJ);ZD=Cg(vg);IJ=Cg(wJ);PD={box:function box(i,t){if(arguments.length>2)es("box");var e=Lu(t);return new ha(i,lg(e),e.name,true,e.equals);},shallowBox:function shallowBox(i,t){if(arguments.length>2)es("shallowBox");is("observable.shallowBox","observable.box(value, { deep: false })");return Q.box(i,{name:t,deep:false});},array:function array(i,t){if(arguments.length>2)es("array");var e=Lu(t);return new nn(i,lg(e),e.name);},shallowArray:function shallowArray(i,t){if(arguments.length>2)es("shallowArray");is("observable.shallowArray","observable.array(values, { deep: false })");return Q.array(i,{name:t,deep:false});},map:function map(i,t){if(arguments.length>2)es("map");var e=Lu(t);return new Tg(i,lg(e),e.name);},shallowMap:function shallowMap(i,t){if(arguments.length>2)es("shallowMap");is("observable.shallowMap","observable.map(values, { deep: false })");return Q.map(i,{name:t,deep:false});},set:function set(i,t){if(arguments.length>2)es("set");var e=Lu(t);return new kg(i,lg(e),e.name);},object:function object(i,t,e){if(typeof arguments[1]==="string")es("object");var r=Lu(e);return ZJ({},i,t,r);},shallowObject:function shallowObject(i,t){if(typeof arguments[1]==="string")es("shallowObject");is("observable.shallowObject","observable.object(values, {}, { deep: false })");return Q.object(i,{},{name:t,deep:false});},ref:ZD,shallow:kJ,deep:Rv,struct:IJ};Q=DJ;Object.keys(PD).forEach(function(i){return Q[i]=PD[i];});hg=YD(false,function(i,t,e,r,o){if(false){ma(e&&e.get,"Trying to declare a computed value for unspecified getter '"+t+"'");}var n=e.get,s=e.set;var a=o[0]||{};hZ(i,t,_Fe({get:n,set:s},a));});EJ=hg({equals:pg.structural});S=function i(t,e,r){if(typeof e==="string"){return hg.apply(null,arguments);}if(t!==null&&_typeof(t)==="object"&&arguments.length===1){return hg.apply(null,arguments);}if(false){ma(typeof t==="function","First argument to `computed` should be an expression.");ma(arguments.length<3,"Computed takes one or two arguments if used as function");}var o=_typeof(e)==="object"?e:{};o.get=t;o.set=typeof e==="function"?e:o.set;o.name=o.name||t.name||"";return new fa(o);};S.struct=EJ;(function(i){i[i["NOT_TRACKING"]=-1]="NOT_TRACKING";i[i["UP_TO_DATE"]=0]="UP_TO_DATE";i[i["POSSIBLY_STALE"]=1]="POSSIBLY_STALE";i[i["STALE"]=2]="STALE";})(Yt||(Yt={}));(function(i){i[i["NONE"]=0]="NONE";i[i["LOG"]=1]="LOG";i[i["BREAK"]=2]="BREAK";})(xo||(xo={}));fg=function(){function i(t){this.cause=t;}return i;}();gg=0;AJ=1;MD=Object.getOwnPropertyDescriptor(function(){},"name");xpt=MD&&MD.configurable;ha=function(i){qD(t,i);function t(e,r,o,n,s){if(o===void 0){o="ObservableValue@"+Cr();}if(n===void 0){n=true;}if(s===void 0){s=pg["default"];}var a=i.call(this,o)||this;a.enhancer=r;a.name=o;a.equals=s;a.hasUnreportedChange=false;a.value=r(e,void 0,o);if(n&&bi()){Bl({type:"create",name:a.name,newValue:""+a.value});}return a;}t.prototype.dehanceValue=function(e){if(this.dehancer!==void 0)return this.dehancer(e);return e;};t.prototype.set=function(e){var r=this.value;e=this.prepareNewValue(e);if(e!==lt.UNCHANGED){var o=bi();if(o){vo({type:"update",name:this.name,newValue:e,oldValue:r});}this.setNewValue(e);if(o)Co();}};t.prototype.prepareNewValue=function(e){zu(this);if(rn(this)){var r=on(this,{object:this,type:"update",newValue:e});if(!r)return lt.UNCHANGED;e=r.newValue;}e=this.enhancer(e,this.value,this.name);return this.equals(this.value,e)?lt.UNCHANGED:e;};t.prototype.setNewValue=function(e){var r=this.value;this.value=e;this.reportChanged();if(So(this)){wo(this,{type:"update",object:this,newValue:e,oldValue:r});}};t.prototype.get=function(){this.reportObserved();return this.dehanceValue(this.value);};t.prototype.intercept=function(e){return qm(this,e);};t.prototype.observe=function(e,r){if(r)e({object:this,type:"update",newValue:this.value,oldValue:void 0});return Ym(this,e);};t.prototype.toJSON=function(){return this.get();};t.prototype.toString=function(){return this.name+"["+this.value+"]";};t.prototype.valueOf=function(){return $D(this.get());};return t;}(_g);ha.prototype[jD()]=ha.prototype.valueOf;MJ=ya("ObservableValue",ha);fa=function(){function i(t){this.dependenciesState=Yt.NOT_TRACKING;this.observing=[];this.newObserving=null;this.isBeingObserved=false;this.isPendingUnobservation=false;this.observers=[];this.observersIndexes={};this.diffValue=0;this.runId=0;this.lastAccessedBy=0;this.lowestObserverState=Yt.UP_TO_DATE;this.unboundDepsCount=0;this.__mapid="#"+Cr();this.value=new fg(null);this.isComputing=false;this.isRunningSetter=false;this.isTracing=xo.NONE;ma(t.get,"missing option for computed: get");this.derivation=t.get;this.name=t.name||"ComputedValue@"+Cr();if(t.set)this.setter=Ol(this.name+"-setter",t.set);this.equals=t.equals||(t.compareStructural||t.struct?pg.structural:pg["default"]);this.scope=t.context;this.requiresReaction=!!t.requiresReaction;this.keepAlive=!!t.keepAlive;}i.prototype.onBecomeStale=function(){HJ(this);};i.prototype.onBecomeUnobserved=function(){};i.prototype.onBecomeObserved=function(){};i.prototype.get=function(){if(this.isComputing)me("Cycle detected in computation "+this.name+": "+this.derivation);if(lt.inBatch===0&&this.observers.length===0&&!this.keepAlive){if(vv(this)){this.warnAboutUntrackedRead();ns();this.value=this.computeValue(false);ss();}}else{sE(this);if(vv(this)){if(this.trackAndCompute())NJ(this);}}var t=this.value;if(Hm(t))throw t.cause;return t;};i.prototype.peek=function(){var t=this.computeValue(false);if(Hm(t))throw t.cause;return t;};i.prototype.set=function(t){if(this.setter){ma(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?");this.isRunningSetter=true;try{this.setter.call(this.scope,t);}finally{this.isRunningSetter=false;}}else ma(false,false);};i.prototype.trackAndCompute=function(){if(bi()){Bl({object:this.scope,type:"compute",name:this.name});}var t=this.value;var e=this.dependenciesState===Yt.NOT_TRACKING;var r=this.computeValue(true);var o=e||Hm(t)||Hm(r)||!this.equals(t,r);if(o){this.value=r;}return o;};i.prototype.computeValue=function(t){this.isComputing=true;lt.computationDepth++;var e;if(t){e=QD(this,this.derivation,this.scope);}else{if(lt.disableErrorBoundaries===true){e=this.derivation.call(this.scope);}else{try{e=this.derivation.call(this.scope);}catch(r){e=new fg(r);}}}lt.computationDepth--;this.isComputing=false;return e;};i.prototype.suspend=function(){if(!this.keepAlive){Cv(this);this.value=void 0;}};i.prototype.observe=function(t,e){var r=this;var o=true;var n=void 0;return XJ(function(){var s=r.get();if(!o||e){var a=Hu();t({type:"update",object:r,newValue:s,oldValue:n});pa(a);}o=false;n=s;});};i.prototype.warnAboutUntrackedRead=function(){if(true)return;if(this.requiresReaction===true){me("[mobx] Computed value "+this.name+" is read outside a reactive context");}if(this.isTracing!==xo.NONE){console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute");}if(lt.computedRequiresReaction){console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute");}};i.prototype.toJSON=function(){return this.get();};i.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]";};i.prototype.valueOf=function(){return $D(this.get());};return i;}();fa.prototype[jD()]=fa.prototype.valueOf;Sg=ya("ComputedValue",fa);ug=function(){function i(){this.version=5;this.UNCHANGED={};this.trackingDerivation=null;this.computationDepth=0;this.runId=0;this.mobxGuid=0;this.inBatch=0;this.pendingUnobservations=[];this.pendingReactions=[];this.isRunningReactions=false;this.allowStateChanges=true;this.allowStateReads=true;this.enforceActions=false;this.spyListeners=[];this.globalReactionErrorHandlers=[];this.computedRequiresReaction=false;this.reactionRequiresObservable=false;this.observableRequiresReaction=false;this.computedConfigurable=false;this.disableErrorBoundaries=false;this.suppressReactionErrors=false;}return i;}();dg=true;rE=false;lt=function(){var i=Wm();if(i.__mobxInstanceCount>0&&!i.__mobxGlobals)dg=false;if(i.__mobxGlobals&&i.__mobxGlobals.version!==new ug().version)dg=false;if(!dg){setTimeout(function(){if(!rE){me("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`");}},1);return new ug();}else if(i.__mobxGlobals){i.__mobxInstanceCount+=1;if(!i.__mobxGlobals.UNCHANGED)i.__mobxGlobals.UNCHANGED={};return i.__mobxGlobals;}else{i.__mobxInstanceCount=1;return i.__mobxGlobals=new ug();}}();ga=function(){function i(t,e,r,o){if(t===void 0){t="Reaction@"+Cr();}if(o===void 0){o=false;}this.name=t;this.onInvalidate=e;this.errorHandler=r;this.requiresObservable=o;this.observing=[];this.newObserving=[];this.dependenciesState=Yt.NOT_TRACKING;this.diffValue=0;this.runId=0;this.unboundDepsCount=0;this.__mapid="#"+Cr();this.isDisposed=false;this._isScheduled=false;this._isTrackPending=false;this._isRunning=false;this.isTracing=xo.NONE;}i.prototype.onBecomeStale=function(){this.schedule();};i.prototype.schedule=function(){if(!this._isScheduled){this._isScheduled=true;lt.pendingReactions.push(this);cE();}};i.prototype.isScheduled=function(){return this._isScheduled;};i.prototype.runReaction=function(){if(!this.isDisposed){ns();this._isScheduled=false;if(vv(this)){this._isTrackPending=true;try{this.onInvalidate();if(this._isTrackPending&&bi()){Bl({name:this.name,type:"scheduled-reaction"});}}catch(t){this.reportExceptionInDerivation(t);}}ss();}};i.prototype.track=function(t){ns();var e=bi();var r;if(e){r=Date.now();vo({name:this.name,type:"reaction"});}this._isRunning=true;var o=QD(this,t,void 0);this._isRunning=false;this._isTrackPending=false;if(this.isDisposed){Cv(this);}if(Hm(o))this.reportExceptionInDerivation(o.cause);if(e){Co({time:Date.now()-r});}ss();};i.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler){this.errorHandler(t,this);return;}if(lt.disableErrorBoundaries)throw t;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";if(lt.suppressReactionErrors){console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)");}else{console.error(r,t);}if(bi()){Bl({type:"error",name:this.name,message:r,error:""+t});}lt.globalReactionErrorHandlers.forEach(function(o){return o(t,e);});};i.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=true;if(!this._isRunning){ns();Cv(this);ss();}}};i.prototype.getDisposer=function(){var t=this.dispose.bind(this);t.$mobx=this;return t;};i.prototype.toString=function(){return"Reaction["+this.name+"]";};i.prototype.trace=function(t){if(t===void 0){t=false;}rZ(this,t);};return i;}();LD=100;Sv=function Sv(i){return i();};bg=ya("Reaction",ga);VJ={spyReportEnd:true};C=function i(t,e,r,o){if(arguments.length===1&&typeof t==="function")return Ol(t.name||"<unnamed action>",t);if(arguments.length===2&&typeof e==="function")return Ol(t,e);if(arguments.length===1&&typeof t==="string")return zD(t);if(o===true){t[e]=Ol(t.name||e,r.value);}else{return zD(e).apply(null,arguments);}};C.bound=KJ;qJ=function qJ(i){return i();};QJ.prototype=Object.create(Error.prototype);iZ={detectCycles:true,exportMapsAsObjects:true,recurseEverything:false};nZ=1e4;sZ=function(){var i=false;var t={};Object.defineProperty(t,"0",{set:function set(){i=true;}});Object.create(t)["0"]=1;return i===false;}();wv=0;Pv=function(){function i(){}return i;}();aZ(Pv,Array.prototype);if(Object.isFrozen(Array)){["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(i){Object.defineProperty(Pv.prototype,i,{configurable:true,writable:true,value:Array.prototype[i]});});}pE=function(){function i(t,e,r,o){this.array=r;this.owned=o;this.values=[];this.lastKnownLength=0;this.atom=new _g(t||"ObservableArray@"+Cr());this.enhancer=function(n,s){return e(n,s,t+"[..]");};}i.prototype.dehanceValue=function(t){if(this.dehancer!==void 0)return this.dehancer(t);return t;};i.prototype.dehanceValues=function(t){if(this.dehancer!==void 0&&t.length>0)return t.map(this.dehancer);return t;};i.prototype.intercept=function(t){return qm(this,t);};i.prototype.observe=function(t,e){if(e===void 0){e=false;}if(e){t({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0});}return Ym(this,t);};i.prototype.getArrayLength=function(){this.atom.reportObserved();return this.values.length;};i.prototype.setArrayLength=function(t){if(typeof t!=="number"||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t===e)return;else if(t>e){var r=new Array(t-e);for(var o=0;o<t-e;o++){r[o]=void 0;}this.spliceWithArray(e,0,r);}else this.spliceWithArray(t,e-t);};i.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=e;if(e>0&&t+e+1>wv)Mv(t+e+1);};i.prototype.spliceWithArray=function(t,e,r){var o=this;zu(this.atom);var n=this.values.length;if(t===void 0)t=0;else if(t>n)t=n;else if(t<0)t=Math.max(0,n+t);if(arguments.length===1)e=n-t;else if(e===void 0||e===null)e=0;else e=Math.max(0,Math.min(e,n-t));if(r===void 0)r=mg;if(rn(this)){var s=on(this,{object:this.array,type:"splice",index:t,removedCount:e,added:r});if(!s)return mg;e=s.removedCount;r=s.added;}r=r.length===0?r:r.map(function(c){return o.enhancer(c,void 0);});var a=r.length-e;this.updateArrayLength(n,a);var l=this.spliceItemsIntoValues(t,e,r);if(e!==0||r.length!==0)this.notifyArraySplice(t,r,l);return this.dehanceValues(l);};i.prototype.spliceItemsIntoValues=function(t,e,r){var o;if(r.length<nZ){return(o=this.values).splice.apply(o,xv([t,e],r));}else{var n=this.values.slice(t,t+e);this.values=this.values.slice(0,t).concat(r,this.values.slice(t+e));return n;}};i.prototype.notifyArrayChildUpdate=function(t,e,r){var o=!this.owned&&bi();var n=So(this);var s=n||o?{object:this.array,type:"update",index:t,newValue:e,oldValue:r}:null;if(o)vo(_Fe(_Fe({},s),{name:this.atom.name}));this.atom.reportChanged();if(n)wo(this,s);if(o)Co();};i.prototype.notifyArraySplice=function(t,e,r){var o=!this.owned&&bi();var n=So(this);var s=n||o?{object:this.array,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;if(o)vo(_Fe(_Fe({},s),{name:this.atom.name}));this.atom.reportChanged();if(n)wo(this,s);if(o)Co();};return i;}();nn=function(i){qD(t,i);function t(e,r,o,n){if(o===void 0){o="ObservableArray@"+Cr();}if(n===void 0){n=false;}var s=i.call(this)||this;var a=new pE(o,r,s,n);Vm(s,"$mobx",a);if(e&&e.length){var l=Km(true);s.spliceWithArray(0,0,e);Xm(l);}if(sZ){Object.defineProperty(a.array,"0",lZ);}return s;}t.prototype.intercept=function(e){return this.$mobx.intercept(e);};t.prototype.observe=function(e,r){if(r===void 0){r=false;}return this.$mobx.observe(e,r);};t.prototype.clear=function(){return this.splice(0);};t.prototype.concat=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r];}this.$mobx.atom.reportObserved();return Array.prototype.concat.apply(this.peek(),e.map(function(o){return Ll(o)?o.peek():o;}));};t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e);};t.prototype.toJS=function(){return this.slice();};t.prototype.toJSON=function(){return this.toJS();};t.prototype.peek=function(){this.$mobx.atom.reportObserved();return this.$mobx.dehanceValues(this.$mobx.values);};t.prototype.find=function(e,r,o){if(o===void 0){o=0;}if(arguments.length===3)is("The array.find fromIndex argument to find will not be supported anymore in the next major");var n=this.findIndex.apply(this,arguments);return n===-1?void 0:this.get(n);};t.prototype.findIndex=function(e,r,o){if(o===void 0){o=0;}if(arguments.length===3)is("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");var n=this.peek(),s=n.length;for(var a=o;a<s;a++){if(e.call(r,n[a],a,this))return a;}return-1;};t.prototype.splice=function(e,r){var o=[];for(var n=2;n<arguments.length;n++){o[n-2]=arguments[n];}switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,r);}return this.$mobx.spliceWithArray(e,r,o);};t.prototype.spliceWithArray=function(e,r,o){return this.$mobx.spliceWithArray(e,r,o);};t.prototype.push=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r];}var o=this.$mobx;o.spliceWithArray(o.values.length,0,e);return o.values.length;};t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0];};t.prototype.shift=function(){return this.splice(0,1)[0];};t.prototype.unshift=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r];}var o=this.$mobx;o.spliceWithArray(0,0,e);return o.values.length;};t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments);};t.prototype.sort=function(e){var r=this.slice();return r.sort.apply(r,arguments);};t.prototype.remove=function(e){var r=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);if(r>-1){this.splice(r,1);return true;}return false;};t.prototype.move=function(e,r){is("observableArray.move is deprecated, use .slice() & .replace() instead");function o(a){if(a<0){throw new Error("[mobx.array] Index out of bounds: "+a+" is negative");}var l=this.$mobx.values.length;if(a>=l){throw new Error("[mobx.array] Index out of bounds: "+a+" is not smaller than "+l);}}o.call(this,e);o.call(this,r);if(e===r){return;}var n=this.$mobx.values;var s;if(e<r){s=xv(n.slice(0,e),n.slice(e+1,r+1),[n[e]],n.slice(r+1));}else{s=xv(n.slice(0,r),[n[e]],n.slice(r,e),n.slice(e+1));}this.replace(s);};t.prototype.get=function(e){var r=this.$mobx;if(r){if(e<r.values.length){r.atom.reportObserved();return r.dehanceValue(r.values[e]);}console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+r.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX");}return void 0;};t.prototype.set=function(e,r){var o=this.$mobx;var n=o.values;if(e<n.length){zu(o.atom);var s=n[e];if(rn(o)){var a=on(o,{type:"update",object:this,index:e,newValue:r});if(!a)return;r=a.newValue;}r=o.enhancer(r,s);var l=r!==s;if(l){n[e]=r;o.notifyArrayChildUpdate(e,r,s);}}else if(e===n.length){o.spliceWithArray(e,0,[r]);}else{throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);}};return t;}(Pv);Dv(nn.prototype,function(){this.$mobx.atom.reportObserved();var i=this;var t=0;return Gm({next:function next(){return t<i.length?{value:i[t++],done:false}:{done:true,value:void 0};}});});Object.defineProperty(nn.prototype,"length",{enumerable:false,configurable:true,get:function get(){return this.$mobx.getArrayLength();},set:function set(i){this.$mobx.setArrayLength(i);}});as(nn.prototype,Ev(),"Array");["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(i){var t=Array.prototype[i];ma(typeof t==="function","Base function not defined on Array prototype: '"+i+"'");as(nn.prototype,i,function(){return t.apply(this.peek(),arguments);});});["every","filter","forEach","map","some"].forEach(function(i){var t=Array.prototype[i];ma(typeof t==="function","Base function not defined on Array prototype: '"+i+"'");as(nn.prototype,i,function(e,r){var o=this;var n=this.$mobx;n.atom.reportObserved();var s=n.dehanceValues(n.values);return s[i](function(a,l){return e.call(r,a,l,o);},r);});});["reduce","reduceRight"].forEach(function(i){as(nn.prototype,i,function(){var t=this;var e=this.$mobx;e.atom.reportObserved();var r=arguments[0];arguments[0]=function(o,n,s){n=e.dehanceValue(n);return r(o,n,s,t);};return e.values[i].apply(e.values,arguments);});});mJ(nn.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);lZ=hE(0);Mv(1e3);uZ=ya("ObservableArrayAdministration",pE);dZ={};Tg=function(){function i(t,e,r){if(e===void 0){e=$m;}if(r===void 0){r="ObservableMap@"+Cr();}this.enhancer=e;this.name=r;this.$mobx=dZ;this._keysAtom=xg(this.name+".keys()");if(typeof Map!=="function"){throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");}this._data=new Map();this._hasMap=new Map();this.merge(t);}i.prototype._has=function(t){return this._data.has(t);};i.prototype.has=function(t){var e=this;if(!lt.trackingDerivation)return this._has(t);var r=this._hasMap.get(t);if(!r){var o=r=new ha(this._has(t),vg,this.name+"."+cg(t)+"?",false);this._hasMap.set(t,o);uE(o,function(){return e._hasMap["delete"](t);});}return r.get();};i.prototype.set=function(t,e){var r=this._has(t);if(rn(this)){var o=on(this,{type:r?"update":"add",object:this,newValue:e,name:t});if(!o)return this;e=o.newValue;}if(r){this._updateValue(t,e);}else{this._addValue(t,e);}return this;};i.prototype["delete"]=function(t){var e=this;zu(this._keysAtom);if(rn(this)){var r=on(this,{type:"delete",object:this,name:t});if(!r)return false;}if(this._has(t)){var o=bi();var n=So(this);var r=n||o?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;if(o)vo(_Fe(_Fe({},r),{name:this.name,key:t}));en(function(){e._keysAtom.reportChanged();e._updateHasMapEntry(t,false);var a=e._data.get(t);a.setNewValue(void 0);e._data["delete"](t);});if(n)wo(this,r);if(o)Co();return true;}return false;};i.prototype._updateHasMapEntry=function(t,e){var r=this._hasMap.get(t);if(r){r.setNewValue(e);}};i.prototype._updateValue=function(t,e){var r=this._data.get(t);e=r.prepareNewValue(e);if(e!==lt.UNCHANGED){var o=bi();var n=So(this);var s=n||o?{type:"update",object:this,oldValue:r.value,name:t,newValue:e}:null;if(o)vo(_Fe(_Fe({},s),{name:this.name,key:t}));r.setNewValue(e);if(n)wo(this,s);if(o)Co();}};i.prototype._addValue=function(t,e){var r=this;zu(this._keysAtom);en(function(){var a=new ha(e,r.enhancer,r.name+"."+cg(t),false);r._data.set(t,a);e=a.value;r._updateHasMapEntry(t,true);r._keysAtom.reportChanged();});var o=bi();var n=So(this);var s=n||o?{type:"add",object:this,name:t,newValue:e}:null;if(o)vo(_Fe(_Fe({},s),{name:this.name,key:t}));if(n)wo(this,s);if(o)Co();};i.prototype.get=function(t){if(this.has(t))return this.dehanceValue(this._data.get(t).get());return this.dehanceValue(void 0);};i.prototype.dehanceValue=function(t){if(this.dehancer!==void 0){return this.dehancer(t);}return t;};i.prototype.keys=function(){this._keysAtom.reportObserved();return this._data.keys();};i.prototype.values=function(){var t=this;var e=this.keys();return Gm({next:function next(){var r=e.next(),o=r.done,n=r.value;return{done:o,value:o?void 0:t.get(n)};}});};i.prototype.entries=function(){var t=this;var e=this.keys();return Gm({next:function next(){var r=e.next(),o=r.done,n=r.value;return{done:o,value:o?void 0:[n,t.get(n)]};}});};i.prototype.forEach=function(t,e){var r=this;this._keysAtom.reportObserved();this._data.forEach(function(o,n){return t.call(e,r.get(n),n,r);});};i.prototype.merge=function(t){var e=this;if(sn(t)){t=t.toJS();}en(function(){var r=Km(true);try{if(Uu(t))Object.keys(t).forEach(function(o){return e.set(o,t[o]);});else if(Array.isArray(t))t.forEach(function(o){var n=_v(o,2),s=n[0],a=n[1];return e.set(s,a);});else if(Nu(t)){if(t.constructor!==Map)me("Cannot initialize from classes that inherit from Map: "+t.constructor.name);else t.forEach(function(o,n){return e.set(n,o);});}else if(t!==null&&t!==void 0)me("Cannot initialize map from "+t);}finally{Xm(r);}});return this;};i.prototype.clear=function(){var t=this;en(function(){Ov(function(){t._data.forEach(function(e,r){return t["delete"](r);});});});};i.prototype.replace=function(t){var e=this;en(function(){var r=dJ(t);var o=new Map();var n=false;BD(e._data.keys(),function(u){if(!r.has(u)){var m=e["delete"](u);if(m){n=true;}else{var p=e._data.get(u);o.set(u,p);}}});BD(r.entries(),function(u){var m=_v(u,2),p=m[0],h=m[1];var g=e._data.has(p);e.set(p,h);if(e._data.has(p)){var x=e._data.get(p);o.set(p,x);if(!g){n=true;}}});if(!n){if(e._data.size!==o.size){e._keysAtom.reportChanged();}else{var s=e._data.keys();var a=o.keys();var l=s.next();var c=a.next();while(!l.done){if(l.value!==c.value){e._keysAtom.reportChanged();break;}l=s.next();c=a.next();}}}e._data=o;});return this;};Object.defineProperty(i.prototype,"size",{get:function get(){this._keysAtom.reportObserved();return this._data.size;},enumerable:true,configurable:true});i.prototype.toPOJO=function(){var t=this;var e={};this.forEach(function(r,o){return e[_typeof(o)==="symbol"?o:cg(o)]=t.get(o);});return e;};i.prototype.toJS=function(){return new Map(this);};i.prototype.toJSON=function(){return this.toPOJO();};i.prototype.toString=function(){var t=this;return this.name+"[{ "+rs(this.keys()).map(function(e){return cg(e)+": "+(""+t.get(e));}).join(", ")+" }]";};i.prototype.observe=function(t,e){return Ym(this,t);};i.prototype.intercept=function(t){return qm(this,t);};return i;}();Dv(Tg.prototype,function(){return this.entries();});Vm(Tg.prototype,Ev(),"Map");sn=ya("ObservableMap",Tg);mZ={};kg=function(){function i(t,e,r){if(e===void 0){e=$m;}if(r===void 0){r="ObservableSet@"+Cr();}this.name=r;this.$mobx=mZ;this._data=new Set();this._atom=xg(this.name);if(typeof Set!=="function"){throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");}this.enhancer=function(o,n){return e(o,n,r);};if(t){this.replace(t);}}i.prototype.dehanceValue=function(t){if(this.dehancer!==void 0){return this.dehancer(t);}return t;};i.prototype.clear=function(){var t=this;en(function(){Ov(function(){t._data.forEach(function(e){t["delete"](e);});});});};i.prototype.forEach=function(t,e){var r=this;this._atom.reportObserved();this._data.forEach(function(o){t.call(e,o,o,r);});};Object.defineProperty(i.prototype,"size",{get:function get(){this._atom.reportObserved();return this._data.size;},enumerable:true,configurable:true});i.prototype.add=function(t){var e=this;zu(this._atom);if(rn(this)){var r=on(this,{type:"add",object:this,newValue:t});if(!r)return this;}if(!this.has(t)){en(function(){e._data.add(e.enhancer(t,void 0));e._atom.reportChanged();});var o=bi();var n=So(this);var r=n||o?{type:"add",object:this,newValue:t}:null;if(o&&false)vo(r);if(n)wo(this,r);if(o&&false)Co();}return this;};i.prototype["delete"]=function(t){var e=this;if(rn(this)){var r=on(this,{type:"delete",object:this,oldValue:t});if(!r)return false;}if(this.has(t)){var o=bi();var n=So(this);var r=n||o?{type:"delete",object:this,oldValue:t}:null;if(o&&false)vo(_Fe(_Fe({},r),{name:this.name}));en(function(){e._atom.reportChanged();e._data["delete"](t);});if(n)wo(this,r);if(o&&false)Co();return true;}return false;};i.prototype.has=function(t){this._atom.reportObserved();return this._data.has(this.dehanceValue(t));};i.prototype.entries=function(){var t=0;var e=rs(this.keys());var r=rs(this.values());return Gm({next:function next(){var o=t;t+=1;return o<r.length?{value:[e[o],r[o]],done:false}:{done:true};}});};i.prototype.keys=function(){return this.values();};i.prototype.values=function(){this._atom.reportObserved();var t=this;var e=0;var r;if(this._data.values!==void 0){r=rs(this._data.values());}else{r=[];this._data.forEach(function(o){return r.push(o);});}return Gm({next:function next(){return e<r.length?{value:t.dehanceValue(r[e++]),done:false}:{done:true};}});};i.prototype.replace=function(t){var e=this;if(_a(t)){t=t.toJS();}en(function(){var r=Km(true);try{if(Array.isArray(t)){e.clear();t.forEach(function(o){return e.add(o);});}else if(jm(t)){e.clear();t.forEach(function(o){return e.add(o);});}else if(t!==null&&t!==void 0){me("Cannot initialize set from "+t);}}finally{Xm(r);}});return this;};i.prototype.observe=function(t,e){return Ym(this,t);};i.prototype.intercept=function(t){return qm(this,t);};i.prototype.toJS=function(){return new Set(this);};i.prototype.toString=function(){return this.name+"[ "+rs(this.keys()).join(", ")+" ]";};return i;}();Dv(kg.prototype,function(){return this.values();});Vm(kg.prototype,Ev(),"Set");_a=ya("ObservableSet",kg);fE=function(){function i(t,e,r){this.target=t;this.name=e;this.defaultEnhancer=r;this.values={};}i.prototype.read=function(t,e){if(this.target!==t){this.illegalAccess(t,e);if(!this.values[e])return void 0;}return this.values[e].get();};i.prototype.write=function(t,e,r){var o=this.target;if(o!==t){this.illegalAccess(t,e);}var n=this.values[e];if(n instanceof fa){n.set(r);return;}if(rn(this)){var s=on(this,{type:"update",object:o,name:e,newValue:r});if(!s)return;r=s.newValue;}r=n.prepareNewValue(r);if(r!==lt.UNCHANGED){var a=So(this);var l=bi();var s=a||l?{type:"update",object:o,oldValue:n.value,name:e,newValue:r}:null;if(l)vo(_Fe(_Fe({},s),{name:this.name,key:e}));n.setNewValue(r);if(a)wo(this,s);if(l)Co();}};i.prototype.remove=function(t){if(!this.values[t])return;var e=this.target;if(rn(this)){var r=on(this,{object:e,name:t,type:"remove"});if(!r)return;}try{ns();var o=So(this);var n=bi();var s=this.values[t].get();if(this.keys)this.keys.remove(t);delete this.values[t];delete this.target[t];var r=o||n?{type:"remove",object:e,oldValue:s,name:t}:null;if(n)vo(_Fe(_Fe({},r),{name:this.name,key:t}));if(o)wo(this,r);if(n)Co();}finally{ss();}};i.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner");};i.prototype.observe=function(t,e){return Ym(this,t);};i.prototype.intercept=function(t){return qm(this,t);};i.prototype.getKeys=function(){var t=this;if(this.keys===void 0){this.keys=new nn(Object.keys(this.values).filter(function(e){return t.values[e]instanceof ha;}),vg,"keys("+this.name+")",true);}return this.keys.slice();};return i;}();UD=Object.create(null);ND=Object.create(null);yZ=ya("ObservableObjectAdministration",fE);WD=Object.prototype.toString;(function(){function i(){}if(i.name!=="testCodeMinification"&&false){var t=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+t+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle");}})();Uv="$mobx";if((typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__==="undefined"?"undefined":_typeof(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Av,extras:{getDebugName:_Z},$mobx:Uv});}if(false){vpt=false;Object.defineProperty(module.exports,"default",{enumerable:false,get:function get(){if(!vpt){vpt=true;console.warn("The MobX package does not have a default export. Use 'import { thing } from \"mobx\"' (recommended) or 'import * as mobx from \"mobx\"' instead.\"");}return void 0;}});["extras","Atom","BaseAtom","asFlat","asMap","asReference","asStructure","autorunAsync","createTranformer","expr","isModifierDescriptor","isStrictModeEnabled","map","useStrict","whyRun"].forEach(function(i){Object.defineProperty(module.exports,i,{enumerable:false,get:function get(){me("'"+i+"' is no longer part of the public MobX api. Please consult the changelog to find out where this functionality went");},set:function set(){}});});}});var bE;var yE=d(function(){Tt();bE=_("react");if(!bE.useState){throw new Error("mobx-react-lite requires React with Hooks support");}if(!Av){throw new Error("mobx-react-lite requires mobx at least version 4 to be available");}});var Nv;var _E=d(function(){Nv=_("react-dom");});function Hv(){var i=vZ((0,Jm.useState)(0),2),t=i[1];var e=(0,Jm.useCallback)(function(){t(function(r){return r+1;});},[]);return e;}function xE(i){if(typeof Symbol==="function"){return Symbol["for"](i);}return"__$mobx-react "+i+"__";}function vE(){if(typeof window!=="undefined"){return window;}if(typeof global!=="undefined"){return global;}if(typeof self!=="undefined"){return self;}return CZ;}var Jm,vZ,CZ;var Wu=d(function(){Jm=_("react");vZ=function vZ(i,t){var e=typeof Symbol==="function"&&i[Symbol.iterator];if(!e)return i;var r=e.call(i),o,n=[],s;try{while((t===void 0||t-->0)&&!(o=r.next()).done){n.push(o.value);}}catch(a){s={error:a};}finally{try{if(o&&!o.done&&(e=r["return"]))e.call(r);}finally{if(s)throw s.error;}}return n;};CZ={};});function wZ(i){i();}function Ig(i){if(!i){i=wZ;if(false){console.warn("[MobX] Failed to get unstable_batched updates from react-dom / react-native");}}wg({reactionScheduler:i});vE()[SZ]=true;}var SZ;var Wv=d(function(){Tt();Wu();SZ=xE("observerBatching");});function an(){return TZ;}var TZ;var Dg=d(function(){TZ=false;});function CE(i){return Bv(i);}var SE=d(function(){Tt();});function wE(i){var t={cleanAt:Date.now()+kZ,reaction:i};return t;}function TE(){if(Gv===void 0){Gv=setTimeout(DZ,IZ);}}function kE(i){Zm.add(i);TE();}function IE(i){Zm["delete"](i);}function DZ(){Gv=void 0;var i=Date.now();Zm.forEach(function(t){var e=t.current;if(e){if(i>=e.cleanAt){e.reaction.dispose();t.current=null;Zm["delete"](t);}}});if(Zm.size>0){TE();}}var kZ,IZ,Zm,Gv;var DE=d(function(){kZ=1e4;IZ=1e4;Zm=new Set();});function Vv(i){return function(){if(Eg){Fg.push(i);}else{i();}};}function jv(i){Eg=true;Fg=[];try{var t=i();Eg=false;var e=Fg.length>0?Fg:void 0;EE["default"].useLayoutEffect(function(){if(e){e.forEach(function(r){return r();});}},[e]);return t;}finally{Eg=false;}}var EE,Eg,Fg;var $v=d(function(){EE=y(_("react"));Eg=false;Fg=[];});function FE(i){return"observer"+i;}function Gu(i,t,e){if(t===void 0){t="observed";}if(e===void 0){e=EZ;}if(an()){return i();}var r=e.useForceUpdate||Hv;var o=r();var n=Vv(o);var s=Rg["default"].useRef(null);if(!s.current){var a=new ga(FE(t),function(){if(l.mounted){n();}else{a.dispose();s.current=null;}});var l=wE(a);s.current=l;kE(s);}var c=s.current.reaction;Rg["default"].useDebugValue(c,CE);Rg["default"].useEffect(function(){IE(s);if(s.current){s.current.mounted=true;}else{s.current={reaction:new ga(FE(t),function(){n();}),cleanAt:Infinity};n();}return function(){s.current.reaction.dispose();s.current=null;};},[]);return jv(function(){var u;var m;c.track(function(){try{u=i();}catch(p){m=p;}});if(m){throw m;}return u;});}var Rg,EZ;var Og=d(function(){Tt();Rg=y(_("react"));SE();DE();Dg();Wu();$v();EZ={};});function Xv(i,t){if(an()){return i;}var e=_Kv({forwardRef:false},t);var r=i.displayName||i.name;var o=function o(s,a){return Gu(function(){return i(s,a);},r);};o.displayName=r;var n;if(e.forwardRef){n=(0,Qm.memo)((0,Qm.forwardRef)(o));}else{n=(0,Qm.memo)(o);}RZ(i,n);n.displayName=r;return n;}function RZ(i,t){Object.keys(i).forEach(function(e){if(!FZ[e]){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e));}});}var Qm,_Kv,FZ;var RE=d(function(){Qm=_("react");Dg();Og();_Kv=function Kv(){_Kv=Object.assign||function(i){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t){if(Object.prototype.hasOwnProperty.call(t,o))i[o]=t[o];}}return i;};return _Kv.apply(this,arguments);};FZ={$$typeof:true,render:true,compare:true,type:true};});function Vu(i){var t=i.children,e=i.render;var r=t||e;if(typeof r!=="function"){return null;}return Gu(r);}function OE(i,t,e,r,o){var n=t==="children"?"render":"children";var s=typeof i[t]==="function";var a=typeof i[n]==="function";if(s&&a){return new Error("MobX Observer: Do not use children and render in the same time in`"+e);}if(s||a){return null;}return new Error("Invalid prop `"+o+"` of type `"+_typeof(i[t])+"` supplied to `"+e+"`, expected `function`.");}var AE=d(function(){Og();Vu.propTypes={children:OE,render:OE};Vu.displayName="Observer";});var AZ;var qv=d(function(){Tt();AZ=y(_("react"));Wu();});var BZ;var BE=d(function(){Tt();BZ=y(_("react"));qv();Wu();});var Yv=d(function(){yE();_E();Wv();Dg();RE();Og();AE();Wu();qv();BE();$v();Wv();Ig(Nv.unstable_batchedUpdates);});function zZ(i){if(typeof Symbol==="function"){return Symbol(i);}var t="__$mobx-react "+i+" ("+PE+")";PE++;return t;}function xa(i){if(!Jv[i]){Jv[i]=zZ(i);}return Jv[i];}function $E(i,t){if(ME(i,t))return true;if(_typeof(i)!=="object"||i===null||_typeof(t)!=="object"||t===null){return false;}var e=Object.keys(i);var r=Object.keys(t);if(e.length!==r.length)return false;for(var o=0;o<e.length;o++){if(!Object.hasOwnProperty.call(t,e[o])||!ME(i[e[o]],t[e[o]])){return false;}}return true;}function ME(i,t){if(i===t){return i!==0||1/i===1/t;}else{return i!==i&&t!==t;}}function NZ(i,t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(i));Object.getOwnPropertyNames(i).forEach(function(r){if(!UZ[r]&&e.indexOf(r)===-1){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r));}});}function ls(i,t,e){if(!Object.hasOwnProperty.call(i,t)){Object.defineProperty(i,t,{enumerable:false,configurable:true,writable:true,value:e});}else{i[t]=e;}}function HZ(i,t){var e=i[LE]=i[LE]||{};var r=e[t]=e[t]||{};r.locks=r.locks||0;r.methods=r.methods||[];return r;}function zE(i,t){var e=this;for(var r=arguments.length,o=new Array(r>2?r-2:0),n=2;n<r;n++){o[n-2]=arguments[n];}t.locks++;try{var s;if(i!==void 0&&i!==null){s=i.apply(this,o);}return s;}finally{t.locks--;if(t.locks===0){t.methods.forEach(function(a){a.apply(e,o);});}}}function UE(i,t){var e=function r(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++){n[s]=arguments[s];}zE.call.apply(zE,[this,i,t].concat(n));};return e;}function WZ(i,t,e){var r=HZ(i,t);if(r.methods.indexOf(e)<0){r.methods.push(e);}var o=Object.getOwnPropertyDescriptor(i,t);if(o&&o[KE]){return;}var n=i[t];var s=XE(i,t,o?o.enumerable:void 0,r,n);Object.defineProperty(i,t,s);}function XE(i,t,e,r,o){var n;var s=UE(o,r);return n={},n[KE]=true,n.get=function a(){return s;},n.set=function a(l){if(this===i){s=UE(l,r);}else{var c=XE(this,t,e,r,l);Object.defineProperty(this,t,c);}},n.configurable=true,n.enumerable=e,n;}function GZ(i){var t=i.prototype;if(i[NE]){var e=Qv(t);console.warn("The provided component class ("+e+") \n                has already been declared as an observer component.");}else{i[NE]=true;}if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(i["__proto__"]!==Me.PureComponent){if(!t.shouldComponentUpdate)t.shouldComponentUpdate=HE;else if(t.shouldComponentUpdate!==HE)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.");}WE(t,"props");WE(t,"state");var r=t.render;t.render=function(){return VZ.call(this,r);};WZ(t,"componentWillUnmount",function(){var o;if(an()===true)return;(o=this.render[Zv])===null||o===void 0?void 0:o.dispose();this[qE]=true;if(!this.render[Zv]){var n=Qv(this);console.warn("The reactive render of an observer class component ("+n+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.");}});return i;}function Qv(i){return i.displayName||i.name||i.constructor&&(i.constructor.displayName||i.constructor.name)||"<component>";}function VZ(i){var t=this;if(an()===true)return i.call(this);ls(this,Bg,false);ls(this,Ag,false);var e=Qv(this);var r=i.bind(this);var o=false;var n=new ga(e+".render()",function(){if(!o){o=true;if(t[qE]!==true){var a=true;try{ls(t,Ag,true);if(!t[Bg])Me.Component.prototype.forceUpdate.call(t);a=false;}finally{ls(t,Ag,false);if(a)n.dispose();}}}});n["reactComponent"]=this;s[Zv]=n;this.render=s;function s(){o=false;var a=void 0;var l=void 0;n.track(function(){try{l=iE(false,r);}catch(c){a=c;}});if(a){throw a;}return l;}return s.call(this);}function HE(i,t){if(an()){console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.");}if(this.state!==t){return true;}return!$E(this.props,i);}function WE(i,t){var e=xa("reactProp_"+t+"_valueHolder");var r=xa("reactProp_"+t+"_atomHolder");function o(){if(!this[r]){ls(this,r,xg("reactive "+t));}return this[r];}Object.defineProperty(i,t,{configurable:true,enumerable:true,get:function n(){var s=false;if(Ml&&os){s=Ml(true);}o.call(this).reportObserved();if(Ml&&os){os(s);}return this[e];},set:function n(s){if(!this[Ag]&&!$E(this[e],s)){ls(this,e,s);ls(this,Bg,true);o.call(this).reportChanged();ls(this,Bg,false);}else{ls(this,e,s);}}});}function w(i){if(i["isMobxInjector"]===true){console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'");}if(VE&&i["$$typeof"]===VE){throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");}if(GE&&i["$$typeof"]===GE){var t=i["render"];if(typeof t!=="function")throw new Error("render property of ForwardRef was not a function");return(0,Me.forwardRef)(function e(){var r=arguments;return(0,Me.createElement)(Vu,null,function(){return t.apply(void 0,r);});});}if(typeof i==="function"&&(!i.prototype||!i.prototype.render)&&!i["isReactClass"]&&!Object.prototype.isPrototypeOf.call(Me.Component,i)){return Xv(i);}return GZ(i);}function Pg(){Pg=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){i[r]=e[r];}}}return i;};return Pg.apply(this,arguments);}function jZ(i,t){if(i==null)return{};var e={};var r=Object.keys(i);var o,n;for(n=0;n<r.length;n++){o=r[n];if(t.indexOf(o)>=0)continue;e[o]=i[o];}return e;}function ep(i){var t=i.children,e=jZ(i,["children"]);var r=Me["default"].useContext(tp);var o=Me["default"].useRef(Pg({},r,e));var n=o.current;if(false){var s=Pg({},n,e);if(!$E(n,s)){throw new Error("MobX Provider: The set of provided stores has changed. See: https://github.com/mobxjs/mobx-react#the-set-of-provided-stores-has-changed-error.");}}return Me["default"].createElement(tp.Provider,{value:n},t);}function jE(i,t,e,r){var o=Me["default"].forwardRef(function(n,s){var a=Pg({},n);var l=Me["default"].useContext(tp);Object.assign(a,i(l||{},a)||{});if(s){a.ref=s;}return Me["default"].createElement(t,a);});if(r)o=w(o);o["isMobxInjector"]=true;NZ(t,o);o["wrappedComponent"]=t;o.displayName=$Z(t,e);return o;}function $Z(i,t){var e;var r=i.displayName||i.name||i.constructor&&i.constructor.name||"Component";if(t)e="inject-with-"+t+"("+r+")";else e="inject("+r+")";return e;}function KZ(i){return function(t,e){i.forEach(function(r){if(r in e)return;if(!(r in t))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");e[r]=t[r];});return e;};}function rt(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++){t[e]=arguments[e];}if(typeof arguments[0]==="function"){var r=arguments[0];return function(o){return jE(r,o,r.name,true);};}else{return function(o){return jE(KZ(t),o,t.join("-"),false);};}}var Me,PE,Jv,UZ,LE,KE,Zv,NE,qE,Bg,Ag,YE,GE,VE,tp;var B=d(function(){Tt();Me=y(_("react"));Yv();Yv();PE=0;Jv={};UZ={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};LE=xa("patchMixins");KE=xa("patchedDefinition");Zv=Uv||"$mobx";NE=xa("isMobXReactObserver");qE=xa("isUnmounted");Bg=xa("skipRender");Ag=xa("isForcingUpdate");YE=typeof Symbol==="function"&&Symbol["for"];GE=YE?Symbol["for"]("react.forward_ref"):typeof Me.forwardRef==="function"&&(0,Me.forwardRef)(function(i){return null;})["$$typeof"];VE=YE?Symbol["for"]("react.memo"):typeof Me.memo==="function"&&(0,Me.memo)(function(i){return null;})["$$typeof"];tp=Me["default"].createContext({});ep.displayName="MobXProvider";if(!Me.Component)throw new Error("mobx-react requires React to be available");if(!Q)throw new Error("mobx-react requires mobx to be available");});var JE,Mg;var tC=d(function(){JE=_("styled-components");Mg=JE.keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"])));});var ZE,QE;var tF=d(function(){ZE=_("styled-components");QE=ZE.keyframes(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"])));});var eF,Lg;var iF=d(function(){eF=_("styled-components");Lg=eF.keyframes(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"])));});var eC=d(function(){tC();tF();iF();});var qr;var ju=d(function(){qr=[];});var rF;var oF=d(function(){ju();rF=function rF(){return qr.some(function(i){return i.activeTargets.length>0;});};});var nF;var sF=d(function(){ju();nF=function nF(){return qr.some(function(i){return i.skippedTargets.length>0;});};});var aF,lF;var cF=d(function(){aF="ResizeObserver loop completed with undelivered notifications.";lF=function lF(){var i;if(typeof ErrorEvent==="function"){i=new ErrorEvent("error",{message:aF});}else{i=document.createEvent("Event");i.initEvent("error",false,false);i.message=aF;}window.dispatchEvent(i);};});var zl;var iC=d(function(){(function(i){i["BORDER_BOX"]="border-box";i["CONTENT_BOX"]="content-box";i["DEVICE_PIXEL_CONTENT_BOX"]="device-pixel-content-box";})(zl||(zl={}));});var rC;var uF=d(function(){rC=function(){function i(t,e,r,o){this.x=t;this.y=e;this.width=r;this.height=o;this.top=this.y;this.left=this.x;this.bottom=this.top+this.height;this.right=this.left+this.width;return Object.freeze(this);}i.prototype.toJSON=function(){var t=this,e=t.x,r=t.y,o=t.top,n=t.right,s=t.bottom,a=t.left,l=t.width,c=t.height;return{x:e,y:r,top:o,right:n,bottom:s,left:a,width:l,height:c};};i.fromRect=function(t){return new i(t.x,t.y,t.width,t.height);};return i;}();});var ip,zg,oC,dF;var rp=d(function(){ip=function ip(i){return i instanceof SVGElement&&"getBBox"in i;};zg=function zg(i){if(ip(i)){var t=i.getBBox(),e=t.width,r=t.height;return!e&&!r;}var o=i,n=o.offsetWidth,s=o.offsetHeight;return!(n||s||i.getClientRects().length);};oC=function oC(i){var t,e;var r=(e=(t=i)===null||t===void 0?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&i instanceof r.Element);};dF=function dF(i){switch(i.tagName){case"INPUT":if(i.type!=="image"){break;}case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return true;}return false;};});var Ul;var nC=d(function(){Ul=typeof window!=="undefined"?window:{};});var Ug,mF,XZ,qZ,ln,$u,pF,sC,Ng;var Hg=d(function(){iC();uF();rp();nC();Ug=new WeakMap();mF=/auto|scroll/;XZ=/^tb|vertical/;qZ=/msie|trident/i.test(Ul.navigator&&Ul.navigator.userAgent);ln=function ln(i){return parseFloat(i||"0");};$u=function $u(i,t,e){if(i===void 0){i=0;}if(t===void 0){t=0;}if(e===void 0){e=false;}return Object.freeze({inlineSize:(e?t:i)||0,blockSize:(e?i:t)||0});};pF=Object.freeze({devicePixelContentBoxSize:$u(),borderBoxSize:$u(),contentBoxSize:$u(),contentRect:new rC(0,0,0,0)});sC=function sC(i,t){if(t===void 0){t=false;}if(Ug.has(i)&&!t){return Ug.get(i);}if(zg(i)){Ug.set(i,pF);return pF;}var e=getComputedStyle(i);var r=ip(i)&&i.ownerSVGElement&&i.getBBox();var o=!qZ&&e.boxSizing==="border-box";var n=XZ.test(e.writingMode||"");var s=!r&&mF.test(e.overflowY||"");var a=!r&&mF.test(e.overflowX||"");var l=r?0:ln(e.paddingTop);var c=r?0:ln(e.paddingRight);var u=r?0:ln(e.paddingBottom);var m=r?0:ln(e.paddingLeft);var p=r?0:ln(e.borderTopWidth);var h=r?0:ln(e.borderRightWidth);var g=r?0:ln(e.borderBottomWidth);var x=r?0:ln(e.borderLeftWidth);var v=m+c;var b=l+u;var T=x+h;var k=p+g;var E=!a?0:i.offsetHeight-k-i.clientHeight;var A=!s?0:i.offsetWidth-T-i.clientWidth;var I=o?v+T:0;var F=o?b+k:0;var Z=r?r.width:ln(e.width)-I-A;var et=r?r.height:ln(e.height)-F-E;var pt=Z+v+A+T;var yt=et+b+E+k;var bt=Object.freeze({devicePixelContentBoxSize:$u(Math.round(Z*devicePixelRatio),Math.round(et*devicePixelRatio),n),borderBoxSize:$u(pt,yt,n),contentBoxSize:$u(Z,et,n),contentRect:new rC(m,l,Z,et)});Ug.set(i,bt);return bt;};Ng=function Ng(i,t,e){var r=sC(i,e),o=r.borderBoxSize,n=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case zl.DEVICE_PIXEL_CONTENT_BOX:return s;case zl.BORDER_BOX:return o;default:return n;}};});var aC;var lC=d(function(){Hg();aC=function(){function i(t){var e=sC(t);this.target=t;this.contentRect=e.contentRect;this.borderBoxSize=[e.borderBoxSize];this.contentBoxSize=[e.contentBoxSize];this.devicePixelContentBoxSize=[e.devicePixelContentBoxSize];}return i;}();});var Wg;var cC=d(function(){rp();Wg=function Wg(i){if(zg(i)){return Infinity;}var t=0;var e=i.parentNode;while(e){t+=1;e=e.parentNode;}return t;};});var hF;var fF=d(function(){ju();lC();cC();Hg();hF=function hF(){var i=Infinity;var t=[];qr.forEach(function n(s){if(s.activeTargets.length===0){return;}var a=[];s.activeTargets.forEach(function l(c){var u=new aC(c.target);var m=Wg(c.target);a.push(u);c.lastReportedSize=Ng(c.target,c.observedBox);if(m<i){i=m;}});t.push(function l(){s.callback.call(s.observer,a,s.observer);});s.activeTargets.splice(0,s.activeTargets.length);});for(var e=0,r=t;e<r.length;e++){var o=r[e];o();}return i;};});var uC;var gF=d(function(){ju();cC();uC=function uC(i){qr.forEach(function t(e){e.activeTargets.splice(0,e.activeTargets.length);e.skippedTargets.splice(0,e.skippedTargets.length);e.observationTargets.forEach(function r(o){if(o.isActive()){if(Wg(o.target)>i){e.activeTargets.push(o);}else{e.skippedTargets.push(o);}}});});};});var bF;var yF=d(function(){oF();sF();cF();fF();gF();bF=function bF(){var i=0;uC(i);while(rF()){i=hF();uC(i);}if(nF()){lF();}return i>0;};});var dC,_F,YZ,xF;var vF=d(function(){_F=[];YZ=function YZ(){return _F.splice(0).forEach(function(i){return i();});};xF=function xF(i){if(!dC){var t=0;var e=document.createTextNode("");var r={characterData:true};new MutationObserver(function(){return YZ();}).observe(e,r);dC=function dC(){e.textContent=""+(t?t--:t++);};}_F.push(i);dC();};});var CF;var SF=d(function(){vF();CF=function CF(i){xF(function t(){requestAnimationFrame(i);});};});var Gg,JZ,ZZ,QZ,wF,TF,mC,tQ,Vg,pC;var kF=d(function(){yF();nC();SF();Gg=0;JZ=function JZ(){return!!Gg;};ZZ=250;QZ={attributes:true,characterData:true,childList:true,subtree:true};wF=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"];TF=function TF(i){if(i===void 0){i=0;}return Date.now()+i;};mC=false;tQ=function(){function i(){var t=this;this.stopped=true;this.listener=function(){return t.schedule();};}i.prototype.run=function(t){var e=this;if(t===void 0){t=ZZ;}if(mC){return;}mC=true;var r=TF(t);CF(function(){var o=false;try{o=bF();}finally{mC=false;t=r-TF();if(!JZ()){return;}if(o){e.run(1e3);}else if(t>0){e.run(t);}else{e.start();}}});};i.prototype.schedule=function(){this.stop();this.run();};i.prototype.observe=function(){var t=this;var e=function e(){return t.observer&&t.observer.observe(document.body,QZ);};document.body?e():Ul.addEventListener("DOMContentLoaded",e);};i.prototype.start=function(){var t=this;if(this.stopped){this.stopped=false;this.observer=new MutationObserver(this.listener);this.observe();wF.forEach(function(e){return Ul.addEventListener(e,t.listener,true);});}};i.prototype.stop=function(){var t=this;if(!this.stopped){this.observer&&this.observer.disconnect();wF.forEach(function(e){return Ul.removeEventListener(e,t.listener,true);});this.stopped=true;}};return i;}();Vg=new tQ();pC=function pC(i){!Gg&&i>0&&Vg.start();Gg+=i;!Gg&&Vg.stop();};});var eQ,IF;var DF=d(function(){iC();Hg();rp();eQ=function eQ(i){return!ip(i)&&!dF(i)&&getComputedStyle(i).display==="inline";};IF=function(){function i(t,e){this.target=t;this.observedBox=e||zl.CONTENT_BOX;this.lastReportedSize={inlineSize:0,blockSize:0};}i.prototype.isActive=function(){var t=Ng(this.target,this.observedBox,true);if(eQ(this.target)){this.lastReportedSize=t;}if(this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize){return true;}return false;};return i;}();});var EF;var FF=d(function(){EF=function(){function i(t,e){this.activeTargets=[];this.skippedTargets=[];this.observationTargets=[];this.observer=t;this.callback=e;}return i;}();});var jg,RF,op;var OF=d(function(){kF();DF();FF();ju();jg=new WeakMap();RF=function RF(i,t){for(var e=0;e<i.length;e+=1){if(i[e].target===t){return e;}}return-1;};op=function(){function i(){}i.connect=function(t,e){var r=new EF(t,e);jg.set(t,r);};i.observe=function(t,e,r){var o=jg.get(t);var n=o.observationTargets.length===0;if(RF(o.observationTargets,e)<0){n&&qr.push(o);o.observationTargets.push(new IF(e,r&&r.box));pC(1);Vg.schedule();}};i.unobserve=function(t,e){var r=jg.get(t);var o=RF(r.observationTargets,e);var n=r.observationTargets.length===1;if(o>=0){n&&qr.splice(qr.indexOf(r),1);r.observationTargets.splice(o,1);pC(-1);}};i.disconnect=function(t){var e=this;var r=jg.get(t);r.observationTargets.slice().forEach(function(o){return e.unobserve(t,o.target);});r.activeTargets.splice(0,r.activeTargets.length);};return i;}();});var Nl;var AF=d(function(){OF();rp();Nl=function(){function i(t){if(arguments.length===0){throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");}if(typeof t!=="function"){throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");}op.connect(this,t);}i.prototype.observe=function(t,e){if(arguments.length===0){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");}if(!oC(t)){throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");}op.observe(this,t,e);};i.prototype.unobserve=function(t){if(arguments.length===0){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");}if(!oC(t)){throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");}op.unobserve(this,t);};i.prototype.disconnect=function(){op.disconnect(this);};i.toString=function(){return"function ResizeObserver () { [polyfill code] }";};return i;}();});var $g=d(function(){AF();lC();});var Ku=Gt(function(Ift,MF){var iQ="Expected a function";var BF=0/0;var rQ="[object Symbol]";var oQ=/^\s+|\s+$/g;var nQ=/^[-+]0x[0-9a-f]+$/i;var sQ=/^0b[01]+$/i;var aQ=/^0o[0-7]+$/i;var lQ=parseInt;var cQ=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global;var uQ=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self;var dQ=cQ||uQ||Function("return this")();var mQ=Object.prototype;var pQ=mQ.toString;var hQ=Math.max;var fQ=Math.min;var hC=function hC(){return dQ.Date.now();};function gQ(i,t,e){var r,o,n,s,a,l,c=0,u=false,m=false,p=true;if(typeof i!="function"){throw new TypeError(iQ);}t=PF(t)||0;if(fC(e)){u=!!e.leading;m="maxWait"in e;n=m?hQ(PF(e.maxWait)||0,t):n;p="trailing"in e?!!e.trailing:p;}function h(I){var F=r,Z=o;r=o=void 0;c=I;s=i.apply(Z,F);return s;}function g(I){c=I;a=setTimeout(b,t);return u?h(I):s;}function x(I){var F=I-l,Z=I-c,et=t-F;return m?fQ(et,n-Z):et;}function v(I){var F=I-l,Z=I-c;return l===void 0||F>=t||F<0||m&&Z>=n;}function b(){var I=hC();if(v(I)){return T(I);}a=setTimeout(b,x(I));}function T(I){a=void 0;if(p&&r){return h(I);}r=o=void 0;return s;}function k(){if(a!==void 0){clearTimeout(a);}c=0;r=l=o=a=void 0;}function E(){return a===void 0?s:T(hC());}function A(){var I=hC(),F=v(I);r=arguments;o=this;l=I;if(F){if(a===void 0){return g(l);}if(m){a=setTimeout(b,t);return h(l);}}if(a===void 0){a=setTimeout(b,t);}return s;}A.cancel=k;A.flush=E;return A;}function fC(i){var t=_typeof(i);return!!i&&(t=="object"||t=="function");}function bQ(i){return!!i&&_typeof(i)=="object";}function yQ(i){return _typeof(i)=="symbol"||bQ(i)&&pQ.call(i)==rQ;}function PF(i){if(typeof i=="number"){return i;}if(yQ(i)){return BF;}if(fC(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=fC(t)?t+"":t;}if(typeof i!="string"){return i===0?i:+i;}i=i.replace(oQ,"");var e=sQ.test(i);return e||aQ.test(i)?lQ(i.slice(2),e?2:8):nQ.test(i)?BF:+i;}MF.exports=gQ;});var LF,Re;var Sr=d(function(){LF=y(_("react"));Re=LF["default"].createContext({});});var zF=d(function(){});var $t;var To=d(function(){$t=function $t(i){if(i){i.width=1;i.height=1;var t=i.getContext("2d");if(t){t.clearRect(0,0,1,1);}}};});var np,wr,ve,UF,NF,HF,WF;var gC=d(function(){To();np=function np(){return typeof window!=="undefined"&&window.navigator&&window.navigator.userAgent||"";};wr=function wr(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:np();return i.indexOf("Edge")!==-1;};ve=function ve(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:np();return!!i.match(/msie|trident/i);};UF=function UF(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:np();return!!i.match(/windows/i);};NF=function NF(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:np();return i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1;};HF=function HF(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:np();return!!i.match(/iP(hone|od|ad)|AppleWebKit/);};WF=function WF(){if(typeof document==="undefined"){return false;}var i=document.createElement("canvas");var t=i.getContext("webgl")||i.getContext("experimental-webgl");var e=t&&t instanceof WebGLRenderingContext;$t(i);return e;};});var _Q,GF;var VF=d(function(){_Q=new RegExp(/\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC68\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC68\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC68\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC68\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69(?:\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68\u200D(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC68(?:\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D[\uDC67-\uDC69])\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F)|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83C\uDFF3\uFE0F\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF]))\u200D[\u2695\u2696\u2708]\uFE0F|\uD83D\uDC69\u200D(?:\uD83D[\uDC67\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83E\uDDD1\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83D[\uDC68\uDC69])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDC66\uDC67\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC3\uDFC7]|\uD83D[\uDC43\uDC4A-\uDC4C\uDC4F\uDC50\uDC66-\uDC69\uDC6B-\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270C\u270D]|\uD83C[\uDFC2\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC46-\uDC49\uDC4D\uDC4E\uDD74\uDD75\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9\u23EA\u23ED-\u23EF\u23F1-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7\u26F8\u26FA\u26FD\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2753\u2757\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF0D-\uDF0F\uDF15\uDF1C\uDF21\uDF24-\uDF2C\uDF36\uDF78\uDF7D\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFA7\uDFAC-\uDFAE\uDFC6\uDFCD\uDFCE\uDFD4-\uDFE0\uDFED\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC08\uDC15\uDC1F\uDC26\uDC3F\uDC41\uDC53\uDC6A\uDC7D\uDCA3\uDCB0\uDCB3\uDCBB\uDCBF\uDCCB\uDCDA\uDCDF\uDCE4-\uDCE6\uDCEA-\uDCED\uDCF7\uDCF9-\uDCFB\uDCFD\uDD08\uDD0D\uDD12\uDD13\uDD49\uDD4A\uDD50-\uDD67\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDE10\uDE87\uDE8D\uDE91\uDE94\uDE98\uDEAD\uDEB2\uDEB9\uDEBA\uDEBC\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|[\u23E9-\u23F3\u23F8-\u23FA\u25FB-\u25FE\u2614\u2615\u267F\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g);GF=function GF(i){return i.replace(_Q,"");};});var cn;var bC=d(function(){cn=function cn(i){try{new URL(i);return true;}catch(t){return false;}};});var jF;var yC=d(function(){jF=function jF(i){return i instanceof HTMLImageElement;};});function xQ(i){return!Object.prototype.hasOwnProperty.call(i,"name");}function vQ(i){return!Object.prototype.hasOwnProperty.call(i,"name");}var $F=d(function(){});var ko;var sp=d(function(){ko=function(m){m["UNDO"]="undo";m["REDO"]="redo";m["DELETE"]="delete";m["BRING_TO_FRONT"]="bringtofront";m["EDIT"]="edit";m["DUPLICATE"]="duplicate";m["ADD"]="add";m["FLIP"]="flip";m["INVERT"]="invert";m["CLOSE"]="close";m["EXPORT"]="export";return m;}(ko||{});});var H;var _C=d(function(){H=function(p){p["LIBRARY"]="library";p["TRANSFORM"]="transform";p["FILTER"]="filter";p["ADJUSTMENT"]="adjustment";p["FOCUS"]="focus";p["STICKER"]="sticker";p["TEXT"]="text";p["TEXT_DESIGN"]="textdesign";p["OVERLAY"]="overlay";p["FRAME"]="frame";p["BRUSH"]="brush";p["CUSTOM"]="customTool";return p;}(H||{});});var KF=d(function(){});var XF=d(function(){});var qF=d(function(){});var YF=d(function(){});var un;var Xu=d(function(){un=function(e){e["TEXT"]="text";e["CARD"]="card";return e;}(un||{});});var JF=d(function(){});var ZF=d(function(){});var Ue;var QF=d(function(){Ue=function(r){r["LARGE"]="large";r["MEDIUM"]="medium";r["SMALL"]="small";return r;}(Ue||{});});var tR=d(function(){});var eR=d(function(){});var iR=d(function(){});var rR=d(function(){});var oR=d(function(){});var nR=d(function(){});var sR=d(function(){});var aR=d(function(){});var lR=d(function(){});var cR=d(function(){});var uR=d(function(){});var dR=d(function(){});var mR=d(function(){});var pR=d(function(){});var dn;var hR=d(function(){dn=function(o){o["ERROR"]="error";o["WARNING"]="warning";o["INFO"]="info";o["TEXT_EDIT"]="textEdit";return o;}(dn||{});});var fR=d(function(){});var gR=d(function(){});var bR=d(function(){});var yR=d(function(){});var _R=d(function(){});var qe;var xR=d(function(){qe=function(c){c["BrushSize"]="brush-size";c["BrushHardness"]="brush-hardness";c["FilterIntensity"]="filter-intensity";c["TextLineSpacing"]="text-line-spacing";c["StickerOpacity"]="sticker-opacity";c["OverlayOpacity"]="overlay-opacity";c["FrameSize"]="frame-size";c["FrameOpacity"]="frame-opacity";c["FocusIntensity"]="focus-intensity";return c;}(qe||{});});var vR=d(function(){});var CR=d(function(){});var SR=d(function(){});var wR=d(function(){});var TR=d(function(){});var kR=d(function(){});var IR=d(function(){});var DR,ER,Kg;var FR=d(function(){DR=function DR(){_classCallCheck(this,DR);this.enabled=true;this.threshold=20;this.snapToHorizontalCenter=true;this.snapToVerticalCenter=true;this.snapToLeft=.1;this.snapToRight=.1;this.snapToTop=.1;this.snapToBottom=.1;};ER=function ER(){_classCallCheck(this,ER);this.enabled=true;this.threshold=20;this.angles=[0,45,90,135,180,225,270,315];};Kg=function Kg(){_classCallCheck(this,Kg);this.position=new DR();this.rotation=new ER();};});var RR,Xg;var OR=d(function(){RR=function(n){n["CENTER"]="center";n["TOP_LEFT"]="top-left";n["TOP_RIGHT"]="top-right";n["BOTTOM_LEFT"]="bottom-left";n["BOTTOM_RIGHT"]="bottom-right";return n;}(RR||{});Xg=function Xg(){_classCallCheck(this,Xg);this.watermarkURI="";this.alignment="top-right";this.inset=.05;this.size=.2;};});var AR,BR;var PR=d(function(){AR=function(t){t["OBJECT"]="object";return t;}(AR||{});BR=function BR(){_classCallCheck(this,BR);};});var Hl;var MR=d(function(){Hl=function(o){o["IMAGE"]="image";o["DATA_URL"]="data-url";o["BLOB"]="blob";o["MSBLOB"]="ms-blob";return o;}(Hl||{});});var mn;var LR=d(function(){mn=function(e){e["PNG"]="image/png";e["JPEG"]="image/jpeg";return e;}(mn||{});});var ap;var zR=d(function(){ap=function(l){l["BMP"]="image/bmp";l["GIF"]="image/gif";l["ICO"]="image/x-icon";l["JPEG"]="image/jpeg";l["PNG"]="image/png";l["SVG"]="image/svg+xml";l["TIFF"]="image/tiff";l["WEBP"]="image/webp";return l;}(ap||{});});var UR=d(function(){});var NR=d(function(){});var HR=d(function(){});var WR=d(function(){});var GR;var VR=d(function(){_C();GR=function GR(){_classCallCheck(this,GR);this.order="default";this.language="en";this.theme="dark";this.assetBaseUrl="assets/";this.assetResolver={};this.displayResizeWarning=false;this.displayCloseWarning=true;this.displayDiscardChangesWarning=true;this.displayCanvasRendererWarning=true;this.displayToolControlBarTitle=true;this.displaySerializationModal=true;this.forceCrop=false;this.enableZoom=true;this.scaleImageToFit=true;this.restrictZoomOutToDefault=true;this.defaultTool="filter";};"filter","focus","adjustment","library","overlay","sticker","text","textdesign","frame","brush","transform","customTool";});var jR=d(function(){});var qu,xC;var $R=d(function(){qu=function(p){p["BRIGHTNESS"]="brightness";p["CONTRAST"]="contrast";p["SATURATION"]="saturation";p["CLARITY"]="clarity";p["SHADOWS"]="shadows";p["HIGHLIGHTS"]="highlights";p["EXPOSURE"]="exposure";p["GAMMA"]="gamma";p["BLACKS"]="blacks";p["WHITES"]="whites";p["TEMPERATURE"]="temperature";p["SHARPNESS"]="sharpness";return p;}(qu||{});xC=Object.values(qu).reduce(function(i,t){i[t]=true;return i;},{});});var vC,qg;var KR=d(function(){vC=function(o){o["RemoveAdjustmentButton"]="removeAdjustmentButton";o["Expandable"]="expandable";o["Separator"]="separator";o["Items"]="items";return o;}(vC||{});qg=function qg(){_classCallCheck(this,qg);this.categories=[];this.flattenCategories=false;this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeAdjustmentButton","separator"]},"items"];};});var XR=d(function(){});var qR=d(function(){$R();KR();XR();});var YR;var JR=d(function(){YR=function YR(){_classCallCheck(this,YR);};});var CC,SC,Yg;var ZR=d(function(){Xu();CC=function(n){n["RemoveFilterButton"]="removeFilterButton";n["FilterIntensitySlider"]="filterIntensitySlider";n["Expandable"]="expandable";n["Separator"]="separator";n["Items"]="items";return n;}(CC||{});SC=function(t){t["FilterIntensity"]="filterIntensity";return t;}(SC||{});Yg=function Yg(){_classCallCheck(this,Yg);this.categories=[];this.flattenCategories=false;this.categoryHeaderType="card";this.enablePreviewThumbnails=false;this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFilterButton","filterIntensitySlider","separator"]},"items"];this.basicUIToolControlBarTabsOrder=["filterIntensity"];};});function Yu(i){return i.lightColor!==void 0;}function wC(i){return i.lutURI!==void 0;}var QR=d(function(){});var lp,cp;var tO=d(function(){lp=function(ut){ut["Desert"]="imgly_duotone_desert";ut["Peach"]="imgly_duotone_peach";ut["Clash"]="imgly_duotone_clash";ut["Plum"]="imgly_duotone_plum";ut["Breezy"]="imgly_duotone_breezy";ut["DeepBlue"]="imgly_duotone_deepblue";ut["Frog"]="imgly_duotone_frog";ut["Sunset"]="imgly_duotone_sunset";ut["AD1920"]="imgly_lut_ad1920";ut["Greyed"]="imgly_lut_bw";ut["Dusty"]="imgly_lut_x400";ut["Litho"]="imgly_lut_litho";ut["Sepia"]="imgly_lut_sepiahigh";ut["Weathered"]="imgly_lut_plate";ut["HardStuff"]="imgly_lut_sin";ut["Polaroid"]="imgly_lut_blues";ut["Sunny70s"]="imgly_lut_front";ut["Oldtimer"]="imgly_lut_texas";ut["Inferno"]="imgly_lut_celsius";ut["Snappy"]="imgly_lut_cool";ut["Chestnut"]="imgly_lut_chest";ut["Softy"]="imgly_lut_winter";ut["Pebble"]="imgly_lut_kdynamic";ut["Moss"]="imgly_lut_fall";ut["Lemon"]="imgly_lut_lenin";ut["GreenGap"]="imgly_lut_pola669";ut["Colla"]="imgly_lut_elder";ut["Solanus"]="imgly_lut_orchid";ut["Kalmen"]="imgly_lut_bleached";ut["Joran"]="imgly_lut_bleachedblue";ut["Levante"]="imgly_lut_breeze";ut["Zephyr"]="imgly_lut_blueshadows";ut["Golden"]="imgly_lut_sunset";ut["LowFire"]="imgly_lut_eighties";ut["Sunrise"]="imgly_lut_evening";ut["FlatBlack"]="imgly_lut_k2";ut["Pumpkin"]="imgly_lut_nogreen";ut["Ancient"]="imgly_lut_ancient";ut["Candy"]="imgly_lut_cottoncandy";ut["Classic"]="imgly_lut_classic";ut["Colorful"]="imgly_lut_colorful";ut["Creamy"]="imgly_lut_creamy";ut["Fixie"]="imgly_lut_fixie";ut["Food"]="imgly_lut_food";ut["Fridge"]="imgly_lut_fridge";ut["Glam"]="imgly_lut_glam";ut["Gobblin"]="imgly_lut_gobblin";ut["Hicon"]="imgly_lut_highcontrast";ut["HighCarb"]="imgly_lut_highcarb";ut["K1"]="imgly_lut_k1";ut["K6"]="imgly_lut_k6";ut["Keen"]="imgly_lut_keen";ut["Lomo"]="imgly_lut_lomo";ut["Lomo100"]="imgly_lut_lomo100";ut["Lucid"]="imgly_lut_lucid";ut["Mellow"]="imgly_lut_mellow";ut["Neat"]="imgly_lut_neat";ut["Pale"]="imgly_lut_pale";ut["Pitched"]="imgly_lut_pitched";ut["PolaSX"]="imgly_lut_polasx";ut["Pro400"]="imgly_lut_pro400";ut["Quozi"]="imgly_lut_quozi";ut["Settled"]="imgly_lut_settled";ut["Seventies"]="imgly_lut_seventies";ut["Soft"]="imgly_lut_soft";ut["Steel"]="imgly_lut_steel";ut["Summer"]="imgly_lut_summer";ut["Tender"]="imgly_lut_tender";ut["Twilight"]="imgly_lut_twilight";return ut;}(lp||{});cp=function(a){a["DuoTone"]="imgly_filter_category_duotone";a["BW"]="imgly_filter_category_bw";a["Vintage"]="imgly_filter_category_vintage";a["Smooth"]="imgly_filter_category_smooth";a["Cold"]="imgly_filter_category_cold";a["Warm"]="imgly_filter_category_warm";a["Legacy"]="imgly_filter_category_legacy";return a;}(cp||{});});var eO=d(function(){ZR();QR();tO();});var TC,iO,Jg;var rO=d(function(){TC=function(n){n["RemoveFocusButton"]="removeFocusButton";n["FocusIntensitySlider"]="focusIntensitySlider";n["Expandable"]="expandable";n["Separator"]="separator";n["Items"]="items";return n;}(TC||{});iO=function(t){t["FocusIntensity"]="focusIntensity";return t;}(iO||{});Jg=function Jg(){_classCallCheck(this,Jg);this.items=[];this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFocusButton","focusIntensitySlider","separator"]},"items"];this.basicUIToolControlBarTabsOrder=["focusIntensity"];};});var oO=d(function(){});var cs;var nO=d(function(){cs=function(o){o["RADIAL"]="radial";o["LINEAR"]="linear";o["MIRRORED"]="mirrored";o["GAUSSIAN"]="gaussian";return o;}(cs||{});});var sO=d(function(){rO();oO();nO();});var kC,IC,Zg;var aO=d(function(){kC=function(a){a["RemoveFrameButton"]="removeFrameButton";a["FrameOpacitySlider"]="frameOpacitySlider";a["FrameSizeSlider"]="frameSizeSlider";a["FrameColorList"]="frameColorList";a["Separator"]="separator";a["Items"]="items";a["Expandable"]="expandable";return a;}(kC||{});IC=function(r){r["FrameSize"]="frameSize";r["FrameOpacity"]="frameOpacity";r["FrameColor"]="frameColor";return r;}(IC||{});Zg=function Zg(){_classCallCheck(this,Zg);this.items=[];this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFrameButton","frameOpacitySlider","frameSizeSlider","frameColorList","separator"]},"items"];this.basicUIToolControlBarTabsOrder=["frameOpacity","frameSize","frameColor"];};});var lO=d(function(){});var cO=d(function(){aO();lO();});var Qg;var DC=d(function(){Qg=/*#__PURE__*/function(){function Qg(t){_classCallCheck(this,Qg);this.name=t.name;this.coverImageUrl=t.coverImageUrl;}_createClass(Qg,[{key:"loadCoverImage",value:function loadCoverImage(){var _this=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"anonymous";return new Promise(function(e,r){var o=new Image();o.addEventListener("load",function(){e(o);});o.addEventListener("error",function(){r(new Error("Failed to load image at ".concat(_this.coverImage)));});o.crossOrigin=t;o.src=_this.coverImageUrl;_this.coverImage=o;});}}]);return Qg;}();});var tb;var EC=d(function(){tb=/*#__PURE__*/function(){function tb(t){_classCallCheck(this,tb);this.title=t.title;this.category=t.category||t.title;this.thumbUrl=t.thumbUrl;this.rawUrl=t.rawUrl;this.authorName=t.authorName;this.authorAvatar=t.authorAvatar;}_createClass(tb,[{key:"loadThumbImage",value:function loadThumbImage(){var _this2=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"anonymous";return new Promise(function(e,r){var o=new Image();o.addEventListener("load",function(){e(o);});o.addEventListener("error",function(){r(new Error("Failed to load image at ".concat(_this2.thumbUrl)));});o.crossOrigin=t;o.src=_this2.thumbUrl;_this2.thumbImage=o;});}},{key:"getThumbImage",value:function getThumbImage(){return this.thumbUrl;}}]);return tb;}();});var eb;var uO=d(function(){eb=/*#__PURE__*/function(){function eb(){_classCallCheck(this,eb);}_createClass(eb,[{key:"getData",value:function getData(t){return new Promise(function(e,r){var o=new XMLHttpRequest();o.open("GET",t,true);o.responseType="json";o.onload=function(){var n=o.status;if(n===200){e(o.response);}else{r(new Error("HTTP Status ".concat(n)));}};o.send();});}}]);return eb;}();});var ib;var FC=d(function(){uO();ib=/*#__PURE__*/function(){function ib(){_classCallCheck(this,ib);}_createClass(ib,[{key:"loadJSON",value:function loadJSON(t){var e=new eb();return e.getData(t);}},{key:"getCategories",value:function getCategories(){return Promise.resolve([]);}},{key:"searchImages",value:function searchImages(t){return Promise.resolve([]);}}]);return ib;}();});var RC;var dO=d(function(){DC();EC();FC();RC=/*#__PURE__*/function(_ib){_inherits(RC,_ib);var _super=_createSuper(RC);function RC(){_classCallCheck(this,RC);return _super.apply(this,arguments);}_createClass(RC,[{key:"loadData",value:function loadData(){var _this3=this;if(this.data){return Promise.resolve(this.data);}return this.loadJSON("https://img.ly/static/libraries/unsplash/metadata.json").then(function(t){if(typeof t==="string"){t=JSON.parse(t);}_this3.data=t;return t;});}},{key:"getCategories",value:function getCategories(){return this.loadData().then(function(t){return t.categories.map(function(e){return new Qg({name:e.name,coverImageUrl:e.coverImage});});});}},{key:"searchImages",value:function searchImages(t){return this.loadData().then(function(e){return e.images.filter(function(r){var o=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(/\s+/);for(var n=0;n<o.length;n+=1){var s=o[n];var a=new RegExp(s,"i");if(!a.test(r.title)){return false;}}return true;}).map(function(r){return new tb(r);});});}}]);return RC;}(ib);});var OC,rb;var mO=d(function(){Xu();dO();OC=function(n){n["UploadImageButton"]="uploadImageButton";n["OpenWebcamButton"]="openWebcamButton";n["SearchFieldInput"]="searchFieldInput";n["Separator"]="separator";n["Items"]="items";return n;}(OC||{});rb=function rb(){_classCallCheck(this,rb);this.enableWebcam=false;this.enableUpload=false;this.provider=RC;this.flattenCategories=false;this.categoryHeaderType="card";this.advancedUIToolControlBarOrder=["searchFieldInput","uploadImageButton","openWebcamButton","separator","items"];};});var pO=d(function(){DC();EC();mO();FC();});var AC,BC,ob;var hO=d(function(){AC=function(s){s["RemoveOverlayButton"]="removeOverlayButton";s["OverlayOpacitySlider"]="overlayOpacitySlider";s["OverlayBlendModeCarousel"]="overlayBlendModeCarousel";s["Expandable"]="expandable";s["Separator"]="separator";s["Items"]="items";return s;}(AC||{});BC=function(e){e["OverlayOpacity"]="overlayOpacity";e["OverlayBlendMode"]="overlayBlendMode";return e;}(BC||{});ob=function ob(){_classCallCheck(this,ob);this.items=[];this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeOverlayButton","overlayBlendModeCarousel","overlayOpacitySlider","separator"]},"items"];this.basicUIToolControlBarTabsOrder=["overlayBlendMode","overlayOpacity"];};});var fO=d(function(){});var pn;var gO=d(function(){pn=function(c){c["NORMAL"]="normal";c["OVERLAY"]="overlay";c["SOFT_LIGHT"]="softLight";c["HARD_LIGHT"]="hardLight";c["MULTIPLY"]="multiply";c["DARKEN"]="darken";c["COLOR_BURN"]="colorBurn";c["SCREEN"]="screen";c["LIGHTEN"]="lighten";return c;}(pn||{});});var up;var bO=d(function(){up=function(b){b["Bokeh"]="imgly_overlay_bokeh";b["Chop"]="imgly_overlay_chop";b["Clouds"]="imgly_overlay_clouds";b["Golden"]="imgly_overlay_golden";b["Grain"]="imgly_overlay_grain";b["Hearts"]="imgly_overlay_hearts";b["LightLeak1"]="imgly_overlay_lightleak1";b["LightLeak2"]="imgly_overlay_lightleak2";b["Metal"]="imgly_overlay_metal";b["Mosaic"]="imgly_overlay_mosaic";b["Painting"]="imgly_overlay_painting";b["Paper"]="imgly_overlay_paper";b["Rain"]="imgly_overlay_rain";b["Vintage"]="imgly_overlay_vintage";b["Wall1"]="imgly_overlay_wall1";b["Wall2"]="imgly_overlay_wall2";b["Wood"]="imgly_overlay_wood";return b;}(up||{});});var yO=d(function(){hO();fO();gO();bO();});var PC,MC,nb;var _O=d(function(){sp();Xu();PC=function(n){n["UploadStickerButton"]="uploadStickerButton";n["StickerOpacitySlider"]="stickerOpacitySlider";n["StickerColorList"]="stickerColorList";n["Separator"]="separator";n["Items"]="items";return n;}(PC||{});MC=function(e){e["StickerColor"]="stickerColor";e["StickerOpacity"]="stickerOpacity";return e;}(MC||{});nb=function nb(){_classCallCheck(this,nb);this.categories=[];this.canvasActions=["bringtofront","flip","duplicate","delete"];this.flattenCategories=false;this.categoryHeaderType="card";this.enableCustomUpload=true;this.customStickerResizeMode="keepAspect";this.customStickerTintMode="none";this.advancedUIToolControlBarOrder=["uploadStickerButton","stickerOpacitySlider","stickerColorList","separator","items"];this.basicUIToolControlBarTabsOrder=["stickerColor","stickerOpacity"];};});var xO=d(function(){});var vO=d(function(){_O();xO();});var LC,zC,sb;var CO=d(function(){sp();LC=function(c){c["NewTextButton"]="newTextButton";c["FontFamilyDropdown"]="fontFamilyDropdown";c["FontSizeInput"]="fontSizeInput";c["TextAligmentList"]="textAlignmentList";c["Separator"]="separator";c["Inline"]="inline";c["TextColorList"]="textColorList";c["BackgroundColorList"]="backgroundColorList";c["LineSpacingSlider"]="lineSpacingSlider";return c;}(LC||{});zC=function(n){n["FontSize"]="fontSize";n["TextAligment"]="textAlignment";n["TextColor"]="textColor";n["BackgroundColor"]="backgroundColor";n["LineSpacing"]="lineSpacing";return n;}(zC||{});sb=function sb(){_classCallCheck(this,sb);this.fonts=[];this.canvasActions=["edit","bringtofront","duplicate","delete"];this.allowEmojis=false;this.disableAutoScaling=false;this.addDefaultTextOnEnter=true;this.advancedUIToolControlBarOrder=["newTextButton","fontFamilyDropdown",{type:"inline",children:["fontSizeInput","textAlignmentList"]},"separator","textColorList","backgroundColorList","separator","lineSpacingSlider"];this.basicUIToolControlBarTabsOrder=["fontSize","textAlignment","textColor","backgroundColor","lineSpacing"];};});function UC(i){return i.provider===void 0||i.provider==="file";}function NC(i){return i.provider==="google";}var SO=d(function(){});var wO=d(function(){});var TO=d(function(){CO();SO();wO();});var HC,WC,ab;var kO=d(function(){HC=function(s){s["RemoveBrushButton"]="removeBrushButton";s["BrushColorList"]="brushColorList";s["BrushSizeSlider"]="brushSizeSlider";s["BrushHardnessSlider"]="brushHardnessSlider";s["Expandable"]="expandable";s["Separator"]="separator";return s;}(HC||{});WC=function(r){r["BrushSize"]="brushSize";r["BrushHardness"]="brushHardness";r["BrushColor"]="brushColor";return r;}(WC||{});ab=function ab(){_classCallCheck(this,ab);this.defaultSize=.05;this.defaultHardness=.5;this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeBrushButton","separator"]},"brushHardnessSlider","brushSizeSlider","brushColorList"];this.basicUIToolControlBarTabsOrder=["brushColor","brushSize","brushHardness"];};});var IO=d(function(){kO();});var GC,lb;var DO=d(function(){sp();GC=function(n){n["NewTextDesignButton"]="newTextDesignButton";n["ShuffleLayoutButton"]="shuffleLayoutButton";n["TextDesignColorList"]="textDesignColorList";n["Separator"]="separator";n["Items"]="items";return n;}(GC||{});lb=function lb(){_classCallCheck(this,lb);this.items=[];this.canvasActions=["edit","bringtofront","invert","duplicate","delete"];this.allowEmojis=false;this.addDefaultTextOnEnter=true;this.advancedUIToolControlBarOrder=["newTextDesignButton","shuffleLayoutButton","textDesignColorList","separator","items"];};});var EO=d(function(){});var FO=d(function(){DO();EO();});var VC,jC,cb;var RO=d(function(){Xu();VC=function(n){n["ResetTransformButton"]="resetTransformButton";n["KeepResolutionCheckbox"]="keepResolutionCheckbox";n["CropSizeInput"]="cropSizeInput";n["Separator"]="separator";n["Items"]="items";return n;}(VC||{});jC=function(r){r["CropSize"]="cropSize";r["FlipRotate"]="flipRotate";r["Resolution"]="resolution";return r;}(jC||{});cb=function cb(){_classCallCheck(this,cb);this.categories=[];this.enableRotation=true;this.enableFlip=true;this.flattenCategories=false;this.categoryHeaderType="text";this.advancedUIToolControlBarOrder=["resetTransformButton","keepResolutionCheckbox","cropSizeInput","separator","items"];this.basicUIToolControlBarTabsOrder=["cropSize","flipRotate","resolution"];};});var OO=d(function(){});var $C;var AO=d(function(){$C=function(E){E["CommonCategory"]="imgly_transforms_common";E["FacebookCategory"]="imgly_transforms_facebook";E["TwitterCategory"]="imgly_transforms_twitter";E["InstagramCategory"]="imgly_transforms_instagram";E["Custom"]="imgly_transform_common_custom";E["Square"]="imgly_transform_common_square";E["ThreeByFour"]="imgly_transform_common_3";E["FourByThree"]="imgly_transform_common_4";E["NineBySixteen"]="imgly_transform_common_9";E["SixteenByNine"]="imgly_transform_common_16";E["FacebookPost"]="imgly_transform_facebook_post";E["FacebookProfile"]="imgly_transform_facebook_profile";E["FacebookTitle"]="imgly_transform_facebook_title";E["InstagramLandscape"]="imgly_transform_instagram_landscape";E["InstagramPortrait"]="imgly_transform_instagram_portrait";E["InstagramSquare"]="imgly_transform_instagram_square";E["InstagramStory"]="imgly_transform_instagram_story";E["TwitterPost"]="imgly_transform_twitter_post";E["TwitterProfile"]="imgly_transform_twitter_profile";E["TwitterTitle"]="imgly_transform_twitter_title";return E;}($C||{});});var BO=d(function(){RO();OO();AO();});var dp;var PO=d(function(){dp=function(p){p["EXPORT"]="export";p["CLOSE"]="close";p["HISTORY_UNDO"]="historyUndo";p["HISTORY_REDO"]="historyRedo";p["HISTORY_CHANGE"]="historyChange";p["EDITOR_READY"]="editorReady";p["ERROR_IMAGE_LOADING"]="errorImageLoading";p["IMAGE_LOAD"]="imageLoad";p["TOOL_ENTER"]="toolEnter";p["STICKER_UPLOAD_ADD"]="stickerUploadAdd";p["ERROR_WEBGL_CONTEXT_LOST"]="errorWebGLContextLost";p["CROP_DIMENSIONS_CHANGE"]="cropDimensionsChange";return p;}(dp||{});});var Tr;var MO=d(function(){Tr=/*#__PURE__*/function(){function Tr(){_classCallCheck(this,Tr);this.events={};}_createClass(Tr,[{key:"addListener",value:function addListener(t,e){var r=this.events[t]||(this.events[t]=[]);r.push(e);return this;}},{key:"removeListener",value:function removeListener(t,e){var r=this.events[t];if(!r){return this;}var o=r.lastIndexOf(e);if(o===-1){return this;}r.splice(o,1);return this;}},{key:"removeAllListeners",value:function removeAllListeners(t){this.events[t]=void 0;return this;}},{key:"on",value:function on(t,e){return this.addListener(t,e);}},{key:"off",value:function off(t,e){return this.removeListener(t,e);}},{key:"emit",value:function emit(t){for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}var r=this.events[t];if(!r||!r.length){return false;}r.slice(0).forEach(function(o){return o.apply(null,e);});return true;}}]);return Tr;}();});var LO=d(function(){});var zO=d(function(){});var O=d(function(){$F();sp();_C();KF();XF();qF();YF();Xu();JF();ZF();QF();tR();eR();iR();rR();oR();nR();sR();aR();lR();cR();uR();dR();mR();pR();hR();fR();gR();bR();yR();_R();xR();vR();CR();SR();wR();TR();kR();IR();FR();OR();PR();MR();LR();zR();UR();NR();HR();WR();VR();jR();qR();JR();eO();sO();cO();pO();yO();vO();TO();IO();FO();BO();PO();MO();LO();zO();});var CQ,ub;var UO=d(function(){O();CQ=[{identifier:"basics",name:"Basics",items:[{identifier:"brightness"},{identifier:"contrast"},{identifier:"saturation"},{identifier:"gamma"}]},{identifier:"refinements",name:"Refinements",items:[{identifier:"clarity"},{identifier:"shadows"},{identifier:"highlights"},{identifier:"exposure"},{identifier:"blacks"},{identifier:"whites"},{identifier:"temperature"},{identifier:"sharpness"}]}];ub=CQ;});var SQ,db;var NO=d(function(){O();SQ=[{identifier:"imgly_filter_category_duotone",name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:"imgly_duotone_desert",name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:"imgly_duotone_peach",name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:"imgly_duotone_clash",name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_plum",name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_breezy",name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:"imgly_duotone_deepblue",name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:"imgly_duotone_frog",name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:"imgly_duotone_sunset",name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:"imgly_filter_category_bw",name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:"imgly_lut_ad1920",name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bw",name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_x400",name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_litho",name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sepiahigh",name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_plate",name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sin",name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filter_category_vintage",name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:"imgly_lut_blues",name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_front",name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_smooth",name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:"imgly_lut_chest",name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_kdynamic",name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fall",name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lenin",name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pola669",name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_cold",name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:"imgly_lut_elder",name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_orchid",name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleached",name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleachedblue",name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_breeze",name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_blueshadows",name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_warm",name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:"imgly_lut_sunset",name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_eighties",name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_evening",name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k2",name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_legacy",name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:"imgly_lut_ancient",name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_cottoncandy",name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_classic",name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_colorful",name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_creamy",name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fixie",name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fridge",name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_gobblin",name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcontrast",name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcarb",name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k1",name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k6",name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_keen",name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lomo",name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lucid",name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_mellow",name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pale",name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pitched",name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_polasx",name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pro400",name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_quozi",name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_settled",name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_seventies",name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_soft",name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_steel",name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_summer",name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_tender",name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_twilight",name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}];db=SQ;});var wQ,KC;var HO=d(function(){O();wQ=[{identifier:"radial",thumbnailURI:"./items/radial.png"},{identifier:"mirrored",thumbnailURI:"./items/mirrored.png"},{identifier:"linear",thumbnailURI:"./items/linear.png"},{identifier:"gaussian",thumbnailURI:"./items/gaussian.png"}];KC=wQ;});var TQ,mb;var WO=d(function(){TQ=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}},{identifier:"imgly_font_amaticsc",fontFamily:"Amatic SC",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}},{identifier:"imgly_font_archivo_black",fontFamily:"Archivo",fontWeight:"normal",fontURI:"./fonts/imgly_font_archivo_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_fira_sans_regular",fontFamily:"Fira Sans",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}},{identifier:"imgly_font_carter_one",fontFamily:"Carter One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_carter_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}},{identifier:"imgly_font_codystar",fontFamily:"Codystar",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_codystar.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}},{identifier:"imgly_font_krona_one",fontFamily:"Krona One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_krona_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}},{identifier:"imgly_font_kumar_one_outline",fontFamily:"Kumar One Outline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_kumar_one_outline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_molle",fontFamily:"Molle",fontWeight:"normal",fontStyle:"italic",fontURI:"./fonts/imgly_font_molle.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}},{identifier:"imgly_font_monoton",fontFamily:"Monoton",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_monoton.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}},{identifier:"imgly_font_nixie_one",fontFamily:"Nixie One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_nixie_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}},{identifier:"imgly_font_notable",fontFamily:"Notable",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_notable.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_oswald_semi_bold",fontFamily:"Oswald SemiBold",googleFamily:"Oswald",fontWeight:600,fontStyle:"normal",fontURI:"./fonts/imgly_font_oswald_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}},{identifier:"imgly_font_palanquin_dark_semi_bold",fontFamily:"Palanquin Dark SemiBold",googleFamily:"Palanquin Dark",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_palanquin_dark_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}},{identifier:"imgly_font_poppins",fontFamily:"Poppins",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_poppins.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}},{identifier:"imgly_font_roboto_black_italic",fontFamily:"Roboto Black",fontWeight:"bold",fontStyle:"italic",googleFamily:"Roboto",fontURI:"./fonts/imgly_font_roboto_black_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontFamily:"Roboto Light",googleFamily:"Roboto",fontWeight:300,fontStyle:"italic",fontURI:"./fonts/imgly_font_roboto_light_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sancreek",fontFamily:"Sancreek",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sancreek.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}},{identifier:"imgly_font_stint_ultra_expanded",fontFamily:"Stint Ultra Expanded",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_stint_ultra_expanded.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}},{identifier:"imgly_font_vt323",fontFamily:"VT323",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_vt323.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_yeseva_one",fontFamily:"Yeseva One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_yeseva_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",googleFamily:"Montserrat",fontWeight:300,fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_roboto_black",fontFamily:"Roboto Black",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light",fontFamily:"Roboto Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sue_ellen_francisco",fontFamily:"Sue Ellen Francisco",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sue_ellen_francisco.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_allison_regular",fontFamily:"Allison",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_allison_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}},{identifier:"imgly_font_cookie_regular",fontFamily:"Cookie",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_cookie_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}},{identifier:"imgly_font_lexend_bold",fontFamily:"Lexend",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_lexend_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_outfit_bold",fontFamily:"Outfit",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_outfit_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}];mb=TQ;});var GO,VO;var jO=d(function(){GO=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_archivo_black","imgly_font_bungee_inline","imgly_font_carter_one","imgly_font_codystar","imgly_font_fira_sans_regular","imgly_font_krona_one","imgly_font_kumar_one_outline","imgly_font_lexend_bold","imgly_font_lobster","imgly_font_molle","imgly_font_monoton","imgly_font_nixie_one","imgly_font_notable","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_oswald_semi_bold","imgly_font_outfit_bold","imgly_font_palanquin_dark_semi_bold","imgly_font_poppins","imgly_font_permanent_marker","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sancreek","imgly_font_stint_ultra_expanded","imgly_font_trash_hand","imgly_font_vt323","imgly_font_yeseva_one"];VO=["imgly_font_abril_fatface_regular","imgly_font_allison_regular","imgly_font_bungee_inline","imgly_font_cookie_regular","imgly_font_handycheera_regular","imgly_font_lexend_bold","imgly_font_montserrat_light","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy","imgly_font_outfit_bold","imgly_font_permanent_marker","imgly_font_petit_formal_script","imgly_font_rasa_500","imgly_font_rasa_regular","imgly_font_roboto_black","imgly_font_roboto_light","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sue_ellen_francisco","imgly_font_ultra"];});var kQ,pb;var $O=d(function(){kQ=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:true,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}];pb=kQ;});var IQ,hb;var KO=d(function(){O();IQ=[{identifier:"imgly_overlay_golden",name:"Golden",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:"imgly_overlay_lightleak1",name:"Lightleak",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:"imgly_overlay_rain",name:"Rain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:"imgly_overlay_mosaic",name:"Mosaic",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:"imgly_overlay_vintage",name:"Vintage",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:"imgly_overlay_paper",name:"Paper",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:"imgly_overlay_bokeh",name:"Bokeh",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:"imgly_overlay_hearts",name:"Hearts",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:"imgly_overlay_lightleak2",name:"Lightleak 2",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:"imgly_overlay_wood",name:"Wood",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:"imgly_overlay_chop",name:"Chop",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:"imgly_overlay_metal",name:"Metal",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:"imgly_overlay_painting",name:"Painting",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:"imgly_overlay_grain",name:"Grain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:"imgly_overlay_clouds",name:"Clouds",defaultBlendMode:"softLight",overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:"imgly_overlay_wall1",name:"Wall",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:"imgly_overlay_wall2",name:"Wall 2",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}];hb=IQ;});var DQ,fb;var XO=d(function(){DQ=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}];fb=DQ;});var EQ,qO;var YO=d(function(){EQ=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}];qO=EQ;});var FQ,JO;var ZO=d(function(){FQ=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}];JO=FQ;});var RQ,gb;var QO=d(function(){RQ=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:4/3},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:16/9},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:3/4},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:9/16}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:true,lockDimensions:true}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:true,lockDimensions:true}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:true,lockDimensions:true},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:true,lockDimensions:true}]}];gb=RQ;});var us,hn;var XC=d(function(){us={imgly_font_bernier_regular:"imgly_font_sancreek",imgly_font_cheque_regular:"imgly_font_kumar_one_outline",imgly_font_gagalin_regular:"imgly_font_permanent_marker",imgly_font_hagin_caps_thin:"imgly_font_nixie_one",imgly_font_intro_inline:"imgly_font_bungee_inline",imgly_font_nexa_script:"imgly_font_molle",imgly_font_panton_blackitalic_caps:"imgly_font_roboto_black_italic",imgly_font_panton_lightitalic_caps:"imgly_font_roboto_light_italic",imgly_font_perfograma:"imgly_font_codystar",imgly_font_panton_black_caps:"imgly_font_roboto_black",imgly_font_panton_light_caps:"imgly_font_roboto_light",imgly_font_summer_font_light:"imgly_font_sue_ellen_francisco",imgly_font_wolesbro:"imgly_font_cookie_regular",imgly_font_campton_bold:"imgly_font_outfit_bold",imgly_font_galano_grotesque_bold:"imgly_font_lexend_bold",imgly_font_amberlight:"imgly_font_allison_regular)"};hn=function hn(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(us[i]){if(t){console.warn("Font ".concat(i," was deprecated. Please use ").concat(us[i]," instead."));}return us[i];}return i;};});var mp={};de(mp,{isMobile:function isMobile(){return qC;}});function qC(){if(typeof navigator==="undefined"){return false;}var i=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4));}var YC=d(function(){});function At(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var t=Math.random()*16|0;var e=i==="x"?t:t&3|8;return e.toString(16);});}var tA=d(function(){});var eA,iA;var JC=d(function(){eA=function eA(i){i.preventDefault();i.stopPropagation();};iA=function iA(){};});var ZC=d(function(){});var o_t;var rA=d(function(){JC();ZC();o_t=typeof window!=="undefined"?window.performance.now.bind(window.performance):iA();});var pp;var QC=d(function(){pp=/*#__PURE__*/function(){function pp(t){_classCallCheck(this,pp);this.text=t;this.lastOffsetWidth=-1;var e="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div");this.element.setAttribute("aria-hidden","true");this.element.appendChild(document.createTextNode(t));this.collapsible=document.createElement("span");this.expandable=document.createElement("span");this.collapsibleInner=document.createElement("span");this.expandableInner=document.createElement("span");this.collapsible.style.cssText=e;this.expandable.style.cssText=e;this.expandableInner.style.cssText=e;this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.collapsible.appendChild(this.collapsibleInner);this.expandable.appendChild(this.expandableInner);this.element.appendChild(this.collapsible);this.element.appendChild(this.expandable);}_createClass(pp,[{key:"getElement",value:function getElement(){return this.element;}},{key:"setFont",value:function setFont(t){this.element.style.cssText="max-width:none;\n      min-width:20px;\n      min-height:20px;\n      display:inline-block;\n      overflow:hidden;\n      position:absolute;\n      width:auto;\n      margin:0;\n      padding:0;\n      top:-999px;\n      white-space:nowrap;\n      font-synthesis:none;\n      font:".concat(t,";");}},{key:"getWidth",value:function getWidth(){return this.element.offsetWidth;}},{key:"setWidth",value:function setWidth(t){this.element.style.width="".concat(t,"px");}},{key:"onResize",value:function onResize(t){var _this4=this;var e=function e(){_this4.onScroll(t);};this.collapsible.addEventListener("scroll",e);this.expandable.addEventListener("scroll",e);this.reset();}},{key:"reset",value:function reset(){var t=this.getWidth();var e=t+100;this.expandableInner.style.width="".concat(e,"px");this.expandable.scrollLeft=e;this.collapsible.scrollLeft=this.collapsible.scrollWidth+100;if(this.lastOffsetWidth!==t){this.lastOffsetWidth=t;return true;}return false;}},{key:"onScroll",value:function onScroll(t){if(this.reset()&&this.element.parentNode!==null){t(this.lastOffsetWidth);}}}]);return pp;}();});var _Ce,va;var oA=d(function(){QC();_Ce=/*#__PURE__*/function(){function Ce(t){_classCallCheck(this,Ce);this.font=_objectSpread({fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal"},t);}_createClass(Ce,[{key:"load",value:function load(t,e){var _this5=this;var r="BESbswy";var o=null;var n=e||_Ce.DEFAULT_TIMEOUT;var s=this.getTime();return new Promise(function(a,l){if(_Ce.supportsNativeFontLoading()&&!_Ce.hasSafari10Bug()){var c=new Promise(function(m,p){var h=function h(){var g=_this5.getTime();if(g-s>=n){p(new Error(""+n+"ms timeout exceeded"));}else{document["fonts"].load(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\"")),r).then(function(x){if(x.length>=1){m();}else{setTimeout(h,25);}},l);}};h();});var u=new Promise(function(m,p){o=setTimeout(function(){p(new Error("".concat(n," ms timeout exceeded")));},n);});Promise.race([u,c]).then(function(){clearTimeout(o);a(_this5);},l);}else{var _c2=new pp(r);var _u2=new pp(r);var m=new pp(r);var p=-1;var h=-1;var g=-1;var x=-1;var v=-1;var b=-1;var T=document.createElement("div");var k=function k(){if(T.parentNode!==null){T.parentNode.removeChild(T);}};var E=function E(){if(p!==-1&&h!==-1||p!==-1&&g!==-1||h!==-1&&g!==-1){if(p===h||p===g||h===g){if(_Ce.hasWebKitFallbackBug()){if(p===x&&h===x&&g===x||p===v&&h===v&&g===v||p===b&&h===b&&g===b){return;}}k();clearTimeout(o);a(_this5);}}};T.dir="ltr";_c2.setFont(_this5.getStyle("sans-serif"));_u2.setFont(_this5.getStyle("serif"));m.setFont(_this5.getStyle("monospace"));T.appendChild(_c2.getElement());T.appendChild(_u2.getElement());T.appendChild(m.getElement());document.body.appendChild(T);x=_c2.getWidth();v=_u2.getWidth();b=m.getWidth();var A=function A(){var I=_this5.getTime();if(I-s>=n){k();l(new Error("".concat(n," ms timeout exceeded")));}else{var F=document.hidden;if(F===true||F===void 0){p=_c2.getWidth();h=_u2.getWidth();g=m.getWidth();E();}o=setTimeout(A,50);}};A();_c2.onResize(function(I){p=I;E();});_c2.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",sans-serif")));_u2.onResize(function(I){h=I;E();});_u2.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",serif")));m.onResize(function(I){g=I;E();});m.setFont(_this5.getStyle("\"".concat(_this5.font.fontFamily,"\",monospace")));}});}},{key:"getStyle",value:function getStyle(t){return[this.font.fontStyle,this.font.fontWeight,_Ce.supportsStretch()?this.font.fontStretch:"","100px",t].join(" ");}},{key:"getTime",value:function getTime(){return new Date().getTime();}}],[{key:"getUserAgent",value:function getUserAgent(){return window.navigator.userAgent;}},{key:"getNavigatorVendor",value:function getNavigatorVendor(){return window.navigator.vendor;}},{key:"hasWebKitFallbackBug",value:function hasWebKitFallbackBug(){if(_Ce.HAS_WEBKIT_FALLBACK_BUG===null){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(_Ce.getUserAgent());_Ce.HAS_WEBKIT_FALLBACK_BUG=!!t&&(parseInt(t[1],10)<536||parseInt(t[1],10)===536&&parseInt(t[2],10)<=11);}return _Ce.HAS_WEBKIT_FALLBACK_BUG;}},{key:"hasSafari10Bug",value:function hasSafari10Bug(){if(_Ce.HAS_SAFARI_10_BUG===null){if(_Ce.supportsNativeFontLoading()&&/Apple/.test(_Ce.getNavigatorVendor())){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(_Ce.getUserAgent());_Ce.HAS_SAFARI_10_BUG=!!t&&parseInt(t[1],10)<603;}else{_Ce.HAS_SAFARI_10_BUG=false;}}return _Ce.HAS_SAFARI_10_BUG;}},{key:"supportsNativeFontLoading",value:function supportsNativeFontLoading(){if(_Ce.SUPPORTS_NATIVE_FONT_LOADING===null){_Ce.SUPPORTS_NATIVE_FONT_LOADING=!!document["fonts"];}return _Ce.SUPPORTS_NATIVE_FONT_LOADING;}},{key:"supportsStretch",value:function supportsStretch(){if(_Ce.SUPPORTS_STRETCH===null){var t=document.createElement("div");try{t.style.font="condensend 100px sans-serif";}catch(e){_Ce.SUPPORTS_STRETCH=false;}_Ce.SUPPORTS_STRETCH=t.style.font!=="";}return _Ce.SUPPORTS_STRETCH;}}]);return Ce;}();va=_Ce;va.HAS_WEBKIT_FALLBACK_BUG=null;va.HAS_SAFARI_10_BUG=null;va.SUPPORTS_STRETCH=null;va.SUPPORTS_NATIVE_FONT_LOADING=null;va.DEFAULT_TIMEOUT=6e4;});var _ge,R;var tS=d(function(){_ge=/*#__PURE__*/function(){function ge(t,e){_classCallCheck(this,ge);if(typeof t==="number"){this.x=t;this.y=e;}else{this.x=t.x;this.y=t.y;}}_createClass(ge,[{key:"magnitude",get:function get(){return Math.sqrt(this.x*this.x+this.y*this.y);}},{key:"normalized",get:function get(){var t=this.magnitude;return new _ge(this.x/t,this.y/t);}},{key:"floored",get:function get(){return new _ge(Math.floor(this.x),Math.floor(this.y));}},{key:"rounded",get:function get(){return new _ge(Math.round(this.x),Math.round(this.y));}},{key:"min",get:function get(){return Math.min(this.x,this.y);}},{key:"max",get:function get(){return Math.max(this.x,this.y);}},{key:"abs",get:function get(){return new _ge(Math.abs(this.x),Math.abs(this.y));}},{key:"swapped",get:function get(){return new _ge(this.y,this.x);}},{key:"clone",value:function clone(){return new _ge(this.x,this.y);}},{key:"add",value:function add(t,e){if(typeof t==="number"){return new _ge(this.x+t,this.y+e);}else{return new _ge(this.x+t.x,this.y+t.y);}}},{key:"subtract",value:function subtract(t,e){if(typeof t==="number"){return new _ge(this.x-t,this.y-e);}else{return new _ge(this.x-t.x,this.y-t.y);}}},{key:"multiply",value:function multiply(t,e){if(typeof t==="number"){return new _ge(this.x*t,this.y*(e===void 0?t:e));}else{return new _ge(this.x*t.x,this.y*t.y);}}},{key:"divide",value:function divide(t,e){if(typeof t==="number"){return new _ge(this.x/t,this.y/(e===void 0?t:e));}else{return new _ge(this.x/t.x,this.y/t.y);}}},{key:"equals",value:function equals(t){return this.x===t.x&&this.y===t.y;}},{key:"clamp",value:function clamp(t,e){var r=Math.max(t.x,Math.min(e.x,this.x));var o=Math.max(t.y,Math.min(e.y,this.y));return new _ge(r,o);}}],[{key:"fromSize",value:function fromSize(t){return new _ge(t.width,t.height);}},{key:"distance",value:function distance(t,e){var r=e.x-t.x;var o=e.y-t.y;return Math.sqrt(r*r+o*o);}},{key:"dot",value:function dot(t,e){return t.x*e.x+t.y*e.y;}},{key:"lerp",value:function lerp(t,e,r){var o=Math.min(Math.max(r,0),1);return new _ge(t.x*o+e.x*(1-o),t.y*o+e.y*(1-o));}},{key:"lerpUnclamped",value:function lerpUnclamped(t,e,r){return new _ge(t.x*r+e.x*(1-r),t.y*r+e.y*(1-r));}},{key:"proportionalFit",value:function proportionalFit(t,e){var r=t.x/t.y;var o=e.x/e.y;if(r>o){return e.multiply(t.y/e.y);}else{return e.multiply(t.x/e.x);}}}]);return ge;}();R=_ge;R.ZERO=new _ge(0,0);R.ONE=new _ge(1,1);R.UP=new _ge(0,1);R.DOWN=new _ge(0,-1);R.RIGHT=new _ge(1,0);R.LEFT=new _ge(-1,0);});var eS=d(function(){O();});var hp;var nA=d(function(){tS();eS();YC();hp=/*#__PURE__*/function(_Tr){_inherits(hp,_Tr);var _super2=_createSuper(hp);function hp(t,e){var _this6;_classCallCheck(this,hp);_this6=_super2.call(this);_this6.image=t;_this6.options=e;return _this6;}_createClass(hp,[{key:"needsResize",value:function needsResize(){var t=this.resizedDimensions();return t.x<this.image.width||t.y<this.image.height;}},{key:"resizedDimensions",value:function resizedDimensions(){var t=this.options;var e={width:this.image.width,height:this.image.height};var r=R.fromSize(e);var o=R.fromSize(e);var n=t.maxMegaPixels;if(n){var l=(qC()?n.mobile:n.desktop)*1e6;var c=e.width/e.height;var u=e.height/e.width;var m=new R(Math.floor(Math.sqrt(l*c)),Math.floor(Math.sqrt(l*u)));if(m.x<=e.width&&m.y<=e.height){r=m;}}var s=t.maxDimensions;if(s){if(s.height<e.height||s.width<e.width){o=new R(s.width,s.height);}}var a=new R(Math.min(r.x,o.x),Math.min(r.y,o.y));return R.proportionalFit(a,R.fromSize(e)).floored;}},{key:"downscaleIfNecessary",value:function downscaleIfNecessary(){var t=this.resizedDimensions();var e=t.x<this.image.width||t.y<this.image.height;if(!e){return this.image;}this.emit("beganImageDownscaling",this.image);var r=document.createElement("canvas");r.width=t.x;r.height=t.y;var o=r.getContext("2d");var n=this.image;o.imageSmoothingQuality="high";o.drawImage(n,0,0,n.width,n.height,0,0,t.x,t.y);this.emit("imageDownscaled",{width:t.x,height:t.y});return r;}}]);return hp;}(Tr);});var OQ,AQ,sA,aA;var lA=d(function(){OQ=function OQ(i){return i.key==="Enter";};AQ=function AQ(i){return i.key==="Escape";};sA=function sA(i){return function(t){if(OQ(t))i(t);};};aA=function aA(i){return function(t){if(AQ(t))i(t);};};});var iS,uA,N,cA,g_t;var dA=d(function(){iS=function(V){V[V["EditorContainer"]=0]="EditorContainer";V[V["ToolControlBar"]=1]="ToolControlBar";V[V["ToolControlBarExpandableControls"]=2]="ToolControlBarExpandableControls";V[V["CanvasContainer"]=3]="CanvasContainer";V[V["Canvas"]=4]="Canvas";V[V["MainBarButtonClose"]=5]="MainBarButtonClose";V[V["MainBarButtonExport"]=6]="MainBarButtonExport";V[V["MainBarButtonUndo"]=7]="MainBarButtonUndo";V[V["MainBarButtonRedo"]=8]="MainBarButtonRedo";V[V["MainBarButtonZoom"]=9]="MainBarButtonZoom";V[V["Tooltip"]=10]="Tooltip";V[V["Cursor"]=11]="Cursor";V[V["CursorContainer"]=12]="CursorContainer";V[V["NummericInput"]=13]="NummericInput";V[V["BrushSize"]=14]="BrushSize";V[V["BrushHardness"]=15]="BrushHardness";V[V["Dialog"]=16]="Dialog";V[V["DialogBody"]=17]="DialogBody";V[V["CardContainer"]=18]="CardContainer";V[V["CategoryItemsContainer"]=19]="CategoryItemsContainer";V[V["ToolbarItem"]=20]="ToolbarItem";V[V["ColorList"]=21]="ColorList";V[V["NoResult"]=22]="NoResult";V[V["CardLabel"]=23]="CardLabel";V[V["CardAvatar"]=24]="CardAvatar";V[V["Dropdown"]=25]="Dropdown";V[V["DropdownList"]=26]="DropdownList";V[V["TextAlignment"]=27]="TextAlignment";V[V["Sprite"]=28]="Sprite";V[V["SpriteTopLeft"]=29]="SpriteTopLeft";V[V["SpriteTopRight"]=30]="SpriteTopRight";V[V["SpriteBottomLeft"]=31]="SpriteBottomLeft";V[V["SpriteBottomRight"]=32]="SpriteBottomRight";V[V["Knob"]=33]="Knob";V[V["TextWidth"]=34]="TextWidth";V[V["ToolbarWrapper"]=35]="ToolbarWrapper";V[V["MainCanvasActionBar"]=36]="MainCanvasActionBar";V[V["SpriteActions"]=37]="SpriteActions";V[V["CarouselSlider"]=38]="CarouselSlider";V[V["CropMask"]=39]="CropMask";V[V["FlipRotateControls"]=40]="FlipRotateControls";V[V["RotateSlider"]=41]="RotateSlider";V[V["CropTopRight"]=42]="CropTopRight";V[V["CropTopLeft"]=43]="CropTopLeft";V[V["CropBottomRight"]=44]="CropBottomRight";V[V["CropBottomLeft"]=45]="CropBottomLeft";V[V["Watermark"]=46]="Watermark";V[V["Toolbar"]=47]="Toolbar";V[V["CanvasBar"]=48]="CanvasBar";V[V["Checkbox"]=49]="Checkbox";V[V["Focus"]=50]="Focus";V[V["SnappingLine"]=51]="SnappingLine";V[V["LibraryUploadButton"]=52]="LibraryUploadButton";V[V["LibraryWebcamButton"]=53]="LibraryWebcamButton";V[V["ZoomLevel"]=54]="ZoomLevel";V[V["BasicToolControlBar"]=55]="BasicToolControlBar";V[V["SliderTrack"]=56]="SliderTrack";V[V["SliderLabel"]=57]="SliderLabel";return V;}(iS||{});uA={};for(var i in iS){var t=iS[i];if(typeof t==="string"){uA[t]=t;}}N=uA;g_t=Boolean(typeof window!=="undefined"&&((cA=window.Cypress)==null?void 0:cA.env("pesdk")));});function BQ(i,t){var e=0;for(var r=i.length-1;r>=0;r--){var o=i[r];if(o==="."){i.splice(r,1);}else if(o===".."){i.splice(r,1);e++;}else if(e){i.splice(r,1);e--;}}if(t){for(;e--;e){i.unshift("..");}}return i;}function PQ(i){return i.charAt(0)==="/";}function MQ(i){var t=PQ(i);var e=i.substr(-1)==="/";i=BQ(i.split("/").filter(Boolean),!t).join("/");if(!i&&!t){i=".";}if(i&&e){i+="/";}return(t?"/":"")+i;}var fp;var mA=d(function(){fp=function fp(){for(var _len2=arguments.length,i=new Array(_len2),_key2=0;_key2<_len2;_key2++){i[_key2]=arguments[_key2];}return MQ(i.join("/"));};});var hA=Gt(function(__t,pA){var LQ=typeof Element!=="undefined";var zQ=typeof Map==="function";var UQ=typeof Set==="function";var NQ=typeof ArrayBuffer==="function"&&!!ArrayBuffer.isView;function bb(i,t){if(i===t)return true;if(i&&t&&_typeof(i)=="object"&&_typeof(t)=="object"){if(i.constructor!==t.constructor)return false;var e,r,o;if(Array.isArray(i)){e=i.length;if(e!=t.length)return false;for(r=e;r--!==0;){if(!bb(i[r],t[r]))return false;}return true;}var n;if(zQ&&i instanceof Map&&t instanceof Map){if(i.size!==t.size)return false;n=i.entries();while(!(r=n.next()).done){if(!t.has(r.value[0]))return false;}n=i.entries();while(!(r=n.next()).done){if(!bb(r.value[1],t.get(r.value[0])))return false;}return true;}if(UQ&&i instanceof Set&&t instanceof Set){if(i.size!==t.size)return false;n=i.entries();while(!(r=n.next()).done){if(!t.has(r.value[0]))return false;}return true;}if(NQ&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(t)){e=i.length;if(e!=t.length)return false;for(r=e;r--!==0;){if(i[r]!==t[r])return false;}return true;}if(i.constructor===RegExp)return i.source===t.source&&i.flags===t.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===t.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===t.toString();o=Object.keys(i);e=o.length;if(e!==Object.keys(t).length)return false;for(r=e;r--!==0;){if(!Object.prototype.hasOwnProperty.call(t,o[r]))return false;}if(LQ&&i instanceof Element)return false;for(r=e;r--!==0;){if((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&i.$$typeof){continue;}if(!bb(i[o[r]],t[o[r]]))return false;}return true;}return i!==i&&t!==t;}pA.exports=function i(t,e){try{return bb(t,e);}catch(r){if((r.message||"").match(/stack|recursion/i)){console.warn("react-fast-compare cannot handle circular refs");return false;}throw r;}};});var Ye,rS,Io;var fA=d(function(){Ye=y(hA());rS=function rS(i,t,_ref){var _ref2=_slicedToArray(_ref,2),e=_ref2[0],r=_ref2[1];var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=i[t];if(n){if(n<e){console.error("".concat(t," must be greater than or equal to ").concat(e));return e;}if(n>r){console.error("".concat(t," must be less than or equal to ").concat(r));return r;}}return n||o;};Io=function Io(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[1,1,1,1];var r=i[t];var o=true;if(r){r.forEach(function(n){if(n<0){console.error("".concat(n," in ").concat(t," must be greater than or equal to 0"));o=false;}if(n>1){console.error("".concat(n," in ").concat(t," must be less than or equal to 1"));o=false;}});}if(!o)return e;return r||e;};});var kt,yb;var gA=d(function(){kt=function kt(i){return i*.08;};yb=function yb(i){return i*.03;};});var bA,yA;var _A=d(function(){bA=function bA(i,t){var e=i.indexOf(t);if(e===-1||!i.length)return void 0;if(e===i.length-1)return i[0];return i[e+1];};yA=function yA(i,t){var e=i.indexOf(t);if(e===-1||!i.length)return void 0;if(e===0)return i[i.length-1];return i[e-1];};});var gp,oS;var xA=d(function(){gp={};oS=function oS(_ref3){var i=_ref3.src,t=_ref3.crossOrigin,e=_ref3.key,r=_ref3.resolve,o=_ref3.reject;gp[e]=i;var n=new Image();n.onload=function(){if(gp[e]===i){r(n);delete gp[e];}};n.onerror=function(s){if(gp[e]===i){o(s);delete gp[e];}};n.crossOrigin=t;n.src=i;};});var Do;var vA=d(function(){Do=/*#__PURE__*/function(_Error){_inherits(Do,_Error);var _super3=_createSuper(Do);function Do(t){var _this7;_classCallCheck(this,Do);_this7=_super3.call(this,t);_this7.name="AssetNotFoundError";return _this7;}return Do;}(/*#__PURE__*/_wrapNativeSuper(Error));});var Eo;var CA=d(function(){Eo=function Eo(){return Math.max(window.devicePixelRatio||1,1);};});var bp=d(function(){XC();YC();tA();rA();ZC();oA();QC();nA();eS();lA();dA();JC();mA();fA();gA();_A();xA();vA();CA();});var wA=Gt(function(j_t,SA){"use strict";SA.exports=function(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var e=arguments.length>2?arguments[2]:undefined;e=_objectSpread({indent:" ",includeEmptyLines:false},e);if(typeof i!=="string"){throw new TypeError("Expected `input` to be a `string`, got `".concat(_typeof(i),"`"));}if(typeof t!=="number"){throw new TypeError("Expected `count` to be a `number`, got `".concat(_typeof(t),"`"));}if(typeof e.indent!=="string"){throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(_typeof(e.indent),"`"));}if(t===0){return i;}var r=e.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return i.replace(r,e.indent.repeat(t));};});var TA=Gt(function(){});var EA=Gt(function(X_t,DA){"use strict";var kA=TA();var IA=/\s+at.*(?:\(|\s)(.*)\)?/;var HQ=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/;var WQ=typeof kA.homedir==="undefined"?"":kA.homedir();DA.exports=function(i,t){t=Object.assign({pretty:false},t);return i.replace(/\\/g,"/").split("\n").filter(function(e){var r=e.match(IA);if(r===null||!r[1]){return true;}var o=r[1];if(o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")){return false;}return!HQ.test(o);}).filter(function(e){return e.trim()!=="";}).map(function(e){if(t.pretty){return e.replace(IA,function(r,o){return r.replace(o,o.replace(WQ,"~"));});}return e;}).join("\n");};});var OA=Gt(function(q_t,RA){"use strict";var GQ=wA();var VQ=EA();var jQ=function jQ(i){return i.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");};var FA=/*#__PURE__*/function(_Error2,_Symbol$iterator){_inherits(FA,_Error2);var _super4=_createSuper(FA);function FA(t){var _this8;_classCallCheck(this,FA);if(!Array.isArray(t)){throw new TypeError("Expected input to be an Array, got ".concat(_typeof(t)));}t=_toConsumableArray(t).map(function(r){if(r instanceof Error){return r;}if(r!==null&&_typeof(r)==="object"){return Object.assign(new Error(r.message),r);}return new Error(r);});var e=t.map(function(r){return typeof r.stack==="string"?jQ(VQ(r.stack)):String(r);}).join("\n");e="\n"+GQ(e,4);_this8=_super4.call(this,e);_this8.name="AggregateError";Object.defineProperty(_assertThisInitialized(_this8),"_errors",{value:t});return _this8;}_createClass(FA,[{key:_Symbol$iterator,value:/*#__PURE__*/regeneratorRuntime.mark(function value(){var _iterator2,_step2,t;return regeneratorRuntime.wrap(function value$(_context){while(1){switch(_context.prev=_context.next){case 0:_iterator2=_createForOfIteratorHelper(this._errors);_context.prev=1;_iterator2.s();case 3:if((_step2=_iterator2.n()).done){_context.next=9;break;}t=_step2.value;_context.next=7;return t;case 7:_context.next=3;break;case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context["catch"](1);_iterator2.e(_context.t0);case 14:_context.prev=14;_iterator2.f();return _context.finish(14);case 17:case"end":return _context.stop();}}},value,this,[[1,11,14,17]]);})}]);return FA;}(/*#__PURE__*/_wrapNativeSuper(Error),Symbol.iterator);RA.exports=FA;});var Ju=Gt(function(Y_t,AA){"use strict";var $Q=OA();AA.exports=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(i,t){var _ref5,_ref5$concurrency,e,_ref5$stopOnError,r,_args3=arguments;return regeneratorRuntime.wrap(function _callee2$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_ref5=_args3.length>2&&_args3[2]!==undefined?_args3[2]:{},_ref5$concurrency=_ref5.concurrency,e=_ref5$concurrency===void 0?Infinity:_ref5$concurrency,_ref5$stopOnError=_ref5.stopOnError,r=_ref5$stopOnError===void 0?true:_ref5$stopOnError;return _context3.abrupt("return",new Promise(function(o,n){if(typeof t!=="function"){throw new TypeError("Mapper function is required");}if(!((Number.isSafeInteger(e)||e===Infinity)&&e>=1)){throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(e,"` (").concat(_typeof(e),")"));}var s=[];var a=[];var l=i[Symbol.iterator]();var c=false;var u=false;var m=0;var p=0;var h=function h(){if(c){return;}var g=l.next();var x=p;p++;if(g.done){u=true;if(m===0){if(!r&&a.length!==0){n(new $Q(a));}else{o(s);}}return;}m++;_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){var v;return regeneratorRuntime.wrap(function _callee$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return g.value;case 3:v=_context2.sent;_context2.next=6;return t(v,x);case 6:s[x]=_context2.sent;m--;h();_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](0);if(r){c=true;n(_context2.t0);}else{a.push(_context2.t0);m--;h();}case 14:case"end":return _context2.stop();}}},_callee,null,[[0,11]]);}))();};for(var g=0;g<e;g++){h();if(u){break;}}}));case 2:case"end":return _context3.stop();}}},_callee2);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}();});var BA,KQ,_yp;var nS=d(function(){BA=y(Ju());O();bp();KQ={italic:"i"};_yp=/*#__PURE__*/function(){function yp(t){var _this9=this;_classCallCheck(this,yp);this.assetManager=t;this.injectedFonts={};this.loadedFonts={};this.isFontLoaded=function(t){return _this9.loadedFonts[t]!==void 0;};this.getGoogleFamiliesString=function(t){var e=t.reduce(function(r,o){var n=o.fontFamily,s=o.fontStyle,_o$fontWeight=o.fontWeight,a=_o$fontWeight===void 0?400:_o$fontWeight;r[n]=(r[n]||[]).concat("".concat(a).concat(KQ[s]||""));return r;},{});return Object.keys(e).map(function(r){var o=e[r].length?":".concat(e[r].join(",")):"";var n=r.replace(" ","+")+o;return n;}).join("|");};}_createClass(yp,[{key:"getFontWithId",value:function getFontWithId(t){var e=this.assetManager.getFontAsset(t);if(!e){throw new Error("The requested font does not exist as an asset.");}return e;}},{key:"injectAllFonts",value:function injectAllFonts(){var t=this.assetManager.getFontAssets();this.injectFonts(t);}},{key:"loadAllFonts",value:function(){var _loadAllFonts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(){var t;return regeneratorRuntime.wrap(function _callee3$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:t=this.assetManager.getFontAssets();return _context4.abrupt("return",this.loadFonts(t));case 2:case"end":return _context4.stop();}}},_callee3,this);}));function loadAllFonts(){return _loadAllFonts.apply(this,arguments);}return loadAllFonts;}()},{key:"loadFontsWithIdentifiers",value:function(){var _loadFontsWithIdentifiers=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(t){var _this10=this;var e;return regeneratorRuntime.wrap(function _callee4$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:e=t.map(function(r){return _this10.getFontWithId(r);});return _context5.abrupt("return",this.loadFonts(e));case 2:case"end":return _context5.stop();}}},_callee4,this);}));function loadFontsWithIdentifiers(_x4){return _loadFontsWithIdentifiers.apply(this,arguments);}return loadFontsWithIdentifiers;}()},{key:"loadFonts",value:function(){var _loadFonts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(t){var _this11=this;return regeneratorRuntime.wrap(function _callee5$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:this.injectFonts(t);return _context6.abrupt("return",(0,BA["default"])(t,function(e){return _this11.loadFont(e,false);},{stopOnError:false}).then(function(){return void 0;}));case 2:case"end":return _context6.stop();}}},_callee5,this);}));function loadFonts(_x5){return _loadFonts.apply(this,arguments);}return loadFonts;}()},{key:"loadFont",value:function(){var _loadFont=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(t){var _this12=this;var e,_args7=arguments;return regeneratorRuntime.wrap(function _callee6$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:e=_args7.length>1&&_args7[1]!==undefined?_args7[1]:true;return _context7.abrupt("return",new Promise(function(r,o){if(_this12.isFontLoaded(t.identifier)){r();}if(e){_this12.injectFonts([t]);}var n=new va(t);n.load().then(function(){_this12.loadedFonts[t.identifier]=t;r();})["catch"](function(s){o(t.identifier);});}));case 2:case"end":return _context7.stop();}}},_callee6);}));function loadFont(_x6){return _loadFont.apply(this,arguments);}return loadFont;}()},{key:"loadFontWithIdentifier",value:function(){var _loadFontWithIdentifier=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var e,r,_args8=arguments;return regeneratorRuntime.wrap(function _callee7$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:e=_args8.length>1&&_args8[1]!==undefined?_args8[1]:true;r=this.assetManager.getFontAsset(t);if(r){_context8.next=4;break;}throw new Error("The requested font asset with identifier ".concat(t," does not exist!"));case 4:return _context8.abrupt("return",this.loadFont(r,e));case 5:case"end":return _context8.stop();}}},_callee7,this);}));function loadFontWithIdentifier(_x7){return _loadFontWithIdentifier.apply(this,arguments);}return loadFontWithIdentifier;}()},{key:"injectFonts",value:function injectFonts(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.assetManager.getPathForCategory("font");var r=t.filter(NC);var o=t.filter(UC);if(r.length>0){this.addGoogleFontLinks(r);}if(o.length>0){this.addWebFontCSS(o,e);}}},{key:"addGoogleFontLinks",value:function addGoogleFontLinks(t){var _this13=this;var e=t.filter(function(s){return!_this13.injectedFonts[s.identifier];});if(e.length===0){return;}var r=this.getGoogleFamiliesString(e);var o=document.createElement("link");o.rel="stylesheet";o.href="https://fonts.googleapis.com/css?family=".concat(r);var n=document.getElementsByTagName("head")[0];n.appendChild(o);t.forEach(function(s){_this13.injectedFonts[s.identifier]=s;});}},{key:"addWebFontCSS",value:function addWebFontCSS(t,e){var _this14=this;var r=t.filter(function(a){return!_this14.injectedFonts[a.identifier];});if(r.length===0){return;}var o=_yp.createFontFacesCSS(r,e);var n="\n      /* Injected by PhotoEditorSDK */\n      ".concat(o.join("\n"),"\n    ");var s=document.createElement("style");s.innerHTML=n;document.head.appendChild(s);t.forEach(function(a){_this14.injectedFonts[a.identifier]=a;});}}],[{key:"createFontFacesCSS",value:function createFontFacesCSS(t,e){return t.map(function(r){var o=e(r.fontURI);return"@font-face {\n        font-family: \"".concat(r.fontFamily,"\";\n        src: url('").concat(o,"') format('").concat(r.format||"woff","');\n        font-weight: ").concat(r.fontWeight||"normal",";\n        font-style: ").concat(r.fontStyle||"normal",";\n      }");});}}]);return yp;}();});var _p;var PA=d(function(){O();UO();NO();HO();WO();jO();$O();KO();XO();YO();ZO();QO();gC();bC();bp();nS();_p=/*#__PURE__*/function(){function _p(t){var _this15=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,_p);this.assetResolver=r;this.basePath="assets/";this.areCustomAssetsAllowed=false;this.getAssets=function(t){switch(t){case"overlay":return _this15.overlayAssets;case"filter":return _this15.filterCategories;case"font":return _this15.fontAssets;case"focus":return _this15.focusAssets;case"adjustment":return _this15.adjustmentCategories;case"sticker":return _this15.stickerCategories;case"textdesign":return _this15.textDesignAssets;case"frame":return _this15.frameAssets;case"transform":return _this15.transformCategories;default:return[];}return[];};this.getPath=function(t,e){var _this15$assetResolver=_this15.assetResolver,r=_this15$assetResolver===void 0?{}:_this15$assetResolver;var o=e&&r.item?r.item(e,t):e;if(o==null?void 0:o.match(/data:image/g)){return o;}if((o==null?void 0:o.match(/(ftp|http|https):\/\//))&&cn(o)){return o;}if(!o&&cn(t)){return t;}var n=o?fp(t,o):fp(t);var s;if(_this15.basePath.match(/(ftp|http|https):\/\//)){var _a2=_this15.basePath.length;if(_this15.basePath[_a2-1]!=="/"){_this15.basePath="".concat(_this15.basePath,"/");}s=_this15.basePath+n;}else{s=fp(_this15.basePath,n);}return r.path?r.path(s,t,o):s;};this.getPathForCategory=function(t){return function(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return _this15.getPath.apply(_this15,[t].concat(e));};};this.addCustomStickerAsset=function(t,e,r){t.forEach(function(o){var n=o.thumbnailURI,s=o.name,a=o.stickerURI,l=o.identifier,c=o.tintMode,u=o.resizeMode;var m=_this15.stickerCategories.find(function(h){return h.identifier===e;});var p={identifier:l,name:s,thumbnailURI:n,stickerURI:a,tintMode:c,resizeMode:u};if(m){m.items.push(p);m.thumbnailURI=n;}else{var h={identifier:e,name:r,thumbnailURI:n,items:[p]};_this15.stickerCategories=[h].concat(_toConsumableArray(_this15.stickerCategories));}});_this15.stickerAssets=_this15.stickerCategories.reduce(_this15.allOptions,[]);};this.getItemPath=function(t,e,r){var o=t.find(function(n){return n.identifier===e;});return o?o[r]||o.path||"":"";};this.isNonExistingFont=function(t){return!mb.find(function(e){return e.identifier===t.identifier;})&&!us[t.identifier];};this.replaceDeprecatedFont=function(t){if(us[t.identifier]){return mb.find(function(e){return e.identifier===hn(t.identifier,true);});}return t;};var m,p;if(t==null?void 0:t.basePath)this.basePath=t.basePath;this.areCustomAssetsAllowed=e;var o=db.reduce(this.allOptions,[]);if(t&&t.filter){this.filterCategories=this.configuredCategory(db,t.filter,o);}else{this.filterCategories=db;}this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter(function(h){return wC(h);});this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter(function(h){return Yu(h);});var n=ub.reduce(this.allOptions,[]);if(t&&t.adjustment){this.adjustmentCategories=this.configuredCategory(ub,t.adjustment,n);}else{this.adjustmentCategories=ub;}this.fontAssets=mb.reduce(this.allOptions,[]);var s=GO.map(function(h){return _this15.getFontAsset(h);});if(((p=(m=t==null?void 0:t.text)==null?void 0:m.fonts)==null?void 0:p.length)>0){s=t.text.fonts.map(function(g){if(_this15.isNonExistingFont(g))return g;var x=_this15.replaceDeprecatedFont(g);return _this15.getFontAsset(x.identifier);});var h=t.text.fonts.filter(this.isNonExistingFont);this.fontAssets=t.text.fonts?[].concat(_toConsumableArray(this.fontAssets),_toConsumableArray(h)):this.fontAssets;}this.textToolFontAssets=s;var a=t&&t.focus&&t.focus.items&&t.focus.items.length?t.focus.items.map(function(h){return KC.find(function(g){return g.identifier===h.identifier;});}):KC;this.focusAssets=a;if(t&&t.overlay&&t.overlay.items){this.overlayAssets=this.configuredItem(t.overlay.items,hb,hb);}else{this.overlayAssets=hb;}if(t&&t.frame&&t.frame.items){this.frameAssets=this.configuredItem(t.frame.items,pb,pb);}else{this.frameAssets=pb;}var l=fb.reduce(this.allOptions,[]);if(t&&t.sticker){this.stickerCategories=this.configuredCategory(fb,t.sticker,l);}else{this.stickerCategories=fb;}this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);var c=qO;if(t&&t.theme==="light"){c=JO;}this.textDesignAssets=t&&t.textdesign&&t.textdesign.items&&t.textdesign.items.length?t.textdesign.items.map(function(h){return c.find(function(g){return g.identifier===h.identifier;});}):c;this.textDesignToolFontAssets=VO.map(function(h){return _this15.getFontAsset(h);});var u=gb.reduce(this.allOptions,[]);if(t&&t.transform){this.transformCategories=this.configuredCategory(gb,t.transform,u,"transform");}else{this.transformCategories=gb;}this.transformAssets=this.transformCategories.reduce(this.allOptions,[]);this.fontManager=new _yp(this);}_createClass(_p,[{key:"getFontManager",value:function getFontManager(){return this.fontManager;}},{key:"getAssetSource",value:function getAssetSource(t,e){switch(t){case"filter":var r=this.getLUTFilterAsset(e);if(r){return this.getPath(t,this.getItemPath(this.lutFilterAssets,e,"lutURI"));}break;case"overlay":return this.getPath(t,this.getItemPath(this.overlayAssets,e,"overlayURI"));case"font":return this.getPath(t,this.getItemPath(this.fontAssets,e,"fontURI"));case"sticker":var o=this.stickerAssets.find(function(n){return n.identifier===e;});if(o){if(o.stickerURI.substr(0,10)==="data:image"){return o.stickerURI;}if(e.includes("imgly_sticker")&&o.stickerURI.includes(".svg")&&ve()){var n=this.getPath(t,this.getItemPath(this.stickerAssets,e,"stickerURI"));var s=n.split("/");s.splice(s.length-1,0,"base");s[s.length-1]=s[s.length-1].replace(".svg",".png");return s.join("/");}return this.getPath(t,this.getItemPath(this.stickerAssets,e,"stickerURI"));}throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getPath(fp(t,"engine"),e);case"frame":return this.getPath(t,e);default:break;}throw new Error("Cannot resolve this type of asset yet");}},{key:"getDuotoneFilterAsset",value:function getDuotoneFilterAsset(t){return this.duoToneFilterAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getLUTFilterAsset",value:function getLUTFilterAsset(t){return this.lutFilterAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getOverlayAsset",value:function getOverlayAsset(t){return this.overlayAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getStickerAsset",value:function getStickerAsset(t){return this.stickerAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getFontAsset",value:function getFontAsset(t){var e=this.fontAssets.filter(function(r){return r.identifier===t;})[0];if(e){return e;}console.warn("The font asset for ".concat(t," was not found."));return void 0;}},{key:"getTextDesignAssets",value:function getTextDesignAssets(t){return this.textDesignAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getFrameAsset",value:function getFrameAsset(t){return this.frameAssets.filter(function(e){return e.identifier===t;})[0];}},{key:"getFontAssets",value:function getFontAssets(){return this.fontAssets;}},{key:"getFontAssetsForText",value:function getFontAssetsForText(){return this.textToolFontAssets;}},{key:"getFontAssetsForTextDesign",value:function getFontAssetsForTextDesign(){return this.textDesignToolFontAssets;}},{key:"getFrameAssets",value:function getFrameAssets(){return this.frameAssets;}},{key:"allOptions",value:function allOptions(t,e){if(Object.prototype.hasOwnProperty.call(e,"items")){return[].concat(_toConsumableArray(t),_toConsumableArray(e.items));}return[].concat(_toConsumableArray(t),[e]);}},{key:"configuredCategory",value:function configuredCategory(t,e,r,o){var _this16=this;if(e.categories&&e.categories.length){return e.categories.reduce(function(n,s){var a=t.find(function(l){return l.identifier===s.identifier;});if(a){n.push(_objectSpread(_objectSpread(_objectSpread({},a),s),{},{items:_this16.configuredItem(s.items,r,a.items,o).filter(Boolean)}));}else if(_this16.areCustomAssetsAllowed||o==="transform"){n.push(_objectSpread(_objectSpread({},s),{},{items:_this16.configuredItem(s.items,r,s.items,o).filter(Boolean)}));}return n;},[]);}return t;}},{key:"configuredItem",value:function configuredItem(t,e,r,o){var _this17=this;if(t&&t.length){return t.reduce(function(n,s){var a=e.find(function(l){return l.identifier===s.identifier;});if(a){n.push(_objectSpread(_objectSpread({},a),s));}else if(_this17.areCustomAssetsAllowed||o==="transform"){n.push(s);}return n;},[]).filter(Boolean);}return r;}}]);return _p;}();});var sS,je;var MA=d(function(){sS=/*#__PURE__*/function(){function sS(t,e,r,o){_classCallCheck(this,sS);if(typeof t==="number"){if(typeof e==="number"&&r!==void 0&&o!==void 0){this.origin={x:t,y:e};this.size={width:r||0,height:o||0};}else{throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");}}else{this.origin=t;if(typeof e==="number"){throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");}this.size=e;}}_createClass(sS,[{key:"minX",get:function get(){return this.origin.x;}},{key:"minY",get:function get(){return this.origin.y;}},{key:"midX",get:function get(){return this.origin.x+.5*this.size.width;}},{key:"midY",get:function get(){return this.origin.y+.5*this.size.height;}},{key:"maxX",get:function get(){return this.origin.x+this.size.width;}},{key:"maxY",get:function get(){return this.origin.y+this.size.height;}},{key:"width",get:function get(){return this.size.width;}},{key:"height",get:function get(){return this.size.height;}}],[{key:"contains",value:function contains(t,e){return e.x>=t.minX&&e.x<=t.maxX&&e.y>=t.minY&&e.y<=t.maxY;}}]);return sS;}();je=sS;je.ZERO=new sS({x:0,y:0},{width:0,height:0});});var _ds,wt;var LA=d(function(){_ds=/*#__PURE__*/function(){function ds(t,e,r,o,n,s){_classCallCheck(this,ds);this.a=t;this.b=e;this.c=r;this.d=o;this.tx=n;this.ty=s;}_createClass(ds,null,[{key:"fromScale",value:function fromScale(t,e){return new _ds(t,0,0,e,0,0);}},{key:"fromRotation",value:function fromRotation(t){var e=Math.cos(t);var r=Math.sin(t);return new _ds(e,-r,r,e,0,0);}},{key:"fromRotationDeg",value:function fromRotationDeg(t){var e=Math.PI*t/180;return this.fromRotation(e);}},{key:"fromTranslation",value:function fromTranslation(t,e){return new _ds(1,0,0,1,t,e);}},{key:"fromTRS",value:function fromTRS(t,e,r,o,n){var s=Math.cos(r);var a=Math.sin(r);return new _ds(o*s,-n*a,o*a,n*s,t,e);}},{key:"multiply",value:function multiply(t,e){var r=t.a*e.a+t.b*e.c;var o=t.a*e.b+t.b*e.d;var n=t.c*e.a+t.d*e.c;var s=t.c*e.b+t.d*e.d;var a=t.a*e.tx+t.b*e.ty+t.tx;var l=t.c*e.tx+t.d*e.ty+t.ty;return new _ds(r,o,n,s,a,l);}},{key:"transformPoint",value:function transformPoint(t,e){return{x:t.a*e.x+t.b*e.y+t.tx,y:t.c*e.x+t.d*e.y+t.ty};}},{key:"getInverted",value:function getInverted(t){var e=t.a*t.d-t.b*t.c;if(e===0){return t;}var r=1/e;var o=r*t.d;var n=-r*t.b;var s=-r*t.c;var a=r*t.a;var l=r*(t.b*t.ty-t.d*t.tx);var c=r*(t.c*t.tx-t.a*t.ty);return new _ds(o,n,s,a,l,c);}}]);return ds;}();wt=_ds;wt.IDENTITY=_ds.fromScale(1,1);});function Yr(i){return typeof i==="number";}var aS,lS;var cS=d(function(){aS=function aS(i){return i<0;};lS=function lS(i){return aS(i)?-i:i;};});var Wl,xb,_b,zA,xp,uS,dS,mS,UA;var NA=d(function(){var _b2;cS();bp();Wl=function Wl(i){return i*(Math.PI/180);};xb=function xb(i){return i*(180/Math.PI);};_b=(_b2={},_defineProperty(_b2,0,Wl(0)),_defineProperty(_b2,90,Wl(90)),_defineProperty(_b2,180,Wl(180)),_defineProperty(_b2,270,Wl(270)),_b2);zA=Object.values(_b);xp=function xp(i){var t=Math.round(xb(lS(i)));if(aS(i)){if(t===270){t=90;}else if(t===90){t=270;}}return _b[t%360];};uS=function uS(i){return i===0?i:360-lS(i);};dS=function dS(i){return bA(zA,xp(i));};mS=function mS(i){return yA(zA,xp(i));};UA=function UA(i){var t=xp(i);return t===_b[270]||t===_b[90];};});var HA=d(function(){tS();MA();LA();cS();NA();});var _re;var WA=d(function(){_re=/*#__PURE__*/function(){function re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{x:1,y:1};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;_classCallCheck(this,re);this.position=t;this.scale=e;this.rotation=r;}_createClass(re,null,[{key:"IDENTITY",get:function get(){return new _re({x:0,y:0});}}]);return re;}();});var U=d(function(){zF();gC();VF();bC();yC();PA();nS();HA();WA();bp();To();});var Ca,GA,VA,XQ,pS;var jA=d(function(){Ca=y(_("react"));$g();GA=y(Ku());VA=y(_("styled-components"));Sr();U();XQ=VA["default"].div(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n\n    scrollbar-width: thin;\n    scrollbar-color: "," transparent;\n\n    &::-webkit-scrollbar-track {\n      border-radius: 10px;\n      background-color: transparent;\n      margin: 1px;\n    }\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n      background-color: transparent;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      box-shadow: inset 0 0 14px rgba(0, 0, 0, 0.4);\n      background-color: ",";\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background-color: ",";\n    }\n  }\n\n  /* This will be applied first in some cases and should be treated as such */\n  h1,\n  h2,\n  h3,\n  input,\n  textarea,\n  label,\n  span,\n  div,\n  p {\n    line-height: normal;\n  }\n"])),function(i){return i.theme.background;},function(i){return i.theme.foreground;},function(i){return i.theme.typography.fontFamily;},function(i){return i.theme.scrollbar.handleColor;},function(i){return i.theme.scrollbar.handleColor;},function(i){return i.theme.scrollbar.handleColor;});pS=/*#__PURE__*/function(_Ca$default$Component){_inherits(pS,_Ca$default$Component);var _super5=_createSuper(pS);function pS(t){var _this18;_classCallCheck(this,pS);_this18=_super5.call(this,t);_this18.node=Ca["default"].createRef();_this18.mounted=false;_this18.saveEditorDimensions=function(t){if(_this18.mounted){_this18.setState({contextValue:{element:t,rect:t.getBoundingClientRect()}});}};var e;if((e=Ca["default"])==null?void 0:e.version){var r=Number.parseInt(Ca["default"].version.split(".")[0],10);var o=Number.parseInt(Ca["default"].version.split(".")[1],10);if(r<16||r===16&&o<8)console.error("Please be aware that the PhotoEditorSDK will require React 16.8.6 or above.");}_this18.saveEditorDimensions=(0,GA["default"])(_this18.saveEditorDimensions,100);_this18.resizeObserver=new Nl(function(_ref7){var _ref8=_slicedToArray(_ref7,1),r=_ref8[0];_this18.saveEditorDimensions(r.target);});_this18.state={contextValue:{element:null,rect:null}};return _this18;}_createClass(pS,[{key:"componentDidMount",value:function componentDidMount(){var t;this.mounted=true;if((t=this.node)==null?void 0:t.current){this.resizeObserver.observe(this.node.current);}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.mounted=false;this.resizeObserver.disconnect();}},{key:"render",value:function render(){var t=this.props.children;var e=this.state.contextValue;return Ca["default"].createElement(XQ,{ref:this.node,"data-test":N.EditorContainer},Ca["default"].createElement(Re.Provider,{value:e},t));}}]);return pS;}(Ca["default"].Component);});var vb,vp,qQ,Cb;var Cp=d(function(){vb=y(_("styled-components"));vp=vb.css(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"])),function(i){return i.theme.measurements.colorItem.size;},function(i){return i.theme.measurements.colorItem.size;},function(i){return i.theme.colorItem.borderRadius||"".concat(i.theme.shape.radiusSmall,"px");});qQ=vb["default"].div.attrs(function(i){return{style:{background:i.color}};})(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),vp,function(i){return i.theme.measurements.zIndex.colorItem.background;});Cb=qQ;});var Gl,Sp,YQ,hS,JQ,Sb;var fS=d(function(){Gl=y(_("react"));Sp=y(_("styled-components"));Cp();YQ=Sp["default"].div(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"])),vp,function(i){return i.theme.measurements.zIndex.colorItem.overlay;},function(i){return i.theme.colorItem.borderRadius||"".concat(i.theme.shape.radiusSmall,"px");},function(i){return i.isActive&&Sp.css(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n      border-color: ",";\n    "])),i.theme.selectColor.activeBorderColor);});hS=Sp["default"].span(_templateObject9||(_templateObject9=_taggedTemplateLiteral(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"])));JQ=function JQ(_ref9){var i=_ref9.isActive,t=_ref9.className,e=_ref9.style;return Gl["default"].createElement(YQ,{isActive:i,className:t,style:e},i&&Gl["default"].createElement(Gl["default"].Fragment,null,Gl["default"].createElement(hS,null),Gl["default"].createElement(hS,null),Gl["default"].createElement(hS,null)));};Sb=JQ;});var $A,di;var KA=d(function(){$A=_("styled-components");di=$A.css(_templateObject10||(_templateObject10=_taggedTemplateLiteral(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"])),function(i){return i.theme.focusOutlineColor;},function(i){return i.theme.focusOutlineColor;});});var XA,Zu;var qA=d(function(){XA=_("styled-components");Zu=XA.css(_templateObject11||(_templateObject11=_taggedTemplateLiteral(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"])));});var Jr=d(function(){KA();qA();});var YA,ZQ,wb;var gS=d(function(){YA=y(_("styled-components"));Jr();ZQ=YA["default"].button.attrs({type:"button"})(_templateObject12||(_templateObject12=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"])),function(i){return i.theme.measurements.colorItem.size;},function(i){return i.theme.measurements.colorItem.size;},function(i){return i.theme.colorItem.margin;},function(i){return i.theme.colorItem.borderRadius||"".concat(i.theme.shape.radiusSmall,"px");},di,function(i){return i.theme.selectColor.inactiveOpacity;});wb=ZQ;});var JA,QQ,Tb;var bS=d(function(){JA=y(_("styled-components"));Cp();QQ=JA["default"].div.attrs(function(i){var t=i.url?{backgroundImage:"url(".concat(i.url,")")}:{};return _objectSpread({style:t},i.style);})(_templateObject13||(_templateObject13=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),vp,function(i){return i.theme.measurements.zIndex.colorItem.tiledBackground;});Tb=QQ;});var wp,ttt,ZA;var QA=d(function(){wp=y(_("react"));B();fS();Cp();gS();bS();ttt=function ttt(_ref10){var i=_ref10.isActive,t=_ref10.onClick,e=_ref10.color,r=_ref10.label,o=_ref10.isDisabled,n=_ref10.tiledBackgroundUrl,s=_ref10.className,a=_ref10.style,l=_ref10.children;return wp["default"].createElement(wb,{disabled:o,onClick:t,"aria-label":r,className:s,style:a},wp["default"].createElement(Tb,{url:n}),wp["default"].createElement(Cb,{color:e}),wp["default"].createElement(Sb,{isActive:i}),l);};ZA=rt("config")(w(ttt));});var tB,ett,kb;var yS=d(function(){tB=y(_("styled-components"));ett=tB["default"].div(_templateObject14||(_templateObject14=_taggedTemplateLiteral(["\n  display: block;\n  opacity: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  height: 100%;\n  width: 100%;\n"])),function(i){return i.theme.measurements.zIndex.dialog.backdrop;},function(i){return i.theme.modal.backdrop;});kb=ett;});var eB,Ib,itt,Db;var _S=d(function(){eB=y(_("react"));Ib=y(_("styled-components"));itt=Ib["default"].div(_templateObject15||(_templateObject15=_taggedTemplateLiteral(["\n  display: none;\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  transition: opacity 100s ease-in-out;\n\n  ",";\n"])),function(i){return i.theme.measurements.zIndex.dialog.base;},function(i){return i.isVisible&&Ib.css(_templateObject16||(_templateObject16=_taggedTemplateLiteral(["\n      opacity: 1;\n      display: block;\n      visibility: visible;\n    "])));});Db=function Db(_ref11){var i=_ref11.isVisible,t=_ref11.className,e=_ref11.children;return eB["default"].createElement(itt,{isVisible:i,className:t},e);};});var iB,rtt,Eb;var xS=d(function(){iB=y(_("styled-components"));rtt=iB["default"].div.attrs(function(_ref12){var i=_ref12.style;return{role:"dialog","aria-hidden":false,style:i};})(_templateObject17||(_templateObject17=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: calc(50% + ","px);\n  left: calc(50% + ","px);\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n  z-index: ",";\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    text-align: center;\n    width: auto;\n    min-width: 200px;\n    height: auto;\n    top: 50%;\n    left: 50%;\n  }\n"])),function(i){return i.top;},function(i){return i.left;},function(i){return i.width;},function(i){return i.height;},function(i){return i.theme.shape.radiusLarge;},function(i){return i.theme.modal.background;},function(i){return i.theme.modal.bodyForeground;},function(i){return i.theme.measurements.zIndex.dialog.container;});Eb=rtt;});var Fb,ott,rB;var oB=d(function(){Fb=y(_("react"));U();yS();_S();xS();ott=function ott(_ref13){var _ref13$isVisible=_ref13.isVisible,i=_ref13$isVisible===void 0?false:_ref13$isVisible,_ref13$width=_ref13.width,t=_ref13$width===void 0?"350px":_ref13$width,_ref13$height=_ref13.height,e=_ref13$height===void 0?"fit-content":_ref13$height,r=_ref13.position,o=_ref13.header,n=_ref13.body,s=_ref13.footer,a=_ref13.className,l=_ref13.style,c=_ref13.children;return Fb["default"].createElement(Db,{isVisible:i},Fb["default"].createElement(kb,null),Fb["default"].createElement(Eb,{height:e,width:t,left:r.x,top:r.y,className:a,style:l,"data-test":N.Dialog},o,n,c,s));};rB=ott;});var nB,ntt,ms;var Tp=d(function(){nB=y(_("styled-components"));ntt=nB["default"].div(_templateObject18||(_templateObject18=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-sizing: border-box;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 0px 20px 11px;\n  &:first-child {\n    padding-top: 11px;\n  }\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    align-items: center;\n  }\n"])),function(i){return i.theme.measurements.fontSystem.body.size;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body["case"];},function(i){return i.theme.modal.bodyForeground;});ms=ntt;});var sB,stt,Qu;var Rb=d(function(){sB=y(_("styled-components"));stt=sB["default"].div(_templateObject19||(_templateObject19=_taggedTemplateLiteral(["\n  display: flex;\n  border-top: 2px solid\n    ",";\n\n  min-height: 40px;\n  justify-content: flex-end;\n  @media all and (min-width: 0) and (max-width: 640px) {\n    height: auto;\n    flex-direction: column;\n    justify-content: space-around;\n  }\n"])),function(i){return i.type==="error"?i.theme.error:i.theme.warning;});Qu=stt;});var aB,att,td;var Ob=d(function(){aB=y(_("styled-components"));att=aB["default"].h3(_templateObject20||(_templateObject20=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 11px 20px 0px;\n"])),function(i){return i.theme.measurements.fontSystem.headline2.size;},function(i){return i.theme.measurements.fontSystem.headline2.letterSpacing;},function(i){return i.theme.measurements.fontSystem.headline2["case"];},function(i){return i.theme.modal.headerForeground;});td=att;});var ed,kp,ltt,ctt,Ab,utt,Bb;var vS=d(function(){ed=y(_("react"));kp=y(_("styled-components"));ltt=kp.keyframes(_templateObject21||(_templateObject21=_taggedTemplateLiteral(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"])));ctt=kp["default"].div(_templateObject22||(_templateObject22=_taggedTemplateLiteral(["\n  display: inline-block;\n  position: relative;\n  width: 45px;\n  height: 45px;\n"])));Ab=kp["default"].div(_templateObject23||(_templateObject23=_taggedTemplateLiteral(["\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  margin: 2.5px;\n  border: 2.5px solid ",";\n  border-radius: 50%;\n  animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: "," transparent transparent\n    transparent;\n\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n"])),function(i){return i.theme.primary;},ltt,function(i){return i.theme.primary;});utt=function utt(_ref14){var i=_ref14.className,t=_ref14.style;return ed["default"].createElement(ctt,{className:i,style:t},ed["default"].createElement(Ab,null),ed["default"].createElement(Ab,null),ed["default"].createElement(Ab,null),ed["default"].createElement(Ab,null));};Bb=utt;});function dtt(i){var t="";var e=true;var r;for(r=0;r<i.length;r+=1){if(e){t+=i[r].toUpperCase();e=false;}else if(i[r]==="-"){e=true;}else{t+=i[r];}}return t;}function SS(i,t){return t?"".concat(t).concat(dtt(i)):i;}function mtt(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"transform";if(typeof window==="undefined"||typeof window.document==="undefined"){return"";}var t=window.document.documentElement.style;if(i in t){return"";}var e;for(e=0;e<CS.length;e+=1){if(SS(i,CS[e])in t){return CS[e];}}return"";}var CS,lB;var cB=d(function(){CS=["Moz","Webkit","O","ms"];lB=mtt();});function Pb(i,t){for(var e=0,r=i.length;e<r;e+=1){if(t.apply(t,[i[e],e,i])){return i[e];}}return null;}function wS(i){return typeof i==="function"||Object.prototype.toString.call(i)==="[object Function]";}function id(i){return typeof i==="number"&&!Number.isNaN(i);}function mi(i){return parseInt(i,10);}var TS=d(function(){});function ptt(i,t){if(!Mb){Mb=Pb(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return wS(i[e]);});}if(!wS(i[Mb])){return false;}return i[Mb](t);}function kS(i,t,e){var r=i;do{if(ptt(r,t)){return true;}if(r===e){return false;}r=r.parentNode;}while(r);return false;}function Lb(i,t,e){if(!i){return;}if(i.attachEvent){i.attachEvent("on".concat(t),e);}else if(i.addEventListener){i.addEventListener(t,e,true);}else{i["on".concat(t)]=e;}}function Sa(i,t,e){if(!i){return;}if(i.detachEvent){i.detachEvent("on".concat(t),e);}else if(i.removeEventListener){i.removeEventListener(t,e,true);}else{i["on".concat(t)]=null;}}function uB(i){var t=i.clientHeight;var e=i.ownerDocument.defaultView.getComputedStyle(i);t+=mi(e.borderTopWidth);t+=mi(e.borderBottomWidth);return t;}function dB(i){var t=i.clientWidth;var e=i.ownerDocument.defaultView.getComputedStyle(i);t+=mi(e.borderLeftWidth);t+=mi(e.borderRightWidth);return t;}function mB(i){var t=i.clientHeight;var e=i.ownerDocument.defaultView.getComputedStyle(i);t-=mi(e.paddingTop);t-=mi(e.paddingBottom);return t;}function pB(i){var t=i.clientWidth;var e=i.ownerDocument.defaultView.getComputedStyle(i);t-=mi(e.paddingLeft);t-=mi(e.paddingRight);return t;}function hB(i,t){var e=t===t.ownerDocument.body;var r=e?{left:0,top:0}:t.getBoundingClientRect();var o=i.clientX+t.scrollLeft-r.left;var n=i.clientY+t.scrollTop-r.top;return{x:o,y:n};}function fB(_ref15){var i=_ref15.x,t=_ref15.y,e=_ref15.rotation;var r="translate(".concat(i,"px,").concat(t,"px) rotate(").concat(e,"rad)");return _defineProperty({},SS("transform",lB),r);}function gB(i,t){var e=null;if(i.targetTouches){e=Pb(i.targetTouches,function(r){return t===r.identifier;});}if(i.changedTouches&&!e){e=Pb(i.changedTouches,function(r){return t===r.identifier;});}return e;}function bB(i){if(i.targetTouches&&i.targetTouches[0]){return i.targetTouches[0].identifier;}if(i.changedTouches&&i.changedTouches[0]){return i.changedTouches[0].identifier;}return null;}var Mb;var zb=d(function(){cB();TS();Mb="";});function IS(i){var t=i.findDOMNode();if(!t){return null;}return t;}function htt(i){return{left:i.left,top:i.top,right:i.right,bottom:i.bottom};}function yB(i,t,e){if(!i.props.bounds)return[t,e];var r=i.props.bounds;r=typeof r==="string"?r:htt(r);var o=IS(i);if(!o)return[t,e];if(typeof r==="string"){var n=o.ownerDocument;var s=n.defaultView;var a;if(r==="parent"){a=o.parentNode;}else{a=n.querySelector(r);}var l=s.getComputedStyle(o);var c=s.getComputedStyle(a);r={left:-o.offsetLeft+mi(c.paddingLeft)+mi(l.marginLeft),top:-o.offsetTop+mi(c.paddingTop)+mi(l.marginTop),right:pB(a)-dB(o)-o.offsetLeft+mi(c.paddingRight)-mi(l.marginRight),bottom:mB(a)-uB(o)-o.offsetTop+mi(c.paddingBottom)-mi(l.marginBottom)};}if(id(r.right))t=Math.min(t,r.right);if(id(r.bottom))e=Math.min(e,r.bottom);if(id(r.left))t=Math.max(t,r.left);if(id(r.top))e=Math.max(e,r.top);return[t,e];}function Ub(i,t,e){var r=i.state;var o=!id(r.lastX);var n=IS(i);if(o){return{node:n,deltaX:0,deltaY:0,lastX:t,lastY:e,x:t,y:e};}return{node:n,deltaX:t-r.lastX,deltaY:e-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:e};}function Nb(i,t){return{node:t.node,x:i.state.x+t.deltaX,y:i.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:i.state.x,lastY:i.state.y};}function _B(i){return i.props.axis==="both"||i.props.axis==="x";}function xB(i){return i.props.axis==="both"||i.props.axis==="y";}function Hb(i,t){var e=IS(t);if(!e)return{x:0,y:0};var r=t.props.offsetParent;if(!r&&e instanceof HTMLElement){r=e.offsetParent||e.ownerDocument.body;}return hB(i,r);}var DS=d(function(){zb();TS();});var Wb,fn,kr,ES,Vl;var FS=d(function(){Wb=y(_("react"));zb();DS();fn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};kr=fn.mouse;ES={cancel:null,disabled:false,offsetParent:null,handle:null,transform:null,onStart:function onStart(){},onDrag:function onDrag(){},onStop:function onStop(){},onMouseDown:function onMouseDown(){}};Vl=/*#__PURE__*/function(_Wb$default$Component){_inherits(Vl,_Wb$default$Component);var _super6=_createSuper(Vl);function Vl(){var _this19;_classCallCheck(this,Vl);_this19=_super6.apply(this,arguments);_this19.state={dragging:false,lastX:NaN,lastY:NaN,touchIdentifier:void 0};_this19.findDOMNode=function(){var t=_this19.props.nodeRef;return(t==null?void 0:t.current)||null;};_this19.getTouchFromEvent=function(t){var e=bB(t);_this19.setState({touchIdentifier:e});return gB(t,e);};_this19.preventDefault=function(t){if(t.stopPropagation){t.stopPropagation();}};_this19.handleDragStart=function(t){var e=_this19.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body){throw new Error("<DraggableCore> not mounted on DragStart!");}var r=e.ownerDocument;if(_this19.props.disabled||!(t.target instanceof Node)||_this19.props.handle&&!kS(t.target,_this19.props.handle,e)||_this19.props.cancel&&kS(t.target,_this19.props.cancel,e)){return false;}var o=Hb(t,_assertThisInitialized(_this19));if(o==null){return false;}var n=o.x,s=o.y;var a=Ub(_assertThisInitialized(_this19),n,s);var l=_this19.props.onStart(t,a);if(l===false){return false;}_this19.setState({dragging:true,lastX:n,lastY:s});if(kr.move==="touchmove"){Lb(r,kr.move,_this19.onTouchDrag);}else{Lb(r,kr.move,_this19.onMouseDrag);}Lb(r,kr.stop,_this19.handleDragStop);};_this19.handleDrag=function(t){var e=Hb(t,_assertThisInitialized(_this19));if(e==null){return;}var r=e.x,o=e.y;var n=Ub(_assertThisInitialized(_this19),r,o);var s=_this19.props.onDrag(t,n);if(s===false){try{_this19.handleDragStop(new MouseEvent("mouseup"));}catch(a){var l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",true,true,window,0,0,0,0,0,false,false,false,false,0,null);_this19.handleDragStop(l);}return;}_this19.setState({lastX:r,lastY:o});};_this19.handleDragStop=function(t){if(!_this19.state.dragging){return;}var e=Hb(t,_assertThisInitialized(_this19));if(e==null){return;}var r=e.x,o=e.y;var n=Ub(_assertThisInitialized(_this19),r,o);var s=_this19.findDOMNode();_this19.setState({dragging:false,lastX:NaN,lastY:NaN});_this19.props.onStop(t,n);if(s){if(kr.move==="touchmove"){Sa(s.ownerDocument,kr.move,_this19.onTouchDrag);}else{Sa(s.ownerDocument,kr.move,_this19.onMouseDrag);}Sa(s.ownerDocument,kr.stop,_this19.handleDragStop);}};_this19.onMouseDown=function(t){_this19.preventDefault(t);kr=fn.mouse;_this19.props.onMouseDown(t);if(t.button&&typeof t.button==="number"&&t.button!==0){return false;}return _this19.handleDragStart(t);};_this19.onMouseDrag=function(t){_this19.preventDefault(t);return _this19.handleDrag(t);};_this19.onMouseUp=function(t){_this19.preventDefault(t);kr=fn.mouse;return _this19.handleDragStop(t);};_this19.onTouchStart=function(t){_this19.preventDefault(t);kr=fn.touch;var e=_this19.getTouchFromEvent(t);return _this19.handleDragStart(e);};_this19.onTouchDrag=function(t){_this19.preventDefault(t);kr=fn.touch;var e=_this19.getTouchFromEvent(t);return _this19.handleDrag(e);};_this19.onTouchEnd=function(t){_this19.preventDefault(t);kr=fn.touch;var e=_this19.getTouchFromEvent(t);return _this19.handleDragStop(e);};return _this19;}_createClass(Vl,[{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.findDOMNode();if(t){var e=t.ownerDocument;Sa(e,fn.mouse.move,this.onMouseDrag);Sa(e,fn.touch.move,this.onTouchDrag);Sa(e,fn.mouse.stop,this.handleDragStop);Sa(e,fn.touch.stop,this.handleDragStop);}}},{key:"render",value:function render(){return Wb["default"].cloneElement(Wb["default"].Children.only(this.props.children),{style:_objectSpread({touchAction:"none"},this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd});}}]);return Vl;}(Wb["default"].Component);Vl.defaultProps=ES;Vl.displayName="DraggableCore";});var Ip,ftt,Gb,vB;var CB=d(function(){Ip=y(_("react"));FS();zb();DS();ftt=_objectSpread(_objectSpread({},ES),{},{axis:"both",bounds:false,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:false});Gb=/*#__PURE__*/function(_Ip$default$Component){_inherits(Gb,_Ip$default$Component);var _super7=_createSuper(Gb);function Gb(t){var _this20;_classCallCheck(this,Gb);_this20=_super7.call(this,t);_this20.onDragStart=function(t,e){var r=_this20.props.onStart(t,Nb(_assertThisInitialized(_this20),e));if(r===false){return false;}_this20.setState({dragging:true,dragged:true});};_this20.onDrag=function(t,e){var _this20$props=_this20.props,r=_this20$props.position,o=_this20$props.defaultPosition,n=_this20$props.onDrag,s=_this20$props.bounds;if(!_this20.state.dragging){return false;}var a=Nb(_assertThisInitialized(_this20),e);var l=Boolean(r);var c={x:l?a.x:o.x,y:l?a.y:o.y,slackX:0,slackY:0};if(s){var m=c.x,p=c.y;c.x+=_this20.state.slackX;c.y+=_this20.state.slackY;var _yB=yB(_assertThisInitialized(_this20),c.x,c.y),_yB2=_slicedToArray(_yB,2),h=_yB2[0],g=_yB2[1];c.x=h;c.y=g;c.slackX=_this20.state.slackX+(m-c.x);c.slackY=_this20.state.slackY+(p-c.y);a.x=c.x;a.y=c.y;a.deltaX=c.x-_this20.state.x;a.deltaY=c.y-_this20.state.y;}var u=n(t,a);if(u===false){return false;}_this20.setState(c);};_this20.onDragStop=function(t,e){if(!_this20.state.dragging){return false;}var r=_this20.props.onStop(t,Nb(_assertThisInitialized(_this20),e));if(r===false){return false;}var o={dragging:false,slackX:0,slackY:0,x:0,y:0};var n=Boolean(_this20.props.position);if(n){var _this20$props$positio=_this20.props.position,s=_this20$props$positio.x,a=_this20$props$positio.y;o.x=s;o.y=a;}_this20.setState(o);};_this20.findDOMNode=function(){var t=_this20.props.nodeRef;return(t==null?void 0:t.current)||null;};_this20.state={dragging:false,dragged:false,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0};return _this20;}_createClass(Gb,[{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=Boolean(this.props.position);if(e){if(this.props.updateOnPosition){if(t.position&&t.position.x!==this.props.position.x||t.position.y!==this.props.position.y){this.setState({x:this.props.position.x,y:this.props.position.y});}}else{if(t.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y){this.setState({x:this.props.position.x,y:this.props.position.y});}}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({dragging:false});}},{key:"render",value:function render(){var _this$props=this.props,t=_this$props.position,e=_this$props.defaultPosition,r=_this$props.rotation,o=_this$props.defaultClassName,n=_this$props.defaultClassNameDragging,s=_this$props.defaultClassNameDragged,a=_objectWithoutProperties(_this$props,_excluded);var _this$state=this.state,l=_this$state.x,c=_this$state.y,u=_this$state.dragging,m=_this$state.dragged;var p={};var h=Boolean(t);var g=!h||u;var x=t||e;var v={x:_B(this)&&g?l:x.x,y:xB(this)&&g?c:x.y,rotation:r};p=fB(v);var b=Ip["default"].Children.only(this.props.children);var T=[b.props.className||"",o,u?n:"",m?s:""].join(" ").trim();var k=Ip["default"].cloneElement(b,{className:T,style:_objectSpread(_objectSpread({},b.props.style),p)});return Ip["default"].createElement(Vl,_objectSpread(_objectSpread({},a),{},{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),k);}}]);return Gb;}(Ip["default"].Component);Gb.defaultProps=ftt;Gb.displayName="Draggable";vB=Gb;});var rd=Gt(function(L0t,kB){var TB="Expected a function";var SB=0/0;var gtt="[object Symbol]";var btt=/^\s+|\s+$/g;var ytt=/^[-+]0x[0-9a-f]+$/i;var _tt=/^0b[01]+$/i;var xtt=/^0o[0-7]+$/i;var vtt=parseInt;var Ctt=(typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global&&global.Object===Object&&global;var Stt=(typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self&&self.Object===Object&&self;var wtt=Ctt||Stt||Function("return this")();var Ttt=Object.prototype;var ktt=Ttt.toString;var Itt=Math.max;var Dtt=Math.min;var RS=function RS(){return wtt.Date.now();};function Ett(i,t,e){var r,o,n,s,a,l,c=0,u=false,m=false,p=true;if(typeof i!="function"){throw new TypeError(TB);}t=wB(t)||0;if(Vb(e)){u=!!e.leading;m="maxWait"in e;n=m?Itt(wB(e.maxWait)||0,t):n;p="trailing"in e?!!e.trailing:p;}function h(I){var F=r,Z=o;r=o=void 0;c=I;s=i.apply(Z,F);return s;}function g(I){c=I;a=setTimeout(b,t);return u?h(I):s;}function x(I){var F=I-l,Z=I-c,et=t-F;return m?Dtt(et,n-Z):et;}function v(I){var F=I-l,Z=I-c;return l===void 0||F>=t||F<0||m&&Z>=n;}function b(){var I=RS();if(v(I)){return T(I);}a=setTimeout(b,x(I));}function T(I){a=void 0;if(p&&r){return h(I);}r=o=void 0;return s;}function k(){if(a!==void 0){clearTimeout(a);}c=0;r=l=o=a=void 0;}function E(){return a===void 0?s:T(RS());}function A(){var I=RS(),F=v(I);r=arguments;o=this;l=I;if(F){if(a===void 0){return g(l);}if(m){a=setTimeout(b,t);return h(l);}}if(a===void 0){a=setTimeout(b,t);}return s;}A.cancel=k;A.flush=E;return A;}function Ftt(i,t,e){var r=true,o=true;if(typeof i!="function"){throw new TypeError(TB);}if(Vb(e)){r="leading"in e?!!e.leading:r;o="trailing"in e?!!e.trailing:o;}return Ett(i,t,{"leading":r,"maxWait":t,"trailing":o});}function Vb(i){var t=_typeof(i);return!!i&&(t=="object"||t=="function");}function Rtt(i){return!!i&&_typeof(i)=="object";}function Ott(i){return _typeof(i)=="symbol"||Rtt(i)&&ktt.call(i)==gtt;}function wB(i){if(typeof i=="number"){return i;}if(Ott(i)){return SB;}if(Vb(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=Vb(t)?t+"":t;}if(typeof i!="string"){return i===0?i:+i;}i=i.replace(btt,"");var e=_tt.test(i);return e||xtt.test(i)?vtt(i.slice(2),e?2:8):ytt.test(i)?SB:+i;}kB.exports=Ftt;});var od,jb,OS,zi,nd,$b,Kb;var jl=d(function(){od=y(_("styled-components"));tC();jb=od["default"].span(_templateObject24||(_templateObject24=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));OS=(0,od["default"])(jb)(_templateObject25||(_templateObject25=_taggedTemplateLiteral([""])));zi=(0,od["default"])(jb)(_templateObject26||(_templateObject26=_taggedTemplateLiteral([""])));nd=(0,od["default"])(jb)(_templateObject27||(_templateObject27=_taggedTemplateLiteral([""])));$b={display:"none",left:0,top:0};Kb=(0,od["default"])(jb)(_templateObject28||(_templateObject28=_taggedTemplateLiteral(["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"])),function(_ref17){var i=_ref17.display;return i;},function(_ref18){var i=_ref18.left;return i;},function(_ref19){var i=_ref19.top;return i;},Mg);});var sd,Xb,Fo,Att,yi;var wa=d(function(){sd=y(_("react"));Xb=y(_("styled-components"));Jr();jl();Fo=Xb.css(_templateObject29||(_templateObject29=_taggedTemplateLiteral(["\n  color: ",";\n  border-color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.theme.button.activeForeground;},function(i){return i.theme.button.activeForeground;},function(i){return i.theme.button.activeForeground;});Att=Xb["default"].button(_templateObject30||(_templateObject30=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n\n  div {\n    font-size: ","px;\n    letter-spacing: ","px;\n  }\n"])),function(i){return i.theme.shape.radiusMedium;},function(i){return i.theme.measurements.fontSystem.button1.size;},function(i){return i.theme.measurements.fontSystem.button1.letterSpacing;},function(i){return i.theme.measurements.fontSystem.button1["case"];},function(i){return i.theme.typography.fontFamily;},di,Fo,function(_ref20){var i=_ref20.isActive;return i&&Fo;},zi,function(i){return i.theme.button.outlinedInactiveOverlayColor;},nd,function(i){return i.theme.button.hoverOverlayColor;},function(i){return i.theme.measurements.fontSystem.button1.size;},function(i){return i.theme.measurements.fontSystem.button1.letterSpacing;});yi=/*#__PURE__*/function(_sd$default$Component){_inherits(yi,_sd$default$Component);var _super8=_createSuper(yi);function yi(){var _this21;_classCallCheck(this,yi);_this21=_super8.apply(this,arguments);_this21.state=$b;_this21.timeout=null;_this21.onClick=function(t){var e=t.currentTarget.getBoundingClientRect();var r=t.pageX-e.left;var o=t.pageY-e.top;if(_this21.state.display==="block"){_this21.setState({display:"none"},function(){_this21.setRippleState(r,o);});}else{_this21.setRippleState(r,o);}_this21.props.onClick(t);};_this21.setRippleState=function(t,e){_this21.setState({left:t,top:e,display:"block"});_this21.timeout=setTimeout(function(){_this21.setState({display:"none"});},1200);};return _this21;}_createClass(yi,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeout);}},{key:"render",value:function render(){var _this$props2=this.props,t=_this$props2.isActive,e=_this$props2.isDisabled,r=_this$props2.label,o=_this$props2.ariaLabel,n=_this$props2.children,s=_this$props2.className,a=_objectWithoutProperties(_this$props2,_excluded2);var _this$state2=this.state,l=_this$state2.left,c=_this$state2.top,u=_this$state2.display;return sd["default"].createElement(Att,_objectSpread(_objectSpread({"data-test":o,className:s,isActive:t,disabled:e,"aria-label":o},a),{},{onClick:this.onClick}),r,n,sd["default"].createElement(Kb,{display:u,left:l,top:c}),sd["default"].createElement(zi,null),sd["default"].createElement(nd,null));}}]);return yi;}(sd["default"].Component);yi.defaultProps={type:"button",isDisabled:false,isActive:false};});var IB,Dp,Btt,Ptt,Ui;var Ta=d(function(){IB=y(_("react"));Dp=y(_("styled-components"));Jr();Btt=Dp["default"].label(_templateObject31||(_templateObject31=_taggedTemplateLiteral(["\n  ","\n"])),Zu);Ptt=Dp["default"].label(_templateObject32||(_templateObject32=_taggedTemplateLiteral(["\n  display: block;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  margin: 0;\n  padding-bottom: 8px;\n\n  ","\n"])),function(i){return i.theme.measurements.fontSystem.label.size;},function(i){return i.theme.measurements.fontSystem.label.letterSpacing;},function(i){return i.theme.measurements.fontSystem.label["case"];},function(i){return i.theme.toolControlBar.inputLabelForeground;},function(_ref21){var i=_ref21.isDisabled;return i&&Dp.css(_templateObject33||(_templateObject33=_taggedTemplateLiteral(["\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    "])),function(t){return t.theme.toolControlBar.inputLabelInactiveOpacity;});});Ui=function Ui(_ref22){var i=_ref22.id,t=_ref22["data-test"],e=_ref22.label,r=_ref22.htmlFor,o=_ref22.show,n=_ref22.style,s=_ref22.isDisabled,a=_ref22.className;var l=o?Ptt:Btt;var c=r||(e?e.replace(" ","-"):void 0);return IB["default"].createElement(l,{id:i,"data-test":t,style:n,isDisabled:s,htmlFor:c,className:a},e);};Ui.defaultProps={show:true};});var Zr,FB,Qr,Mtt,Ltt,DB,ztt,Utt,Ntt,Htt,EB,AS,RB;var OB=d(function(){Zr=y(_("react"));FB=y(rd());Qr=y(_("styled-components"));U();wa();Ta();Mtt=Qr["default"].div(_templateObject34||(_templateObject34=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"])));Ltt=(0,Qr["default"])(Ui)(_templateObject35||(_templateObject35=_taggedTemplateLiteral(["\n  align-self: flex-start;\n"])));DB=(0,Qr["default"])(yi)(_templateObject36||(_templateObject36=_taggedTemplateLiteral(["\n  color: ",";\n  padding: 1px 7px 2px;\n"])),function(i){return i.theme.button.textSecondaryForeground;});ztt=Qr["default"].div(_templateObject37||(_templateObject37=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"])),function(i){return i.theme.measurements.advancedUIToolControlBar.width-48;});Utt=Qr["default"].article(_templateObject38||(_templateObject38=_taggedTemplateLiteral(["\n  /* 0.6 of width here refers to the width of the container without padding */\n  width: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 7px;\n  display: inline-block;\n  color: ",";\n"])),function(i){return .6*i.theme.measurements.advancedUIToolControlBar.width;},function(i){return i.theme.measurements.fontSystem.body.size;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body["case"];},function(i){return i.theme.toolControlBar.inputLabelForeground;});Ntt=Qr["default"].div(_templateObject39||(_templateObject39=_taggedTemplateLiteral(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"])),function(i){return .6*i.theme.measurements.advancedUIToolControlBar.width;});Htt=Qr["default"].span(_templateObject40||(_templateObject40=_taggedTemplateLiteral(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"])),function(i){return Math.round(i.length*.6*i.theme.measurements.advancedUIToolControlBar.width);},function(i){return i.activeIndex*.6*i.theme.measurements.advancedUIToolControlBar.width;},function(i){return i.theme.typography.fontFamily;});EB=Qr["default"].div(_templateObject41||(_templateObject41=_taggedTemplateLiteral(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"])),function(i){return i.theme.card.foreground;},function(_ref23){var i=_ref23.direction;return i==="left"?Qr.css(_templateObject42||(_templateObject42=_taggedTemplateLiteral(["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "]))):Qr.css(_templateObject43||(_templateObject43=_taggedTemplateLiteral(["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "])));});AS=/*#__PURE__*/function(_Zr$default$PureCompo){_inherits(AS,_Zr$default$PureCompo);var _super9=_createSuper(AS);function AS(t){var _this22;_classCallCheck(this,AS);_this22=_super9.call(this,t);_this22.updateIndex=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=t+(e?-1:1);var o=_this22.props.list.length-1;if(r>o){r=0;}if(r<0){r=o;}_this22.props.onSelect(_this22.props.list[r].identifier);};_this22.getActiveIndex=function(t){var e=_this22.props.list;var r=e.findIndex(function(o){return o.identifier===t;});return r!==-1?r:0;};_this22.throttledUpdateIndex=(0,FB["default"])(_this22.updateIndex,600);return _this22;}_createClass(AS,[{key:"render",value:function render(){var _this23=this;var _this$props3=this.props,t=_this$props3.list,e=_this$props3.label,_this$props3$showLabe=_this$props3.showLabel,r=_this$props3$showLabe===void 0?true:_this$props3$showLabe;var o=this.getActiveIndex(this.props.defaultIdentifier);var n=t.length<=1;return Zr["default"].createElement(Mtt,{"data-test":N.CarouselSlider},Zr["default"].createElement(Ltt,{show:r,label:e}),Zr["default"].createElement(ztt,{id:"photoeditorsdk-".concat(e.replace(" ","-"))},Zr["default"].createElement(DB,{ariaLabel:"Select Previous",isDisabled:n,onClick:function onClick(){return _this23.throttledUpdateIndex(o,true);}},Zr["default"].createElement(EB,{direction:"left"})),Zr["default"].createElement(Ntt,null,Zr["default"].createElement(Htt,{activeIndex:o,length:t.length},t.map(function(s){return Zr["default"].createElement(Utt,{key:s.identifier},s.value);}))),Zr["default"].createElement(DB,{ariaLabel:"Select Next",isDisabled:n,onClick:function onClick(){return _this23.throttledUpdateIndex(o);}},Zr["default"].createElement(EB,{direction:"right"}))));}}]);return AS;}(Zr["default"].PureComponent);AS.defaultProps={showLabel:true};RB=AS;});var AB,Wtt,qb;var BS=d(function(){AB=y(_("styled-components"));Wtt=AB["default"].div(_templateObject44||(_templateObject44=_taggedTemplateLiteral(["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"])),function(i){return i.theme.measurements.inputs.checkbox.maxWidth;});qb=Wtt;});var Ep,Gtt,Fp;var PS=d(function(){Ep=y(_("styled-components"));Jr();Gtt=Ep["default"].div(_templateObject45||(_templateObject45=_taggedTemplateLiteral(["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"])),function(i){return i.theme.checkbox.background;},function(i){return i.theme.shape.radiusSmall;},di,function(i){return i.theme.checkbox.hoverOpacity;},function(i){return i.isChecked&&Ep.css(_templateObject46||(_templateObject46=_taggedTemplateLiteral(["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "])),i.theme.checkbox.activeBackground,i.theme.checkbox.activeForeground,i.theme.checkbox.foreground,i.theme.checkbox.activeBackground);},function(i){return i.isDisabled&&Ep.css(_templateObject47||(_templateObject47=_taggedTemplateLiteral(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "])));});Fp=Gtt;});var BB,Vtt,Yb;var MS=d(function(){BB=y(_("styled-components"));Jr();Vtt=BB["default"].input.attrs({type:"checkbox",tabIndex:0})(_templateObject48||(_templateObject48=_taggedTemplateLiteral(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"])),di);Yb=Vtt;});var ad,PB,MB;var LB=d(function(){ad=y(_("react"));U();Ta();BS();PS();MS();PB=function PB(_ref24){var i=_ref24.label,t=_ref24.value,e=_ref24.checkMarkPosition,r=_ref24.onClick,o=_ref24.isDisabled,n=_ref24.className,s=_ref24.style;var a="photoeditorsdk-".concat(i.replace(" ","-"));return ad["default"].createElement(qb,{"data-test":N.Checkbox,className:n,style:s},e==="left"&&ad["default"].createElement(Fp,{onClick:r,isDisabled:o,isChecked:t}),ad["default"].createElement(Ui,{isDisabled:o,label:i,htmlFor:a}),ad["default"].createElement(Yb,{id:a,disabled:o,checked:t,"aria-checked":t,onChange:r}),e==="right"&&ad["default"].createElement(Fp,{onClick:r,isDisabled:o,isChecked:t}));};MB=PB;PB.defaultProps={value:false,checkMarkPosition:"left"};});var zB,Jb;var LS=d(function(){zB=y(_("styled-components"));Jb=zB["default"].div(_templateObject49||(_templateObject49=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"])),function(i){return i.theme.dropdown.caretColor;},function(i){return i.rotation||0;});});var Zb,UB,NB;var HB=d(function(){Zb=y(_("styled-components"));UB=Zb.css(_templateObject50||(_templateObject50=_taggedTemplateLiteral(["\n  opacity: ",";\n  pointer-events: none;\n"])),function(i){return i.theme.dropdown.inactiveOpacity;});NB=Zb["default"].div(_templateObject51||(_templateObject51=_taggedTemplateLiteral(["\n  display: block;\n  position: relative;\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"])),UB,function(_ref25){var i=_ref25.isDisabled;return i&&UB;});});var Qb,WB;var GB=d(function(){Qb=y(_("styled-components"));Jr();WB=Qb["default"].li(_templateObject52||(_templateObject52=_taggedTemplateLiteral(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"])),function(i){return i.theme.measurements.fontSystem.button2.size;},function(i){return i.theme.measurements.fontSystem.button2.letterSpacing;},function(i){return i.theme.measurements.fontSystem.button2["case"];},function(i){return i.theme.dropdown.foreground;},function(i){return i.theme.dropdown.listItemHoverBackground;},function(_ref26){var i=_ref26.isActive;return i&&Qb.css(_templateObject53||(_templateObject53=_taggedTemplateLiteral(["\n      border-left: 2px solid ",";\n    "])),function(t){return t.theme.primary;});},di);});var zS,gn,jtt,$tt,Ro;var VB=d(function(){zS=y(_("react"));gn=y(_("styled-components"));U();jtt=gn["default"].div(_templateObject54||(_templateObject54=_taggedTemplateLiteral(["\n  display: flex;\n  ",";\n"])),function(i){if(ve()||wr()){return gn.css(_templateObject55||(_templateObject55=_taggedTemplateLiteral(["\n        overflow: hidden;\n      "])));}if(i.direction==="vertical"){return gn.css(_templateObject56||(_templateObject56=_taggedTemplateLiteral(["\n        flex-direction: column;\n        flex: 1 1 auto;\n        overflow-y: auto;\n        overflow-x: hidden;\n      "])));}return gn.css(_templateObject57||(_templateObject57=_taggedTemplateLiteral(["\n      overflow-y: hidden;\n      overflow-x: auto;\n    "])));});$tt=gn["default"].ul.attrs(function(){return{role:"menubar","aria-label":"Tool Navigation"};})(_templateObject58||(_templateObject58=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: ",";\n\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  ","\n"])),function(i){return i.direction==="vertical"?"column":"row";},function(i){if(ve()||wr()){return gn.css(_templateObject59||(_templateObject59=_taggedTemplateLiteral(["\n        ","\n\n        scrollbar-face-color: ",";\n        scrollbar-track-color: ",";\n        scrollbar-base-color: ",";\n        scrollbar-3dlight-color: ",";\n        scrollbar-highlight-color: ",";\n        scrollbar-arrow-color: ",";\n        scrollbar-shadow-color: ",";\n        scrollbar-dark-shadow-color: ",";\n      "])),function(){if(i.direction==="vertical"){return gn.css(_templateObject60||(_templateObject60=_taggedTemplateLiteral(["\n              width: 100%;\n              overflow-y: auto;\n              overflow-x: hidden;\n\n              /* hidde the arrows */\n              margin-top: -10px;\n              margin-bottom: -10px;\n              padding-top: 10px;\n              padding-bottom: 10px;\n\n              /* hide the scrollbar */\n              padding-right: 10px;\n              margin-right: -10px;\n            "])));}return gn.css(_templateObject61||(_templateObject61=_taggedTemplateLiteral(["\n            height: 100%;\n            overflow-y: hidden;\n            overflow-x: auto;\n\n            margin-right: -10px;\n            margin-left: -10px;\n            padding-right: 10px;\n            padding-left: 10px;\n\n            padding-bottom: 10px;\n            margin-bottom: -10px;\n          "])));},i.theme.scrollbar.handleColor,i.theme.toolbar.background,i.theme.toolbar.background,i.theme.scrollbar.handleColor,i.theme.scrollbar.handleColor,i.theme.toolbar.background,i.theme.scrollbar.handleColor,i.theme.scrollbar.handleColor);}return"";});Ro=function Ro(_ref27){var _ref27$direction=_ref27.direction,i=_ref27$direction===void 0?"horizontal":_ref27$direction,t=_ref27["data-test"],e=_ref27.className,r=_ref27.children,o=_objectWithoutProperties(_ref27,_excluded3);return zS["default"].createElement(jtt,_objectSpread(_objectSpread({},o),{},{direction:i,className:e}),zS["default"].createElement($tt,{direction:i,"data-test":t},r));};});var US=d(function(){VB();});var Rp,NS;var jB=d(function(){Rp=y(_("styled-components"));U();US();NS=(0,Rp["default"])(Ro)(_templateObject62||(_templateObject62=_taggedTemplateLiteral(["\n  position: absolute;\n\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n\n  visibility: hidden;\n  opacity: 0;\n  ","\n\n  transition: all 0.5s ease;\n\n  width: 100%;\n  max-height: 160px;\n  margin: 5px 0;\n\n  /* had to add these changes to get the dropdown working in IE11 */\n  ","\n\n  border-radius: 0 0 ","px\n    ","px;\n  z-index: ",";\n"])),function(i){return i.theme.dropdown.listBackground;},function(i){return i.theme.dropdown.listForeground;},function(i){return i.theme.dropdown.listBorderColor;},function(i){return i.theme.dropdown.listShadow;},function(i){if(i.isOpen){return Rp.css(_templateObject63||(_templateObject63=_taggedTemplateLiteral(["\n        visibility: visible;\n        opacity: 1;\n        display: flex;\n      "])));}return"";},function(){if(ve()){return Rp.css(_templateObject64||(_templateObject64=_taggedTemplateLiteral(["\n        > ul {\n          height: 160px;\n          margin-bottom: 0px;\n          margin-top: 0px;\n          padding-bottom: 0px;\n          padding-top: 0px;\n        }\n      "])));}return"";},function(i){return i.theme.shape.radiusMedium;},function(i){return i.theme.shape.radiusMedium;},function(i){return i.theme.measurements.zIndex.input.list;});NS.defaultProps={direction:"vertical"};});var $B,KB;var XB=d(function(){$B=y(_("styled-components"));Jr();KB=$B["default"].div(_templateObject65||(_templateObject65=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  transition: border-color 0.4s ease-in-out;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  ","\n"])),function(i){return i.theme.measurements.fontSystem.body.size;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body["case"];},function(i){return i.theme.dropdown.foreground;},function(i){return i.theme.dropdown.background;},function(i){return i.theme.dropdown.borderColor;},function(i){return i.showList?"pointer":"default";},function(i){return i.theme.dropdown.hoverBorderColor;},di);});var bn,qB,Ktt,HS;var YB=d(function(){bn=y(_("react"));qB=y(_("styled-components"));U();LS();HB();GB();jB();XB();Ta();Ktt=qB["default"].div(_templateObject66||(_templateObject66=_taggedTemplateLiteral([""])));HS=/*#__PURE__*/function(_bn$default$PureCompo){_inherits(HS,_bn$default$PureCompo);var _super10=_createSuper(HS);function HS(t){var _this24;_classCallCheck(this,HS);_this24=_super10.call(this,t);_this24.state={isOpen:false};_this24.dropdownId="";_this24.dropdownLabelId="";_this24.handleOutsideClick=function(t){if(_this24.node&&_this24.node.contains(t.target)){return;}_this24.setState({isOpen:false});};_this24.onSelect=function(t){var e=_this24.props.onSelect;e(t);_this24.setState({isOpen:false});};_this24.handleKeyDownItem=function(t){return function(e){if(e.nativeEvent.code==="Space"||e.nativeEvent.code==="Enter"){_this24.onSelect(t);}};};_this24.onClick=function(){_this24.setState(function(t){return{isOpen:!t.isOpen};});};_this24.listItem=function(t){var _this24$props=_this24.props,e=_this24$props.itemStyle,r=_this24$props.selectedItem;var o=_this24.state.isOpen;var n=t.value,s=t.label;var a={};if(typeof e==="function"){a=e(t);}else if(e!==null&&_typeof(e)==="object"){a=e;}return bn["default"].createElement(WB,{role:"option","aria-hidden":!o,tabIndex:0,style:a,onClick:function onClick(){return _this24.onSelect(n);},key:n,isActive:r===n,onKeyDown:_this24.handleKeyDownItem(n)},s);};_this24.onKeyDown=function(t){if(t.nativeEvent.code==="Space"||t.nativeEvent.code==="Enter"){_this24.onClick();}};_this24.nodeRef=function(e){_this24.node=e;};_this24.dropdownId=At().slice(0,8);_this24.dropdownLabelId="".concat(_this24.dropdownId,"-label");return _this24;}_createClass(HS,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,false);}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,false);}},{key:"render",value:function render(){var _this$props4=this.props,t=_this$props4.selectedItem,e=_this$props4.list,r=_this$props4.label,o=_this$props4.style,n=_this$props4.isDisabled;var s=this.state.isOpen;var a=e.length>1;return bn["default"].createElement(Ktt,null,bn["default"].createElement(Ui,{id:this.dropdownLabelId,isDisabled:n,style:{paddingLeft:"0px"},label:r}),bn["default"].createElement("div",{ref:this.nodeRef},bn["default"].createElement(NB,{isOpen:s,isDisabled:n},bn["default"].createElement(KB,{role:"combobox","aria-controls":this.dropdownId,"aria-expanded":s,"aria-labelledby":this.dropdownLabelId,"data-test":N.Dropdown,"aria-hidden":n,showList:a,style:o,onClick:a?this.onClick:void 0,onKeyDown:this.onKeyDown,tabIndex:n?-1:0},t,a&&bn["default"].createElement(Jb,{rotation:s?180:0})),bn["default"].createElement(NS,{id:this.dropdownId,role:"listbox",tabIndex:-1,"aria-labelledby":this.dropdownLabelId,"data-test":N.DropdownList,isOpen:s},a&&e.map(this.listItem)))));}}]);return HS;}(bn["default"].PureComponent);});var JB,ZB;var QB=d(function(){JB=y(_("styled-components"));ZB=JB["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*"})(_templateObject67||(_templateObject67=_taggedTemplateLiteral(["\n  display: none;\n"])));});var t5,Xtt,e5;var i5=d(function(){t5=y(_("react"));Xtt=function Xtt(_ref28){var i=_ref28.children;var t=function t(e){e.preventDefault();};return t5["default"].createElement("form",{onSubmit:t},i);};e5=Xtt;});var r5,$l;var ty=d(function(){r5=_("styled-components");$l=r5.css(_templateObject68||(_templateObject68=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  height: 100%;\n  width: 100%;\n  min-height: 26px;\n  color: ",";\n  padding: 0;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    margin: 0;\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"])),function(i){return i.theme.measurements.fontSystem.body.size;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body["case"];},function(i){return i.theme.textInput.foreground;},function(i){return i.theme.textInput.borderColor;},function(i){return i.theme.textInput.background;},function(i){return i.theme.typography.fontFamily;},function(i){return i.theme.textInput.hoverBorderColor;},function(i){return i.theme.textInput.hoverBorderColor;},function(i){return i.theme.textInput.inactiveOpacity;},function(i){return i.theme.textInput.hoverBorderColor;});});var ey,GS,qtt,Ytt,WS,iy;var VS=d(function(){ey=y(_("react"));GS=y(_("styled-components"));ty();qtt=GS["default"].div(_templateObject69||(_templateObject69=_taggedTemplateLiteral(["\n  ","\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: unset;\n\n  &:focus-within {\n    border-color: ",";\n  }\n"])),$l,function(i){return i.theme.textInput.hoverBorderColor;});Ytt=GS["default"].input(_templateObject70||(_templateObject70=_taggedTemplateLiteral(["\n  ","\n  border-bottom: none;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"])),$l,function(i){return i.theme.textInput.inactiveOpacity;});WS=/*#__PURE__*/function(_ey$default$Component){_inherits(WS,_ey$default$Component);var _super11=_createSuper(WS);function WS(){var _this25;_classCallCheck(this,WS);_this25=_super11.apply(this,arguments);_this25.onChange=function(t){var e=_this25.props.onChange;if(e){e(t.target.value);}};return _this25;}_createClass(WS,[{key:"render",value:function render(){var _this$props5=this.props,t=_this$props5["aria-label"],e=_this$props5["aria-labeledby"],r=_this$props5.id,o=_this$props5.testId,n=_this$props5.value,s=_this$props5.type,a=_this$props5.min,l=_this$props5.max,c=_this$props5.onBlur,u=_this$props5.onFocus,m=_this$props5.onKeyUp,p=_this$props5.onKeyDown,h=_this$props5.onMouseUp,g=_this$props5.onTouchEnd,x=_this$props5.isDisabled,v=_this$props5.className,b=_this$props5.children;return ey["default"].createElement(qtt,{className:v},ey["default"].createElement(Ytt,{"aria-label":t,"aria-labelledby":e,id:r,"data-test":o,"aria-hidden":x,disabled:x,value:n,type:s,min:a,max:l,onChange:this.onChange,onBlur:c,onFocus:u,onKeyUp:m,onKeyDown:p,onMouseUp:h,onTouchEnd:g}),b);}}]);return WS;}(ey["default"].Component);WS.defaultProps={type:"text"};iy=WS;});var ld,Ap,Jtt,_Op,jS,ry;var $S=d(function(){ld=y(_("react"));Ap=y(_("styled-components"));U();Ta();VS();Jtt=Ap["default"].div(_templateObject71||(_templateObject71=_taggedTemplateLiteral(["\n  ","\n"])),ve()?Ap.css(_templateObject72||(_templateObject72=_taggedTemplateLiteral([""]))):Ap.css(_templateObject73||(_templateObject73=_taggedTemplateLiteral(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "]))));_Op=/*#__PURE__*/function(_ld$default$Component){_inherits(Op,_ld$default$Component);var _super12=_createSuper(Op);function Op(t){var _this26;_classCallCheck(this,Op);_this26=_super12.call(this,t);_this26.node=null;_this26.handleOutsideClick=function(t){if(_this26.node&&_this26.node.current&&_this26.node.current.contains(t.target)){return;}_this26.onSubmit();};_this26.onSubmit=function(){var t=_this26.props.onSubmit;var _this26$state=_this26.state,e=_this26$state.value,r=_this26$state.isActive;if(t){var o=parseFloat(_Op.cleanValue(e));if(!Number.isNaN(o)&&r){t("".concat(o));}}_this26.setState({isActive:false});};_this26.onBlur=function(){_this26.onSubmit();};_this26.onFocus=function(){_this26.setState({isActive:true});};_this26.onKeyDown=function(t){var e=_this26.state.value;if(t.key==="Enter"){_this26.onSubmit();}else if(t.key==="ArrowUp"){var r=parseFloat(_Op.cleanValue(e));if(typeof r==="number"){_this26.setState({value:(r+1).toString(),isActive:true});}}else if(t.key==="ArrowDown"){var _r2=parseFloat(_Op.cleanValue(e));if(typeof _r2==="number"){_this26.setState({value:(_r2-1).toString(),isActive:true});}}};_this26.onChange=function(t){_this26.setState({value:t.replace(/[^\d.,-]/g,""),isActive:true});};_this26.state={value:_this26.props.value||"",isActive:false};_this26.node=ld["default"].createRef();return _this26;}_createClass(Op,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,false);document.addEventListener("touchstart",this.handleOutsideClick,false);}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,false);document.removeEventListener("touchstart",this.handleOutsideClick,false);}},{key:"render",value:function render(){var _this$props6=this.props,t=_this$props6.id,e=_this$props6.label,r=_this$props6["aria-label"],o=_this$props6.isDisabled,n=_this$props6.showLabel,s=_this$props6.ariaHidden,a=_this$props6.onMouseUp,l=_this$props6.onTouchEnd,c=_this$props6.className,u=_this$props6.style;var m=this.state.value;return ld["default"].createElement(Jtt,{ref:this.node,"data-test":N.NummericInput,className:c,style:u},e&&n&&ld["default"].createElement(Ui,{htmlFor:t,label:e,show:!!e,isDisabled:o}),ld["default"].createElement(iy,{id:t,value:m,isDisabled:o,"aria-hidden":s,"aria-label":!e?r:void 0,"aria-labelledby":e?t:void 0,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus,onMouseUp:a,onTouchEnd:l}));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref29,_ref30){var t=_ref29.value;var e=_ref30.value,r=_ref30.isActive;if(t!==e&&!r){return{value:t};}return null;}},{key:"cleanValue",value:function cleanValue(t){return t?t.replace(",",".").replace(/[a-zA-Z]/g,"").trim():"";}}]);return Op;}(ld["default"].Component);jS=_Op;jS.defaultProps={showLabel:true};ry=jS;});var Bp,o5,Ztt,n5;var s5=d(function(){Bp=y(_("react"));o5=y(_("styled-components"));ty();Ztt=o5["default"].input.attrs({type:"search"})(_templateObject74||(_templateObject74=_taggedTemplateLiteral(["\n  ","\n"])),$l);n5=(0,Bp.forwardRef)(function(_ref31,s){var i=_ref31.value,t=_ref31.onChange,e=_ref31.onKeyDown,r=_ref31.placeholder,o=_ref31.className,n=_ref31.style;var a=function a(l){if(t)t(l.target.value);};return Bp["default"].createElement("div",{className:o,style:n},Bp["default"].createElement(Ztt,{ref:s,value:i,onChange:a,onKeyDown:e,placeholder:r,autoComplete:"off"}));});});var oy,Pp,Qtt,a5,tet,l5;var c5=d(function(){oy=y(_("react"));Pp=y(_("styled-components"));Ta();Qtt=Pp["default"].div(_templateObject75||(_templateObject75=_taggedTemplateLiteral([""])));a5=function a5(_ref32){var i=_ref32.label,t=_ref32.children,e=_ref32.inline,r=_ref32.showLabel,o=_ref32.isDisabled,n=_ref32["data-test"];var s="photoeditorsdk-".concat(i.replace(" ","-"),"-label");return oy["default"].createElement(Qtt,{"data-test":n},oy["default"].createElement(Ui,{id:s,isDisabled:o,label:i,show:r}),oy["default"].createElement(tet,{"aria-labelledby":s,inline:!!e},t));};tet=Pp["default"].div(_templateObject76||(_templateObject76=_taggedTemplateLiteral(["\n  display: inline-flex;\n  ","\n"])),function(i){return!i.inline&&Pp.css(_templateObject77||(_templateObject77=_taggedTemplateLiteral(["\n        flex-wrap: wrap;\n      "])))||"";});a5.defaultProps={showLabel:true};l5=a5;});var u5,ny;var d5=d(function(){u5=y(_("styled-components"));ny=u5["default"].div(_templateObject78||(_templateObject78=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  /* needed for IE11 to properly calculate the width */\n  min-width: 1px;\n"])));});var KS=d(function(){d5();});var m5,sy;var p5=d(function(){m5=y(_("styled-components"));sy=m5["default"].div(_templateObject79||(_templateObject79=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n  width: ",";\n"])),function(i){return i.centerSlider?-56:0;},function(i){return i.centerSlider?"calc(100% + 56px)":"100%";});});var XS=d(function(){p5();});var ay,h5,eet,ly;var f5=d(function(){ay=y(_("react"));h5=y(_("styled-components"));$S();eet=(0,h5["default"])(ry)(_templateObject80||(_templateObject80=_taggedTemplateLiteral(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"])));ly=function ly(_ref33){var i=_ref33.id,t=_ref33["aria-label"],e=_ref33.value,r=_ref33.min,o=_ref33.max,n=_ref33.divider,s=_ref33.suffix,a=_ref33.decimal,l=_ref33.isDisabled,c=_ref33["aria-hidden"],u=_ref33.onChange,m=_ref33.onMouseUp,p=_ref33.onTouchEnd,h=_ref33.className,g=_ref33.style;var x="".concat(i,"-input");var v="".concat((e*n).toFixed(a)).concat(s);var b=(0,ay.useCallback)(function(T){var k=T.replace(s,"");if(k){var E=parseFloat(k)/n;var A=Math.max(r,Math.min(o,E));if(!Number.isNaN(A)){u(A);if(m){m(A);}else if(p){p(A);}}}},[r,o,s,u,m,p]);return ay["default"].createElement(eet,{className:h,style:g,"aria-label":t,id:x,value:v,isDisabled:l,"aria-hidden":c,onSubmit:b});};});var qS=d(function(){f5();});var g5,cy;var b5=d(function(){g5=y(_("styled-components"));Ta();cy=(0,g5["default"])(Ui)(_templateObject81||(_templateObject81=_taggedTemplateLiteral(["\n  padding-bottom: 2px;\n"])));});var YS=d(function(){b5();});var ka,ps,JS,iet,ret,uy;var y5=d(function(){ka=y(_("react"));ps=y(_("styled-components"));Sr();U();Jr();JS=ps.css(_templateObject82||(_templateObject82=_taggedTemplateLiteral(["\n  ","\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),wr()||ve()?ps.css(_templateObject83||(_templateObject83=_taggedTemplateLiteral(["\n        width: 16px;\n        height: 16px;\n      "]))):ps.css(_templateObject84||(_templateObject84=_taggedTemplateLiteral(["\n        width: 20px;\n        height: 20px;\n      "]))),function(i){return i.theme.slider.thumbBackground;},function(i){return i.theme.slider.thumbBorderColor;});iet=function iet(i){var t=(i.value-i.min)*100/(i.max-i.min);if(i.adjust){if(i.value>0){t=i.value*(i.max/2)*100;return"".concat(i.theme.slider.trackColor," 0%,\n      ").concat(i.theme.slider.trackColor," 50%,\n      ").concat(i.theme.slider.activeTrackColor," 50%,\n      ").concat(i.theme.slider.activeTrackColor," ").concat(50+t,"%,\n      ").concat(i.theme.slider.trackColor," ").concat(50+t,"%,\n      ").concat(i.theme.slider.trackColor," 100%\n      ");}if(i.value<0){t=i.value*(i.min/2)*100;return"".concat(i.theme.slider.trackColor," 0%,\n      ").concat(i.theme.slider.trackColor," ").concat(50-t,"%,\n      ").concat(i.theme.slider.activeTrackColor," ").concat(50-t,"%,\n      ").concat(i.theme.slider.activeTrackColor," 50%,\n      ").concat(i.theme.slider.trackColor," 50%,\n      ").concat(i.theme.slider.trackColor," 100%\n      ");}return"".concat(i.theme.slider.trackColor," 0%,\n    ").concat(i.theme.slider.trackColor," 100%");}return"".concat(i.theme.slider.activeTrackColor," 0%,\n    ").concat(i.theme.slider.activeTrackColor," ").concat(t,"%,\n    ").concat(i.theme.slider.trackColor," ").concat(t,"%,\n    ").concat(i.theme.slider.trackColor," 100%");};ret=ps["default"].input.attrs(function(i){return{style:!wr()&&!ve()?{background:"linear-gradient(to right, ".concat(iet(i),")")}:{}};})(_templateObject85||(_templateObject85=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  width: 100%;\n  max-width: ",";\n  outline: none;\n  border-radius: 0; /* iOS */\n\n  padding: 0;\n  margin: 0;\n  border: none;\n\n  ","\n\n  ","\n\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 2px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n"])),function(i){return i.showInput?"calc(100% - 50px)":"100%";},di,function(i){if(wr()||ve()){return ps.css(_templateObject86||(_templateObject86=_taggedTemplateLiteral(["\n        margin-top: 10px;\n        height: 20px;\n        /* remove once we have a better concept for focus in all browser */\n        &:focus {\n          box-shadow: none;\n        }\n      "])));}if(i.smallContainer){return ps.css(_templateObject87||(_templateObject87=_taggedTemplateLiteral(["\n        height: 4px;\n      "])));}return ps.css(_templateObject88||(_templateObject88=_taggedTemplateLiteral(["\n      height: 2px;\n    "])));},function(i){return i.theme.slider.inactiveOpacity;},function(i){return i.theme.slider.hoverOpacity;},JS,JS,JS,function(i){return"".concat(i.theme.slider.activeTrackColor);},function(i){return"".concat(i.theme.slider.trackColor);});uy=function uy(_ref34){var i=_ref34.id,t=_ref34.label,e=_ref34.value,r=_ref34.min,o=_ref34.max,n=_ref34.step,s=_ref34.adjust,a=_ref34.showInput,l=_ref34["aria-hidden"],c=_ref34.isDisabled,u=_ref34.onChange,m=_ref34.onMouseUp,p=_ref34.onTouchEnd,h=_ref34["data-test"],g=_ref34.className,x=_ref34.style;var _ref35=(0,ka.useContext)(Re),v=_ref35.rect;var b=(0,ka.useCallback)(function(E){var A=parseFloat(E.target.value);u(A);},[u]);var T=(0,ka.useCallback)(function(E){var A=E.target.value;var I=parseFloat(A);if(p){p(I);}},[p]);var k=(0,ka.useCallback)(function(E){var A=E.target.value;var I=parseFloat(A);if(m){m(I);}},[p]);return ka["default"].createElement(ret,{type:"range",role:"slider","aria-valuenow":e,"aria-valuemin":r,"aria-valuemax":o,"aria-label":t,"data-test":h,id:i,name:t,tabIndex:0,value:e,min:r,max:o,step:n,style:x,className:g,adjust:s,showInput:a,disabled:c,smallContainer:!!v&&v.width<600,"aria-hidden":l,onChange:b,onKeyUp:b,onKeyDown:b,onMouseUp:k,onTouchEnd:T});};});var ZS=d(function(){y5();});var Ia,_5;var x5=d(function(){Ia=y(_("react"));U();KS();XS();qS();YS();ZS();_5=function _5(_ref36){var i=_ref36["data-test"],t=_ref36.label,e=_ref36.identifier,_ref36$showLabel=_ref36.showLabel,r=_ref36$showLabel===void 0?true:_ref36$showLabel,_ref36$showInput=_ref36.showInput,o=_ref36$showInput===void 0?true:_ref36$showInput,_ref36$centerSlider=_ref36.centerSlider,n=_ref36$centerSlider===void 0?false:_ref36$centerSlider,_ref36$min=_ref36.min,s=_ref36$min===void 0?-1:_ref36$min,_ref36$max=_ref36.max,a=_ref36$max===void 0?1:_ref36$max,_ref36$value=_ref36.value,l=_ref36$value===void 0?0:_ref36$value,_ref36$step=_ref36.step,c=_ref36$step===void 0?.01:_ref36$step,_ref36$decimal=_ref36.decimal,u=_ref36$decimal===void 0?0:_ref36$decimal,_ref36$divider=_ref36.divider,m=_ref36$divider===void 0?100:_ref36$divider,_ref36$suffix=_ref36.suffix,p=_ref36$suffix===void 0?"":_ref36$suffix,_ref36$adjust=_ref36.adjust,h=_ref36$adjust===void 0?false:_ref36$adjust,g=_ref36["aria-hidden"],x=_ref36.isDisabled,v=_ref36.onChange,b=_ref36.onMouseUp,T=_ref36.onTouchEnd,k=_ref36.style,E=_ref36.className;var _ref37=(0,Ia.useState)("photoeditorsdk-slider-".concat(At())),_ref38=_slicedToArray(_ref37,1),A=_ref38[0];return Ia["default"].createElement(ny,{className:E,"data-test":i||e||A,style:k},Ia["default"].createElement(cy,{isDisabled:x,label:t,show:r}),Ia["default"].createElement(sy,{centerSlider:o&&n},Ia["default"].createElement(uy,{id:A,label:t,value:l,min:s,max:a,step:c,adjust:h,showInput:o,isDisabled:x,"aria-hidden":g,onChange:v,onMouseUp:b,onTouchEnd:T}),o&&Ia["default"].createElement(ly,{id:A,"aria-label":t,value:l,min:s,max:a,divider:m,suffix:p,decimal:u,isDisabled:x,"aria-hidden":g,onChange:v,onMouseUp:b,onTouchEnd:T})));};});var v5=d(function(){x5();KS();XS();qS();ZS();YS();});var C5,Kl;var dy=d(function(){C5=y(_("styled-components"));wa();jl();Kl=(0,C5["default"])(yi)(_templateObject89||(_templateObject89=_taggedTemplateLiteral(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(i){return i.theme.button.textPrimaryForeground;},function(i){return i.theme.button.textPrimaryForeground;},function(_ref39){var i=_ref39.isActive;return i&&Fo;},zi,function(i){return i.theme.button.textInactiveOpacity;});});var S5,Oo;var my=d(function(){S5=y(_("styled-components"));wa();jl();Oo=(0,S5["default"])(yi)(_templateObject90||(_templateObject90=_taggedTemplateLiteral(["\n  color: ",";\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.theme.button.textSecondaryForeground;},function(_ref40){var i=_ref40.isActive;return i&&Fo;},zi,function(i){return i.theme.button.textInactiveOpacity;},function(i){return i.theme.button.textSecondaryForeground;});});var yn,QS;var w5=d(function(){yn=y(_("react"));U();dy();my();Tp();Rb();Ob();QS=/*#__PURE__*/function(_yn$default$Component){_inherits(QS,_yn$default$Component);var _super13=_createSuper(QS);function QS(){var _this27;_classCallCheck(this,QS);_this27=_super13.apply(this,arguments);_this27.onDismiss=function(){var _this27$props=_this27.props,t=_this27$props.handleClose,e=_this27$props.handleDismiss;if(t)t();if(e)e();};_this27.onConfirm=function(){var _this27$props2=_this27.props,t=_this27$props2.handleClose,e=_this27$props2.handleConfirm;if(t)t();if(e)e();};return _this27;}_createClass(QS,[{key:"render",value:function render(){var _this$props7=this.props,t=_this$props7.headerLabel,e=_this$props7.bodyLabel,r=_this$props7.confirmLabel,o=_this$props7.dismissLabel,n=_this$props7.type,s=_this$props7.children;var a=yn["default"].Children.toArray(s)[0];if(!yn["default"].isValidElement(a))throw new Error("Child is not a valid react element");return yn["default"].cloneElement(a,{handleConfirm:this.onConfirm,handleDismiss:this.onDismiss,header:yn["default"].createElement(td,null,t),body:yn["default"].createElement(ms,{"data-test":N.DialogBody},e),footer:yn["default"].createElement(Qu,{type:n},o&&yn["default"].createElement(Oo,{label:o,ariaLabel:o,onClick:this.onDismiss}),r&&yn["default"].createElement(Kl,{label:r,ariaLabel:r,onClick:this.onConfirm}))});return null;}}]);return QS;}(yn["default"].Component);});var Ao,Mp,oet,net,set,aet,t1;var T5=d(function(){Ao=y(_("react"));Mp=y(_("styled-components"));U();Tp();Ob();vS();oet=Mp["default"].div(_templateObject91||(_templateObject91=_taggedTemplateLiteral(["\n  display: flex;\n"])));net=(0,Mp["default"])(td)(_templateObject92||(_templateObject92=_taggedTemplateLiteral(["\n  padding: 0;\n"])));set=Mp["default"].div(_templateObject93||(_templateObject93=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n  @media all and (min-width: 640px) {\n    margin-left: 30px;\n  }\n"])));aet=(0,Mp["default"])(ms)(_templateObject94||(_templateObject94=_taggedTemplateLiteral(["\n  padding: 0;\n  margin: 0;\n"])));t1=/*#__PURE__*/function(_Ao$default$PureCompo){_inherits(t1,_Ao$default$PureCompo);var _super14=_createSuper(t1);function t1(){_classCallCheck(this,t1);return _super14.apply(this,arguments);}_createClass(t1,[{key:"render",value:function render(){var _this$props8=this.props,t=_this$props8.headerLabel,e=_this$props8.bodyLabel,r=_this$props8.children;var o=Ao["default"].Children.toArray(r)[0];if(!Ao["default"].isValidElement(o))throw new Error("Child is not a valid react element");return Ao["default"].cloneElement(o,{height:"90px",body:Ao["default"].createElement(ms,{"data-test":N.DialogBody},Ao["default"].createElement(oet,null,Ao["default"].createElement(Bb,null),Ao["default"].createElement(set,null,Ao["default"].createElement(net,null,t),Ao["default"].createElement(aet,null,e))))});return null;}}]);return t1;}(Ao["default"].PureComponent);});var Ir,cd,cet,uet,det,met,pet,e1,k5;var I5=d(function(){Ir=y(_("react"));cd=y(_("styled-components"));U();dy();my();Tp();Rb();ty();cet=cd["default"].form(_templateObject95||(_templateObject95=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"])));uet=cd["default"].textarea(_templateObject96||(_templateObject96=_taggedTemplateLiteral(["\n  display: flex;\n  caret-color: ",";\n  ","\n  min-height: 100%;\n  padding: 0px;\n  outline-offset: -8px;\n  color: ",";\n  resize: none;\n  font-family: '","', sans-serif;\n\n  &:selection,\n  &:-moz-selection {\n    background-color: ",";\n    color: ",";\n  }\n"])),function(i){return i.theme.primary;},$l,function(i){return i.theme.modal.bodyForeground;},function(i){return i.theme.typography.fontFamily;},function(i){return i.theme.primary;},function(i){return i.theme.foreground;});det=cd["default"].label(_templateObject97||(_templateObject97=_taggedTemplateLiteral(["\n  padding: 11px 20px 8px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),function(i){return i.theme.measurements.fontSystem.label.size;},function(i){return i.theme.measurements.fontSystem.label.letterSpacing;},function(i){return i.theme.measurements.fontSystem.label["case"];},function(i){return i.theme.modal.headerForeground;});met=(0,cd["default"])(ms)(_templateObject98||(_templateObject98=_taggedTemplateLiteral(["\n  height: 100%;\n"])));pet=(0,cd["default"])(Qu)(_templateObject99||(_templateObject99=_taggedTemplateLiteral(["\n  border-top: none;\n"])));e1=/*#__PURE__*/function(_Ir$default$Component){_inherits(e1,_Ir$default$Component);var _super15=_createSuper(e1);function e1(){var _this28;_classCallCheck(this,e1);_this28=_super15.apply(this,arguments);_this28.state={value:""};_this28.input=Ir["default"].createRef();_this28.handleKeydown=function(t){aA(_this28.handleDismiss)(t);};_this28.handleDismiss=function(){var t=_this28.props.handleDismiss;if(t)t(false);};_this28.handleConfirm=function(){var t=_this28.props.handleConfirm;var e=_this28.input.current.value;if(e){if(t)t(e);_this28.handleDismiss();}};_this28.onChange=function(t){var e=_this28.props.allowEmojis;var r=e?t.target.value:GF(t.target.value);_this28.input.current.value=r;_this28.setState({value:r});};_this28.onSubmit=function(t){t.preventDefault();};return _this28;}_createClass(e1,[{key:"componentDidMount",value:function componentDidMount(){var _this$props9=this.props,t=_this$props9.text,e=_this$props9.defaultText;this.input.current.focus();this.input.current.value=t||e||"";this.setState({value:this.input.current.value});document.addEventListener("keydown",this.handleKeydown,false);if(t===e){this.input.current.select();}}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=this.props.isVisible;if(t.isVisible!==e){if(e){this.input.current.focus();}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("keydown",this.handleKeydown,false);}},{key:"render",value:function render(){var _this$props10=this.props,t=_this$props10.headerLabel,e=_this$props10.dismissLabel,r=_this$props10.confirmLabel,o=_this$props10.maxLength,n=_this$props10.type,s=_this$props10.children;var a=this.state.value;var l=Ir["default"].Children.toArray(s)[0];if(!Ir["default"].isValidElement(l))throw new Error("Child is not a valid react element");return Ir["default"].cloneElement(l,{handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss,isConfirmDisabled:!a,height:"150px",header:Ir["default"].createElement(det,{htmlFor:"photoeditorsdk-TextInput"},t),body:Ir["default"].createElement(met,null,Ir["default"].createElement(cet,{onSubmit:this.onSubmit},Ir["default"].createElement(uet,{ref:this.input,id:"photoeditorsdk-TextInput",placeholder:"Write Something",autoFocus:true,onChange:this.onChange,maxLength:o}))),footer:Ir["default"].createElement(pet,{type:n},Ir["default"].createElement(Oo,{label:e,ariaLabel:e,onClick:this.handleDismiss}),Ir["default"].createElement(Kl,{label:r,ariaLabel:r,isDisabled:!a,onClick:this.handleConfirm}))});return null;}}]);return e1;}(Ir["default"].Component);e1.defaultProps={defaultText:"Write Something",allowEmojis:false};k5=e1;});var D5,i1;var E5=d(function(){D5=y(_("styled-components"));i1=D5["default"].div(_templateObject100||(_templateObject100=_taggedTemplateLiteral(["\n  padding-bottom: ","px;\n"])),function(i){return(i.count||1)*8;});i1.defaultProps={count:1};});var Xl,r1,py,hy;var F5=d(function(){Xl=y(_("react"));r1=/*#__PURE__*/function(_Xl$default$Component){_inherits(r1,_Xl$default$Component);var _super16=_createSuper(r1);function r1(){_classCallCheck(this,r1);return _super16.apply(this,arguments);}_createClass(r1,[{key:"getChildren",value:function getChildren(){var _this29=this;var t=[];var e=[];Xl["default"].Children.forEach(this.props.children,function(r){switch(r.type.componentName){case"case":if(_this29.props.type===r.props.value){t.push(r);}break;case"default":e.push(r);break;}});if(t.length>0){return t;}return e;}},{key:"render",value:function render(){var t=this.getChildren();return t.length===0?null:Xl["default"].createElement(Xl["default"].Fragment,null,t);}}]);return r1;}(Xl["default"].Component);py=/*#__PURE__*/function(_Xl$default$Component2){_inherits(py,_Xl$default$Component2);var _super17=_createSuper(py);function py(){_classCallCheck(this,py);return _super17.apply(this,arguments);}_createClass(py,[{key:"render",value:function render(){return this.props.children;}}]);return py;}(Xl["default"].Component);py.componentName="case";hy=/*#__PURE__*/function(_Xl$default$Component3){_inherits(hy,_Xl$default$Component3);var _super18=_createSuper(hy);function hy(){_classCallCheck(this,hy);return _super18.apply(this,arguments);}_createClass(hy,[{key:"render",value:function render(){return this.props.children;}}]);return hy;}(Xl["default"].Component);hy.componentName="default";});var ud,het,fet,R5;var O5=d(function(){ud=y(_("styled-components"));het=ud.keyframes(_templateObject101||(_templateObject101=_taggedTemplateLiteral(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"])));fet=ud["default"].div(_templateObject102||(_templateObject102=_taggedTemplateLiteral(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"])),function(i){return i.position.y;},function(i){return i.position.x;},function(i){return i.theme.shape.radiusMedium;},function(i){return i.theme.measurements.zIndex.toast;},function(_ref41){var i=_ref41.show;return i&&ud.css(_templateObject103||(_templateObject103=_taggedTemplateLiteral(["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "])),het);});R5=fet;});var dd,to,A5,get,B5,bet,P5,yet,Bo;var Lp=d(function(){dd=y(_("react"));to=y(_("styled-components"));Sr();wa();A5=to.css(_templateObject104||(_templateObject104=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n"])));get=(0,to["default"])(yi)(_templateObject105||(_templateObject105=_taggedTemplateLiteral(["\n  ","\n\n  ","\n  ","\n"])),function(_ref42){var i=_ref42.fullWidth;return i&&to.css(_templateObject106||(_templateObject106=_taggedTemplateLiteral(["\n      width: 100%;\n    "])));},function(_ref43){var i=_ref43.hasIcon,t=_ref43.smallContainer;return i&&t&&A5;},function(_ref44){var i=_ref44.hasIcon;return i&&to.css(_templateObject107||(_templateObject107=_taggedTemplateLiteral(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "])),A5);});B5=to.css(_templateObject108||(_templateObject108=_taggedTemplateLiteral(["\n  display: flex;\n"])));bet=to["default"].div(_templateObject109||(_templateObject109=_taggedTemplateLiteral(["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&B5;},B5);P5=to.css(_templateObject110||(_templateObject110=_taggedTemplateLiteral(["\n  display: none;\n"])));yet=to["default"].div(_templateObject111||(_templateObject111=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n  font-size: inherit;\n  text-spacing: inherit;\n  color: inherit;\n\n  ","\n\n  ","\n  ","\n"])),function(_ref45){var i=_ref45.isDisabled;return i&&to.css(_templateObject112||(_templateObject112=_taggedTemplateLiteral(["\n      opacity: ",";\n    "])),function(t){return t.theme.button.textInactiveOpacity;});},function(_ref46){var i=_ref46.hasIcon,t=_ref46.smallContainer;return i&&t&&P5;},function(_ref47){var i=_ref47.hasIcon;return i&&to.css(_templateObject113||(_templateObject113=_taggedTemplateLiteral(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "])),P5);});Bo=function Bo(_ref48){var i=_ref48.label,t=_ref48.children,e=_ref48.icon,r=_ref48.fullWidth,o=_ref48.isDisabled,n=_objectWithoutProperties(_ref48,_excluded4);var _ref49=(0,dd.useContext)(Re),s=_ref49.rect;var a=!!s&&s.width<600;var l=dd["default"].createElement(yet,{hasIcon:!!e,isDisabled:o,smallContainer:a},i,t);return dd["default"].createElement(get,_objectSpread({fullWidth:r,isDisabled:o,hasIcon:!!e,smallContainer:a},n),e&&dd["default"].createElement(bet,{smallContainer:a},e),(t||i)&&l);};});var M5,zp;var L5=d(function(){M5=y(_("styled-components"));Lp();zp=(0,M5["default"])(Bo)(_templateObject114||(_templateObject114=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  min-width: 32px;\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.theme.button.outlinedPrimaryBackground;},function(i){return i.theme.button.outlinedPrimaryForeground;},function(i){return i.theme.button.outlinedBorderColor;},function(i){return i.theme.button.outlinedPrimaryForeground;});});var z5,Da;var U5=d(function(){z5=y(_("styled-components"));wa();Lp();Da=(0,z5["default"])(Bo)(_templateObject115||(_templateObject115=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: ",";\n  }\n\n  ","\n"])),function(i){return i.theme.button.outlinedSecondaryBackground;},function(i){return i.theme.button.outlinedSecondaryForeground;},function(i){return i.theme.button.outlinedBorderColor;},function(i){return i.theme.button.outlinedSecondaryForeground;},function(_ref50){var i=_ref50.isActive;return i&&Fo;});});var o1,n1,_et,xet,hs;var N5=d(function(){o1=y(_("react"));n1=y(_("styled-components"));wa();jl();_et=(0,n1["default"])(yi)(_templateObject116||(_templateObject116=_taggedTemplateLiteral(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(i){return i.theme.foreground;},function(i){return i.theme.foreground;},function(_ref51){var i=_ref51.isActive;return i&&Fo;},zi,function(i){return i.theme.button.textInactiveOpacity;});xet=n1["default"].div(_templateObject117||(_templateObject117=_taggedTemplateLiteral(["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"])));hs=function hs(_ref52){var i=_ref52.label,t=_ref52.icon,e=_ref52.children,r=_objectWithoutProperties(_ref52,_excluded5);return o1["default"].createElement(_et,_objectSpread({},r),o1["default"].createElement(xet,null,t));};});var H5,Up;var W5=d(function(){H5=y(_("styled-components"));Lp();Up=(0,H5["default"])(Bo)(_templateObject118||(_templateObject118=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  &:active {\n    color: ",";\n  }\n\n  svg {\n    color: ",";\n\n    &:active {\n      color: ",";\n    }\n  }\n"])),function(i){return i.theme.button.containedPrimaryBackground;},function(i){return i.theme.button.containedPrimaryForeground;},function(i){return i.theme.button.containedPrimaryBackground;},function(i){return i.theme.button.containedPrimaryForeground;},function(i){return i.theme.button.containedPrimaryForeground;},function(i){return i.theme.button.containedPrimaryForeground;});});var ql,Np,vet,Cet,wet,Dr;var G5=d(function(){ql=y(_("react"));Np=y(_("styled-components"));eC();jl();Jr();vet=function vet(){return Np.css(_templateObject119||(_templateObject119=_taggedTemplateLiteral(["\n    animation: "," 0.2s linear;\n  "])),Lg);};Cet=Np.css(_templateObject120||(_templateObject120=_taggedTemplateLiteral(["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"])),function(i){return i.theme.card.activeBorderColor;},OS,function(i){return i.theme.card.activeOverlayColor;});wet=Np["default"].button.attrs(function(i){var t={};if(i.image){t.backgroundImage="url(".concat(i.image,")");}return _objectSpread({style:t},i.style);})(_templateObject121||(_templateObject121=_taggedTemplateLiteral(["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  /* basic ui text items use position absolute */\n  position: relative;\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"])),function(i){return i.theme.card.background;},function(i){return i.theme.card.foreground;},function(i){return i.theme.shape.radiusMedium;},vet,di,function(_ref53){var i=_ref53.isActive;return i&&Cet;},zi,function(i){return i.theme.card.inactiveOverlayColor;},nd,function(i){return i.theme.card.hoverOverlayColor;});Dr=/*#__PURE__*/function(_ql$default$Component){_inherits(Dr,_ql$default$Component);var _super19=_createSuper(Dr);function Dr(){var _this30;_classCallCheck(this,Dr);_this30=_super19.apply(this,arguments);_this30.state=$b;_this30.timeout=null;_this30.onKeyDown=function(t){if(t.key==="Space"||t.key==="Enter"){if(_this30.props.onClick){_this30.props.onClick();}}};_this30.onClick=function(t){var e=t.currentTarget.getBoundingClientRect();var r=t.pageX-e.left;var o=t.pageY-e.top;if(_this30.state.display==="block"){_this30.setState({display:"none"},function(){_this30.setRippleState(r,o);});}else{_this30.setRippleState(r,o);}_this30.props.onClick(t);};_this30.setRippleState=function(t,e){_this30.setState({left:t,top:e,display:"block"});_this30.timeout=setTimeout(function(){_this30.setState({display:"none"});},1200);};return _this30;}_createClass(Dr,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeout);}},{key:"render",value:function render(){var _this$props11=this.props,t=_this$props11.children,e=_this$props11.label,r=_this$props11.role,o=_this$props11["aria-label"],n=_this$props11["aria-expanded"],s=_this$props11.isActive,a=_this$props11.isDisabled,l=_this$props11.image,c=_this$props11.style,u=_this$props11.className;var _this$state3=this.state,m=_this$state3.left,p=_this$state3.top,h=_this$state3.display;return ql["default"].createElement(wet,{role:r,"aria-expanded":n,isActive:s,"aria-label":o,"data-test":e,disabled:a,image:l,onClick:this.onClick,onKeyDown:this.onKeyDown,style:c,className:u},t,ql["default"].createElement(Kb,{display:h,left:m,top:p}),ql["default"].createElement(OS,null),ql["default"].createElement(zi,null),ql["default"].createElement(nd,null));}}]);return Dr;}(ql["default"].Component);Dr.defaultProps={isActive:false};});var md,Er,Tet,ket,Iet,Det,Eet,Se;var V5=d(function(){md=y(_("react"));Er=y(_("styled-components"));U();Jr();Tet=Er["default"].div(_templateObject122||(_templateObject122=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 4px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  ","\n"])),function(i){return i.theme.measurements.fontSystem.label.size;},function(i){return i.theme.measurements.fontSystem.label.letterSpacing;},function(i){return i.theme.measurements.fontSystem.label["case"];},function(i){return i.withBackground?Er.css(_templateObject123||(_templateObject123=_taggedTemplateLiteral(["\n          color: ",";\n        "])),i.theme.card.labelForeground):Er.css(_templateObject124||(_templateObject124=_taggedTemplateLiteral(["\n          color: ",";\n        "])),i.theme.card.foreground);});ket=Er["default"].div(_templateObject125||(_templateObject125=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  cursor: pointer;\n"])),function(i){return i.theme.shape.radiusMedium;},function(i){return i.withBackground?Er.css(_templateObject126||(_templateObject126=_taggedTemplateLiteral(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "])),i.theme.card.labelForeground,i.theme.card.labelBackground):Er.css(_templateObject127||(_templateObject127=_taggedTemplateLiteral(["\n          color: ",";\n          height: 32px;\n        "])),i.theme.card.foreground);});Iet=Er["default"].div(_templateObject128||(_templateObject128=_taggedTemplateLiteral(["\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  ","\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"])),function(i){return i.theme.card.labelForeground;},function(i){return i.withBackground?Er.css(_templateObject129||(_templateObject129=_taggedTemplateLiteral(["\n          border-top-color: ",";\n        "])),i.theme.card.labelForeground):Er.css(_templateObject130||(_templateObject130=_taggedTemplateLiteral(["\n          border-top-color: ",";\n        "])),i.theme.card.foreground);},function(i){return i.rotation||0;});Det=Er["default"].span(_templateObject131||(_templateObject131=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n"])));Eet=Er["default"].div(_templateObject132||(_templateObject132=_taggedTemplateLiteral(["\n  ","\n"])),Zu);Se=function Se(_ref54){var i=_ref54.children,t=_ref54.className,e=_ref54.caret,r=_ref54.isActive,o=_ref54.style,n=_ref54.withBackground,s=_ref54.hidden;if(s){return md["default"].createElement(Eet,null,i);}var a=function a(){return md["default"].createElement(Det,null,md["default"].createElement(Iet,{"aria-hidden":true,rotation:r?180:0,withBackground:n}));};return md["default"].createElement(ket,{className:t,withBackground:n,style:o},md["default"].createElement(Tet,{"data-test":N.CardLabel,withBackground:n},i,e&&a()));};});var j5,Yl;var $5=d(function(){j5=y(_("styled-components"));U();Yl=j5["default"].div.attrs(function(i){return{"data-test":N.CardAvatar,style:{backgroundImage:"url(".concat(i.url,")")}};})(_templateObject133||(_templateObject133=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 28px;\n  width: 28px;\n  border-radius: 50%;\n"])));});var K5,s1,fy,a1;var X5=d(function(){K5=function K5(i){var t=[];t[0]=requestAnimationFrame(function(){t[1]=requestAnimationFrame(function(){i();});});return t;};s1=function s1(i){i.forEach(function(t){return cancelAnimationFrame(t);});};fy=function fy(i){return!Number.isNaN(parseFloat(i))&&Number.isFinite(i);};a1=function a1(i){return typeof i==="string"&&i.search("%")===i.length-1&&fy(i.substr(0,i.length-1));};});var Hp,l1,c1;var q5=d(function(){Hp=y(_("react"));X5();c1=(l1=/*#__PURE__*/function(_Hp$default$Component){_inherits(l1,_Hp$default$Component);var _super20=_createSuper(l1);function l1(i){var _this31;_classCallCheck(this,l1);_this31=_super20.call(this,i);_this31.contentRef=null;_this31.contentRef=Hp["default"].createRef();_this31.animationFrameIDs=[];var t="auto";var e="visible";if(fy(i.height)){t=i.height<0||i.height==="0"?0:i.height;e="hidden";}else if(a1(i.height)){t=i.height==="0%"?0:i.height;e="hidden";}var r=typeof window!=="undefined";if(r&&window.matchMedia){_this31.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion)").matches;}_this31.state={height:t,overflow:e,shouldUseTransitions:false};return _this31;}_createClass(l1,[{key:"componentDidMount",value:function componentDidMount(){var i=this.state.height;if(this.contentRef.current&&this.contentRef.current.style){this.hideContent(i);}}},{key:"componentDidUpdate",value:function componentDidUpdate(i,t){var _this32=this;var e=this.props.height;var _this$getTimings=this.getTimings(),r=_this$getTimings.duration,o=_this$getTimings.delay;if(this.contentRef.current&&e!==i.height){this.showContent(t.height);this.contentRef.current.style.overflow="hidden";var n=this.contentRef.current.offsetHeight;this.contentRef.current.style.overflow="";var s=r+o;var a=null;var l={height:null,overflow:"hidden"};var c=t.height==="auto";if(fy(e)){a=e<0||e==="0"?0:e;l.height=a;}else if(a1(e)){a=e==="0%"?0:e;l.height=a;}else{a=n;l.height="auto";l.overflow=null;}if(c){l.height=a;a=n;}this.setState({height:a,overflow:"hidden",shouldUseTransitions:!c});clearTimeout(this.timeoutID);clearTimeout(this.animationClassesTimeoutID);if(c){s1(this.animationFrameIDs);this.animationFrameIDs=K5(function(){_this32.setState({height:l.height,overflow:l.overflow,shouldUseTransitions:true});});this.animationClassesTimeoutID=setTimeout(function(){_this32.setState({shouldUseTransitions:false});_this32.hideContent(l.height);},s);}else{this.timeoutID=setTimeout(function(){_this32.setState({height:l.height,overflow:"visible",shouldUseTransitions:false});if(e!=="auto"){_this32.hideContent(a);}},s);}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){s1(this.animationFrameIDs);clearTimeout(this.timeoutID);clearTimeout(this.animationClassesTimeoutID);this.timeoutID=null;}},{key:"getTimings",value:function getTimings(){if(this.prefersReducedMotion){return{delay:0,duration:0};}var _this$props12=this.props,i=_this$props12.delay,t=_this$props12.duration;return{delay:i,duration:t};}},{key:"showContent",value:function showContent(i){if(i===0){this.contentRef.current.style.display="";}}},{key:"hideContent",value:function hideContent(i){if(i===0){this.contentRef.current.style.display="none";}}},{key:"render",value:function render(){var _this$props13=this.props,i=_this$props13.animateOpacity,t=_this$props13.children,e=_this$props13.className,r=_this$props13.easing;var _this$state4=this.state,o=_this$state4.height,n=_this$state4.overflow,s=_this$state4.shouldUseTransitions;var _this$getTimings2=this.getTimings(),a=_this$getTimings2.duration,l=_this$getTimings2.delay;var c={height:o,overflow:n};if(s){c.transition="height ".concat(a,"ms ").concat(r," ").concat(l,"ms");c.WebkitTransition=c.transition;}var u={};if(i){u.transition="opacity ".concat(a,"ms ").concat(r," ").concat(l,"ms");u.WebkitTransition=u.transition;if(o===0){u.opacity=0;}}return Hp["default"].createElement("div",{"aria-hidden":o===0,className:e,style:c},Hp["default"].createElement("div",{style:u,ref:this.contentRef},t));}}]);return l1;}(Hp["default"].Component),l1.defaultProps={animateOpacity:false,duration:250,delay:0,easing:"ease"},l1);});var Y5=d(function(){q5();});var gy,J5,P;var it=d(function(){eC();jA();QA();fS();Cp();gS();bS();oB();yS();_S();Tp();xS();Rb();Ob();vS();CB();FS();OB();LB();BS();PS();MS();YB();QB();i5();Ta();$S();s5();c5();v5();VS();w5();T5();I5();E5();Jr();F5();O5();jl();wa();Lp();L5();my();dy();U5();N5();W5();G5();V5();$5();US();Y5();gy={Focused:di,VisuallyHidden:Zu};J5={ripple:Mg,scale:QE,slide:Lg};P={Container:pS,ColorItem:ZA,ColorItemBase:wb,ColorItemBackground:Cb,ColorItemTiledBackground:Tb,ColorItemActiveOverlay:Sb,Dialog:rB,DialogBase:Db,DialogContainer:Eb,DialogBackdrop:kb,DialogHeader:td,DialogBody:ms,DialogFooter:Qu,DialogSpinner:Bb,TextEditModal:k5,ActionModal:QS,InfoModal:t1,Spacer:i1,Draggable:vB,DraggableCore:Vl,Toast:R5,Input:{Label:Ui,File:ZB,Search:n5,Slider:_5,SliderBase:ny,SliderContainer:sy,SliderInput:ly,SliderTrack:uy,SliderLabel:cy,CarouselSlider:RB,Selection:l5,Checkbox:MB,CheckboxBase:qb,CheckboxInput:Yb,CheckboxCheckMark:Fp,Dropdown:HS,Text:iy,NumericInput:ry,Form:e5},Switch:{Index:r1,Case:py,Default:hy}};});var Z5,by;var Q5=d(function(){Z5=y(_("styled-components"));it();by=(0,Z5["default"])(Bo)(_templateObject134||(_templateObject134=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),function(i){return i.theme.measurements.fontSystem.button2.size;},function(i){return i.theme.measurements.fontSystem.button2.letterSpacing;},function(i){return i.theme.measurements.fontSystem.button2["case"];},function(i){return i.theme.button.textSecondaryForeground;},zi,function(i){return i.theme.button.textInactiveOpacity;});});var u1,d1,Fet,Ret,tP;var eP=d(function(){u1=y(_("react"));d1=y(_("styled-components"));it();Fet=(0,d1["default"])(yi)(_templateObject135||(_templateObject135=_taggedTemplateLiteral(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  padding: 2px;\n"])),function(i){return i.theme.measurements.zIndex.button["float"];});Ret=d1["default"].div(_templateObject136||(_templateObject136=_taggedTemplateLiteral(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"])),function(i){return i.theme.webcam.floatButton;});tP=function tP(i){return u1["default"].createElement(Fet,_objectSpread({},i),u1["default"].createElement(Ret,null));};});var Jl,iP,_n,Wp;var rP=d(function(){Jl=y(_("styled-components"));it();iP=Jl["default"].div(_templateObject137||(_templateObject137=_taggedTemplateLiteral(["\n  display: inline-flex;\n"])));_n=(0,Jl["default"])(Bo)(_templateObject138||(_templateObject138=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  padding: 4px 10px;\n  position: relative;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"])),function(i){return i.theme.canvasActionBar.background;},function(i){return i.theme.canvasActionBar.foreground;},function(i){return i.theme.measurements.fontSystem.button2.size;},function(i){return i.theme.measurements.fontSystem.button2.letterSpacing;},function(i){return i.theme.measurements.fontSystem.button2["case"];});Wp=Jl["default"].div(_templateObject139||(_templateObject139=_taggedTemplateLiteral(["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid\n        ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),function(_ref55){var i=_ref55.show;return i?Jl.css(_templateObject140||(_templateObject140=_taggedTemplateLiteral(["\n          opacity: 1;\n        "]))):Jl.css(_templateObject141||(_templateObject141=_taggedTemplateLiteral(["\n          opacity: 0;\n        "])));},function(i){return i.theme.canvasActionBar.background;},function(i){return i.theme.canvasActionBar.foreground;},function(i){return i.theme.canvasActionBar.borderRadius?i.theme.canvasActionBar.borderRadius:i.theme.shape.radiusMedium;},function(i){return i.theme.measurements.zIndex.buttonGroup;},_n,function(i){return i.theme.canvasActionBar.separatorColor;});});var yy=d(function(){Q5();eP();rP();});function D(){return(0,oP.useContext)(tp);}var oP;var W=d(function(){oP=_("react");B();});var fs,Oet,nP;var sP=d(function(){fs=y(_("react"));Oet=function Oet(){return fs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},fs["default"].createElement("defs",null,fs["default"].createElement("path",{id:"photoeditorsdk-blacks-icon",d:"M23.9997 12C27.0697 12 30.14 13.1699 32.49 15.5098C37.17 20.1998 37.17 27.8002 32.49 32.4902C30.14 34.8301 27.0697 36 23.9997 36C20.93 35.9999 17.8604 34.8299 15.5105 32.4902C10.8305 27.8002 10.8305 20.1998 15.5105 15.5098C17.8604 13.1701 20.93 12.0001 23.9997 12ZM23.9997 20C22.9765 20.0001 21.9529 20.39 21.1697 21.1699C19.6099 22.7332 19.6099 25.2668 21.1697 26.8301C21.9529 27.61 22.9765 27.9999 23.9997 28C25.023 28 26.0465 27.61 26.8298 26.8301C28.3898 25.2667 28.3898 22.7333 26.8298 21.1699C26.0465 20.39 25.023 20 23.9997 20Z"})),fs["default"].createElement("g",{fill:"none",fillRule:"evenodd",clipRule:"evenodd",stroke:"none",strokeWidth:"1"},fs["default"].createElement("path",{d:"M0 0H48V48H0z"}),fs["default"].createElement("mask",{fill:"currentColor"},fs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-blacks-icon"})),fs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-blacks-icon"})));};nP=Oet;});var Ea,Aet,aP;var lP=d(function(){Ea=y(_("react"));Aet=function Aet(){return Ea["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Ea["default"].createElement("defs",null,Ea["default"].createElement("path",{id:"photoeditorsdk-brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),Ea["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ea["default"].createElement("mask",null,Ea["default"].createElement("use",{xlinkHref:"#photoeditorsdk-brightness-icon"})),Ea["default"].createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#photoeditorsdk-brightness-icon"})));};aP=Aet;});var gs,Bet,cP;var uP=d(function(){gs=y(_("react"));Bet=function Bet(){return gs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},gs["default"].createElement("defs",null,gs["default"].createElement("path",{id:"photoeditorsdk-clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),gs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},gs["default"].createElement("path",{d:"M0 0H48V48H0z"}),gs["default"].createElement("mask",{fill:"currentColor"},gs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-clarity-icon"})),gs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-clarity-icon"})));};cP=Bet;});var bs,Pet,dP;var mP=d(function(){bs=y(_("react"));Pet=function Pet(){return bs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},bs["default"].createElement("defs",null,bs["default"].createElement("path",{id:"photoeditorsdk-contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),bs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},bs["default"].createElement("path",{d:"M0 0H48V48H0z"}),bs["default"].createElement("mask",{fill:"currentColor"},bs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-contrast-icon"})),bs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-contrast-icon"})));};dP=Pet;});var ys,Met,pP;var hP=d(function(){ys=y(_("react"));Met=function Met(){return ys["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},ys["default"].createElement("defs",null,ys["default"].createElement("path",{id:"photoeditorsdk-exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),ys["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},ys["default"].createElement("path",{d:"M0 0H48V48H0z"}),ys["default"].createElement("mask",{fill:"currentColor"},ys["default"].createElement("use",{xlinkHref:"#photoeditorsdk-exposure-icon"})),ys["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#photoeditorsdk-exposure-icon"})));};pP=Met;});var _s,Let,fP;var gP=d(function(){_s=y(_("react"));Let=function Let(){return _s["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},_s["default"].createElement("defs",null,_s["default"].createElement("path",{id:"photoeditorsdk-gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),_s["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},_s["default"].createElement("path",{d:"M0 0H48V48H0z"}),_s["default"].createElement("mask",{fill:"#fff"},_s["default"].createElement("use",{xlinkHref:"#photoeditorsdk-gamma-icon"})),_s["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-gamma-icon"})));};fP=Let;});var xs,zet,bP;var yP=d(function(){xs=y(_("react"));zet=function zet(){return xs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},xs["default"].createElement("defs",null,xs["default"].createElement("path",{id:"photoeditorsdk-highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),xs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},xs["default"].createElement("path",{d:"M0 0H48V48H0z"}),xs["default"].createElement("mask",{fill:"currentColor"},xs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-highlights-icon"})),xs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-highlights-icon"})));};bP=zet;});var vs,Uet,_P;var xP=d(function(){vs=y(_("react"));Uet=function Uet(){return vs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},vs["default"].createElement("defs",null,vs["default"].createElement("path",{id:"photoeditorsdk-saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),vs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},vs["default"].createElement("path",{d:"M0 0H48V48H0z"}),vs["default"].createElement("mask",{fill:"currentColor"},vs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-saturation-icon"})),vs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-saturation-icon"})));};_P=Uet;});var Cs,Net,vP;var CP=d(function(){Cs=y(_("react"));Net=function Net(){return Cs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Cs["default"].createElement("defs",null,Cs["default"].createElement("path",{id:"photoeditorsdk-shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),Cs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Cs["default"].createElement("path",{d:"M0 0H48V48H0z"}),Cs["default"].createElement("mask",{fill:"currentColor"},Cs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-shadows-icon"})),Cs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shadows-icon"})));};vP=Net;});var Ss,Het,SP;var wP=d(function(){Ss=y(_("react"));Het=function Het(){return Ss["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},Ss["default"].createElement("defs",null,Ss["default"].createElement("path",{id:"photoeditorsdk-sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),Ss["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ss["default"].createElement("path",{d:"M0 0H48V48H0z"}),Ss["default"].createElement("mask",{fill:"currentColor"},Ss["default"].createElement("use",{xlinkHref:"#photoeditorsdk-sharpness-icon"})),Ss["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-sharpness-icon"})));};SP=Het;});var ws,Wet,TP;var kP=d(function(){ws=y(_("react"));Wet=function Wet(){return ws["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},ws["default"].createElement("defs",null,ws["default"].createElement("path",{id:"photoeditorsdk-temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),ws["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},ws["default"].createElement("path",{d:"M0 0H48V48H0z"}),ws["default"].createElement("mask",{fill:"currentColor"},ws["default"].createElement("use",{xlinkHref:"#photoeditorsdk-temperature-icon"})),ws["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-temperature-icon"})));};TP=Wet;});var Zl,Get,IP;var DP=d(function(){Zl=y(_("react"));Get=function Get(){return Zl["default"].createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zl["default"].createElement("defs",null,Zl["default"].createElement("mask",{id:"whites-mask",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"48",height:"48"},Zl["default"].createElement("path",{d:"M23.9996 20C25.0228 20 26.0463 20.39 26.8296 21.1699C28.3896 22.7333 28.3896 25.2667 26.8296 26.8301C26.0463 27.61 25.0228 28 23.9996 28C22.9764 27.9999 21.9527 27.61 21.1695 26.8301C19.6097 25.2668 19.6097 22.7332 21.1695 21.1699C21.9527 20.39 22.9764 20.0001 23.9996 20Z",fill:"white"}),Zl["default"].createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.9996 12C27.0695 12 30.1398 13.1699 32.4898 15.5098C37.1698 20.1998 37.1698 27.8002 32.4898 32.4902C30.1398 34.8301 27.0695 36 23.9996 36C20.9297 35.9999 17.8592 34.8301 15.5093 32.4902C10.8296 27.8003 10.8296 20.1997 15.5093 15.5098C17.8592 13.1699 20.9297 12.0001 23.9996 12ZM23.9996 14C21.4404 14.0001 18.8848 14.9722 16.9244 16.9219L16.9254 16.9229C13.0247 20.8321 13.0247 27.1679 16.9254 31.0771C18.8858 33.0271 21.4401 33.9999 23.9996 34C26.5588 34 29.1133 33.0268 31.0738 31.0771L31.4283 30.7041C34.9712 26.7746 34.8528 20.71 31.0738 16.9229C29.1134 14.9735 26.5586 14 23.9996 14Z",fill:"white"}))),Zl["default"].createElement("rect",{width:"48",height:"48",fill:"currentColor",mask:"url(#whites-mask)"}));};IP=Get;});var Fa,Vet,EP;var FP=d(function(){Fa=y(_("react"));Vet=function Vet(){return Fa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Fa["default"].createElement("defs",null,Fa["default"].createElement("path",{id:"photoeditorsdk-close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),Fa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Fa["default"].createElement("mask",{fill:"currentColor"},Fa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-close-icon"})),Fa["default"].createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-close-icon"})));};EP=Vet;});function jet(){return Ra["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Ra["default"].createElement("defs",null,Ra["default"].createElement("path",{id:"photoeditorsdk-export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),Ra["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ra["default"].createElement("mask",{fill:"#fff"},Ra["default"].createElement("use",{xlinkHref:"#photoeditorsdk-export-icon"})),Ra["default"].createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#photoeditorsdk-export-icon"})));}var Ra,RP;var OP=d(function(){Ra=y(_("react"));RP=jet;});var Oa,$et,AP;var BP=d(function(){Oa=y(_("react"));$et=function $et(){return Oa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},Oa["default"].createElement("defs",null,Oa["default"].createElement("path",{id:"photoeditorsdk-redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),Oa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Oa["default"].createElement("mask",{fill:"currentColor"},Oa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-redo-icon"})),Oa["default"].createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#photoeditorsdk-redo-icon"})));};AP=$et;});var Aa,Ket,PP;var MP=d(function(){Aa=y(_("react"));Ket=function Ket(){return Aa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},Aa["default"].createElement("defs",null,Aa["default"].createElement("path",{id:"photoeditorsdk-undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),Aa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Aa["default"].createElement("mask",{fill:"currentColor"},Aa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-undo-icon"})),Aa["default"].createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#photoeditorsdk-undo-icon"})));};PP=Ket;});function Xet(){return Ba["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},Ba["default"].createElement("defs",null,Ba["default"].createElement("path",{id:"photoeditorsdk-align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),Ba["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ba["default"].createElement("mask",{fill:"#fff"},Ba["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-center-icon"})),Ba["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-center-icon"})));}var Ba,LP;var zP=d(function(){Ba=y(_("react"));LP=Xet;});var Pa,qet,UP;var NP=d(function(){Pa=y(_("react"));qet=function qet(){return Pa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},Pa["default"].createElement("defs",null,Pa["default"].createElement("path",{id:"photoeditorsdk-align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),Pa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Pa["default"].createElement("mask",{fill:"#fff"},Pa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-left-icon"})),Pa["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-left-icon"})));};UP=qet;});function Yet(){return Ts["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},Ts["default"].createElement("defs",null,Ts["default"].createElement("path",{id:"photoeditorsdk-align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),Ts["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ts["default"].createElement("path",{d:"M0 0H48V48H0z"}),Ts["default"].createElement("mask",{fill:"#fff"},Ts["default"].createElement("use",{xlinkHref:"#photoeditorsdk-align-right-icon"})),Ts["default"].createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#photoeditorsdk-align-right-icon"})));}var Ts,HP;var WP=d(function(){Ts=y(_("react"));HP=Yet;});var _i,Jet,GP;var VP=d(function(){_i=y(_("react"));Jet=function Jet(){return _i["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},_i["default"].createElement("g",{fill:"none",fillRule:"evenodd"},_i["default"].createElement("g",null,_i["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},_i["default"].createElement("rect",{width:"48",height:"48"})),_i["default"].createElement("g",{transform:"translate(12 12)"},_i["default"].createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),_i["default"].createElement("g",{transform:"translate(2 13)",fill:"currentColor"},_i["default"].createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),_i["default"].createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),_i["default"].createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),_i["default"].createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},_i["default"].createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),_i["default"].createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},_i["default"].createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),_i["default"].createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))));};GP=Jet;});function Zet(){return Ma["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},Ma["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ma["default"].createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),Ma["default"].createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),Ma["default"].createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),Ma["default"].createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),Ma["default"].createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})));}var Ma,jP;var $P=d(function(){Ma=y(_("react"));jP=Zet;});var Po,Qet,KP;var XP=d(function(){Po=y(_("react"));Qet=function Qet(){return Po["default"].createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Po["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Po["default"].createElement("g",null,Po["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},Po["default"].createElement("rect",{width:"48",height:"48"})),Po["default"].createElement("g",{transform:"translate(16 14)",fill:"currentColor"},Po["default"].createElement("g",null,Po["default"].createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),Po["default"].createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),Po["default"].createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"}))))));};KP=Qet;});var eo,tit,qP;var YP=d(function(){eo=y(_("react"));tit=function tit(){return eo["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},eo["default"].createElement("g",{fill:"none",fillRule:"evenodd"},eo["default"].createElement("g",null,eo["default"].createElement("g",{fill:"#D8D8D8",opacity:"0"},eo["default"].createElement("rect",{width:"48",height:"48"})),eo["default"].createElement("g",{transform:"translate(12 12)"},eo["default"].createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),eo["default"].createElement("g",{transform:"translate(4 2)",fill:"currentColor"},eo["default"].createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),eo["default"].createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),eo["default"].createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",fillOpacity:"0.87"}))))));};qP=tit;});var Ql,eit,JP;var ZP=d(function(){Ql=y(_("react"));eit=function eit(){return Ql["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},Ql["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},Ql["default"].createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),Ql["default"].createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),Ql["default"].createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),Ql["default"].createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"})));};JP=eit;});var Fr,iit,QP;var tM=d(function(){Fr=y(_("react"));iit=function iit(){return Fr["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},Fr["default"].createElement("g",{fill:"none",fillRule:"evenodd"},Fr["default"].createElement("g",{transform:"translate(15 15)",fill:"currentColor"},Fr["default"].createElement("g",null,Fr["default"].createElement("polygon",{fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),Fr["default"].createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",fillOpacity:"0.87"}),Fr["default"].createElement("polygon",{fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),Fr["default"].createElement("circle",{fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),Fr["default"].createElement("rect",{fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),Fr["default"].createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},Fr["default"].createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),Fr["default"].createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z"}))))));};QP=iit;});var pd,rit,eM;var iM=d(function(){pd=y(_("react"));rit=function rit(){return pd["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},pd["default"].createElement("g",{fill:"none",fillRule:"evenodd"},pd["default"].createElement("g",{transform:"translate(15 15)",fill:"currentColor"},pd["default"].createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),pd["default"].createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",fillOpacity:"0.87"}))));};eM=rit;});var xn,oit,rM;var oM=d(function(){xn=y(_("react"));oit=function oit(){return xn["default"].createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},xn["default"].createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},xn["default"].createElement("g",null,xn["default"].createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},xn["default"].createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},xn["default"].createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),xn["default"].createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),xn["default"].createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),xn["default"].createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"})))));};rM=oit;});var hd,nit,nM;var sM=d(function(){hd=y(_("react"));nit=function nit(){return hd["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},hd["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},hd["default"].createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),hd["default"].createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),hd["default"].createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"})));};nM=nit;});var fd,sit,aM;var lM=d(function(){fd=y(_("react"));sit=function sit(){return fd["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},fd["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},fd["default"].createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),fd["default"].createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),fd["default"].createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})));};aM=sit;});function ait(){return La["default"].createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},La["default"].createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},La["default"].createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),La["default"].createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),La["default"].createElement("g",{fillOpacity:"0.2"},La["default"].createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),La["default"].createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))));}var La,cM;var uM=d(function(){La=y(_("react"));cM=ait;});var za,lit,dM;var mM=d(function(){za=y(_("react"));lit=function lit(){return za["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},za["default"].createElement("defs",null,za["default"].createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),za["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},za["default"].createElement("mask",{fill:"currentColor"},za["default"].createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),za["default"].createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"})));};dM=lit;});var m1,cit,pM;var hM=d(function(){m1=y(_("react"));cit=function cit(){return m1["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},m1["default"].createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"}));};pM=cit;});var p1,uit,fM;var gM=d(function(){p1=y(_("react"));uit=function uit(){return p1["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},p1["default"].createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}));};fM=uit;});function dit(){return Ua["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Ua["default"].createElement("defs",null,Ua["default"].createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),Ua["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ua["default"].createElement("mask",{fill:"currentColor"},Ua["default"].createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),Ua["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})));}var Ua,bM;var yM=d(function(){Ua=y(_("react"));bM=dit;});var Na,mit,_M;var xM=d(function(){Na=y(_("react"));mit=function mit(){return Na["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Na["default"].createElement("defs",null,Na["default"].createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),Na["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Na["default"].createElement("mask",{fill:"currentColor"},Na["default"].createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),Na["default"].createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"})));};_M=mit;});var ks,pit,vM;var CM=d(function(){ks=y(_("react"));pit=function pit(){return ks["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},ks["default"].createElement("defs",null,ks["default"].createElement("path",{id:"photoeditorsdk-bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),ks["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},ks["default"].createElement("path",{d:"M0 0H24V24H0z"}),ks["default"].createElement("mask",{fill:"currentColor"},ks["default"].createElement("use",{xlinkHref:"#photoeditorsdk-bring-to-front-icon"})),ks["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-bring-to-front-icon"})));};vM=pit;});var Je,hit,SM;var wM=d(function(){Je=y(_("react"));hit=function hit(_ref56){var _ref56$highlight=_ref56.highlight,i=_ref56$highlight===void 0?"currentColor":_ref56$highlight,_ref56$width=_ref56.width,t=_ref56$width===void 0?48:_ref56$width,_ref56$height=_ref56.height,e=_ref56$height===void 0?48:_ref56$height;return Je["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 48 48"},Je["default"].createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Je["default"].createElement("g",{fill:i,transform:"translate(13 13)"},Je["default"].createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),Je["default"].createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),Je["default"].createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),Je["default"].createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),Je["default"].createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),Je["default"].createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),Je["default"].createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),Je["default"].createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),Je["default"].createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),Je["default"].createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),Je["default"].createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),Je["default"].createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),Je["default"].createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),Je["default"].createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),Je["default"].createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),Je["default"].createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))));};SM=hit;});var _y,fit,TM;var kM=d(function(){_y=y(_("react"));fit=function fit(_ref57){var _ref57$highlight=_ref57.highlight,i=_ref57$highlight===void 0?"currentColor":_ref57$highlight,_ref57$width=_ref57.width,t=_ref57$width===void 0?48:_ref57$width,_ref57$height=_ref57.height,e=_ref57$height===void 0?48:_ref57$height;return _y["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 48 48"},_y["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},_y["default"].createElement("path",{fill:i,d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})));};TM=fit;});var tc,git,IM;var DM=d(function(){tc=y(_("react"));git=function git(_ref58){var _ref58$highlight=_ref58.highlight,i=_ref58$highlight===void 0?"currentColor":_ref58$highlight,_ref58$width=_ref58.width,t=_ref58$width===void 0?48:_ref58$width,_ref58$height=_ref58.height,e=_ref58$height===void 0?48:_ref58$height;return tc["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 48 48"},tc["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},tc["default"].createElement("g",{fill:i,transform:"translate(13 13)"},tc["default"].createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),tc["default"].createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),tc["default"].createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))));};IM=git;});var xy,bit,EM;var FM=d(function(){xy=y(_("react"));bit=function bit(_ref59){var _ref59$highlight=_ref59.highlight,i=_ref59$highlight===void 0?"currentColor":_ref59$highlight,_ref59$width=_ref59.width,t=_ref59$width===void 0?48:_ref59$width,_ref59$height=_ref59.height,e=_ref59$height===void 0?48:_ref59$height;return xy["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 48 48"},xy["default"].createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},xy["default"].createElement("path",{fill:i,d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})));};EM=bit;});var RM,yit,Ni;var Ha=d(function(){RM=y(_("styled-components"));yit=RM["default"].svg.attrs({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(_templateObject142||(_templateObject142=_taggedTemplateLiteral([""])));Ni=yit;});var oe,_it,OM;var AM=d(function(){oe=y(_("react"));Ha();_it=function _it(_ref60){var _ref60$highlight=_ref60.highlight,i=_ref60$highlight===void 0?"#565656":_ref60$highlight,_ref60$width=_ref60.width,t=_ref60$width===void 0?32:_ref60$width,_ref60$height=_ref60.height,e=_ref60$height===void 0?32:_ref60$height;return oe["default"].createElement(Ni,{width:t,height:e,viewBox:"0 0 32 32"},oe["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},oe["default"].createElement("g",{fill:i,transform:"translate(-8 -8)"},oe["default"].createElement("g",{transform:"translate(8 8)"},oe["default"].createElement("g",null,oe["default"].createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),oe["default"].createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),oe["default"].createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),oe["default"].createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),oe["default"].createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),oe["default"].createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),oe["default"].createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),oe["default"].createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),oe["default"].createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),oe["default"].createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),oe["default"].createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),oe["default"].createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),oe["default"].createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),oe["default"].createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),oe["default"].createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),oe["default"].createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),oe["default"].createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),oe["default"].createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),oe["default"].createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),oe["default"].createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),oe["default"].createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),oe["default"].createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),oe["default"].createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),oe["default"].createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))));};OM=_it;});var Gp,xit,BM;var PM=d(function(){Gp=y(_("react"));Ha();xit=function xit(_ref61){var _ref61$highlight=_ref61.highlight,i=_ref61$highlight===void 0?"#565656":_ref61$highlight,_ref61$width=_ref61.width,t=_ref61$width===void 0?32:_ref61$width,_ref61$height=_ref61.height,e=_ref61$height===void 0?48:_ref61$height;return Gp["default"].createElement(Ni,{width:t,height:e,viewBox:"0 0 42 32"},Gp["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Gp["default"].createElement("g",{fill:i,transform:"translate(-3 -8)"},Gp["default"].createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))));};BM=xit;});var Vp,vit,MM;var LM=d(function(){Vp=y(_("react"));Ha();vit=function vit(_ref62){var _ref62$highlight=_ref62.highlight,i=_ref62$highlight===void 0?"#565656":_ref62$highlight,_ref62$width=_ref62.width,t=_ref62$width===void 0?26:_ref62$width,_ref62$height=_ref62.height,e=_ref62$height===void 0?46:_ref62$height;return Vp["default"].createElement(Ni,{width:t,height:e,viewBox:"0 0 26 46"},Vp["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Vp["default"].createElement("g",{fill:i,transform:"translate(-11 -1)"},Vp["default"].createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))));};MM=vit;});var jp,Cit,zM;var UM=d(function(){jp=y(_("react"));Ha();Cit=function Cit(_ref63){var _ref63$highlight=_ref63.highlight,i=_ref63$highlight===void 0?"#565656":_ref63$highlight,_ref63$width=_ref63.width,t=_ref63$width===void 0?26:_ref63$width,_ref63$height=_ref63.height,e=_ref63$height===void 0?46:_ref63$height;return jp["default"].createElement(Ni,{width:t,height:e,viewBox:"0 0 26 46"},jp["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},jp["default"].createElement("g",{fill:i,transform:"translate(-11 -1)"},jp["default"].createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))));};zM=Cit;});var vn,Sit,NM;var HM=d(function(){vn=y(_("react"));Ha();Sit=function Sit(_ref64){var _ref64$highlight=_ref64.highlight,i=_ref64$highlight===void 0?"#565656":_ref64$highlight,_ref64$mask=_ref64.mask,t=_ref64$mask===void 0?"#fff":_ref64$mask,_ref64$width=_ref64.width,e=_ref64$width===void 0?32:_ref64$width,_ref64$height=_ref64.height,r=_ref64$height===void 0?32:_ref64$height;return vn["default"].createElement(Ni,{width:e,height:r,viewBox:"0 0 32 32"},vn["default"].createElement("defs",null,vn["default"].createElement("rect",{id:"photoeditorsdk-square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),vn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},vn["default"].createElement("g",{transform:"translate(-8 -8)"},vn["default"].createElement("g",{transform:"translate(7.08 7.293)"},vn["default"].createElement("mask",{fill:t},vn["default"].createElement("use",{xlinkHref:"#photoeditorsdk-square-icon"})),vn["default"].createElement("use",{fill:i,xlinkHref:"#photoeditorsdk-square-icon"})))));};NM=Sit;});var $p,wit,WM;var GM=d(function(){$p=y(_("react"));Ha();wit=function wit(_ref65){var _ref65$highlight=_ref65.highlight,i=_ref65$highlight===void 0?"#565656":_ref65$highlight,_ref65$width=_ref65.width,t=_ref65$width===void 0?32:_ref65$width,_ref65$height=_ref65.height,e=_ref65$height===void 0?42:_ref65$height;return $p["default"].createElement(Ni,{width:t,height:e,viewBox:"0 0 32 42"},$p["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},$p["default"].createElement("g",{fill:i,transform:"translate(-8 -3)"},$p["default"].createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))));};WM=wit;});var Cn,Tit,VM;var jM=d(function(){Cn=y(_("react"));Tit=function Tit(_ref66){var _ref66$main=_ref66.main,i=_ref66$main===void 0?"#424242":_ref66$main,_ref66$highlight=_ref66.highlight,t=_ref66$highlight===void 0?"#565656":_ref66$highlight,_ref66$width=_ref66.width,e=_ref66$width===void 0?"48px":_ref66$width,_ref66$height=_ref66.height,r=_ref66$height===void 0?"48px":_ref66$height;return Cn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Cn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Cn["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),Cn["default"].createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:t,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),Cn["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),Cn["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),Cn["default"].createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),Cn["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),Cn["default"].createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})));};VM=Tit;});var Sn,kit,$M;var KM=d(function(){Sn=y(_("react"));kit=function kit(_ref67){var _ref67$main=_ref67.main,i=_ref67$main===void 0?"#424242":_ref67$main,_ref67$highlight=_ref67.highlight,t=_ref67$highlight===void 0?"#565656":_ref67$highlight,_ref67$width=_ref67.width,e=_ref67$width===void 0?"48px":_ref67$width,_ref67$height=_ref67.height,r=_ref67$height===void 0?"48px":_ref67$height;return Sn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Sn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Sn["default"].createElement("g",null,Sn["default"].createElement("path",{fill:i,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),Sn["default"].createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:i,rx:"1"}),Sn["default"].createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:i,rx:"1"}),Sn["default"].createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:i,rx:"1"}),Sn["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:t,rx:"1"}),Sn["default"].createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:i,rx:"1"}))));};$M=kit;});var wn,Iit,XM;var qM=d(function(){wn=y(_("react"));Iit=function Iit(_ref68){var _ref68$main=_ref68.main,i=_ref68$main===void 0?"#424242":_ref68$main,_ref68$highlight=_ref68.highlight,t=_ref68$highlight===void 0?"#565656":_ref68$highlight,_ref68$width=_ref68.width,e=_ref68$width===void 0?"48px":_ref68$width,_ref68$height=_ref68.height,r=_ref68$height===void 0?"48px":_ref68$height;return wn["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},wn["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},wn["default"].createElement("g",{transform:"translate(5 5)"},wn["default"].createElement("path",{fill:t,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),wn["default"].createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:i,rx:"1"}),wn["default"].createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:i,rx:"1"}),wn["default"].createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:i,rx:"1"}),wn["default"].createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:i,rx:"1"}),wn["default"].createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:i,rx:"1"}))));};XM=Iit;});var Is,Dit,YM;var JM=d(function(){Is=y(_("react"));Dit=function Dit(_ref69){var _ref69$main=_ref69.main,i=_ref69$main===void 0?"#424242":_ref69$main,_ref69$highlight=_ref69.highlight,t=_ref69$highlight===void 0?"#565656":_ref69$highlight,_ref69$width=_ref69.width,e=_ref69$width===void 0?"48px":_ref69$width,_ref69$height=_ref69.height,r=_ref69$height===void 0?"48px":_ref69$height;return Is["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Is["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Is["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:i,rx:"1"}),Is["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),Is["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),Is["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),Is["default"].createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:i,rx:"1"}),Is["default"].createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:t,rx:"1"})));};YM=Dit;});var Ds,Eit,ZM;var QM=d(function(){Ds=y(_("react"));Eit=function Eit(_ref70){var _ref70$main=_ref70.main,i=_ref70$main===void 0?"#424242":_ref70$main,_ref70$highlight=_ref70.highlight,t=_ref70$highlight===void 0?"#565656":_ref70$highlight,_ref70$width=_ref70.width,e=_ref70$width===void 0?"48px":_ref70$width,_ref70$height=_ref70.height,r=_ref70$height===void 0?"48px":_ref70$height;return Ds["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Ds["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ds["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:i,rx:"1"}),Ds["default"].createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:t,rx:"1"}),Ds["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),Ds["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),Ds["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),Ds["default"].createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:i,rx:"1"})));};ZM=Eit;});var Es,Fit,tL;var eL=d(function(){Es=y(_("react"));Fit=function Fit(_ref71){var _ref71$main=_ref71.main,i=_ref71$main===void 0?"#424242":_ref71$main,_ref71$highlight=_ref71.highlight,t=_ref71$highlight===void 0?"#565656":_ref71$highlight,_ref71$width=_ref71.width,e=_ref71$width===void 0?"48px":_ref71$width,_ref71$height=_ref71.height,r=_ref71$height===void 0?"48px":_ref71$height;return Es["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Es["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Es["default"].createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:i,rx:"1"}),Es["default"].createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:t,rx:"1"}),Es["default"].createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),Es["default"].createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),Es["default"].createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),Es["default"].createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:i,rx:"1"})));};tL=Fit;});var Kp,Rit,iL;var rL=d(function(){Kp=y(_("react"));Rit=function Rit(_ref72){var _ref72$main=_ref72.main,i=_ref72$main===void 0?"#424242":_ref72$main,_ref72$highlight=_ref72.highlight,t=_ref72$highlight===void 0?"#565656":_ref72$highlight,_ref72$width=_ref72.width,e=_ref72$width===void 0?"48px":_ref72$width,_ref72$height=_ref72.height,r=_ref72$height===void 0?"48px":_ref72$height;return Kp["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Kp["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Kp["default"].createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:t,rx:"1.5"}),Kp["default"].createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:i,rx:"1"})));};iL=Rit;});var Hi,Oit,oL;var nL=d(function(){Hi=y(_("react"));Oit=function Oit(_ref73){var _ref73$main=_ref73.main,i=_ref73$main===void 0?"#424242":_ref73$main,_ref73$highlight=_ref73.highlight,t=_ref73$highlight===void 0?"#565656":_ref73$highlight,_ref73$shadow=_ref73.shadow,e=_ref73$shadow===void 0?"#333333":_ref73$shadow,_ref73$width=_ref73.width,r=_ref73$width===void 0?"48px":_ref73$width,_ref73$height=_ref73.height,o=_ref73$height===void 0?"48px":_ref73$height;return Hi["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:o,viewBox:"0 0 48 48"},Hi["default"].createElement("defs",null,Hi["default"].createElement("filter",{id:"photoeditorsdk-twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},Hi["default"].createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:"1"}))),Hi["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Hi["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:t,rx:"0.5"}),Hi["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),Hi["default"].createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:e,filter:"url(#photoeditorsdk-twitter-post-icon)",rx:"1"}),Hi["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})));};oL=Oit;});var Mo,Ait,sL;var aL=d(function(){Mo=y(_("react"));Ait=function Ait(_ref74){var _ref74$main=_ref74.main,i=_ref74$main===void 0?"#424242":_ref74$main,_ref74$highlight=_ref74.highlight,t=_ref74$highlight===void 0?"#565656":_ref74$highlight,_ref74$width=_ref74.width,e=_ref74$width===void 0?"48px":_ref74$width,_ref74$height=_ref74.height,r=_ref74$height===void 0?"48px":_ref74$height;return Mo["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Mo["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Mo["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),Mo["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:t,rx:"1"})));};sL=Ait;});var Lo,Bit,lL;var cL=d(function(){Lo=y(_("react"));Bit=function Bit(_ref75){var _ref75$main=_ref75.main,i=_ref75$main===void 0?"#424242":_ref75$main,_ref75$highlight=_ref75.highlight,t=_ref75$highlight===void 0?"#565656":_ref75$highlight,_ref75$width=_ref75.width,e=_ref75$width===void 0?"48px":_ref75$width,_ref75$height=_ref75.height,r=_ref75$height===void 0?"48px":_ref75$height;return Lo["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,viewBox:"0 0 48 48"},Lo["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Lo["default"].createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:t,rx:"0.5"}),Lo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),Lo["default"].createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})));};lL=Bit;});var Wa,Pit,uL;var dL=d(function(){Wa=y(_("react"));Pit=function Pit(){return Wa["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Wa["default"].createElement("defs",null,Wa["default"].createElement("path",{id:"photoeditorsdk-delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),Wa["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Wa["default"].createElement("mask",{fill:"currentColor"},Wa["default"].createElement("use",{xlinkHref:"#photoeditorsdk-delete-icon"})),Wa["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-delete-icon"})));};uL=Pit;});var Rr,Mit,mL;var pL=d(function(){Rr=y(_("react"));Mit=function Mit(_ref76){var _ref76$height=_ref76.height,i=_ref76$height===void 0?3:_ref76$height,_ref76$width=_ref76.width,t=_ref76$width===void 0?102:_ref76$width,_ref76$x=_ref76.x,e=_ref76$x===void 0?-102:_ref76$x,r=_ref76.className,o=_ref76.style;return Rr["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,viewBox:"0 0 102 3",className:r,style:o},Rr["default"].createElement("pattern",{id:"photoeditorsdk-slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},Rr["default"].createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),Rr["default"].createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),Rr["default"].createElement("rect",{fill:"url(#photoeditorsdk-slider-dots)",x:-t*1.5,y:"0",width:t*4,height:"3",transform:"translate(".concat(e,", 0)")}));};mL=Mit;});var Ga,Lit,hL;var fL=d(function(){Ga=y(_("react"));Lit=function Lit(){return Ga["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},Ga["default"].createElement("defs",null,Ga["default"].createElement("path",{id:"photoeditorsdk-duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),Ga["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},Ga["default"].createElement("mask",{fill:"currentColor"},Ga["default"].createElement("use",{xlinkHref:"#photoeditorsdk-duplicate-icon"})),Ga["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-duplicate-icon"})));};hL=Lit;});var h1,zit,gL;var bL=d(function(){h1=y(_("react"));zit=function zit(){return h1["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},h1["default"].createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"}));};gL=zit;});var Fs,Uit,yL;var _L=d(function(){Fs=y(_("react"));Uit=function Uit(_ref77){var i=_ref77.className;return Fs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:i},Fs["default"].createElement("title",null,"Flip Horizontal"),Fs["default"].createElement("defs",null,Fs["default"].createElement("path",{id:"photoeditorsdk-flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),Fs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},Fs["default"].createElement("mask",{fill:"none"},Fs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})),Fs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})));};yL=Uit;});var Rs,Nit,xL;var vL=d(function(){Rs=y(_("react"));Nit=function Nit(_ref78){var i=_ref78.className;return Rs["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:i},Rs["default"].createElement("title",null,"Flip Vertical"),Rs["default"].createElement("defs",null,Rs["default"].createElement("path",{id:"photoeditorsdk-flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),Rs["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},Rs["default"].createElement("mask",{fill:"none"},Rs["default"].createElement("use",{xlinkHref:"#photoeditorsdk-flip-vertical-icon"})),Rs["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#photoeditorsdk-flip-vertical-icon"})));};xL=Nit;});var Os,Hit,CL;var SL=d(function(){Os=y(_("react"));Hit=function Hit(_ref79){var _ref79$alt=_ref79.alt,i=_ref79$alt===void 0?"Rotate":_ref79$alt,t=_ref79.className;return Os["default"].createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:t},Os["default"].createElement("title",null,i),Os["default"].createElement("defs",null,Os["default"].createElement("path",{id:"photoeditorsdk-rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),Os["default"].createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},Os["default"].createElement("mask",{fill:"none"},Os["default"].createElement("use",{xlinkHref:"#photoeditorsdk-rotate-icon"})),Os["default"].createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-rotate-icon"})));};CL=Hit;});var vy,Cy,Oe,Xp,Vt,wL;var we=d(function(){var _vy,_categories,_crops,_wL;O();sP();lP();uP();mP();hP();gP();yP();xP();CP();wP();kP();DP();FP();OP();BP();MP();zP();NP();WP();VP();$P();XP();YP();ZP();tM();iM();oM();sM();lM();uM();mM();hM();gM();yM();xM();CM();wM();kM();DM();FM();Ha();AM();PM();LM();UM();HM();GM();jM();KM();qM();JM();QM();eL();rL();nL();aL();cL();dL();pL();fL();bL();_L();vL();SL();vy=(_vy={},_defineProperty(_vy,"adjustment",GP),_defineProperty(_vy,"filter",KP),_defineProperty(_vy,"library",QP),_defineProperty(_vy,"overlay",eM),_defineProperty(_vy,"focus",qP),_defineProperty(_vy,"sticker",rM),_defineProperty(_vy,"text",nM),_defineProperty(_vy,"textdesign",aM),_defineProperty(_vy,"frame",JP),_defineProperty(_vy,"transform",cM),_defineProperty(_vy,"brush",jP),_vy);Cy={left:UP,right:HP,center:LP};Oe={addText:dM,openWebcam:pM,reset:fM,shuffle:bM,uploadImage:_M};Xp={undo:PP,redo:AP,close:EP,"export":RP};Vt={categories:(_categories={},_defineProperty(_categories,"imgly_transforms_common",SM),_defineProperty(_categories,"imgly_transforms_facebook",TM),_defineProperty(_categories,"imgly_transforms_twitter",EM),_defineProperty(_categories,"imgly_transforms_instagram",IM),_categories),crops:(_crops={},_defineProperty(_crops,"imgly_transform_common_custom",OM),_defineProperty(_crops,"imgly_transform_common_square",NM),_defineProperty(_crops,"imgly_transform_common_3",WM),_defineProperty(_crops,"imgly_transform_common_4",BM),_defineProperty(_crops,"imgly_transform_common_9",MM),_defineProperty(_crops,"imgly_transform_common_16",zM),_defineProperty(_crops,"imgly_transform_facebook_post",VM),_defineProperty(_crops,"imgly_transform_facebook_profile",$M),_defineProperty(_crops,"imgly_transform_facebook_title",XM),_defineProperty(_crops,"imgly_transform_instagram_landscape",YM),_defineProperty(_crops,"imgly_transform_instagram_portrait",ZM),_defineProperty(_crops,"imgly_transform_instagram_square",tL),_defineProperty(_crops,"imgly_transform_instagram_story",iL),_defineProperty(_crops,"imgly_transform_twitter_post",oL),_defineProperty(_crops,"imgly_transform_twitter_profile",sL),_defineProperty(_crops,"imgly_transform_twitter_title",lL),_crops),dots:mL,duplicate:hL,edit:gL,bringToFront:vM,"delete":uL,flipHorizontal:yL,flipVertical:xL,rotate:CL};wL=(_wL={},_defineProperty(_wL,"brightness",aP),_defineProperty(_wL,"contrast",dP),_defineProperty(_wL,"saturation",_P),_defineProperty(_wL,"clarity",cP),_defineProperty(_wL,"shadows",vP),_defineProperty(_wL,"highlights",bP),_defineProperty(_wL,"exposure",pP),_defineProperty(_wL,"gamma",fP),_defineProperty(_wL,"blacks",nP),_defineProperty(_wL,"whites",IP),_defineProperty(_wL,"temperature",TP),_defineProperty(_wL,"sharpness",SP),_wL);});var TL,kL,Wit,Va;var f1=d(function(){TL=y(_("react"));kL=y(_("styled-components"));W();Wit=kL["default"].div(_templateObject143||(_templateObject143=_taggedTemplateLiteral(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  max-width: calc(100% - ","px);\n"])),function(i){return i.maxWidth;});Va=function Va(_ref80){var i=_ref80.children;var _D2=D(),t=_D2.config;var e=0;if(t.isLayoutAdvanced){e=t.measurements.advancedUIToolbar.width+t.measurements.advancedUIToolControlBar.width;}return TL["default"].createElement(Wit,{maxWidth:e},i);};});var qp,IL;var DL=d(function(){qp=y(_("styled-components"));U();IL=qp["default"].div.attrs(function(){return{"data-test":N.MainCanvasActionBar};})(_templateObject144||(_templateObject144=_taggedTemplateLiteral(["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid\n      ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"])),function(i){return i.hide?"none":"flex";},function(i){return i.theme.measurements.mainCanvasActionBar.height;},function(i){return i.theme.mainCanvasActionBar.foreground;},function(i){return i.theme.mainCanvasActionBar.borderColor;},function(i){return i.theme.measurements.zIndex.canvas.bar;},function(i){return i.transparentBackgound?"transparent":i.theme.mainCanvasActionBar.background;},function(i){return i.bottom?qp.css(_templateObject145||(_templateObject145=_taggedTemplateLiteral(["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "]))):qp.css(_templateObject146||(_templateObject146=_taggedTemplateLiteral(["\n            justify-content: space-between;\n          "])));});});var EL,FL;var RL=d(function(){EL=y(_("styled-components"));FL=EL["default"].canvas(_templateObject147||(_templateObject147=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));});var OL,AL;var BL=d(function(){OL=y(_("styled-components"));AL=OL["default"].div.attrs({role:"main"})(_templateObject148||(_templateObject148=_taggedTemplateLiteral(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"])),function(i){return i.theme.canvas.background;},function(i){return i.theme.measurements.canvas.marginTop;});});var PL,ML;var LL=d(function(){PL=y(_("styled-components"));ML=PL["default"].div.attrs(function(_ref81){var i=_ref81.height,t=_ref81.width;return{style:{height:"".concat(i,"px"),width:"".concat(t,"px")}};})(_templateObject149||(_templateObject149=_taggedTemplateLiteral(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2),\n    inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"])),function(i){return i.theme.canvas.controlsOutline;});});var zL,UL;var NL=d(function(){zL=y(_("styled-components"));UL=zL["default"].div.attrs(function(_ref82){var i=_ref82.radius;return{style:{height:"".concat(i*2,"px"),width:"".concat(i*2,"px")}};})(_templateObject150||(_templateObject150=_taggedTemplateLiteral(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"])),function(i){return i.theme.canvas.controlsOutline;});});var HL,WL;var GL=d(function(){HL=y(_("styled-components"));WL=HL["default"].div(_templateObject151||(_templateObject151=_taggedTemplateLiteral(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"])));});var be,Git,Sy;var g1=d(function(){be=y(_("styled-components"));Git=be["default"].div(function(i){var _i$theme$measurements=i.theme.measurements.canvasControls.corner.touchable,t=_i$theme$measurements.desktop,e=_i$theme$measurements.mobile;var r=t/4;var o=e/2;return be.css(_templateObject152||(_templateObject152=_taggedTemplateLiteral(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n      width: ","px;\n      height: ","px;\n      ","\n      ","\n    }\n  "])),t,t,function(n){return n.vertical==="top"?be.css(_templateObject153||(_templateObject153=_taggedTemplateLiteral(["\n            top: 0px;\n          "]))):be.css(_templateObject154||(_templateObject154=_taggedTemplateLiteral(["\n            bottom: 0px;\n          "])));},function(n){return n.horizontal==="left"?be.css(_templateObject155||(_templateObject155=_taggedTemplateLiteral(["\n            left: 0px;\n          "]))):be.css(_templateObject156||(_templateObject156=_taggedTemplateLiteral(["\n            right: 0px;\n          "])));},function(n){return n.vertical==="top"?be.css(_templateObject157||(_templateObject157=_taggedTemplateLiteral(["\n            margin-top: -","px;\n          "])),r):be.css(_templateObject158||(_templateObject158=_taggedTemplateLiteral(["\n            margin-bottom: -","px;\n          "])),r);},function(n){return n.horizontal==="left"?be.css(_templateObject159||(_templateObject159=_taggedTemplateLiteral(["\n            margin-left: -","px;\n          "])),r):be.css(_templateObject160||(_templateObject160=_taggedTemplateLiteral(["\n            margin-right: -","px;\n          "])),r);},e,e,function(n){return n.vertical==="top"?be.css(_templateObject161||(_templateObject161=_taggedTemplateLiteral(["\n              margin-top: -","px;\n            "])),o):be.css(_templateObject162||(_templateObject162=_taggedTemplateLiteral(["\n              margin-bottom: -","px;\n            "])),o);},function(n){return n.horizontal==="left"?be.css(_templateObject163||(_templateObject163=_taggedTemplateLiteral(["\n              margin-left: -","px;\n            "])),o):be.css(_templateObject164||(_templateObject164=_taggedTemplateLiteral(["\n              margin-right: -","px;\n            "])),o);});});Sy=(0,be["default"])(Git)(function(i){var t=i.horizontal==="right"?i.borderWidth:0;var e=i.vertical==="bottom"?i.borderWidth:0;var r=i.horizontal==="left"?i.borderWidth:0;var o=i.vertical==="top"?i.borderWidth:0;var n="".concat(o,"px ").concat(t,"px ").concat(e,"px ").concat(r,"px");var s=i.horizontal==="left"&&i.vertical==="bottom"||i.horizontal==="right"&&i.vertical==="top"?"nesw-resize":"nwse-resize";var a=i.theme.measurements.canvasControls.corner.touchable.desktop/4-i.borderWidth;var l=i.theme.measurements.canvasControls.corner.touchable.mobile/4+i.borderWidth;return be.css(_templateObject165||(_templateObject165=_taggedTemplateLiteral(["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "])),function(c){return c.theme.measurements.canvasControls.corner.size;},function(c){return c.theme.measurements.canvasControls.corner.size;},function(c){return c.theme.measurements.zIndex.canvas.controls;},function(c){return c.theme.canvas.controlsColor;},n,i.vertical==="top"?be.css(_templateObject166||(_templateObject166=_taggedTemplateLiteral(["\n            top: ","px;\n          "])),a):be.css(_templateObject167||(_templateObject167=_taggedTemplateLiteral(["\n            bottom: ","px;\n          "])),a),i.horizontal==="left"?be.css(_templateObject168||(_templateObject168=_taggedTemplateLiteral(["\n            left: ","px;\n          "])),a):be.css(_templateObject169||(_templateObject169=_taggedTemplateLiteral(["\n            right: ","px;\n          "])),a),i.vertical==="top"?be.css(_templateObject170||(_templateObject170=_taggedTemplateLiteral(["\n              margin-top: ","px;\n            "])),l):be.css(_templateObject171||(_templateObject171=_taggedTemplateLiteral(["\n              margin-bottom: ","px;\n            "])),l),i.horizontal==="left"?be.css(_templateObject172||(_templateObject172=_taggedTemplateLiteral(["\n              margin-left: ","px;\n            "])),l):be.css(_templateObject173||(_templateObject173=_taggedTemplateLiteral(["\n              margin-right: ","px;\n            "])),l),s);});});var VL,jL;var $L=d(function(){VL=y(_("styled-components"));U();jL=VL["default"].div.attrs(function(){return{"data-test":N.Knob};})(_templateObject174||(_templateObject174=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),function(i){return i.theme.measurements.canvasControls.knob.touchable.desktop;},function(i){return i.theme.measurements.canvasControls.knob.touchable.desktop;},function(i){return i.theme.measurements.zIndex.canvas.knob;},function(i){return i.theme.canvas.controlsColor;},function(i){return i.theme.measurements.canvasControls.knob.size;},function(i){return i.theme.measurements.canvasControls.knob.size;},function(i){return i.theme.measurements.canvasControls.knob.size/4;},function(i){return i.theme.measurements.canvasControls.knob.size/4;});});var KL,XL;var qL=d(function(){KL=y(_("styled-components"));XL=KL["default"].div(_templateObject175||(_templateObject175=_taggedTemplateLiteral(["\n  position: absolute;\n  color: ",";\n"])),function(i){return i.theme.canvas.controlsOutline;});});var YL,JL;var ZL=d(function(){YL=y(_("styled-components"));JL=YL["default"].div.attrs(function(i){return{style:{left:"".concat(i.x,"px")}};})(_templateObject176||(_templateObject176=_taggedTemplateLiteral(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),function(i){return i.theme.measurements.canvasControls.sprite.rotateHandle.height;},function(i){return i.theme.measurements.canvasControls.sprite.rotateHandle.height;},function(i){return i.theme.canvas.controlsOutline;});});var QL,t4;var e4=d(function(){QL=y(_("styled-components"));t4=QL["default"].div.attrs(function(_ref83){var i=_ref83.height,t=_ref83.width,e=_ref83.theme;return{style:{height:"".concat(i+e.measurements.canvasControls.sprite.controlPadding,"px"),width:"".concat(t+e.measurements.canvasControls.sprite.controlPadding,"px")}};})(_templateObject177||(_templateObject177=_taggedTemplateLiteral(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),function(i){return i.theme.measurements.canvasControls.sprite.controlPadding/2;},function(i){return i.theme.measurements.canvasControls.sprite.controlPadding/2;},function(i){return i.theme.canvas.controlsColor;});});var i4,r4;var o4=d(function(){i4=y(_("styled-components"));U();r4=i4["default"].div.attrs(function(){return{"data-test":N.TextWidth};})(_templateObject178||(_templateObject178=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"])),function(i){return i.theme.measurements.canvasControls.width.size;},function(i){return i.theme.measurements.zIndex.canvas.controls;},function(i){return i.theme.canvas.controlsColor;});});var n4,s4;var a4=d(function(){n4=y(_("styled-components"));s4=n4["default"].div.attrs({tabIndex:0})(_templateObject179||(_templateObject179=_taggedTemplateLiteral(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),function(i){return i.height;},function(i){return i.width;});});var ja,wy,l4,c4,u4,ec;var b1=d(function(){ja=y(_("styled-components"));U();g1();wy=NF()?ja.css(_templateObject180||(_templateObject180=_taggedTemplateLiteral(["\n      transition: unset;\n    "]))):ja.css(_templateObject181||(_templateObject181=_taggedTemplateLiteral(["\n      transition: all 0.4s ease-in-out;\n    "])));l4=ja["default"].div(_templateObject182||(_templateObject182=_taggedTemplateLiteral(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),function(i){return i.theme.canvas.cropBackdrop;},function(i){return i.theme.measurements.zIndex.canvas.crop.backdrop;},wy);c4=ja["default"].div.attrs({"data-test":N.CropMask})(_templateObject183||(_templateObject183=_taggedTemplateLiteral(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"])),function(i){return i.theme.canvas.controlsOutline;},wy);u4=ja["default"].div(_templateObject184||(_templateObject184=_taggedTemplateLiteral(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),function(i){return i.theme.canvas.controlsOutline;},function(i){return i.theme.measurements.zIndex.canvas.crop.grid;},wy);ec=(0,ja["default"])(Sy)(_templateObject185||(_templateObject185=_taggedTemplateLiteral(["\n  z-index: ",";\n  ",";\n"])),function(i){return i.theme.measurements.zIndex.canvas.controls;},wy);});var d4,m4;var p4=d(function(){d4=y(_("styled-components"));m4=d4["default"].canvas(_templateObject186||(_templateObject186=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"])));});var h4,f4;var g4=d(function(){h4=y(_("styled-components"));f4=h4["default"].video(_templateObject187||(_templateObject187=_taggedTemplateLiteral(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"])));});var b4,y4;var _4=d(function(){b4=y(_("styled-components"));y4=b4["default"].div(_templateObject188||(_templateObject188=_taggedTemplateLiteral(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"])),function(i){return i.theme.measurements.zIndex.canvas.webcam.backdrop;},function(i){return i.theme.webcam.background;});});var mt;var $e=d(function(){yy();f1();DL();RL();BL();LL();NL();GL();g1();$L();qL();ZL();e4();o4();a4();b1();p4();g4();_4();mt={Index:FL,Area:Va,Bar:{Index:IL,ButtonGroup:iP},Button:{TextSecondary:by,Float:tP},Container:AL,Element:m4,Wrapper:y4,Webcam:f4,Controls:{Knob:jL,Circle:UL,Corner:Sy,Line:XL,Area:ML,Sprite:t4,RotateHandle:JL,Container:WL,Wrapper:s4,SpriteActionsWrapper:Wp,SpriteActionButton:_n,Width:r4},Crop:{Mask:c4,GridLine:u4,Backdrop:l4,Control:ec}};});var ir={};de(ir,{FragmentPrecision:function FragmentPrecision(){return Ty;},ImageFormat:function ImageFormat(){return ic;},OptionType:function OptionType(){return K;},RenderType:function RenderType(){return Or;},RendererType:function RendererType(){return Ke;},UniformType:function UniformType(){return le;}});var Or,ic,K,le,Ke,Ty;var Ar=d(function(){Or={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"};ic={PNG:"image/png",JPEG:"image/jpeg",RAW:"raw"};K=function(h){h["NUMBER"]="number";h["VECTOR2"]="vector2";h["COLOR_MATRIX"]="color-matrix";h["COLOR"]="color";h["ARRAY"]="array";h["OBJECT"]="object";h["STRING"]="string";h["BOOLEAN"]="boolean";h["CONFIGURABLE"]="configurable";h["IMAGE"]="image";h["FUNCTION"]="function";h["TEXTURE"]="texture";h["ALL"]="*";return h;}(K||{});le=function(x){x["SAMPLER2D"]="sampler2d";x["INT"]="i";x["INT1"]="1i";x["INT2"]="2i";x["INT3"]="3i";x["INT4"]="4i";x["FLOAT"]="f";x["FLOAT1"]="1f";x["FLOAT2"]="2f";x["FLOAT_VECTOR2"]="2fv";x["FLOAT3"]="3f";x["FLOAT4"]="4f";x["MAT3"]="mat3";x["MAT3FV"]="mat3fv";x["MAT4"]="mat4";return x;}(le||{});Ke=function(e){e["WEBGL"]="webgl";e["CANVAS"]="canvas";return e;}(Ke||{});Ty=function(r){r["High"]="highp";r["Medium"]="mediump";r["Low"]="lowp";return r;}(Ty||{});});var Yp,x4;var v4=d(function(){Yp=function Yp(){return document.createElement("canvas");};x4=function x4(i,t){var e=t||Yp();e.width=i.width;e.height=i.height;var r=e.getContext("2d");if(!r){throw new Error("Cannot render context");}r.clearRect(0,0,e.width,e.height);r.drawImage(i,0,0,i.width,i.height);return e;};});var gd;var y1=d(function(){gd=function gd(t,e,r){_classCallCheck(this,gd);this.width=t;this.height=e;this.data=r;};});var C4={};de(C4,{glGet:function glGet(){return ky;},webUtils:function webUtils(){return Kit;}});var ky,Vit,jit,$it,Kit;var S4=d(function(){v4();To();y1();ky=function ky(i){var t={preserveDrawingBuffer:true};return i.getContext("webgl",t)||i.getContext("experimental-webgl",t);};Vit=function Vit(){var i=Yp();var t=ky(i);var e=t.getParameter(t.MAX_TEXTURE_SIZE);var r=t.getExtension("WEBGL_lose_context");if(r){r.loseContext();}$t(i);return e;};jit=function jit(i,t){if(t instanceof gd){i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width,t.height,0,i.RGBA,i.UNSIGNED_BYTE,t.data);}else{var e=x4(t);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,e);$t(e);}};$it=function $it(i){return Boolean(i.tagName&&i.tagName.toUpperCase()==="IMG");};Kit={isSupported:function isSupported(){return Boolean(ky(Yp()));},isCanvas:function isCanvas(i){return i.constructor.name==="Canvas"||Boolean(i.tagName&&i.tagName.toUpperCase()==="CANVAS");},isImage:$it,Image:typeof window!=="undefined"?window.Image:void 0,glMaxTexture:Vit,glGet:ky,createCanvas:Yp,glResize:function glResize(i,t){return i;},glTexImage:jit};});var w4,pi,bd,_1,T4;var Tn=d(function(){Ar();if(true){w4=(S4(),Li(C4)).webUtils;}if(false){w4=null.serverUtils;}pi=w4;bd=function bd(i){return i._type==="webgl";};_1=function _1(i){return Boolean(i&&"tagName"in i&&i.tagName&&i.tagName.toUpperCase()==="CANVAS");};T4=function T4(i){return Boolean("tagName"in i&&i.tagName.toUpperCase()==="IMG");};});var _Iy,k4;var I4=d(function(){_Iy=/*#__PURE__*/function(){function Iy(){_classCallCheck(this,Iy);}_createClass(Iy,null,[{key:"head",value:function head(t){return t[0];}},{key:"tail",value:function tail(t){return t.slice(1);}},{key:"last",value:function last(t){return t[t.length-1];}},{key:"init",value:function init(t){return t.slice(0,t.length-1);}},{key:"remove",value:function remove(t,e){return t.filter(function(r,o,n){return!e(r,o,n);});}},{key:"findIndex",value:function findIndex(t,e){for(var r=0;r<t.length;r++){if(e(t[r])){return r;}}return-1;}},{key:"find",value:function find(t,e){for(var r=0;r<t.length;r++){if(e(t[r])){return t[r];}}return void 0;}},{key:"flatten",value:function flatten(t){return t.reduce(function(e,r){return e.concat(Array.isArray(r)?_Iy.flatten(r):r);},[]);}},{key:"range",value:function range(t,e){var r=[];if(e>t){for(var o=t;o<e;o++){r.push(o);}}return r;}},{key:"repeat",value:function repeat(t,e){var r=[];for(var o=0;o<e;o++){r[o]=t;}return r;}},{key:"zip",value:function zip(t,e){var r=Math.min(t.length,e.length);var o=[];for(var n=0;n<r;n++){o[n]=[t[n],e[n]];}return o;}}]);return Iy;}();k4=_Iy;});var $a,Xit,io;var yd=d(function(){$a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Xit={encode:function encode(i){var t="";var e;var r;var o;var n;var s;var a;var l;var c=0;do{e=i[c++];r=i[c++];o=i[c++];n=e>>2;s=(e&3)<<4|r>>4;a=(r&15)<<2|o>>6;l=o&63;if(isNaN(r)){a=l=64;}else if(isNaN(o)){l=64;}t=t+$a.charAt(n)+$a.charAt(s)+$a.charAt(a)+$a.charAt(l);e=r=o="";n=s=a=l="";}while(c<i.length);return t;},decode:function decode(i){var t;var e;var r;var o;var n;var s;var a;var l=0;var c=[];var u=/[^A-Za-z0-9+/=]/g;if(u.exec(i)){throw new Error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");}i=i.replace(/[^A-Za-z0-9+/=]/g,"");do{o=$a.indexOf(i.charAt(l++));n=$a.indexOf(i.charAt(l++));s=$a.indexOf(i.charAt(l++));a=$a.indexOf(i.charAt(l++));t=o<<2|n>>4;e=(n&15)<<4|s>>2;r=(s&3)<<6|a;c.push(t);if(s!==64){c.push(e);}if(a!==64){c.push(r);}t=e=r="";o=n=s=a="";}while(l<i.length);return c;}};io=Xit;});var _rc,x1,z;var kn=d(function(){Tn();I4();yd();_rc=/*#__PURE__*/function(){function rc(){_classCallCheck(this,rc);}_createClass(rc,null,[{key:"mapRange",value:function mapRange(t,e,r){return(t-e.getMin())*r.getLength()/e.getLength()+r.getMin();}},{key:"isPlainObject",value:function isPlainObject(t){if(_typeof(t)!=="object"||!t){return false;}if(typeof Object.getPrototypeOf==="function"){var e=Object.getPrototypeOf(t);return e===Object.prototype||e===null;}return Object.prototype.toString.call(t)==="[object Object]";}},{key:"isMobile",value:function isMobile(){if(typeof navigator==="undefined")return false;var t=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4));}},{key:"isBrowser",value:function isBrowser(){return typeof window!=="undefined";}},{key:"values",value:function values(t){var e=[];for(var r in t){e.push(t[r]);}return e;}},{key:"generateUUID",value:function generateUUID(){var t=new Date().getTime();if(true){if(typeof window.performance!=="undefined"&&typeof window.performance.now==="function"){t+=window.performance.now();}}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=(t+Math.random()*16)%16|0;t=Math.floor(t/16);return(e==="x"?r:r&3|8).toString(16);});}},{key:"resizeVectorToFit",value:function resizeVectorToFit(t,e){var r=Math.min(e.x/t.x,e.y/t.y);var o=t.clone().multiply(r);return o;}},{key:"resizeVectorToFill",value:function resizeVectorToFill(t,e){var r=t.x/t.y;var o=e.x/e.y;if(r>o){return e.clone().set(e.y*r,e.y);}return e.clone().set(e.x,e.x/r);}},{key:"isExtendable",value:function isExtendable(t){return typeof t!=="undefined"&&t!==null&&(_typeof(t)==="object"||typeof t==="function");}},{key:"defaults",value:function defaults(t){var r={};for(var o in t){r[o]=t[o];}for(var _o2=0;_o2<(arguments.length<=1?0:arguments.length-1);_o2++){var n=_o2+1<1||arguments.length<=_o2+1?undefined:arguments[_o2+1];for(var s in n){if(typeof r[s]==="undefined"){r[s]=n[s];}}}return r;}},{key:"deepMerge",value:function deepMerge(t){var r=function r(o,n){if(n===void 0){return r(null,o);}if(Array.isArray(n)){return _toConsumableArray(n);}if(!_rc.isPlainObject(n)){return n;}if(!_rc.isPlainObject(o)){return _objectSpread({},n);}var s=_objectSpread({},o);Object.keys(n).forEach(function(a){var l=n[a];if(l===void 0){return;}s[a]=r(o[a],l);});return s;};for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}return e.reduce(r,t);}},{key:"deepDefaults",value:function deepDefaults(t){var _rc2;for(var _len5=arguments.length,e=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){e[_key5-1]=arguments[_key5];}var r=[].concat(e).reverse();return(_rc2=_rc).deepMerge.apply(_rc2,_toConsumableArray(r).concat([t]));}},{key:"deepClone",value:function deepClone(t){var e={};for(var r in t){if(_rc.isExtendable(t[r])){e[r]=_rc.deepClone(t[r]);}else{e[r]=t[r];}}return e;}},{key:"extend",value:function extend(t){var r={};for(var o in t){r[o]=t[o];}for(var _o3=0;_o3<(arguments.length<=1?0:arguments.length-1);_o3++){var n=_o3+1<1||arguments.length<=_o3+1?undefined:arguments[_o3+1];for(var s in n){r[s]=n[s];}}return r;}},{key:"clone",value:function clone(t){return this.extend({},t);}},{key:"getUUID",value:function getUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0;var r=t==="x"?e:e&3|8;return r.toString(16);});}},{key:"createCanvas",value:function createCanvas(){return pi.createCanvas();}},{key:"isPowerOfTwo",value:function isPowerOfTwo(t){return(t.x&t.x-1)===0&&(t.y&t.y-1)===0;}},{key:"nextLowestPOT",value:function nextLowestPOT(t){for(var e=1;e<32;e<<=1){t|=t>>e;}return t-(t>>1);}},{key:"nextHighestPOT",value:function nextHighestPOT(t){t--;for(var e=1;e<32;e<<=1){t|=t>>e;}return t+1;}},{key:"moveArrayItem",value:function moveArrayItem(t,e,r){if(r>=t.length){var o=r-t.length;while(o--+1){t.push(void 0);}}t.splice(r,0,t.splice(e,1)[0]);}},{key:"ensureCanvasDimensions",value:function ensureCanvasDimensions(t,e){if(t.width!==e.x||t.height!==e.y){t.width=e.x;t.height=e.y;return true;}return false;}},{key:"byteArrayToString",value:function byteArrayToString(t){return t.map(function(e){return String.fromCharCode(e);}).join("");}},{key:"clamp",value:function clamp(t,e,r){return Math.max(e,Math.min(t,r));}},{key:"wildCardMatch",value:function wildCardMatch(t,e){return new RegExp("^".concat(e.split("*").join(".*"),"$")).test(t);}},{key:"flipObject",value:function flipObject(t){var e={};for(var r in t){e[t[r]]=r;}return e;}},{key:"ISODateString",value:function ISODateString(t){function e(r){return r<10?"0".concat(r):r;}return"".concat(t.getUTCFullYear(),"-").concat(e(t.getUTCMonth()+1),"-").concat(e(t.getUTCDate()),"T").concat(e(t.getUTCHours()),":").concat(e(t.getUTCMinutes()),":").concat(e(t.getUTCSeconds()),"Z");}},{key:"getCrossOriginValue",value:function getCrossOriginValue(t){if(!t){return"anonymous";}if(t==="none"){return void 0;}return t;}},{key:"invariant",value:function invariant(t,e){if(!t){var r=new Error(e);throw r;}}},{key:"executePromises",value:function executePromises(t){var e=t.length;var r=0;var o=[];var n=[];return new Promise(function(s,a){var l=function l(){r++;if(r>=e){if(n.length<=0){s(o);}else{a(n);}}};var c=function c(m){o.push(m);l();};var u=function u(m){n.push(m);l();};t.forEach(function(m){m.then(c)["catch"](u);});});}}]);return rc;}();x1=_rc;q(x1,"Array",k4);z=x1;});var qit,D4,Yit,Jit,E4,v1,Y;var zo=d(function(){kn();qit=[{name:"trace",type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{name:"info",type:"log",background:"#BDE5F8",color:"#00529B"},{name:"warn",type:"warn",background:"#FEEFB3",color:"#9F6000"},{name:"error",type:"error",background:"#FFBABA",color:"#D8000C"},{name:"log",type:"log",background:"#EEEEEE",color:"#1f4f6b"}];D4=function D4(){return console&&console.group&&console.groupCollapsed&&console.groupEnd;};Yit=function Yit(){return typeof navigator!=="undefined"&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/);};Jit=function Jit(i,t){if(true){return["background: #2D7BFF; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: ".concat(i,"; color: ").concat(t,"; line-height: 20px; padding: 4px 0; font-weight: bold"),"background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0"];}if(false){var e=null;return[e.bgHex("#2D7BFF"),e.bgHex("#2B2B2B").white,e.bgHex("#2D7BFF"),e.bgHex(i).hex(t).bold,e.bgHex("#2B2B2B").white,e.bgHex("#2D7BFF")];}};E4=/*#__PURE__*/function(){function E4(){var _this33=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"warn";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:qit;_classCallCheck(this,E4);this._levels=_toConsumableArray(e);this._maxLevel=this.getLevelIndexByName(t);this._consoleFuncs={trace:function trace(){if(D4()){var _console;(_console=console).groupCollapsed.apply(_console,arguments);console.trace();console.groupEnd();}else{var _console2;(_console2=console).trace.apply(_console2,arguments);}}};this._levels.forEach(function(_ref84){var r=_ref84.name;_this33[r]=function(o){for(var _len6=arguments.length,n=new Array(_len6>1?_len6-1:0),_key6=1;_key6<_len6;_key6++){n[_key6-1]=arguments[_key6];}_this33._log.apply(_this33,[r,o].concat(n));};});}_createClass(E4,[{key:"getLevelIndexByName",value:function getLevelIndexByName(t){return z.Array.findIndex(this._levels,function(e){return e.name===t;});}},{key:"getLevelObjectByName",value:function getLevelObjectByName(t){return z.Array.find(this._levels,function(e){return e.name===t;});}},{key:"canLog",value:function canLog(t){var e=this.getLevelIndexByName(t);if(e<0){return false;}return e>=this._maxLevel;}},{key:"setLevel",value:function setLevel(t){var e=this.getLevelIndexByName(t);if(e<0){return;}this._maxLevel=e;}},{key:"_log",value:function _log(t,e){var o=this.getLevelObjectByName(t);if(!o||!this.canLog(t)){return;}var n=o.name,s=o.type,a=o.background,l=o.color;for(var _len7=arguments.length,r=new Array(_len7>2?_len7-2:0),_key7=2;_key7<_len7;_key7++){r[_key7-2]=arguments[_key7];}var c=r.filter(function(h){return h!==void 0;}).map(function(h){if(h.toObject){return JSON.parse(JSON.stringify(h.toObject()));}return h;});var u=this._consoleFuncs[s]||console[s]?function(){var _console3;return(_console3=console)[s].apply(_console3,arguments);}:function(){var _console4;return(_console4=console).log.apply(_console4,arguments);};var m=c.length;var p=Jit(a,l);if(true){if(!Yit()){var h=c.length;if(h<=0){u("PhotoEditorSDK | ".concat(e," "));return;}if(h===1&&typeof c[0]==="string"){u("PhotoEditorSDK | ".concat(e," | ").concat(c[0]));return;}u.apply(void 0,["PhotoEditorSDK | ".concat(e," | ")].concat(_toConsumableArray(c)));return;}if(m<=0){u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(e," %c %c  ")].concat(_toConsumableArray(p)));return;}if(m===1&&typeof c[0]==="string"){u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(e," %c  ").concat(c[0],"  %c  ")].concat(_toConsumableArray(p)));return;}if(D4()){var _console5;(_console5=console).groupCollapsed.apply(_console5,["%c  %c PhotoEditorSDK %c  %c ".concat(e," %c")].concat(_toConsumableArray(z.Array.init(p))));u.apply(void 0,_toConsumableArray(c));console.groupEnd();}else{u.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(e," %c")].concat(_toConsumableArray(z.Array.init(p)),_toConsumableArray(c)));}}if(false){var _h2="".concat(p[0](" ")," ").concat(p[1]("PhotoEditorSDK")," ").concat(p[2](" ")," ").concat(p[3](e));var g="".concat(p[5](" ")," ");if(m<=0){u("".concat(_h2," ").concat(g));return;}if(m===1&&typeof c[0]==="string"){u("".concat(_h2," ").concat(p[4](c[0])," ").concat(g));return;}if(D4()){console.groupCollapsed("".concat(_h2," ").concat(g));u.apply(void 0,_toConsumableArray(c));console.groupEnd();}else{u.apply(void 0,["".concat(_h2," ").concat(g)].concat(_toConsumableArray(c)));}}}},{key:"image",value:function image(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1?arguments[1]:undefined;if(true){var r=new window.Image();var o=function o(){var _r3=r,n=_r3.width;var _r4=r,s=_r4.height;if(t){console.log(t);}console.log("%c+","\n        font-size: 1px;\n        padding: 0px ".concat(Math.floor(n/2),"px;\n        line-height: ").concat(s,"px;\n        background: url(").concat(r.src,");\n        color: transparent;\n        background-repeat: no-repeat;\n        background-size: ").concat(n,"px ").concat(s,"px;"));};r.onload=o;if(e instanceof window.HTMLCanvasElement){r.src=e.toDataURL();}else if(e instanceof window.Image){r=e;o();}else if(typeof e==="string"){r.src=e;}else{this.log(t,e);}return r;}}},{key:"texture",value:function texture(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1?arguments[1]:undefined;if(true){if(!e){this.log(t,"texture: null or undefined");return;}var r=e.getBaseTexture();var o=r.getRenderers();var n=z.Array.find(o,function(l){return l&&l.constructor.type==="webgl";});var _r$getFrame=r.getFrame(),s=_r$getFrame.width,a=_r$getFrame.height;if(n){var l=n.getContext();var c=r.getGLTextureForRenderer(n);this.logGlTexture(l,c,s,a,t);}else{v1.image(t,r.getSource());}}}},{key:"logGlTexture",value:function logGlTexture(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:150;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:150;var n=arguments.length>4?arguments[4]:undefined;if(true){t.bindTexture(t.TEXTURE_2D,e);var s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0);var a=new Uint8Array(r*o*4);t.readPixels(0,0,r,o,t.RGBA,t.UNSIGNED_BYTE,a);t.deleteFramebuffer(s);var l=document.createElement("canvas");l.width=r;l.height=o;var c=l.getContext("2d");var u=c.createImageData(r,o);u.data.set(a);c.putImageData(u,0,0);return v1.image(n,l);}}}]);return E4;}();v1=new E4("warn");Y=v1;});var Wi;var _d=d(function(){Wi={load:function load(i){var _this34=this;var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:true,value:"anonymous"};var e=function e(){if(true){return Promise.resolve([i,i]);}if(false){if(i.substr(0,5)==="data:"){return Promise.resolve([i,i]);}if(!i.match(/^(https?|ftp|file):\/\//)){return readFileAsync(i);}return loadRemoteFile(i);}};return e().then(function(_ref85){var _ref86=_slicedToArray(_ref85,2),r=_ref86[0],o=_ref86[1];return _this34._createAndLoadImage(r,o,t);});},loadImage:function loadImage(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:true,value:"anonymous"};if(true){return this._loadWithoutExif(i,t);}return this.load(i,t);},_loadWithoutExif:function _loadWithoutExif(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:true,value:"anonymous"};return new Promise(function(e,r){var o=new window.Image();o.addEventListener("load",function(){e(o);});o.addEventListener("error",function(){r(new Error("Failed to load image at ".concat(i)));});if(t.cors){o.crossOrigin=t.value;}o.src=i;});},_createAndLoadImage:function _createAndLoadImage(i,t){var _this35=this;var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{cors:true,value:"anonymous"};return new Promise(function(r,o){if(true){var n=_this35._loadWithoutExif(t,e).then(function(a){return r(a);});var s=new Promise(function(a,l){_this35._loadAsDataURL(t,e).then(function(c){var u=new window.Image();u.addEventListener("load",function(){a(u);});u.src=c;u.rawSource=c;})["catch"](function(c){n.then(function(u){return a(u);});});});if(_this35._stringEndsWith(t,".svg")){return n.then(function(a){return r(a);});}return s.then(function(a){return r(a);});}if(false){var _n2=null;var _s2=new _n2.Image();_s2.src=t;_s2.rawSource=t;_s2.filePath=i;r(_s2);}});},_stringEndsWith:function _stringEndsWith(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:i.length;if(e===void 0||e>i.length){e=i.length;}return i.substring(e-t.length,e)===t;},_loadAsDataURL:function _loadAsDataURL(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{cors:true,value:"anonymous"};if(true){return new Promise(function(e,r){var o=new XMLHttpRequest();o.onload=function(){var n=new FileReader();n.onloadend=function(){if(n.error){r(n.error);}e(n.result);};n.readAsDataURL(o.response);};o.open("GET",i);o.responseType="blob";o.withCredentials=t.cors&&t.value==="use-credentials";o.send();});}return Promise.reject(new Error("Loading images as data urls is only supported in browser environments."));},loadXHR:function loadXHR(i,t){return new Promise(function(e,r){var o;if(window.XDomainRequest){o=new window.XDomainRequest();if(t)o.overrideMimeType(t);o.onload=function(){e(o);};o.onerror=function(n){r(n);};}else if(window.XMLHttpRequest){o=new window.XMLHttpRequest();if(t)o.overrideMimeType(t);o.onreadystatechange=function(n){if(o.readyState===4){if(o.status===200){e(o);}else{r(new Error("HTTP Status ".concat(o.status)));}}};}o.open("GET",i,true);o.send();});}};});var R4=Gt(function(Skt,F4){"use strict";function Zit(i,t){return Object.prototype.hasOwnProperty.call(i,t);}F4.exports=function(i,t,e,r){t=t||"&";e=e||"=";var o={};if(typeof i!=="string"||i.length===0){return o;}var n=/\+/g;i=i.split(t);var s=1e3;if(r&&typeof r.maxKeys==="number"){s=r.maxKeys;}var a=i.length;if(s>0&&a>s){a=s;}for(var l=0;l<a;++l){var c=i[l].replace(n,"%20"),u=c.indexOf(e),m,p,h,g;if(u>=0){m=c.substr(0,u);p=c.substr(u+1);}else{m=c;p="";}h=decodeURIComponent(m);g=decodeURIComponent(p);if(!Zit(o,h)){o[h]=g;}else if(Array.isArray(o[h])){o[h].push(g);}else{o[h]=[o[h],g];}}return o;};});var A4=Gt(function(wkt,O4){"use strict";var Jp=function Jp(i){switch(_typeof(i)){case"string":return i;case"boolean":return i?"true":"false";case"number":return isFinite(i)?i:"";default:return"";}};O4.exports=function(i,t,e,r){t=t||"&";e=e||"=";if(i===null){i=void 0;}if(_typeof(i)==="object"){return Object.keys(i).map(function(o){var n=encodeURIComponent(Jp(o))+e;if(Array.isArray(i[o])){return i[o].map(function(s){return n+encodeURIComponent(Jp(s));}).join(t);}else{return n+encodeURIComponent(Jp(i[o]));}}).join(t);}if(!r)return"";return encodeURIComponent(Jp(r))+e+encodeURIComponent(Jp(i));};});var B4=Gt(function(Zp){"use strict";Zp.decode=Zp.parse=R4();Zp.encode=Zp.stringify=A4();});function Qp(i){typeof i=="string"&&(i=vd(i));var t=function(e,r,o){var n=e.auth,s=e.hostname,a=e.protocol||"",l=e.pathname||"",c=e.hash||"",u=e.query||"",m=false;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",e.host?m=n+e.host:s&&(m=n+(~s.indexOf(":")?"["+s+"]":s),e.port&&(m+=":"+e.port)),u&&_typeof(u)=="object"&&(u=r.encode(u));var p=e.search||u&&"?"+u||"";return a&&a.substr(-1)!==":"&&(a+=":"),e.slashes||(!a||o.test(a))&&m!==false?(m="//"+(m||""),l&&l[0]!=="/"&&(l="/"+l)):m||(m=""),c&&c[0]!=="#"&&(c="#"+c),p&&p[0]!=="?"&&(p="?"+p),{protocol:a,host:m,pathname:l=l.replace(/[?#]/g,encodeURIComponent),search:p=p.replace("#","%23"),hash:c};}(i,k1["default"],Qit);return""+t.protocol+t.host+t.pathname+t.search+t.hash;}function P4(i,t){var e=typeof i=="string"?vd(i):i;i=_typeof(i)=="object"?Qp(i):i;var r=vd(t),o="";e.protocol&&!e.slashes&&(o=e.protocol,i=i.replace(e.protocol,""),o+=t[0]==="/"||i[0]==="/"?"/":""),o&&r.protocol&&(o="",r.slashes||(o=r.protocol,t=t.replace(r.protocol,"")));var n=i.match(trt);n&&!r.protocol&&(i=i.substr((o=n[1]+(n[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var s=new URL(i,T1+"/"),a=new URL(t,s).toString().replace(T1,""),l=r.protocol||e.protocol;return l+=e.slashes||r.slashes?"//":"",!o&&l?a=a.replace(S1,l):o&&(a=a.replace(S1,"")),ert.test(a)||~t.indexOf(".")||i.slice(-1)==="/"||t.slice(-1)==="/"||a.slice(-1)!=="/"||(a=a.slice(0,-1)),o&&(a=o+(a[0]==="/"?a.substr(1):a)),a;}function xd(){}function vd(i,t,e){if(t===void 0&&(t=false),e===void 0&&(e=false),i&&_typeof(i)=="object"&&i instanceof xd)return i;var r=(i=i.trim()).match(irt);i=r?r[1].replace(/\\/g,"/")+r[2]:i.replace(/\\/g,"/"),nrt.test(i)&&i.slice(-1)!=="/"&&(i+="/");var o=!/(^javascript)/.test(i)&&i.match(rrt),n=ort.test(i),s="";o&&(C1.test(o[1])||(s=o[1].toLowerCase(),i=""+o[2]+o[3]),o[2]||(n=false,C1.test(o[1])?(s=o[1],i=""+o[3]):i="//"+o[3]),o[2].length!==3&&o[2].length!==1||(s=o[1],i="/"+o[3]));var a,l=(r?r[1]:i).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),c=l&&l[1],u=new xd(),m="",p="";try{a=new URL(i);}catch(x){m=x,s||e||!/^\/\//.test(i)||/^\/\/.+[@.]/.test(i)||(p="/",i=i.substr(1));try{a=new URL(i,T1);}catch(v){return u.protocol=s,u.href=s,u;}}u.slashes=n&&!p,u.host=a.host===w1?"":a.host,u.hostname=a.hostname===w1?"":a.hostname.replace(/(\[|\])/g,""),u.protocol=m?s||null:a.protocol,u.search=a.search.replace(/\\/g,"%5C"),u.hash=a.hash.replace(/\\/g,"%5C");var h=i.split("#");!u.search&&~h[0].indexOf("?")&&(u.search="?"),u.hash||h[1]!==""||(u.hash="#"),u.query=t?k1["default"].decode(a.search.substr(1)):u.search.substr(1),u.pathname=p+(o?function(x){return x.replace(/['^|`]/g,function(v){return"%"+v.charCodeAt().toString(16).toUpperCase();}).replace(/((?:%[0-9A-F]{2})+)/g,function(v,b){try{return decodeURIComponent(b).split("").map(function(T){var k=T.charCodeAt();return k>256||/^[a-z0-9]$/i.test(T)?T:"%"+k.toString(16).toUpperCase();}).join("");}catch(T){return b;}});}(a.pathname):a.pathname),u.protocol==="about:"&&u.pathname==="blank"&&(u.protocol="",u.pathname=""),m&&i[0]!=="/"&&(u.pathname=u.pathname.substr(1)),s&&!C1.test(s)&&i.slice(-1)!=="/"&&u.pathname==="/"&&(u.pathname=""),u.path=u.pathname+u.search,u.auth=[a.username,a.password].map(decodeURIComponent).filter(Boolean).join(":"),u.port=a.port,c&&!u.host.endsWith(c)&&(u.host+=c,u.port=c.slice(1)),u.href=p?""+u.pathname+u.search+u.hash:Qp(u);var g=/^(file)/.test(u.href)?["host","hostname"]:[];return Object.keys(u).forEach(function(x){~g.indexOf(x)||(u[x]=u[x]||null);}),u;}var k1,Qit,S1,w1,T1,trt,ert,C1,irt,rrt,ort,nrt;var M4=d(function(){k1=y(B4(),1);Qit=/https?|ftp|gopher|file/;S1="http://";w1="w.w";T1=S1+w1;trt=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i;ert=/https?|ftp|gopher|file/;xd.prototype.parse=vd,xd.prototype.format=Qp,xd.prototype.resolve=P4,xd.prototype.resolveObject=P4;C1=/^https?|ftp|gopher|file/;irt=/^(.*?)([#?].*)/;rrt=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i;ort=/^([a-z0-9.+-]*:)?\/\/\/*/i;nrt=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;});var srt,th,ro;var Cd=d(function(){M4();srt=5e3;th=typeof window!=="undefined"?window:global;ro=/*#__PURE__*/function(){function ro(t){_classCallCheck(this,ro);this._url=t;this._parsedUrl=vd(this._url,true);}_createClass(ro,[{key:"_isJSONPRequest",value:function _isJSONPRequest(){var t=this._parsedUrl.query;for(var e in t){var r=t[e];if(r==="?"){return true;}}return false;}},{key:"load",value:function load(){if(this._isJSONPRequest()){return this._loadJSONP();}return this._loadJSON();}},{key:"_loadJSON",value:function _loadJSON(){var _this36=this;return new Promise(function(t,e){var r;if(th.XDomainRequest){r=new th.XDomainRequest();r.onload=function(){var o=JSON.parse(r.responseText);t(o);};r.onerror=function(o){e(o);};r.open("GET",_this36._url,true);r.send();}else if(th.XMLHttpRequest){r=new XMLHttpRequest();r.onreadystatechange=function(o){if(r.readyState===4){if(r.status===200){var n=JSON.parse(r.responseText);t(n);}else{e(new Error("HTTP Status ".concat(r.status)));}}};r.open("GET",_this36._url,true);r.send();}});}},{key:"_loadJSONP",value:function _loadJSONP(){var _this37=this;var t=false;var e=false;var r="pesdk".concat(Math.round(Math.random()*99999999999999));return new Promise(function(o,n){var s=_this37._createJSONPNode(r);th[r]=function(a){_this37._removeJSONPNode(s);if(!t){e=true;o(a);}};th.setTimeout(function(){if(!e){_this37._removeJSONPNode(s);t=true;n(new Error("Timeout of 5 seconds exceeded."));}},srt);});}},{key:"_createJSONPNode",value:function _createJSONPNode(t){var e=this._buildJSONPUrl(t);var r=document.querySelector("head");var o=document.createElement("script");o.src=e;r.appendChild(o);return o;}},{key:"_removeJSONPNode",value:function _removeJSONPNode(t){t.parentNode.removeChild(t);}},{key:"_buildJSONPUrl",value:function _buildJSONPUrl(t){var e=this._parsedUrl.query;var r=null;for(var o in e){if(e[o]==="?"){r=o;break;}}delete this._parsedUrl.search;e[r]=t;return Qp(this._parsedUrl);}}]);return ro;}();});var I1={};de(I1,{ImageLoader:function ImageLoader(){return Wi;},JSONLoader:function JSONLoader(){return ro;}});var L4=d(function(){_d();Cd();});var _Gi,G;var oc=d(function(){_Gi=/*#__PURE__*/function(){function Gi(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,Gi);this.r=t;this.g=e;this.b=r;this.a=o;}_createClass(Gi,[{key:"toRGBA",value:function toRGBA(){var t=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255),this.a.toFixed(2)];return"rgba(".concat(t.join(","),")");}},{key:"set",value:function set(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.a;this.r=t;this.g=e;this.b=r;this.a=o;return this;}},{key:"toRGB",value:function toRGB(){return[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)];}},{key:"toHex",value:function toHex(){var t=[this._componentToHex(Math.round(this.r*255)),this._componentToHex(Math.round(this.g*255)),this._componentToHex(Math.round(this.b*255))];return"#".concat(t.join(""));}},{key:"toGLColor",value:function toGLColor(){return[this.r,this.g,this.b,this.a];}},{key:"toArray",value:function toArray(){return this.toGLColor();}},{key:"toRGBGLColor",value:function toRGBGLColor(){return[this.r,this.g,this.b];}},{key:"toHSV",value:function toHSV(){var t=Math.max(this.r,this.g,this.b);var e=Math.min(this.r,this.g,this.b);var r;var o;var n=t;var s=t-e;o=t===0?0:s/t;if(t===e){r=0;}else{switch(t){case this.r:r=(this.g-this.b)/s;if(this.g<this.b){r+=6;}break;case this.g:r=(this.b-this.r)/s+2;break;case this.b:r=(this.r-this.g)/s+4;break;}r/=6;}return[r,o,n];}},{key:"fromHSV",value:function fromHSV(t,e,r){this.copy(_Gi.fromHSV(t,e,r));return this;}},{key:"clone",value:function clone(){return new _Gi(this.r,this.g,this.b,this.a);}},{key:"cloneRGB",value:function cloneRGB(){return new _Gi(this.r,this.g,this.b,1);}},{key:"add",value:function add(t){this.r+=t.r;this.g+=t.g;this.b+=t.b;this.a+=t.a;return this;}},{key:"minus",value:function minus(t){this.r-=t.r;this.g-=t.g;this.b-=t.b;this.a-=t.a;return this;}},{key:"multiplyScalar",value:function multiplyScalar(t){this.r*=t;this.g*=t;this.b*=t;this.a*=t;return this;}},{key:"divideScalar",value:function divideScalar(t){this.r/=t;this.g/=t;this.b/=t;this.a/=t;return this;}},{key:"clamp",value:function clamp(t,e){this.r=Math.min(Math.max(this.r,t),e);this.g=Math.min(Math.max(this.g,t),e);this.b=Math.min(Math.max(this.b,t),e);this.a=Math.min(Math.max(this.a,t),e);return this;}},{key:"mix",value:function mix(t,e){this.r=(1-e)*this.r+e*t.r;this.g=(1-e)*this.g+e*t.g;this.b=(1-e)*this.b+e*t.b;this.a=(1-e)*this.a+e*t.a;return this;}},{key:"copy",value:function copy(t){this.r=t.r;this.g=t.g;this.b=t.b;this.a=t.a;return this;}},{key:"equals",value:function equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a;}},{key:"_componentToHex",value:function _componentToHex(t){var e=t.toString(16);return e.length===1?"0".concat(e):e;}},{key:"toString",value:function toString(){return"Color(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a,")");}}],[{key:"fromHSV",value:function fromHSV(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var _ref87=[],n=_ref87[0],s=_ref87[1],a=_ref87[2];var l=Math.floor(t*6);var c=t*6-l;var u=r*(1-e);var m=r*(1-c*e);var p=r*(1-(1-c)*e);switch(l%6){case 0:n=r;s=p;a=u;break;case 1:n=m;s=r;a=u;break;case 2:n=u;s=r;a=p;break;case 3:n=u;s=m;a=r;break;case 4:n=p;s=u;a=r;break;case 5:n=r;s=u;a=m;break;}return new _Gi(n,s,a,o);}},{key:"fromArray",value:function fromArray(t){return new _Gi(t[0],t[1],t[2],t[3]);}},{key:"fromHex",value:function fromHex(t){var _t$match=t.match(/[0-9A-fa-f]{1,2}/g),_t$match2=_slicedToArray(_t$match,3),e=_t$match2[0],r=_t$match2[1],o=_t$match2[2];return new _Gi(parseInt(e,16)/255,parseInt(r,16)/255,parseInt(o,16)/255,1);}},{key:"TRANSPARENT",get:function get(){return new _Gi(0,0,0,0);}},{key:"WHITE",get:function get(){return new _Gi(1,1,1,1);}},{key:"BLACK",get:function get(){return new _Gi(0,0,0,1);}},{key:"RED",get:function get(){return new _Gi(1,0,0,1);}},{key:"BLUE",get:function get(){return new _Gi(0,0,1,1);}},{key:"GREEN",get:function get(){return new _Gi(0,1,0,1);}}]);return Gi;}();G=_Gi;});var art,z4,Vi;var Sd=d(function(){zo();art=12;z4=/*#__PURE__*/function(){function z4(){_classCallCheck(this,z4);this._maxListeners=art;this._events={};this._pipeDestinations=[];}_createClass(z4,[{key:"pipeEvents",value:function pipeEvents(t){this._pipeDestinations.push(t);}},{key:"unpipeEvents",value:function unpipeEvents(t){var e=this._pipeDestinations.indexOf(t);if(e===-1){return;}this._pipeDestinations.splice(e,1);}},{key:"on",value:function on(t,e){if(typeof t==="undefined"){throw new Error("Invalid event type: `".concat(t,"`"));}if(typeof e!=="function"){throw new TypeError();}var r=this._events[t]||(this._events[t]=[]);if(r.indexOf(e)!==-1){return this;}r.push(e);if(this._maxListeners&&r.length>this._maxListeners){Y.warn("EventEmitter","Possible memory leak detected, added ".concat(r.length," `").concat(t,"` listeners (current limit is ").concat(this._maxListeners,")"));if(typeof console!=="undefined"){console.trace();}}return this;}},{key:"once",value:function once(t,e){if(typeof t==="undefined"){throw new Error("Invalid event type: `".concat(t,"`"));}var r=this;function o(){r.off(t,o);e.apply(null,arguments);}return this.on(t,o);}},{key:"off",value:function off(t){if(typeof t==="undefined"){throw new Error("Invalid event type: `".concat(t,"`"));}if((arguments.length<=1?0:arguments.length-1)===0){this._events[t]=null;return this;}var r=arguments.length<=1?undefined:arguments[1];if(typeof r!=="function"){throw new TypeError();}var o=this._events[t];if(!o||!o.length){return this;}var n=o.indexOf(r);if(n===-1){return this;}o.splice(n,1);return this;}},{key:"emit",value:function emit(t){for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}if(typeof t==="undefined"){throw new Error("Invalid event type: `".concat(t,"`"));}this._pipeDestinations.forEach(function(o){o.emit.apply(o,[t].concat(e));});var r=this._events[t];if(!r||!r.length){return false;}r.slice(0).forEach(function(o){return o.apply(null,e);});return true;}},{key:"setMaxListeners",value:function setMaxListeners(t){if(parseInt(t,10)!==t){throw new TypeError();}this._maxListeners=t;}}]);return z4;}();Vi=z4;});var nc;var D1=d(function(){zo();To();nc={checkFramebufferStatus:function checkFramebufferStatus(i,t){var _r5;var e=t.checkFramebufferStatus(t.FRAMEBUFFER);var r=(_r5={},_defineProperty(_r5,t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Incomplete attachment"),_defineProperty(_r5,t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Missing attachment"),_defineProperty(_r5,t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Incomplete dimensions"),_defineProperty(_r5,t.FRAMEBUFFER_UNSUPPORTED,"Framebuffer unsupported"),_r5);if(e!==t.FRAMEBUFFER_COMPLETE){Y.warn(i,"Framebuffer incomplete: ".concat(r[e]));}},determineGPUName:function determineGPUName(i){var t=null;var e=null;if(!i){e=document.createElement("canvas");i=e.getContext("experimental-webgl")||e.getContext("webgl");}var r=i&&i.getExtension("WEBGL_debug_renderer_info");if(r){t=i.getParameter(r.UNMASKED_RENDERER_WEBGL);e&&e.remove();}$t(e);return t;},isGPUBlacklisted:function isGPUBlacklisted(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return false;}};});var Dy;var U4=d(function(){Dy=function Dy(i){return typeof i==="number";};});var lrt,sc,Ey,_ot2;var As=d(function(){U4();lrt=function lrt(i){return i instanceof _ot2;};sc=function sc(i,t){if(lrt(i)){return{x:i.x,y:i.y};}return{x:i,y:Dy(t)?t:i};};Ey=function Ey(i,t){return function(e,r){var _sc=sc(e,r),o=_sc.x,n=_sc.y;i.x=t(i.x,o);i.y=t(i.y,n);return i;};};_ot2=/*#__PURE__*/function(){function ot(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,ot);this.add=Ey(this,function(t,e){return t+e;});this.subtract=Ey(this,function(t,e){return t-e;});this.divide=Ey(this,function(t,e){return t/e;});this.multiply=Ey(this,function(t,e){return t*e;});this.x=t;this.y=e;}_createClass(ot,[{key:"set",value:function set(t,e){var _sc2=sc(t,e),r=_sc2.x,o=_sc2.y;this.x=r;this.y=o;return this;}},{key:"clone",value:function clone(){return new _ot2(this.x,this.y);}},{key:"copy",value:function copy(t){this.x=t.x;this.y=t.y;return this;}},{key:"clamp",value:function clamp(t,e){if(Dy(t)){t=new _ot2(t,t);}if(Dy(e)){e=new _ot2(e,e);}if(t){this.x=Math.max(t.x,this.x);this.y=Math.max(t.y,this.y);}if(e){this.x=Math.min(e.x,this.x);this.y=Math.min(e.y,this.y);}return this;}},{key:"dot",value:function dot(t,e){var _sc3=sc(t,e),r=_sc3.x,o=_sc3.y;return this.x*r+this.y*o;}},{key:"equals",value:function equals(t,e){var _sc4=sc(t,e),r=_sc4.x,o=_sc4.y;return r===this.x&&o===this.y;}},{key:"flip",value:function flip(){var t=this.x;this.x=this.y;this.y=t;return this;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this;}},{key:"ceil",value:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this;}},{key:"floor",value:function floor(){this.x|=0;this.y|=0;return this;}},{key:"abs",value:function abs(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this;}},{key:"len",value:function len(){return Math.sqrt(this.x*this.x+this.y*this.y);}},{key:"min",value:function min(){return Math.min(this.x,this.y);}},{key:"max",value:function max(){return Math.max(this.x,this.y);}},{key:"toObject",value:function toObject(){return{x:this.x,y:this.y};}},{key:"toString",value:function toString(){return"Vector2({ x: ".concat(this.x,", y: ").concat(this.y," })");}},{key:"roundDecimal",value:function roundDecimal(t){this.x=parseFloat(this.x.toFixed(t));this.y=parseFloat(this.y.toFixed(t));return this;}},{key:"asArray",value:function asArray(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){return[this.y,this.x];}return[this.x,this.y];}}],[{key:"fromObject",value:function fromObject(t){return new _ot2(t.x,t.y);}},{key:"NULL",get:function get(){return new _ot2(0,0);}}]);return ot;}();});var _rr;var E1=d(function(){As();_rr=/*#__PURE__*/function(){function rr(){_classCallCheck(this,rr);this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;this.reset();}_createClass(rr,[{key:"multiply",value:function multiply(t){var e;var r;var o;var n;var s;var a;e=this.a*t.a+this.b*t.c;r=this.a*t.b+this.b*t.d;o=this.c*t.a+this.d*t.c;n=this.c*t.b+this.d*t.d;s=this.tx*t.a+this.ty*t.c+t.tx;a=this.tx*t.b+this.ty*t.d+t.ty;this.a=e;this.b=r;this.c=o;this.d=n;this.tx=s;this.ty=a;return this;}},{key:"applyToVector",value:function applyToVector(t){var _t2=t,e=_t2.x,r=_t2.y;t=t.clone();t.x=this.a*e+this.c*r+this.tx;t.y=this.b*e+this.d*r+this.tx;return t;}},{key:"applyInverseToVector",value:function applyInverseToVector(t){var e=1/(this.a*this.d+this.c*-this.b);var _t3=t,r=_t3.x,o=_t3.y;t=t.clone();t.x=this.d*e*r+-this.c*e*o+(this.ty*this.c-this.tx*this.d)*e;t.y=this.a*e*o+-this.b*e*r+(-this.ty*this.a+this.tx*this.b)*e;return t;}},{key:"rectangleToCoordinates",value:function rectangleToCoordinates(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ot2(0,0);var r=t.width*(1-e.x);var o=t.width*-e.x;var n=t.height*(1-e.y);var s=t.height*-e.y;var a=[];a.push(new _ot2(this.a*o+this.c*s+this.tx,this.d*s+this.b*o+this.ty));a.push(new _ot2(this.a*r+this.c*s+this.tx,this.d*s+this.b*r+this.ty));a.push(new _ot2(this.a*r+this.c*n+this.tx,this.d*n+this.b*r+this.ty));a.push(new _ot2(this.a*o+this.c*n+this.tx,this.d*n+this.b*o+this.ty));return a;}},{key:"reset",value:function reset(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;}},{key:"toArray",value:function toArray(){var t=[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1];if(typeof Float32Array==="undefined"){return t;}return new Float32Array(t);}},{key:"toString",value:function toString(){return"Matrix({ a: ".concat(this.a,", b: ").concat(this.b,", c: ").concat(this.c,", d: ").concat(this.d,", tx: ").concat(this.tx,", ty: ").concat(this.ty," })");}}],[{key:"IDENTITY",get:function get(){return new _rr();}}]);return rr;}();});var _ce;var F1=d(function(){As();_ce=/*#__PURE__*/function(){function ce(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,ce);this.x=0;this.y=0;this.width=0;this.height=0;this.x=t;this.y=e;this.width=r;this.height=o;}_createClass(ce,[{key:"set",value:function set(t,e,r,o){this.x=t;this.y=e;this.width=r;this.height=o;return this;}},{key:"clone",value:function clone(){return new _ce(this.x,this.y,this.width,this.height);}},{key:"copy",value:function copy(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height;return this;}},{key:"equals",value:function equals(t,e,r,o){if(t instanceof _ce){return t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height;}return t===this.x&&e===this.y&&r===this.width&&o===this.height;}},{key:"translate",value:function translate(t,e){var _sc5=sc(t,e),r=_sc5.x,o=_sc5.y;this.x+=r;this.y+=o;return this;}},{key:"scale",value:function scale(t,e){var _sc6=sc(t,e),r=_sc6.x,o=_sc6.y;this.width*=r;this.height*=o;return this;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.width=Math.round(this.width);this.height=Math.round(this.height);return this;}},{key:"getPosition",value:function getPosition(){return new _ot2(this.x,this.y);}},{key:"getSize",value:function getSize(){return new _ot2(this.width,this.height);}},{key:"insetBy",value:function insetBy(t,e){this.x+=t;this.y+=e;this.width-=2*t;this.height-=2*e;return this;}},{key:"intersects",value:function intersects(t){var e=new _ot2(this.x,this.y);var r=new _ot2(this.x+this.width,this.y+this.height);var o=new _ot2(t.x,t.y);var n=new _ot2(t.x+t.width,t.y+t.height);if(o.x>r.x||e.x>n.x||n.y<e.y||r.y<o.y){return false;}return true;}},{key:"toString",value:function toString(){return"Rectangle({ x: ".concat(this.x,", y: ").concat(this.y,", width: ").concat(this.width,", height: ").concat(this.height," })");}}],[{key:"FromDiagonalPoints",value:function FromDiagonalPoints(t,e){var r=false;if(e.x-t.x<0){r=true;}var o=r?e:t;var n=r?t:e;var s=n.x-o.x;var a=n.y-o.y;return new _ce(o.x,o.y,s,a);}}]);return ce;}();});var wd,crt,Ka;var Le=d(function(){zo();Ar();oc();Sd();D1();E1();F1();As();kn();wd=2e3;crt=5;Ka=crt*4;});var ac;var Fy=d(function(){Le();ac=/*#__PURE__*/function(){function ac(){_classCallCheck(this,ac);this._position=new _ot2(0,0);this._scale=new _ot2(1,1);this._pivot=new _ot2(0,0);this._rotation=0;this._lastRotation=null;this._alpha=1;this._visible=true;this._worldTransform=new _rr();this._parent=null;this._shaders=[];this._boundsNeedUpdate=true;this._bounds=new _ce(0,0,1,1);this._localBoundsNeedUpdate=true;this._localBounds=new _ce(0,0,1,1);this._filterRectangle=new _ce(0,0,0,0);}_createClass(ac,[{key:"renderWebGL",value:function renderWebGL(t){Y.warn(this.constructor.name,"`renderWebGL` is abstract and not implemented in inherited class");}},{key:"renderCanvas",value:function renderCanvas(t){Y.warn(this.constructor.name,"`renderCanvas` is abstract and not implemented in inherited class");}},{key:"updateTransform",value:function updateTransform(){var t=this._parent?this._parent.getWorldTransform():_rr.IDENTITY;var e=this._worldTransform;var r=Math.sin(this._rotation);var o=Math.cos(this._rotation);e.a=o*this._scale.x;e.b=r*this._scale.x;e.c=-r*this._scale.y;e.d=o*this._scale.y;e.tx=this._position.x;e.ty=this._position.y;if(this._pivot.x||this._pivot.y){e.tx-=this._pivot.x*e.a+this._pivot.y*e.c;e.ty-=this._pivot.x*e.b+this._pivot.y*e.d;}e.multiply(t);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"addShader",value:function addShader(t){this._shaders.push(t);}},{key:"removeShader",value:function removeShader(t){var e=this._shaders.indexOf(t);if(e!==-1){this._shaders.splice(e,1);return true;}return false;}},{key:"removeShaderAt",value:function removeShaderAt(t){if(!this._shaders[t]){return false;}this._shaders.splice(t,1);return true;}},{key:"getBounds",value:function getBounds(){return this._bounds.clone();}},{key:"getPosition",value:function getPosition(){return this._position;}},{key:"setPosition",value:function setPosition(t,e){this._position.set(t,e);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getScale",value:function getScale(){return this._scale;}},{key:"setScale",value:function setScale(t,e){this._scale.set(t,e);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getPivot",value:function getPivot(){return this._pivot;}},{key:"setPivot",value:function setPivot(t,e){this._pivot.set(t,e);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getRotation",value:function getRotation(){return this._rotation;}},{key:"setRotation",value:function setRotation(t){this._rotation=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getAlpha",value:function getAlpha(){return this._alpha;}},{key:"setAlpha",value:function setAlpha(t){this._alpha=t;}},{key:"getWorldAlpha",value:function getWorldAlpha(){if(this._parent){return this._parent.getAlpha()*this._alpha;}return this._alpha;}},{key:"getWorldTransform",value:function getWorldTransform(){return this._worldTransform;}},{key:"getParent",value:function getParent(){return this._parent;}},{key:"setParent",value:function setParent(t){this._parent=t;}},{key:"getFilterRectangle",value:function getFilterRectangle(){return this._filterRectangle;}},{key:"setFilterRectangle",value:function setFilterRectangle(t){this._filterRectangle.copy(t);}},{key:"isVisible",value:function isVisible(){return this._visible;}},{key:"setVisible",value:function setVisible(t){this._visible=t;}}]);return ac;}();});var _In;var Ry=d(function(){Le();Fy();_In=/*#__PURE__*/function(_ac){_inherits(In,_ac);var _super21=_createSuper(In);function In(){var _this38;_classCallCheck(this,In);_this38=_super21.call(this);_this38._children=[];_this38._filters=[];return _this38;}_createClass(In,[{key:"addFilter",value:function addFilter(t){this._filters.push(t);}},{key:"removeFilter",value:function removeFilter(t){var e=this._filters.indexOf(t);if(e!==-1){this._filters.splice(e,1);return true;}return false;}},{key:"setFilters",value:function setFilters(t){this._filters=t;}},{key:"addChild",value:function addChild(t){var e=t.getParent();if(e instanceof _In){e.removeChild(t);}t.setParent(this);this._children.push(t);}},{key:"prependChild",value:function prependChild(t){var e=t.getParent();if(e instanceof _In){e.removeChild(t);}t.setParent(this);this._children.unshift(t);}},{key:"hasChild",value:function hasChild(t){var e=this._children.indexOf(t);return e!==-1;}},{key:"removeChild",value:function removeChild(t){var e=this._children.indexOf(t);if(e!==-1){this._children.splice(e,1);t.setParent(null);}else{Y.info(this.constructor.name,"Tried to remove a child that does not exist");}}},{key:"clearChildren",value:function clearChildren(){this._children=[];}},{key:"renderWebGL",value:function renderWebGL(t){if(!this._visible){return;}var e=t.getFilterManager();if(this._filters&&this._filters.length){e.pushFilters(this,this._filters);}t.getCurrentObjectRenderer().start();this._renderWebGL(t);this._children.forEach(function(r){r.renderWebGL(t);});t.getCurrentObjectRenderer().flush();if(this._filters&&this._filters.length){e.popFilters();}t.getCurrentObjectRenderer().start();}},{key:"_renderWebGL",value:function _renderWebGL(t){}},{key:"renderCanvas",value:function renderCanvas(t){if(!this._visible){return;}var e=t.getFilterManager();if(this._filters&&this._filters.length){e.pushFilters(this,this._filters);}this._renderCanvas(t);this._children.forEach(function(r){r.renderCanvas(t);});if(this._filters&&this._filters.length){e.popFilters();}}},{key:"_renderCanvas",value:function _renderCanvas(t){}},{key:"updateTransform",value:function updateTransform(){_get(_getPrototypeOf(In.prototype),"updateTransform",this).call(this);this._children.forEach(function(t){t.updateTransform();});}},{key:"getLocalBounds",value:function getLocalBounds(){if(this._localBoundsNeedUpdate){this._localBoundsNeedUpdate=false;}return this._localBounds.clone();}},{key:"getBounds",value:function getBounds(){if(this._boundsNeedUpdate){this._boundsNeedUpdate=false;}return this._bounds.clone();}},{key:"getChildren",value:function getChildren(){return this._children;}},{key:"getFilters",value:function getFilters(){return this._filters;}},{key:"dispose",value:function dispose(){}}]);return In;}(ac);});function W4(i,t,e,r,o,n){if(isNaN(n)||n<1){return;}n|=0;var s=i.data;var a,l,c,u,m,p,h,g,x,v,b,T,k,E,A,I,F,Z,et,pt,yt,bt,ht,Qt;var gi=n+n+1;var ii=r-1;var Xr=o-1;var St=n+1;var fe=St*(St+1)/2;var se=new H4();var ee;var Et=se;for(c=1;c<gi;c++){Et=Et.next=new H4();if(c==St)ee=Et;}Et.next=se;var ae=null;var ui=null;h=p=0;var Qo=urt[n];var tn=drt[n];for(l=0;l<o;l++){I=F=Z=et=g=x=v=b=0;T=St*(pt=s[p]);k=St*(yt=s[p+1]);E=St*(bt=s[p+2]);A=St*(ht=s[p+3]);g+=fe*pt;x+=fe*yt;v+=fe*bt;b+=fe*ht;Et=se;for(c=0;c<St;c++){Et.r=pt;Et.g=yt;Et.b=bt;Et.a=ht;Et=Et.next;}for(c=1;c<St;c++){u=p+((ii<c?ii:c)<<2);g+=(Et.r=pt=s[u])*(Qt=St-c);x+=(Et.g=yt=s[u+1])*Qt;v+=(Et.b=bt=s[u+2])*Qt;b+=(Et.a=ht=s[u+3])*Qt;I+=pt;F+=yt;Z+=bt;et+=ht;Et=Et.next;}ae=se;ui=ee;for(a=0;a<r;a++){s[p+3]=ht=b*Qo>>tn;if(ht!==0){ht=255/ht;s[p]=(g*Qo>>tn)*ht;s[p+1]=(x*Qo>>tn)*ht;s[p+2]=(v*Qo>>tn)*ht;}else{s[p]=s[p+1]=s[p+2]=0;}g-=T;x-=k;v-=E;b-=A;T-=ae.r;k-=ae.g;E-=ae.b;A-=ae.a;u=h+((u=a+n+1)<ii?u:ii)<<2;I+=ae.r=s[u];F+=ae.g=s[u+1];Z+=ae.b=s[u+2];et+=ae.a=s[u+3];g+=I;x+=F;v+=Z;b+=et;ae=ae.next;T+=pt=ui.r;k+=yt=ui.g;E+=bt=ui.b;A+=ht=ui.a;I-=pt;F-=yt;Z-=bt;et-=ht;ui=ui.next;p+=4;}h+=r;}for(a=0;a<r;a++){F=Z=et=I=x=v=b=g=0;p=a<<2;T=St*(pt=s[p]);k=St*(yt=s[p+1]);E=St*(bt=s[p+2]);A=St*(ht=s[p+3]);g+=fe*pt;x+=fe*yt;v+=fe*bt;b+=fe*ht;Et=se;for(c=0;c<St;c++){Et.r=pt;Et.g=yt;Et.b=bt;Et.a=ht;Et=Et.next;}m=r;for(c=1;c<=n;c++){p=m+a<<2;g+=(Et.r=pt=s[p])*(Qt=St-c);x+=(Et.g=yt=s[p+1])*Qt;v+=(Et.b=bt=s[p+2])*Qt;b+=(Et.a=ht=s[p+3])*Qt;I+=pt;F+=yt;Z+=bt;et+=ht;Et=Et.next;if(c<Xr){m+=r;}}p=a;ae=se;ui=ee;for(l=0;l<o;l++){u=p<<2;s[u+3]=ht=b*Qo>>tn;if(ht>0){ht=255/ht;s[u]=g*Qo>>tn;s[u+1]=x*Qo>>tn;s[u+2]=v*Qo>>tn;}else{s[u]=s[u+1]=s[u+2]=0;}g-=T;x-=k;v-=E;b-=A;T-=ae.r;k-=ae.g;E-=ae.b;A-=ae.a;u=a+((u=l+St)<Xr?u:Xr)*r<<2;g+=I+=ae.r=s[u];x+=F+=ae.g=s[u+1];v+=Z+=ae.b=s[u+2];b+=et+=ae.a=s[u+3];ae=ae.next;T+=pt=ui.r;k+=yt=ui.g;E+=bt=ui.b;A+=ht=ui.a;I-=pt;F-=yt;Z-=bt;et-=ht;ui=ui.next;p+=r;}}}function H4(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null;}var urt,drt;var G4=d(function(){"use strict";urt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];drt=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];});var _Dn,eh;var R1=d(function(){oc();_Dn=/*#__PURE__*/function(){function Dn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var a=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;var l=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var c=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var u=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var m=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;var p=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var h=arguments.length>12&&arguments[12]!==undefined?arguments[12]:1;var g=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var x=arguments.length>14&&arguments[14]!==undefined?arguments[14]:0;var v=arguments.length>15&&arguments[15]!==undefined?arguments[15]:0;var b=arguments.length>16&&arguments[16]!==undefined?arguments[16]:0;var T=arguments.length>17&&arguments[17]!==undefined?arguments[17]:0;var k=arguments.length>18&&arguments[18]!==undefined?arguments[18]:1;var E=arguments.length>19&&arguments[19]!==undefined?arguments[19]:0;_classCallCheck(this,Dn);this.set(t,e,r,o,n,s,a,l,c,u,m,p,h,g,x,v,b,T,k,E);}_createClass(Dn,[{key:"set",value:function set(t,e,r,o,n,s,a,l,c,u,m,p,h,g,x,v,b,T,k,E){this.a=t;this.b=e;this.c=r;this.d=o;this.e=n;this.f=s;this.g=a;this.h=l;this.i=c;this.j=u;this.k=m;this.l=p;this.m=h;this.n=g;this.o=x;this.p=v;this.q=b;this.r=T;this.s=k;this.t=E;}},{key:"reset",value:function reset(){this.a=1;this.b=0;this.c=0;this.d=0;this.e=0;this.f=0;this.g=1;this.h=0;this.i=0;this.j=0;this.k=0;this.l=0;this.m=1;this.n=0;this.o=0;this.p=0;this.q=0;this.r=0;this.s=1;this.t=0;}},{key:"apply",value:function apply(t){var e=this.a*t.r+this.b*t.g+this.c*t.b+this.d*t.a+this.e;var r=this.f*t.r+this.g*t.g+this.h*t.b+this.i*t.a+this.j;var o=this.k*t.r+this.l*t.g+this.m*t.b+this.n*t.a+this.o;var n=this.p*t.r+this.q*t.g+this.r*t.b+this.s*t.a+this.t;return new G(e,r,o,n);}},{key:"multiply",value:function multiply(t){var e;var r;var o;var n;var s;var a;var l;var c;var u;var m;var p;var h;var g;var x;var v;var b;var T;var k;var E;var A;var I=t;var F=this;e=I.a*F.a+I.b*F.f+I.c*F.k+I.d*F.p;r=I.a*F.b+I.b*F.g+I.c*F.l+I.d*F.q;o=I.a*F.c+I.b*F.h+I.c*F.m+I.d*F.r;n=I.a*F.d+I.b*F.i+I.c*F.n+I.d*F.s;a=I.f*F.a+I.g*F.f+I.h*F.k+I.i*F.p;l=I.f*F.b+I.g*F.g+I.h*F.l+I.i*F.q;c=I.f*F.c+I.g*F.h+I.h*F.m+I.i*F.r;u=I.f*F.d+I.g*F.i+I.h*F.n+I.i*F.s;p=I.k*F.a+I.l*F.f+I.m*F.k+I.n*F.p;h=I.k*F.b+I.l*F.g+I.m*F.l+I.n*F.q;g=I.k*F.c+I.l*F.h+I.m*F.m+I.n*F.r;x=I.k*F.d+I.l*F.i+I.m*F.n+I.n*F.s;b=I.p*F.a+I.q*F.f+I.r*F.k+I.s*F.p;T=I.p*F.b+I.q*F.g+I.r*F.l+I.s*F.q;k=I.p*F.c+I.q*F.h+I.r*F.m+I.s*F.r;E=I.p*F.d+I.q*F.i+I.r*F.n+I.s*F.s;s=I.a*F.e+I.b*F.j+I.c*F.o+I.d*F.t+I.e;m=I.f*F.e+I.g*F.j+I.h*F.o+I.i*F.t+I.j;v=I.k*F.e+I.l*F.j+I.m*F.o+I.n*F.t+I.o;A=I.p*F.e+I.q*F.j+I.r*F.o+I.s*F.t+I.t;this.a=e;this.b=r;this.c=o;this.d=n;this.e=s;this.f=a;this.g=l;this.h=c;this.i=u;this.j=m;this.k=p;this.l=h;this.m=g;this.n=x;this.o=v;this.p=b;this.q=T;this.r=k;this.s=E;this.t=A;return this;}},{key:"clone",value:function clone(){var t=new _Dn();t.set(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l,this.m,this.n,this.o,this.p,this.q,this.r,this.s,this.t);return t;}},{key:"equals",value:function equals(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f&&this.g===t.g&&this.h===t.h&&this.i===t.i&&this.j===t.j&&this.k===t.k&&this.l===t.l&&this.m===t.m&&this.n===t.n&&this.o===t.o&&this.p===t.p&&this.q===t.q&&this.r===t.r&&this.s===t.s&&this.t===t.t;}},{key:"getOffsets",value:function getOffsets(){return[this.e,this.j,this.o,this.t];}},{key:"toString",value:function toString(){return"ColorMatrix( ".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,", ").concat(this.e,",\n      ").concat(this.f,", ").concat(this.g,", ").concat(this.h,", ").concat(this.i,", ").concat(this.j,",\n      ").concat(this.k,", ").concat(this.l,", ").concat(this.m,", ").concat(this.n,", ").concat(this.o,",\n      ").concat(this.p,", ").concat(this.q,", ").concat(this.r,", ").concat(this.s,", ").concat(this.t," )");}},{key:"toArray",value:function toArray(){var _this39=this;return"abcdefghijklmnopqrst".split("").map(function(t){return _this39[t];});}}],[{key:"IDENTITY",get:function get(){return new _Dn();}},{key:"createBrightnessMatrix",value:function createBrightnessMatrix(t){var e=new _Dn();e.e=t;e.j=t;e.o=t;return e;}},{key:"createContrastMatrix",value:function createContrastMatrix(t){var e=new _Dn();var r=(1-t)/2;e.a=e.g=e.m=t;e.e=e.j=e.o=r;return e;}},{key:"createSaturationMatrix",value:function createSaturationMatrix(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=new _Dn();var r=1-t;var o=.213*r;var n=.715*r;var s=.072*r;e.a=o+t;e.b=n;e.c=s;e.f=o;e.g=n+t;e.h=s;e.k=o;e.l=n;e.m=s+t;return e;}},{key:"createExposureMatrix",value:function createExposureMatrix(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=Math.pow(2,t);return new _Dn(e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0);}},{key:"createLinearMatrix",value:function createLinearMatrix(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=new _Dn();r.a=r.g=r.m=t;r.e=r.j=r.o=e;return r;}}]);return Dn;}();eh=_Dn;});var _Td,_t;var kd=d(function(){Ar();Tn();oc();Sd();R1();As();kn();_Td=/*#__PURE__*/function(_Vi){_inherits(Td,_Vi);var _super22=_createSuper(Td);function Td(){var _this40;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Td);_this40=_super22.call(this);_this40.availableOptions=_objectSpread(_objectSpread({},Object.getPrototypeOf(_assertThisInitialized(_this40)).availableOptions),e);_this40._onConfigurableUpdate=_this40._onConfigurableUpdate.bind(_assertThisInitialized(_this40));_this40._initOptions(t);return _this40;}_createClass(Td,[{key:"_buildConfigError",value:function _buildConfigError(t){var e="";if(this.constructor.name){e="".concat(this.constructor.name,": ");}e+=t;return new Error(e);}},{key:"_onOptionsChange",value:function _onOptionsChange(){}},{key:"validateSettings",value:function validateSettings(){var _this41=this;return new Promise(function(t,e){for(var r in _this41.availableOptions){var o=_this41.availableOptions[r];if(o.required&&typeof _this41._options[r]==="undefined"){return e(_this41._buildConfigError("Option `".concat(r,"` is required.")));}}t();});}},{key:"_initOptions",value:function _initOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options={};var e;var r;var o;var n=this;for(e in this.availableOptions){o=e.charAt(0).toUpperCase()+e.slice(1);r=this.availableOptions[e];if(["string","number","boolean","object","vector2","color","configurable","color-matrix","array","image","function","*"].indexOf(r.type)===-1){throw this._buildConfigError("Unknown option type: `".concat(r.type,"`"));}var s=function a(l){n["set".concat(o)]=function(c,u,m){n.setOption(l,c,u,m);};n["get".concat(o)]=function(){return n.getOption(l);};};s(e);if(r.type==="configurable"){this._options[e]=new _Td(void 0,r.structure||{});this._options[e].on("update",this._onConfigurableUpdate);}if(!(e in t)||typeof t[e]==="undefined"){if(typeof r["default"]!=="undefined"){var a=r["default"];if(typeof r["default"]==="function"){a=r["default"]();}this["set".concat(o)](a,false,true);}else if(r.type!=="configurable"){this._options[e]=void 0;}}}for(e in t){if(typeof this.availableOptions[e]==="undefined"){throw new Error("Invalid option: ".concat(e));}if(typeof t[e]!=="undefined"){o=e.charAt(0).toUpperCase()+e.slice(1);this["set".concat(o)](t[e],false,true);}}}},{key:"set",value:function set(t){var _this42=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;Object.keys(t).forEach(function(r){_this42.setOption(r,t[r],false);});this._onOptionsChange();if(e){this.emit("update",this,t);}}},{key:"getOption",value:function getOption(t){return this._options[t];}},{key:"hasOption",value:function hasOption(t){return!!this.availableOptions[t];}},{key:"getOptionDefault",value:function getOptionDefault(t){var e=this.availableOptions[t];if(!e){throw new Error("Invalid option: ".concat(t));}return e["default"];}},{key:"resetOptions",value:function resetOptions(){this.set(this.getDefaultOptions());}},{key:"getDefaultOptions",value:function getDefaultOptions(){var t={};for(var e in this.availableOptions){var r=this.availableOptions[e]["default"];if(typeof r==="undefined")continue;t[e]=r;}return t;}},{key:"getOptions",value:function getOptions(){return _objectSpread({},this._options);}},{key:"equals",value:function equals(t){var e=t.getOptions();return this.optionsEqual(e);}},{key:"optionsEqual",value:function optionsEqual(t){for(var e in t){var r=t[e];if(!this._optionEquals(e,r)){return false;}}return true;}},{key:"_optionEquals",value:function _optionEquals(t,e){var r=this.availableOptions[t];if(typeof r==="undefined"){throw new Error("Invalid option: ".concat(t));}var o=this.availableOptions[t].type;var n=this._options[t];if(n===e)return true;if(typeof e==="undefined"||typeof n==="undefined")return false;switch(o){case"object":if(typeof n.optionsEqual==="function"){return n.optionsEqual(e._options);}return n===e;case"string":case"number":case"boolean":case"function":case"*":return n===e;case"vector2":return n.equals(e);case"color":case"color-matrix":return e.equals(n);case"configurable":return n.optionsEqual(e);case"array":return this._arrayOptionEquals(t,e);case"image":return n.src===e.src;}}},{key:"_arrayOptionEquals",value:function _arrayOptionEquals(t,e){var r=this._options[t];if(e.length!==r.length){return false;}var o=true;for(var n=0;n<r.length;n++){var s=r[n];var a=e[n];if(s instanceof _Td){if(typeof a==="undefined"||!s.optionsEqual(a)){o=false;break;}}else if(a!==s){o=false;break;}}return o;}},{key:"serializeOptions",value:function serializeOptions(){var _this43=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(this._options);var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r={};t.forEach(function(o){if(typeof _this43.availableOptions[o]==="undefined"){return Log.warn("Trying to serialize a key that does not exist: ".concat(o));}if(_this43.availableOptions[o].serializable===false)return;r[o]=_this43.serializeOption(o,e);});return r;}},{key:"serializeOption",value:function serializeOption(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=this.availableOptions[t];var o=r.type;var n=this._options[t];if(!n)return n;if(r.serializable===false){throw new Error("Option `".concat(t,"` is not serializable."));}switch(o){case"string":case"number":case"boolean":case"object":case"function":case"*":return n;case"vector2":return e?n.toObject():n.clone();case"color":case"color-matrix":return e?n.toArray():n.clone();case"configurable":return n.serializeOptions(void 0,e);case"array":return n.slice(0);case"image":return e?n.src:n;}}},{key:"setOption",value:function setOption(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=this.availableOptions[t];if(!n){throw new Error("Invalid option: ".concat(t));}if(typeof n.setter!=="undefined"){e=n.setter.call(this,e,o);}if(typeof n.validation!=="undefined"){n.validation(e);}if(e===null||typeof e==="undefined"){if(n.required){throw this._buildConfigError("Option `".concat(t,"` is required."));}this._options[t]=e;}else{switch(n.type){case"string":{if(typeof e!=="string"){throw this._buildConfigError("Option `".concat(t,"` has to be a string."));}var s=n.available;if(typeof s!=="undefined"&&s.indexOf(e)===-1){throw this._buildConfigError("Invalid value for `".concat(t,"` (valid values are: ").concat(n.available.join(", "),")"));}this._options[t]=e;break;}case"number":if(typeof e!=="number"){throw this._buildConfigError("Option `".concat(t,"` has to be a number."));}this._options[t]=e;break;case"boolean":if(typeof e!=="boolean"){throw this._buildConfigError("Option `".concat(t,"` has to be a boolean."));}this._options[t]=e;break;case"vector2":if(!(e instanceof _ot2)&&!(_typeof(e)==="object"&&"x"in e&&"y"in e)){throw this._buildConfigError("Option `".concat(t,"` has to be an instance of Vector2 or an Object holding x and y values."));}if(e instanceof _ot2){this._options[t]=e.clone();}else{this._options[t]=_ot2.fromObject(e);}break;case"color":if(!(e instanceof G)){throw this._buildConfigError("Option `".concat(t,"` has to be an instance of Color."));}this._options[t]=e;break;case"color-matrix":if(!(e instanceof eh)){throw this._buildConfigError("Option `".concat(t,"` has to be an instance of ColorMatrix."));}this._options[t]=e.clone();break;case"function":if(typeof e!=="function"){throw this._buildConfigError("Option `".concat(t,"` has to be a function."));}this._options[t]=e;break;case"object":case"*":this._options[t]=e;break;case"image":{var _pi=pi,_s3=_pi.Image;if(typeof e==="string"){var a=new _s3();if(T4(a)){a.crossOrigin=z.getCrossOriginValue(n.crossOrigin);}a.src=e;this._options[t]=a;}else if(e instanceof _s3||typeof HTMLCanvasElement!=="undefined"&&e instanceof HTMLCanvasElement||typeof HTMLImageElement!=="undefined"&&e instanceof HTMLImageElement){this._options[t]=e;}else{throw this._buildConfigError("Option `".concat(t,"` has to be an Image, Canvas or String."));}break;}case"configurable":if(e instanceof _Td){this._options[t]=e;}else{this._options[t].set(e);}break;case"array":if(!(e instanceof Array)){throw this._buildConfigError("Option `".concat(t,"` has to be an Array."));}this._options[t]=e.slice(0);break;default:throw this._buildConfigError("Unknown option type: `".concat(n.type,"`"));}}if(r){this._onOptionsChange();this.emit("update",this,_defineProperty({},t,e));}}},{key:"_onConfigurableUpdate",value:function _onConfigurableUpdate(){for(var _len9=arguments.length,t=new Array(_len9),_key9=0;_key9<_len9;_key9++){t[_key9]=arguments[_key9];}this.emit.apply(this,["update"].concat(t));}},{key:"hasChanges",value:function hasChanges(){var t=this.getDefaultOptions();return!this.optionsEqual(t);}}]);return Td;}(Vi);_t=_Td;});var ih;var O1=d(function(){Ar();Le();Le();ih=/*#__PURE__*/function(){function ih(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];_classCallCheck(this,ih);this._program=null;this._renderer=t;this._vertexSource=e;this._fragmentSource=r;this._uniforms=o;this._uniformLocations={};this._attributes=n;this._attributeLocations={};this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange);this._init();}_createClass(ih,[{key:"_init",value:function _init(){this._compile();var t=this._renderer.getContext();t.useProgram(this._program);this._cacheUniformLocations();this._cacheAttributeLocations();}},{key:"_onContextChange",value:function _onContextChange(){this._init();}},{key:"setupBuffers",value:function setupBuffers(t,e){var r=this._renderer.getContext();r.bindBuffer(r.ARRAY_BUFFER,t);r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e);r.vertexAttribPointer(this._attributeLocations.a_position,2,r.FLOAT,false,Ka,0);r.vertexAttribPointer(this._attributeLocations.a_texCoord,2,r.FLOAT,false,Ka,2*4);r.vertexAttribPointer(this._attributeLocations.a_color,4,r.UNSIGNED_BYTE,true,Ka,4*4);}},{key:"syncUniforms",value:function syncUniforms(){var _this44=this;Object.keys(this._uniforms).forEach(function(t){_this44.syncUniform(t);});}},{key:"syncUniform",value:function syncUniform(t){var e=this._renderer.getContext();var r=this._uniforms[t];var o=this._uniformLocations[t];switch(r.type){case"sampler2d":e.uniform1i(o,r.value);break;case"i":case"1i":e.uniform1i(o,r.value);break;case"2i":e.uniform2i(o,r.value[0],r.value[1]);break;case"3i":e.uniform3i(o,r.value[0],r.value[1],r.value[2]);break;case"4i":e.uniform4i(o,r.value[0],r.value[1],r.value[2],r.value[3]);break;case"f":case"1f":e.uniform1f(o,r.value);break;case"2f":e.uniform2f(o,r.value[0],r.value[1]);break;case"3f":e.uniform3f(o,r.value[0],r.value[1],r.value[2]);break;case"4f":e.uniform4f(o,r.value[0],r.value[1],r.value[2],r.value[3]);break;case"2fv":e.uniform2fv(o,r.value);break;case"mat3":case"mat3fv":e.uniformMatrix3fv(o,false,r.value);break;case"mat4":e.uniformMatrix4fv(o,false,r.value);break;default:Y.warn(this.constructor.name,"Unknown uniform type: ".concat(r.type));}}},{key:"_cacheAttributeLocations",value:function _cacheAttributeLocations(){var _this45=this;var t=this._renderer.getContext();this._attributes.forEach(function(e){if(_this45._program){_this45._attributeLocations[e]=t.getAttribLocation(_this45._program,e);}});}},{key:"_cacheUniformLocations",value:function _cacheUniformLocations(){var _this46=this;var t=this._renderer.getContext();var e=Object.keys(this._uniforms);e.forEach(function(r){if(_this46._program){var o=t.getUniformLocation(_this46._program,r);if(o){_this46._uniformLocations[r]=o;}}});}},{key:"_addPrecisionToSource",value:function _addPrecisionToSource(t){var e=this._renderer.getMaxFloatPrecision();var r="mediump";if(z.isMobile()&&e==="highp"){r="highp";}return"precision ".concat(r," float;\n").concat(t);}},{key:"_compile",value:function _compile(){var t=this._renderer.getContext();var e=this._compileShader(t.VERTEX_SHADER,this._vertexSource);this._vertexShader=e;var r=this._addPrecisionToSource(this._fragmentSource);var o=this._compileShader(t.FRAGMENT_SHADER,r);this._fragmentShader=o;var n=t.createProgram();if(!n){return;}t.attachShader(n,e);t.attachShader(n,o);t.linkProgram(n);var s=t.getProgramParameter(n,t.LINK_STATUS);if(!s){var a=t.getProgramInfoLog(n);if(t.isContextLost())a="WebGL context lost";t.deleteProgram(n);Y.error(this.constructor.name,"WebGL program linking error: ".concat(a));}else{this._program=n;}}},{key:"_compileShader",value:function _compileShader(t,e){var r=this._renderer.getContext();var o=r.createShader(t);if(!o){throw new Error("Cannot create shared: ".concat(JSON.stringify(t)));}r.shaderSource(o,e);r.compileShader(o);var n=r.getShaderParameter(o,r.COMPILE_STATUS);if(!n){var s=r.getShaderInfoLog(o);if(r.isContextLost())s="WebGL context lost";r.deleteShader(o);Y.error(this.constructor.name,"WebGL shader compilation error: ".concat(s));}return o;}},{key:"setUniform",value:function setUniform(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._uniforms[t].value=e;if(r){this.syncUniform(t);}}},{key:"setUniforms",value:function setUniforms(t){var _this47=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Object.keys(t).forEach(function(r){_this47._uniforms[r].value=t[r];if(e){_this47.syncUniform(r);}});}},{key:"getUniforms",value:function getUniforms(){return this._uniforms;}},{key:"getAttributes",value:function getAttributes(){return this._attributes;}},{key:"getAttributeLocations",value:function getAttributeLocations(){return this._attributeLocations;}},{key:"getProgram",value:function getProgram(){return this._program;}},{key:"dispose",value:function dispose(){var t=this._renderer.getContext();t.deleteProgram(this._program);t.deleteShader(this._vertexShader);t.deleteShader(this._fragmentShader);this._renderer.off("context",this._onContextChange);}}]);return ih;}();});var j4;var V4=d(function(){j4="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_texCoord) * v_color;\n}\n";});var K4;var $4=d(function(){K4="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\nuniform mat3 u_projMatrix;\n\nvoid main() {\n  gl_Position = vec4((u_projMatrix * vec3(a_position, 1)).xy, 0, 1);\n  v_texCoord = a_texCoord;\n  v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n}\n";});var hrt,Bs,A1;var X4=d(function(){Ar();Le();O1();V4();$4();hrt=new _rr();Bs={vertexSource:K4,fragmentSource:j4,uniforms:{u_image:{type:"sampler2d",value:0},u_projMatrix:{type:"mat3",value:hrt.toArray()}},attributes:["a_position","a_texCoord","a_color"]};A1=/*#__PURE__*/function(_ih){_inherits(A1,_ih);var _super23=_createSuper(A1);function A1(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Bs.vertexSource;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Bs.fragmentSource;_classCallCheck(this,A1);return _super23.call(this,t,e,r,Bs.uniforms,Bs.attributes);}return A1;}(ih);});var B1=d(function(){O1();X4();});var Uo;var Id=d(function(){To();G4();Ar();kd();Le();B1();Tn();Uo=/*#__PURE__*/function(_t4){_inherits(Uo,_t4);var _super24=_createSuper(Uo);function Uo(){var _this48;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Uo);_this48=_super24.call(this,t,e);_this48._initOptions(t);return _this48;}_createClass(Uo,[{key:"_initOptions",value:function _initOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._shaders=[];this._availableUniforms=Bs.uniforms;this._attributes=Bs.attributes;this._vertexSource=Bs.vertexSource;this._fragmentSource=Bs.fragmentSource;this._initUniforms();_get(_getPrototypeOf(Uo.prototype),"_initOptions",this).call(this,t);}},{key:"_initUniforms",value:function _initUniforms(){this._uniforms={};for(var t in this._availableUniforms){var e=this._availableUniforms[t];this._uniforms[t]={type:e.type,value:e["default"]||null};}for(var _t5 in this.availableOptions){var _e2=this.availableOptions[_t5];if(!_e2.uniformType){Y.trace(this.constructor.name,"Option `".concat(_t5,"` is missing a `uniformType`!"));}else{this._uniforms["u_".concat(_t5)]={type:_e2.uniformType,value:_e2["default"]||null};}}}},{key:"setOption",value:function setOption(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;_get(_getPrototypeOf(Uo.prototype),"setOption",this).call(this,t,e,r);var o=e;var n=this.availableOptions[t];if(!n.uniformType){return;}var s="u_".concat(t);switch(n.type){case"color":if(n.uniformType==="4f"){o=e.toGLColor();}else if(n.uniformType==="3f"){o=e.toRGBGLColor();}break;case"vector2":o=[e.x,e.y];break;case"color-matrix":{o=[e.a,e.b,e.c,e.d,e.f,e.g,e.h,e.i,e.k,e.l,e.m,e.n,e.p,e.q,e.r,e.s];var a=[e.e,e.j,e.o,e.t];this._uniforms["".concat(s,"_vec")]={value:a,type:"4f"};}}this.setUniform(s,o);}},{key:"setUniform",value:function setUniform(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._uniforms[t].value=e;}},{key:"setUniforms",value:function setUniforms(t){var _this49=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;Object.entries(t).forEach(function(_ref88){var _ref89=_slicedToArray(_ref88,2),r=_ref89[0],o=_ref89[1];_this49._uniforms[r].value=o;if(e){_this49.syncUniform(r);}});}},{key:"syncUniform",value:function syncUniform(t){this._shaders.forEach(function(e){e.syncUniform(t);});}},{key:"syncUniforms",value:function syncUniforms(){this._shaders.forEach(function(t){t.syncUniforms();});}},{key:"getShaderForRenderer",value:function getShaderForRenderer(t){var e=t.id;if(!this._shaders)this._shaders=[];var r=this._shaders[e];if(!r){r=new ih(t,this._vertexSource,this._fragmentSource,this._uniforms,this._attributes);this._shaders[e]=r;}return r;}},{key:"apply",value:function apply(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(bd(t)){this._applyWebGL(t,e,r,o);}else{this._applyCanvas(t,e,r,o);}}},{key:"_applyWebGL",value:function _applyWebGL(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=t.getContext();var s=this.getShaderForRenderer(t);t.setRenderTarget(r);if(o){r.clear();}t.setShader(s);var a=t.getCurrentRenderTarget().getProjectionMatrix().toArray();s.setUniform("u_projMatrix",a);s.syncUniforms();n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,e.getTexture());n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0);}},{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=r.getContext();Y.warn(this.constructor.name,"`_applyCanvas` is not implemented. Just copying image data from `inputTarget` to `outputTarget`.");s.clearRect(0,0,n.width,n.height);s.drawImage(n,0,0);}},{key:"dispose",value:function dispose(){this._shaders.forEach(function(t){return t.dispose();});this._shaders=[];}},{key:"_blurImage",value:function _blurImage(t,e,r){var o=10;var n=t.getCanvas();var s=Math.min(1,o/(r*Math.min(n.width,n.height)));var a=z.createCanvas();a.width=Math.round(n.width*s);a.height=Math.round(n.height*s);var l=a.getContext("2d");l.drawImage(n,0,0,n.width,n.height,0,0,a.width,a.height);var c=r*Math.min(a.width,a.height);var u=l.getImageData(0,0,a.width,a.height);W4(u,0,0,a.width,a.height,c);l.putImageData(u,0,0);e.getContext().drawImage(a,0,0,a.width,a.height,0,0,n.width,n.height);$t(a);}}]);return Uo;}(_t);});var Y4;var q4=d(function(){Y4="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(color.a > 0. ? color.rgb / color.a : vec3(0), color.a);\n}\n";});var Dd;var J4=d(function(){Id();q4();Dd=/*#__PURE__*/function(_Uo){_inherits(Dd,_Uo);var _super25=_createSuper(Dd);function Dd(){var _this50;_classCallCheck(this,Dd);_this50=_super25.call(this);_this50._fragmentSource=Y4;return _this50;}return Dd;}(Uo);});var Q4;var Z4=d(function(){Q4="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(mix(color.rgb, u_color.rgb, u_color.a), color.a) * color.a;\n}\n";});var brt,yrt,P1,t3;var e3=d(function(){Le();Id();Z4();brt=ir.OptionType;yrt=ir.UniformType;P1=/*#__PURE__*/function(_Uo2){_inherits(P1,_Uo2);var _super26=_createSuper(P1);function P1(){var _this51;_classCallCheck(this,P1);for(var _len10=arguments.length,t=new Array(_len10),_key10=0;_key10<_len10;_key10++){t[_key10]=arguments[_key10];}_this51=_super26.call.apply(_super26,[this].concat(t));_this51._fragmentSource=Q4;return _this51;}_createClass(P1,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=this._options.color;var c=s.getImageData(0,0,n.width,n.height);var u=a.getImageData(0,0,n.width,n.height);var m=n.width*n.height;var p=new G();var h=new G();for(var g=0;g<m*4;g+=4){p.set(c.data[g]/255,c.data[g+1]/255,c.data[g+2]/255,c.data[g+3]/255);h.set(u.data[g]/255,u.data[g+1]/255,u.data[g+2]/255,u.data[g+3]/255);var x=h.r+p.a*(p.r-h.r);u.data[g]=(x+p.a*(l.r-x))*255;var v=h.g+p.a*(p.g-h.g);u.data[g+1]=(v+p.a*(l.g-v))*255;var b=h.b+p.a*(p.b-h.b);u.data[g+2]=(b+p.a*(l.b-b))*255;}a.putImageData(u,0,0);}}]);return P1;}(Uo);P1.prototype.availableOptions={color:{type:brt.COLOR,"default":G.WHITE,uniformType:yrt.FLOAT4}};t3=P1;});var r3;var i3=d(function(){r3="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\nuniform int u_mode;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\nconst float EPSILON = 0.0000001;\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord); // Is premultiplied.\n    color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha.\n    vec4 newColor;\n    if (u_mode == 0) {\n        newColor = vec4(color.rgb, 1.0); // We use alpha 1.0 becaue color is not premultiplied.\n        newColor *= color.a; // Premultiply the result\n    } else if (u_mode == 1) {\n        newColor = vec4(u_color.rgb, 1.0); // Use alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    } else if (u_mode == 2) {\n        float luminance = dot(color.rgb, W); // Convert to color to gray value.\n        newColor = vec4(vec3(luminance) * u_color.rgb, 1.0); // Colorize and with alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    }\n    gl_FragColor = newColor;\n}";});var o3,n3,_Xa,s3;var a3=d(function(){Le();Id();i3();o3=ir.OptionType;n3=ir.UniformType;_Xa=/*#__PURE__*/function(_Uo3){_inherits(Xa,_Uo3);var _super27=_createSuper(Xa);function Xa(){var _this52;_classCallCheck(this,Xa);for(var _len11=arguments.length,t=new Array(_len11),_key11=0;_key11<_len11;_key11++){t[_key11]=arguments[_key11];}_this52=_super27.call.apply(_super27,[this].concat(t));_this52._fragmentSource=r3;return _this52;}_createClass(Xa,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var _this$_options=this._options,c=_this$_options.mode,u=_this$_options.color;var m=u.r,p=u.g,h=u.b,g=u.a;var x=[.2125,.7154,.0721];switch(c){case _Xa.MODES.SOLID:for(var v=0;v<n.width*n.height;v++){var b=v*4;l.data[b]+=(m*255-l.data[b])*g;l.data[b+1]+=(p*255-l.data[b+1])*g;l.data[b+2]+=(h*255-l.data[b+2])*g;}break;case _Xa.MODES.COLORIZED:for(var _v2=0;_v2<n.width*n.height;_v2++){var _b3=_v2*4;var T=l.data[_b3]/255*x[0]+l.data[_b3+1]/255*x[1]+l.data[_b3+2]/255*x[2];var k=new G(T*m,T*p,T*h);l.data[_b3]+=(k.r*255-l.data[_b3])*g;l.data[_b3+1]+=(k.g*255-l.data[_b3+1])*g;l.data[_b3+2]+=(k.b*255-l.data[_b3+2])*g;}break;}a.putImageData(l,0,0);}}]);return Xa;}(Uo);_Xa.MODES={NONE:0,SOLID:1,COLORIZED:2};_Xa.prototype.availableOptions={color:{type:o3.COLOR,"default":G.WHITE,uniformType:n3.FLOAT4},mode:{type:o3.NUMBER,"default":_Xa.MODES.NONE,uniformType:n3.INT}};s3=_Xa;});var c3;var l3=d(function(){c3="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform sampler2D u_overlayImage;\nuniform int u_blendMode;\nuniform float u_alpha;\n\nconst float EPSILON = 0.000001;\n\nvec4 overlay(vec4 a, vec4 b) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 hardLight(vec4 b, vec4 a) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(b, vec4(result, b.a), u_alpha * a.a);\n}\n\nvec4 softLight(vec4 a, vec4 b) {\n    vec3 result = mix(\n          2.0 * a.rgb * (1.0 - b.rgb) + (2.0 * b.rgb - 1.0) * sqrt(a.rgb),\n          2.0 * a.rgb * b.rgb + a.rgb * a.rgb * (1.0 - 2.0 * b.rgb),\n          vec3(b.r < 0.5, b.g < 0.5, b.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 multiply(vec4 a, vec4 b) {\n    vec3 result = a.rgb * b.rgb;\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 darken(vec4 a, vec4 b) {\n    vec3 result = min(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 lighten(vec4 a, vec4 b) {\n    vec3 result = max(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 screen(vec4 a, vec4 b) {\n    vec3 result = 1.0 - (1.0 - a.rgb) * (1.0 - b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 colorBurn(vec4 a, vec4 b) {\n    vec3 result = clamp(1.0 - (1.0 - a.rgb) / max(b.rgb, EPSILON), 0.0, 1.0);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 normal(vec4 a, vec4 b) {\n    return mix(a, vec4(b.rgb, a.a), u_alpha * b.a);\n}\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 overlayColor = texture2D(u_overlayImage, v_texCoord);\n\n  vec4 resultColor;\n  if (u_blendMode == 0) {\n    resultColor = normal(color, overlayColor);\n  } else if (u_blendMode == 1) {\n    resultColor = overlay(color, overlayColor);\n  } else if (u_blendMode == 2) {\n    resultColor = hardLight(color, overlayColor);\n  } else if (u_blendMode == 3) {\n    resultColor = softLight(color, overlayColor);\n  } else if (u_blendMode == 4) {\n    resultColor = multiply(color, overlayColor);\n  } else if (u_blendMode == 5) {\n    resultColor = darken(color, overlayColor);\n  } else if (u_blendMode == 6) {\n    resultColor = lighten(color, overlayColor);\n  } else if (u_blendMode == 7) {\n    resultColor = screen(color, overlayColor);\n  } else if (u_blendMode == 8) {\n    resultColor = colorBurn(color, overlayColor);\n  }\n  gl_FragColor = vec4(resultColor.rgb * resultColor.a, resultColor.a);\n}\n";});var Oy,M1,L1,_ji,u3;var d3=d(function(){Le();Id();l3();Oy=ir.OptionType;M1=ir.UniformType;L1=1e-6;_ji=/*#__PURE__*/function(_Uo4){_inherits(ji,_Uo4);var _super28=_createSuper(ji);function ji(){var _this53;_classCallCheck(this,ji);for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}_this53=_super28.call.apply(_super28,[this].concat(t));_this53._fragmentSource=c3;_this53._lastImage=null;return _this53;}_createClass(ji,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=this._options.overlayTexture.getRenderTarget().getContext();var s=e.getCanvas();var a=e.getContext();var l=r.getContext();var c=a.getImageData(0,0,s.width,s.height);var u=n.getImageData(0,0,s.width,s.height);var _this$_options2=this._options,m=_this$_options2.blendMode,p=_this$_options2.alpha;var h=new G();var g=new G();var x=new G();for(var v=0;v<s.width*s.height*4;v+=4){h.set(c.data[v]/255,c.data[v+1]/255,c.data[v+2]/255,c.data[v+3]/255);g.set(u.data[v]/255,u.data[v+1]/255,u.data[v+2]/255,u.data[v+3]/255);var b=void 0;var T=void 0;var k=void 0;var E=void 0;var A=void 0;var I=void 0;var F=void 0;var Z=void 0;var et=void 0;switch(m){case _ji.BLEND_MODES.NORMAL:x.set(h.r+g.a*p*(g.r-h.r),h.g+g.a*p*(g.g-h.g),h.b+g.a*p*(g.b-h.b),h.a);break;case _ji.BLEND_MODES.OVERLAY:b=1-2*(1-h.r)*(1-g.r);T=2*h.r*g.r;k=b+(h.r<.5?1:0)*(T-b);E=1-2*(1-h.g)*(1-g.g);A=2*h.g*g.g;I=E+(h.g<.5?1:0)*(A-E);F=1-2*(1-h.b)*(1-g.b);Z=2*h.b*g.b;et=F+(h.b<.5?1:0)*(Z-F);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.HARD_LIGHT:b=1-2*(1-g.r)*(1-h.r);T=2*g.r*h.r;k=b+(g.r<.5?1:0)*(T-b);E=1-2*(1-g.g)*(1-h.g);A=2*g.g*h.g;I=E+(g.g<.5?1:0)*(A-E);F=1-2*(1-g.b)*(1-h.b);Z=2*g.b*h.b;et=F+(g.b<.5?1:0)*(Z-F);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.SOFT_LIGHT:b=2*h.r*(1-g.r)+(2*g.r-1)*Math.sqrt(h.r);T=2*h.r*g.r+h.r*h.r*(1-2*g.r);k=b+(g.r<.5?1:0)*(T-b);E=2*h.g*(1-g.g)+(2*g.g-1)*Math.sqrt(h.g);A=2*h.g*g.g+h.g*h.g*(1-2*g.g);I=E+(g.g<.5?1:0)*(A-E);F=2*h.b*(1-g.b)+(2*g.b-1)*Math.sqrt(h.b);Z=2*h.b*g.b+h.b*h.b*(1-2*g.b);et=F+(g.b<.5?1:0)*(Z-F);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.MULTIPLY:k=h.r*g.r;I=h.g*g.g;et=h.b*g.b;x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.DARKEN:k=Math.min(h.r,g.r);I=Math.min(h.g,g.g);et=Math.min(h.b,g.b);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.LIGHTEN:k=Math.max(h.r,g.r);I=Math.max(h.g,g.g);et=Math.max(h.b,g.b);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.SCREEN:k=1-(1-h.r)*(1-g.r);I=1-(1-h.g)*(1-g.g);et=1-(1-h.b)*(1-g.b);x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;case _ji.BLEND_MODES.COLOR_BURN:k=Math.max(0,Math.min(1,1-(1-h.r)/Math.max(g.r,L1)));I=Math.max(0,Math.min(1,1-(1-h.g)/Math.max(g.g,L1)));et=Math.max(0,Math.min(1,1-(1-h.b)/Math.max(g.b,L1)));x.set(h.r+g.a*p*(k-h.r),h.g+g.a*p*(I-h.g),h.b+g.a*p*(et-h.b),h.a);break;}c.data[v]=x.r*255;c.data[v+1]=x.g*255;c.data[v+2]=x.b*255;c.data[v+3]=x.a*255;}l.putImageData(c,0,0);}}]);return ji;}(Uo);_ji.BLEND_MODES={NORMAL:0,OVERLAY:1,HARD_LIGHT:2,SOFT_LIGHT:3,MULTIPLY:4,DARKEN:5,LIGHTEN:6,SCREEN:7,COLOR_BURN:8};_ji.prototype.availableOptions={blendMode:{type:Oy.NUMBER,"default":_ji.BLEND_MODES.NORMAL,uniformType:M1.INT},overlayImage:{type:Oy.NUMBER,required:true,uniformType:M1.SAMPLER2D},overlayTexture:{type:Oy.OBJECT,required:true},alpha:{type:Oy.NUMBER,"default":1,uniformType:M1.FLOAT}};u3=_ji;});var z1={};de(z1,{ColorOverlayFilter:function ColorOverlayFilter(){return t3;},OverlayFilter:function OverlayFilter(){return u3;},TintFilter:function TintFilter(){return s3;},UnpremultiplyFilter:function UnpremultiplyFilter(){return Dd;}});var U1=d(function(){J4();e3();a3();d3();});var m3,_Ed,Ae;var Fd=d(function(){var _m2;Le();Tn();m3=(_m2={},_defineProperty(_m2,1,"LINEAR"),_defineProperty(_m2,0,"NEAREST"),_defineProperty(_m2,2,"LINEAR_MIPMAP_NEAREST"),_defineProperty(_m2,3,"LINEAR_MIPMAP_LINEAR"),_m2);_Ed=/*#__PURE__*/function(_Vi2){_inherits(Ed,_Vi2);var _super29=_createSuper(Ed);function Ed(t){var _this54;_classCallCheck(this,Ed);_this54=_super29.call(this);_this54._renderers=[];_this54._glTextures={};_this54._dirty=true;_this54._mipMapping=false;_this54._glUnit=0;_this54._magFilter=_Ed.DefaultMagFilter;_this54._minFilter=_Ed.DefaultMinFilter;_this54._repeatX=0;_this54._repeatY=0;_this54._pixelRatio=1;_this54._loaded=false;_this54._frame=new _ce(0,0,100,100);_this54._onSourceLoaded=_this54._onSourceLoaded.bind(_assertThisInitialized(_this54));_this54._source=t;_this54._loadSource();return _this54;}_createClass(Ed,[{key:"resizeTo",value:function resizeTo(t){if(this._frame.width===t.x&&this._frame.height===t.y){return;}this._frame.width=t.x;this._frame.height=t.y;this._dirty=true;}},{key:"_loadSource",value:function _loadSource(){var t=this._source;if(!t)return;if(pi.isCanvas(t)){return this._onSourceLoaded();}if(t.complete){return this._onSourceLoaded();}t.addEventListener&&t.addEventListener("load",this._onSourceLoaded);}},{key:"_onSourceLoaded",value:function _onSourceLoaded(){this._loaded=true;this.emit("loaded");this.update();}},{key:"_updateGLFilters",value:function _updateGLFilters(){if(!this._source)return;var t=new _ot2(this._source.width,this._source.height);if(z.isPowerOfTwo(t)){Y.info(this.constructor.name,"Mip-mapping enabled");this._minFilter=_Ed.TrilinearFilter;this._mipMapping=true;}else{this._minFilter=_Ed.LinearFilter;this._mipMapping=false;}}},{key:"update",value:function update(){if(!this._source)return;if(this._frame.width!==this._source.width||this._frame.height!==this._source.height){this._frame=new _ce(0,0,this._source.width,this._source.height);this._dirty=true;}this._updateGLFilters();this.emit("update");}},{key:"getRenderers",value:function getRenderers(){return _toConsumableArray(this._renderers);}},{key:"getGLFilter",value:function getGLFilter(t,e){switch(e){case"min":return t[m3[this._minFilter]];case"mag":return t[m3[this._magFilter]];}}},{key:"isLoaded",value:function isLoaded(){return this._loaded;}},{key:"setLoaded",value:function setLoaded(t){this._loaded=t;}},{key:"getSource",value:function getSource(){return this._source;}},{key:"setSource",value:function setSource(t){this._source=t;}},{key:"getGLTextureForRenderer",value:function getGLTextureForRenderer(t){return this._glTextures[t.id];}},{key:"setGLTextureForRenderer",value:function setGLTextureForRenderer(t,e){this._renderers[e.id]=e;this._glTextures[e.id]=t;}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(t){this._frame=t;}},{key:"getDimensions",value:function getDimensions(){return new _ot2(this._frame.width,this._frame.height);}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(t){this._pixelRatio=t;}},{key:"getGLUnit",value:function getGLUnit(){return this._glUnit;}},{key:"setGLUnit",value:function setGLUnit(t){this._glUnit=t;}},{key:"setMinFilter",value:function setMinFilter(t){this._minFilter=t;}},{key:"getMinFilter",value:function getMinFilter(){return this._minFilter;}},{key:"setMagFilter",value:function setMagFilter(t){this._magFilter=t;}},{key:"getMagFilter",value:function getMagFilter(){return this._magFilter;}},{key:"setRepeatX",value:function setRepeatX(t){this._repeatX=t;}},{key:"getRepeatX",value:function getRepeatX(){return this._repeatX;}},{key:"setRepeatY",value:function setRepeatY(t){this._repeatY=t;}},{key:"getRepeatY",value:function getRepeatY(){return this._repeatY;}},{key:"getGLRepeat",value:function getGLRepeat(t,e){var r=e==="x"?this.getRepeatX():this.getRepeatY();switch(r){case 0:return t.CLAMP_TO_EDGE;case 1:return t.REPEAT;case 2:return t.MIRRORED_REPEAT;default:return 0;}}},{key:"isDirty",value:function isDirty(){return this._dirty;}},{key:"setDirty",value:function setDirty(t){this._dirty=t;}},{key:"disposeGLTextures",value:function disposeGLTextures(){var _this55=this;this._renderers.forEach(function(t){if(bd(t)){_this55.disposeGLTexturesForRenderer(t);}});}},{key:"disposeGLTexturesForRenderer",value:function disposeGLTexturesForRenderer(t){if(!this._glTextures[t.id])return;var e=t.getContext();e.deleteTexture(this._glTextures[t.id]);delete this._glTextures[t.id];if(!this._renderers[t.id]){delete this._renderers[t.id];}}},{key:"isMipMappingEnabled",value:function isMipMappingEnabled(){return this._mipMapping;}},{key:"setMipMappingEnabled",value:function setMipMappingEnabled(t){this._mipMapping=t;}},{key:"dispose",value:function dispose(){this.disposeGLTextures();this._source=void 0;}}]);return Ed;}(Vi);Ae=_Ed;Ae.NearestFilter=0;Ae.LinearFilter=1;Ae.BilinearFilter=2;Ae.TrilinearFilter=3;Ae.DefaultMagFilter=1;Ae.DefaultMinFilter=1;Ae.Repeat=1;Ae._id=0;});var Ps;var rh=d(function(){Le();Fd();Tn();Ps=/*#__PURE__*/function(){function Ps(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:pi.createCanvas();var n=arguments.length>4?arguments[4]:undefined;_classCallCheck(this,Ps);this._width=t;this._height=e;this._pixelRatio=r;this._baseTexture=new Ae();this._canvas=o;var s=n||this._canvas.getContext("2d");if(!s){throw new Error("Cannot get canvas context");}this._context=s;this._baseTexture.setSource(this._canvas);this._canvas.width=this._width*this._pixelRatio;this._canvas.height=this._height*this._pixelRatio;this._filterStack=[{renderTarget:this,filters:[]}];}_createClass(Ps,[{key:"clear",value:function clear(){var t=this._context;t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio);}},{key:"resizeTo",value:function resizeTo(t){this._baseTexture.resizeTo(t);if(this._width!==t.x){this._width=t.x;this._canvas.width=this._width*this._pixelRatio;}if(this._height!==t.y){this._height=t.y;this._canvas.height=this._height*this._pixelRatio;}}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"getContext",value:function getContext(){return this._context;}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"getWidth",value:function getWidth(){return this._width;}},{key:"getHeight",value:function getHeight(){return this._height;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(t){this._pixelRatio=t;}},{key:"getDimensions",value:function getDimensions(){return new _ot2(this._width,this._height);}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"dispose",value:function dispose(){delete this._canvas;delete this._context;this._baseTexture.dispose();}}]);return Ps;}();});var lc;var Ay=d(function(){Le();rh();lc=/*#__PURE__*/function(){function lc(t){_classCallCheck(this,lc);this._renderer=t;this._filterStack=[{renderTarget:t.getCurrentRenderTarget(),filters:[]}];this._textures=[];this._textureFrame=new _ce(0,0,t.getWidth(),t.getHeight());}_createClass(lc,[{key:"resizeTo",value:function resizeTo(t){this._textureFrame.width=t.x;this._textureFrame.height=t.y;this._textures.forEach(function(e){return e.resizeTo(t);});}},{key:"pushFilters",value:function pushFilters(t,e){this._currentFrame=t.getBounds();var r=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(r);this._filterStack.push({renderTarget:r,filters:e});r.clear();}},{key:"popFilters",value:function popFilters(){var t=this._filterStack.pop();if(!t)return void 0;var e=t.filters,r=t.renderTarget;var o=this._filterStack[this._filterStack.length-1];var n=r;var s=o.renderTarget;if(e.length===1){var a=e[0];a.apply(this._renderer,n,s);this._textures.push(n);}else{this._applyFilters(e,n,s);}return e;}},{key:"_applyFilters",value:function _applyFilters(t,e,r){var _this56=this;var o=e;var n=this._getOrCreateRenderTarget(true);var s=t[t.length-1];t.forEach(function(a){var l=a===s;if(!l){a.apply(_this56._renderer,o,n);var c=o;o=n;n=c;}else{a.apply(_this56._renderer,o,r);}});this._textures.push(o);this._textures.push(n);}},{key:"_getOrCreateRenderTarget",value:function _getOrCreateRenderTarget(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this._textures.pop();if(!e){e=new Ps(this._textureFrame.width,this._textureFrame.height,1);}if(t){e.clear();}return e;}},{key:"setFilterStack",value:function setFilterStack(t){this._filterStack=t;}},{key:"dispose",value:function dispose(){}}]);return lc;}();});var nh=Gt(function(p3,oh){(function(){var i,t,e,r,o,n;if(typeof performance!=="undefined"&&performance!==null&&performance.now){oh.exports=function(){return performance.now();};}else if(typeof process!=="undefined"&&process!==null&&process.hrtime){oh.exports=function(){return(i()-o)/1e6;};t=process.hrtime;i=function i(){var s;s=t();return s[0]*1e9+s[1];};r=i();n=process.uptime()*1e9;o=r-n;}else if(Date.now){oh.exports=function(){return Date.now()-e;};e=Date.now();}else{oh.exports=function(){return new Date().getTime()-e;};e=new Date().getTime();}}).call(p3);});var h3,f3,By;var N1=d(function(){Le();h3=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):nh();f3=/*#__PURE__*/function(){function f3(t){var _this57=this;_classCallCheck(this,f3);this._context=t;this._tracking=false;var e=this;var _loop2=function _loop2(r){var o=t[r];if(typeof o==="function"){_this57[r]=function(){var s=t[r];for(var _len13=arguments.length,n=new Array(_len13),_key13=0;_key13<_len13;_key13++){n[_key13]=arguments[_key13];}if(!e._tracking){return s.apply(t,n);}var a=h3();var l=s.apply(t,n);var c=h3()-a;var u={functionName:r,arguments:n,duration:c};e._trackedCalls.push(u);return l;};}else{_this57._makePropertyWrapper(r);}};for(var r in t){_loop2(r);}}_createClass(f3,[{key:"_makePropertyWrapper",value:function _makePropertyWrapper(t){var e=["_context","_trackedCalls","_tracking"];if(e.indexOf(t)!==-1)return;var r=this._context;this.__defineGetter__(t,function(){return r[t];});this.__defineSetter__(t,function(o){r[t]=o;});}},{key:"startFrame",value:function startFrame(){this._tracking=true;this._trackedCalls=[];}},{key:"endFrame",value:function endFrame(){var t="Rendering";Y.log(t,"Frame rendering results:");Y.log(t,"Context calls: ".concat(this._trackedCalls.length));var e={};this._trackedCalls.forEach(function(_ref90){var o=_ref90.functionName,n=_ref90.duration;e[o]=e[o]||{totalDuration:0,calls:0};e[o].totalDuration+=n;e[o].calls++;});var r=[];for(var o in e){var n=e[o];n.averageDuration=n.totalDuration/n.calls;r.push({functionName:o,data:n});}r.sort(function(o,n){return n.data.totalDuration-o.data.totalDuration;});r=r.slice(0,3);r.forEach(function(o){Y.log(t,"".concat(o.functionName,": ").concat(o.data.calls," calls, ").concat(o.data.totalDuration.toFixed(2),"ms"));});}}]);return f3;}();By=f3;});var sh;var H1=d(function(){Le();sh=/*#__PURE__*/function(_Vi3){_inherits(sh,_Vi3);var _super30=_createSuper(sh);function sh(){var _this58;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var r=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,sh);_this58=_super30.call(this);_this58._maxTextureSize=null;_this58._options=_objectSpread(_objectSpread({debug:false,transparent:false,clearColor:G.TRANSPARENT},r),{},{pixelRatio:1});_this58.setMaxListeners(0);_this58._width=t;_this58._height=e;_this58._dimensions=new _ot2(_this58._width,_this58._height);_this58._maxTextureSize=null;_this58._pixelRatio=_this58._options.pixelRatio;_this58._canvas=_this58._options.canvas;_this58._clearColor=_this58._options.transparent?G.TRANSPARENT:_this58._options.clearColor||G.BLACK;return _this58;}_createClass(sh,[{key:"setCanvas",value:function setCanvas(t){var e=this._canvas;this._canvas=t;if(e!==t){this._createContext();this._onBeforeContext();this._setupContext();}this.resizeTo(new _ot2(this._width,this._height));}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"_onBeforeContext",value:function _onBeforeContext(){}},{key:"resizeTo",value:function resizeTo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this._width=t.x*this._pixelRatio;this._height=t.y*this._pixelRatio;if(e&&this._canvas){this._canvas.width=this._width;this._canvas.height=this._height;if("style"in this._canvas){this._canvas.style.width="".concat(this._width/this._pixelRatio,"px");this._canvas.style.height="".concat(this._height/this._pixelRatio,"px");}}this._dimensions=t.clone();}},{key:"_createContext",value:function _createContext(){Y.warn(this.constructor.name,"`_createContext` is abstract and not implemented in inherited class");}},{key:"_setupContext",value:function _setupContext(){Y.warn(this.constructor.name,"`_setupContext` is abstract and not implemented in inherited class");}},{key:"render",value:function render(t){Y.warn(this.constructor.name,"`render` is abstract and not implemented in inherited class");}},{key:"getMaxDimensions",value:function getMaxDimensions(){return null;}},{key:"getContext",value:function getContext(){return this._context;}},{key:"getWidth",value:function getWidth(){return this._dimensions.x;}},{key:"getHeight",value:function getHeight(){return this._dimensions.y;}},{key:"getDimensions",value:function getDimensions(){return this._dimensions;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(t){this._pixelRatio=t;if(this._defaultRenderTarget){this._defaultRenderTarget.setPixelRatio(t);}}},{key:"getMaxTextureSize",value:function getMaxTextureSize(){return this._maxTextureSize;}},{key:"getFilterManager",value:function getFilterManager(){return this._filterManager;}},{key:"setFilterManager",value:function setFilterManager(t){this._filterManager=t;}},{key:"setClearColor",value:function setClearColor(t){this._clearColor=t;}},{key:"getClearColor",value:function getClearColor(){return this._clearColor;}},{key:"isOfType",value:function isOfType(t){return this._type===t;}},{key:"dispose",value:function dispose(){Y.warn(this.constructor.name,"`dispose` is abstract and not implemented in inherited class");}}]);return sh;}(Vi);});var g3,_W2,Rd;var b3=d(function(){To();Fy();Le();Ay();rh();N1();Tn();H1();g3=ir.RendererType;_W2=/*#__PURE__*/function(_sh){_inherits(W1,_sh);var _super31=_createSuper(W1);function W1(){var _this59;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var r=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,W1);_this59=_super31.call(this,t,e,_objectSpread({},r));_this59.id=0;_this59.setCanvas((r==null?void 0:r.canvas)||pi.createCanvas());_this59._type=g3.CANVAS;return _this59;}_createClass(W1,[{key:"_createContext",value:function _createContext(){var t=this._canvas;var e=t.getContext("2d");if(!e)return;if(this._options.debug){e=new By(e);}this.id=_W2.contextId++;this._context=e;this.emit("context",e);return e;}},{key:"_setupContext",value:function _setupContext(){var t=this._context;if(!("imageSmoothingEnabled"in t)){["moz","webkit","ms"].forEach(function(e){if(t[e]){t[e]=true;}});}else{t.imageSmoothingEnabled=true;}this._defaultRenderTarget=new Ps(this._width,this._height,this._pixelRatio,this._canvas,this._context);this.setRenderTarget(this._defaultRenderTarget);this._filterManager=new lc(this);}},{key:"render",value:function render(t){var e=this._renderTarget.getContext();var r=t.getParent();t.setParent(new ac());t.updateTransform();if(r){t.setParent(r);}e.setTransform(1,0,0,1,0,0);e.globalAlpha=1;var _this$_canvas=this._canvas,o=_this$_canvas.width,n=_this$_canvas.height;e.clearRect(0,0,o,n);if(this._clearColor.a!==0){e.save();e.fillStyle=this._clearColor.toRGBA();e.fillRect(0,0,o,n);e.restore();}this.renderDisplayObject(t,this._renderTarget);}},{key:"renderDisplayObject",value:function renderDisplayObject(t,e){var r=this._renderTarget;this._filterManager.setFilterStack(e.getFilterStack());this.setRenderTarget(e);t.renderCanvas(this);this.setRenderTarget(r);}},{key:"getCurrentRenderTarget",value:function getCurrentRenderTarget(){return this._renderTarget;}},{key:"setRenderTarget",value:function setRenderTarget(t){this._renderTarget=t;}},{key:"getContext",value:function getContext(){return this._renderTarget.getContext();}},{key:"dispose",value:function dispose(){$t(this._canvas);this._filterManager.dispose();}}]);return W1;}(sh);Rd=_W2;Rd.contextId=0;Rd.type=g3.CANVAS;});var y3;var _3=d(function(){y3=function y3(i){if(typeof window!=="undefined"){var _window=window,t=_window.WebGLDebugUtils;if(t){var e=function e(r,o){console.error("gl.".concat(r,"(").concat(t.glFunctionArgsToString(r,o),")"));};i=t.makeDebugContext(i,null,e);}}return i;};});var G1;var x3=d(function(){G1=/*#__PURE__*/function(){function G1(t){_classCallCheck(this,G1);this.vertices=new Float32Array([0,0,100,0,100,100,0,100]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.indices=new Uint16Array([0,1,2,0,3,2]);this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);this.vertexBuffer=null;this.indexBuffer=null;this.gl=t;this.initBuffers();this.uploadBuffers();}_createClass(G1,[{key:"map",value:function map(t,e){var r=e.x,o=e.y;this.uvs[2]=e.width/t.width;this.uvs[4]=this.uvs[2];this.uvs[5]=e.height/t.height;this.uvs[7]=this.uvs[5];this.vertices[0]=r;this.vertices[1]=o;this.vertices[2]=r+e.width;this.vertices[3]=o;this.vertices[4]=this.vertices[2];this.vertices[5]=o+e.height;this.vertices[6]=r;this.vertices[7]=this.vertices[5];this.uploadBuffers();}},{key:"getVertexBuffer",value:function getVertexBuffer(){return this.vertexBuffer;}},{key:"getIndexBuffer",value:function getIndexBuffer(){return this.indexBuffer;}},{key:"dispose",value:function dispose(){this.cleanBuffer();}},{key:"initBuffers",value:function initBuffers(){var t=this.gl;this.cleanBuffer();this.vertexBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer);t.bufferData(t.ARRAY_BUFFER,(8+8+16)*4,t.DYNAMIC_DRAW);this.indexBuffer=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW);}},{key:"uploadBuffers",value:function uploadBuffers(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer);t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices);t.bufferSubData(t.ARRAY_BUFFER,8*4,this.uvs);t.bufferSubData(t.ARRAY_BUFFER,(8+8)*4,this.colors);}},{key:"cleanBuffer",value:function cleanBuffer(){var t=this.gl;t.deleteBuffer(this.vertexBuffer);t.deleteBuffer(this.indexBuffer);}}]);return G1;}();});var Ms;var ah=d(function(){Le();Fd();Ms=/*#__PURE__*/function(){function Ms(t,e,r,o){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;_classCallCheck(this,Ms);this._renderer=t;this._gl=t.getContext();this._width=e;this._height=r;this._frame=null;this._pixelRatio=o;this._projectionMatrix=new _rr();this._mipMapping=false;this._baseTexture=new Ae();var s=this._baseTexture.getFrame();s.width=e;s.height=r;this._baseTexture.setPixelRatio(o);this._baseTexture.setLoaded(true);this._framebuffer=null;this._isRoot=n;this._filterStack=[{renderTarget:this,filters:[]}];if(!n){this._initFrameBuffer();}}_createClass(Ms,[{key:"resizeTo",value:function resizeTo(t){this._width=t.x|0;this._height=t.y|0;this._baseTexture.resizeTo(t);if(!this._isRoot){this._resizeTexture();}this._baseTexture.setMinFilter(this._getMinFilter());this._baseTexture.setMagFilter(this._getMagFilter());this._calculateProjectionMatrix();}},{key:"_getMinFilter",value:function _getMinFilter(){var t=Ae.DefaultMinFilter;if(this._mipMapping){t=Ae.TrilinearFilter;}return t;}},{key:"_getMagFilter",value:function _getMagFilter(){return Ae.DefaultMagFilter;}},{key:"_resizeTexture",value:function _resizeTexture(){var t=this._gl;var e=this._width*this._pixelRatio;var r=this._height*this._pixelRatio;if(this._texture){t.deleteTexture(this._texture);this._texture=null;}this._texture=t.createTexture();t.bindTexture(t.TEXTURE_2D,this._texture);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,r,0,t.RGBA,t.UNSIGNED_BYTE,null);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0);if(this._texture){this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer);}if(this._renderer._options.debug){nc.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",t);}var o=new _ot2(this._width,this._height);if(z.isPowerOfTwo(o)){Y.info("WebGLRenderTarget","Mip-mapping enabled");this._mipMapping=true;}else{this._mipMapping=false;}this._baseTexture.setMipMappingEnabled(this._mipMapping);}},{key:"activate",value:function activate(){var t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);this._calculateProjectionMatrix();t.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio);t.disable(t.STENCIL_TEST);}},{key:"clear",value:function clear(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:G.TRANSPARENT;var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer);if(this._renderer._options.debug){nc.checkFramebufferStatus("WebGLRenderTarget#clear",e);}e.clearColor.apply(e,t.toGLColor());e.clear(e.COLOR_BUFFER_BIT);}},{key:"_calculateProjectionMatrix",value:function _calculateProjectionMatrix(){var t=this._projectionMatrix;t.reset();var e=this._frame||new _ce(0,0,this._width,this._height);var r=e.x,o=e.y;if(!this._isRoot){t.a=1/this._width*2;t.d=1/this._height*2;t.tx=-1-r*t.a;t.ty=-1-o*t.d;}else{t.a=1/this._width*2;t.d=-1/this._height*2;t.tx=-1-r*t.a;t.ty=1-o*t.d;}}},{key:"_initFrameBuffer",value:function _initFrameBuffer(){var t=this._gl;if(this._framebuffer){t.deleteFramebuffer(this._framebuffer);this._framebuffer=null;}if(this._texture){t.deleteTexture(this._texture);this._texture=null;}this._framebuffer=t.createFramebuffer();this._texture=t.createTexture();t.bindTexture(t.TEXTURE_2D,this._texture);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0);if(this._texture){this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer);}this.resizeTo(new _ot2(this._width,this._height));if(this._renderer._options.debug){nc.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",t);}}},{key:"getProjectionMatrix",value:function getProjectionMatrix(){return this._projectionMatrix;}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(t){this._frame=t;}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"getPixelRatio",value:function getPixelRatio(){return this._pixelRatio;}},{key:"setPixelRatio",value:function setPixelRatio(t){this._pixelRatio=t;if(!this._isRoot){this._resizeTexture();}}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"dispose",value:function dispose(){var t=this._gl;this._baseTexture.dispose();if(this._framebuffer){t.deleteFramebuffer(this._framebuffer);this._framebuffer=null;}if(this._texture){t.deleteTexture(this._texture);this._texture=null;}}}]);return Ms;}();});var lh;var V1=d(function(){U1();Le();x3();Tn();ah();lh=/*#__PURE__*/function(){function lh(t){_classCallCheck(this,lh);this._renderer=t;this._filterStack=[];this._currentFrame=null;this._renderTargets=[];this._textureFrame=new _ce(0,0,t.getWidth(),t.getHeight());this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange);this._onContextChange();}_createClass(lh,[{key:"resizeTo",value:function resizeTo(t){this._textureFrame.width=t.x;this._textureFrame.height=t.y;this._renderTargets.forEach(function(e){return e.resizeTo(t);});}},{key:"getFilterStack",value:function getFilterStack(){return this._filterStack;}},{key:"setFilterStack",value:function setFilterStack(t){this._filterStack=t;}},{key:"_getOrCreateRenderTarget",value:function _getOrCreateRenderTarget(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this._renderTargets.pop();if(!e){e=new Ms(this._renderer,this._textureFrame.width,this._textureFrame.height,1);}if(this._currentFrame){e.setFrame(this._currentFrame);}if(t){e.clear();}return e;}},{key:"pushFilters",value:function pushFilters(t,e){var r=t.getBounds();this._currentFrame=r;var o=t.getFilterRectangle();if(o.width>0&&o.height>0){this._currentFrame=o;}var n=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(n);var s=e[0]instanceof Dd;if(s){n.clear(this._renderer.getClearColor());}else{n.clear();}this._filterStack.push({renderTarget:n,filters:e});}},{key:"popFilters",value:function popFilters(){var t=this._filterStack.pop();if(!t)return void 0;var e=t.filters,r=t.renderTarget;var o=this._filterStack[this._filterStack.length-1];var n=r;var s=o.renderTarget;var a=n.getFrame();if(a){this._quad.map(this._textureFrame,a);}var l=e[0].getShaderForRenderer(this._renderer);var c=this._quad.getVertexBuffer();var u=this._quad.getIndexBuffer();var m=this._renderer.getContext();m.bindBuffer(m.ARRAY_BUFFER,c);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,u);var p=l.getAttributeLocations();m.vertexAttribPointer(p.a_position,2,m.FLOAT,false,0,0);m.vertexAttribPointer(p.a_texCoord,2,m.FLOAT,false,0,2*4*4);m.vertexAttribPointer(p.a_color,4,m.FLOAT,false,0,4*4*4);this._renderer.updateTexture(n.getBaseTexture(),false);if(e.length===1){e[0].apply(this._renderer,n,s);this._renderTargets.push(n);}else{this._applyFilters(e,n,s);}return e;}},{key:"_applyFilters",value:function _applyFilters(t,e,r){var _this60=this;var o=e;var n=this._getOrCreateRenderTarget(true);this._renderer.updateTexture(n.getBaseTexture(),false);var s=t[t.length-1];t.forEach(function(a){var l=a===s;if(!l){a.apply(_this60._renderer,o,n,true);var c=o;o=n;n=c;}else{a.apply(_this60._renderer,o,r,true);}});this._renderTargets.push(o);this._renderTargets.push(n);}},{key:"_onContextChange",value:function _onContextChange(){this._renderTargets.length=0;if(bd(this._renderer)){if(this._quad){this._quad.dispose();}this._quad=new G1(this._renderer.getContext());}}},{key:"dispose",value:function dispose(){this._renderer.off("context",this._onContextChange);if(this._quad){this._quad.dispose();}this._renderTargets.forEach(function(t){t.dispose();});}}]);return lh;}();});var v3=Gt(function(VDt,j1){var ch=function ch(){function i(u){r.appendChild(u.dom);return u;}function t(u){for(var m=0;m<r.children.length;m++){r.children[m].style.display=m===u?"block":"none";}e=u;}var e=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";r.addEventListener("click",function(u){u.preventDefault();t(++e%r.children.length);},false);var o=(performance||Date).now(),n=o,s=0,a=i(new ch.Panel("FPS","#0ff","#002")),l=i(new ch.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=i(new ch.Panel("MB","#f08","#201"));t(0);return{REVISION:16,dom:r,addPanel:i,showPanel:t,begin:function begin(){o=(performance||Date).now();},end:function end(){s++;var u=(performance||Date).now();l.update(u-o,200);if(u>n+1e3&&(a.update(1e3*s/(u-n),100),n=u,s=0,c)){var m=performance.memory;c.update(m.usedJSHeapSize/1048576,m.jsHeapSizeLimit/1048576);}return u;},update:function update(){o=this.end();},domElement:r,setMode:t};};ch.Panel=function(i,t,e){var r=Infinity,o=0,n=Math.round,s=n(window.devicePixelRatio||1),a=80*s,l=48*s,c=3*s,u=2*s,m=3*s,p=15*s,h=74*s,g=30*s,x=document.createElement("canvas");x.width=a;x.height=l;x.style.cssText="width:80px;height:48px";var v=x.getContext("2d");v.font="bold "+9*s+"px Helvetica,Arial,sans-serif";v.textBaseline="top";v.fillStyle=e;v.fillRect(0,0,a,l);v.fillStyle=t;v.fillText(i,c,u);v.fillRect(m,p,h,g);v.fillStyle=e;v.globalAlpha=.9;v.fillRect(m,p,h,g);return{dom:x,update:function update(b,T){r=Math.min(r,b);o=Math.max(o,b);v.fillStyle=e;v.globalAlpha=1;v.fillRect(0,0,a,p);v.fillStyle=t;v.fillText(n(b)+" "+i+" ("+n(r)+"-"+n(o)+")",c,u);v.drawImage(x,m+s,p,h-s,g,m,p,h-s,g);v.fillRect(m+h-s,p,s,g);v.fillStyle=e;v.globalAlpha=.9;v.fillRect(m+h-s,p,s,n((1-b/T)*g));}};};_typeof(j1)==="object"&&(j1.exports=ch);});var qa,Py;var C3=d(function(){qa=y(v3());Py=/*#__PURE__*/function(){function Py(t){_classCallCheck(this,Py);this._context=t;this._domAvailable=typeof document!=="undefined";this._hookIntoContext();this._textures={};this._framebuffers={};this._programs={};this._shaders={};this._buffers={};this._boundTexture=null;this._id=0;this._enums={};this._setupStats();this._createEnumMap();this._updateMemoryStats=this._updateMemoryStats.bind(this);this._updateMemoryStats();}_createClass(Py,[{key:"_createEnumMap",value:function _createEnumMap(){for(var t in this._context){var e=this._context[t];if(typeof e==="number"){this._enums[e]=t;}}}},{key:"_enumValueToString",value:function _enumValueToString(t){var e=this._enums[t];return typeof e==="undefined"?t:e;}},{key:"_setupStats",value:function _setupStats(){if(!this._domAvailable)return;this._stats=new qa["default"]();this._stats.showPanel(3);this._memPanel=this._stats.addPanel(new qa["default"].Panel("MB [WebGL]","#43ADEB","#282828"));this._texPanel=this._stats.addPanel(new qa["default"].Panel("Textures","#43ADEB","#282828"));this._bufPanel=this._stats.addPanel(new qa["default"].Panel("Buffers","#43ADEB","#282828"));this._fboPanel=this._stats.addPanel(new qa["default"].Panel("FBOs","#43ADEB","#282828"));this._prgPanel=this._stats.addPanel(new qa["default"].Panel("Programs","#43ADEB","#282828"));this._shdPanel=this._stats.addPanel(new qa["default"].Panel("Shaders","#43ADEB","#282828"));}},{key:"_updatePanel",value:function _updatePanel(t){if(!this._domAvailable)return;this._stats.begin();switch(t){case"tex":this._texPanel.update(this.getTexturesCount(),50);break;case"buf":this._bufPanel.update(this.getBuffersCount(),50);break;case"fbo":this._fboPanel.update(this.getFBOCount(),50);break;case"prg":this._prgPanel.update(this.getProgramCount(),50);break;case"shd":this._shdPanel.update(this.getShaderCount(),50);break;}this._stats.end();}},{key:"getTexturesCount",value:function getTexturesCount(){return Object.keys(this._textures).length;}},{key:"getBuffersCount",value:function getBuffersCount(){return Object.keys(this._buffers).length;}},{key:"getFBOCount",value:function getFBOCount(){return Object.keys(this._framebuffers).length;}},{key:"getProgramCount",value:function getProgramCount(){return Object.keys(this._programs).length;}},{key:"getShaderCount",value:function getShaderCount(){return Object.keys(this._shaders).length;}},{key:"_updateMemoryStats",value:function _updateMemoryStats(){if(!this._domAvailable)return;var t=this._getMemoryUsage()/1e3/1e3;this._memPanel.update(t,400);setTimeout(this._updateMemoryStats,1e3);}},{key:"_getMemoryUsage",value:function _getMemoryUsage(){var t=0;for(var e in this._textures){t+=this._textures[e].memory;}for(var _e3 in this._buffers){t+=this._buffers[_e3].memory;}return t;}},{key:"_hookIntoContext",value:function _hookIntoContext(){var _this61=this;var _loop3=function _loop3(t){var e=_this61._context[t];if(typeof e==="function"){_this61[t]=function(){var o=this._context[t];for(var _len14=arguments.length,r=new Array(_len14),_key14=0;_key14<_len14;_key14++){r[_key14]=arguments[_key14];}return this._trackGLCall(o,t,r);};}else{_this61._makePropertyWrapper(t);}};for(var t in this._context){_loop3(t);}}},{key:"_makePropertyWrapper",value:function _makePropertyWrapper(t){var e=["_context"];if(e.indexOf(t)!==-1)return;var r=this._context;this.__defineGetter__(t,function(){return r[t];});this.__defineSetter__(t,function(o){r[t]=o;});}},{key:"_trackGLCall",value:function _trackGLCall(t,e,r){var o=["texImage2D","bindTexture","createTexture","deleteTexture","createBuffer","bindBuffer","bufferData","deleteBuffer","createFramebuffer","deleteFramebuffer","createProgram","deleteProgram","createShader","deleteShader"];var n;if(o.indexOf(e)!==-1){n=this["_".concat(e)](r);}else{n=t.apply(this._context,r);}var s=this._context.getError();if(s!==0){var a=r.join(", ");if(a.length>100){a="".concat(a.substr(0,100),"...");}console.error(new Error("WebGL Error ".concat(this._enumValueToString(s)," in ").concat(e,"(").concat(a,")")));}return n;}},{key:"_createProgram",value:function _createProgram(){var t=this._context.createProgram();t._wmmId=this._id++;this._programs[t._wmmId]=t;this._updatePanel("prg");return t;}},{key:"_deleteProgram",value:function _deleteProgram(_ref91){var _ref92=_slicedToArray(_ref91,1),t=_ref92[0];if(!t||!this._programs[t._wmmId])return;delete this._programs[t._wmmId];this._context.deleteProgram(t);this._updatePanel("prg");}},{key:"_createShader",value:function _createShader(_ref93){var _ref94=_slicedToArray(_ref93,1),t=_ref94[0];var e=this._context.createShader(t);e._wmmId=this._id++;this._shaders[e._wmmId]=e;this._updatePanel("shd");return e;}},{key:"_deleteShader",value:function _deleteShader(_ref95){var _ref96=_slicedToArray(_ref95,1),t=_ref96[0];if(!t||!this._shaders[t._wmmId])return;delete this._shaders[t._wmmId];this._context.deleteShader(t);this._updatePanel("shd");}},{key:"_createFramebuffer",value:function _createFramebuffer(){var t=this._context.createFramebuffer();t._wmmId=this._id++;this._framebuffers[t._wmmId]=t;this._updatePanel("fbo");return t;}},{key:"_deleteFramebuffer",value:function _deleteFramebuffer(_ref97){var _ref98=_slicedToArray(_ref97,1),t=_ref98[0];if(!t||!this._framebuffers[t._wmmId])return;delete this._framebuffers[t._wmmId];this._context.deleteFramebuffer(t);this._updatePanel("fbo");}},{key:"_createBuffer",value:function _createBuffer(){var t=this._context.createBuffer();t._wmmId=this._id++;this._buffers[t._wmmId]={buffer:t,memory:0};this._updatePanel("buf");return t;}},{key:"_bindBuffer",value:function _bindBuffer(_ref99){var _ref100=_slicedToArray(_ref99,2),t=_ref100[0],e=_ref100[1];this._context.bindBuffer(t,e);this._boundBuffer=e._wmmId;}},{key:"_bufferData",value:function _bufferData(_ref101){var _ref102=_slicedToArray(_ref101,3),t=_ref102[0],e=_ref102[1],r=_ref102[2];this._context.bufferData(t,e,r);var o;if(typeof e==="number"){o=e;}else if("byteLength"in e){o=e.byteLength;}else if("length"in e){o=e.length;}this._buffers[this._boundBuffer].memory=o;}},{key:"_deleteBuffer",value:function _deleteBuffer(_ref103){var _ref104=_slicedToArray(_ref103,1),t=_ref104[0];if(!t||!this._buffers[t._wmmId])return;delete this._buffers[t._wmmId];this._context.deleteBuffer(t);this._updatePanel("buf");}},{key:"_createTexture",value:function _createTexture(){var t=this._context.createTexture();t._wmmId=this._id++;this._textures[t._wmmId]={texture:t,memory:0};this._updatePanel("tex");return t;}},{key:"_deleteTexture",value:function _deleteTexture(_ref105){var _ref106=_slicedToArray(_ref105,1),t=_ref106[0];if(!t||!this._textures[t._wmmId])return;delete this._textures[t._wmmId];this._context.deleteTexture(t);this._updatePanel("tex");}},{key:"_bindTexture",value:function _bindTexture(_ref107){var _ref108=_slicedToArray(_ref107,2),t=_ref108[0],e=_ref108[1];this._context.bindTexture(t,e);this._boundTexture=e._wmmId;}},{key:"_texImage2D",value:function _texImage2D(t){var _t6=_slicedToArray(t,9),e=_t6[2],r=_t6[3],o=_t6[4],n=_t6[5],s=_t6[8];if(typeof s==="undefined"){s=n;}this._context.texImage2D.apply(this._context,t);var a=this._calculateByteCountForTexture(e,r,o,s);this._textures[this._boundTexture].memory=a;}},{key:"_calculateByteCountForTexture",value:function _calculateByteCountForTexture(t,e,r,o){if(o!==null){if("width"in o){e=o.width;r=o.height;}else{return o.length;}}var n=1;switch(t){case this._context.ALPHA:n=1;break;case this._context.RGB:n=3;break;case this._context.RGBA:n=4;break;}return e*r*n;}}]);return Py;}();});var uh;var $1=d(function(){uh=/*#__PURE__*/function(){function uh(t){_classCallCheck(this,uh);this._renderer=t;this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange);}_createClass(uh,[{key:"_onContextChange",value:function _onContextChange(){}},{key:"start",value:function start(){}},{key:"stop",value:function stop(){this.flush();}},{key:"flush",value:function flush(){}},{key:"dispose",value:function dispose(){this._renderer.off("context",this._onContextChange);delete this._renderer;}}]);return uh;}();});var K1;var S3=d(function(){Le();$1();K1=/*#__PURE__*/function(_uh){_inherits(K1,_uh);var _super32=_createSuper(K1);function K1(t){var _this62;_classCallCheck(this,K1);_this62=_super32.call(this,t);_this62._vertexBuffer=null;_this62._indexBuffer=null;_this62._maxBatchSize=wd;_this62._vertices=new ArrayBuffer(wd*4*Ka);_this62._positions=new Float32Array(_this62._vertices);_this62._colors=new Uint32Array(_this62._vertices);_this62._indices=new Uint16Array(wd*6);for(var e=0,r=0;e<wd*6;e+=6,r+=4){_this62._indices[e+0]=r+0;_this62._indices[e+1]=r+1;_this62._indices[e+2]=r+2;_this62._indices[e+3]=r+0;_this62._indices[e+4]=r+2;_this62._indices[e+5]=r+3;}_this62._sprites=[];_this62._currentBatchSize=0;_this62._onContextChange();return _this62;}_createClass(K1,[{key:"render",value:function render(t){var e=t.getTexture();if(!e)return;var r=e.getFrame();var o=e.getBaseTexture();if(this._currentBatchSize>=this._maxBatchSize){this.flush();}var n=e.getUVs();if(!n){return;}var s=this._currentBatchSize*Ka;this._addVertexCoordinates(t,s,r);this._addTextureUVs(t,s,n);this._addColors(t,s);this._sprites[this._currentBatchSize]=t;this._currentBatchSize++;}},{key:"_addColors",value:function _addColors(t,e){var r=this._colors;var o=16777215;var n=(o>>16)+(o&65280)+((o&255)<<16)+(t.getWorldAlpha()*255<<24);r[e+4]=r[e+9]=r[e+14]=r[e+19]=n;}},{key:"_addTextureUVs",value:function _addTextureUVs(t,e,r){var o=this._positions;var _r6=_slicedToArray(r,4),n=_r6[0],s=_r6[1],a=_r6[2],l=_r6[3];o[e+2]=n.x;o[e+3]=n.y;o[e+7]=s.x;o[e+8]=s.y;o[e+12]=a.x;o[e+13]=a.y;o[e+17]=l.x;o[e+18]=l.y;}},{key:"_addVertexCoordinates",value:function _addVertexCoordinates(t,e,r){var o=this._positions;var n=t.getWorldTransform();var s=t.getAnchor();var a=n.rectangleToCoordinates(r,s);var l=5;for(var c=0;c<4;c++){o[e+c*l]=a[c].x;o[e+c*l+1]=a[c].y;}}},{key:"_onContextChange",value:function _onContextChange(){var t=this._renderer.getContext();this._shader=this._renderer.shaders["default"];if(this._vertexBuffer){this._vertexBuffer=null;}if(this._indexBuffer){this._indexBuffer=null;}this._vertexBuffer=t.createBuffer();this._indexBuffer=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indices,t.STATIC_DRAW);t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer);t.bufferData(t.ARRAY_BUFFER,this._vertices,t.DYNAMIC_DRAW);}},{key:"start",value:function start(){if(this._vertexBuffer&&this._indexBuffer){this._shader.setupBuffers(this._vertexBuffer,this._indexBuffer);}}},{key:"flush",value:function flush(){var p;var t=this._renderer;var e=t.getContext();if(this._currentBatchSize===0){return;}if(this._currentBatchSize>wd*.5){e.bufferSubData(e.ARRAY_BUFFER,0,this._vertices);}else{var h=this._positions.subarray(0,this._currentBatchSize*Ka);e.bufferSubData(e.ARRAY_BUFFER,0,h);}var r=0;var o=null;var n=null;var s=null;var a=null;var l=false;var c=false;var u=null;var m=0;for(var _h3=0,g=this._currentBatchSize;_h3<g;_h3++){u=this._sprites[_h3];n=(p=u.getTexture())==null?void 0:p.getBaseTexture();a=u.getShader()||this._shader;l=s!==a;c=o!==n;if(c||l){if(o){this._renderBatch(o,r,m);}m=_h3;r=0;o=n;if(l){s=a;t.setShader(s);var x=t.getCurrentRenderTarget();var v=x.getProjectionMatrix().toArray();s.setUniform("u_projMatrix",v);s.syncUniforms();e.activeTexture(e.TEXTURE0);}}r++;}if(o){this._renderBatch(o,r,m);}this._currentBatchSize=0;this._sprites=[];}},{key:"_renderBatch",value:function _renderBatch(t,e,r){if(e===0){return;}var o=this._renderer;var n=o.getContext();var s=t.getGLTextureForRenderer(o);if(!s){s=o.getOrCreateGLTexture(t);}if(t.isDirty()){o.updateTexture(t);t.setDirty(false);}n.activeTexture(n.TEXTURE0+t.getGLUnit());n.bindTexture(n.TEXTURE_2D,s);var a=e*6;var l=r*6*2;n.drawElements(n.TRIANGLES,a,n.UNSIGNED_SHORT,l);}},{key:"dispose",value:function dispose(){var t=this._renderer;var e=t.getContext();this._sprites.forEach(function(r){r.dispose();});if(this._vertexBuffer){e.deleteBuffer(this._vertexBuffer);this._vertexBuffer=null;}if(this._indexBuffer){e.deleteBuffer(this._indexBuffer);this._indexBuffer=null;}delete this._vertices;delete this._positions;delete this._colors;delete this._indices;_get(_getPrototypeOf(K1.prototype),"dispose",this).call(this);}}]);return K1;}(uh);});var _X2,My;var w3=d(function(){_3();To();Ar();Fy();Le();V1();B1();N1();Tn();ah();C3();H1();$1();S3();_X2=/*#__PURE__*/function(_sh2){_inherits(X1,_sh2);var _super33=_createSuper(X1);function X1(){var _this63;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:800;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var r=arguments.length>2?arguments[2]:undefined;_classCallCheck(this,X1);_this63=_super33.call(this,t,e,r);_this63.type="webgl";_this63.maxTextureDimensions=null;_this63._type="webgl";_this63._onContextLost=_this63._onContextLost.bind(_assertThisInitialized(_this63));_this63._onContextRestored=_this63._onContextRestored.bind(_assertThisInitialized(_this63));_this63.setCanvas(_this63._options.canvas||pi.createCanvas());_this63.shaders={"default":new A1(_assertThisInitialized(_this63),void 0,void 0)};_this63.renderers={sprite:new K1(_assertThisInitialized(_this63))};return _this63;}_createClass(X1,[{key:"_onContextLost",value:function _onContextLost(t){t.preventDefault();Y.warn(this.constructor.name,"WebGL context has been lost - trying to restore.");this.emit("context-lost");}},{key:"_onContextCreationError",value:function _onContextCreationError(t){t.preventDefault();Y.warn(this.constructor.name,"Failed to create WebGL context: ".concat(t.statusMessage||"Unknown error"));}},{key:"_onContextRestored",value:function _onContextRestored(){Y.warn(this.constructor.name,"WebGL context has been restored. Clearing all textures.");this._createContext();this._setupContext();this.emit("context-restored");}},{key:"_onBeforeContext",value:function _onBeforeContext(){if(this._filterManager){this._filterManager.dispose();}this._filterManager=new lh(this);this._currentObjectRenderer=new uh(this);}},{key:"setShader",value:function setShader(t){this._currentShader=t;this._context.useProgram(t.getProgram());this._setAttributesForShader(t);}},{key:"setCanvas",value:function setCanvas(t){if(this._canvas){this._removeContextEventListeners();}_get(_getPrototypeOf(X1.prototype),"setCanvas",this).call(this,t);this._addContextEventListeners();}},{key:"_addContextEventListeners",value:function _addContextEventListeners(){if(_1(this._canvas)){this._canvas.addEventListener("webglcontextlost",this._onContextLost);this._canvas.addEventListener("webglcontextrestored",this._onContextRestored);this._canvas.addEventListener("webglcontextcreationerror",this._onContextCreationError);}}},{key:"_removeContextEventListeners",value:function _removeContextEventListeners(){if(_1(this._canvas)){this._canvas.removeEventListener("webglcontextlost",this._onContextLost);this._canvas.removeEventListener("webglcontextrestored",this._onContextRestored);this._canvas.removeEventListener("webglcontextcreationerror",this._onContextCreationError);}}},{key:"_setAttributesForShader",value:function _setAttributesForShader(t){if(!this._canvas)return;var e=this._context;var r=t.getAttributes();var o=t.getAttributeLocations();r.forEach(function(n){var s=o[n];e.enableVertexAttribArray(s);});}},{key:"_createContext",value:function _createContext(){if(!this._canvas)return;var t=pi.glGet(this._canvas);if(this._options.debug){y3(t);}if(this._options.debug){t=new By(t);t=new Py(t);}this.id=_X2.contextId++;this._context=t;this._maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE);this.emit("context",t);return t;}},{key:"_setupContext",value:function _setupContext(){var t=this._context;t.disable(t.DEPTH_TEST);t.disable(t.CULL_FACE);t.enable(t.BLEND);t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);this._defaultRenderTarget=new Ms(this,this._width,this._height,this._pixelRatio,true);this.setRenderTarget(this._defaultRenderTarget);this._getMaxPrecision();}},{key:"getContext",value:function getContext(){return this._context;}},{key:"_getMaxPrecision",value:function _getMaxPrecision(){var t=this._context;var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);this._maxFloatPrecision=(e==null?void 0:e.precision)!==0?"highp":"mediump";var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT);this._maxIntPrecision=(r==null?void 0:r.rangeMax)!==0?"highp":"lowp";}},{key:"resizeTo",value:function resizeTo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;_get(_getPrototypeOf(X1.prototype),"resizeTo",this).call(this,t,e);if(this._currentRenderTarget){this._currentRenderTarget.resizeTo(t);}this._context=pi.glResize(this._context,t);}},{key:"setRenderTarget",value:function setRenderTarget(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._defaultRenderTarget;this._currentRenderTarget=t;this._currentRenderTarget.activate();}},{key:"setObjectRenderer",value:function setObjectRenderer(t){this._currentObjectRenderer.stop();this._currentObjectRenderer=t;this._currentObjectRenderer.start();}},{key:"render",value:function render(t){this.setRenderTarget(this._defaultRenderTarget);this._defaultRenderTarget.clear(this._clearColor);var e=t.getParent();t.setParent(new ac());t.updateTransform();if(e){t.setParent(e);}this.renderDisplayObject(t,this._defaultRenderTarget);}},{key:"renderDisplayObject",value:function renderDisplayObject(t,e){this.setRenderTarget(e);this._filterManager.setFilterStack(e.getFilterStack());t.renderWebGL(this);this._currentObjectRenderer.flush();}},{key:"clear",value:function clear(){var t=this._context;t.clearColor.apply(t,this._clearColor.toGLColor);t.clear(t.COLOR_BUFFER_BIT);}},{key:"save",value:function save(){return{renderTarget:this._currentRenderTarget,objectRenderer:this._currentObjectRenderer,filterStack:this._filterManager.getFilterStack()};}},{key:"restore",value:function restore(t){this.setRenderTarget(t.renderTarget);this._filterManager.setFilterStack(t.filterStack);this._currentObjectRenderer=t.objectRenderer;}},{key:"getOrCreateGLTexture",value:function getOrCreateGLTexture(t){var e=this._context;var r=t.getGLTextureForRenderer(this);if(!r){r=e.createTexture();t.setGLTextureForRenderer(r,this);}return r;}},{key:"updateTexture",value:function updateTexture(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var r=t.getSource();var o=this._context;var n=t.getGLUnit();var s=this.getOrCreateGLTexture(t);o.activeTexture(o.TEXTURE0+n);o.bindTexture(o.TEXTURE_2D,s);o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,true);if(e&&r){pi.glTexImage(o,r);}if(t.isMipMappingEnabled()){o.generateMipmap(o.TEXTURE_2D);}else{o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,t.getGLRepeat(o,"x"));o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,t.getGLRepeat(o,"y"));}o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,t.getGLFilter(o,"min"));o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t.getGLFilter(o,"mag"));o.activeTexture(o.TEXTURE0);}},{key:"getMaxDimensions",value:function getMaxDimensions(){if(!this.maxTextureDimensions){this.maxTextureDimensions=pi.glMaxTexture(this._context);}return this.maxTextureDimensions;}},{key:"getCurrentRenderTarget",value:function getCurrentRenderTarget(){return this._currentRenderTarget;}},{key:"getCurrentObjectRenderer",value:function getCurrentObjectRenderer(){return this._currentObjectRenderer;}},{key:"getMaxFloatPrecision",value:function getMaxFloatPrecision(){return this._maxFloatPrecision;}},{key:"getMaxIntPrecision",value:function getMaxIntPrecision(){return this._maxIntPrecision;}},{key:"dispose",value:function dispose(){if(this._canvas){$t(this._canvas);}this._filterManager.dispose();this._currentObjectRenderer.dispose();this._defaultRenderTarget.dispose();for(var r in this.shaders){this.shaders[r].dispose();delete this.shaders[r];}this._removeContextEventListeners();var t=this._context;var e=t.getExtension("WEBGL_lose_context");if(e){e.loseContext();}}}]);return X1;}(sh);My=_X2;My.contextId=0;});var vrt,Crt,q1;var T3=d(function(){As();vrt=function vrt(){return[new _ot2(0,0),new _ot2(1,0),new _ot2(1,1),new _ot2(0,1)];};Crt=function Crt(i,t,e){var _i2=_slicedToArray(i,4),r=_i2[0],o=_i2[1],n=_i2[2],s=_i2[3];r.x=t.x/e.width;r.y=t.y/e.height;o.x=(t.x+t.width)/e.width;o.y=t.y/e.height;n.x=(t.x+t.width)/e.width;n.y=(t.y+t.height)/e.height;s.x=t.x/e.width;s.y=(t.y+t.height)/e.height;return i;};q1={create:vrt,updateViaFrames:Crt};});var _Ya;var Y1=d(function(){T3();Le();Fd();_Ya=/*#__PURE__*/function(_Vi4){_inherits(Ya,_Vi4);var _super34=_createSuper(Ya);function Ya(t,e){var _this64;_classCallCheck(this,Ya);_this64=_super34.call(this);if(!(t instanceof Ae)){throw new Error("`baseTexture` should be an instance of BaseTexture");}_this64._uvs=q1.create();_this64._frame=e?e.clone():new _ce(0,0,1,1);_this64._frameLocked=Boolean(e);_this64._onBaseTextureLoaded=_this64._onBaseTextureLoaded.bind(_assertThisInitialized(_this64));_this64._onBaseTextureUpdated=_this64._onBaseTextureUpdated.bind(_assertThisInitialized(_this64));_this64.setBaseTexture(t);return _this64;}_createClass(Ya,[{key:"_onBaseTextureLoaded",value:function _onBaseTextureLoaded(){if(!this._frameLocked){var t=this._baseTexture.getFrame().clone();this.setFrame(t);}this._baseTexture.on("update",this._onBaseTextureUpdated);}},{key:"_onBaseTextureUpdated",value:function _onBaseTextureUpdated(){var _this$_baseTexture$ge=this._baseTexture.getFrame(),t=_this$_baseTexture$ge.width,e=_this$_baseTexture$ge.height;this._frame.width=t;this._frame.height=e;this.emit("update");}},{key:"_updateUVs",value:function _updateUVs(){this._uvs=q1.updateViaFrames(this._uvs,this._frame,this._baseTexture.getFrame());}},{key:"getBaseTexture",value:function getBaseTexture(){return this._baseTexture;}},{key:"setBaseTexture",value:function setBaseTexture(t){this._baseTexture=t;if(!this._baseTexture.isLoaded()){this._baseTexture.once("loaded",this._onBaseTextureLoaded);}else{var _t$getFrame=t.getFrame(),e=_t$getFrame.width,r=_t$getFrame.height;if(!this._frameLocked){this._frame=new _ce(0,0,e,r);}this._onBaseTextureLoaded();}}},{key:"getFrame",value:function getFrame(){return this._frame;}},{key:"setFrame",value:function setFrame(t){this._frame=t;this._updateUVs();}},{key:"getWidth",value:function getWidth(){return this._frame.width;}},{key:"getHeight",value:function getHeight(){return this._frame.height;}},{key:"getUVs",value:function getUVs(){return this._uvs;}},{key:"getDimensions",value:function getDimensions(){return new _ot2(this._frame.width,this._frame.height);}},{key:"dispose",value:function dispose(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;t&&this._baseTexture.dispose();}}],[{key:"fromImage",value:function fromImage(t){var e=new Ae(t);return new _Ya(e);}},{key:"fromCanvas",value:function fromCanvas(t){var e=new Ae(t);return new _Ya(e);}}]);return Ya;}(Vi);});var dh,mh;var J1=d(function(){Ar();Le();Ay();V1();rh();ah();Fd();Y1();dh=function dh(i){return i._type==="webgl";};mh=/*#__PURE__*/function(_Ya2){_inherits(mh,_Ya2);var _super35=_createSuper(mh);function mh(t){var _this65;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;_classCallCheck(this,mh);_this65=_super35.call(this,new Ae(),new _ce(0,0,e,r));_this65._loaded=true;_this65._width=e;_this65._height=r;_this65._pixelRatio=o;_this65._renderer=t;_this65._setupFilterManager();_this65._setupBuffer();_this65.setBaseTexture(_this65._renderTarget.getBaseTexture());_this65._updateUVs();return _this65;}_createClass(mh,[{key:"_setupFilterManager",value:function _setupFilterManager(){if(this._filterManager){this._filterManager.dispose();}if(dh(this._renderer)){this._filterManager=new lh(this._renderer);}else{this._filterManager=new lc(this._renderer);}this._filterManager.resizeTo(new _ot2(this._width,this._height));}},{key:"_setupBuffer",value:function _setupBuffer(){if(this._renderTarget){this._renderTarget.dispose();}if(dh(this._renderer)){this._renderTarget=new Ms(this._renderer,this._width,this._height,this._pixelRatio);}else{this._renderTarget=new Ps(this._width,this._height,this._pixelRatio);}}},{key:"clear",value:function clear(t){this._renderTarget.clear(t);}},{key:"resizeTo",value:function resizeTo(t){if(this._width===t.x&&this._height===t.y){return;}this._width=t.x;this._height=t.y;this._frame.width=t.x;this._frame.height=t.y;this._renderTarget.resizeTo(t);this._filterManager.resizeTo(t);}},{key:"render",value:function render(t){if(dh(this._renderer)){this._renderWebGL(t);}else{this._renderCanvas(t);}}},{key:"_renderWebGL",value:function _renderWebGL(t){if(!dh(this._renderer))return;this._renderTarget.activate();t.getWorldTransform().reset();t.getChildren().forEach(function(r){r.updateTransform();});var e=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager);this._renderer.renderDisplayObject(t,this._renderTarget);this._renderer.setFilterManager(e);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(dh(this._renderer))return;t.getWorldTransform().reset();t.getChildren().forEach(function(r){r.updateTransform();});var e=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager);this._renderer.renderDisplayObject(t,this._renderTarget);this._renderer.setFilterManager(e);}},{key:"getRenderTarget",value:function getRenderTarget(){return this._renderTarget;}},{key:"dispose",value:function dispose(){this._renderTarget.dispose();this._filterManager.dispose();_get(_getPrototypeOf(mh.prototype),"dispose",this).call(this);}}]);return mh;}(_Ya);});var Od,Ls;var ph=d(function(){Od={EXPORT:"export",CLOSE:"close",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",EDITOR_READY:"editor:ready",WINDOW_RESIZE:"window:resize",ZOOM_DONE:"editor:zoom_done",HISTORY_UNDO:"history:undo",HISTORY_UPDATED:"history:update",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",TRANSFORM_REAPPLY_RATIO:"transform:reapply_ratio"};Ls={DEFAULTS:{FILTERS:[{identifier:"imgly_filters_duotone",defaultName:"DuoTone",assetFileName:"duotone",filters:[{identifier:"imgly_duotone_desert",defaultName:"Desert",lightColor:"#e1de9a",darkColor:"#cb2129"},{identifier:"imgly_duotone_peach",defaultName:"Peach",lightColor:"#e9abb8",darkColor:"#0040ff"},{identifier:"imgly_duotone_clash",defaultName:"Clash",lightColor:"#f41a0f",darkColor:"#23007c"},{identifier:"imgly_duotone_plum",defaultName:"Plum",lightColor:"#74d7ff",darkColor:"#23007c"},{identifier:"imgly_duotone_breezy",defaultName:"Breezy",lightColor:"#68fdff",darkColor:"#c20000"},{identifier:"imgly_duotone_deepblue",defaultName:"Deep Blue",lightColor:"#2de9eb",darkColor:"#58007c"},{identifier:"imgly_duotone_frog",defaultName:"Frog",lightColor:"#5bff60",darkColor:"#7f23a9"},{identifier:"imgly_duotone_sunset",defaultName:"Sunset",lightColor:"#f8ea46",darkColor:"#c400be"}]},{identifier:"imgly_filters_bw",assetFileName:"b&w",defaultName:"Black & White",filters:[{identifier:"imgly_lut_ad1920",defaultName:"1920 A.D.",lutImage:"filters/imgly_lut_ad1920_5_5_128.png"},{identifier:"imgly_lut_bw",defaultName:"Greyed",lutImage:"filters/imgly_lut_bw_5_5_128.png"},{identifier:"imgly_lut_x400",defaultName:"Dusty",lutImage:"filters/imgly_lut_dusty_5_5_128.png"},{identifier:"imgly_lut_litho",defaultName:"Litho",lutImage:"filters/imgly_lut_litho_5_5_128.png"},{identifier:"imgly_lut_sepiahigh",defaultName:"Sepia",lutImage:"filters/imgly_lut_sepia_5_5_128.png"},{identifier:"imgly_lut_plate",defaultName:"Weathered",lutImage:"filters/imgly_lut_weathered_5_5_128.png"},{identifier:"imgly_lut_sin",defaultName:"Hard Stuff",lutImage:"filters/imgly_lut_hard_stuff_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filters_retro",assetFileName:"vintage",defaultName:"Vintage",filters:[{identifier:"imgly_lut_blues",defaultName:"Polaroid",lutImage:"filters/imgly_lut_polaroid_5_5_128.png"},{identifier:"imgly_lut_front",defaultName:"Sunny 70s",lutImage:"filters/imgly_lut_sunny_70s_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",defaultName:"Oldtimer",lutImage:"filters/imgly_lut_oldtimer_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",defaultName:"Inferno",lutImage:"filters/imgly_lut_inferno_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",defaultName:"Snappy",lutImage:"filters/imgly_lut_snappy_5_5_128.png"}]},{identifier:"imgly_filters_analog",assetFileName:"smooth",defaultName:"Smooth",filters:[{identifier:"imgly_lut_chest",defaultName:"Chestnut",lutImage:"filters/imgly_lut_chestnut_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",defaultName:"Softly",lutImage:"filters/imgly_lut_softly_5_5_128.png"},{identifier:"imgly_lut_kdynamic",defaultName:"Pebble",lutImage:"filters/imgly_lut_pebble_5_5_128.png"},{identifier:"imgly_lut_fall",defaultName:"Moss",lutImage:"filters/imgly_lut_moss_5_5_128.png"},{identifier:"imgly_lut_lenin",defaultName:"Lemon",lutImage:"filters/imgly_lut_lemon_5_5_128.png"},{identifier:"imgly_lut_pola669",defaultName:"Green Gap",lutImage:"filters/imgly_lut_green_gap_5_5_128.png"}]},{identifier:"imgly_filters_winter",assetFileName:"cold",defaultName:"Cold",filters:[{identifier:"imgly_lut_elder",defaultName:"Colla",lutImage:"filters/imgly_lut_colla_5_5_128.png"},{identifier:"imgly_lut_orchid",defaultName:"Solanus",lutImage:"filters/imgly_lut_solanus_5_5_128.png"},{identifier:"imgly_lut_bleached",defaultName:"Kalmen",lutImage:"filters/imgly_lut_kalmen_5_5_128.png"},{identifier:"imgly_lut_bleachedblue",defaultName:"Joran",lutImage:"filters/imgly_lut_joran_5_5_128.png"},{identifier:"imgly_lut_breeze",defaultName:"Levante",lutImage:"filters/imgly_lut_levante_5_5_128.png"},{identifier:"imgly_lut_blueshadows",defaultName:"Zephyr",lutImage:"filters/imgly_lut_zephyr_5_5_128.png"}]},{identifier:"imgly_filters_summer",assetFileName:"warm",defaultName:"Warm",filters:[{identifier:"imgly_lut_sunset",defaultName:"Golden",lutImage:"filters/imgly_lut_golden_5_5_128.png"},{identifier:"imgly_lut_eighties",defaultName:"Low Fire",lutImage:"filters/imgly_lut_low_fire_5_5_128.png"},{identifier:"imgly_lut_evening",defaultName:"Sunrise",lutImage:"filters/imgly_lut_sunrise_5_5_128.png"},{identifier:"imgly_lut_k2",defaultName:"Flat Black",lutImage:"filters/imgly_lut_flat_black_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",defaultName:"Pumpkin",lutImage:"filters/imgly_lut_pumpkin_5_5_128.png"}]},{identifier:"imgly_filters_legacy",defaultName:"Legacy",assetFileName:"legacy",filters:[{identifier:"imgly_lut_ancient",defaultName:"Ancient",lutImage:"filters/imgly_lut_ancient_5_5_128.png"},{identifier:"imgly_lut_cottoncandy",defaultName:"Candy",lutImage:"filters/imgly_lut_cottoncandy_5_5_128.png"},{identifier:"imgly_lut_classic",defaultName:"Classic",lutImage:"filters/imgly_lut_classic_5_5_128.png"},{identifier:"imgly_lut_colorful",defaultName:"Colorful",lutImage:"filters/imgly_lut_colorful_5_5_128.png"},{identifier:"imgly_lut_creamy",defaultName:"Creamy",lutImage:"filters/imgly_lut_creamy_5_5_128.png"},{identifier:"imgly_lut_fixie",defaultName:"Fixie",lutImage:"filters/imgly_lut_fixie_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",defaultName:"Food",lutImage:"filters/imgly_lut_food_5_5_128.png"},{identifier:"imgly_lut_fridge",defaultName:"Fridge",lutImage:"filters/imgly_lut_fridge_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",defaultName:"Glam",lutImage:"filters/imgly_lut_glam_5_5_128.png"},{identifier:"imgly_lut_gobblin",defaultName:"Gobblin",lutImage:"filters/imgly_lut_gobblin_5_5_128.png"},{identifier:"imgly_lut_highcontrast",defaultName:"Hicon",lutImage:"filters/imgly_lut_highcontrast_5_5_128.png"},{identifier:"imgly_lut_highcarb",defaultName:"High Carb",lutImage:"filters/imgly_lut_highcarb_5_5_128.png"},{identifier:"imgly_lut_k1",defaultName:"K1",lutImage:"filters/imgly_lut_k1_5_5_128.png"},{identifier:"imgly_lut_k6",defaultName:"K6",lutImage:"filters/imgly_lut_k6_5_5_128.png"},{identifier:"imgly_lut_keen",defaultName:"Keen",lutImage:"filters/imgly_lut_keen_5_5_128.png"},{identifier:"imgly_lut_lomo",defaultName:"Lomo",lutImage:"filters/imgly_lut_lomo_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",defaultName:"Lomo 100",lutImage:"filters/imgly_lut_lomo100_5_5_128.png"},{identifier:"imgly_lut_lucid",defaultName:"Lucid",lutImage:"filters/imgly_lut_lucid_5_5_128.png"},{identifier:"imgly_lut_mellow",defaultName:"Mellow",lutImage:"filters/imgly_lut_mellow_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",defaultName:"Neat",lutImage:"filters/imgly_lut_neat_5_5_128.png"},{identifier:"imgly_lut_pale",defaultName:"Pale",lutImage:"filters/imgly_lut_pale_5_5_128.png"},{identifier:"imgly_lut_pitched",defaultName:"Pitched",lutImage:"filters/imgly_lut_pitched_5_5_128.png"},{identifier:"imgly_lut_polasx",defaultName:"Pola SX",lutImage:"filters/imgly_lut_polasx_5_5_128.png"},{identifier:"imgly_lut_pro400",defaultName:"Pro 400",lutImage:"filters/imgly_lut_pro400_5_5_128.png"},{identifier:"imgly_lut_quozi",defaultName:"Quozi",lutImage:"filters/imgly_lut_quozi_5_5_128.png"},{identifier:"imgly_lut_settled",defaultName:"Settled",lutImage:"filters/imgly_lut_settled_5_5_128.png"},{identifier:"imgly_lut_seventies",defaultName:"Seventies",lutImage:"filters/imgly_lut_seventies_5_5_128.png"},{identifier:"imgly_lut_soft",defaultName:"Soft",lutImage:"filters/imgly_lut_soft_5_5_128.png"},{identifier:"imgly_lut_steel",defaultName:"Steel",lutImage:"filters/imgly_lut_steel_5_5_128.png"},{identifier:"imgly_lut_summer",defaultName:"Summer",lutImage:"filters/imgly_lut_summer_5_5_128.png"},{identifier:"imgly_lut_tender",defaultName:"Tender",lutImage:"filters/imgly_lut_tender_5_5_128.png"},{identifier:"imgly_lut_twilight",defaultName:"Twilight",lutImage:"filters/imgly_lut_twilight_5_5_128.png"}]}],OVERLAYS:[{identifier:"imgly_overlay_golden",defaultName:"Golden",image:"overlays/imgly_overlay_golden.jpg",thumbnail:"overlays/imgly_overlay_golden_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_bokeh",defaultName:"Bokeh",image:"overlays/imgly_overlay_bokeh.jpg",thumbnail:"overlays/imgly_overlay_bokeh_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_hearts",defaultName:"Hearts",image:"overlays/imgly_overlay_hearts.jpg",thumbnail:"overlays/imgly_overlay_hearts_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak1",defaultName:"Light Leak",image:"overlays/imgly_overlay_lightleak1.jpg",thumbnail:"overlays/imgly_overlay_lightleak1_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak2",defaultName:"Light Leak 2",image:"overlays/imgly_overlay_lightleak2.jpg",thumbnail:"overlays/imgly_overlay_lightleak2_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_rain",defaultName:"Rain",image:"overlays/imgly_overlay_rain.jpg",thumbnail:"overlays/imgly_overlay_rain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_wood",defaultName:"Wood",image:"overlays/imgly_overlay_wood.jpg",thumbnail:"overlays/imgly_overlay_wood_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_mosaic",defaultName:"Mosaic",image:"overlays/imgly_overlay_mosaic.jpg",thumbnail:"overlays/imgly_overlay_mosaic_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_chop",defaultName:"Chop",image:"overlays/imgly_overlay_chop.jpg",thumbnail:"overlays/imgly_overlay_chop_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_vintage",defaultName:"Vintage",image:"overlays/imgly_overlay_vintage.jpg",thumbnail:"overlays/imgly_overlay_vintage_thumb.jpg",blendMode:"darken"},{identifier:"imgly_overlay_metal",defaultName:"Metal",image:"overlays/imgly_overlay_metal.jpg",thumbnail:"overlays/imgly_overlay_metal_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_paper",defaultName:"Paper",image:"overlays/imgly_overlay_paper.jpg",thumbnail:"overlays/imgly_overlay_paper_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_painting",defaultName:"Painting",image:"overlays/imgly_overlay_painting.jpg",thumbnail:"overlays/imgly_overlay_painting_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_grain",defaultName:"Grain",image:"overlays/imgly_overlay_grain.jpg",thumbnail:"overlays/imgly_overlay_grain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_clouds",defaultName:"Clouds",image:"overlays/imgly_overlay_clouds.jpg",thumbnail:"overlays/imgly_overlay_clouds_thumb.jpg",blendMode:"softLight"},{identifier:"imgly_overlay_wall1",defaultName:"Wall",image:"overlays/imgly_overlay_wall1.jpg",thumbnail:"overlays/imgly_overlay_wall1_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_wall2",defaultName:"Wall 2",image:"overlays/imgly_overlay_wall2.jpg",thumbnail:"overlays/imgly_overlay_wall2_thumb.jpg",blendMode:"overlay"}],FRAME_CATEGORIES:[{identifier:"imgly_frame_generic",defaultName:"Generic",metaData:{backgroundImage:"frames/generic.png"},frames:[{identifier:"imgly_frame_dia",defaultName:"Dia",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_left.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_right.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",defaultName:"Art Decor",tintable:true,layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",defaultName:"Black Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",defaultName:"Low Poly",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",defaultName:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}}]}],STICKER_CATEGORIES:[{identifier:"imgly_sticker_emoticons",defaultName:"Emoticons",metaData:{backgroundImage:"stickers/emoticons/background.png"},stickers:[{identifier:"imgly_sticker_emoticons_alien",defaultName:"Alien",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png"],width:1e3,height:935}}},{identifier:"imgly_sticker_emoticons_angel",defaultName:"Angel",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png"]}}},{identifier:"imgly_sticker_emoticons_angry",defaultName:"Angry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png"]}}},{identifier:"imgly_sticker_emoticons_anxious",defaultName:"Anxious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png"]}}},{identifier:"imgly_sticker_emoticons_asleep",defaultName:"Asleep",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png"]}}},{identifier:"imgly_sticker_emoticons_attention",defaultName:"Attention",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png"]}}},{identifier:"imgly_sticker_emoticons_baby_chicken",defaultName:"Baby Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_batman",defaultName:"Batman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png"]}}},{identifier:"imgly_sticker_emoticons_beer",defaultName:"Beer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png"]}}},{identifier:"imgly_sticker_emoticons_blush",defaultName:"Blush",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png"]}}},{identifier:"imgly_sticker_emoticons_boxer",defaultName:"Boxer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png"]}}},{identifier:"imgly_sticker_emoticons_business",defaultName:"Business",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png"],width:60,height:63},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png"]}}},{identifier:"imgly_sticker_emoticons_chicken",defaultName:"Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png"],width:63,height:55},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_cool",defaultName:"Cool",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png"]}}},{identifier:"imgly_sticker_emoticons_cry",defaultName:"Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png"]}}},{identifier:"imgly_sticker_emoticons_deceased",defaultName:"Deceased",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png"]}}},{identifier:"imgly_sticker_emoticons_devil",defaultName:"Devil",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png"]}}},{identifier:"imgly_sticker_emoticons_duckface",defaultName:"Duckface",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png"]}}},{identifier:"imgly_sticker_emoticons_furious",defaultName:"Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png"],width:62,height:61},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png"]}}},{identifier:"imgly_sticker_emoticons_grin",defaultName:"Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png"]}}},{identifier:"imgly_sticker_emoticons_guitar",defaultName:"Guitar",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png"]}}},{identifier:"imgly_sticker_emoticons_harry_potter",defaultName:"Harry Potter",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png"]}}},{identifier:"imgly_sticker_emoticons_hippie",defaultName:"Hippie",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png"]}}},{identifier:"imgly_sticker_emoticons_hitman",defaultName:"Hitman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png"]}}},{identifier:"imgly_sticker_emoticons_humourous",defaultName:"Humourous",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png"]}}},{identifier:"imgly_sticker_emoticons_idea",defaultName:"Idea",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png"]}}},{identifier:"imgly_sticker_emoticons_impatient",defaultName:"Impatient",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png"]}}},{identifier:"imgly_sticker_emoticons_kiss",defaultName:"Kiss",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png"]}}},{identifier:"imgly_sticker_emoticons_kisses",defaultName:"Kisses",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png"]}}},{identifier:"imgly_sticker_emoticons_laugh",defaultName:"Laugh",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png"]}}},{identifier:"imgly_sticker_emoticons_loud_cry",defaultName:"Loud Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png"]}}},{identifier:"imgly_sticker_emoticons_loving",defaultName:"Loving",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png"]}}},{identifier:"imgly_sticker_emoticons_masked",defaultName:"Masked",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png"]}}},{identifier:"imgly_sticker_emoticons_music",defaultName:"Music",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png"],width:62,height:54},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png"]}}},{identifier:"imgly_sticker_emoticons_nerd",defaultName:"Nerd",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png"]}}},{identifier:"imgly_sticker_emoticons_ninja",defaultName:"Ninja",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png"]}}},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",defaultName:"Not Speaking To You",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png"]}}},{identifier:"imgly_sticker_emoticons_pig",defaultName:"Pig",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png"],width:63,height:41},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png"]}}},{identifier:"imgly_sticker_emoticons_pumpkin",defaultName:"Pumpkin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png"]}}},{identifier:"imgly_sticker_emoticons_question",defaultName:"Question",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png"]}}},{identifier:"imgly_sticker_emoticons_rabbit",defaultName:"Rabbit",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png"],width:65,height:47},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png"]}}},{identifier:"imgly_sticker_emoticons_sad",defaultName:"Sad",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png"]}}},{identifier:"imgly_sticker_emoticons_sick",defaultName:"Sick",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png"]}}},{identifier:"imgly_sticker_emoticons_skateboard",defaultName:"Skateboard",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png"]}}},{identifier:"imgly_sticker_emoticons_skull",defaultName:"Skull",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png"]}}},{identifier:"imgly_sticker_emoticons_sleepy",defaultName:"Sleepy",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png"]}}},{identifier:"imgly_sticker_emoticons_smile",defaultName:"Smile",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png"]}}},{identifier:"imgly_sticker_emoticons_smoking",defaultName:"Smoking",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png"]}}},{identifier:"imgly_sticker_emoticons_sobbing",defaultName:"Sobbing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png"]}}},{identifier:"imgly_sticker_emoticons_star",defaultName:"Star",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png"]}}},{identifier:"imgly_sticker_emoticons_steaming_furious",defaultName:"Steaming Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png"]}}},{identifier:"imgly_sticker_emoticons_sunbathing",defaultName:"Sunbathing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png"]}}},{identifier:"imgly_sticker_emoticons_tired",defaultName:"Tired",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png"]}}},{identifier:"imgly_sticker_emoticons_tongue_out_wink",defaultName:"Tongue Out Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wave",defaultName:"Wave",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png"]}}},{identifier:"imgly_sticker_emoticons_wide_grin",defaultName:"Wide Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png"]}}},{identifier:"imgly_sticker_emoticons_wink",defaultName:"Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wrestler",defaultName:"Wrestler",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png"]}}}]},{identifier:"imgly_sticker_shapes",defaultName:"Shapes",metaData:{backgroundImage:"stickers/shapes/background.png"},stickers:[{identifier:"imgly_sticker_shapes_arrow_02",defaultName:"Arrow 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236}}},{identifier:"imgly_sticker_shapes_arrow_03",defaultName:"Arrow 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_01",defaultName:"Badge 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_04",defaultName:"Badge 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589}}},{identifier:"imgly_sticker_shapes_badge_06",defaultName:"Badge 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733}}},{identifier:"imgly_sticker_shapes_badge_08",defaultName:"Badge 4",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_11",defaultName:"Badge 5",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_12",defaultName:"Badge 6",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903}}},{identifier:"imgly_sticker_shapes_badge_13",defaultName:"Badge 7",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718}}},{identifier:"imgly_sticker_shapes_badge_15",defaultName:"Badge 8",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_18",defaultName:"Badge 9",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_19",defaultName:"Badge 10",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png"],width:2127,height:481},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png"],width:2127,height:481}}},{identifier:"imgly_sticker_shapes_badge_20",defaultName:"Badge 11",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404}}},{identifier:"imgly_sticker_shapes_badge_28",defaultName:"Badge 12",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_32",defaultName:"Badge 13",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_35",defaultName:"Badge 14",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002}}},{identifier:"imgly_sticker_shapes_badge_36",defaultName:"Badge 15",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668}}},{identifier:"imgly_sticker_shapes_spray_01",defaultName:"Spray 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039}}},{identifier:"imgly_sticker_shapes_spray_03",defaultName:"Spray 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779}}},{identifier:"imgly_sticker_shapes_spray_04",defaultName:"Spray 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248}}}]}]}};});function X(i,t,e){if(i!=null)if(typeof i=="number")this.fromNumber(i,t,e);else if(t==null&&typeof i!="string")this.fromString(i,256);else this.fromString(i,t);}function Nt(){return new X(null);}function wrt(i,t,e,r,o,n){while(--n>=0){var s=t*this[i++]+e[r]+o;o=Math.floor(s/67108864);e[r++]=s&67108863;}return o;}function Trt(i,t,e,r,o,n){var s=t&32767,a=t>>15;while(--n>=0){var l=this[i]&32767;var c=this[i++]>>15;var u=a*l+c*s;l=s*l+((u&32767)<<15)+e[r]+(o&1073741823);o=(l>>>30)+(u>>>15)+a*c+(o>>>30);e[r++]=l&1073741823;}return o;}function krt(i,t,e,r,o,n){var s=t&16383,a=t>>14;while(--n>=0){var l=this[i]&16383;var c=this[i++]>>14;var u=a*l+c*s;l=s*l+((u&16383)<<14)+e[r]+o;o=(l>>28)+(u>>14)+a*c;e[r++]=l&268435455;}return o;}function I3(i){return Irt.charAt(i);}function D3(i,t){var e=Ly[i.charCodeAt(t)];return e==null?-1:e;}function Drt(i){for(var t=this.t-1;t>=0;--t){i[t]=this[t];}i.t=this.t;i.s=this.s;}function Ert(i){this.t=1;this.s=i<0?-1:0;if(i>0)this[0]=i;else if(i<-1)this[0]=i+this.DV;else this.t=0;}function Ja(i){var t=Nt();t.fromInt(i);return t;}function Frt(i,t){var e;if(t==16)e=4;else if(t==8)e=3;else if(t==256)e=8;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else{this.fromRadix(i,t);return;}this.t=0;this.s=0;var r=i.length,o=false,n=0;while(--r>=0){var s=e==8?i[r]&255:D3(i,r);if(s<0){if(i.charAt(r)=="-")o=true;continue;}o=false;if(n==0)this[this.t++]=s;else if(n+e>this.DB){this[this.t-1]|=(s&(1<<this.DB-n)-1)<<n;this[this.t++]=s>>this.DB-n;}else this[this.t-1]|=s<<n;n+=e;if(n>=this.DB)n-=this.DB;}if(e==8&&(i[0]&128)!=0){this.s=-1;if(n>0)this[this.t-1]|=(1<<this.DB-n)-1<<n;}this.clamp();if(o)X.ZERO.subTo(this,this);}function Rrt(){var i=this.s&this.DM;while(this.t>0&&this[this.t-1]==i){--this.t;}}function Ort(i){if(this.s<0)return"-"+this.negate().toString(i);var t;if(i==16)t=4;else if(i==8)t=3;else if(i==2)t=1;else if(i==32)t=5;else if(i==4)t=2;else return this.toRadix(i);var e=(1<<t)-1,r,o=false,n="",s=this.t;var a=this.DB-s*this.DB%t;if(s-->0){if(a<this.DB&&(r=this[s]>>a)>0){o=true;n=I3(r);}while(s>=0){if(a<t){r=(this[s]&(1<<a)-1)<<t-a;r|=this[--s]>>(a+=this.DB-t);}else{r=this[s]>>(a-=t)&e;if(a<=0){a+=this.DB;--s;}}if(r>0)o=true;if(o)n+=I3(r);}}return o?n:"0";}function Art(){var i=Nt();X.ZERO.subTo(this,i);return i;}function Brt(){return this.s<0?this.negate():this;}function Prt(i){var t=this.s-i.s;if(t!=0)return t;var e=this.t;t=e-i.t;if(t!=0)return this.s<0?-t:t;while(--e>=0){if((t=this[e]-i[e])!=0)return t;}return 0;}function zy(i){var t=1,e;if((e=i>>>16)!=0){i=e;t+=16;}if((e=i>>8)!=0){i=e;t+=8;}if((e=i>>4)!=0){i=e;t+=4;}if((e=i>>2)!=0){i=e;t+=2;}if((e=i>>1)!=0){i=e;t+=1;}return t;}function Mrt(){if(this.t<=0)return 0;return this.DB*(this.t-1)+zy(this[this.t-1]^this.s&this.DM);}function Lrt(i,t){var e;for(e=this.t-1;e>=0;--e){t[e+i]=this[e];}for(e=i-1;e>=0;--e){t[e]=0;}t.t=this.t+i;t.s=this.s;}function zrt(i,t){for(var e=i;e<this.t;++e){t[e-i]=this[e];}t.t=Math.max(this.t-i,0);t.s=this.s;}function Urt(i,t){var e=i%this.DB;var r=this.DB-e;var o=(1<<r)-1;var n=Math.floor(i/this.DB),s=this.s<<e&this.DM,a;for(a=this.t-1;a>=0;--a){t[a+n+1]=this[a]>>r|s;s=(this[a]&o)<<e;}for(a=n-1;a>=0;--a){t[a]=0;}t[n]=s;t.t=this.t+n+1;t.s=this.s;t.clamp();}function Nrt(i,t){t.s=this.s;var e=Math.floor(i/this.DB);if(e>=this.t){t.t=0;return;}var r=i%this.DB;var o=this.DB-r;var n=(1<<r)-1;t[0]=this[e]>>r;for(var s=e+1;s<this.t;++s){t[s-e-1]|=(this[s]&n)<<o;t[s-e]=this[s]>>r;}if(r>0)t[this.t-e-1]|=(this.s&n)<<o;t.t=this.t-e;t.clamp();}function Hrt(i,t){var e=0,r=0,o=Math.min(i.t,this.t);while(e<o){r+=this[e]-i[e];t[e++]=r&this.DM;r>>=this.DB;}if(i.t<this.t){r-=i.s;while(e<this.t){r+=this[e];t[e++]=r&this.DM;r>>=this.DB;}r+=this.s;}else{r+=this.s;while(e<i.t){r-=i[e];t[e++]=r&this.DM;r>>=this.DB;}r-=i.s;}t.s=r<0?-1:0;if(r<-1)t[e++]=this.DV+r;else if(r>0)t[e++]=r;t.t=e;t.clamp();}function Wrt(i,t){var e=this.abs(),r=i.abs();var o=e.t;t.t=o+r.t;while(--o>=0){t[o]=0;}for(o=0;o<r.t;++o){t[o+e.t]=e.am(0,r[o],t,o,0,e.t);}t.s=0;t.clamp();if(this.s!=i.s)X.ZERO.subTo(t,t);}function Grt(i){var t=this.abs();var e=i.t=2*t.t;while(--e>=0){i[e]=0;}for(e=0;e<t.t-1;++e){var r=t.am(e,t[e],i,2*e,0,1);if((i[e+t.t]+=t.am(e+1,2*t[e],i,2*e+1,r,t.t-e-1))>=t.DV){i[e+t.t]-=t.DV;i[e+t.t+1]=1;}}if(i.t>0)i[i.t-1]+=t.am(e,t[e],i,2*e,0,1);i.s=0;i.clamp();}function Vrt(i,t,e){var r=i.abs();if(r.t<=0)return;var o=this.abs();if(o.t<r.t){if(t!=null)t.fromInt(0);if(e!=null)this.copyTo(e);return;}if(e==null)e=Nt();var n=Nt(),s=this.s,a=i.s;var l=this.DB-zy(r[r.t-1]);if(l>0){r.lShiftTo(l,n);o.lShiftTo(l,e);}else{r.copyTo(n);o.copyTo(e);}var c=n.t;var u=n[c-1];if(u==0)return;var m=u*(1<<this.F1)+(c>1?n[c-2]>>this.F2:0);var p=this.FV/m,h=(1<<this.F1)/m,g=1<<this.F2;var x=e.t,v=x-c,b=t==null?Nt():t;n.dlShiftTo(v,b);if(e.compareTo(b)>=0){e[e.t++]=1;e.subTo(b,e);}X.ONE.dlShiftTo(c,b);b.subTo(n,n);while(n.t<c){n[n.t++]=0;}while(--v>=0){var T=e[--x]==u?this.DM:Math.floor(e[x]*p+(e[x-1]+g)*h);if((e[x]+=n.am(0,T,e,v,0,c))<T){n.dlShiftTo(v,b);e.subTo(b,e);while(e[x]<--T){e.subTo(b,e);}}}if(t!=null){e.drShiftTo(c,t);if(s!=a)X.ZERO.subTo(t,t);}e.t=c;e.clamp();if(l>0)e.rShiftTo(l,e);if(s<0)X.ZERO.subTo(e,e);}function jrt(i){var t=Nt();this.abs().divRemTo(i,null,t);if(this.s<0&&t.compareTo(X.ZERO)>0)i.subTo(t,t);return t;}function cc(i){this.m=i;}function $rt(i){if(i.s<0||i.compareTo(this.m)>=0)return i.mod(this.m);else return i;}function Krt(i){return i;}function Xrt(i){i.divRemTo(this.m,null,i);}function qrt(i,t,e){i.multiplyTo(t,e);this.reduce(e);}function Yrt(i,t){i.squareTo(t);this.reduce(t);}function Jrt(){if(this.t<1)return 0;var i=this[0];if((i&1)==0)return 0;var t=i&3;t=t*(2-(i&15)*t)&15;t=t*(2-(i&255)*t)&255;t=t*(2-((i&65535)*t&65535))&65535;t=t*(2-i*t%this.DV)%this.DV;return t>0?this.DV-t:-t;}function uc(i){this.m=i;this.mp=i.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<i.DB-15)-1;this.mt2=2*i.t;}function Zrt(i){var t=Nt();i.abs().dlShiftTo(this.m.t,t);t.divRemTo(this.m,null,t);if(i.s<0&&t.compareTo(X.ZERO)>0)this.m.subTo(t,t);return t;}function Qrt(i){var t=Nt();i.copyTo(t);this.reduce(t);return t;}function tot(i){while(i.t<=this.mt2){i[i.t++]=0;}for(var t=0;t<this.m.t;++t){var e=i[t]&32767;var r=e*this.mpl+((e*this.mph+(i[t]>>15)*this.mpl&this.um)<<15)&i.DM;e=t+this.m.t;i[e]+=this.m.am(0,r,i,t,0,this.m.t);while(i[e]>=i.DV){i[e]-=i.DV;i[++e]++;}}i.clamp();i.drShiftTo(this.m.t,i);if(i.compareTo(this.m)>=0)i.subTo(this.m,i);}function eot(i,t){i.squareTo(t);this.reduce(t);}function iot(i,t,e){i.multiplyTo(t,e);this.reduce(e);}function rot(){return(this.t>0?this[0]&1:this.s)==0;}function oot(i,t){if(i>4294967295||i<1)return X.ONE;var e=Nt(),r=Nt(),o=t.convert(this),n=zy(i)-1;o.copyTo(e);while(--n>=0){t.sqrTo(e,r);if((i&1<<n)>0)t.mulTo(r,o,e);else{var s=e;e=r;r=s;}}return t.revert(e);}function not(i,t){var e;if(i<256||t.isEven())e=new cc(t);else e=new uc(t);return this.exp(i,e);}function sot(){var i=Nt();this.copyTo(i);return i;}function aot(){if(this.s<0){if(this.t==1)return this[0]-this.DV;else if(this.t==0)return-1;}else if(this.t==1)return this[0];else if(this.t==0)return 0;return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0];}function lot(){return this.t==0?this.s:this[0]<<24>>24;}function cot(){return this.t==0?this.s:this[0]<<16>>16;}function uot(i){return Math.floor(Math.LN2*this.DB/Math.log(i));}function dot(){if(this.s<0)return-1;else if(this.t<=0||this.t==1&&this[0]<=0)return 0;else return 1;}function mot(i){if(i==null)i=10;if(this.signum()==0||i<2||i>36)return"0";var t=this.chunkSize(i);var e=Math.pow(i,t);var r=Ja(e),o=Nt(),n=Nt(),s="";this.divRemTo(r,o,n);while(o.signum()>0){s=(e+n.intValue()).toString(i).substr(1)+s;o.divRemTo(r,o,n);}return n.intValue().toString(i)+s;}function pot(i,t){this.fromInt(0);if(t==null)t=10;var e=this.chunkSize(t);var r=Math.pow(t,e),o=false,n=0,s=0;for(var a=0;a<i.length;++a){var l=D3(i,a);if(l<0){if(i.charAt(a)=="-"&&this.signum()==0)o=true;continue;}s=t*s+l;if(++n>=e){this.dMultiply(r);this.dAddOffset(s,0);n=0;s=0;}}if(n>0){this.dMultiply(Math.pow(t,n));this.dAddOffset(s,0);}if(o)X.ZERO.subTo(this,this);}function hot(i,t,e){if(typeof t=="number"){if(i<2)this.fromInt(1);else{this.fromNumber(i,e);if(!this.testBit(i-1))this.bitwiseTo(X.ONE.shiftLeft(i-1),tw,this);if(this.isEven())this.dAddOffset(1,0);while(!this.isProbablePrime(t)){this.dAddOffset(2,0);if(this.bitLength()>i)this.subTo(X.ONE.shiftLeft(i-1),this);}}}else{var r=new Array(),o=i&7;r.length=(i>>3)+1;t.nextBytes(r);if(o>0)r[0]&=(1<<o)-1;else r[0]=0;this.fromString(r,256);}}function fot(){var i=this.t,t=new Array();t[0]=this.s;var e=this.DB-i*this.DB%8,r,o=0;if(i-->0){if(e<this.DB&&(r=this[i]>>e)!=(this.s&this.DM)>>e)t[o++]=r|this.s<<this.DB-e;while(i>=0){if(e<8){r=(this[i]&(1<<e)-1)<<8-e;r|=this[--i]>>(e+=this.DB-8);}else{r=this[i]>>(e-=8)&255;if(e<=0){e+=this.DB;--i;}}if((r&128)!=0)r|=-256;if(o==0&&(this.s&128)!=(r&128))++o;if(o>0||r!=this.s)t[o++]=r;}}return t;}function got(i){return this.compareTo(i)==0;}function bot(i){return this.compareTo(i)<0?this:i;}function yot(i){return this.compareTo(i)>0?this:i;}function _ot(i,t,e){var r,o,n=Math.min(i.t,this.t);for(r=0;r<n;++r){e[r]=t(this[r],i[r]);}if(i.t<this.t){o=i.s&this.DM;for(r=n;r<this.t;++r){e[r]=t(this[r],o);}e.t=this.t;}else{o=this.s&this.DM;for(r=n;r<i.t;++r){e[r]=t(o,i[r]);}e.t=i.t;}e.s=t(this.s,i.s);e.clamp();}function xot(i,t){return i&t;}function vot(i){var t=Nt();this.bitwiseTo(i,xot,t);return t;}function tw(i,t){return i|t;}function Cot(i){var t=Nt();this.bitwiseTo(i,tw,t);return t;}function E3(i,t){return i^t;}function Sot(i){var t=Nt();this.bitwiseTo(i,E3,t);return t;}function F3(i,t){return i&~t;}function wot(i){var t=Nt();this.bitwiseTo(i,F3,t);return t;}function Tot(){var i=Nt();for(var t=0;t<this.t;++t){i[t]=this.DM&~this[t];}i.t=this.t;i.s=~this.s;return i;}function kot(i){var t=Nt();if(i<0)this.rShiftTo(-i,t);else this.lShiftTo(i,t);return t;}function Iot(i){var t=Nt();if(i<0)this.lShiftTo(-i,t);else this.rShiftTo(i,t);return t;}function Dot(i){if(i==0)return-1;var t=0;if((i&65535)==0){i>>=16;t+=16;}if((i&255)==0){i>>=8;t+=8;}if((i&15)==0){i>>=4;t+=4;}if((i&3)==0){i>>=2;t+=2;}if((i&1)==0)++t;return t;}function Eot(){for(var i=0;i<this.t;++i){if(this[i]!=0)return i*this.DB+Dot(this[i]);}if(this.s<0)return this.t*this.DB;return-1;}function Fot(i){var t=0;while(i!=0){i&=i-1;++t;}return t;}function Rot(){var i=0,t=this.s&this.DM;for(var e=0;e<this.t;++e){i+=Fot(this[e]^t);}return i;}function Oot(i){var t=Math.floor(i/this.DB);if(t>=this.t)return this.s!=0;return(this[t]&1<<i%this.DB)!=0;}function Aot(i,t){var e=X.ONE.shiftLeft(i);this.bitwiseTo(e,t,e);return e;}function Bot(i){return this.changeBit(i,tw);}function Pot(i){return this.changeBit(i,F3);}function Mot(i){return this.changeBit(i,E3);}function Lot(i,t){var e=0,r=0,o=Math.min(i.t,this.t);while(e<o){r+=this[e]+i[e];t[e++]=r&this.DM;r>>=this.DB;}if(i.t<this.t){r+=i.s;while(e<this.t){r+=this[e];t[e++]=r&this.DM;r>>=this.DB;}r+=this.s;}else{r+=this.s;while(e<i.t){r+=i[e];t[e++]=r&this.DM;r>>=this.DB;}r+=i.s;}t.s=r<0?-1:0;if(r>0)t[e++]=r;else if(r<-1)t[e++]=this.DV+r;t.t=e;t.clamp();}function zot(i){var t=Nt();this.addTo(i,t);return t;}function Uot(i){var t=Nt();this.subTo(i,t);return t;}function Not(i){var t=Nt();this.multiplyTo(i,t);return t;}function Hot(){var i=Nt();this.squareTo(i);return i;}function Wot(i){var t=Nt();this.divRemTo(i,t,null);return t;}function Got(i){var t=Nt();this.divRemTo(i,null,t);return t;}function Vot(i){var t=Nt(),e=Nt();this.divRemTo(i,t,e);return new Array(t,e);}function jot(i){this[this.t]=this.am(0,i-1,this,0,0,this.t);++this.t;this.clamp();}function $ot(i,t){if(i==0)return;while(this.t<=t){this[this.t++]=0;}this[t]+=i;while(this[t]>=this.DV){this[t]-=this.DV;if(++t>=this.t)this[this.t++]=0;++this[t];}}function hh(){}function R3(i){return i;}function Kot(i,t,e){i.multiplyTo(t,e);}function Xot(i,t){i.squareTo(t);}function qot(i){return this.exp(i,new hh());}function Yot(i,t,e){var r=Math.min(this.t+i.t,t);e.s=0;e.t=r;while(r>0){e[--r]=0;}var o;for(o=e.t-this.t;r<o;++r){e[r+this.t]=this.am(0,i[r],e,r,0,this.t);}for(o=Math.min(i.t,t);r<o;++r){this.am(0,i[r],e,r,0,t-r);}e.clamp();}function Jot(i,t,e){--t;var r=e.t=this.t+i.t-t;e.s=0;while(--r>=0){e[r]=0;}for(r=Math.max(t-this.t,0);r<i.t;++r){e[this.t+r-t]=this.am(t-r,i[r],e,0,0,this.t+r-t);}e.clamp();e.drShiftTo(1,e);}function Bd(i){this.r2=Nt();this.q3=Nt();X.ONE.dlShiftTo(2*i.t,this.r2);this.mu=this.r2.divide(i);this.m=i;}function Zot(i){if(i.s<0||i.t>2*this.m.t)return i.mod(this.m);else if(i.compareTo(this.m)<0)return i;else{var t=Nt();i.copyTo(t);this.reduce(t);return t;}}function Qot(i){return i;}function tnt(i){i.drShiftTo(this.m.t-1,this.r2);if(i.t>this.m.t+1){i.t=this.m.t+1;i.clamp();}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(i.compareTo(this.r2)<0){i.dAddOffset(1,this.m.t+1);}i.subTo(this.r2,i);while(i.compareTo(this.m)>=0){i.subTo(this.m,i);}}function ent(i,t){i.squareTo(t);this.reduce(t);}function _int(i,t,e){i.multiplyTo(t,e);this.reduce(e);}function rnt(i,t){var e=i.bitLength(),r,o=Ja(1),n;if(e<=0)return o;else if(e<18)r=1;else if(e<48)r=3;else if(e<144)r=4;else if(e<768)r=5;else r=6;if(e<8)n=new cc(t);else if(t.isEven())n=new Bd(t);else n=new uc(t);var s=new Array(),a=3,l=r-1,c=(1<<r)-1;s[1]=n.convert(this);if(r>1){var u=Nt();n.sqrTo(s[1],u);while(a<=c){s[a]=Nt();n.mulTo(u,s[a-2],s[a]);a+=2;}}var m=i.t-1,p,h=true,g=Nt(),x;e=zy(i[m])-1;while(m>=0){if(e>=l)p=i[m]>>e-l&c;else{p=(i[m]&(1<<e+1)-1)<<l-e;if(m>0)p|=i[m-1]>>this.DB+e-l;}a=r;while((p&1)==0){p>>=1;--a;}if((e-=a)<0){e+=this.DB;--m;}if(h){s[p].copyTo(o);h=false;}else{while(a>1){n.sqrTo(o,g);n.sqrTo(g,o);a-=2;}if(a>0)n.sqrTo(o,g);else{x=o;o=g;g=x;}n.mulTo(g,s[p],o);}while(m>=0&&(i[m]&1<<e)==0){n.sqrTo(o,g);x=o;o=g;g=x;if(--e<0){e=this.DB-1;--m;}}}return n.revert(o);}function ont(i){var t=this.s<0?this.negate():this.clone();var e=i.s<0?i.negate():i.clone();if(t.compareTo(e)<0){var r=t;t=e;e=r;}var o=t.getLowestSetBit(),n=e.getLowestSetBit();if(n<0)return t;if(o<n)n=o;if(n>0){t.rShiftTo(n,t);e.rShiftTo(n,e);}while(t.signum()>0){if((o=t.getLowestSetBit())>0)t.rShiftTo(o,t);if((o=e.getLowestSetBit())>0)e.rShiftTo(o,e);if(t.compareTo(e)>=0){t.subTo(e,t);t.rShiftTo(1,t);}else{e.subTo(t,e);e.rShiftTo(1,e);}}if(n>0)e.lShiftTo(n,e);return e;}function nnt(i){if(i<=0)return 0;var t=this.DV%i,e=this.s<0?i-1:0;if(this.t>0)if(t==0)e=this[0]%i;else for(var r=this.t-1;r>=0;--r){e=(t*e+this[r])%i;}return e;}function snt(i){var t=i.isEven();if(this.isEven()&&t||i.signum()==0)return X.ZERO;var e=i.clone(),r=this.clone();var o=Ja(1),n=Ja(0),s=Ja(0),a=Ja(1);while(e.signum()!=0){while(e.isEven()){e.rShiftTo(1,e);if(t){if(!o.isEven()||!n.isEven()){o.addTo(this,o);n.subTo(i,n);}o.rShiftTo(1,o);}else if(!n.isEven())n.subTo(i,n);n.rShiftTo(1,n);}while(r.isEven()){r.rShiftTo(1,r);if(t){if(!s.isEven()||!a.isEven()){s.addTo(this,s);a.subTo(i,a);}s.rShiftTo(1,s);}else if(!a.isEven())a.subTo(i,a);a.rShiftTo(1,a);}if(e.compareTo(r)>=0){e.subTo(r,e);if(t)o.subTo(s,o);n.subTo(a,n);}else{r.subTo(e,r);if(t)s.subTo(o,s);a.subTo(n,a);}}if(r.compareTo(X.ONE)!=0)return X.ZERO;if(a.compareTo(i)>=0)return a.subtract(i);if(a.signum()<0)a.addTo(i,a);else return a;if(a.signum()<0)return a.add(i);else return a;}function lnt(i){var t,e=this.abs();if(e.t==1&&e[0]<=$i[$i.length-1]){for(t=0;t<$i.length;++t){if(e[0]==$i[t])return true;}return false;}if(e.isEven())return false;t=1;while(t<$i.length){var r=$i[t],o=t+1;while(o<$i.length&&r<ant){r*=$i[o++];}r=e.modInt(r);while(t<o){if(r%$i[t++]==0)return false;}}return e.millerRabin(i);}function cnt(i){var t=this.subtract(X.ONE);var e=t.getLowestSetBit();if(e<=0)return false;var r=t.shiftRight(e);i=i+1>>1;if(i>$i.length)i=$i.length;var o=Nt();for(var n=0;n<i;++n){o.fromInt($i[Math.floor(Math.random()*$i.length)]);var s=o.modPow(r,this);if(s.compareTo(X.ONE)!=0&&s.compareTo(t)!=0){var a=1;while(a++<e&&s.compareTo(t)!=0){s=s.modPowInt(2,this);if(s.compareTo(X.ONE)==0)return false;}if(s.compareTo(t)!=0)return false;}}return true;}var Z1,Za,Srt,k3,Q1,Irt,Ly,Ad,oo,$i,ant,O3;var A3=d(function(){Z1={};if(true){Z1=typeof window!=="undefined"?window.navigator:{};}Srt=244837814094590;k3=(Srt&16777215)==15715070;if(k3&&Z1.appName=="Microsoft Internet Explorer"){X.prototype.am=Trt;Za=30;}else if(k3&&Z1.appName!="Netscape"){X.prototype.am=wrt;Za=26;}else{X.prototype.am=krt;Za=28;}X.prototype.DB=Za;X.prototype.DM=(1<<Za)-1;X.prototype.DV=1<<Za;Q1=52;X.prototype.FV=Math.pow(2,Q1);X.prototype.F1=Q1-Za;X.prototype.F2=2*Za-Q1;Irt="0123456789abcdefghijklmnopqrstuvwxyz";Ly=new Array();Ad="0".charCodeAt(0);for(oo=0;oo<=9;++oo){Ly[Ad++]=oo;}Ad="a".charCodeAt(0);for(oo=10;oo<36;++oo){Ly[Ad++]=oo;}Ad="A".charCodeAt(0);for(oo=10;oo<36;++oo){Ly[Ad++]=oo;}cc.prototype.convert=$rt;cc.prototype.revert=Krt;cc.prototype.reduce=Xrt;cc.prototype.mulTo=qrt;cc.prototype.sqrTo=Yrt;uc.prototype.convert=Zrt;uc.prototype.revert=Qrt;uc.prototype.reduce=tot;uc.prototype.mulTo=iot;uc.prototype.sqrTo=eot;X.prototype.copyTo=Drt;X.prototype.fromInt=Ert;X.prototype.fromString=Frt;X.prototype.clamp=Rrt;X.prototype.dlShiftTo=Lrt;X.prototype.drShiftTo=zrt;X.prototype.lShiftTo=Urt;X.prototype.rShiftTo=Nrt;X.prototype.subTo=Hrt;X.prototype.multiplyTo=Wrt;X.prototype.squareTo=Grt;X.prototype.divRemTo=Vrt;X.prototype.invDigit=Jrt;X.prototype.isEven=rot;X.prototype.exp=oot;X.prototype.toString=Ort;X.prototype.negate=Art;X.prototype.abs=Brt;X.prototype.compareTo=Prt;X.prototype.bitLength=Mrt;X.prototype.mod=jrt;X.prototype.modPowInt=not;X.ZERO=Ja(0);X.ONE=Ja(1);hh.prototype.convert=R3;hh.prototype.revert=R3;hh.prototype.mulTo=Kot;hh.prototype.sqrTo=Xot;Bd.prototype.convert=Zot;Bd.prototype.revert=Qot;Bd.prototype.reduce=tnt;Bd.prototype.mulTo=_int;Bd.prototype.sqrTo=ent;$i=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];ant=(1<<26)/$i[$i.length-1];X.prototype.chunkSize=uot;X.prototype.toRadix=mot;X.prototype.fromRadix=pot;X.prototype.fromNumber=hot;X.prototype.bitwiseTo=_ot;X.prototype.changeBit=Aot;X.prototype.addTo=Lot;X.prototype.dMultiply=jot;X.prototype.dAddOffset=$ot;X.prototype.multiplyLowerTo=Yot;X.prototype.multiplyUpperTo=Jot;X.prototype.modInt=nnt;X.prototype.millerRabin=cnt;X.prototype.clone=sot;X.prototype.intValue=aot;X.prototype.byteValue=lot;X.prototype.shortValue=cot;X.prototype.signum=dot;X.prototype.toByteArray=fot;X.prototype.equals=got;X.prototype.min=bot;X.prototype.max=yot;X.prototype.and=vot;X.prototype.or=Cot;X.prototype.xor=Sot;X.prototype.andNot=wot;X.prototype.not=Tot;X.prototype.shiftLeft=kot;X.prototype.shiftRight=Iot;X.prototype.getLowestSetBit=Eot;X.prototype.bitCount=Rot;X.prototype.testBit=Oot;X.prototype.setBit=Bot;X.prototype.clearBit=Pot;X.prototype.flipBit=Mot;X.prototype.add=zot;X.prototype.subtract=Uot;X.prototype.multiply=Not;X.prototype.divide=Wot;X.prototype.remainder=Got;X.prototype.divideAndRemainder=Vot;X.prototype.modPow=rnt;X.prototype.modInverse=snt;X.prototype.pow=qot;X.prototype.gcd=ont;X.prototype.isProbablePrime=lnt;X.prototype.square=Hot;O3=X;});function B3(i){var t=8;var e=0;function r(v,b){var T=(v&65535)+(b&65535);var k=(v>>16)+(b>>16)+(T>>16);return k<<16|T&65535;}function o(v,b){return v>>>b|v<<32-b;}function n(v,b){return v>>>b;}function s(v,b,T){return v&b^~v&T;}function a(v,b,T){return v&b^v&T^b&T;}function l(v){return o(v,2)^o(v,13)^o(v,22);}function c(v){return o(v,6)^o(v,11)^o(v,25);}function u(v){return o(v,7)^o(v,18)^n(v,3);}function m(v){return o(v,17)^o(v,19)^n(v,10);}function p(v,b){var T=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298);var k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225);var E=new Array(64);var A,I,F,Z,et,pt,yt,bt,ht,Qt;var gi,ii;v[b>>5]|=128<<24-b%32;v[(b+64>>9<<4)+15]=b;for(var ht=0;ht<v.length;ht+=16){A=k[0];I=k[1];F=k[2];Z=k[3];et=k[4];pt=k[5];yt=k[6];bt=k[7];for(var Qt=0;Qt<64;Qt++){if(Qt<16)E[Qt]=v[Qt+ht];else E[Qt]=r(r(r(m(E[Qt-2]),E[Qt-7]),u(E[Qt-15])),E[Qt-16]);gi=r(r(r(r(bt,c(et)),s(et,pt,yt)),T[Qt]),E[Qt]);ii=r(l(A),a(A,I,F));bt=yt;yt=pt;pt=et;et=r(Z,gi);Z=F;F=I;I=A;A=r(gi,ii);}k[0]=r(A,k[0]);k[1]=r(I,k[1]);k[2]=r(F,k[2]);k[3]=r(Z,k[3]);k[4]=r(et,k[4]);k[5]=r(pt,k[5]);k[6]=r(yt,k[6]);k[7]=r(bt,k[7]);}return k;}function h(v){var b=Array();var T=(1<<t)-1;for(var k=0;k<v.length*t;k+=t){b[k>>5]|=(v.charCodeAt(k/t)&T)<<24-k%32;}return b;}function g(v){v=v.replace(/\r\n/g,"\n");var b="";for(var T=0;T<v.length;T++){var k=v.charCodeAt(T);if(k<128){b+=String.fromCharCode(k);}else if(k>127&&k<2048){b+=String.fromCharCode(k>>6|192);b+=String.fromCharCode(k&63|128);}else{b+=String.fromCharCode(k>>12|224);b+=String.fromCharCode(k>>6&63|128);b+=String.fromCharCode(k&63|128);}}return b;}function x(v){var b=e?"0123456789ABCDEF":"0123456789abcdef";var T="";for(var k=0;k<v.length*4;k++){T+=b.charAt(v[k>>2]>>(3-k%4)*8+4&15)+b.charAt(v[k>>2]>>(3-k%4)*8&15);}return T;}i=g(i);return x(p(h(i),i.length*t));}var P3=d(function(){});var unt,dnt,dc;var M3=d(function(){unt=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g;dnt=/^(0|[1-9]\d*)\.(0|[1-9]\d*)(\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g;dc=/*#__PURE__*/function(){function dc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_classCallCheck(this,dc);var r=e?dnt:unt;var o=r.exec(t);r.lastIndex=0;this._major=o[1];this._minor=o[2];this._patch=o[3]||0;}_createClass(dc,[{key:"major",get:function get(){return this._major;}},{key:"minor",get:function get(){return this._minor;}},{key:"patch",get:function get(){return this._patch;}},{key:"equals",value:function equals(t){return this._major===t._major&&this._minor===t._minor&&this._patch===t._patch;}},{key:"isMoreRecentThan",value:function isMoreRecentThan(t){if(this._major<t.major)return false;if(this._major>t.major)return true;if(this._minor<t.minor)return false;if(this._minor>t.minor)return true;if(this._patch<=t.patch)return false;if(this._patch>t.patch)return true;}}]);return dc;}();});function mnt(i){return i.map(function(t){return"0".concat((t&255).toString(16)).slice(-2);}).join("");}var xi,pnt,hnt,L3,fnt,z3,ew,gnt,bnt,iw,ynt,U3,rw,Uy;var ow=d(function(){Cd();A3();P3();yd();M3();kn();xi=function xi(i){return z.byteArrayToString(io.decode(i));};pnt="TDNSeVlXTnJQMkZ3YVV0bGVUMD0=";hnt="ZW50ZXJwcmlzZV9saWNlbnNl";L3="YXBwX2lkZW50aWZpZXJz";fnt="cGxhdGZvcm0=";z3="ZmVhdHVyZXM=";ew="ZXhwaXJlc19hdA==";gnt="ZG9tYWlucw==";bnt="YXBpX3Rva2Vu";iw="c2lnbmF0dXJl";ynt="dmVyc2lvbg==";U3=/*#__PURE__*/function(){function U3(t){_classCallCheck(this,U3);this._version="2.4";this._l=typeof t==="string"?t.trim():t;this._e=this._parseBigInt("65537",10);this._n=this._parseBigInt("681984042382424091378806337544846672160292647422517223678775230983366046720611873368204040735766698395282492937192783016867164773742859209434481353888637963692711665138989982680829529436715362566735813634679619274059040232728883894511099669775400556584329435375723951309340934658571478665059403241851229195311069345899870108307225910988692123234379186643268583453907260879685992156955936561142314233983397819356937109343127504441076920088455337597736475086676246750168976219763398350254797168313954762459542746440628077261880980924552698138857743609502132632199713575442848784271304503226045319991689413234228439044522583790713890093165912455428688507463773064216328753265963237930998706891042679105987175588970202082466871461192706070321938250462103821558100761330890228135620208935801286878657384108721268761878694436895194628411397454202904351577771506916746612289964053490210990342857409030179406810634136188751670648983222653319056818302012063874664196648868156305696644664362171542503665321455971335955948698828939948786720193132672749776162913092000667953299803216404664087988046584107737900256954976744353601826341965438148646041640662195744770544094748295945844184507459808803114917301124088082458306086473490516969815873631",10);this._parseLicense();}_createClass(U3,[{key:"v",value:function v(){return this._sigValid()&&!this.isExp();}},{key:"_jsonValid",value:function _jsonValid(){try{this._decLic=JSON.parse(this._l);}catch(t){this._decLic={};return false;}return true;}},{key:"_hostnameValid",value:function _hostnameValid(){if(typeof window==="undefined")return true;if(!this._decLic[xi(L3)].length)return true;var t=window.location.hostname;var e=false;this._decLic[xi(L3)].forEach(function(r){if(z.wildCardMatch(t,r)){e=true;}});return e;}},{key:"_platformValid",value:function _platformValid(){var t=this._decLic[xi(fnt)];var e=true?"HTML5":"Server";return e===t;}},{key:"c",value:function c(){var _this66=this;return new Promise(function(t,e){var r=_this66._validateError();if(r!==null){e(r);}t();});}},{key:"validate",value:function validate(){var t=this._validateError();if(t!==null){return false;}return true;}},{key:"_validateError",value:function _validateError(){var t=_typeof(this._l);if(t!=="string"||!this._jsonValid()){var e=new Error();e.code="ELICINVFMT";return e;}if(!this._sigValid()){var _e4=new Error();_e4.code="ELICINV";return _e4;}if(!this._hostnameValid()){var _e5=new Error();_e5.code="ELICINVHOST";return _e5;}if(!this._platformValid()){var _e6=new Error();_e6.code="ELICINVPLAT";return _e6;}if(this.isExp()){var _e7=new Error();_e7.code="ELICEXP";return _e7;}return null;}},{key:"isToolAllowed",value:function isToolAllowed(t){return this._includesFeature(t);}},{key:"isWhiteLabel",value:function isWhiteLabel(){return this._includesFeature("whitelabel",new dc("2.4",true));}},{key:"areCustomAssetsAllowed",value:function areCustomAssetsAllowed(){return this._includesFeature("customassets",new dc("2.4",true));}},{key:"t",value:function t(){if(this._decLic.enterprise_license)return Promise.resolve();if(this._includesFeature("noexporttracking",new dc("2.4",true)))return Promise.resolve();var t=this._decLic[xi(gnt)][0]+xi(xi(pnt))+this._decLic[xi(bnt)];var e=new ro(t);return e.load()["catch"](function(){});}},{key:"isENT",value:function isENT(){if(!this._decLic)return false;return this._decLic[xi(hnt)];}},{key:"_sigValid",value:function _sigValid(){return this._verify(this._message,this._sig);}},{key:"exp",value:function exp(){return!!this._decLic[xi(ew)];}},{key:"dl",value:function dl(){return Math.ceil((this._expAt()-Date.now())/(60*60*24*1e3));}},{key:"isExp",value:function isExp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();if(this._decLic[xi(ew)]===null)return false;return t>this._expAt();}},{key:"_expAt",value:function _expAt(){return this._decLic[xi(ew)]*1e3;}},{key:"_verify",value:function _verify(t,e){var r;var o;o=this._encodeMessage(t);r=this._decodeSignature(e);r=r.substr(-64);var n=o===r;return n;}},{key:"_encodeMessage",value:function _encodeMessage(t){var e=B3(t);return e;}},{key:"_decodeSignature",value:function _decodeSignature(t){var e;t=io.decode(t);t=mnt(t);t=this._parseBigInt(t,16);e=t.modPowInt(this._e,this._n);e=e.toString(16);return e;}},{key:"_parseBigInt",value:function _parseBigInt(t,e){return new O3(t,e);}},{key:"_parseLicense",value:function _parseLicense(){if(typeof this._l!=="string")return;if(!this._jsonValid())return;this._sig=this._decLic[xi(iw)]||"";delete this._decLic[xi(iw)];this._sig=this._sig.replace(/[^A-Za-z0-9+/=]/g,"");this._message=this._l.replace(new RegExp(",\"".concat(xi(iw),"\":\"([^\"]*)\"")),"");}},{key:"_includesFeature",value:function _includesFeature(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new dc("1.0",true);var r=new dc(this._decLic[xi(ynt)],true);if(e.isMoreRecentThan(r))return true;return this._decLic[xi(z3)]&&this._decLic[xi(z3)].indexOf(t)!==-1;}}]);return U3;}();rw=/*#__PURE__*/function(){function rw(){_classCallCheck(this,rw);}_createClass(rw,[{key:"v",value:function v(){return true;}},{key:"c",value:function c(){return Promise.resolve();}},{key:"isToolAllowed",value:function isToolAllowed(t){return true;}},{key:"isWhiteLabel",value:function isWhiteLabel(){return false;}},{key:"areCustomAssetsAllowed",value:function areCustomAssetsAllowed(){return true;}},{key:"t",value:function t(){return Promise.resolve();}},{key:"isENT",value:function isENT(){return false;}},{key:"exp",value:function exp(){return false;}},{key:"dl",value:function dl(){return 0;}},{key:"isExp",value:function isExp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();return false;}}]);return rw;}();Uy=U3;});var mc,zs,Qa,N3,Ny;var H3=d(function(){mc=typeof window==="undefined"?global:window;zs=mc.requestAnimationFrame;Qa=mc.cancelAnimationFrame;N3=0;Ny=["ms","moz","webkit","o"];for(var i=0;i<Ny.length&&!zs;++i){zs=mc["".concat(Ny[i],"RequestAnimationFrame")];Qa=mc["".concat(Ny[i],"CancelAnimationFrame")]||mc["".concat(Ny[i],"CancelRequestAnimationFrame")];}if(zs){zs=zs.bind(mc);}if(Qa){Qa=Qa.bind(mc);}if(!zs){zs=function zs(i,t){var e=new Date().getTime();var r=Math.max(0,16-(e-N3));var o=setTimeout(function(){i(e+r);},r);N3=e+r;return o;};}if(!Qa){Qa=function Qa(i){clearTimeout(i);};}});var W3,nw;var G3=d(function(){zo();As();W3=/*#__PURE__*/function(){function W3(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _ot2(0,0);var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ot2(1,1);var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _ot2(2,-1);var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _ot2(2,0);_classCallCheck(this,W3);this._p0=t.clone();this._p1=e.clone();this._p2=r.clone();this._p3=o.clone();this._segments=[];this._length=-1;this._sample=[];}_createClass(W3,[{key:"set",value:function set(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new _ot2(0,0);var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _ot2(1,1);var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new _ot2(2,1);var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new _ot2(2,0);this._p0=t.clone();this._p1=e.clone();this._p2=r.clone();this._p3=o.clone();}},{key:"getLength",value:function getLength(){return this._length;}},{key:"calculateSegments",value:function calculateSegments(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var e=0;var r=0;var o=[];var n=1/t;var s=this._p0.clone();for(var a=1;a<=t;a++){var l=[];l.push({t:e,s:r,point:s});e+=n;e=Math.min(e,1);var c=this.evalAt(e);var u=c.clone().subtract(s);r+=u.len();l.push({t:e,s:r,point:c});o.push(l);s=c;}this._segments=o;this._length=r;return r;}},{key:"evalAt",value:function evalAt(t){t=this.normalizeParameter(t);var e=this._p0.clone().multiply(Math.pow(1-t,3));var r=this._p1.clone().multiply(3*(1-t)*(1-t)*t);var o=this._p2.clone().multiply(3*(1-t)*t*t);var n=this._p3.clone().multiply(t*t*t);return e.add(r).add(o).add(n);}},{key:"isInSegment",value:function isInSegment(t,e){t=this.normalizeArcLength(t);return t>=e[0].s&&t<=e[1].s;}},{key:"getArcLengthSegment",value:function getArcLengthSegment(t){t=this.normalizeArcLength(t);for(var e=0;e<this._segments.length;e++){var r=this._segments[e];if(this.isInSegment(t,r)){return r;}}return null;}},{key:"normalizeArcLength",value:function normalizeArcLength(t){return Math.max(Math.min(this._length,t),0);}},{key:"normalizeParameter",value:function normalizeParameter(t){return Math.max(Math.min(1,t),0);}},{key:"getParameterForArcLength",value:function getParameterForArcLength(t){var e=this.normalizeArcLength(t);var r=this.getArcLengthSegment(e);if(!r){Y.warn("CubicBezierCurve#getParameterForArcLength","Segment not found.");return-1;}var o=(e-r[1].s)/(r[0].s-r[1].s);return o*r[0].t+(1-o)*r[1].t;}},{key:"evalAtArcLength",value:function evalAtArcLength(t){return this.evalAt(this.getParameterForArcLength(t));}},{key:"approximateAtArcLength",value:function approximateAtArcLength(t){var e=this.normalizeArcLength(t);var r=this.getArcLengthSegment(e);if(!r){return-1;}var o=(e-r[1].s)/(r[0].s-r[1].s);return r[0].point.clone().multiply(o).add(r[1].point.clone().multiply(1-o));}},{key:"parameterSample",value:function parameterSample(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var e=1/t;var r=[];var o=0;for(var n=0;n<=t+1;n++){r.push(this.evalAt(o));o+=e;}this._sample=r;return[].concat(r);}},{key:"arcLengthApproxSample",value:function arcLengthApproxSample(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=this._length/t;var n=[];var s=0;for(var a=e?1:0;a<t+1;a++){n.push(this.approximateAtArcLength(s));s+=o;}if(r){n.pop();}this._sample=n;return[].concat(n);}}]);return W3;}();nw=W3;});var V3,sw;var j3=d(function(){V3=/*#__PURE__*/function(){function V3(t,e){_classCallCheck(this,V3);this.min=t;this.max=e;}_createClass(V3,[{key:"getMin",value:function getMin(){return this.min;}},{key:"getMax",value:function getMax(){return this.max;}},{key:"getLength",value:function getLength(){return this.max-this.min;}},{key:"contains",value:function contains(t){return this.min<=t&&t<=this.max;}}]);return V3;}();sw=V3;});var _Ki,aw;var $3=d(function(){_Ki=/*#__PURE__*/function(){function Ki(t,e,r){_classCallCheck(this,Ki);this.x=t;this.y=e;this.z=r;if(typeof this.x==="undefined"){this.x=0;}if(typeof this.y==="undefined"){this.y=0;}if(typeof this.z==="undefined"){this.z=0;}}_createClass(Ki,[{key:"set",value:function set(t,e,r){this.x=t;this.y=e;this.z=r;return this;}},{key:"clone",value:function clone(){return new _Ki(this.x,this.y,this.z);}},{key:"copy",value:function copy(t){this.x=t.x;this.y=t.y;this.z=t.z;return this;}},{key:"clamp",value:function clamp(t,e){var r=t!==null&&typeof t!=="undefined";var o=e!==null&&typeof e!=="undefined";if(!(t instanceof _Ki)&&r){t=new _Ki(t,t,t);}if(!(e instanceof _Ki)&&o){e=new _Ki(e,e,e);}if(r){this.x=Math.max(t.x,this.x);this.y=Math.max(t.y,this.y);this.z=Math.max(t.z,this.z);}if(o){this.x=Math.min(e.x,this.x);this.y=Math.min(e.y,this.y);this.z=Math.min(e.z,this.z);}return this;}},{key:"divide",value:function divide(t){if(t instanceof _Ki){this.x/=t.x;this.y/=t.y;this.z/=t.z;}else{this.x/=t;this.y/=t;this.z/=t;}return this;}},{key:"subtract",value:function subtract(t){if(t instanceof _Ki){this.x-=t.x;this.y-=t.y;this.z-=t.z;}else{this.x-=t;this.y-=t;this.z-=t;}return this;}},{key:"multiply",value:function multiply(t){if(t instanceof _Ki){this.x*=t.x;this.y*=t.y;this.z*=t.z;}else{this.x*=t;this.y*=t;this.z*=t;}return this;}},{key:"add",value:function add(t){if(t instanceof _Ki){this.x+=t.x;this.y+=t.y;this.z+=t.z;}else{this.x+=t;this.y+=t;this.z+=t;}return this;}},{key:"equals",value:function equals(t){if(t instanceof _Ki){return t.x===this.x&&t.y===this.y&&t.z===this.z;}return t===this.x&&t===this.y&&t===this.z;}},{key:"round",value:function round(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this;}},{key:"ceil",value:function ceil(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this;}},{key:"floor",value:function floor(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this;}},{key:"fract",value:function fract(){this.x%=1;this.y%=1;this.z%=1;return this;}},{key:"toInt",value:function toInt(){this.x|=0;this.y|=0;this.z|=0;return this;}},{key:"abs",value:function abs(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);this.z=Math.abs(this.z);return this;}},{key:"len",value:function len(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}},{key:"min",value:function min(){return Math.min(Math.min(this.x,this.y),this.z);}},{key:"max",value:function max(){return Math.max(Math.max(this.x,this.y),this.z);}},{key:"toObject",value:function toObject(){return{x:this.x,y:this.y,z:this.z};}},{key:"toString",value:function toString(){return"Vector3({ x: ".concat(this.x,", y: ").concat(this.y,", z: ").concat(this.z," })");}},{key:"roundDecimal",value:function roundDecimal(t){this.x=parseFloat(this.x.toFixed(t));this.y=parseFloat(this.y.toFixed(t));this.z=parseFloat(this.z.toFixed(t));return this;}}],[{key:"fromObject",value:function fromObject(t){return new _Ki(t.x,t.y,t.z);}},{key:"NULL",get:function get(){return new _Ki(0,0,0);}}]);return Ki;}();aw=_Ki;});var J={};de(J,{ColorMatrix:function ColorMatrix(){return eh;},CubicBezierCurve:function CubicBezierCurve(){return nw;},Matrix:function Matrix(){return _rr;},Range:function Range(){return sw;},Rectangle:function Rectangle(){return _ce;},Vector2:function Vector2(){return _ot2;},Vector3:function Vector3(){return aw;}});var lw=d(function(){R1();G3();E1();j3();F1();As();$3();});var fh={};de(fh,{Base64:function Base64(){return io;},Color:function Color(){return G;},ColorMatrix:function ColorMatrix(){return eh;},Configurable:function Configurable(){return _t;},Constants:function Constants(){return ir;},CubicBezierCurve:function CubicBezierCurve(){return nw;},Engine:function Engine(){return L;},EventEmitter:function EventEmitter(){return Vi;},Events:function Events(){return Od;},FreeLicenseChecker:function FreeLicenseChecker(){return rw;},GLUtils:function GLUtils(){return nc;},LicenseChecker:function LicenseChecker(){return Uy;},Log:function Log(){return Y;},Matrix:function Matrix(){return _rr;},Range:function Range(){return sw;},Rectangle:function Rectangle(){return _ce;},Utils:function Utils(){return z;},Vector2:function Vector2(){return _ot2;},Vector3:function Vector3(){return aw;},cancelAnimationFrame:function cancelAnimationFrame(){return Qa;},requestAnimationFrame:function requestAnimationFrame(){return zs;}});var pc=d(function(){zo();ph();Ar();gh();yd();oc();kd();Sd();D1();ow();kn();H3();lw();});var cw;var K3=d(function(){Ry();uw();J1();pc();cw=/*#__PURE__*/function(){function cw(){_classCallCheck(this,cw);this._container=new _In();this._sprite=new bh();this._container.addChild(this._sprite);}_createClass(cw,[{key:"render",value:function render(t,e,r){var o=r.getDimensions();var n=this._getNextHighestPOT(o);if(!this._renderTexture){this._renderTexture=new mh(t,n.x,n.y);}else{this._renderTexture.resizeTo(n);}var s=this._renderTexture.getDimensions();this._sprite.setTexture(r);this._sprite.updateTransform();this._renderTexture.clear();this._renderTexture.render(this._container);this._updateSprite(t,e,o,s);}},{key:"_updateSprite",value:function _updateSprite(t,e,r,o){e.setTexture(this._renderTexture);this._renderTexture.setFrame(new _ce(0,0,r.x,r.y));}},{key:"_getNextHighestPOT",value:function _getNextHighestPOT(t){return new _ot2(z.nextHighestPOT(t.x),z.nextHighestPOT(t.y));}},{key:"getRenderTexture",value:function getRenderTexture(){return this._renderTexture;}},{key:"dispose",value:function dispose(){if(!this._renderTexture){return;}this._renderTexture.dispose();delete this._renderTexture;}}]);return cw;}();});var bh;var uw=d(function(){K3();Ry();Le();bh=/*#__PURE__*/function(_In2){_inherits(bh,_In2);var _super36=_createSuper(bh);function bh(t){var _this67;_classCallCheck(this,bh);_this67=_super36.call(this);_this67._shader=null;_this67._width=0;_this67._height=0;_this67._anchor=new _ot2(0,0);_this67._canvasSmoothingEnabled=true;_this67._smoothDownscaling=false;_this67._onTextureUpdate=_this67._onTextureUpdate.bind(_assertThisInitialized(_this67));_this67.setTexture(t);return _this67;}_createClass(bh,[{key:"_onTextureUpdate",value:function _onTextureUpdate(){this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"_renderWebGL",value:function _renderWebGL(t){var e=t.save();if(this._smoothDownscaling){if(!this._potRenderer){this._potRenderer=new cw();}if(this._texture){this._potRenderer.render(t,this,this._texture);}}t.restore(e);t.setObjectRenderer(t.renderers.sprite);t.renderers.sprite.render(this);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(!this._texture)return;var e=this._worldTransform;var r=this._texture.getFrame();var o=r.width,n=r.height;var s=t.getCurrentRenderTarget().getPixelRatio();var a=this._anchor.x*-o|0;var l=this._anchor.y*-n|0;var c=t.getContext();c.setTransform(e.a,e.b,e.c,e.d,e.tx*s,e.ty*s);c.globalAlpha=this.getWorldAlpha();if(!this._texture)return;var u=this._texture.getBaseTexture();var m=u.getPixelRatio();var p=u.getSource();c.imageSmoothingEnabled=this._canvasSmoothingEnabled;if("beforeDraw"in t){t.beforeDraw(c);}c.drawImage(p,0,0,(p.naturalWidth||o)*m,(p.naturalHeight||n)*m,a*s,l*s,o*s,n*s);}},{key:"isAtPosition",value:function isAtPosition(t){if(!this._texture)return void 0;var e=this._worldTransform.applyInverseToVector(t);var r=this._texture.getFrame();var o=r.width,n=r.height;var s=new _ot2(-o,-n);s.multiply(this._anchor);var a=s.clone().add(o,n);if(e.x<s.x||e.x>a.x||e.y<s.y||e.y>a.y){return false;}return true;}},{key:"getLocalBounds",value:function getLocalBounds(){if(this._localBoundsNeedUpdate&&this._texture){var t=this._localBounds;var e=this._texture.getFrame();t.x=-e.width*this._anchor.x;t.y=-e.height*this._anchor.y;t.width=e.width;t.height=e.height;this._localBoundsNeedUpdate=false;}return this._localBounds.clone();}},{key:"getBounds",value:function getBounds(){if(this._boundsNeedUpdate&&this._texture){var t=this._bounds;var e=this._texture.getFrame();var r=this._worldTransform;var o=this._anchor;var n=r.rectangleToCoordinates(e,o);var s=n[0].x;var a=n[0].y;var l=s;var c=a;n.forEach(function(_ref109){var u=_ref109.x,m=_ref109.y;s=Math.min(s,u);a=Math.min(a,m);l=Math.max(l,u);c=Math.max(c,m);});t.x=s;t.width=Math.abs(l-s);t.y=a;t.height=Math.abs(c-a);this._boundsNeedUpdate=false;}return this._bounds.clone();}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"clearTexture",value:function clearTexture(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(!this._texture){return;}this._texture.off("update",this._onTextureUpdate);t&&this._texture.dispose();this._texture=null;if(this._potRenderer){t&&this._potRenderer.dispose();delete this._potRenderer;}}},{key:"setTexture",value:function setTexture(t){if(!t)return;if(this._texture){this._texture.off("update",this._onTextureUpdate);}if(this._potRenderer){this._potRenderer.getRenderTexture().getBaseTexture().setDirty(true);}this._texture=t;if(t.getBaseTexture().isLoaded()){this._onTextureUpdate();}t.on("update",this._onTextureUpdate);}},{key:"getShader",value:function getShader(){return this._shader;}},{key:"setShader",value:function setShader(t){this._shader=t;}},{key:"getWidth",value:function getWidth(){return this._width;}},{key:"setWidth",value:function setWidth(t){if(!this._texture)return;this._scale.x=t/this._texture.getFrame().width;this._width=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getHeight",value:function getHeight(){return this._height;}},{key:"setHeight",value:function setHeight(t){if(!this._texture)return;this._scale.y=t/this._texture.getFrame().height;this._height=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"getDimensions",value:function getDimensions(){return new _ot2(this._width,this._height);}},{key:"getAnchor",value:function getAnchor(){return this._anchor;}},{key:"setAnchor",value:function setAnchor(t,e){this._anchor.set(t,e);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true;}},{key:"isSmoothDownscaling",value:function isSmoothDownscaling(){return this._smoothDownscaling;}},{key:"setSmoothDownscaling",value:function setSmoothDownscaling(t){this._smoothDownscaling=t;}},{key:"dispose",value:function dispose(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this._texture){this._texture.off("update",this._onTextureUpdate);}(t||e)&&this._texture&&this._texture.dispose(e);if(this._potRenderer){this._potRenderer.dispose();}}}]);return bh;}(_In);});var _nt,L;var gh=d(function(){Ry();U1();Id();Ay();b3();w3();uw();Fd();J1();Y1();rh();y1();Tn();ah();_nt={CanvasFilterManager:lc,Container:_In,BaseTexture:Ae,Texture:_Ya,RenderTexture:mh,WebGLRenderTarget:Ms,CanvasRenderTarget:Ps,Sprite:bh,Filter:Uo,Filters:z1,PixelArrayImage:gd,autoDetectRenderer:function autoDetectRenderer(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(pi.isSupported()){return new My(i,t,e);}return new Rd(i,t,e);},canvasRenderer:function canvasRenderer(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Rd(i,t,e);}};L=_nt;});var X3,q3;var Y3=d(function(){X3=/*#__PURE__*/function(){function X3(){_classCallCheck(this,X3);}_createClass(X3,null,[{key:"current",value:function current(){return process.env.ENV;}},{key:"isTest",value:function isTest(){return process.env.ENV==="test";}},{key:"isDevelopment",value:function isDevelopment(){return process.env.ENV==="development";}},{key:"isProduction",value:function isProduction(){return process.env.ENV==="production"||!this.isTest()&&!this.isDevelopment();}}]);return X3;}();q3=X3;});var J3,hc;var Hy=d(function(){J3=/*#__PURE__*/function(){function J3(t){_classCallCheck(this,J3);this._head=0;this._buf=t;}_createClass(J3,[{key:"peekInt8",value:function peekInt8(){return this._buf[this._head];}},{key:"peekInt16",value:function peekInt16(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this._buf[this._head];var r=this._buf[this._head+1];if(!t){return(e<<8)+r;}return(r<<8)+e;}},{key:"peekInt24",value:function peekInt24(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this._buf[this._head];var r=this._buf[this._head+1];var o=this._buf[this._head+2];if(!t){return(e<<16)+(r<<8)+o;}return(o<<16)+(r<<8)+e;}},{key:"peekInt32",value:function peekInt32(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this._buf[this._head];var r=this._buf[this._head+1];var o=this._buf[this._head+2];var n=this._buf[this._head+3];if(!t){return(e<<32)+(r<<16)+(o<<8)+n;}return(n<<32)+(o<<16)+(r<<8)+e;}},{key:"writeInt8",value:function writeInt8(t){this._buf[this._head]=t&255;}},{key:"writeInt16",value:function writeInt16(t){this._buf[this._head]=t>>8;this._buf[this._head+1]=t&255;}},{key:"readInt8",value:function readInt8(){var t=this.peekInt8();this._head+=1;return t;}},{key:"readInt16",value:function readInt16(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.peekInt16(t);this._head+=2;return e;}},{key:"readInt24",value:function readInt24(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.peekInt24(t);this._head+=3;return e;}},{key:"readInt32",value:function readInt32(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.peekInt32(t);this._head+=4;return e;}},{key:"readString",value:function readString(t){var e="";for(var r=0;r<t;r++){var o=this.readInt8();e+=String.fromCharCode(o);}return e;}},{key:"getHead",value:function getHead(){return this._head;}},{key:"setHead",value:function setHead(t){this._head=t;}}]);return J3;}();hc=J3;});var xnt,vnt,Pd;var Wy=d(function(){xnt={SOI:65496,SOS:65498,APP0:65504,APP1:65505,JFIF:65504,EXIF:65505};vnt={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};Pd={MARKERS:xnt,EXIF_TAGS:vnt};});var dw,Cnt,Z3,Q3,tz;var ez=d(function(){Hy();kn();Wy();var _z2=z;dw=_z2.invariant;var _Pd=Pd;Cnt=_Pd.MARKERS;Z3=_Pd.EXIF_TAGS;Q3=/*#__PURE__*/function(){function Q3(t){_classCallCheck(this,Q3);this._buf=t;this._stream=new hc(this._buf);this._stream.setHead(0);this._parse();this._bigEndian=false;}_createClass(Q3,[{key:"isValid",value:function isValid(){this._stream.setHead(0);var t=this._stream.readInt16();if(t!==Cnt.EXIF){return false;}var e=this._stream.readInt16();if(!(e>0)){return false;}var r=this._stream.readString(4);if(r!=="Exif"){return false;}return true;}},{key:"_parse",value:function _parse(){if(!this.isValid()){return;}this._stream.setHead(10);var t=this._stream.getHead();this._bigEndian=false;var e=this._stream.readInt16();if(e===18761){this._bigEndian=false;}else if(e===19789){this._bigEndian=true;}else{dw(false,"Invalid TIFF data: No endian type found");}dw(this._stream.readInt16(!this._bigEndian)===42,"Invalid TIFF data: No 0x002A");var r=this._stream.readInt32(!this._bigEndian);dw(r>=8,"Invalid TIFF data: First IFD offset < 8");var o=t+r;var n=this._readTags(this._stream,t,o,this._bigEndian);this._tags=n.tags;this._tagData=n.tagData;}},{key:"getTags",value:function getTags(){return this._tags;}},{key:"getTagData",value:function getTagData(){return this._tagData;}},{key:"setOrientation",value:function setOrientation(t){if(this._tagData.Orientation){var e=this._tagData.Orientation.entryOffset;this._stream.setHead(e+8);this._stream.writeInt16(this._bigEndian?t:(t&255)<<8|t>>8&255);}}},{key:"_readTags",value:function _readTags(t,e,r,o){t.setHead(r);var n=t.readInt16(!o);var s={};var a=[];for(var l=0;l<n;l++){var c=r+l*12+2;t.setHead(c);var u=t.readInt16(!o);var m=void 0;var p=void 0;var h=void 0;if(Z3[u]){u=Z3[u];m=t.readInt16(!o);p=t.readInt32(!o);h=t.readInt32(!o)+e;var g=null;switch(m){case 1:case 7:if(p===1){g=t.readInt8(!o);}else{g=[];for(var x=0;x<p;x++){g.push(t.readInt8(!o));}}break;case 2:t.setHead(p>4?h:c+8);g=t.readString(p);break;case 3:t.setHead(p>2?h:c+8);if(p===1){g=t.readInt16(!o);}else{g=[];for(var _x8=0;_x8<p;_x8++){g.push(t.readInt16(!o));}}break;case 4:case 9:t.setHead(p>1?h:c+8);if(p===1){g=t.readInt32(!o);}else{g=[];for(var _x9=0;_x9<p;_x9++){g.push(t.readInt32(!o));}}break;case 5:case 10:t.setHead(h);if(p===1){var _x10=t.readInt32(!o);var v=t.readInt32(!o);g=_x10/v;}else{g=[];for(var _x11=0;_x11<p;_x11++){var _v3=t.readInt32(!o);var b=t.readInt32(!o);var T=_v3/b;g.push(T);}}break;}s[u]=g;a[u]={value:g,numValues:p,entryOffset:c,valueOffset:h,type:m};}}return{tags:s,tagData:a};}},{key:"getBuffer",value:function getBuffer(){return this._buf;}}]);return Q3;}();tz=Q3;});var Snt,iz,mw;var rz=d(function(){Hy();Wy();var _Pd2=Pd;Snt=_Pd2.MARKERS;iz=/*#__PURE__*/function(){function iz(t){_classCallCheck(this,iz);this._buf=t;this._stream=new hc(this._buf);this._stream.setHead(0);}_createClass(iz,[{key:"isValid",value:function isValid(){this._stream.setHead(0);var t=this._stream.readInt16();if(t!==Snt.APP0){return false;}var e=this._stream.readInt16();if(!(e>=16)){return false;}var r=this._stream.readString(4);var o=this._stream.readInt8();if(!(r==="JFIF")){return false;}if(!(o===0)){return false;}return true;}},{key:"setUnitDensity",value:function setUnitDensity(t){this._stream.setHead(11);this._stream.writeInt8(t);}},{key:"setDensityX",value:function setDensityX(t){this._stream.setHead(12);this._stream.writeInt16(t);}},{key:"setDensityY",value:function setDensityY(t){this._stream.setHead(14);this._stream.writeInt16(t);}},{key:"getUnitDensity",value:function getUnitDensity(){this._stream.setHead(11);return this._stream.readInt8();}},{key:"getDensityX",value:function getDensityX(){this._stream.setHead(12);return this._stream.readInt16();}},{key:"getDensityY",value:function getDensityY(){this._stream.setHead(14);return this._stream.readInt16();}},{key:"getBuffer",value:function getBuffer(){return this._buf;}}]);return iz;}();mw=iz;});var KFt,yh,Gy,wnt,_En,_h;var pw=d(function(){Hy();yd();Wy();ez();rz();kn();var _z3=z;KFt=_z3.invariant;var _Pd3=Pd;yh=_Pd3.MARKERS;Gy="data:image/jpeg;base64,";wnt=new RegExp("^".concat(Gy),"i");_En=/*#__PURE__*/function(){function En(t){_classCallCheck(this,En);this._buf=t;this._stream=new hc(this._buf);this._stream.setHead(0);this._segments=this._sliceIntoSegments(this._buf);this._exifData=new tz(this._getMarkerBuffer(yh.EXIF));this._jfifData=new mw(this._getMarkerBuffer(yh.JFIF));}_createClass(En,[{key:"restoreSegmentsInArray",value:function restoreSegmentsInArray(t){t=this.restoreExifTagsToImageData(t);return this.restoreJfifSegmentToImageData(t);}},{key:"restoreSegments",value:function restoreSegments(t){var e=_En.fromDataURL(t);e=this.restoreSegmentsInArray(e);return _En.toDataURL(e);}},{key:"restoreExifTagsToImageData",value:function restoreExifTagsToImageData(t){if(!this._exifData.isValid()){return t;}var e=this._sliceIntoSegments(t);var r=e[1][0];var o=t.slice(0,r);var n=t.slice(r);var s=o.concat(this._exifData.getBuffer());s=s.concat(n);return s;}},{key:"restoreJfifSegmentToImageData",value:function restoreJfifSegmentToImageData(t){if(!this._jfifData.isValid()){return t;}var e=this._sliceIntoSegments(t);var r=this._findSegment(yh.JFIF,e);var o=[];if(r){var n=r[0];var s=r[1];var a=t.slice(0,n);var l=t.slice(n,s);var c=t.slice(s);var u=new mw(l);u.setDensityX(this._jfifData.getDensityX());u.setDensityY(this._jfifData.getDensityY());u.setUnitDensity(this._jfifData.getUnitDensity());o=a.concat(l).concat(c);}else{return t;}return o;}},{key:"restoreExifTags",value:function restoreExifTags(t){var e=_En.fromDataURL(t);var r=this.restoreExifTagsToImageData(e);return _En.toDataURL(r);}},{key:"restoreJfifSegment",value:function restoreJfifSegment(t){if(!this._jfifData.isValid()){return t;}var e=_En.fromDataURL(t);var r=this.restoreJfifSegmentToImageData(e);return _En.toDataURL(r);}},{key:"setOrientation",value:function setOrientation(t){return this._exifData.setOrientation(t);}},{key:"_findSegment",value:function _findSegment(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._segments;for(var r=0;r<e.length;r++){var o=e[r][0];var n=e[r][1];this._stream.setHead(o);var s=this._stream.peekInt16();if(s===t){return[o,n];}}return false;}},{key:"_getLastSegment",value:function _getLastSegment(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._segments;return t[t.length-1];}},{key:"_getMarkerBuffer",value:function _getMarkerBuffer(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._segments;var r=this._findSegment(t,e);if(r){var o=r[0];var n=r[1];return this._buf.slice(o,n);}return false;}},{key:"_sliceIntoSegments",value:function _sliceIntoSegments(t){var e=new hc(t);var r=[];while(e.getHead()<t.length){var o=e.readInt16();if(o===yh.SOI){continue;}if(o===yh.SOS){break;}if(o>=65280&&o<=65535){var n=e.readInt16();var s=e.getHead()+n-2;r.push([e.getHead()-4,s]);e.setHead(s);}else{throw new Error("Invalid marker: 0x".concat(o.toString(16)));}}this._stream.setHead(0);return r;}},{key:"getTags",value:function getTags(){return this._exifData.getTags();}},{key:"getTagData",value:function getTagData(){return this._exifData.getTagData();}},{key:"dispose",value:function dispose(){this._buf=[];this._segments=[];}}],[{key:"toDataURL",value:function toDataURL(t){return Gy+io.encode(t);}},{key:"fromDataURL",value:function fromDataURL(t){var e=t.replace(Gy,"");var r=io.decode(e);return r;}},{key:"isJPEG",value:function isJPEG(t){return wnt.test(t);}},{key:"bufferIsJPEG",value:function bufferIsJPEG(t){return t[0]===255&&t[1]===216&&t[2]===255;}},{key:"fromBase64String",value:function fromBase64String(t){var e=t.replace(Gy,"");var r=io.decode(e);return new _En(r);}}]);return En;}();_h=_En;});var oz,Xi;var Vy=d(function(){if(true){oz=typeof window!=="undefined"&&window.Image;}if(false){oz=null.Image;}Xi=oz;});var _jy,$y;var hw=d(function(){pc();Sd();_jy=/*#__PURE__*/function(_Vi5){_inherits(jy,_Vi5);var _super37=_createSuper(jy);function jy(){var _this68;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,jy);_this68=_super37.call(this);_this68._onOperationUpdate=_this68._onOperationUpdate.bind(_assertThisInitialized(_this68));_this68._cacheEnabled=true;_this68._stack=t;_this68._stack.forEach(function(e){e.on("update",_this68._onOperationUpdate);});return _this68;}_createClass(jy,[{key:"clear",value:function clear(){var _this69=this;this.forEach(function(t){return _this69.remove(t);});this._stack=[];}},{key:"hasChanges",value:function hasChanges(){return this._stack.filter(function(t){return!!t;}).some(function(t){return t.hasChanges();});}},{key:"_onOperationUpdate",value:function _onOperationUpdate(t,e){this.emit(Od.OPERATION_UPDATED,t,e);}},{key:"enableCache",value:function enableCache(){this._cacheEnabled=true;}},{key:"disableCache",value:function disableCache(){this._cacheEnabled=false;}},{key:"forEach",value:function forEach(t){return this._stack.filter(function(e){return!!e;}).forEach(t);}},{key:"render",value:function render(t,e){var _this70=this;var r=e;var o=this._stack.filter(function(c){return!!c;}).filter(function(c){return c.getEnabled();});o.reverse();var n=o.filter(function(c){return!c.isDirtyForRenderer(t.getRenderer());})[0];var s=o.indexOf(n);o.reverse();var a=0;if(s!==-1){a=o.length-s-1;}for(var c=0;c<a;c++){Y.info(this.constructor.name,"Skipping ".concat(o[c].constructor.name));}var l=Promise.resolve(r);var _loop4=function _loop4(_c3){var u=o[_c3];var m=void 0;var p=void 0;l=l.then(function(h){return u.render(h).then(function(g){if(m&&g!==m&&!_this70._cacheEnabled){p.disposeRenderTextures();}m=g;p=u;return g;});});};for(var _c3=a;_c3<o.length;_c3++){_loop4(_c3);}return l.then(function(c){var u=!o.some(function(m){return m.isDirtyForRenderer(t.getRenderer());});return{outputTexture:c,renderDone:u};});}},{key:"validateSettings",value:function validateSettings(){return Promise.all(this._stack.filter(function(t){return!!t;}).map(function(t){return t.validateSettings();}));}},{key:"setAllToDirty",value:function setAllToDirty(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.forEach(function(e){return e.setDirty(true,t);});}},{key:"updateDirtinessForRenderer",value:function updateDirtinessForRenderer(t){var e=false;for(var r=0;r<this._stack.length;r++){var o=this._stack[r];if(!o)continue;if(o.isDirtyForRenderer(t)){e=true;}if(e){o.setDirtyForRenderer(true,t);}}}},{key:"push",value:function push(t){this._stack.push(t);t.on("update",this._onOperationUpdate);}},{key:"pop",value:function pop(){var t=this._stack.pop();if(t){t.off("update",this._onOperationUpdate);t.dispose();}}},{key:"unshift",value:function unshift(t){this._stack.unshift(t);t.on("update",this._onOperationUpdate);}},{key:"clone",value:function clone(){return new _jy(this._stack.slice(0));}},{key:"get",value:function get(t){return this._stack[t];}},{key:"getByIdentifier",value:function getByIdentifier(t){return z.Array.find(this._stack,function(e){return e&&e.constructor.identifier===t;});}},{key:"getIndexByIdentifier",value:function getIndexByIdentifier(t){return z.Array.findIndex(this._stack,function(e){return e&&e.constructor.identifier===t;});}},{key:"moveToTop",value:function moveToTop(t){var e=z.Array.findIndex(this._stack,function(o){return o&&o.constructor.identifier===t;});if(e<0||e===this._stack.length-1){return;}var r=this.getByIdentifier(t);this._stack.splice(e,1);this._stack[this._stack.length]=r;}},{key:"set",value:function set(t,e){if(this._stack[t]){this._stack[t].off("update",this._onOperationUpdate);this._stack[t].dispose();}this._stack[t]=e;e.on("update",this._onOperationUpdate);}},{key:"remove",value:function remove(t){var e=this._stack.indexOf(t);if(e===-1){return;}if(this._stack[e]){this._stack[e].off("update",this._onOperationUpdate);this._stack[e].dispose();}this._stack.splice(e,1);}},{key:"removeAt",value:function removeAt(t){if(this._stack[t]){this._stack[t].off("update",this._onOperationUpdate);this._stack[t].dispose();}delete this._stack[t];}},{key:"getStack",value:function getStack(){return this._stack;}},{key:"dispose",value:function dispose(){this.forEach(function(t){t.dispose();});}}]);return jy;}(Vi);$y=_jy;});var nz,sz,Ky;var fw=d(function(){pc();nz=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):nh();sz=/*#__PURE__*/function(){function sz(t,e){_classCallCheck(this,sz);this._tag=t;this._name=e;this._start=nz();}_createClass(sz,[{key:"stop",value:function stop(){var t=nz();var e=t-this._start;var r=Math.round(1e3/e);Y.info(this._tag,"".concat(this._name," took ").concat(e.toFixed(2),"ms (").concat(r," FPS)"));}}]);return sz;}();Ky=sz;});var gw,Lt;var bw=d(function(){zo();Ar();gh();kd();fw();gw=/*#__PURE__*/function(_t7){_inherits(gw,_t7);var _super38=_createSuper(gw);function gw(t){var _this71;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,gw);_this71=_super38.call(this,e,{enabled:{type:"boolean","default":true,serializable:false}});_this71._sdk=t;_this71._cacheEnabled=false;_this71._dirtiness={};_this71._sprite=new L.Sprite();_this71._container=new L.Container();_this71._container.addChild(_this71._sprite);return _this71;}_createClass(gw,[{key:"_onOptionsChange",value:function _onOptionsChange(){this.setDirty(true);}},{key:"render",value:function render(t){var _this72=this;if(!this.getEnabled()){Y.info(this.constructor.name,"Disabled - skipping");return Promise.resolve(t);}if(!this._renderTexture){var n=t.getDimensions().floor();this._renderTexture=new L.RenderTexture(this._sdk.getRenderer(),n.x,n.y);}var e=this._sdk.getRenderer();var r;var o;if(Y.canLog("info")){o=new Ky(this.constructor.name,"Rendering");}if(this.isDirtyForRenderer(e)){this._sprite.setTexture(t);var _n3=this.getNewDimensions(t.getDimensions()).floor();this._renderTexture.resizeTo(_n3);this._renderTexture.clear();r=this._render(t).then(function(){var s=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;_this72.setDirtyForRenderer(s,e);return _this72._renderTexture;});}else{Y.info(this.constructor.name,"Rendering from cache");r=Promise.resolve(this._renderTexture);}return r.then(function(n){if(o)o.stop();return n;});}},{key:"_render",value:function _render(t){var e;if(this._sdk.getRenderer().isOfType("webgl")){e=this._renderWebGL.bind(this);}else{e=this._renderCanvas.bind(this);}return e(t);}},{key:"_renderWebGL",value:function _renderWebGL(t){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.");}},{key:"_renderCanvas",value:function _renderCanvas(t){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.");}},{key:"getNewDimensions",value:function getNewDimensions(t){return t.clone();}},{key:"onBeforeExport",value:function onBeforeExport(){if(this.transform&&this._tempTransformChange){this.transform(this._tempTransformChange);}this._onBeforeExport();}},{key:"onAfterExport",value:function onAfterExport(){if(this.transform&&this._tempInverseTransformChange){this.transform(this._tempInverseTransformChange);}this._onAfterExport();}},{key:"_onBeforeExport",value:function _onBeforeExport(){}},{key:"_onAfterExport",value:function _onAfterExport(){}},{key:"setTemporaryTransformChange",value:function setTemporaryTransformChange(t,e){this._tempTransformChange=t;this._tempInverseTransformChange=e;}},{key:"reset",value:function reset(){this._dirty=true;this._glslPrograms={};}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(t){var e=this._dirtiness[t.id];return typeof e==="undefined"?true:e;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._dirtiness[e.id]=t;}},{key:"setDirty",value:function setDirty(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var r in this._dirtiness){this.setDirtyForRenderer(t,{id:r},e);}}},{key:"getSDK",value:function getSDK(){return this._sdk;}},{key:"getInputDimensions",value:function getInputDimensions(){var _this73=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var e=this._sdk.getInputDimensions();if(t){e.multiply(this._sdk.getZoom()).floor();}var r;this._sdk.getOperationsStack().forEach(function(o){if(r)return;if(o===_this73){r=true;return;}e=o.getNewDimensions(e);});return e.floor();}},{key:"clone",value:function clone(){var t=this.constructor;return new t(this._sdk,this.serializeOptions());}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){if(this._renderTexture){this._renderTexture.dispose();}this._renderTexture=null;}},{key:"dispose",value:function dispose(){this.disposeRenderTextures();this._sprite.dispose();}}]);return gw;}(_t);gw.identifier=null;Lt=gw;});var Tnt,Xy,az;var lz=d(function(){pc();As();bw();Tnt=ir.OptionType;Xy=/*#__PURE__*/function(_Lt){_inherits(Xy,_Lt);var _super39=_createSuper(Xy);function Xy(){_classCallCheck(this,Xy);return _super39.apply(this,arguments);}_createClass(Xy,[{key:"getRotation",value:function getRotation(){var t=0;switch(this.getTags().Orientation){case 7:case 8:t=-90;break;case 3:case 4:t=-180;break;case 5:case 6:t=90;break;}return t;}},{key:"_getFlipVertically",value:function _getFlipVertically(){var _this$getTags=this.getTags(),t=_this$getTags.Orientation;return[5,7].indexOf(t)!==-1;}},{key:"_getFlipHorizontally",value:function _getFlipHorizontally(){var _this$getTags2=this.getTags(),t=_this$getTags2.Orientation;return[2,4].indexOf(t)!==-1;}},{key:"_getFinalOptions",value:function _getFinalOptions(){return{rotation:this.getRotation(),flipVertically:this._getFlipVertically(),flipHorizontally:this._getFlipHorizontally()};}},{key:"_render",value:function _render(t){var e=this._getFinalOptions();var r=e.rotation%360;var o=r*(Math.PI/180);this._sprite.setScale(e.flipHorizontally?-1:1,e.flipVertically?-1:1);this._sprite.setRotation(o);this._sprite.setAnchor(.5,.5);this._sprite.updateTransform();var n=this._sprite.getBounds();this._renderTexture.resizeTo(new _ot2(n.width,n.height));this._sprite.setPosition(this._renderTexture.getDimensions().divide(2));this._renderTexture.render(this._container);return Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(t){var e=this._getFinalOptions();t=t.clone();if(e.rotation%180){t.flip();}return t;}},{key:"applyTo",value:function applyTo(t){var e=this._getFinalOptions();var r=z.createCanvas();if(Math.abs(e.rotation%180)===90){r.width=t.height;r.height=t.width;}else{r.width=t.width;r.height=t.height;}var o=r.getContext("2d");var n=e.rotation*Math.PI/180;var s=.5*(r.width-t.width);var a=.5*(r.height-t.height);o.translate(s,a);o.translate(.5*t.width,.5*t.height);o.rotate(n);o.translate(-.5*t.width,-.5*t.height);if(e.flipVertically){o.translate(0,t.height);o.scale(1,-1);}if(e.flipHorizontally){o.translate(t.width,0);o.scale(-1,1);}o.drawImage(t,0,0);return r;}}]);return Xy;}(Lt);Xy.identifier="exif-orientation";Xy.prototype.availableOptions={tags:{type:Tnt.OBJECT,"default":{}}};az=Xy;});var Md={};de(Md,{ExifOrientationOperation:function ExifOrientationOperation(){return az;}});var yw=d(function(){lz();});var _w,cz;var uz=d(function(){To();Ar();gh();oc();kd();Vy();kn();_w=/*#__PURE__*/function(_t8){_inherits(_w,_t8);var _super40=_createSuper(_w);function _w(t){var _this74;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,_w);_this74=_super40.call(this,e);_this74._sdk=t;return _this74;}_createClass(_w,[{key:"export",value:function _export(){var _this75=this;var _this$_options3=this._options,t=_this$_options3.imageFormat,e=_this$_options3.transparent;var r=function r(o){if(!o.renderDone){return _this75._sdk.render().then(function(n){return r(n);});}return o;};return this.validateSettings().then(function(){return _this75._prepareSDK().then(function(o){return r(o);});}).then(function(o){var n=o.outputTexture,s=o.renderDone;var a=_this75._sdk.getRenderer();var l=a.getClearColor();if(t==="image/png"&&e){a.setClearColor(new G(0,0,0,0));}var c=a.getCanvas();if(a.isOfType("webgl")){c=_this75._createCanvasFromTexture(n);}a.setClearColor(l);return _this75._encodeImageFormat(c);}).then(function(o){return _this75._restoreExifMetadata(o,t);}).then(function(o){return _this75._restoreSDK().then(function(){return o;});});}},{key:"_restoreExifMetadata",value:function _restoreExifMetadata(t,e,r){if(e===ic.JPEG){var o=this._sdk.getExif();if(o){if(true){if(typeof t==="string"){t=o.restoreSegments(t);}}if(false){var n=this._options.renderType;if(n===Or.BUFFER){t=Buffer.from(o.restoreSegmentsInArray(_toConsumableArray(t)));}else if(n===Or.DATAURL&&typeof t==="string"){t=o.restoreSegments(t);}}}}return Promise.resolve(t);}},{key:"_encodeAsDataURL",value:function _encodeAsDataURL(t,e,r){if(z.isBrowser){var o=t.toDataURL(e,r);$t(t);return Promise.resolve(o);}try{var _o4=t.toDataURL(e,r);$t(t);return Promise.resolve(_o4);}catch(o){return Promise.error(o);}}},{key:"_encodeAsHTMLImage",value:function _encodeAsHTMLImage(t,e,r){return this._encodeAsDataURL(t,e,r).then(function(o){var n=new Xi();n.src=o;$t(t);return Promise.resolve(n);});}},{key:"_encodeAsBuffer",value:function _encodeAsBuffer(t,e,r){if(false){if(e===ic.JPEG){var o=t.toBuffer(e,{quality:r,progressive:true,chromaSubsampling:false});$t(t);return Promise.resolve(o);}if(e===ic.PNG){var _o5=t.toBuffer(e,{quality:r});$t(t);return Promise.resolve(_o5);}if(e===ic.RAW){var _o6=t.toBuffer(e);$t(_o6);return Promise.resolve(_o6);}return Promise.reject(new Error("Unsupported imageFormat: ".concat(e)));}return Promise.reject(new Error("Unsupported platform for RenderType"));}},{key:"_encodeAsMSBlob",value:function _encodeAsMSBlob(t,e,r){var o=t.msToBlob();$t(t);return Promise.resolve(o);}},{key:"_encodeAsBLOB",value:function _encodeAsBLOB(t,e,r){return new Promise(function(o,n){t.toBlob(function(s){o(s);},e,r);});}},{key:"_encodeImageFormat",value:function _encodeImageFormat(t){var _this$_options4=this._options,e=_this$_options4.imageFormat,r=_this$_options4.quality;var o=this._options.renderType;if(o===Or.BLOB&&t.msToBlob&&!t.toBlob){o=Or.MSBLOB;}switch(o){case Or.IMAGE:{return this._encodeAsHTMLImage(t,e,r);}case Or.DATAURL:{return this._encodeAsDataURL(t,e,r);}case Or.BUFFER:{return this._encodeAsBuffer(t,e,r);}case Or.MSBLOB:{return this._encodeAsMSBlob(t,e,r);}case Or.BLOB:{return this._encodeAsBLOB(t,e,r);}}return Promise.reject(new Error("Unsupported RenderType: ".concat(o,"!")));}},{key:"_prepareSDK",value:function _prepareSDK(){var t=this._sdk.getRenderer();this._sdkSettings={dimensions:t.getDimensions().clone(),textureQuality:this._sdk.getTextureQuality(),rendererPixelRatio:t.getPixelRatio(),renderMode:this._sdk.getRenderMode()};this._sdk.setRenderMode("export");this._sdk.setTextureQuality(1);var e=t.isOfType("canvas");t.setPixelRatio(1);t.resizeTo(this._sdk.getFinalDimensions(),e);this._sdk.setAllOperationsToDirty(true);var r=this._sdk.getOperationsStack();r.forEach(function(o){o.disposeRenderTextures();});r.disableCache();return this._sdk.render();}},{key:"_restoreSDK",value:function _restoreSDK(){var t=this._sdk.getOperationsStack();t.enableCache();this._sdk.setRenderMode(this._sdkSettings.renderMode);var e=this._sdk.getRenderer();var r=e.isOfType("canvas");e.setPixelRatio(this._sdkSettings.rendererPixelRatio);e.resizeTo(this._sdkSettings.dimensions,r);this._sdk.setTextureQuality(this._sdkSettings.textureQuality);this._sdk.setAllOperationsToDirty(true);return this._sdk.render();}},{key:"_createCanvasFromTexture",value:function _createCanvasFromTexture(t){var e=this._sdk.getRenderer();var r=this._sdk.getFinalDimensions();var o=this._sdk.getRenderer().getContext();var n=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,n);var s=t.getBaseTexture().getGLTextureForRenderer(e);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s,0);var a=new Uint8Array(r.x*r.y*4);o.readPixels(0,0,r.x,r.y,o.RGBA,o.UNSIGNED_BYTE,a);var l=this._checkPixelsForTransparency(a);var c;if(l){var h=new L.Sprite(t);h.setFilters([new L.Filters.UnpremultiplyFilter()]);var g=new L.Container();g.addChild(h);c=new L.RenderTexture(e,r.x,r.y);c.render(g);var x=c.getBaseTexture().getGLTextureForRenderer(e);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,x,0);o.readPixels(0,0,r.x,r.y,o.RGBA,o.UNSIGNED_BYTE,a);e.setRenderTarget();c.dispose();}var u=z.createCanvas();u.width=r.x;u.height=r.y;var m=u.getContext("2d");var p=m.createImageData(r.x,r.y);p.data.set(a);m.putImageData(p,0,0);o.deleteFramebuffer(n);return u;}},{key:"_checkPixelsForTransparency",value:function _checkPixelsForTransparency(t){var e=this._sdk.getFinalDimensions();var r=e.x*e.y*4;var o;for(var n=3;n<r;n+=4){o=t[n];if(o!==255){return true;}}return false;}}]);return _w;}(_t);_w.prototype.availableOptions={renderType:{type:"string",available:z.values(Or),"default":Or.IMAGE},imageFormat:{type:"string",available:z.values(ic),"default":ic.PNG},quality:{type:"number","default":.8},transparent:{type:"boolean","default":true}};cz=_w;});var knt,Int,no,mz,Dnt,xw,vw,Us,Ent,TRt,ye,Fnt,Rnt,dz,pz,Te;var hz=d(function(){pc();pw();Vy();uz();hw();fw();yw();knt=fh.Rectangle;Int=fh.Constants;no=fh.Engine;mz=fh.Utils;Dnt=fh.EventEmitter;xw=fh.Events;vw=fh.Vector2;Us=fh.Log;Ent=fh.Base64;TRt=fh.Color;ye=function ye(i){return mz.byteArrayToString(Ent.decode(i));};var _Int=Int;Fnt=_Int.RenderType;Rnt=_Int.ImageFormat;dz=_Int.RendererType;pz=/*#__PURE__*/function(_Dnt){_inherits(pz,_Dnt);var _super41=_createSuper(pz);function pz(t){var _this76;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,pz);_this76=_super41.call(this);q(_assertThisInitialized(_this76),"_onContextLost",function(){_this76.emit("context-lost");});q(_assertThisInitialized(_this76),"_initWatermark",function(){if(_this76._options.watermark&&_this76._options.watermark.watermarkURI){_this76._watermarkOperation=_this76.createOperation("watermark",{watermarkURI:_this76._options.watermark.watermarkURI,alignment:_this76._options.watermark.alignment,inset:_this76._options.watermark.inset,size:_this76._options.watermark.size,crossOrigin:_this76._options.crossOrigin});}});_this76._onOperationUpdate=_this76._onOperationUpdate.bind(_assertThisInitialized(_this76));_this76._onContextRestored=_this76._onContextRestored.bind(_assertThisInitialized(_this76));_this76.version="3.9.0";_this76[ye("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=true;_this76._preferredRenderer=t;_this76._options=_objectSpread(_objectSpread({},e),{},{extensions:{},renderMode:"dynamic",versionCheck:true,displayWelcomeMessage:true,image:null,canvas:null,transparent:false,textureQuality:1,zoom:1,spriteScale:1,rotation:0,smoothDownscaling:false,smoothUpscaling:false,crossOrigin:"anonymous",logLevel:"warn",pixelRatio:Math.max(typeof window!=="undefined"&&window.devicePixelRatio||1,1)});if(_this76._options.smoothUpscaling){no.BaseTexture.DefaultMagFilter=no.BaseTexture.LinearFilter;}_this76._options.extensions=Object.assign(_this76._options.extensions,{operations:[],controls:[],languages:[]});Us.setLevel(_this76._options.logLevel);_this76[ye("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=false;if(!_this76[ye("X29wdGlvbnM=")][ye("bGljZW5zZQ==")]){_this76[ye("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=true;_this76._l=new fh[ye("RnJlZUxpY2Vuc2VDaGVja2Vy")]();}else{var o=fh[ye("TGljZW5zZUNoZWNrZXI=")];_this76._l=new o(_this76[ye("X29wdGlvbnM=")][ye("bGljZW5zZQ==")]);_this76._cv(true).then(function(){_this76._ct();})["catch"](function(n){Us.error(ye("TGljZW5zaW5n"),n.message);});}_this76._defaultRenderMode=_this76._options.renderMode;_this76._renderMode=_this76._options.renderMode;_this76._textureQuality=_this76._options.textureQuality;_this76._offset=new vw();_this76._zoom=_this76._options.zoom;_this76._spriteScale=_this76._options.spriteScale;_this76._rotation=_this76._options.rotation;_this76._operations={};_this76._operationsStack=null;_this76.setOperationsStack(new $y());_this76._container=new no.Container();_this76._sprite=new no.Sprite();_this76._container.addChild(_this76._sprite);_this76._inputTexture=_this76._options.inputTexture;_this76._currentInputTexture=null;_this76._currentTexture=null;_this76._resizedTexture=null;_this76._resizedContainer=new no.Container();_this76._resizedSprite=new no.Sprite();_this76._resizedContainer.addChild(_this76._resizedSprite);_this76._texturesToDispose=[];_this76.setSmoothDownscaling(_this76._options.smoothDownscaling);_this76._registerOperations();_this76._initRenderer();var r=_this76._renderer.constructor.type;if(_this76._options.displayWelcomeMessage){if(false){Us.log("Version:","".concat(_this76.version," (").concat(r,") - https://img.ly/photo-sdk"));}}if(_this76[ye("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]){Us.log(ye("VGhlIFBob3RvRWRpdG9yIFNESyBpcyBhIGNvbW1lcmNpYWwgcHJvZHVjdC4gQmVmb3JlIGJlaW5nIGFibGUgdG8gdXNlIGl0IHdpdGhvdXQgbGltaXRhdGlvbnMsIHlvdSBuZWVkIHRvIHVubG9jayB0aGUgU0RLIHdpdGggYSBsaWNlbnNlIGZpbGUuIFlvdSBjYW4gb2J0YWluIGEgdGltZS1saW1pdGVkIGV2YWx1YXRpb24gbGljZW5zZSBieSBzdGFydGluZyBhIHRyaWFsIGF0IGh0dHBzOi8vd3d3LmltZy5seS9zaWdudXAgb3IgeW91IGNhbiBwdXJjaGFzZSBhIGxpY2Vuc2UgYnkgcmVxdWVzdGluZyBhIHF1b3RlIGF0IGh0dHBzOi8vd3d3LmltZy5seS9wcmljaW5nLgoKQmVjYXVzZSB5b3UgZGlkIG5vdCBzcGVjaWZ5IGEgbGljZW5zZSBmaWxlIHlldCwgdGhlIFNESyB3aWxsIG5vdyBkaXNwbGF5IGEgd2F0ZXJtYXJrIGltYWdlIG9uIHRvcCBvZiBhbnkgcGhvdG9zIHlvdSBkaXNwbGF5IG9yIGV4cG9ydCB3aXRoIGl0LiBGb3IgaW5zdHJ1Y3Rpb25zIGZvciBob3cgdG8gdW5sb2NrIHRoZSBTREssIHBsZWFzZSB2aXNpdCBodHRwczovL2ltZy5seS9kb2NzL3Blc2RrL3dlYi9pbnRyb2R1Y3Rpb24vZ2V0dGluZ19zdGFydGVkLg=="));}if(_this76._options.image){_this76.setImage(_this76._options.image,_this76._options.exif);}return _this76;}_createClass(pz,[{key:"_ct",value:function _ct(){if(this._l.exp()){var t=this._l.isExp();if(t){Us.error(ye("TGljZW5zaW5n"),ye("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg=="));}else{Us.warn(ye("TGljZW5zaW5n"),ye("WW91ciB0cmlhbCBsaWNlbnNlIHdpbGwgZXhwaXJlIGluICVkIGRheXMu").replace("%d",this._l.dl()));}}}},{key:"_cv",value:function _cv(){var _this77=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._l.c()["catch"](function(e){_this77[ye("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=false;var r=ye("SW52YWxpZCBsaWNlbnNlLg==");if(t){if(e.code==="ELICEXP"){r=ye("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg==");}else if(e.code==="ELICINVHOST"){r=ye("VGhlIGJ1bmRsZSBpZGVudGlmaWVycyB0aGF0IHlvdSBzcGVjaWZpZWQgaW4geW91ciBsaWNlbnNlIGZpbGUgZG8gbm90IG1hdGNoIHRoZSBhcHAncyBidW5kbGUgaWRlbnRpZmllci4gUGxlYXNlIHVwZGF0ZSBhbmQgcmVkb3dubG9hZCB5b3VyIGxpY2Vuc2UgZnJvbSB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZCBhdCBodHRwczovL3d3dy5pbWcubHkvbG9naW4u");}else if(e.code==="ELICINVPLAT"){r=ye("VGhlIGxpY2Vuc2UgdGhhdCB5b3Ugc3BlY2lmaWVkIGlzIGZvciBhbm90aGVyIHBsYXRmb3JtLiBQbGVhc2UgZG93bmxvYWQgeW91ciBsaWNlbnNlIGZvciB0aGUgd2ViIHBsYXRmb3JtIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg==");}else if(e.code==="ELICINVFMT"){r=ye("SW52YWxpZCBsaWNlbnNlIGZvcm1hdC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyB5b3VyIGxpY2Vuc2UgYXMgYSBzdHJpbmcsIG5vdCBhcyBgJGZvcm1hdGAu").replace("$format",_typeof(_this77._options.license));}else if(e.code==="ELICINV"){r=ye("VGhlIHNpZ25hdHVyZSBvZiB5b3VyIGxpY2Vuc2UgaXMgbm90IHZhbGlkLiBQbGVhc2UgdHJ5IHRvIHJlZG93bmxvYWQgeW91ciBsaWNlbnNlIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg==");}else{r=ye("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5IHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==");}}e.message=r;throw new Error(e);});}},{key:"_t",value:function _t(){this._l.t();}},{key:"_fl",value:function _fl(){return this[ye("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")];}},{key:"_onOperationUpdate",value:function _onOperationUpdate(){for(var _len15=arguments.length,t=new Array(_len15),_key15=0;_key15<_len15;_key15++){t[_key15]=arguments[_key15];}this.emit.apply(this,[xw.OPERATION_UPDATED].concat(t));}},{key:"_onContextRestored",value:function _onContextRestored(){Us.warn(this.constructor.name,"Trying to re-render after WebGL context has been restored.");this.setAllOperationsToDirty();this._operationsStack.forEach(function(t){t.disposeRenderTextures();});this.render();}},{key:"export",value:function _export(){var _this78=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Fnt.DATAURL;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Rnt.PNG;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;return this._cv(true).then(function(){if(_this78.hasChanges()&&!n){_this78._t();}_this78._operationsStack.forEach(function(a){a.onBeforeExport();});var s=new cz(_this78,{renderType:t,imageFormat:e,quality:r,transparent:o});return s["export"]().then(function(a){_this78._operationsStack.forEach(function(l){l.onAfterExport();});return Promise.resolve(a);});});}},{key:"render",value:function render(){var _this79=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(!this._inputTexture){throw new Error("You need to set an image before calling PhotoEditorSDK#render.");}var e=this._renderer.getContext();if(e.startFrame){e.startFrame();}var r;if(Us.canLog("info")){r=new Ky("\u26A1\u26A1\u26A1","Frame rendering");}Us.info("\u26A1\u26A1\u26A1","Rendering starts");var o=this._operationsStack;o.updateDirtinessForRenderer(this._renderer);return this._prepareTexture().then(function(n){if(_this79._renderMode==="export"){n=_this79._inputTexture;}_this79._currentTexture=n;_this79._sprite.setTexture(n);_this79._container.updateTransform();}).then(function(){return o.validateSettings();}).then(function(){if(_this79._fl()||!_this79[ye("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]){if(!o.getByIdentifier("license-watermark")){_this79.createOperation("license-watermark");}else{o.moveToTop("license-watermark");}}if(!o.getByIdentifier("watermark")){_this79._initWatermark();}else{o.moveToTop("watermark");}return o.render(_this79,_this79._currentTexture);}).then(function(n){var s=n.outputTexture;_this79._currentTexture=s;_this79._sprite.setTexture(_this79._currentTexture);switch(_this79._renderMode){case"dynamic":{var a=_this79._renderer.getDimensions().clone().divide(2).add(_this79._offset);_this79._container.setScale(_this79._zoom/_this79.getTextureScale(),_this79._zoom/_this79.getTextureScale());_this79._container.setPosition(a);_this79._sprite.setAnchor(.5,.5);_this79._sprite.setScale(_this79._spriteScale,_this79._spriteScale);_this79._sprite.setRotation(_this79._rotation);break;}case"export":_this79._container.setScale(1,1);_this79._container.setPosition(0,0);_this79._sprite.setAnchor(0,0);_this79._sprite.setPosition(0,0);_this79._sprite.setScale(_this79._spriteScale,_this79._spriteScale);_this79._sprite.setRotation(0);break;case"adapter":_this79._container.setScale(1,1);_this79._container.setPosition(0,0);_this79._sprite.setAnchor(0,0);_this79._sprite.setPosition(0,0);_this79._sprite.setScale(1,1);_this79._sprite.setRotation(0);break;}if(t){_this79._renderer.render(_this79._container);}return n;}).then(function(n){if(r){r.stop();}if(e.endFrame){e.endFrame();}_this79._disposeTextures();return n;});}},{key:"getTextureScale",value:function getTextureScale(){return Math.min(1,this._textureQuality*this._options.pixelRatio);}},{key:"_prepareTexture",value:function _prepareTexture(){var _this80=this;return new Promise(function(t,e){var r=_this80.getTextureScale();if(_this80._textureQuality===1){return t(_this80._inputTexture);}var o=_this80.getInputDimensions().multiply(r).floor();var n;if(!_this80._resizedTexture){_this80._resizedTexture=new no.RenderTexture(_this80._renderer,o.x,o.y);n=true;}else if(!_this80._resizedTexture.getDimensions().equals(o)){_this80._resizedTexture.resizeTo(o);n=true;}if(n){_this80._resizedSprite.setScale(r,r);_this80._resizedSprite.setTexture(_this80._inputTexture);_this80._resizedTexture.render(_this80._resizedContainer);}t(_this80._resizedTexture);});}},{key:"_registerOperations",value:function _registerOperations(){this._operations={};for(var t in Md){var e=Md[t];this._operations[e.identifier]=e;}this._operations=_objectSpread(_objectSpread({},this._operations),this._options.extensions.operations);}},{key:"registerOperations",value:function registerOperations(t){var _this81=this;t.forEach(function(e){_this81._operations[e.identifier]=e;});}},{key:"setAllOperationsToDirty",value:function setAllOperationsToDirty(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._operationsStack.setAllToDirty(t);}},{key:"createOperation",value:function createOperation(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=this._operations[t];if(!o){throw new Error("No operation with identifier `".concat(t,"` found."));}var n=new o(this,e);if(r){this.addOperation(n);}return n;}},{key:"addOperation",value:function addOperation(t){this._operationsStack.push(t);}},{key:"removeOperation",value:function removeOperation(t){this._operationsStack.remove(t);}},{key:"getInputDimensions",value:function getInputDimensions(){var t=this._inputTexture.getFrame();return new vw(t.width,t.height);}},{key:"getFinalDimensions",value:function getFinalDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.getInputDimensions();var r=this._operationsStack;r.forEach(function(o){if(!o.getEnabled())return;e=o.getNewDimensions(e);});if(t){e.multiply(this._spriteScale);}return e.floor();}},{key:"getOutputDimensions",value:function getOutputDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this.getFinalDimensions(t).clone().multiply(this._zoom).floor();}},{key:"getOutputTextureDimensions",value:function getOutputTextureDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.getTextureScale();var r=this.getInputDimensions().multiply(e).floor();this._operationsStack.forEach(function(o){r=o.getNewDimensions(r);});return r;}},{key:"getCrossOrigin",value:function getCrossOrigin(){return mz.getCrossOrigin(this._options.crossOrigin||"Anonymous");}},{key:"_initRenderer",value:function _initRenderer(){var t={canvas:this._options.canvas,pixelRatio:this._options.pixelRatio,debug:this._options.debug,transparent:this._options.transparent,clearColor:this._options.clearColor};var e;var r;if(this._renderMode!=="export"&&this._options.canvas){var o=this._options.canvas;e=o.width;r=o.height;}else if(this._inputTexture){var _o7=this.getFinalDimensions();e=_o7.x;r=_o7.y;}else{e=1;r=1;}switch(this._preferredRenderer){case dz.WEBGL:this._renderer=no.autoDetectRenderer(e,r,t);this._renderer.on("context-restored",this._onContextRestored);this._renderer.on("context-lost",this._onContextLost);break;case dz.CANVAS:this._renderer=no.canvasRenderer(e,r,t);this._renderer.on("context-restored",this._onContextRestored);break;default:Us.warn("PhotoEditorSDK","PhotoEditorSDK Error: Renderer `".concat(this._preferredRenderer,"` not supported. Falling back to automatically detected renderer."));this._renderer=no.autoDetectRenderer(e,r,t);}}},{key:"resizeTo",value:function resizeTo(t){this._renderer.resizeTo(t,true);}},{key:"reset",value:function reset(){this._operationsStack.clear();}},{key:"parseExif",value:function parseExif(t){if(!t){return;}var e=t.src;var r=false;var o=null;if(true){r=_h.isJPEG(e);o=e;}else if(t instanceof Xi&&t.rawSource){var n=t.rawSource;if(!(t.rawSource instanceof Buffer)){var s=t.rawSource.replace("data:image/jpeg;base64,","");n=Buffer.from(s,"base64");e=t.rawSource;}else{e=t.rawSource.toString("base64");}r=_h.bufferIsJPEG(n);if(r){o=e;}}if(r){var _n4=null;try{_n4=_h.fromBase64String(o);}catch(s){}if(!_n4){return;}return _n4;}}},{key:"_handleExifOrientation",value:function _handleExifOrientation(){var t=this._exif.getTags();if(t&&t.Orientation){var e=t.Orientation!==1&&t.Orientation!==2;var r=[2,4,5,7].indexOf(t.Orientation)!==-1;if(e||r){if(typeof navigator==="undefined"){if(!this._exifOperation){this._exifOperation=this.createOperation("exif-orientation");}this._exifOperation.setTags(t);}else{var o=window&&window.navigator&&window.navigator.userAgent||"";if(!!o.match(/msie|trident/i)||o.indexOf("Edge")!==-1||!CSS.supports("image-orientation","from-image")){if(!this._exifOperation){this._exifOperation=this.createOperation("exif-orientation");}this._exifOperation.setTags(t);}}this._exif.setOrientation(1);}}}},{key:"correctExifOrientation",value:function correctExifOrientation(t){var e=this.parseExif(t);if(!e){return t;}var r=e.getTags();if(r&&r.Orientation){var o=r.Orientation!==1&&r.Orientation!==2;var n=[2,4,5,7].indexOf(r.Orientation)!==-1;if(o||n){if(typeof navigator==="undefined"){var s=this.createOperation("exif-orientation",{},false);s.setTags(r);t=s.applyTo(t);}else{var _s4=window&&window.navigator&&window.navigator.userAgent||"";if(!!_s4.match(/msie|trident/i)||_s4.indexOf("Edge")!==-1||!CSS.supports("image-orientation","from-image")){var a=this.createOperation("exif-orientation",{},false);a.setTags(r);t=a.applyTo(t);}}e.setOrientation(1);r.Orientation=1;return t;}}return t;}},{key:"hasImage",value:function hasImage(){return this._image!==null&&typeof this._image!=="undefined";}},{key:"getImage",value:function getImage(){return this._image;}},{key:"disposeTexture",value:function disposeTexture(t){this._texturesToDispose.push(t);}},{key:"_disposeTextures",value:function _disposeTextures(){for(var t=0;t<this._texturesToDispose.length;t++){this._texturesToDispose[t].dispose();}this._texturesToDispose=[];}},{key:"setImage",value:function setImage(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._disposeTextures();if(this._exifOperation){this.removeOperation(this._exifOperation);this._exifOperation=null;}this._options.image=t;this._image=t;this._exif=e||this.parseExif(t);if(this._exif){this._handleExifOrientation();}var o=new no.BaseTexture(this._image);var n=new knt(0,0,this._image.naturalWidth||this._image.width,this._image.naturalHeight||this._image.height);if(r){n.width=r.x;n.height=r.y;}if(this._resizedTexture){this._resizedTexture.dispose();}this._resizedTexture=null;if(this._inputTexture){this.disposeTexture(this._inputTexture.getBaseTexture());}this._inputTexture=new no.Texture(o,n);this._currentTexture=this._inputTexture;this._sprite.clearTexture(false);this._sprite.setTexture(this._inputTexture);this.emit("new-image");this.setAllOperationsToDirty(true);}},{key:"setInputTexture",value:function setInputTexture(t){this._inputTexture=t;}},{key:"getCanvas",value:function getCanvas(){return this._renderer.getCanvas();}},{key:"setCanvas",value:function setCanvas(t){this._renderer.setCanvas(t);}},{key:"getSprite",value:function getSprite(){return this._sprite;}},{key:"getContainer",value:function getContainer(){return this._container;}},{key:"getOperationsStack",value:function getOperationsStack(){return this._operationsStack;}},{key:"setOperationsStack",value:function setOperationsStack(t){if(this._operationsStack){this._operationsStack.off(xw.OPERATION_UPDATED,this._onOperationUpdate);}this._operationsStack=t;this._operationsStack.on(xw.OPERATION_UPDATED,this._onOperationUpdate);}},{key:"getOperations",value:function getOperations(){return this._operations;}},{key:"getRenderer",value:function getRenderer(){return this._renderer;}},{key:"getOffset",value:function getOffset(){return this._offset;}},{key:"setOffset",value:function setOffset(t,e){if(t instanceof vw){this._offset.copy(t);}else{this._offset.set(t,e);}}},{key:"getRenderMode",value:function getRenderMode(){return this._renderMode;}},{key:"setRenderMode",value:function setRenderMode(t){this._renderMode=t;}},{key:"getZoom",value:function getZoom(){return this._zoom;}},{key:"setZoom",value:function setZoom(t){this._zoom=t;this._container.setScale(this._zoom,this._zoom);this._container.updateTransform();}},{key:"getTextureQuality",value:function getTextureQuality(){if(this._renderMode==="export"){return 1;}return this._textureQuality;}},{key:"setTextureQuality",value:function setTextureQuality(t){if(t!==this._textureQuality){this.setAllOperationsToDirty(true);}this._textureQuality=Math.min(1,t);if(this._textureQuality===1&&this._resizedTexture){this._resizedTexture.dispose();this._resizedTexture=null;}}},{key:"getSpriteScale",value:function getSpriteScale(){return this._spriteScale;}},{key:"setSpriteScale",value:function setSpriteScale(t){this._spriteScale=t;this._sprite.setScale(t,t);this._sprite.updateTransform();}},{key:"getPixelRatio",value:function getPixelRatio(){return this._options.pixelRatio;}},{key:"getExif",value:function getExif(){return this._exif;}},{key:"getOptions",value:function getOptions(){return this._options;}},{key:"getInputTexture",value:function getInputTexture(){return this._inputTexture;}},{key:"setSmoothDownscaling",value:function setSmoothDownscaling(t){this._options.smoothDownscaling=t;this._sprite.setSmoothDownscaling(t);this._resizedSprite.setSmoothDownscaling(t);}},{key:"setRotation",value:function setRotation(t){this._rotation=t;}},{key:"getRotation",value:function getRotation(){return this._rotation;}},{key:"hasChanges",value:function hasChanges(){return this.getOperationsStack().hasChanges();}},{key:"dispose",value:function dispose(){this._operationsStack.dispose();this._renderer.dispose();if(this._exif){this._exif.dispose();}if(this._resizedTexture){this._resizedTexture.dispose();}}}]);return pz;}(Dnt);Te=pz;});var Ont,ft;var xh=d(function(){zo();L4();Ar();gh();yd();oc();kd();Y3();Sd();pw();Vy();ow();lw();hw();kn();yw();bw();hz();Te.version="3.9.0";Te.Math=J;Te.Operations=Md;Te.Engine=L;Te.Color=G;Te.LicenseChecker=Uy;Te.Operation=Lt;Te.EventEmitter=Vi;Te.Utils=z;Te.Env=q3;Te.OperationsStack=$y;Te.EXIF=_h;Te.Image=Xi;Te.Configurable=_t;Te.Log=Y;Te.Loaders=I1;Te.RenderType=Or;Te.ImageFormat=ic;Te.OptionType=K;Te.RendererType=Ke;Te.UniformType=le;Te.Base64=io;Ont={};Te.UI=Ont;ft=Te;});var $=d(function(){xh();xh();});var gz;var fz=d(function(){gz="precision highp float;\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform float u_gamma;\nuniform float u_shadows;\nuniform float u_highlights;\nuniform float u_whites;\nuniform float u_blacks;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.0000001;\n\nfloat calculateLuminance(vec3 rgb) {\n    // This is the luminance calculation part of the RGB to HSL formular.\n    vec4 p = mix(\n        vec4(rgb.gb, 0.0, -1.0 / 3.0),\n        vec4(rgb.bg, -1.0, 2.0 / 3.0),\n        vec4(rgb.g < rgb.b)\n    );\n\n    vec4 q = mix(\n        vec4(rgb.r, p.yzx),\n        vec4(p.xyw, rgb.r),\n        vec4(rgb.r < p.x)\n    );\n\n    float croma = q.x - min(q.w, q.y);\n    float luminance = q.x - croma * 0.5;\n    return luminance;\n}\n\nvec3 map(vec3 x, float in_min, float in_max, float out_min, float out_max){\n  return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nvoid main() {\n\n  vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha\n\n  // Apply gamma\n  if (u_gamma != 1.0) {\n    color.rgb = pow(color.rgb, vec3(1.0 / max(u_gamma, EPSILON)));\n  }\n\n  // Apply shadows and highlights\n  float luminance = calculateLuminance(color.rgb);\n\n  float shadow = u_shadows >= 0.0\n    ? clamp(\n          pow(luminance, 1.0 / (u_shadows + 1.0))\n          + pow(luminance, 2.0 / (u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(u_shadows, 1.0))\n    : -clamp(\n          pow(luminance, 1.0 / (-u_shadows + 1.0))\n          + pow(luminance, 2.0 / (-u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(-u_shadows, 1.0));\n\n  float highlight = u_highlights < 0.0\n    ? clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 - u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 - u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0)\n    : -clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 + u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 + u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0);\n\n  // Bright color need more contrast and dark color need more brightness.\n  // This is to keep saturatation because the color information of a dark colors is lost.\n  float shadowContrast   = shadow * luminance * luminance;\n  float shadowBrightness = shadow - shadowContrast;\n\n  float offset = luminance + shadowContrast + highlight;\n  color.rgb = clamp(offset * ((color.rgb + shadowBrightness) / max(luminance, EPSILON)), 0.0, 1.0);\n  \n  // Apply Color Matrix\n  color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n  color.rgb = map(color.rgb, 0.0, 1.0, u_blacks / 2.0, 1.0 + u_whites / 2.0);\n  color = clamp(color, 0.0, 1.0);\n  color.rgb *= color.a; // Reset premultiplied alpha\n\n  gl_FragColor = color;\n}\n";});function Cw(i,t,e,r,o){return(i-t)*(o-r)/(e-t)+r;}var Bnt,Ld,Pnt,Sw,qy;var ww=d(function(){$();fz();Bnt=J.ColorMatrix;Ld=1e-7;Pnt=function Pnt(i){var t=Math.max(i.r,i.g,i.b);var e=Math.min(i.r,i.g,i.b);return(t+e)/2;};Sw=/*#__PURE__*/function(_L$Filter){_inherits(Sw,_L$Filter);var _super42=_createSuper(Sw);function Sw(){var _this82;_classCallCheck(this,Sw);_this82=_super42.call(this);_this82._fragmentSource=gz;return _this82;}_createClass(Sw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var _this$_options5=this._options,c=_this$_options5.colorMatrix,u=_this$_options5.gamma,m=_this$_options5.shadows,p=_this$_options5.highlights,h=_this$_options5.whites,g=_this$_options5.blacks;var x=u!==1;var v=m!==0||p!==0;var b=new G(0,0,0,0);for(var T=0;T<n.width*n.height;T++){var k=T*4;b.r=l.data[k]/255;b.g=l.data[k+1]/255;b.b=l.data[k+2]/255;if(x){b.r=Math.pow(b.r,1/Math.max(u,Ld));b.g=Math.pow(b.g,1/Math.max(u,Ld));b.b=Math.pow(b.b,1/Math.max(u,Ld));}if(v){var E=Pnt(b);var A=m>=0?z.clamp(Math.pow(E,1/(m+1))+Math.pow(E,2/(m+1))*-.76-E,0,Math.max(m,1)):-z.clamp(Math.pow(E,1/(-m+1))+Math.pow(E,2/(-m+1))*-.76-E,0,Math.max(-m,1));var I=p<0?z.clamp(1-Math.pow(1-E,1/(1-p))-Math.pow(1-E,2/(1-p))*-.8-E,-1,0):-z.clamp(1-Math.pow(1-E,1/(1+p))-Math.pow(1-E,2/(1+p))*-.8-E,-1,0);var F=A*E*E;var Z=A-F;var et=E+F+I;b.r=z.clamp(et*((b.r+Z)/Math.max(E,Ld)),0,1);b.g=z.clamp(et*((b.g+Z)/Math.max(E,Ld)),0,1);b.b=z.clamp(et*((b.b+Z)/Math.max(E,Ld)),0,1);}b=c.apply(b).clamp(0,1);b.r=Cw(b.r,0,1,g/2,1+h/2);b.g=Cw(b.g,0,1,g/2,1+h/2);b.b=Cw(b.b,0,1,g/2,1+h/2);l.data[k]=b.r*255;l.data[k+1]=b.g*255;l.data[k+2]=b.b*255;}a.putImageData(l,0,0);}}]);return Sw;}(L.Filter);Sw.prototype.availableOptions={gamma:{type:"number","default":1,uniformType:"f"},shadows:{type:"number","default":0,uniformType:"f"},highlights:{type:"number","default":1,uniformType:"f"},whites:{type:"number","default":0,uniformType:"f"},blacks:{type:"number","default":0,uniformType:"f"},colorMatrix:{type:"color-matrix","default":new Bnt(),uniformType:"mat4"},colorOffset:{type:"array","default":[],uniformType:"4f"}};qy=Sw;});var yz;var bz=d(function(){yz="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Size of one pixel == vec2(1.0 / u_image.width, 1.0 / u_image.height)\nuniform vec2 u_pixelDimension;\n\n// Range (-1.0 - 1.0)\nuniform float u_clarity;\n\nvarying vec2 v_texCoord;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.000001;\n\nvec4 unpremultiply(vec4 col) {\n    col.rgb /= max(col.a, EPSILON);\n    return col;\n}\n\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord);\n    color = unpremultiply(color);\n\n    // L = Left, R = Right, C = Center, T = Top, B = Bottom\n    vec4 colLB = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colLC = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,                 0.0));\n    vec4 colLT = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 colCL = texture2D(u_image, v_texCoord + vec2(                0.0, -u_pixelDimension.y));\n    vec4 colCR = texture2D(u_image, v_texCoord + vec2(                0.0,  u_pixelDimension.y));\n    \n    vec4 colRB = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colRC = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,                 0.0));\n    vec4 colRT = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 mergedColor = color;\n    mergedColor.rgb += unpremultiply(colLB).rgb + unpremultiply(colLC).rgb + unpremultiply(colLT).rgb;\n    mergedColor.rgb += unpremultiply(colCL).rgb + unpremultiply(colCR).rgb;\n    mergedColor.rgb += unpremultiply(colRB).rgb + unpremultiply(colRC).rgb + unpremultiply(colRT).rgb;\n\n    mergedColor /= 9.0;\n\n    float grayValue = clamp(color.r * 0.3 + color.g * 0.59 + color.b * 0.1, 0.111111, 0.999999);\n    // 1.0 and 0.0 result in white not black, therefore we clamp\n\n    // Here we create a function that will map values below 0.1 to 0. Values above 0.2 will be mapped to 1,\n    // and for values between 0.1 and 0.2 it will produce a gradient.\n    // The funtion is mirror at 0.5, meaning values between 0.8 and 0.9 will result in a decending gradient.\n    // And values above 0.9 will be mapped to 0.\n    float frequenceFactor = min(smoothstep(1.0 - grayValue, 0.0, 0.11), smoothstep(grayValue, 0.0, 0.11));\n\n    // here we apply the high pass filter. Its strength is determined by the uniform ,\n    // and the frequence factor. That means the only the mid tones are affected by this filter.\n    // Clarity input is ranging from -1 to 1. But we want to strengthen the effect.\n    // Therefore we see this little magic number '3.7'.\n    color.rgb = clamp(color + clamp((color - mergedColor) * u_clarity * 3.7 * frequenceFactor, 0.0, 10.0), 0.0, 1.0).rgb;\n\n    // apply exposure but only to the mid tones.\n    color.rgb = color.rgb * pow(2.0, u_clarity * 0.27 * frequenceFactor);\n\n    // apply contrast and desaturation matrix\n    color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n\n    color.rgb *= color.a; // Premultiply alpha\n\n    gl_FragColor = clamp(color, 0.0, 1.0);\n}\n";});var Lnt,znt,Tw,_z;var xz=d(function(){$();bz();Lnt=J.Vector2;znt=J.ColorMatrix;Tw=/*#__PURE__*/function(_L$Filter2){_inherits(Tw,_L$Filter2);var _super43=_createSuper(Tw);function Tw(){var _this83;_classCallCheck(this,Tw);_this83=_super43.call(this);_this83._fragmentSource=yz;return _this83;}_createClass(Tw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=r.getContext();var s=e.getCanvas();var a=e.getContext();var l=this._options.clarity;var c=this._options.colorMatrix;var u=new G(this._options.colorOffset[0],this._options.colorOffset[1],this._options.colorOffset[2],this._options.colorOffset[3]);var m=s.width;var p=s.height;var h=a.getImageData(0,0,m,p);var g=n.createImageData(m,p);this.canvasShader(h,g,l,c,u);n.putImageData(g,0,0);}},{key:"canvasShader",value:function canvasShader(t,e,r,o,n){var s=function s(b,T,k){return Math.min(Math.max(b,T),k);};var a=function a(b,T,k){var E=s((k-b)/(T-b),0,1);return E*E*(3-2*E);};var l=t.width*4;var c=t.data.length;var u=c-1;var m=0;var p=t.data;var h=e.data;var g=new G();var x=255*9;var v=function v(b){b=b<m?m:b;b=b>u?u:b;return p[b];};for(var b=0;b<c;b+=4){var T=v(b+0);var k=v(b+1);var E=v(b+2);var A=v(b+3);var I=(T+v(b-4-l+0)+v(b-4+0)+v(b-4+l+0)+v(b-l+0)+v(b+l+0)+v(b+4-l+0)+v(b+4+0)+v(b+4+l))/x;var F=(k+v(b-4-l+1)+v(b-4+1)+v(b-4+l+1)+v(b-l+1)+v(b+l+1)+v(b+4-l+1)+v(b+4+1)+v(b+4+l+1))/x;var Z=(E+v(b-4-l+2)+v(b-4+2)+v(b-4+l+2)+v(b-l+2)+v(b+l+2)+v(b+4-l+2)+v(b+4+2)+v(b+4+l+2))/x;var et=(A+v(b-4-l+3)+v(b-4+3)+v(b-4+l+3)+v(b-l+3)+v(b+l+3)+v(b+4-l+3)+v(b+4+3)+v(b+4+l+3))/x;T/=255;k/=255;E/=255;A/=255;var pt=s(T*.3+k*.59+E*.1,.111111,.999999);var yt=Math.min(a(1-pt,0,.11),a(pt,0,.11));var bt=r*3.7*yt;var ht=Math.pow(2,r*.27*yt);var Qt=s(T+s((T-I)*bt,0,10),0,1)*ht;var gi=s(k+s((k-F)*bt,0,10),0,1)*ht;var ii=s(E+s((E-Z)*bt,0,10),0,1)*ht;var Xr=s(A+s((A-et)*bt,0,10),0,1);g.set(Qt,gi,ii,Xr);var St=o.apply(g).clamp(0,1);h[b+0]=St.r*255;h[b+1]=St.g*255;h[b+2]=St.b*255;h[b+3]=St.a*255;}}}]);return Tw;}(L.Filter);Tw.prototype.availableOptions={clarity:{type:"number","default":0,uniformType:"f"},pixelDimension:{type:"vector2","default":new Lnt(100,100),uniformType:"2f"},colorMatrix:{type:"color-matrix","default":new znt(),uniformType:"mat4"},colorOffset:{type:"array","default":[],uniformType:"4f"}};_z=Tw;});var Cz;var vz=d(function(){Cz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec2 u_pixelDimension;\nuniform float u_sharpness;\n \nconst float EPSILON = 0.000001;\n \nvoid main() {\n    vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n\n    float factor        = mix(0.2, -1.0, float(u_sharpness > 0.0));\n    vec4 sharpenedColor = mix(0.2,  5.0, float(u_sharpness > 0.0)) * color;\n \n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2(-1.0,  0.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0, -1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0,  1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 1.0,  0.0)), 0.0, 1.0);\n \n    color.rgb /= max(color.a, EPSILON); // unpremultiply\n    sharpenedColor.rgb /= max(sharpenedColor.a, EPSILON); // unpremultiply\n \n    sharpenedColor = clamp(sharpenedColor, 0.0, 1.0);\n \n    color = clamp(mix(color, sharpenedColor, abs(u_sharpness)), 0.0, 1.0);\n      \n    gl_FragColor = vec4(color.rgb * color.a, color.a); // premultiply\n}";});var Nnt,kw,Sz;var wz=d(function(){$();vz();Nnt=J.Vector2;kw=/*#__PURE__*/function(_L$Filter3){_inherits(kw,_L$Filter3);var _super44=_createSuper(kw);function kw(){var _this84;_classCallCheck(this,kw);_this84=_super44.call(this);_this84._fragmentSource=Cz;return _this84;}_createClass(kw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=r.getContext();var s=e.getCanvas();var a=e.getContext();var l=this._options.sharpness;var c=s.width;var u=s.height;var m=a.getImageData(0,0,c,u);var p=n.createImageData(c,u);this.canvasShader(m,p,l);n.putImageData(p,0,0);}},{key:"canvasShader",value:function canvasShader(t,e,r){var o=function o(E,A,I){return Math.min(Math.max(E,A),I);};var n=1e-6;var s=t.width;var a=t.height;var l=t.data;var c=e.data;var u=function u(E,A,I){return E*(1-I)+A*I;};var m=function m(E){return o(l[E]/255,0,1);};var p=function p(E,A){var I=o(E,0,s-1);var F=o(A,0,a-1);return 4*(I+s*F);};var h=[];var g=[];var x=[-1,0,0,1];var v=[0,-1,1,0];var b=r>0?-1:.2;var T=r>0?5:.2;var k=Math.abs(r);for(var E=0;E<s;E++){for(var A=0;A<a;A++){var I=p(E,A);h[0]=m(I+0);h[1]=m(I+1);h[2]=m(I+2);h[3]=m(I+3);g[0]=T*h[0]*h[3];g[1]=T*h[1]*h[3];g[2]=T*h[2]*h[3];g[3]=T*h[3];for(var F=0;F<4;F++){var Z=x[F];var et=v[F];var pt=p(E+Z,A+et);var yt=m(pt+3);g[3]+=b*yt;for(var bt=0;bt<3;bt++){g[bt]+=b*m(pt+bt)*yt;}}for(var _F2=0;_F2<3;_F2++){g[_F2]/=Math.max(g[3],n);g[_F2]=o(g[_F2],0,1);}g[3]=o(g[3],0,1);for(var _F3=0;_F3<4;_F3++){h[_F3]=o(u(h[_F3],g[_F3],k),0,1);c[I+_F3]=h[_F3]*255;}}}}}]);return kw;}(L.Filter);kw.prototype.availableOptions={sharpness:{type:"number","default":0,uniformType:"f"},pixelDimension:{type:"vector2","default":new Nnt(100,100),uniformType:"2f"}};Sz=kw;});var kz;var Tz=d(function(){kz="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Range (-1.0 - 1.0)\nuniform float u_temperature;\n\nconst lowp vec3 warmFilter = vec3(0.93, 0.54, 0.0);\n\nconst mediump mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.596, -0.274, -0.322, 0.212, -0.523, 0.311);\nconst mediump mat3 YIQtoRGB = mat3(1.0, 0.956, 0.621, 1.0, -0.272, -0.647, 1.0, -1.105, 1.702);\n\nconst float EPSILON = 0.0000001;\n\nvarying vec2 v_texCoord;\nvoid main() {\n  float temperature = u_temperature;\n  const float tint = 0.0;\n  vec4 source = texture2D(u_image, v_texCoord);\n\n  source.rgb /= max(source.a, EPSILON);   // Revert premultiplied alpha\n\n  vec3 yiq = RGBtoYIQ * source.rgb;\n  yiq.b = clamp(yiq.b + tint*0.5226*0.1, -0.5226, 0.5226);\n  vec3 rgb = YIQtoRGB * yiq;\n\n  vec3 processed = mix(\n    (1.0 - 2.0 * (1.0 - rgb) * (1.0 - warmFilter)),\n    (2.0 * rgb * warmFilter),\n    vec3(rgb.r < 0.5, rgb.g < 0.5, rgb.b < 0.5)\n  );\n\n  vec4 color = vec4(mix(rgb, processed, temperature), source.a);\n\n  color.rgb *= color.a;   // Premultiply alpha again\n\n  gl_FragColor = color;\n}\n";});var aOt,Iw,Iz;var Dz=d(function(){$();Tz();aOt=J.Vector3;Iw=/*#__PURE__*/function(_L$Filter4){_inherits(Iw,_L$Filter4);var _super45=_createSuper(Iw);function Iw(){var _this85;_classCallCheck(this,Iw);_this85=_super45.call(this);_this85._fragmentSource=kz;return _this85;}_createClass(Iw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=r.getContext();var s=e.getCanvas();var a=e.getContext();var l=this._options.temperature;var c=s.width;var u=s.height;var m=a.getImageData(0,0,c,u);var p=n.createImageData(c,u);this.canvasShader(m,p,l);n.putImageData(p,0,0);}},{key:"canvasShader",value:function canvasShader(t,e,r){var o=function o(b,T,k){return Math.min(Math.max(b,T),k);};var n=function n(b,T,k){return b*(1-k)+T*k;};var s=function s(b,T){var k=b[0]*T[0]+b[3]*T[1]+b[6]*T[2];var E=b[1]*T[0]+b[4]*T[1]+b[7]*T[2];var A=b[2]*T[0]+b[5]*T[1]+b[8]*T[2];return[k,E,A];};var a=t.data.length;var l=a-1;var c=0;var u=t.data;var m=e.data;var p=function p(b){b=b<c?c:b;b=b>l?l:b;return u[b];};var h=[.93,.54,0];var g=[.299,.587,.114,.596,-.274,-.322,.212,-.523,.311];var x=[1,.956,.621,1,-.272,-.647,1,-1.105,1.702];var v=0;for(var b=0;b<a;b+=4){var T=p(b+0)/255;var k=p(b+1)/255;var E=p(b+2)/255;var A=p(b+3)/255;var I=[T,k,E];var F=s(g,I);F.z=o(F.z+v*.5226*.1,-.5226,.5226);var Z=s(x,F);var et=[Z[0]<.5?2*Z[0]*h[0]:1-2*(1-Z[0])*(1-h[0]),Z[1]<.5?2*Z[1]*h[1]:1-2*(1-Z[1])*(1-h[1]),Z[2]<.5?2*Z[2]*h[2]:1-2*(1-Z[2])*(1-h[2])];m[b+0]=n(Z[0],et[0],r)*255;m[b+1]=n(Z[1],et[1],r)*255;m[b+2]=n(Z[2],et[2],r)*255;m[b+3]=A*255;}}}]);return Iw;}(L.Filter);Iw.prototype.availableOptions={temperature:{type:"number","default":0,uniformType:"f"}};Iz=Iw;});var tl,vh,Ez;var Fz=d(function(){$();ww();xz();wz();Dz();tl=J.ColorMatrix;vh=/*#__PURE__*/function(_Lt2){_inherits(vh,_Lt2);var _super46=_createSuper(vh);function vh(){var _this86;_classCallCheck(this,vh);for(var _len16=arguments.length,t=new Array(_len16),_key16=0;_key16<_len16;_key16++){t[_key16]=arguments[_key16];}_this86=_super46.call.apply(_super46,[this].concat(t));_this86._clarityFilter=new _z();_this86._temperatureFilter=new Iz();_this86._sharpnessFilter=new Sz();_this86._filter=new qy();_this86._sprite.setFilters([_this86._clarityFilter,_this86._temperatureFilter,_this86._filter]);return _this86;}_createClass(vh,[{key:"_render",value:function _render(t){var e=t.getDimensions();e.x=1/e.x;e.y=1/e.y;var r=new tl();r.multiply(tl.createSaturationMatrix(-.3*this._options.clarity+1));r.multiply(tl.createContrastMatrix(.1*this._options.clarity+1));this._clarityFilter.set({clarity:this._options.clarity,pixelDimension:e,colorMatrix:r,colorOffset:r.getOffsets()});this._temperatureFilter.set({temperature:this._options.temperature});this._sharpnessFilter.set({sharpness:this._options.sharpness,pixelDimension:e});var o=new tl();o.multiply(tl.createExposureMatrix(this._options.exposure));o.multiply(tl.createSaturationMatrix(this._options.saturation+1));o.multiply(tl.createContrastMatrix((this._options.contrast>0?this._options.contrast*2:this._options.contrast)+1));o.multiply(tl.createBrightnessMatrix(this._options.brightness));this._filter.set({gamma:this._options.gamma,shadows:this._options.shadows,highlights:this._options.highlights,whites:this._options.whites,blacks:this._options.blacks,colorMatrix:o,colorOffset:o.getOffsets()});var n=[];if(this._options.clarity!==0){n.push(this._clarityFilter);}if(this._options.sharpness!==0){n.push(this._sharpnessFilter);}if(this._options.temperature!==0){n.push(this._temperatureFilter);}n.push(this._filter);this._sprite.setFilters(n);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(vh.prototype),"dispose",this).call(this);this._filter.dispose();this._clarityFilter.dispose();this._temperatureFilter.dispose();this._sharpnessFilter.dispose();}}]);return vh;}(Lt);vh.identifier="adjustments";vh.prototype.availableOptions={brightness:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},saturation:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},contrast:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},gamma:{type:"number","default":1,minValue:.5,midValue:1,maxValue:2},exposure:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},shadows:{type:"number","default":0,minValue:-2,midValue:0,maxValue:2},highlights:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},clarity:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},whites:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},blacks:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},temperature:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1},sharpness:{type:"number","default":0,minValue:-1,midValue:0,maxValue:1}};ft.Operations.AdjustmentsOperation=vh;Ez=vh;});var Oz;var Rz=d(function(){Oz="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n    float radius = u_blurRadius;\n\n    const float steps = 30.0;\n\n    for (float t = -steps; t <= steps; t++) {\n        float percent = (t + offset - 0.5) / steps;\n        float weight = 1.0 - abs(percent);\n\n        // Somehow `sample` is a keyword in headless-gl\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var Yy,Dw,or;var zd=d(function(){$();Rz();Yy=J.Vector2;Dw=/*#__PURE__*/function(_L$Filter5){_inherits(Dw,_L$Filter5);var _super47=_createSuper(Dw);function Dw(){var _this87;_classCallCheck(this,Dw);for(var _len17=arguments.length,t=new Array(_len17),_key17=0;_key17<_len17;_key17++){t[_key17]=arguments[_key17];}_this87=_super47.call.apply(_super47,[this].concat(t));_this87._fragmentSource=Oz;_this87._lastBlurRadius=null;_this87._lastDimensions=new Yy(0,0);_this87._blurredRenderTarget=new L.CanvasRenderTarget(100,100,1);return _this87;}_createClass(Dw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(this._options.blurQuality==="low"){this._renderLQBlur(t,e,r,o);return;}var s=e.getCanvas();var a=e.getContext();var l=r.getContext();if(this._lastBlurRadius===this._options.blurRadius){l.drawImage(s,0,0);}var c=a.getImageData(0,0,s.width,s.height);var u=l.getImageData(0,0,s.width,s.height);var m=this._options.blurRadius;var p=this._options.delta;var h=30;for(var g=0;g<s.width;g++){for(var x=0;x<s.height;x++){var v=g+x*s.width;var b=v*4;var T=0;var k=0;var E=0;var A=0;var I=0;if(n){m=n(g/s.width,x/s.height);}var F=this._random(g,1-x/s.height);for(var Z=-h;Z<=h;Z++){var et=(Z+F-.5)/h;var pt=1-Math.abs(et);var yt=p.x*et*m;var bt=p.y*et*m;var ht=Math.max(Math.min(g+yt,s.width-1),0);var Qt=Math.max(Math.min(x+bt,s.height-1),0);var gi=(Math.round(Qt)*s.width+Math.round(ht))*4;var ii=c.data[gi+3];var Xr=ii*c.data[gi];var St=ii*c.data[gi+1];var fe=ii*c.data[gi+2];T+=Xr*pt;k+=St*pt;E+=fe*pt;A+=ii*pt;I+=pt;}T/=I;k/=I;E/=I;A/=I;u.data[b]=T/A;u.data[b+1]=k/A;u.data[b+2]=E/A;u.data[b+3]=A;}}l.putImageData(u,0,0);this._lastDimensions.copy(new Yy(s.width,s.height));}},{key:"_renderLQBlur",value:function _renderLQBlur(t,e,r,o){var n=e.getDimensions();var s=!this._lastDimensions.equals(n);this._blurredRenderTarget.setPixelRatio(e.getPixelRatio());this._blurredRenderTarget.resizeTo(e.getDimensions());r.setPixelRatio(e.getPixelRatio());r.resizeTo(e.getDimensions());if(this._lastBlurRadius!==this._options.blurRadius||s){this._blurImage(e,this._blurredRenderTarget,this._options.blurRadius);this._lastBlurRadius=this._options.blurRadius;}var a=r.getContext();a.drawImage(this._blurredRenderTarget.getCanvas(),0,0);this._lastDimensions.copy(n);}},{key:"_random",value:function _random(t,e){var r=12.9898;var o=78.233;var n=43758.5453;var s=t*r+e*o;var a=s-3.14*Math.floor(s/3.14);var l=Math.sin(a)*n;return l-Math.floor(l);}}]);return Dw;}(L.Filter);Dw.prototype.availableOptions={blurRadius:{type:"number","default":30,uniformType:"f"},delta:{type:"vector2","default":new Yy(1,1),uniformType:"2f"},texSize:{type:"vector2","default":new Yy(100,100),uniformType:"2f"},blurQuality:{type:"string","default":"low"}};or=Dw;});var Az,Ch,Bz;var Pz=d(function(){$();zd();Az=J.Vector2;Ch=/*#__PURE__*/function(_Lt3){_inherits(Ch,_Lt3);var _super48=_createSuper(Ch);function Ch(){var _this88;_classCallCheck(this,Ch);for(var _len18=arguments.length,t=new Array(_len18),_key18=0;_key18<_len18;_key18++){t[_key18]=arguments[_key18];}_this88=_super48.call.apply(_super48,[this].concat(t));_this88._lastBlurRadius=_this88._options.blurRadius;var e={blurQuality:{type:"string"}};_this88._horizontalFilter=new or({},e);_this88._verticalFilter=new or({},e);_this88._sprite.setFilters([_this88._horizontalFilter,_this88._verticalFilter]);_this88._horizontalFilter.setDelta(new Az(.5,.5));_this88._verticalFilter.setDelta(new Az(-.5,.5));_this88._filter=new or({},e);return _this88;}_createClass(Ch,[{key:"_renderWebGL",value:function _renderWebGL(t){return this._renderBlur(t);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(this._options.highQualityCanvasBlur){return this._renderBlur(t);}return this._renderLQCanvasBlur(t);}},{key:"_renderBlur",value:function _renderBlur(t){var e=t.getDimensions();var r=e.min();var o=this._options.blurRadius;var n={blurRadius:o*r,texSize:e,blurQuality:"high"};this._horizontalFilter.set(n);this._verticalFilter.set(n);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(t){var e=this._options.blurRadius;var r=t.getDimensions();this._filter.set({blurRadius:e,texSize:r,blurQuality:"low"});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"transform",value:function transform(t){var e=this.getBlurRadius();var r=t.applyToRelativeSize(e);this.set({blurRadius:r},false);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Ch.prototype),"dispose",this).call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return true;}}]);return Ch;}(Lt);Ch.identifier="blur";Ch.prototype.availableOptions={blurRadius:{type:"number","default":.025},highQualityCanvasBlur:{type:"boolean","default":false}};ft.Operations.BlurOperation=Ch;Bz=Ch;});var Lz;var Mz=d(function(){Lz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filteredImage;\nuniform float u_intensity;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filteredImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, u_intensity);\n}\n";});var Ew,zz,Fw;var Uz=d(function(){$();Mz();Ew=/*#__PURE__*/function(_L$Filter6){_inherits(Ew,_L$Filter6);var _super49=_createSuper(Ew);function Ew(){var _this89;_classCallCheck(this,Ew);_this89=_super49.call(this);_this89._fragmentSource=Lz;return _this89;}_createClass(Ew,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=r.getContext();var a=this._options.filteredCanvas;s.save();s.drawImage(n,0,0);s.globalAlpha=this._options.intensity;s.drawImage(a,0,0);s.restore();}}]);return Ew;}(L.Filter);Ew.prototype.availableOptions={filteredImage:{type:"number","default":1,uniformType:"i"},filteredCanvas:{type:"object","default":null},intensity:{type:"number","default":1,uniformType:"f"}};zz=/*#__PURE__*/function(){function zz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;_classCallCheck(this,zz);this._intensity=t;this._stack=[];this._dirtiness={};this._renderTextures={};this._container=new L.Container();this._sprite=new L.Sprite();this._container.addChild(this._sprite);this._blendFilter=new Ew();}_createClass(zz,[{key:"push",value:function push(t){this._stack.push(t);}},{key:"clear",value:function clear(){this._stack=[];}},{key:"render",value:function render(t,e,r){if(this.isEmpty()){return Promise.resolve();}var o=t.getRenderer();this._sprite.setTexture(e);var n=this._renderTextures[o.id];if(!n){var l=t.getSprite().getTexture().getFrame();n=new L.RenderTexture(t.getRenderer(),l.width,l.height);this._renderTextures[o.id]=n;}var s=r.getDimensions();n.resizeTo(s);var a=this.isDirtyForRenderer(o);if(a){this._stack.forEach(function(c){c.update(t);});var _l2=this._stack.map(function(c){return c.getFilter();});this._sprite.setFilters(_l2);n.render(this._container);this.setDirtyForRenderer(false,o);}this._blendFilter.setIntensity(this._intensity);if(o.isOfType("canvas")){this._blendFilter.setFilteredCanvas(n.getRenderTarget().getCanvas());}else if(o.isOfType("webgl")){var _l3=n.getBaseTexture();_l3.setGLUnit(this._blendFilter.getFilteredImage());o.updateTexture(_l3,false);}this._sprite.setFilters([this._blendFilter]);r.clear(G.TRANSPARENT);r.render(this._container);if(a){this.disposeRenderTextures();}return Promise.resolve();}},{key:"setIntensity",value:function setIntensity(t){this._intensity=t;}},{key:"isEmpty",value:function isEmpty(){return this._stack.length===0;}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(t){if(!(t.id in this._dirtiness)){this._dirtiness[t.id]=true;}return this._dirtiness[t.id];}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){this._dirtiness[e.id]=t;}},{key:"setDirty",value:function setDirty(t){for(var e in this._dirtiness){this._dirtiness[e]=t;}}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){for(var t in this._renderTextures){this._renderTextures[t].dispose();delete this._renderTextures[t];}}},{key:"dispose",value:function dispose(){this.disposeRenderTextures();this._stack.forEach(function(t){return t.dispose();});this._stack=[];this._blendFilter.dispose();this._sprite.dispose();}}]);return zz;}();Fw=zz;});var Ud,dt;var Ht=d(function(){$();Uz();Ud=/*#__PURE__*/function(_t9){_inherits(Ud,_t9);var _super50=_createSuper(Ud);function Ud(){var _this90;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Ud);_this90=_super50.call(this,t,_objectSpread({intensity:{type:"number","default":1,setter:function setter(r){this._stack&&this._stack.setIntensity(r);return r;}},dirty:{type:"boolean","default":true}},e));_this90._stack=new Fw(_this90._options.intensity);return _this90;}_createClass(Ud,[{key:"render",value:function render(t,e,r){var _this91=this;return this._stack.render(t,e,r).then(function(o){_this91.setDirty(false);return o;});}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){this._stack.setDirtyForRenderer(t,e);}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){this._stack.disposeRenderTextures();}},{key:"dispose",value:function dispose(){this._stack.dispose();}}]);return Ud;}(_t);Ud.identifier=null;Ud.isIdentity=false;Ud.displayName=null;Ud.PrimitivesStack=Fw;dt=Ud;});var Hz;var Nz=d(function(){Hz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n}\n";});var Wz,ne;var Di=d(function(){$();Wz=/*#__PURE__*/function(_t10){_inherits(Wz,_t10);var _super51=_createSuper(Wz);function Wz(){_classCallCheck(this,Wz);return _super51.apply(this,arguments);}_createClass(Wz,[{key:"update",value:function update(){}},{key:"getFilter",value:function getFilter(){return this._filter;}},{key:"dispose",value:function dispose(){if(this._filter){this._filter.dispose();this._filter=null;}}}]);return Wz;}(_t);ne=Wz;});var Jy,Rw,fc;var Gz=d(function(){$();Nz();Di();Jy=/*#__PURE__*/function(_L$Filter7){_inherits(Jy,_L$Filter7);var _super52=_createSuper(Jy);function Jy(){var _this92;_classCallCheck(this,Jy);_this92=_super52.call(this);_this92._fragmentSource=Hz;return _this92;}_createClass(Jy,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.brightness;if(c===0){a.putImageData(l,0,0);return;}c*=255;for(var u=0;u<n.width*n.height;u++){var m=u*4;l.data[m]+=c;l.data[m+1]+=c;l.data[m+2]+=c;}a.putImageData(l,0,0);}}]);return Jy;}(L.Filter);Jy.prototype.availableOptions={brightness:{type:"number","default":0,uniformType:"f"}};Rw=/*#__PURE__*/function(_ne2){_inherits(Rw,_ne2);var _super53=_createSuper(Rw);function Rw(){var _this93;_classCallCheck(this,Rw);for(var _len19=arguments.length,t=new Array(_len19),_key19=0;_key19<_len19;_key19++){t[_key19]=arguments[_key19];}_this93=_super53.call.apply(_super53,[this].concat(t));_this93._filter=new Jy();return _this93;}_createClass(Rw,[{key:"update",value:function update(){this._filter.setBrightness(this._options.brightness);}}]);return Rw;}(ne);Rw.prototype.availableOptions=Jy.prototype.availableOptions;fc=Rw;});var jz;var Vz=d(function(){jz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_contrast;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n}\n";});var Zy,Ow,nr;var $z=d(function(){$();Vz();Di();Zy=/*#__PURE__*/function(_L$Filter8){_inherits(Zy,_L$Filter8);var _super54=_createSuper(Zy);function Zy(){var _this94;_classCallCheck(this,Zy);_this94=_super54.call(this);_this94._fragmentSource=jz;return _this94;}_createClass(Zy,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.contrast;if(c===1){return;}for(var u=0;u<n.width*n.height;u++){var m=u*4;l.data[m]=(l.data[m]-127)*c+127;l.data[m+1]=(l.data[m+1]-127)*c+127;l.data[m+2]=(l.data[m+2]-127)*c+127;}a.putImageData(l,0,0);}}]);return Zy;}(L.Filter);Zy.prototype.availableOptions={contrast:{type:"number","default":1,uniformType:"f"}};Ow=/*#__PURE__*/function(_ne3){_inherits(Ow,_ne3);var _super55=_createSuper(Ow);function Ow(){var _this95;_classCallCheck(this,Ow);for(var _len20=arguments.length,t=new Array(_len20),_key20=0;_key20<_len20;_key20++){t[_key20]=arguments[_key20];}_this95=_super55.call.apply(_super55,[this].concat(t));_this95._filter=new Zy();return _this95;}_createClass(Ow,[{key:"update",value:function update(){this._filter.setContrast(this._options.contrast);}}]);return Ow;}(ne);Ow.prototype.availableOptions=Zy.prototype.availableOptions;nr=Ow;});var Xz;var Kz=d(function(){Xz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorMatrixOffset;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = texColor * u_colorMatrix + u_colorMatrixOffset;\n}\n";});var Knt,Qy,Aw,t_;var qz=d(function(){$();Kz();Di();Knt=J.ColorMatrix;Qy=/*#__PURE__*/function(_L$Filter9){_inherits(Qy,_L$Filter9);var _super56=_createSuper(Qy);function Qy(){var _this96;_classCallCheck(this,Qy);_this96=_super56.call(this);_this96._fragmentSource=Xz;return _this96;}_createClass(Qy,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.colorMatrix;var u=new G(0,0,0,0);for(var m=0;m<n.width*n.height;m++){var p=m*4;u.r=l.data[p]/255;u.g=l.data[p+1]/255;u.b=l.data[p+2]/255;u=c.apply(u);l.data[p]=u.r*255;l.data[p+1]=u.g*255;l.data[p+2]=u.b*255;}a.putImageData(l,0,0);}}]);return Qy;}(L.Filter);Qy.prototype.availableOptions={colorMatrix:{type:"color-matrix","default":new Knt(),uniformType:"mat4"},colorMatrixOffset:{type:"array","default":[],uniformType:"4f"}};Aw=/*#__PURE__*/function(_ne4){_inherits(Aw,_ne4);var _super57=_createSuper(Aw);function Aw(){var _this97;_classCallCheck(this,Aw);for(var _len21=arguments.length,t=new Array(_len21),_key21=0;_key21<_len21;_key21++){t[_key21]=arguments[_key21];}_this97=_super57.call.apply(_super57,[this].concat(t));_this97._filter=new Qy();return _this97;}_createClass(Aw,[{key:"update",value:function update(){this._filter.setColorMatrix(this._options.colorMatrix);}}]);return Aw;}(ne);Aw.prototype.availableOptions=Qy.prototype.availableOptions;t_=Aw;});var Jz;var Yz=d(function(){Jz="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_desaturation;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n  gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n}\n";});var e_,Bw,Fn;var Zz=d(function(){$();Yz();Di();e_=/*#__PURE__*/function(_L$Filter10){_inherits(e_,_L$Filter10);var _super58=_createSuper(e_);function e_(){var _this98;_classCallCheck(this,e_);_this98=_super58.call(this);_this98._fragmentSource=Jz;return _this98;}_createClass(e_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=[.3,.59,.11];var u=this._options.desaturation;for(var m=0;m<n.width*n.height;m++){var p=m*4;var h=c[0]*l.data[p]/255+c[1]*l.data[p+1]/255+c[2]*l.data[p+2]/255;l.data[p]+=(h*255-l.data[p])*u;l.data[p+1]+=(h*255-l.data[p+1])*u;l.data[p+2]+=(h*255-l.data[p+2])*u;}a.putImageData(l,0,0);}}]);return e_;}(L.Filter);e_.prototype.availableOptions={desaturation:{type:"number","default":1,uniformType:"f"}};Bw=/*#__PURE__*/function(_ne5){_inherits(Bw,_ne5);var _super59=_createSuper(Bw);function Bw(){var _this99;_classCallCheck(this,Bw);for(var _len22=arguments.length,t=new Array(_len22),_key22=0;_key22<_len22;_key22++){t[_key22]=arguments[_key22];}_this99=_super59.call.apply(_super59,[this].concat(t));_this99._filter=new e_();return _this99;}_createClass(Bw,[{key:"update",value:function update(){this._filter.setDesaturation(this._options.desaturation);}}]);return Bw;}(ne);Bw.prototype.availableOptions=e_.prototype.availableOptions;Fn=Bw;});var t8;var Qz=d(function(){t8='precision highp float;\n\nuniform sampler2D u_image;\nuniform vec4 u_lightColor;\nuniform vec4 u_darkColor;\nuniform float u_intensity;\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.0000001;\nconst vec3 GRAYSCALE_WEIGHTS = vec3(0.2126, 0.7152, 0.0722);\n\nvec4 duotoneKernel(vec4 sampledCol, vec4 light, vec4 dark, float intensity) {\n  vec4 color = clamp(sampledCol, 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON);\n  color = clamp(color, 0.0, 1.0); // necessary to get rid of all extended sRGB issues with OpenGL ES\n \n  // Apply intensity as "symmetric gamma"\n  if (intensity > 0.0) {\n    color.rgb = 1.0 - pow(1.0 - color.rgb, vec3(max(intensity + 1.0, EPSILON)));\n  } else {\n    color.rgb = pow(color.rgb, vec3(max(-intensity + 1.0, EPSILON)));\n  }\n \n  // Colorimetric (perceptual luminance-preserving) RGB to grayscale conversion\n  // https://en.wikipedia.org/wiki/Grayscale#Colorimetric_(perceptual_luminance-preserving)_conversion_to_grayscale\n  float luminance = dot(GRAYSCALE_WEIGHTS, color.rgb);\n \n  // Apply DuoTone\n  vec4 duotone = mix(dark, light, clamp(luminance, 0.0, 1.0));\n  duotone.a *= color.a;\n  \n  duotone.rgb *= duotone.a;\n\n  return duotone;\n}\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = duotoneKernel(texColor, u_lightColor, u_darkColor, u_intensity);\n}';});var i_,Pw,r_;var e8=d(function(){$();Qz();Di();i_=/*#__PURE__*/function(_L$Filter11){_inherits(i_,_L$Filter11);var _super60=_createSuper(i_);function i_(){var _this100;_classCallCheck(this,i_);_this100=_super60.call(this);_this100._fragmentSource=t8;return _this100;}_createClass(i_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var _this$_options6=this._options,c=_this$_options6.lightColor,u=_this$_options6.darkColor,m=_this$_options6.intensity;for(var p=0;p<n.width*n.height;p++){var h=p*4;var g=l.data[h]/255;var x=l.data[h+1]/255;var v=l.data[h+2]/255;var b=l.data[h+3]/255;var T=new G(g,x,v,b);var k=this._duoToneKernel(T,c,u,m);l.data[h]=k.r*255;l.data[h+1]=k.g*255;l.data[h+2]=k.b*255;l.data[h+3]=k.a*255;}a.putImageData(l,0,0);}},{key:"_duoToneKernel",value:function _duoToneKernel(t,e,r,o){var n=1e-7;t.clone().clamp(0,1);if(o>0){var c=Math.max(o+1,n);t.r=1-Math.pow(1-t.r,c);t.g=1-Math.pow(1-t.g,c);t.b=1-Math.pow(1-t.b,c);}else{var _c4=Math.max(-o+1,n);t.r=Math.pow(t.r,_c4);t.g=Math.pow(t.g,_c4);t.b=Math.pow(t.b,_c4);}var s=.2126*t.r+.7152*t.g+.0722*t.b;var a=Math.min(Math.max(s,0),1);var l=r.clone().mix(e,a);l.a*=t.a;return l;}}]);return i_;}(L.Filter);i_.prototype.availableOptions={lightColor:{type:"color","default":G.RED,uniformType:"4f"},darkColor:{type:"color","default":G.BLACK,uniformType:"4f"},intensity:{type:"number","default":.5,uniformType:"f"}};Pw=/*#__PURE__*/function(_ne6){_inherits(Pw,_ne6);var _super61=_createSuper(Pw);function Pw(){var _this101;_classCallCheck(this,Pw);for(var _len23=arguments.length,t=new Array(_len23),_key23=0;_key23<_len23;_key23++){t[_key23]=arguments[_key23];}_this101=_super61.call.apply(_super61,[this].concat(t));_this101._filter=new i_();return _this101;}_createClass(Pw,[{key:"update",value:function update(){this._filter.setLightColor(this._options.lightColor);this._filter.setDarkColor(this._options.darkColor);var t=2*this._options.intensity-1;this._filter.setIntensity(t);}}]);return Pw;}(ne);Pw.prototype.availableOptions=i_.prototype.availableOptions;r_=Pw;});var r8;var i8=d(function(){r8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_gamma;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 rgb = vec3(texColor.r, texColor.g, texColor.b);\n  rgb = pow(rgb, u_gamma);\n  gl_FragColor = vec4(rgb * texColor.a, texColor.a);;\n}\n";});var o_,Mw,n_;var o8=d(function(){$();i8();Di();o_=/*#__PURE__*/function(_L$Filter12){_inherits(o_,_L$Filter12);var _super62=_createSuper(o_);function o_(){var _this102;_classCallCheck(this,o_);_this102=_super62.call(this);_this102._fragmentSource=r8;return _this102;}_createClass(o_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.gamma;var u=new Float32Array(256);for(var h=0;h<256;h++){u[h]=255*Math.pow(h/255,c.r);}var m=new Float32Array(256);for(var _h4=0;_h4<256;_h4++){m[_h4]=255*Math.pow(_h4/255,c.g);}var p=new Float32Array(256);for(var _h5=0;_h5<256;_h5++){p[_h5]=255*Math.pow(_h5/255,c.b);}for(var _h6=0;_h6<n.width*n.height;_h6++){var g=_h6*4;l.data[g]=u[l.data[g]];l.data[g+1]=m[l.data[g+1]];l.data[g+2]=p[l.data[g+2]];}a.putImageData(l,0,0);}}]);return o_;}(L.Filter);o_.prototype.availableOptions={gamma:{type:"color","default":G.WHITE,uniformType:"3f"}};Mw=/*#__PURE__*/function(_ne7){_inherits(Mw,_ne7);var _super63=_createSuper(Mw);function Mw(){var _this103;_classCallCheck(this,Mw);for(var _len24=arguments.length,t=new Array(_len24),_key24=0;_key24<_len24;_key24++){t[_key24]=arguments[_key24];}_this103=_super63.call.apply(_super63,[this].concat(t));_this103._filter=new o_();return _this103;}_createClass(Mw,[{key:"update",value:function update(){this._filter.setGamma(this._options.gamma);}}]);return Mw;}(ne);Mw.prototype.availableOptions=o_.prototype.availableOptions;n_=Mw;});var s8;var n8=d(function(){s8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n  textureCoord /= 0.75;\n\n  float d = 1.0 - dot(textureCoord, textureCoord);\n  d = clamp(d, 0.2, 1.0);\n  vec3 newColor = texColor.rgb * d * u_color.rgb;\n  gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n}\n";});var s_,Lw,Nd;var a8=d(function(){$();n8();Di();s_=/*#__PURE__*/function(_L$Filter13){_inherits(s_,_L$Filter13);var _super64=_createSuper(s_);function s_(){var _this104;_classCallCheck(this,s_);_this104=_super64.call(this);_this104._fragmentSource=s8;return _this104;}_createClass(s_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.color;var u;for(var m=0;m<n.width;m++){for(var p=0;p<n.height;p++){var h=(n.width*p+m)*4;var g=m/n.width;var x=p/n.height;var v=(g-.5)/.75;var b=(x-.5)/.75;var T=v*v;var k=b*b;u=1-(T+k);u=Math.min(Math.max(u,.1),1);l.data[h]*=u*c.r;l.data[h+1]=l.data[h+1]*(u*c.g);l.data[h+2]=l.data[h+2]*(u*c.b);l.data[h+3]=255;}}a.putImageData(l,0,0);}}]);return s_;}(L.Filter);s_.prototype.availableOptions={color:{type:"color","default":G.WHITE,uniformType:"3f"}};Lw=/*#__PURE__*/function(_ne8){_inherits(Lw,_ne8);var _super65=_createSuper(Lw);function Lw(){var _this105;_classCallCheck(this,Lw);for(var _len25=arguments.length,t=new Array(_len25),_key25=0;_key25<_len25;_key25++){t[_key25]=arguments[_key25];}_this105=_super65.call.apply(_super65,[this].concat(t));_this105._filter=new s_();return _this105;}_createClass(Lw,[{key:"update",value:function update(){this._filter.setColor(this._options.color);}}]);return Lw;}(ne);Lw.prototype.availableOptions=s_.prototype.availableOptions;Nd=Lw;});var c8;var l8=d(function(){c8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  texColor.b = texColor.g * 0.33;\n  texColor.r = texColor.r * 0.6;\n  texColor.b += texColor.r * 0.33;\n  texColor.g = texColor.g * 0.7;\n  gl_FragColor = texColor;\n}\n";});var u8,d8,a_;var m8=d(function(){$();l8();Di();u8=/*#__PURE__*/function(_L$Filter14){_inherits(u8,_L$Filter14);var _super66=_createSuper(u8);function u8(){var _this106;_classCallCheck(this,u8);_this106=_super66.call(this);_this106._fragmentSource=c8;return _this106;}_createClass(u8,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);for(var c=0;c<n.width;c++){for(var u=0;u<n.height;u++){var m=(n.width*u+c)*4;l.data[m+2]=l.data[m+1]*.33;l.data[m]*=.6;l.data[m+2]+=l.data[m]*.33;l.data[m+1]=l.data[m+1]*.7;l.data[m+3]=255;}}a.putImageData(l,0,0);}}]);return u8;}(L.Filter);d8=/*#__PURE__*/function(_ne9){_inherits(d8,_ne9);var _super67=_createSuper(d8);function d8(){var _this107;_classCallCheck(this,d8);for(var _len26=arguments.length,t=new Array(_len26),_key26=0;_key26<_len26;_key26++){t[_key26]=arguments[_key26];}_this107=_super67.call.apply(_super67,[this].concat(t));_this107._filter=new u8();return _this107;}return d8;}(ne);a_=d8;});var h8;var p8=d(function(){h8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, W);\n  gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n}\n";});var f8,g8,Hd;var b8=d(function(){$();p8();Di();f8=/*#__PURE__*/function(_L$Filter15){_inherits(f8,_L$Filter15);var _super68=_createSuper(f8);function f8(){var _this108;_classCallCheck(this,f8);_this108=_super68.call(this);_this108._fragmentSource=h8;return _this108;}_createClass(f8,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);for(var c=0;c<n.width;c++){for(var u=0;u<n.height;u++){var m=(n.width*u+c)*4;var p=l.data[m]*.2125+l.data[m+1]*.7154+l.data[m+2]*.0721;l.data[m]=p;l.data[m+1]=p;l.data[m+2]=p;}}a.putImageData(l,0,0);}}]);return f8;}(L.Filter);g8=/*#__PURE__*/function(_ne10){_inherits(g8,_ne10);var _super69=_createSuper(g8);function g8(){var _this109;_classCallCheck(this,g8);for(var _len27=arguments.length,t=new Array(_len27),_key27=0;_key27<_len27;_key27++){t[_key27]=arguments[_key27];}_this109=_super69.call.apply(_super69,[this].concat(t));_this109._filter=new f8();return _this109;}return g8;}(ne);Hd=g8;});var _8;var y8=d(function(){_8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n  float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n  float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n  gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n}\n";});var zw,x8,l_;var Uw=d(function(){$();y8();Di();zw=/*#__PURE__*/function(_L$Filter16){_inherits(zw,_L$Filter16);var _super70=_createSuper(zw);function zw(){var _this110;_classCallCheck(this,zw);for(var _len28=arguments.length,t=new Array(_len28),_key28=0;_key28<_len28;_key28++){t[_key28]=arguments[_key28];}_this110=_super70.call.apply(_super70,[this].concat(t));_this110._fragmentSource=_8;return _this110;}_createClass(zw,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.lookupTableData;for(var u=0;u<n.width*n.height;u++){var m=u*4;var p=l.data[m];l.data[m]=c[p*4];var h=l.data[m+1];l.data[m+1]=c[1+h*4];var g=l.data[m+2];l.data[m+2]=c[2+g*4];}a.putImageData(l,0,0);}}]);return zw;}(L.Filter);zw.prototype.availableOptions={lookupTable:{type:"number","default":1,uniformType:"i"},lookupTableData:{type:"array","default":[]}};x8=/*#__PURE__*/function(_ne11){_inherits(x8,_ne11);var _super71=_createSuper(x8);function x8(){var _this111;_classCallCheck(this,x8);for(var _len29=arguments.length,t=new Array(_len29),_key29=0;_key29<_len29;_key29++){t[_key29]=arguments[_key29];}_this111=_super71.call.apply(_super71,[this].concat(t));_this111._filter=new zw({lookupTable:_this111._options.textureGLUnit});_this111._textures={};_this111._renderers={};return _this111;}_createClass(x8,[{key:"update",value:function update(t){var e=t.getRenderer();if(e.isOfType("webgl")){this._updateWebGLTexture(t);}else if(e.isOfType("canvas")){this._filter.setLookupTableData(this._options.data);}}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(t){if(typeof this._options.data==="undefined"){throw new Error("LookupTable: No data specified.");}var e=new Uint8Array(this._options.data);var r=t.getRenderer();var o=r.id;this._renderers[o]=r;if(!this._textures[o]){this._textures[o]=new L.BaseTexture();}var n=this._textures[o];var s=new L.PixelArrayImage(256,1,e);n.setSource(s);n.setGLUnit(this._options.textureGLUnit);if(r.isOfType("webgl")){r.updateTexture(n);}}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(x8.prototype),"dispose",this).call(this);for(var t in this._textures){this._textures[t].dispose();delete this._textures[t];}delete this._options.data;}}]);return x8;}(ne);l_=x8;});var C8;var v8=d(function(){C8="/**\n * Based off of GPUImage's LookupFilter:\n * https://github.com/BradLarson/GPUImage/blob/master/framework/Source/GPUImageLookupFilter.m\n */\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float blueColor = texColor.b * 63.0;\n\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texCoord1;\n  texCoord1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec2 texCoord2;\n  texCoord2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec4 newColor1 = texture2D(u_lookupTable, texCoord1);\n  vec4 newColor2 = texture2D(u_lookupTable, texCoord2);\n\n  vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = mix(texColor, vec4(newColor.rgb, texColor.w), texColor.a);\n}\n";});var S8,w8,Nw,Hw,c_;var T8=d(function(){$();v8();Di();S8=J.Vector2;w8=3;Nw=/*#__PURE__*/function(_L$Filter17){_inherits(Nw,_L$Filter17);var _super72=_createSuper(Nw);function Nw(){var _this112;_classCallCheck(this,Nw);_this112=_super72.call(this);_this112._precomputeQuads();_this112._fragmentSource=C8;return _this112;}_createClass(Nw,[{key:"_precomputeQuads",value:function _precomputeQuads(){this._quads=[];for(var t=0;t<256;t++){var e=t/255*63;var r=new S8();r.y=(e|0)*.125|0;r.x=(e|0)-r.y*8;this._quads.push(r);}}},{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=this._options.lookupTableImage;var c=this._createImageCanvas(l);var u=c.getContext("2d");var m=s.getImageData(0,0,n.width,n.height);var p=u.getImageData(0,0,l.width,l.height);var h=new S8();for(var g=0;g<n.width*n.height*4;g+=4){var x=m.data[g];var v=m.data[g+1];var b=m.data[g+2];var T=m.data[g+3]/255;var k=this._quads[b];var E=64;h.x=k.x*E;h.y=k.y*E;h.x+=Math.floor(x/4);h.y+=Math.floor(v/4);var A=(l.width*h.y+h.x)*4|0;var I=p.data[A];I=x*(1-T)+I*T;var F=p.data[A+1];F=v*(1-T)+F*T;var Z=p.data[A+2];Z=b*(1-T)+Z*T;m.data[g]=I;m.data[g+1]=F;m.data[g+2]=Z;}a.putImageData(m,0,0);}},{key:"_createImageCanvas",value:function _createImageCanvas(t){var e=z.createCanvas();e.width=t.width;e.height=t.height;var r=e.getContext("2d");r.drawImage(t,0,0);return e;}}]);return Nw;}(L.Filter);Nw.prototype.availableOptions={lookupTable:{type:"number","default":w8,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null}};Hw=/*#__PURE__*/function(_ne12){_inherits(Hw,_ne12);var _super73=_createSuper(Hw);function Hw(){var _this113;_classCallCheck(this,Hw);for(var _len30=arguments.length,t=new Array(_len30),_key30=0;_key30<_len30;_key30++){t[_key30]=arguments[_key30];}_this113=_super73.call.apply(_super73,[this].concat(t));_this113._filter=new Nw();_this113._textures={};return _this113;}_createClass(Hw,[{key:"update",value:function update(t){var e=t.getRenderer();if(e.isOfType("webgl")){this._updateWebGLTexture(t);}else if(e.isOfType("canvas")){this._filter.setLookupTableImage(this._options.image);}}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(t){var e=t.getRenderer();var r=e.id;if(!this._textures[r]){this._textures[r]=new L.BaseTexture();}var o=this._textures[r];o.setSource(this._options.image);o.setGLUnit(w8);e.updateTexture(o);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Hw.prototype),"dispose",this).call(this);for(var t in this._textures){delete this._textures[t];}}}]);return Hw;}(ne);Hw.prototype.availableOptions={image:{type:"image"}};c_=Hw;});var I8;var k8=d(function(){I8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_saturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, luminanceWeighting);\n\n  vec3 greyScaleColor = vec3(luminance);\n\n  gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n}\n";});var u_,Ww,sr;var D8=d(function(){$();k8();Di();u_=/*#__PURE__*/function(_L$Filter18){_inherits(u_,_L$Filter18);var _super74=_createSuper(u_);function u_(){var _this114;_classCallCheck(this,u_);_this114=_super74.call(this);_this114._fragmentSource=I8;return _this114;}_createClass(u_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);var c=this._options.saturation;for(var u=0;u<n.width;u++){for(var m=0;m<n.height;m++){var p=(n.width*m+u)*4;var h=l.data[p]*.2125+l.data[p+1]*.7154+l.data[p+2]*.0721;l.data[p]=h*(1-c)+l.data[p]*c;l.data[p+1]=h*(1-c)+l.data[p+1]*c;l.data[p+2]=h*(1-c)+l.data[p+2]*c;}}a.putImageData(l,0,0);}}]);return u_;}(L.Filter);u_.prototype.availableOptions={saturation:{type:"number","default":0,uniformType:"f"}};Ww=/*#__PURE__*/function(_ne13){_inherits(Ww,_ne13);var _super75=_createSuper(Ww);function Ww(){var _this115;_classCallCheck(this,Ww);for(var _len31=arguments.length,t=new Array(_len31),_key31=0;_key31<_len31;_key31++){t[_key31]=arguments[_key31];}_this115=_super75.call.apply(_super75,[this].concat(t));_this115._filter=new u_();return _this115;}_createClass(Ww,[{key:"update",value:function update(){this._filter.setSaturation(this._options.saturation);}}]);return Ww;}(ne);Ww.prototype.availableOptions=u_.prototype.availableOptions;sr=Ww;});var F8;var E8=d(function(){F8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec4 overlayVec4 = vec4(u_color, texColor.a);\n  gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n}\n";});var d_,Gw,m_;var R8=d(function(){$();E8();Di();d_=/*#__PURE__*/function(_L$Filter19){_inherits(d_,_L$Filter19);var _super76=_createSuper(d_);function d_(){var _this116;_classCallCheck(this,d_);_this116=_super76.call(this);_this116._fragmentSource=F8;return _this116;}_createClass(d_,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);for(var c=0;c<n.width;c++){for(var u=0;u<n.height;u++){var m=(n.width*u+c)*4;l.data[m]=Math.max(this._options.color.r*255,l.data[m]);l.data[m+1]=Math.max(this._options.color.g*255,l.data[m+1]);l.data[m+2]=Math.max(this._options.color.b*255,l.data[m+2]);}}a.putImageData(l,0,0);}}]);return d_;}(L.Filter);d_.prototype.availableOptions={color:{type:"color","default":G.WHITE,uniformType:"3f"}};Gw=/*#__PURE__*/function(_ne14){_inherits(Gw,_ne14);var _super77=_createSuper(Gw);function Gw(){var _this117;_classCallCheck(this,Gw);for(var _len32=arguments.length,t=new Array(_len32),_key32=0;_key32<_len32;_key32++){t[_key32]=arguments[_key32];}_this117=_super77.call.apply(_super77,[this].concat(t));_this117._filter=new d_();return _this117;}_createClass(Gw,[{key:"update",value:function update(){this._filter.setColor(this._options.color);}}]);return Gw;}(ne);Gw.prototype.availableOptions=d_.prototype.availableOptions;m_=Gw;});var Vw,Ct;var O8=d(function(){$();Uw();Vw=/*#__PURE__*/function(_l_){_inherits(Vw,_l_);var _super78=_createSuper(Vw);function Vw(){var _this118;_classCallCheck(this,Vw);for(var _len33=arguments.length,t=new Array(_len33),_key33=0;_key33<_len33;_key33++){t[_key33]=arguments[_key33];}_this118=_super78.call.apply(_super78,[this].concat(t));if(!_this118._options.rgbControlPoints){_this118._options.rgbControlPoints={red:_this118._options.controlPoints,green:_this118._options.controlPoints,blue:_this118._options.controlPoints};}_this118._updateLookupTable();return _this118;}_createClass(Vw,[{key:"_updateLookupTable",value:function _updateLookupTable(){var t=this._calculateSplineCurve(this._options.rgbControlPoints.red);var e=this._calculateSplineCurve(this._options.rgbControlPoints.green);var r=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(t,e,r);}},{key:"_buildLookupTable",value:function _buildLookupTable(t,e,r){var o=[];for(var n=0;n<256;n++){o.push(Math.min(Math.max(n+t[n],0),255));o.push(Math.min(Math.max(n+e[n],0),255));o.push(Math.min(Math.max(n+r[n],0),255));o.push(255);}return o;}},{key:"_calculateSplineCurve",value:function _calculateSplineCurve(t){t=t.sort(function(s,a){return s[0]>a[0];});var e=this._getSplineCurve(t);var r=e[0];var o;if(r[0]>0){for(o=0;o<r[0];o++){e.unshift([0,0]);}}var n=[];for(o=0;o<e.length;o++){var s=e[o];var a=[s[0],s[0]];var l=Math.sqrt(Math.pow(a[0]-s[0],2)+Math.pow(a[1]-s[1],2));if(a[1]>s[1]){l=-l;}n.push(l);}return n;}},{key:"_getSplineCurve",value:function _getSplineCurve(t){var e=this._secondDerivative(t);var r=e.length;var o=[];var n;for(n=0;n<r;n++){o[n]=e[n];}var s=[];for(n=0;n<r-1;n++){var a=t[n];var l=t[n+1];for(var c=a[0];c<l[0];c++){var u=(c-a[0])/(l[0]-a[0]);var m=1-u;var p=u;var h=l[0]-a[0];var g=m*a[1]+p*l[1]+h*h/6*((m*m*m-m)*o[n]+(p*p*p-p)*o[n+1]);if(g>255){g=255;}else if(g<0){g=0;}s.push([c,g]);}}if(s.length===255){s.push(t[t.length-1]);}return s;}},{key:"_secondDerivative",value:function _secondDerivative(t){var e=t.length;if(e<=0||e===1){return null;}var r=[];var o=[];var n;var s;r[0]=[0,1,0];for(n=1;n<e-1;n++){var l=t[n-1];var c=t[n];var u=t[n+1];r[n]=r[n]||[];r[n][0]=(c[0]-l[0])/6;r[n][1]=(u[0]-l[0])/3;r[n][2]=(u[0]-c[0])/6;o[n]=(u[1]-c[1])/(u[0]-c[0])-(c[1]-l[1])/(c[0]-l[0]);}o[0]=0;o[e-1]=0;r[e-1]=[0,1,0];for(n=1;n<e;n++){s=r[1][0]/r[n-1][1];r[n][1]-=s*r[n-1][2];r[n][0]=0;o[n]-=s*o[n-1];}for(n=e-2;n>0;n--){s=r[n][2]/r[n+1][1];r[n][1]-=s*r[n+1][0];r[n][2]=0;o[n]-=s*o[n+1];}var a=[];for(n=0;n<e;n++){a[n]=o[n]/r[n][1];}return a;}}]);return Vw;}(l_);Vw.prototype.availableOptions={rgbControlPoints:{type:"object"},controlPoints:{type:"array","default":[]},textureGLUnit:{type:"number","default":1}};Ct=Vw;});var B8;var A8=d(function(){B8="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n  gray -= 0.2;\n  gray = clamp(gray, 0.0, 1.0);\n  gray += 0.15;\n  gray *= 1.4;\n  gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n}\n";});var P8,M8,p_;var L8=d(function(){$();A8();Di();P8=/*#__PURE__*/function(_L$Filter20){_inherits(P8,_L$Filter20);var _super79=_createSuper(P8);function P8(){var _this119;_classCallCheck(this,P8);_this119=_super79.call(this);_this119._fragmentSource=B8;return _this119;}_createClass(P8,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=s.getImageData(0,0,n.width,n.height);for(var c=0;c<n.width;c++){for(var u=0;u<n.height;u++){var m=(n.width*u+c)*4;var p=l.data[m]/255*.3+l.data[m+1]/255*.3+l.data[m+2]/255*.3;p-=.2;p=Math.max(0,Math.min(1,p));p+=.15;p*=1.4;p*=255;l.data[m]=p;l.data[m+1]=p;l.data[m+2]=p;}}a.putImageData(l,0,0);}}]);return P8;}(L.Filter);M8=/*#__PURE__*/function(_ne15){_inherits(M8,_ne15);var _super80=_createSuper(M8);function M8(){var _this120;_classCallCheck(this,M8);for(var _len34=arguments.length,t=new Array(_len34),_key34=0;_key34<_len34;_key34++){t[_key34]=arguments[_key34];}_this120=_super80.call.apply(_super80,[this].concat(t));_this120._filter=new P8();return _this120;}return M8;}(ne);p_=M8;});var U8;var z8=d(function(){U8="precision highp float;\n\nuniform sampler2D u_image;\n\nuniform sampler2D u_lookupTable;\n\nuniform float u_resolution;     // Texture-Resolution, must be power of 2: 64, 128, 256, 512, 1024, 2048, 4096\nuniform float u_horizontalTileCount; // Horizontal Blue Tiles\nuniform float u_verticalTileCount; // Vertical Blue Tiles\n\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.000001;\n\n// Try to get the exact pixel of the lut map image\nvec3 lutColor(int texPosX, int texPosY) {\n    return texture2D(u_lookupTable, (0.5 / u_resolution) + vec2(float(texPosX), float(texPosY)) / u_resolution).rgb;\n}\n\nvec3 bilinearInterpolate(vec3 cRfGf, vec3 cRfGc, vec3 cRcGf, vec3 cRcGc, float redFract, float greenFract) {\n    return mix(mix(cRfGf, cRcGf, redFract), mix(cRfGc, cRcGc, redFract), greenFract);\n}\n\nvoid main() {\n    vec4 inputColor = clamp(texture2D(u_image, v_texCoord.xy), 0.0, 1.0);\n\n    vec3 sourceColor = vec3(inputColor.rgb / max(inputColor.a, EPSILON)); \n\n    vec3 ranges = vec3(\n        floor(u_resolution / u_horizontalTileCount - 1.0),\n        floor(u_resolution / u_verticalTileCount - 1.0),\n        floor(u_horizontalTileCount * u_horizontalTileCount - 1.0)\n    );\n    \n    vec3 tmp = sourceColor * ranges;\n    ivec3 floors = ivec3(tmp);\n    ivec3 ceils = ivec3(ceil(tmp));\n    vec3 fracts = fract(tmp);\n\n    // Map tile index to tile pixel pos.\n    ivec2 pixelsPerTile = ivec2(\n        u_resolution / u_horizontalTileCount, \n        u_resolution / u_verticalTileCount\n      );\n\n    ivec2 tileFloor; // Blue tile index\n    tileFloor.y = floors.z / int(u_horizontalTileCount);\n    tileFloor.x = (floors.z - (tileFloor.y * int(u_horizontalTileCount)));\n\n    ivec2 tileCeil; // Blue tile index\n    tileCeil.y = ceils.z / int(u_horizontalTileCount);\n    tileCeil.x = (ceils.z - (tileCeil.y * int(u_horizontalTileCount)));\n    \n    tileFloor *= pixelsPerTile;\n    tileCeil *= pixelsPerTile; \n    \n    \n    // Interpolate between red and green\n    vec3 lutColorFB = bilinearInterpolate(\n        lutColor(tileFloor.x + floors.x, tileFloor.y + floors.y),\n        lutColor(tileFloor.x + floors.x, tileFloor.y + ceils.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + floors.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + ceils.y),\n        fracts.x, fracts.y\n    );\n    vec3 lutColorCB = bilinearInterpolate(\n        lutColor(tileCeil.x + floors.x, tileCeil.y + floors.y),\n        lutColor(tileCeil.x + floors.x, tileCeil.y + ceils.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + floors.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + ceils.y),\n        fracts.x, fracts.y\n    );\n\n    // Interpolate between the blue values\n    vec3 interpolation = mix(lutColorFB, lutColorCB, fracts.z);\n\n    // Round Color Values to prevent that for ex. 254.999999 is cutting to 254 instead of 255;\n    interpolation = clamp(floor(interpolation * 255. + .5) / 255., 0.0, 1.0);\n\n    gl_FragColor = vec4(interpolation.rgb * inputColor.a, inputColor.a);\n}\n";});var h_,N8,H8,jw,$w,f_;var W8=d(function(){$();z8();Di();h_=J.Vector2;N8=J.Vector3;H8=3;jw=/*#__PURE__*/function(_L$Filter21){_inherits(jw,_L$Filter21);var _super81=_createSuper(jw);function jw(){var _this121;_classCallCheck(this,jw);_this121=_super81.call(this);_this121._precomputeQuads();_this121._fragmentSource=U8;return _this121;}_createClass(jw,[{key:"_precomputeQuads",value:function _precomputeQuads(){this._quads=[];for(var t=0;t<256;t++){var e=t/255*63;var r=new h_();r.y=(e|0)*.125|0;r.x=(e|0)-r.y*8;this._quads.push(r);}}},{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var _this$_options7=this._options,n=_this$_options7.resolution,s=_this$_options7.horizontalTileCount,a=_this$_options7.verticalTileCount;var l=e.getCanvas();var c=e.getContext();var u=r.getContext();var m=this._options.lookupTableImage;var p=this._createImageCanvas(m);var h=p.getContext("2d");var g={width:128,height:128};if(n){g={width:n,height:n};}else if(m.width&&m.height){g={width:m.width,height:m.height};}var x=c.getImageData(0,0,l.width,l.height);var v=h.getImageData(0,0,g.width,g.height);var b=new N8(g.width/s-1|0,g.height/a-1|0,s*a-1|0);var T=new G();var k=new G();var E=new G();var A=new G();var I=new G();var F=new G();var Z=new G();var et=new G();var pt=new h_();var yt=new h_();var bt=function bt(St,fe,se,ee){St.r=fe.r*(1-ee)+se.r*ee;St.g=fe.g*(1-ee)+se.g*ee;St.b=fe.b*(1-ee)+se.b*ee;};var ht=function ht(St,fe,se){fe=.5+fe|0;se=.5+se|0;var ee=(se*g.width+fe)*4;St.r=v.data[ee]/255;St.g=v.data[ee+1]/255;St.b=v.data[ee+2]/255;St.a=v.data[ee+3]/255;};var Qt=new G();var gi=new G();var ii=function ii(St,fe,se,ee,Et,ae,ui){bt(Qt,fe,ee,ae);bt(gi,se,Et,ae);bt(St,Qt,gi,ui);};var Xr=new h_(g.width,g.height).divide(s,a).floor();for(var St=0;St<l.width*l.height*4;St+=4){T.set(x.data[St]/255,x.data[St+1]/255,x.data[St+2]/255,x.data[St+3]/255);var fe=new N8(T.r*b.x,T.g*b.y,T.b*b.z);var se=fe.clone().floor().toInt();var ee=fe.clone().ceil().toInt();var Et=fe.clone().fract();pt.y=se.z/s|0;pt.x=se.z-pt.y*s|0;yt.y=ee.z/s|0;yt.x=ee.z-yt.y*s|0;pt.multiply(Xr);yt.multiply(Xr);ht(I,pt.x+se.x,pt.y+se.y);ht(F,pt.x+se.x,pt.y+ee.y);ht(Z,pt.x+ee.x,pt.y+se.y);ht(et,pt.x+ee.x,pt.y+ee.y);ii(E,I,F,Z,et,Et.x,Et.y);ht(I,yt.x+se.x,yt.y+se.y);ht(F,yt.x+se.x,yt.y+ee.y);ht(Z,yt.x+ee.x,yt.y+se.y);ht(et,yt.x+ee.x,yt.y+ee.y);ii(A,I,F,Z,et,Et.x,Et.y);bt(k,E,A,Et.z);x.data[St]=Math.ceil(k.r*255);x.data[St+1]=Math.ceil(k.g*255);x.data[St+2]=Math.ceil(k.b*255);}u.putImageData(x,0,0);}},{key:"_createImageCanvas",value:function _createImageCanvas(t){var e=z.createCanvas();e.width=t.width;e.height=t.height;var r=e.getContext("2d");r.drawImage(t,0,0);return e;}}]);return jw;}(L.Filter);jw.prototype.availableOptions={lookupTable:{type:"number","default":H8,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null},resolution:{type:"number",uniformType:"f"},horizontalTileCount:{type:"number","default":5,uniformType:"f"},verticalTileCount:{type:"number","default":5,uniformType:"f"}};$w=/*#__PURE__*/function(_ne16){_inherits($w,_ne16);var _super82=_createSuper($w);function $w(){var _this122;_classCallCheck(this,$w);for(var _len35=arguments.length,t=new Array(_len35),_key35=0;_key35<_len35;_key35++){t[_key35]=arguments[_key35];}_this122=_super82.call.apply(_super82,[this].concat(t));_this122._filter=new jw();_this122._textures={};return _this122;}_createClass($w,[{key:"update",value:function update(t){var e=t.getRenderer();if(e.isOfType("webgl")){this._updateWebGLTexture(t);}else if(e.isOfType("canvas")){this._filter.setLookupTableImage(this._options.image);}var _this$_options8=this._options,r=_this$_options8.resolution,o=_this$_options8.verticalTileCount,n=_this$_options8.horizontalTileCount,s=_this$_options8.image;this._filter.set({resolution:r||s.width,verticalTileCount:o,horizontalTileCount:n});}},{key:"_updateWebGLTexture",value:function _updateWebGLTexture(t){var e=t.getRenderer();var r=e.id;if(!this._textures[r]){this._textures[r]=new L.BaseTexture();}var o=this._textures[r];o.setSource(this._options.image);o.setGLUnit(H8);o.setMinFilter(L.BaseTexture.NearestFilter);e.updateTexture(o);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf($w.prototype),"dispose",this).call(this);for(var t in this._textures){delete this._textures[t];}}}]);return $w;}(ne);$w.prototype.availableOptions={image:{type:"image"},resolution:{type:"number"},horizontalTileCount:{type:"number","default":5},verticalTileCount:{type:"number","default":5}};f_=$w;});var zt={};de(zt,{Brightness:function Brightness(){return fc;},ColorMatrixPrimitive:function ColorMatrixPrimitive(){return t_;},Contrast:function Contrast(){return nr;},Desaturation:function Desaturation(){return Fn;},DuoTone:function DuoTone(){return r_;},Gamma:function Gamma(){return n_;},Glow:function Glow(){return Nd;},Gobblin:function Gobblin(){return a_;},Grayscale:function Grayscale(){return Hd;},LookupTable:function LookupTable(){return l_;},LookupTableImage:function LookupTableImage(){return c_;},Saturation:function Saturation(){return sr;},SoftColorOverlay:function SoftColorOverlay(){return m_;},ThreeDLookupTableImage:function ThreeDLookupTableImage(){return f_;},ToneCurve:function ToneCurve(){return Ct;},X400:function X400(){return p_;}});var Wt=d(function(){Gz();$z();qz();Zz();e8();o8();a8();m8();b8();Uw();T8();D8();R8();O8();L8();W8();});var g_,b_;var Kw=d(function(){Ht();Wt();g_=/*#__PURE__*/function(_dt2){_inherits(g_,_dt2);var _super83=_createSuper(g_);function g_(){var _this123;_classCallCheck(this,g_);for(var _len36=arguments.length,t=new Array(_len36),_key36=0;_key36<_len36;_key36++){t[_key36]=arguments[_key36];}_this123=_super83.call.apply(_super83,[this].concat(t));_this123._stack.push(new fc({brightness:0}));return _this123;}_createClass(g_,[{key:"render",value:function render(t,e,r){if(this._stack.isEmpty()){this._stack.push(new fc({brightness:0}));}return _get(_getPrototypeOf(g_.prototype),"render",this).call(this,t,e,r);}}]);return g_;}(dt);g_.isIdentity=true;g_.identifier="identity";b_=g_;});var Xw,G8;var V8=d(function(){Ht();Wt();Xw=/*#__PURE__*/function(_dt3){_inherits(Xw,_dt3);var _super84=_createSuper(Xw);function Xw(){var _this124;_classCallCheck(this,Xw);for(var _len37=arguments.length,t=new Array(_len37),_key37=0;_key37<_len37;_key37++){t[_key37]=arguments[_key37];}_this124=_super84.call.apply(_super84,[this].concat(t));_this124._stack.push(new nr({contrast:.63}));_this124._stack.push(new fc({brightness:.12}));_this124._stack.push(new Ct({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}}));return _this124;}return Xw;}(dt);Xw.identifier="a15";G8=Xw;});var qw,j8;var $8=d(function(){Ht();Wt();qw=/*#__PURE__*/function(_dt4){_inherits(qw,_dt4);var _super85=_createSuper(qw);function qw(){var _this125;_classCallCheck(this,qw);for(var _len38=arguments.length,t=new Array(_len38),_key38=0;_key38<_len38;_key38++){t[_key38]=arguments[_key38];}_this125=_super85.call.apply(_super85,[this].concat(t));_this125._stack.push(new Fn({desaturation:.5}));_this125._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}}));return _this125;}return qw;}(dt);qw.identifier="breeze";j8=qw;});var Yw,K8;var X8=d(function(){Ht();Wt();Yw=/*#__PURE__*/function(_dt5){_inherits(Yw,_dt5);var _super86=_createSuper(Yw);function Yw(){var _this126;_classCallCheck(this,Yw);for(var _len39=arguments.length,t=new Array(_len39),_key39=0;_key39<_len39;_key39++){t[_key39]=arguments[_key39];}_this126=_super86.call.apply(_super86,[this].concat(t));_this126._stack.push(new Hd());return _this126;}return Yw;}(dt);Yw.identifier="bw";K8=Yw;});var Jw,q8;var Y8=d(function(){Ht();Wt();Jw=/*#__PURE__*/function(_dt6){_inherits(Jw,_dt6);var _super87=_createSuper(Jw);function Jw(){var _this127;_classCallCheck(this,Jw);for(var _len40=arguments.length,t=new Array(_len40),_key40=0;_key40<_len40;_key40++){t[_key40]=arguments[_key40];}_this127=_super87.call.apply(_super87,[this].concat(t));_this127._stack.push(new Hd());_this127._stack.push(new nr({contrast:1.5}));return _this127;}return Jw;}(dt);Jw.identifier="bwhard";q8=Jw;});var Zw,J8;var Z8=d(function(){Ht();Wt();Zw=/*#__PURE__*/function(_dt7){_inherits(Zw,_dt7);var _super88=_createSuper(Zw);function Zw(){var _this128;_classCallCheck(this,Zw);for(var _len41=arguments.length,t=new Array(_len41),_key41=0;_key41<_len41;_key41++){t[_key41]=arguments[_key41];}_this128=_super88.call.apply(_super88,[this].concat(t));_this128._stack.push(new Ct({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}}));return _this128;}return Zw;}(dt);Zw.identifier="celsius";J8=Zw;});var Qw,Q8;var t6=d(function(){Ht();Wt();Qw=/*#__PURE__*/function(_dt8){_inherits(Qw,_dt8);var _super89=_createSuper(Qw);function Qw(){var _this129;_classCallCheck(this,Qw);for(var _len42=arguments.length,t=new Array(_len42),_key42=0;_key42<_len42;_key42++){t[_key42]=arguments[_key42];}_this129=_super89.call.apply(_super89,[this].concat(t));_this129._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}}));return _this129;}return Qw;}(dt);Qw.identifier="chest";Q8=Qw;});var y_,e6;var i6=d(function(){$();Ht();Wt();y_=/*#__PURE__*/function(_dt9){_inherits(y_,_dt9);var _super90=_createSuper(y_);function y_(){var _this130;_classCallCheck(this,y_);for(var _len43=arguments.length,t=new Array(_len43),_key43=0;_key43<_len43;_key43++){t[_key43]=arguments[_key43];}_this130=_super90.call.apply(_super90,[this].concat(t,[{intensity:{type:"number","default":.5,required:true,setter:function setter(e){if(this._filterPrimitive){this._filterPrimitive.setIntensity(e);this._stack.setIntensity(1);}this._dirty=true;return e;}}}]));_this130._filterPrimitive=new r_({lightColor:_this130._options.lightColor||G.WHITE,darkColor:_this130._options.darkColor||G.BLACK,intensity:_this130._options.intensity||.5});_this130._stack.push(_this130._filterPrimitive);return _this130;}return y_;}(dt);y_.prototype.availableOptions={lightColor:{type:"color","default":G.WHITE,required:true,setter:function setter(i){if(this._filterPrimitive){this._filterPrimitive.setLightColor(i);}this.setDirty&&this.setDirty(true);return i;}},darkColor:{type:"color","default":G.BLACK,required:true,setter:function setter(i){if(this._filterPrimitive){this._filterPrimitive.setDarkColor(i);}this.setDirty&&this.setDirty(true);return i;}},intensity:{type:"number","default":.5,required:true}};y_.identifier="duotone";e6=y_;});var tT,r6;var o6=d(function(){Ht();Wt();tT=/*#__PURE__*/function(_dt10){_inherits(tT,_dt10);var _super91=_createSuper(tT);function tT(){var _this131;_classCallCheck(this,tT);for(var _len44=arguments.length,t=new Array(_len44),_key44=0;_key44<_len44;_key44++){t[_key44]=arguments[_key44];}_this131=_super91.call.apply(_super91,[this].concat(t));_this131._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}}));return _this131;}return tT;}(dt);tT.identifier="fixie";r6=tT;});var eT,n6;var s6=d(function(){Ht();Wt();eT=/*#__PURE__*/function(_dt11){_inherits(eT,_dt11);var _super92=_createSuper(eT);function eT(){var _this132;_classCallCheck(this,eT);for(var _len45=arguments.length,t=new Array(_len45),_key45=0;_key45<_len45;_key45++){t[_key45]=arguments[_key45];}_this132=_super92.call.apply(_super92,[this].concat(t));_this132._stack.push(new sr({saturation:1.35}));_this132._stack.push(new nr({contrast:1.1}));return _this132;}return eT;}(dt);eT.identifier="food";n6=eT;});var iT,a6;var l6=d(function(){Ht();Wt();iT=/*#__PURE__*/function(_dt12){_inherits(iT,_dt12);var _super93=_createSuper(iT);function iT(){var _this133;_classCallCheck(this,iT);for(var _len46=arguments.length,t=new Array(_len46),_key46=0;_key46<_len46;_key46++){t[_key46]=arguments[_key46];}_this133=_super93.call.apply(_super93,[this].concat(t));_this133._stack.push(new Ct({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}}));return _this133;}return iT;}(dt);iT.identifier="fridge";a6=iT;});var rT,c6;var u6=d(function(){Ht();Wt();rT=/*#__PURE__*/function(_dt13){_inherits(rT,_dt13);var _super94=_createSuper(rT);function rT(){var _this134;_classCallCheck(this,rT);for(var _len47=arguments.length,t=new Array(_len47),_key47=0;_key47<_len47;_key47++){t[_key47]=arguments[_key47];}_this134=_super94.call.apply(_super94,[this].concat(t));_this134._stack.push(new Ct({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}}));return _this134;}return rT;}(dt);rT.identifier="front";c6=rT;});var oT,d6;var m6=d(function(){Ht();Wt();oT=/*#__PURE__*/function(_dt14){_inherits(oT,_dt14);var _super95=_createSuper(oT);function oT(){var _this135;_classCallCheck(this,oT);for(var _len48=arguments.length,t=new Array(_len48),_key48=0;_key48<_len48;_key48++){t[_key48]=arguments[_key48];}_this135=_super95.call.apply(_super95,[this].concat(t));_this135._stack.push(new nr({contrast:1.1}));_this135._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}));return _this135;}return oT;}(dt);oT.identifier="glam";d6=oT;});var nT,p6;var h6=d(function(){Ht();Wt();nT=/*#__PURE__*/function(_dt15){_inherits(nT,_dt15);var _super96=_createSuper(nT);function nT(){var _this136;_classCallCheck(this,nT);for(var _len49=arguments.length,t=new Array(_len49),_key49=0;_key49<_len49;_key49++){t[_key49]=arguments[_key49];}_this136=_super96.call.apply(_super96,[this].concat(t));_this136._stack.push(new a_());return _this136;}return nT;}(dt);nT.identifier="gobblin";p6=nT;});var sT,f6;var g6=d(function(){Ht();Wt();sT=/*#__PURE__*/function(_dt16){_inherits(sT,_dt16);var _super97=_createSuper(sT);function sT(){var _this137;_classCallCheck(this,sT);for(var _len50=arguments.length,t=new Array(_len50),_key50=0;_key50<_len50;_key50++){t[_key50]=arguments[_key50];}_this137=_super97.call.apply(_super97,[this].concat(t));_this137._stack.push(new Ct({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]}));_this137._stack.push(new sr({saturation:.9}));return _this137;}return sT;}(dt);sT.identifier="k1";f6=sT;});var aT,b6;var y6=d(function(){$();Ht();Wt();aT=/*#__PURE__*/function(_dt17){_inherits(aT,_dt17);var _super98=_createSuper(aT);function aT(){var _this138;_classCallCheck(this,aT);for(var _len51=arguments.length,t=new Array(_len51),_key51=0;_key51<_len51;_key51++){t[_key51]=arguments[_key51];}_this138=_super98.call.apply(_super98,[this].concat(t));_this138._stack.push(new Ct({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]}));_this138._stack.push(new m_({color:new G(40/255,40/255,40/255)}));return _this138;}return aT;}(dt);aT.identifier="k2";b6=aT;});var lT,_6;var x6=d(function(){Ht();Wt();lT=/*#__PURE__*/function(_dt18){_inherits(lT,_dt18);var _super99=_createSuper(lT);function lT(){var _this139;_classCallCheck(this,lT);for(var _len52=arguments.length,t=new Array(_len52),_key52=0;_key52<_len52;_key52++){t[_key52]=arguments[_key52];}_this139=_super99.call.apply(_super99,[this].concat(t));_this139._stack.push(new sr({saturation:.5}));return _this139;}return lT;}(dt);lT.identifier="k6";_6=lT;});var cT,v6;var C6=d(function(){Ht();Wt();cT=/*#__PURE__*/function(_dt19){_inherits(cT,_dt19);var _super100=_createSuper(cT);function cT(){var _this140;_classCallCheck(this,cT);for(var _len53=arguments.length,t=new Array(_len53),_key53=0;_key53<_len53;_key53++){t[_key53]=arguments[_key53];}_this140=_super100.call.apply(_super100,[this].concat(t));_this140._stack.push(new Ct({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]}));_this140._stack.push(new sr({saturation:.7}));return _this140;}return cT;}(dt);cT.identifier="kdynamic";v6=cT;});var uT,S6;var w6=d(function(){Ht();Wt();uT=/*#__PURE__*/function(_dt20){_inherits(uT,_dt20);var _super101=_createSuper(uT);function uT(){var _this141;_classCallCheck(this,uT);for(var _len54=arguments.length,t=new Array(_len54),_key54=0;_key54<_len54;_key54++){t[_key54]=arguments[_key54];}_this141=_super101.call.apply(_super101,[this].concat(t));_this141._stack.push(new Fn({desaturation:.4}));_this141._stack.push(new Ct({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}}));return _this141;}return uT;}(dt);uT.identifier="lenin";S6=uT;});var dT,T6;var k6=d(function(){Ht();Wt();dT=/*#__PURE__*/function(_dt21){_inherits(dT,_dt21);var _super102=_createSuper(dT);function dT(){var _this142;_classCallCheck(this,dT);for(var _len55=arguments.length,t=new Array(_len55),_key55=0;_key55<_len55;_key55++){t[_key55]=arguments[_key55];}_this142=_super102.call.apply(_super102,[this].concat(t));_this142._stack.push(new Ct({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]}));return _this142;}return dT;}(dt);dT.identifier="lomo";T6=dT;});var mT,I6;var D6=d(function(){Ht();Wt();mT=/*#__PURE__*/function(_dt22){_inherits(mT,_dt22);var _super103=_createSuper(mT);function mT(){var _this143;_classCallCheck(this,mT);for(var _len56=arguments.length,t=new Array(_len56),_key56=0;_key56<_len56;_key56++){t[_key56]=arguments[_key56];}_this143=_super103.call.apply(_super103,[this].concat(t));_this143._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}}));return _this143;}return mT;}(dt);mT.identifier="mellow";I6=mT;});var sst,pT,E6;var F6=d(function(){$();Ht();Wt();sst=J.ColorMatrix;pT=/*#__PURE__*/function(_dt23){_inherits(pT,_dt23);var _super104=_createSuper(pT);function pT(){var _this144;_classCallCheck(this,pT);for(var _len57=arguments.length,t=new Array(_len57),_key57=0;_key57<_len57;_key57++){t[_key57]=arguments[_key57];}_this144=_super104.call.apply(_super104,[this].concat(t));var e=new sst(.8158218291630716,0,0,0,-.01779810181190647,0,.8098360655737704,0,0,.0916393442622953,0,0,.4596336773932402,0,.12760574782432707,0,0,0,1,0);_this144._stack.push(new t_({colorMatrix:e}));var r=new G(.8,.6,.9);_this144._stack.push(new n_({gamma:r}));return _this144;}return pT;}(dt);pT.identifier="metal";E6=pT;});var hT,R6;var O6=d(function(){Ht();Wt();hT=/*#__PURE__*/function(_dt24){_inherits(hT,_dt24);var _super105=_createSuper(hT);function hT(){var _this145;_classCallCheck(this,hT);for(var _len58=arguments.length,t=new Array(_len58),_key58=0;_key58<_len58;_key58++){t[_key58]=arguments[_key58];}_this145=_super105.call.apply(_super105,[this].concat(t));_this145._stack.push(new Ct({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}}));_this145._stack.push(new Nd());return _this145;}return hT;}(dt);hT.identifier="morning";R6=hT;});var fT,A6;var B6=d(function(){Ht();Wt();fT=/*#__PURE__*/function(_dt25){_inherits(fT,_dt25);var _super106=_createSuper(fT);function fT(){var _this146;_classCallCheck(this,fT);for(var _len59=arguments.length,t=new Array(_len59),_key59=0;_key59<_len59;_key59++){t[_key59]=arguments[_key59];}_this146=_super106.call.apply(_super106,[this].concat(t));_this146._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]},textureGLUnit:2}));_this146._stack.push(new Ct({controlPoints:[[0,0],[117,151],[189,217],[255,255]],textureGLUnit:3}));_this146._stack.push(new Fn({desaturation:.65}));return _this146;}return fT;}(dt);fT.identifier="orchid";A6=fT;});var gT,P6;var M6=d(function(){Ht();Wt();gT=/*#__PURE__*/function(_dt26){_inherits(gT,_dt26);var _super107=_createSuper(gT);function gT(){var _this147;_classCallCheck(this,gT);for(var _len60=arguments.length,t=new Array(_len60),_key60=0;_key60<_len60;_key60++){t[_key60]=arguments[_key60];}_this147=_super107.call.apply(_super107,[this].concat(t));_this147._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}));_this147._stack.push(new sr({saturation:.8}));_this147._stack.push(new nr({contrast:1.5}));return _this147;}return gT;}(dt);gT.identifier="pola";P6=gT;});var bT,L6;var z6=d(function(){Ht();Wt();bT=/*#__PURE__*/function(_dt27){_inherits(bT,_dt27);var _super108=_createSuper(bT);function bT(){var _this148;_classCallCheck(this,bT);for(var _len61=arguments.length,t=new Array(_len61),_key61=0;_key61<_len61;_key61++){t[_key61]=arguments[_key61];}_this148=_super108.call.apply(_super108,[this].concat(t));_this148._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}}));_this148._stack.push(new sr({saturation:.8}));_this148._stack.push(new nr({contrast:1.5}));return _this148;}return bT;}(dt);bT.identifier="pola669";L6=bT;});var yT,U6;var N6=d(function(){Ht();Wt();yT=/*#__PURE__*/function(_dt28){_inherits(yT,_dt28);var _super109=_createSuper(yT);function yT(){var _this149;_classCallCheck(this,yT);for(var _len62=arguments.length,t=new Array(_len62),_key62=0;_key62<_len62;_key62++){t[_key62]=arguments[_key62];}_this149=_super109.call.apply(_super109,[this].concat(t));_this149._stack.push(new Fn({desaturation:.65}));_this149._stack.push(new Ct({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}}));return _this149;}return yT;}(dt);yT.identifier="quozi";U6=yT;});var _T,H6;var W6=d(function(){Ht();Wt();_T=/*#__PURE__*/function(_dt29){_inherits(_T,_dt29);var _super110=_createSuper(_T);function _T(){var _this150;_classCallCheck(this,_T);for(var _len63=arguments.length,t=new Array(_len63),_key63=0;_key63<_len63;_key63++){t[_key63]=arguments[_key63];}_this150=_super110.call.apply(_super110,[this].concat(t));_this150._stack.push(new Ct({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}}));_this150._stack.push(new Nd());return _this150;}return _T;}(dt);_T.identifier="semired";H6=_T;});var xT,G6;var V6=d(function(){Ht();Wt();xT=/*#__PURE__*/function(_dt30){_inherits(xT,_dt30);var _super111=_createSuper(xT);function xT(){var _this151;_classCallCheck(this,xT);for(var _len64=arguments.length,t=new Array(_len64),_key64=0;_key64<_len64;_key64++){t[_key64]=arguments[_key64];}_this151=_super111.call.apply(_super111,[this].concat(t));_this151._stack.push(new Ct({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]},textureGLUnit:2}));_this151._stack.push(new Ct({controlPoints:[[0,0],[55,20],[158,191],[255,255]],textureGLUnit:3}));return _this151;}return xT;}(dt);xT.identifier="sunny";G6=xT;});var vT,j6;var $6=d(function(){Ht();Wt();vT=/*#__PURE__*/function(_dt31){_inherits(vT,_dt31);var _super112=_createSuper(vT);function vT(){var _this152;_classCallCheck(this,vT);for(var _len65=arguments.length,t=new Array(_len65),_key65=0;_key65<_len65;_key65++){t[_key65]=arguments[_key65];}_this152=_super112.call.apply(_super112,[this].concat(t));_this152._stack.push(new Ct({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}}));return _this152;}return vT;}(dt);vT.identifier="texas";j6=vT;});var CT,K6;var X6=d(function(){Ht();Wt();CT=/*#__PURE__*/function(_dt32){_inherits(CT,_dt32);var _super113=_createSuper(CT);function CT(){var _this153;_classCallCheck(this,CT);for(var _len66=arguments.length,t=new Array(_len66),_key66=0;_key66<_len66;_key66++){t[_key66]=arguments[_key66];}_this153=_super113.call.apply(_super113,[this].concat(t));_this153._stack.push(new p_());return _this153;}return CT;}(dt);CT.identifier="x400";K6=CT;});var __,q6;var Y6=d(function(){$();Ht();Wt();__=/*#__PURE__*/function(_dt33){_inherits(__,_dt33);var _super114=_createSuper(__);function __(){var _this154;_classCallCheck(this,__);for(var _len67=arguments.length,t=new Array(_len67),_key67=0;_key67<_len67;_key67++){t[_key67]=arguments[_key67];}_this154=_super114.call.apply(_super114,[this].concat(t));_this154._lutPrimitive=new c_({image:_this154._options.image});_this154._stack.push(_this154._lutPrimitive);return _this154;}return __;}(dt);__.prototype.availableOptions={image:{type:"image",required:true,setter:function setter(i){if(this._lutPrimitive){this._lutPrimitive.setImage(i);}this.setDirty(true);return i;}}};__.identifier="lut";q6=__;});var x_,J6;var Z6=d(function(){$();Ht();Wt();x_=/*#__PURE__*/function(_dt34){_inherits(x_,_dt34);var _super115=_createSuper(x_);function x_(){var _this155;_classCallCheck(this,x_);for(var _len68=arguments.length,t=new Array(_len68),_key68=0;_key68<_len68;_key68++){t[_key68]=arguments[_key68];}_this155=_super115.call.apply(_super115,[this].concat(t));var _this155$_options=_this155._options,e=_this155$_options.image,r=_this155$_options.resolution,o=_this155$_options.verticalTileCount,n=_this155$_options.horizontalTileCount;_this155._lutPrimitive=new f_({image:e,resolution:r,verticalTileCount:o,horizontalTileCount:n});_this155._stack.push(_this155._lutPrimitive);return _this155;}return x_;}(dt);x_.prototype.availableOptions={image:{type:"image",required:true,setter:function setter(i){if(this._lutPrimitive){this._lutPrimitive.setImage(i);}this.setDirty(true);return i;}},resolution:{type:"number"},horizontalTileCount:{type:"number","default":5},verticalTileCount:{type:"number","default":5}};x_.identifier="3d-lut";J6=x_;});var ST={};de(ST,{A15Filter:function A15Filter(){return G8;},BWFilter:function BWFilter(){return K8;},BWHardFilter:function BWHardFilter(){return q8;},BreezeFilter:function BreezeFilter(){return j8;},CelsiusFilter:function CelsiusFilter(){return J8;},ChestFilter:function ChestFilter(){return Q8;},DuoToneFilter:function DuoToneFilter(){return e6;},FixieFilter:function FixieFilter(){return r6;},FoodFilter:function FoodFilter(){return n6;},FridgeFilter:function FridgeFilter(){return a6;},FrontFilter:function FrontFilter(){return c6;},GlamFilter:function GlamFilter(){return d6;},GobblinFilter:function GobblinFilter(){return p6;},IdentityFilter:function IdentityFilter(){return b_;},K1Filter:function K1Filter(){return f6;},K2Filter:function K2Filter(){return b6;},K6Filter:function K6Filter(){return _6;},KDynamicFilter:function KDynamicFilter(){return v6;},LUTFilter:function LUTFilter(){return q6;},LeninFilter:function LeninFilter(){return S6;},LomoFilter:function LomoFilter(){return T6;},MellowFilter:function MellowFilter(){return I6;},MetalFilter:function MetalFilter(){return E6;},MorningFilter:function MorningFilter(){return R6;},OrchidFilter:function OrchidFilter(){return A6;},Pola669Filter:function Pola669Filter(){return L6;},PolaFilter:function PolaFilter(){return P6;},QuoziFilter:function QuoziFilter(){return U6;},SemiredFilter:function SemiredFilter(){return H6;},SunnyFilter:function SunnyFilter(){return G6;},TexasFilter:function TexasFilter(){return j6;},ThreeDLUTFilter:function ThreeDLUTFilter(){return J6;},X400Filter:function X400Filter(){return K6;}});var Q6=d(function(){Kw();V8();$8();X8();Y8();Z8();t6();i6();o6();s6();l6();u6();m6();h6();g6();y6();x6();C6();w6();k6();D6();F6();O6();B6();M6();z6();N6();W6();V6();$6();X6();Y6();Z6();});var el,t9;var e9=d(function(){$();Q6();Ht();Kw();Wt();el=/*#__PURE__*/function(_Lt4){_inherits(el,_Lt4);var _super116=_createSuper(el);function el(){_classCallCheck(this,el);return _super116.apply(this,arguments);}_createClass(el,[{key:"_render",value:function _render(t){return this._selectedFilter.render(this._sdk,t,this._renderTexture);}},{key:"render",value:function render(t){if(this._selectedFilter.getDirty()){this.setDirty(true);}if(!this.getEnabled()){this.setDirtyForRenderer(false,this._sdk.getRenderer());return Promise.resolve(t);}return _get(_getPrototypeOf(el.prototype),"render",this).call(this,t);}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){_get(_getPrototypeOf(el.prototype),"setDirtyForRenderer",this).call(this,t,e);this._selectedFilter.setDirtyForRenderer(t,e);}},{key:"disposeRenderTextures",value:function disposeRenderTextures(){_get(_getPrototypeOf(el.prototype),"disposeRenderTextures",this).call(this);if(this._selectedFilter){this._selectedFilter.disposeRenderTextures();}}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(el.prototype),"dispose",this).call(this);if(this._selectedFilter){this._selectedFilter.dispose();}}},{key:"restoreSnapshot",value:function restoreSnapshot(t){var e=_objectSpread({},t);delete e.filter;if(t.filter){var r=t.filter.constructor;if(r.identifier==="3d-lut"){this.setFilter(new r({image:t.filter.getImage(),resolution:t.filter.getResolution(),horizontalTileCount:t.filter.getHorizontalTileCount(),verticalTileCount:t.filter.getVerticalTileCount()}));}else if(r.identifier==="duotone"){this.setFilter(new r({lightColor:t.filter.getLightColor(),darkColor:t.filter.getDarkColor(),intensity:t.filter.getIntensity()}));}else{this.setFilter(new r());}}this.set(e);}},{key:"resetToDefaultFilterIntensity",value:function resetToDefaultFilterIntensity(){var t=this._selectedFilter&&this._selectedFilter.availableOptions;var e=t&&t.intensity["default"];this.setIntensity(e||1);}}]);return el;}(Lt);el.identifier="filter";el.prototype.availableOptions={identifier:{type:"string","default":"identity"},intensity:{type:"number","default":1,setter:function setter(i){this._selectedFilter&&this._selectedFilter.setIntensity(i);return i;}},filter:{type:"object","default":new b_(),setter:function setter(i){if(this._selectedFilter){this._selectedFilter.dispose();this._selectedFilter=null;}this._selectedFilter=i;if(typeof this._options.intensity!=="undefined"){this._selectedFilter.set({intensity:this._options.intensity});}return i;}}};el.FilterPrimitives=zt;el.Filters=ST;el.Filter=dt;ft.Operations.FilterOperation=el;t9=el;});var yPt,Sh,i9;var r9=d(function(){$();yPt=J.Vector2;Sh=/*#__PURE__*/function(_Lt5){_inherits(Sh,_Lt5);var _super117=_createSuper(Sh);function Sh(){var _this156;_classCallCheck(this,Sh);for(var _len69=arguments.length,t=new Array(_len69),_key69=0;_key69<_len69;_key69++){t[_key69]=arguments[_key69];}_this156=_super117.call.apply(_super117,[this].concat(t));_this156._flipContainer=new L.Container();return _this156;}_createClass(Sh,[{key:"_render",value:function _render(t){var _this$_options9=this._options,e=_this$_options9.outputResolution,r=_this$_options9.flipHorizontally,o=_this$_options9.flipVertically;if(r||o){var n=t.getDimensions();if(!this._flipRenderTexture){this._flipRenderTexture=new L.RenderTexture(this._sdk.getRenderer(),n.x,n.y);this._flipSprite=new L.Sprite(this._flipRenderTexture);this._flipContainer.addChild(this._flipSprite);}else{this._flipRenderTexture.resizeTo(n);}var s=r?-1:1;var a=o?-1:1;this._flipSprite.setScale(s,a);this._flipSprite.setPivot(0,0);this._flipSprite.setPosition(n.x*(1-s)*.5,n.y*(1-a)*.5);this._flipRenderTexture.clear();this._flipRenderTexture.render(this._container);this._renderTexture.render(this._flipContainer);}else{this._renderTexture.render(this._container);}return Promise.resolve();}}]);return Sh;}(Lt);Sh.identifier="flip";Sh.prototype.availableOptions={flipHorizontally:{type:"boolean","default":false},flipVertically:{type:"boolean","default":false}};ft.Operations.FlipOperation=Sh;i9=Sh;});var Wd,Gd,o9;var n9=d(function(){$();Wd=J.Vector2;Gd=/*#__PURE__*/function(_Lt6){_inherits(Gd,_Lt6);var _super118=_createSuper(Gd);function Gd(){var _this157;_classCallCheck(this,Gd);for(var _len70=arguments.length,t=new Array(_len70),_key70=0;_key70<_len70;_key70++){t[_key70]=arguments[_key70];}_this157=_super118.call.apply(_super118,[this].concat(t));_this157._colorOverlayFilter=new L.Filters.ColorOverlayFilter({color:_this157.getTintColor()});_this157._frameContainer=new L.Container();_this157._resetSprites();if(_this157._options.frame){_this157._createSpritesForFrame(_this157._options.frame);}return _this157;}_createClass(Gd,[{key:"_resetSprites",value:function _resetSprites(){this._spriteGroups={top:{},left:{},right:{},bottom:{}};this._sprites=[];this._repeatSprites={top:[],left:[],right:[],bottom:[]};}},{key:"_createSpritesForFrame",value:function _createSpritesForFrame(t){var _this158=this;if(!t)return this._disposeSprites();var e=t.imageGroups,r=t.layoutMode;this._layoutMode=r||"horizontal-inside";this._disposeSprites();["top","left","right","bottom"].forEach(function(o){if(typeof e[o]==="undefined")return;["start","mid","end"].forEach(function(n){if(typeof e[o][n]==="undefined")return;var s=e[o][n];if("image"in s){s=s.image;}var a=L.Texture.fromImage(s);var l=new L.Sprite(a);_this158._spriteGroups[o][n]=l;_this158._sprites.push(l);_this158._frameContainer.addChild(l);});});}},{key:"_render",value:function _render(t){var e=this._renderTexture.getDimensions();if(this._options.frame){this._colorOverlayFilter.setColor(this.getTintColor());this._updateSprites(t);}if(!this._frameRenderTexture){this._frameRenderTexture=new L.RenderTexture(this._sdk.getRenderer(),e.x,e.y);this._frameSprite=new L.Sprite(this._frameRenderTexture);this._container.addChild(this._frameSprite);}else{this._frameRenderTexture.resizeTo(e);}this._frameSprite.setAlpha(this._options.alpha);if(this._options.frame&&this._options.frame.tintable){this._frameSprite.setFilters([this._colorOverlayFilter]);}else{this._frameSprite.setFilters([]);}this._frameRenderTexture.clear();this._frameRenderTexture.render(this._frameContainer);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_updateSprites",value:function _updateSprites(t){var e=t.getDimensions();this._frameWidth=Math.ceil(t.getDimensions().min()*this._options.scale);this._updateHorizontalSpriteGroup(t,"top",0);this._updateHorizontalSpriteGroup(t,"bottom",e.y-this._frameWidth);this._updateVerticalSpriteGroup(t,"left",0);this._updateVerticalSpriteGroup(t,"right",e.x-this._frameWidth);}},{key:"_updateHorizontalSpriteGroup",value:function _updateHorizontalSpriteGroup(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=t.getDimensions();var n=this._layoutMode==="vertical-inside";var s=this._spriteGroups[e].start;var a=this._spriteGroups[e].mid;var l=this._spriteGroups[e].end;var c=0;var u=0;var m;var p;if(s){m=s.getTexture().getDimensions();p=m.y/m.x;c=Math.floor(this._frameWidth/p);var h=new Wd(0,r);h.x=n?this._frameWidth:0;s.setPosition(h);s.setHeight(this._frameWidth);s.setWidth(c);}if(l){m=l.getTexture().getDimensions();p=m.y/m.x;u=Math.floor(this._frameWidth*p);var _h7=new Wd(o.x-u,r);_h7.x-=n?this._frameWidth:0;l.setPosition(_h7);l.setHeight(this._frameWidth);l.setWidth(u);}if(a){m=a.getTexture().getDimensions();p=m.y/m.x;var _h8=new Wd(c,r);var g=o.x-c-u;if(n){_h8.x+=this._frameWidth;g-=this._frameWidth*2;}a.setPosition(_h8);a.setWidth(g);a.setHeight(this._frameWidth);if(false){a._canvasSmoothingEnabled=false;}if(this._options.frame.imageGroups[e].mid.mode==="repeat"){var x=this._frameWidth/p;var v=Math.ceil(g/x);var b=0;if(v!==-1){var T=Math.round(g/v);a.setWidth(T);b+=T;this._ensureRepeatSpritesExist(v-1,e,a);for(var k=0;k<v-1;k++){T=Math.round((g-b)/(v-k-1));var E=this._repeatSprites[e][k];var A=_h8.clone().add(b,0).floor();E.setPosition(A);E.setWidth(T);E.setHeight(this._frameWidth);b+=T;}}}}}},{key:"_ensureRepeatSpritesExist",value:function _ensureRepeatSpritesExist(t,e,r){var _this159=this;r.getTexture().setMaxListeners(t+1);var o=this._repeatSprites[e].length;if(t>o){var n=t-o;for(var s=0;s<n;s++){var a=new L.Sprite(r.getTexture());this._repeatSprites[e].push(a);this._frameContainer.addChild(a);this._sprites.push(a);}}else if(t<o){var _n5=this._repeatSprites[e].splice(t);_n5.forEach(function(s){var a=_this159._sprites.indexOf(s);if(a===-1)return;_this159._sprites.splice(a,1);_this159._frameContainer.removeChild(s);s.dispose();});}}},{key:"_updateVerticalSpriteGroup",value:function _updateVerticalSpriteGroup(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=t.getDimensions();var n=this._layoutMode==="horizontal-inside";var s=this._spriteGroups[e].start;var a=this._spriteGroups[e].mid;var l=this._spriteGroups[e].end;var c=0;var u=0;var m;var p;if(s){m=s.getTexture().getDimensions();p=m.y/m.x;c=Math.floor(this._frameWidth*p);var h=new Wd(r,0);h.y=n?this._frameWidth:0;s.setPosition(h);s.setWidth(this._frameWidth);s.setHeight(c);}if(l){m=l.getTexture().getDimensions();p=m.y/m.x;u=Math.floor(this._frameWidth*p);var _h9=new Wd(r,o.y-u);_h9.y-=n?this._frameWidth:0;l.setPosition(_h9);l.setWidth(this._frameWidth);l.setHeight(u);}if(a){m=a.getTexture().getDimensions();p=m.y/m.x;var _h10=new Wd(r,c);var g=o.y-c-u;if(n){_h10.y+=this._frameWidth;g-=this._frameWidth*2;}a.setPosition(_h10);a.setHeight(g);a.setWidth(this._frameWidth);if(false){a._canvasSmoothingEnabled=false;}if(this._options.frame.imageGroups[e].mid.mode==="repeat"){var x=this._frameWidth*p;var v=Math.ceil(g/x);var b=0;if(v!==-1){var T=Math.round(g/v);a.setHeight(T);b+=T;this._ensureRepeatSpritesExist(v-1,e,a);for(var k=0;k<v-1;k++){T=Math.round((g-b)/(v-k-1));var E=this._repeatSprites[e][k];var A=_h10.clone().add(0,b).floor();E.setPosition(A);E.setHeight(T);E.setWidth(this._frameWidth);b+=T;}}}}}},{key:"_disposeSprites",value:function _disposeSprites(){var _this160=this;this._sprites.forEach(function(t){_this160._frameContainer.removeChild(t);t.getTexture().dispose();t.dispose();});this._resetSprites();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Gd.prototype),"dispose",this).call(this);this._disposeSprites();if(this._colorOverlayFilter)this._colorOverlayFilter.dispose();if(this._frameRenderTexture)this._frameRenderTexture.dispose();}}],[{key:"validateFrame",value:function validateFrame(t){if(!t)return;var e=t.imageGroups,r=t.layoutMode;if(typeof t.identifier!=="string"){throw new Error("Frame needs a property `identifier` of type String.");}if(_typeof(t.imageGroups)!=="object"){throw new Error("Frame needs a property `imageGroups` of type Object.");}var o=function o(n){var _e$n=e[n],s=_e$n.start,a=_e$n.end,l=_e$n.mid;if(typeof e[n]==="undefined")return;if(_typeof(e[n])!=="object"){throw new Error("Frame: `imageGroups.".concat(n,"` needs to be of type Object."));}if(typeof s!=="undefined"&&!(s instanceof Xi||typeof HTMLImageElement!=="undefined"&&s instanceof HTMLImageElement)){throw new Error("Frame: `imageGroups.".concat(n,".start` needs to be of type Image."));}if(typeof l!=="undefined"&&!(s instanceof Xi||typeof HTMLImageElement!=="undefined"&&s instanceof HTMLImageElement)&&_typeof(l)!=="object"){throw new Error("Frame: `imageGroups.".concat(n,".mid` needs to be of type Image or Object."));}if(typeof a!=="undefined"&&!(a instanceof Xi||typeof HTMLImageElement!=="undefined"&&a instanceof HTMLImageElement)){throw new Error("Frame: `imageGroups.".concat(n,".end` needs to be of type Image."));}};if(typeof r!=="undefined"&&["vertical-inside","horizontal-inside"].indexOf(r)===-1){throw new Error("Frame: `layoutMode` must be one of vertical-inside, horizontal-inside");}if(typeof tintable!=="undefined"&&typeof tintable!=="boolean"){throw new Error("Frame: `tintable` needs to be of type Boolean.");}o("top");o("left");o("right");o("bottom");}}]);return Gd;}(Lt);Gd.identifier="frame";Gd.prototype.availableOptions={frame:{type:"object",validation:Gd.validateFrame,setter:function setter(i,t){if(!t){this._createSpritesForFrame(i);}return i;},"default":null},alpha:{type:"number","default":1},tintColor:{type:"color","default":new G(1,1,1,0)},scale:{type:"number","default":.1}};ft.Operations.FrameOperation=Gd;o9=Gd;});var s9;var a9=d(function(){s9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAsTElEQVR4Ae1d4bHjOM5ECAgBISgEZLDOwMrAysDMwMpAzkCTAUNQCAyBIfCr2ifI1DNh+c1tfTMg3b9udtZXC7tJdgMgCP8foJAUBIJx92eoEy5puAKkHH1jX0AchqoJcLwGlv1fDVAnyKtfQMoB1WLQKBBCyuCgVvQhvQGoF3RPb2Bs/AsgEDS6BqbGvwACaHsT+AV1AK/4W18AQy3gCxTAR2vAQxW4xHSD3/kC/qlI9NK7hqg6H8SLspiPv4C+kv0v6ouZQuUEEMfndUtcOQH6qJ9nR2sg1kD+FSdQ4GLS4MA82B+uZvJJRQXkFwT8uRp2VQl99xuGiOyTX4//+AuYqtj/BBGPiVITATjtEel4pdRFAJ/2uP08K9KBYXwPaT5OC9Vlg/kneQ0cUwHcQvz6F7BAXVuA/3GNsG8ofqBQmw3uUg7dCglcZQSgJHizvO1qy4OM3wPCH64BV1fnR8QfdkqAcWD86Q86KP9+o/EjGMfwrhVSpPPUWvy9YoMbsEIqAVrSgXBSCFC3FdK/sV+txc/Kv93OEpgrawiYfybsSWkIaMcK3SurB1P8Ufyk2OB2rNCoEKCV+BW2tGOFXG2N0RiUkkgZUfmumrFCfW0EgNOPKlxB6YtvQAcqRrix+BfFBjdjhVgnQL3xk+cyWwYQVG6FLjOs6PTjotaSCF5T8iUXJLSo3gqxT4kLPig6BKheB1/+/dvzEwGi/KParSDN+arAtMFTA/Gz3+8KTiF/tVZoaxx034zwwlAPvsc/7cifx+8U8tdqhfqwXxVihOMAgnp1sJA/lzu9Tv4KrRD7fFVki2VE+IuB3anvT0z/Y/x9KBRKexPkJ+77njv835YA3kvuaPm79z+6zDGtiP5Mv1sSObMv7gr8l5MfkMclCZaJf9sK0TUWd4U58N8b/NWnb5jo9+KPShM4EvzN4DGmPcL5p1ZIgVghhr8VNBZjuP4P8Rsr/fReGW72UyukIKDJeRYz/rQkoiAYHWkSTz+2QgrOVq657bG8xYAlHWBEQzcdf+OH43SAcPp7o3/N3un34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQV8iu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6P3wT5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvJT0y5+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1Wp5DfxAqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD5ZIL8gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mhfyaTOQKZl7e9RWg1ggnVO4D/TJ+q5UV8mstLX0Fjz/E1wW/Uo/EoGb9gu1O5vhWgTzqBGAwAER9C3RKj4SqlIO5sacEpPNfJ38OBstHAIdJlwD/vDXk3wNYPQLwFmHO/6wE9rKwPWilv2DkcRNWy9esng45olr9PhuYbQ+JtQ3Qq4VdTSo6S+FvZ5pXNSC/1+NL2ZdkpuNXDjTI42f9BNPj90ohMRh42UyYqhRuemUJ6GJ3MLMC5ECDlAaFAPG9MnEoN9IFMvCymaxUhQCjniXL0ZeXiTPR8Qqi449nNnL5ik8oCqURDb1l7RQCeM0kRX2jGIKBxP8lJgHk8XdpB1eO32F8ofV49H6+oKWXfVIkpRkCi0sgcP/qpOhn7ye2sfmlBLmKobK8FbB0RATbo037qCazx9dL4L4WtXtrCS/dzcLuN4yvbcy4bmzRMgHQv0hmDOoSEB044pMaYMvsh10I/nUqE4fCRjFazfaWWNwdXF7tu8JGgXbHdwkBgvK3DgowvQFq15WGstWLeFw0DaYn14DEf/zwn1ozNoZRKWm8//Bfb3i0JZYJIPHHN24BX5NxDfjqzdrhjQkGFCxvgaFIgHRTVsd01DR5tj7OX0D7M0CXeLiYrvneiwSQ0h0fzoK4Ku0AhhBfpbTno1kQtNh+7HZQCOA1hRToVUnU2Z/jK2BtpsFVSaLZ1ECsEECPP02kNgQGsj/NXxBUkxDOek+UA2NAjQABdZPkXX/qR68PSrG8BjYM+t+G+XLq+zEqrDGFRSFAcppE0jGBRWAqI6JmE3WQ9Unu8BS/SwewpADZB3p/eNdNqXtbHXOHt3Q9ssHwvJ6X9CYCWah7BDq+AK1YoUO4v7/j5Xpgg+FZB1Os4/cXyRo6RQWqVnCs4fdnr031jBoBJH6u4vfvo+bks5KPL2d9vPXfP/frE2rFkCWmBCVR36djeAQ7Qx4HbXKRi0VVg0s6RBysdLwspKjA6FKCoqrrjZ9+eE97XBUn5IdyXMcMCJ2dmn8gpSDIIUH5dz2F4zlxpobcXpU1AF6p/45mh9yyks0tqMChT6DUfynYnHCqXuCasOiEmLXUxhBNDrnFosWJXdEG/wIPapf/EEwOeew0AbdQcQ08VQb4cFh6OMNfC3XC97lUDInAcNfiB3IFCsSRrOV5BYEKTsg/uV5/MC7cn420O+mH4JAnPlCLv/BcQvQXNFbvVhiQrQFwL9YK3UPKEUa2NOFBYQDv7JF7md1EdrMPIYRlujDaerNSV+5Z0AwYXia4u370SwghzGNPxjL9Snsb7u4vY1B0sFW4N6a8nnK+99YrvDr/leaeZdf3zjXEj1d+a9bt9fsa8HJwmn6+mafCAa8L4fu++uHtlzgvMS1lHagwIORrgBUrZAXkc/EejvP3w/7A72zHL2p9KEhh9SS857ZHt0I2Nr+9cuHjCk73Le0xWo4faM7Fi8SnY8anNaBbIRObn3bFWU8JbfFGoEL8wRT/47a2VSnsn05CzoTwgRUyUvSKqPW9h+fhlz4JYJAzwaYO7PPgOk0KB/d9H8QkiGDXCtFccHmFzMY+umu+QmASX2AvfmVqcYnRw/CNAVnEnS0rpBe9WOV/950BfRJALAoHYZOxtJcqhSP2307CMd/ubVohWf7H/Hffyts3SgJYI/UmdeC91KWqMLqLiiz4VSSTN8j/k6YDI+KeLXNGgKHUCBjPNtNeuhRm9SnIWBSOHu2lfXX+T2qNBNJUEA4zGU376lLY6z0O3TOZ4mCc/4Uit1MIEOX/TG93MPTEmS6FWWOAeL7BzstmgkGb51AocisMgE3uDAr5jZX/dSmMGgN+fSuReDJ3zUsw61ZQYUA2KNIL+U3Bvy+FtUeR445Mgc3zX81suCIBpJDEOvkrkcLajLDu8YE41ML/U0kf9CUCxE04LDr565DCYh2VxC/FEcEWKCqxKEVujs8E2HIeevD1SOHiPvgL7H4Dig9Si9xdeCZADzoqk8JlBkQQVMN/vchL4YkAE+ioTAorDOgq4n8ijRsLFBgAevW3Vil8XP21rwOVMAsMAL32V6UUVh74a4v/uRkG/U3LOqWwMCPqN32sTz0LKjduz6MOQc/7ViqFV3RRz/tWy//0/DAC6KhZCstJeFz3qq0kJhiVza8RKSwMsL//6SUxhf8Cp2x+DUhhAS0D1IGT4mtf9vs6ZfNrRQofo9KSmIrWpDA0wf/3+30blMI6Ki6JKfxvUwq/j6q6IxW0I4W7tvgfj940b0wK+w5qRFAHeTtlvGGbUjgw6KjUB0VlvF2DUjg6bJD/vbL5tSeFp5r5T/pkOK9sfo1JYc/N8l/Z/JqSwvHcMP/vyubXkBRmhHpx3B3JoKANHdgAlO5IDQ1JYQUf/rcmhQUf/rcqhVsAxWb5r0hhT9AU3NGzNm1J4cAN8l/J+zYohaOD9tD/DZvfnyUe/3n+I8Ifg//jmx/58Oel8B/N+/Z/cu/hP7z54e2Pdx5STOEEfwzs/2zn3f3PHv7zX9B5ODj80zJs+pPzY/nPZ2Ju0CrEifEn/laBsc0cHLYXv/IN9E3m4Pp43WViTtAY8Ba3aWON5aBlbvuMz/ETNIJrfFxG4awdA7GJ6LNHqfL4Ox8RWgCG3ZNU960d4xKnlkpwgTIrSHhrxw/E7DaK6KD5a2PklhLQoXsUJZfYkB9Y8iepxAr5NmryMq81PMSvU14eqBf37QsI9O2emkeoFnilx0Ocp7AdgxhaqUjy7WF9fP9gADexAK4xzY8dcKAHA06///KAwSc7ZQ/E/nEO+tpvIsmUJd52QL/NXcKv+MOp+txHSml57IH/iBgaVkZ4qt/6+G0HjCgMWAi4bvLnfn/Y9sARoM+e5lu4kfhlB2S4xM0O9tRKE27ETQUC3pMwAIdm4pcdcPZJMEETkNKnJMBvMQn+qTrvG1OcSF7rcPtGvFC/9cOrT2m5kGTAut3LJUvlhz/N35+gpWz06Ii01H74c5CDLit94sP29YFrJn9MgnMW/yC2r3p0Pr90MmzZzlCr7dMf645Z/Czjh6ov+n67f71I6fMuJ38D5J8uX0d+v/I+rDtggMohNic697Xgs9LnIJaoWuD2sJ4YgCmLP3z54KpB4FehIwWvTqzQ15dT+eE/SLCS650yK3iv/hoe+Yji+0T2sjBhAqxXAIjyjbj6PiHAmFnhE9du/f4N8+H7vPwP6YJ1VP3hL/HTVgeQ+CO1cfh3m+85i+hZrdDYgvL14vtWLzjRGn/1RV8vJn/1PYPPHtzoK099bQl+3l++li9gEPdfd+pLCL8kwfbizFz34S+hFudwTQSC6lNfJymBtTSD4ZYEAfP4fWil4yskgcvvX8dx/Yula2XulNuXAF1sYgOA8fvYPfF9dK99A5D4w2nO4xcrTN5zI1f9PIv4391+7MOI9ccfHK6kn9+4/VkhJYaFt6CPbz8i16J888O9EP8vRS8PUAl4waf+t+Xw9ieHiJUo3/Acv89aoEnRyxGrSX255/dIhk0HRYdKwuxWS9F3F3+/i39hvVTsqkl9RVL6/4DTiHrCrKsj7RUH0OLHF59yWE3qy3dPfkiWd/fiU1xH3nfCkh90x58yD17KGR6pg+gJsypsYU5jhAx3PX4RhvHfT3FXw0VXh/IFvDf6xT0WAF7R8JAT9+hz9f4p/tAdTQbqvOXZGLj7nS9xeIpx1oLbbMIlJmdV+fot/q9N/Vv8+gEvNgFvpnXgJQ6yBZwK8/5C8nx0TYa9yEeTh/9Z6n1TfJr3h8W0FxLhI/5oeEjc+ovLiJv5WfTwAOVvQGSyIJ6sKt8t/jcFbf81lvUs8RuWwXSXXzyvf+BhxiSk9HVNhvRP2VK+nBf7jz8ldyS6/FNosugr7L2r87aVT8k1GfmUtS+A/I6582O0Q3c7/pQwYFTkowWcQj5imzJPc+GDTwmmVT4tIiYMYc74fpL4py9ZwMfk37eLiZiwBIyZ9esyT8OKpxHJkGOQazIiJuyAokg39om3+C9Rv+zRxfV37/u7XBTL5WNAm/Nt8RrD5mlo1j2NNMdF11+CXJRaFPloJf5/A172I45id5j56cQ5B7ONUlLs4vBlfk+Zp5mV/f9pKNgAbPCRenfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK88OKdURvy4Bb+uxIuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs2QjE60giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOloBkfkwhT10PUv8BD8BBL9/KtoEwbicF4GIsfKV5fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYC3zozWvbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgvhhge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSsxu/fo/7JfjRJDz0KSWULJB5DBLIYfzrybeElDxYjl8J7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxtwtxfk3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaCBw98KPvjggw8++OCDDz744IMPPvjggw8++OCDDz744IMP8NZD22APDeMaU9sEIN9w+4k81dAu8CpjdxqAPoqpVcgYcmyY/A01oOlz+Klh8rdLAJqTgNokv+AXtAH9AT5ul/zN3kAKSdDiDaQh5QjQHkLK0TfH/+YJsKQcAzSGLuWIrd6/EbRnhCntAO1hVAZWt4KYchBA2yqoPSMcWifAqXECzClHB82hS40ZYTzrGqiNPAjvosSUY2kh7xsIHnAt2WCpe11VFRQaKPru3W7fFAGk7hVIUUGxhaJvyq/dc8rhWql7hbOigmonvyB0xUSAa6bulW5YVEFYPfkFcg4244Kk7iUIVFJBVD/5BQs9H4FTE0VfwbWggromyJ+fg0vK4Nso+u6kUFe/ERbyP+EmR2DlBOh8KiMwANXvgygkBYFgbMEGu6ThCqAQoI0vIA6DToAm1sBCoYWGAPLqF9CIDR40CoTQhhHuQ3oDUC/ont7A2PgXQCBodA1MjX8BBND2JvCrmrwHvvsFVGqD+aJUw17DV5P3vcHvfAH/VCR66V1DVJ0P4kVZzMdfQF9R3tfrjlBHqMfxedUS106APurn2dEaiBUVPU6gwMWkwdVU9wov14iCCsgvCPhzNTxWJfTdbxgiqqjo637uCKeqir4RD4hSGQE47RHpYKVURwBfKHf+cA10NdzyEMwHaaHqbDD/JK+BYyqAW4hf/wIWqGsL8D+uEfYtxK9/AaGqez5ihXS4yghA6RuGHzYKhLou++pWSF0Drq7Oj4g/7JQA48D40x900P/9FuNHMI7hXSukSOeptfh73QY3YIV0ArSiA+GkEKBuK6R/Y79ai5/1f7uRJTBX1hAw/0zYk94Q0IgVuldWD6b4o/hJt8GNWKFRJ0AT8etsacQKudoaozHoJZECov5dtWGF+toIAKcfVbiC3hDQhg7UjXAb8S+6DW7DCrFCgKrjJ89ltgwgqNwKXWZlXK4QoNaSiEyL8SUXJLSo3gqxT4kLPig6BKhcB8u0mPMTAaL8o9qtIM35qsC0wVMD8bPf7wpOIX+1VmhrHHTfjPDCFc4AFkw5+XfxO4X8tVqhPuxXhRjhOICgXh0s5M/lTq+Qv04rxD5fFdliGRH+YmB36vsT0/8Yfx8KhdLeBPmJ+77nDv+3JYD3kjta/u79jy5zTCuiP9PvlkTO7Iu7Av/l5AfkcUmCZeLftkJ0jcVdYQ789wZ/9YXZZr8Vf1SawJHgbwaPsTje7n0rpEKsEMPfChqLMVz/h/iNlX56rww3+6kVUhDQ5DyLGX9aElEQjI40iacfWyEFZ1OzTTcs+LMX0RSMaGm87c9/OE4HCKe/fbK/hun34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQJ8uu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6I3xL5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvsXoSR+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1WZ4L8ygqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD4J+S0gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mjfyKTOQKZl7e9RWg1ggnVO4D/TJ+q5U18istLX0Fjz9EreCnP4E5qFm/YLuTOb5VII86ARgMAFHfAp3aI6Eo5WBu7CkB6fzXyZ+DwfIRwGHSJcA/bw359wBWjwC8RZjzP2uBvSpsD1rpLxh53ITV8jWrp0OOqFa/zwZm20NibQP0emFXkYrOUvjbmeZVDcjv9fhS9iWZ6fiVAw3y+Fk/wfT4vVJIDAZeNhOmKoWbXlsCqtgdzKwAOdAgpUEhQHyvTBzKjXSBDLxsJitVIcCoZ8ly9OVl4kx0vILo+OOZjVy+4hOKQmlEQ29ZO4UAXjNJUd8ohmAg8X+JSQB5/F3awZXjdxhfaD0evZ8vaOllnxRJaYbA4hII3L86KfrZ+4ltbH4pQa5iqCxvBSwdEcH2aNM+qsns8fUSuK9F7d5gwktxs7D7DeNrGzOuG1u0TAD0L5IZg7oERAeO+KQG2DL7YReCf53KxKGwUYxWs70lFncHl1f7rrBRoN3xXUKAoPytgwIMb4D6daWhbPUiHhdNg+nJNSDxHz/8p9aMjWFUShrvP/zXGx5tiWUCSPzxjVvA12RcA756tHh4Y4IBBctbYCgSIN2U1TEdNU2erY/zF9D+DNAlHi6ma773IgGkdMeHsyCuSjuAIcRXKe35aBYELbYfux0UAnhNIQV6VRJ19uf4ClibaXBVkmg2NRArBNDjTxOpDYGB7E/zFwTVJISz3hPlwBhQI0BA3SR515/60WuDUmyvgQ2D/rdhvpz6fowKa0xhUQiQnC6RNExgEZjKiKjbRA1kfZI7PMXv0gEsKUD2gd4f3nXT694mx9zhLV2PbDA8r+clvYlAFuoegY4vQCtW6BDu7+94uR7YYHjWwRTr+P1FsoZOVYGKFRxr+P3Za1M9o0YAiZ+r+P37qDj5vOTjy1kfb/33z/36hFoxZIkpQUnU9+kYHsHOkMdBm1zkYlHV4JIOEQcrHS8LKSowupSgqOp646cf3tMeV8UJ+aEc1zEDQmen5h9IKQhySFD+XU/heE6cqSG3V2UNgFfqv6PZIbesZHMLKnDoEyj1XwomJ5zqF7gmLDohZi21MUSTQ26xaHFiV7TBv8CD2uU/BJNDHjtNwC1UXANPlQE+HJYezvDXQp3wfS4VQyIw3LX4gVyBAnEka3leQaCCE/JPrtcfjAv3ZyPtTvohOOSJDyzErz2XEP0FbdW7FQbkawDci7VC95ByhJEtTXhQGMA7e+ReZjeR3exDCGGZLozW3qxUlHseNAOGlwnurh/9EkII89iTsUy/0t6Gu/vLGBQdbBXujSmvp5zvvfUKr85/pbln2fW9cw3x45XfmnV7/b4GvBycpp9v5qlwwOtC+L6vfnj7Jc5LTEtZByoMCPkaYMUKWQH5XLyH4/z9sD/wO9vxi1ofClJYPQnvue1RrJCZzW+vXPi4gtN9S3uMluMHmnPxIvHpmPFpDShWyMjmp15x1lNCW7wRqBB/MMX/uK1tVQr7p5OQMyF8YIWMFL0ian3v4Xn4pU8CGORMsKkD+zy4TpPCwX3fBzEJIti1QjQXXF4hs7GP7pqvEJjEFxiLX59aXGL0MHxjQBZxZ84KKUUvVvnffWdAnwQQi8JB2GQs7aVK4Yj9t5NwzLZ7o1ZIlv8x/9238vaNkgDWSL1JHXgvdakqjO6iIgt+FcnkDfL/pOnAiLhny5wRYCg1AsazzbSXLoVZfQoyFoWjR3tpX53/k1ojgTQVhMNMRtO+uhT2eo9D90ymOBjnf6HI7RQCRPk/09odTD1xpkth1hggnm+w87KZYNDmORSK3AoDYJM7g0J+Y+V/XQqjxoBf30oknsxd8xLMuhVUGJANivRCflPw70th7VHkuCNTYPP8VzMbrkgAKSSxQv56pLA2I6x7fCAOtfD/VNIHfYkAcRMOi0L+aqSwWEcl8UtxRLAFikosSpGb4zMBtpyHEnxVUri4D/4C5Ruw7IOUIncXngnQg4L6pHCZAREENfFfKfJSeCLABDoqk8IKA7qK+J9I48YCBQaAXv2tVQofV3/t60AlzAIDQK/9VSuF9Qf+GuF/boZBf9OyTikszIjaTR/7U8+Cyo3b86hD0PO+lUrhFV1U8r418z89P4wAOqqVwnISHte9KiyJCUZl82tECgsD7O9/eklM4b/AKZtfA1JYQMsAdeCk+NqX/b5O2fxakcIHqLckpqI1KQxN8P/9ft/mpLCOqktiCv/blMLvo6ruSAXtSOGuLf7HozfNG5PCvoMaEdRB3k4Zb9imFA4MCur1QVEZb9egFI4OG+R/r2x+7UnhqWb+kz4ZziubX2NS2HOz/Fc2v6akcDw3zP+7svk1JIUZoWocdEcyKGhABzYAvTtSQ0NSWMGH/61J4Q//Bc1J4YZAsU3+61LYEzQFd/SsTVtSOHCD/Ffyvg1K4eigPfTK5tcQuG3++9Y2P+Ur8Nwy/6ODhkExhRM0i7tsfu1icNgy/2eGD+zDMhAaByI0DPIB2kbfsgbDmxSiWwV7aURoErNy/aSxXNwErYKU6yetpeP5E3/bW4BvL+724le+gb7JQmwfr7ty3Kk99Ru7PBcdsDXlm2Z8jp+gBci77UNejnINpQSu2cukefydb8QPYNi9S3rfenIvcWqpDytQZgUJb+34gZhdSRYdNH9tjNxSF0LoHp1pS2zIDyz5u6RihXwbjZkytD88xK/Tn5+qFPftCwj0bViBR6gWeKXHa+ynsB2DGFppS+Pbw/r4/sEAbmIBXGOaHzvgQA8GnH7/+SmD77bLHoj94xz0tV9Hl1GbvO2Afhu+iV/xh1P1uY+U0vLYA/8RMTSsjPBUv/Xx2w4YURiwEHDd5M/9/rDtgSNAn73PvHAj8csOyHCJmx3sqZX204ibCgS8J2EADs3ELzvg7JNgaqv0KQnwW0yCf6rO+8YUJ5In29z+Nkao3/rh1ae0XEgyYN3u+bql8sOfZtnlJH7K5s+PSEvthz8HOeiy0ic+bF8fuGbyxyQ4Z/EP1ds+Qefzm8fDlu0MVds+QR/SAzGLn2UGZQstjxscwCKlz7uc/A2Qf7p8Hfn9yvuw7oABKofYnOjc14LPSp+DWKJqgdvrymIApiz+8OWDqwaBX4WOFLw6sUJfX07lh/8gwUqud8qs4L3668jkI4rvE9nLwoQJsF4BIMo3ovi+lQBjZoVPXLv1+zfMh+/z8j+kC9ZR9Ye/xE9bHUDij9TG4d9tvucsome1QmMLyteL71u94ERr/NUXfb2Y/NX3DD57da2vPPW1Jfh5P4FHvoChbvcvqS8h/JI2yLODc92Hv4RaHMY6EQiqT32dpATW0iCuWxIEzOP3oZWOr5AELh/CE8f1L5auleGjbl8CdLGJDQDG77OXxffRvfYNQOIPpzmPX6wwec+NXPXzLOJ/d/uxDyPWH39wuJJ+fuP2Z4WUGBbegj6+/Yhci/LND/dC/L8UvTxAJeAFn/rflsPbnxwiVqJ8w3P8PmuBJkUvR6wm9eWeH6UbNh0UHSoJs1stRd9d/P0u/oX1UrGrJvUVSen/A04j6gmzro60VxxAix9ffMphNakv3z35IVne3YtPcR153wlLftAdf8o8eClneKQOoifMqrCFOY0RMtz1+EUYxn8/xV0NF10dyhfw3ugX91gAeEXDQ07co8/V+6f4Q3c0Gajzlmdj4O53vsThKcZZC26zCZeYnFXl67f4vzb1b/HrB7zYBLyZ1oGXOMgWcCrM+wvJ89E1GfYiH00e/mep903xad4fFtNeSISP+KMoJbsTHmXEzfwseniA8jcgMlkQT1aV7xb/m4K2/5rNf5b4Dctgussvntc/8DBjElL6uiZD+qdsKV/Oi/3Hn5I7El3+KTRZ9BX23oXK9Oan5JqMfMraF0B+x9z5Mdqhux1/ShgwavLRAE4hf2eFMk9z4YNPCaZVPi0iJgxhzvh+kvinL1nAx+Tft4uJmLAEjJn16zJPw+JpFMmQY5BrMvbGRVMU6cY+8Rb/JeqXPbq4/u59f5eLYrl8DGhzvi1eY9g8Dc26p5HmuOj6S5CLUosmH43E/2/Ay37EUewOMz+dOOdgtlFKil0cvszvKfM0s7L/Pw0FG3L56DuwAXfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK29PKtURvy4Bb+vFSuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs+QjE40giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOl4BkfiwhT10PUv8BD8BBL9/KtoEwbicF4GIpfL15fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYCvzozevbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgrhlge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSMx2/co/7JfjRJDz0KSWULJB5DIeBSPzrybeElDyYjV8P7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxNwtxfm3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaC5w/+DDz744IMPPvjggw8++OCDDz744IMPDABvPbQN9tAwrjG1TQDyDdceZU53u8CrzFxoAPocjlYhM2ixXfK31H2gD2GmhsnfLgFoTgJqk/yCX9AMlNeXuF3yN9t+HpKgxfbzIeUI0B5CytE3x//mCbCkHAM0hi7liK02XwvaM8KUdoD2MCrTSltBTDkIoG0V1J4RDq0T4NQ4AeaUo4Pm0KXGjDCeFQ3UTB6Ed1FiyrG0kPcNBA+4lmyw1L2uqgoKLRR9d263b4oAUvcKpKig2ELRN+V3LjnlcK3UvcJZUUG1k18QumIiwDVT90o3LKogrJ78AjkHm3FBUvcSBCqpIKqf/IKFno/AqYmir+BaUEFdE+TPz8ElZfBtFH13Uqir3wgL+Z9wkyOwcgJ0PpURGID+qA/6P9HpZtdg1QgHAAAAAElFTkSuQmCC";});var c9;var l9=d(function(){c9="uniform sampler2D u_image;\nuniform sampler2D u_watermarkTex;\n\nvarying vec2 v_texCoord;\n\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 watermarkColor = texture2D(u_watermarkTex, v_texCoord);\n\n  if (watermarkColor.r > 0.8) {\n    gl_FragColor = mix(color, watermarkColor, 0.3);\n  } else {\n    gl_FragColor = color;\n  }\n}\n";});var v_;var u9=d(function(){$();l9();v_=/*#__PURE__*/function(_L$Filter22){_inherits(v_,_L$Filter22);var _super119=_createSuper(v_);function v_(){var _this161;_classCallCheck(this,v_);for(var _len71=arguments.length,t=new Array(_len71),_key71=0;_key71<_len71;_key71++){t[_key71]=arguments[_key71];}_this161=_super119.call.apply(_super119,[this].concat(t));_this161._fragmentSource=c9;return _this161;}_createClass(v_,[{key:"_applyWebGL",value:function _applyWebGL(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=t.getContext();var s=n.canvas;var a=this.getShaderForRenderer(t);var l=e.getFrame();var c=this._watermarkCanvas;if(!c||l.width!==c.width||l.height!==c.height){this._createWatermarkCanvas(l.width,l.height);}var u=L.Texture.fromCanvas(this._watermarkCanvas);var m=u.getBaseTexture();t.updateTexture(m);m.setGLUnit(1);t.setRenderTarget(r);if(o){r.clear();}t.setShader(a);var p=t.getCurrentRenderTarget().getProjectionMatrix().toArray();a.setUniform("u_projMatrix",p);a.syncUniforms();n.uniform1i(n.getUniformLocation(a.getProgram(),"u_watermarkTex"),1);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,e.getTexture());n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,m.getGLTextureForRenderer(t));n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0);u.dispose();}},{key:"_createWatermarkCanvas",value:function _createWatermarkCanvas(t,e){var r=this._options.watermarkImage;var o=z.createCanvas();o.width=t;o.height=e;var n=o.getContext("2d");var s=n.createPattern(r,"repeat");n.fillStyle=s;n.fillRect(0,0,o.width,o.height);this._watermarkCanvas=o;this._watermarkContext=n;}},{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var l=this._options.watermarkImage;this._createWatermarkCanvas(n.width,n.height);var c=s.getImageData(0,0,n.width,n.height);var u=this._watermarkContext.getImageData(0,0,n.width,n.height);var m=new G();var p=new G();var h=new G();for(var g=0;g<n.width*n.height*4;g+=4){m.set(c.data[g]/255,c.data[g+1]/255,c.data[g+2]/255,c.data[g+3]/255);p.set(u.data[g]/255,u.data[g+1]/255,u.data[g+2]/255,u.data[g+3]/255);if(p.r>.8){h.copy(m.clone().mix(p,.3));}else{h.copy(m);}c.data[g]=h.r*255;c.data[g+1]=h.g*255;c.data[g+2]=h.b*255;c.data[g+3]=h.a*255;}a.putImageData(c,0,0);}}]);return v_;}(L.Filter);v_.prototype.availableOptions={watermarkImage:{type:"object",required:true}};});var wh,d9;var m9=d(function(){$();a9();u9();wh=/*#__PURE__*/function(_Lt7){_inherits(wh,_Lt7);var _super120=_createSuper(wh);function wh(){var _this162;_classCallCheck(this,wh);for(var _len72=arguments.length,t=new Array(_len72),_key72=0;_key72<_len72;_key72++){t[_key72]=arguments[_key72];}_this162=_super120.call.apply(_super120,[this].concat(t));q(_assertThisInitialized(_this162),"_applyWatermarkFilter",function(){if(!_this162._watermarkFilter){_this162._watermarkFilter=new v_({watermarkImage:_this162._watermarkImage});}_this162._sprite.setFilters([_this162._watermarkFilter]);_this162._renderTexture.render(_this162._container);return Promise.resolve();});q(_assertThisInitialized(_this162),"_loadWatermarkImage",function(){if(!_this162._watermarkImage){return new Promise(function(t,e){_this162._watermarkImage=new Xi();_this162._watermarkImage.onload=t;_this162._watermarkImage.src=s9;});}return Promise.resolve();});_this162._watermarkFilter=null;_this162._watermarkImage=null;return _this162;}_createClass(wh,[{key:"_render",value:function _render(t){return this._loadWatermarkImage().then(this._applyWatermarkFilter);}},{key:"dispose",value:function dispose(){if(this._watermarkFilter){this._watermarkFilter.dispose();}_get(_getPrototypeOf(wh.prototype),"dispose",this).call(this);}}]);return wh;}(Lt);wh.identifier="license-watermark";wh.prototype.availableOptions={};ft.Operations.LicenseWatermarkOperation=wh;d9=wh;});var h9;var p9=d(function(){h9="/*!\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_controlPoint1;\nuniform vec2 u_controlPoint2;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 vector = u_controlPoint2 - u_controlPoint1;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    float radius = smoothstep(0.0, 1.0,\n      abs(\n        clamp(dot(v_texCoord - u_controlPoint1, vector) / dot(vector, vector), 0.0, 1.0)\n      )\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n      float percent = (t + offset - 0.5) / 30.0;\n      float weight = 1.0 - abs(percent);\n      vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n      color += _sample * weight;\n      total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var Ns,wT,C_;var f9=d(function(){$();zd();p9();Ns=J.Vector2;wT=/*#__PURE__*/function(_L$Filter23){_inherits(wT,_L$Filter23);var _super121=_createSuper(wT);function wT(){var _this163;_classCallCheck(this,wT);for(var _len73=arguments.length,t=new Array(_len73),_key73=0;_key73<_len73;_key73++){t[_key73]=arguments[_key73];}_this163=_super121.call.apply(_super121,[this].concat(t));_this163._fragmentSource=h9;_this163._lastBlurRadius=null;_this163._lastControlPoint1=new Ns();_this163._lastControlPoint2=new Ns();_this163._blurFilter=new or();_this163._blurredRenderTarget=new L.CanvasRenderTarget(100,100,1);_this163._maskRenderTarget=new L.CanvasRenderTarget(100,100,1);return _this163;}_createClass(wT,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var _this164=this;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this._options.blurQuality==="low"){this._renderLQBlur(t,e,r,o);return;}var n=e.getDimensions();var s=!r.getDimensions().equals(n);var a=e.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||s;if(a){var l=new Ns(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(l);var c={blurRadius:this._options.blurRadius,texSize:n};var u=function u(x,v,b){return Math.min(Math.max(x,v),b);};var m=function m(x,v,b){var T=u((b-x)/(v-x),0,1);return T*T*(3-2*T);};var p=this._options.controlPoint2.clone().subtract(this._options.controlPoint1.clone());var h=this._options.blurRadius;var g=function g(x,v){return m(0,1,Math.abs(u(new Ns(x,v).subtract(_this164._options.controlPoint1).dot(p)/p.dot(p),0,1)))*h;};this._blurFilter.set(c);this._blurFilter._applyCanvas(t,e,r,o,g);this._lastBlurRadius=this._options.blurRadius;}}},{key:"_renderLQBlur",value:function _renderLQBlur(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getDimensions();var s=!this._blurredRenderTarget.getDimensions().equals(n);this._blurredRenderTarget.setPixelRatio(e.getPixelRatio());this._blurredRenderTarget.resizeTo(e.getDimensions());this._maskRenderTarget.setPixelRatio(e.getPixelRatio());this._maskRenderTarget.resizeTo(e.getDimensions());var a=!this._lastControlPoint1.equals(this._options.controlPoint1)||!this._lastControlPoint2.equals(this._options.controlPoint2)||s;var l=e.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||s;if(a){this._renderMask();this._lastControlPoint1=this._options.controlPoint1.clone();this._lastControlPoint2=this._options.controlPoint2.clone();}if(l){this._blurImage(e,this._blurredRenderTarget,this._options.blurRadius);this._lastBlurRadius=this._options.blurRadius;}this._applyMask(e,r);}},{key:"_renderMask",value:function _renderMask(){var t=this._maskRenderTarget.getCanvas();var e=this._maskRenderTarget.getContext();var r=new Ns(t.width,t.height);var o=this._options.controlPoint1.clone().multiply(r);var n=this._options.controlPoint2.clone().multiply(r);var s=e.createLinearGradient(o.x,o.y,n.x,n.y);s.addColorStop(0,"#FFFFFF");s.addColorStop(1,"#000000");e.fillStyle=s;e.fillRect(0,0,t.width,t.height);}},{key:"_applyMask",value:function _applyMask(t,e){var r=e.getContext();var o=t.getCanvas();var n=t.getContext();var s=this._blurredRenderTarget.getContext();var a=this._maskRenderTarget.getContext();var l=n.getImageData(0,0,o.width,o.height);var c=l.data;var u=s.getImageData(0,0,o.width,o.height).data;var m=a.getImageData(0,0,o.width,o.height).data;var p;for(var h=0;h<o.width*o.height*4;h+=4){p=m[h]/255;c[h]=p*c[h]+(1-p)*u[h];c[h+1]=p*c[h+1]+(1-p)*u[h+1];c[h+2]=p*c[h+2]+(1-p)*u[h+2];}r.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(wT.prototype),"dispose",this).call(this);this._blurFilter.dispose();this._blurredRenderTarget.dispose();this._maskRenderTarget.dispose();}}]);return wT;}(L.Filter);wT.prototype.availableOptions={blurRadius:{type:"number","default":30,uniformType:"f"},controlPoint1:{type:"vector2","default":new Ns(0,.5),uniformType:"2f"},controlPoint2:{type:"vector2","default":new Ns(1,.5),uniformType:"2f"},delta:{type:"vector2","default":new Ns(1,1),uniformType:"2f"},texSize:{type:"vector2","default":new Ns(100,100),uniformType:"2f"}};C_=wT;});var S_,Th,g9;var b9=d(function(){$();f9();S_=J.Vector2;Th=/*#__PURE__*/function(_Lt8){_inherits(Th,_Lt8);var _super122=_createSuper(Th);function Th(){var _this165;_classCallCheck(this,Th);for(var _len74=arguments.length,t=new Array(_len74),_key74=0;_key74<_len74;_key74++){t[_key74]=arguments[_key74];}_this165=_super122.call.apply(_super122,[this].concat(t));_this165._lastBlurRadius=_this165._options.blurRadius;_this165._lastControlPoint1=_this165._options.controlPoint1.clone();_this165._lastControlPoint2=_this165._options.controlPoint2.clone();var e={blurQuality:{type:"string"}};_this165._horizontalFilter=new C_({},e);_this165._verticalFilter=new C_({},e);_this165._sprite.setFilters([_this165._horizontalFilter,_this165._verticalFilter]);_this165._horizontalFilter.setDelta(new S_(.5,.5));_this165._verticalFilter.setDelta(new S_(-.5,.5));_this165._filter=new C_({},e);return _this165;}_createClass(Th,[{key:"rotate",value:function rotate(t){var e=this._options.controlPoint1;var r=this._options.controlPoint2;if(t===90){e.flip();e.x=1-e.x;r.flip();r.x=1-r.x;}else if(t===-90){e.flip();e.y=1-e.y;r.flip();r.y=1-r.y;}this.set({controlPoint1:e,controlPoint2:r});}},{key:"flip",value:function flip(t){var e=this._options.controlPoint1;var r=this._options.controlPoint2;switch(t){case"horizontal":e.x=1-e.x;r.x=1-r.x;break;case"vertical":e.y=1-e.y;r.y=1-r.y;break;}this.set({controlPoint1:e,controlPoint2:r});}},{key:"transform",value:function transform(t){var _this166=this;var e={};["controlPoint1","controlPoint2"].forEach(function(r){var o=_this166.getOption(r);e[r]=t.applyToRelativePoint(o);});["blurRadius"].forEach(function(r){var o=_this166.getOption(r);e[r]=t.applyToRelativeSize(o);});this.set(e,false);}},{key:"_renderWebGL",value:function _renderWebGL(t){return this._renderBlur(t);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(this._options.highQualityCanvasBlur){return this._renderBlur(t);}return this._renderLQCanvasBlur(t);}},{key:"_renderBlur",value:function _renderBlur(t){var e=t.getDimensions();var r=e.min();var _this$_options10=this._options,o=_this$_options10.blurRadius,n=_this$_options10.controlPoint1,s=_this$_options10.controlPoint2;var a={blurRadius:o*r,controlPoint1:n.clone(),controlPoint2:s.clone(),texSize:e,blurQuality:"high"};this._horizontalFilter.set(a);this._verticalFilter.set(a);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(t){var e=t.getDimensions();var _this$_options11=this._options,r=_this$_options11.blurRadius,o=_this$_options11.controlPoint1,n=_this$_options11.controlPoint2;this._filter.set({blurRadius:r,controlPoint1:o.clone(),controlPoint2:n.clone(),texSize:e,blurQuality:"low"});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Th.prototype),"dispose",this).call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return true;}}]);return Th;}(Lt);Th.identifier="linear-focus";Th.prototype.availableOptions={controlPoint1:{type:"vector2","default":new S_(0,.5)},controlPoint2:{type:"vector2","default":new S_(1,.5)},blurRadius:{type:"number","default":.025},highQualityCanvasBlur:{type:"boolean","default":false}};ft.Operations.LinearFocusOperation=Th;g9=Th;});var _9;var y9=d(function(){_9="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform float u_gradientSize;\nuniform float u_size;\nuniform vec2 u_start;\nuniform vec2 u_end;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    vec2 normal = normalize(vec2(u_start.y - u_end.y, u_end.x - u_start.x));\n    float radius = smoothstep(0.0, 1.0,\n      (abs(\n        dot(v_texCoord * u_texSize - u_start, normal)\n      ) - u_size) / u_gradientSize\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n";});var Hs,TT,w_;var x9=d(function(){$();zd();y9();Hs=J.Vector2;TT=/*#__PURE__*/function(_L$Filter24){_inherits(TT,_L$Filter24);var _super123=_createSuper(TT);function TT(){var _this167;_classCallCheck(this,TT);for(var _len75=arguments.length,t=new Array(_len75),_key75=0;_key75<_len75;_key75++){t[_key75]=arguments[_key75];}_this167=_super123.call.apply(_super123,[this].concat(t));_this167._fragmentSource=_9;_this167._lastBlurRadius=null;_this167._lastGradientRadius=null;_this167._lastStart=new Hs();_this167._lastEnd=new Hs();_this167._blurFilter=new or();_this167._blurredRenderTarget=new L.CanvasRenderTarget(100,100,1);_this167._maskRenderTarget=new L.CanvasRenderTarget(100,100,1);return _this167;}_createClass(TT,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this._options.blurQuality==="low"){this._renderLQBlur(t,e,r,o);return;}var n=e.getDimensions();var s=!r.getDimensions().equals(n);var a=e.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||s;if(a){var l=new Hs(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(l);var c={blurRadius:this._options.blurRadius,texSize:n};var u=function u(E,A,I){return Math.min(Math.max(E,A),I);};var m=function m(E,A,I){var F=u((I-E)/(A-E),0,1);return F*F*(3-2*F);};var _this$_options12=this._options,p=_this$_options12.blurRadius,h=_this$_options12.gradientSize,g=_this$_options12.size,x=_this$_options12.start,v=_this$_options12.end,b=_this$_options12.texSize;var T=new Hs(x.y-v.y,v.x-x.x);T.divide(T.len());var k=function k(E,A){return m(0,1,(Math.abs(b.clone().multiply(E,A).subtract(x).dot(T))-g)/h)*p;};this._blurFilter.set(c);this._blurFilter._applyCanvas(t,e,r,o,k);this._lastBlurRadius=this._options.blurRadius;}}},{key:"_renderLQBlur",value:function _renderLQBlur(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getDimensions();var s=!this._blurredRenderTarget.getDimensions().equals(n);this._blurredRenderTarget.setPixelRatio(e.getPixelRatio());this._blurredRenderTarget.resizeTo(e.getDimensions());this._maskRenderTarget.setPixelRatio(e.getPixelRatio());this._maskRenderTarget.resizeTo(e.getDimensions());var a=!this._lastStart.equals(this._options.start)||!this._lastEnd.equals(this._options.end)||this._lastGradientRadius!==this._options.size||s;var l=e.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||s;if(a){this._renderMask();this._lastStart=this._options.start.clone();this._lastEnd=this._options.end.clone();this._lastGradientRadius=this._options.size;}if(l){this._blurImage(e,this._blurredRenderTarget,this._options.blurRadius);this._lastBlurRadius=this._options.blurRadius;}this._applyMask(e,r);}},{key:"_renderMask",value:function _renderMask(){var t=this._maskRenderTarget.getCanvas();var e=this._maskRenderTarget.getContext();var r=this._maskRenderTarget.getPixelRatio();var o=new Hs(t.width,t.height);var n=this._options.size*o.min()*r;var s=this._options.gradientSize*o.min()*r;var a=this._options.start.clone().multiply(o);var l=this._options.end.clone().multiply(o);var c=l.clone().subtract(a);var u=a.clone().add(c.clone().divide(2));var m=c.len();var p=c.clone().divide(m);var h=u.clone().add((n+s)*p.y,-(n+s)*p.x);var g=u.clone().add(-(n+s)*p.y,(n+s)*p.x);var x=e.createLinearGradient(h.x,h.y,g.x,g.y);var v=g.clone().subtract(h).len();x.addColorStop(0,"#000000");x.addColorStop(s/2/v,"#FFFFFF");x.addColorStop(1-s/2/v,"#FFFFFF");x.addColorStop(1,"#000000");e.fillStyle=x;e.fillRect(0,0,t.width,t.height);}},{key:"_applyMask",value:function _applyMask(t,e){var r=e.getContext();var o=t.getCanvas();var n=t.getContext();var s=this._blurredRenderTarget.getContext();var a=this._maskRenderTarget.getContext();var l=n.getImageData(0,0,o.width,o.height);var c=l.data;var u=s.getImageData(0,0,o.width,o.height).data;var m=a.getImageData(0,0,o.width,o.height).data;var p;for(var h=0;h<o.width*o.height*4;h+=4){p=m[h]/255;c[h]=p*c[h]+(1-p)*u[h];c[h+1]=p*c[h+1]+(1-p)*u[h+1];c[h+2]=p*c[h+2]+(1-p)*u[h+2];}r.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(TT.prototype),"dispose",this).call(this);this._blurFilter.dispose();}}]);return TT;}(L.Filter);TT.prototype.availableOptions={blurRadius:{type:"number","default":30,uniformType:"f"},size:{type:"number","default":50,uniformType:"f"},gradientSize:{type:"number","default":50,uniformType:"f"},start:{type:"vector2","default":new Hs(0,.5),uniformType:"2f"},end:{type:"vector2","default":new Hs(1,.5),uniformType:"2f"},delta:{type:"vector2","default":new Hs(1,1),uniformType:"2f"},texSize:{type:"vector2","default":new Hs(100,100),uniformType:"2f"}};w_=TT;});var T_,kh,v9;var C9=d(function(){$();x9();T_=J.Vector2;kh=/*#__PURE__*/function(_Lt9){_inherits(kh,_Lt9);var _super124=_createSuper(kh);function kh(){var _this168;_classCallCheck(this,kh);for(var _len76=arguments.length,t=new Array(_len76),_key76=0;_key76<_len76;_key76++){t[_key76]=arguments[_key76];}_this168=_super124.call.apply(_super124,[this].concat(t));_this168._lastBlurRadius=_this168._options.blurRadius;_this168._lastSize=_this168._options.size;_this168._lastGradientSize=_this168._options.gradientSize;var e={blurQuality:{type:"string"}};_this168._horizontalFilter=new w_({},e);_this168._verticalFilter=new w_({},e);_this168._sprite.setFilters([_this168._horizontalFilter,_this168._verticalFilter]);_this168._horizontalFilter.setDelta(new T_(.5,.5));_this168._verticalFilter.setDelta(new T_(-.5,.5));_this168._filter=new w_({},e);_this168._renderBlur.bind(_assertThisInitialized(_this168));return _this168;}_createClass(kh,[{key:"rotate",value:function rotate(t){var e=this._options.start;var r=this._options.end;if(t===90){e.flip();e.x=1-e.x;r.flip();r.x=1-r.x;}else if(t===-90){e.flip();e.y=1-e.y;r.flip();r.y=1-r.y;}this.set({start:e,end:r});}},{key:"flip",value:function flip(t){var e=this._options.start;var r=this._options.end;switch(t){case"horizontal":e.x=1-e.x;r.x=1-r.x;break;case"vertical":e.y=1-e.y;r.y=1-r.y;break;}this.set({start:e,end:r});}},{key:"transform",value:function transform(t){var _this169=this;var e={};["start","end"].forEach(function(r){var o=_this169.getOption(r);e[r]=t.applyToRelativePoint(o);});["blurRadius","size","gradientSize"].forEach(function(r){var o=_this169.getOption(r);e[r]=t.applyToRelativeSize(o);});this.set(e,false);}},{key:"_renderWebGL",value:function _renderWebGL(t){return this._renderBlur(t);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(this._options.highQualityCanvasBlur){return this._renderBlur(t);}return this._renderLQCanvasBlur(t);}},{key:"_renderBlur",value:function _renderBlur(t){var e=t.getDimensions();var r=e.min();var o=this._options.start.clone();var n=this._options.end.clone();var _this$_options13=this._options,s=_this$_options13.blurRadius,a=_this$_options13.size,l=_this$_options13.gradientSize;var c={blurRadius:s*r,size:a*r,gradientSize:l*r,start:o.clone().multiply(e),end:n.clone().multiply(e),texSize:e,blurQuality:"high"};this._horizontalFilter.set(c);this._verticalFilter.set(c);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(t){var e=t.getDimensions();var _this$_options14=this._options,r=_this$_options14.blurRadius,o=_this$_options14.size,n=_this$_options14.gradientSize,s=_this$_options14.start,a=_this$_options14.end;this._filter.set({blurRadius:r,gradientSize:n,size:o,start:s.clone(),end:a.clone(),texSize:e,blurQuality:"low"});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(kh.prototype),"dispose",this).call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return true;}}]);return kh;}(Lt);kh.identifier="mirrored-focus";kh.prototype.availableOptions={start:{type:"vector2","default":new T_(0,.5)},end:{type:"vector2","default":new T_(1,.5)},blurRadius:{type:"number","default":.025},size:{type:"number","default":.1},gradientSize:{type:"number","default":.1},highQualityCanvasBlur:{type:"boolean","default":false}};ft.Operations.MirroredFocusOperation=kh;v9=kh;});var ust,Ih,S9;var w9=d(function(){$();ust=J.Vector2;Ih=/*#__PURE__*/function(_Lt10){_inherits(Ih,_Lt10);var _super125=_createSuper(Ih);function Ih(){_classCallCheck(this,Ih);return _super125.apply(this,arguments);}_createClass(Ih,[{key:"_render",value:function _render(t){var e=this._options.rotation%360;var r=e*(Math.PI/180);var o=e===90||e===270;var n=this._options.flipHorizontally!==this._options.flipVertically;var s=o&&n?!this._options.flipVertically:this._options.flipVertically;var a=o&&n?!this._options.flipHorizontally:this._options.flipHorizontally;this._sprite.setScale(a?-1:1,s?-1:1);this._sprite.setRotation(r);this._sprite.setAnchor(.5,.5);this._sprite.updateTransform();var l=this._sprite.getBounds();this._renderTexture.resizeTo(new ust(l.width,l.height));this._sprite.setPosition(this._renderTexture.getDimensions().divide(2).round());this._renderTexture.render(this._container);return Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(t){t=t.clone();if(this._options.rotation%180){t.flip();}return t;}},{key:"flip",value:function flip(t){var e=this._options.rotation;if(e===90||e===270){if(t==="vertical"){t="horizontal";}else{t="vertical";}}switch(t){case"vertical":this.setFlipVertically(!this.getFlipVertically());break;case"horizontal":this.setFlipHorizontally(!this.getFlipHorizontally());break;}}}]);return Ih;}(Lt);Ih.identifier="orientation";Ih.prototype.availableOptions={rotation:{type:"number","default":0,validation:function validation(i){if(i%90!==0){throw new Error("OrientationOperation: `rotation` has to be a multiple of 90.");}},setter:function setter(i){return(i+360)%360;}},flipVertically:{type:"boolean","default":false},flipHorizontally:{type:"boolean","default":false}};ft.Operations.OrientationOperation=Ih;S9=Ih;});var k_,Dh,T9;var k9=d(function(){$();k_=J.Vector2;Dh=/*#__PURE__*/function(_Lt11){_inherits(Dh,_Lt11);var _super126=_createSuper(Dh);function Dh(){var _this170;_classCallCheck(this,Dh);for(var _len77=arguments.length,t=new Array(_len77),_key77=0;_key77<_len77;_key77++){t[_key77]=arguments[_key77];}_this170=_super126.call.apply(_super126,[this].concat(t));_this170._flipContainer=new L.Container();return _this170;}_createClass(Dh,[{key:"_render",value:function _render(t){var _this$_options15=this._options,e=_this$_options15.position,r=_this$_options15.rotation,o=_this$_options15.scale,n=_this$_options15.pivot,s=_this$_options15.outputResolution;var a=this._sdk.getTextureScale();var l=s.clone().multiply(a).ceil();this._renderTexture.resizeTo(l);this._sprite.setRotation(r);this._sprite.setPosition(e);this._sprite.setPivot(n);this._sprite.setScale(o);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"getNewDimensions",value:function getNewDimensions(t){var e=this._sdk.getTextureScale();return this._options.outputResolution.clone().multiply(e).ceil();}}]);return Dh;}(Lt);Dh.identifier="output";Dh.prototype.availableOptions={position:{type:"vector2","default":new k_(0,0)},rotation:{type:"number","default":0},scale:{type:"vector2","default":new k_(1,1)},pivot:{type:"vector2","default":new k_(0,0)},outputResolution:{type:"vector2","default":new k_(100,100)}};ft.Operations.OutputOperation=Dh;T9=Dh;});var I_,I9,dst,Vd,D9;var E9=d(function(){$();I_=L.Filters.OverlayFilter;I9=J.Vector2;dst=4;Vd=/*#__PURE__*/function(_Lt12){_inherits(Vd,_Lt12);var _super127=_createSuper(Vd);function Vd(){var _this171;_classCallCheck(this,Vd);for(var _len78=arguments.length,t=new Array(_len78),_key78=0;_key78<_len78;_key78++){t[_key78]=arguments[_key78];}_this171=_super127.call.apply(_super127,[this].concat(t));_this171._overlayTexture=L.Texture.fromImage(_this171._options.image);_this171._overlayContainer=new L.Container();_this171._overlaySprite=new L.Sprite();_this171._overlaySprite.setTexture(_this171._overlayTexture);_this171._overlaySprite.setAnchor(0,0);_this171._overlayContainer.addChild(_this171._overlaySprite);_this171._overlayFilter=new L.Filters.OverlayFilter({overlayImage:_this171._overlayTexture.getBaseTexture().getGLUnit(),overlayTexture:_this171._overlayTexture});_this171._sprite.setFilters([_this171._overlayFilter]);_this171._renderedOverlaySprite=new L.Sprite();_this171._renderedOverlayContainer=new L.Container();_this171._renderedOverlayContainer.addChild(_this171._renderedOverlaySprite);_this171._overlayRendered=false;_this171._lastInputDimensions=new I9(0,0);return _this171;}_createClass(Vd,[{key:"setOption",value:function setOption(t,e){_get(_getPrototypeOf(Vd.prototype),"setOption",this).call(this,t,e);if(t==="image"&&e&&this._sdk){var r=this._sdk.getRenderer();var o=this._overlayTexture.getBaseTexture();o.setSource(e);if(r.isOfType("webgl")){r.updateTexture(o);}this._overlayRendered=false;}}},{key:"_render",value:function _render(t){var e=t.getDimensions();var _this$_options16=this._options,r=_this$_options16.image,o=_this$_options16.alpha,n=_this$_options16.blendMode;if(!r){this._sprite.setFilters([]);this._renderTexture.render(this._container);return Promise.resolve();}if(!this._overlayRendered||!this._lastInputDimensions.equals(e)){this._renderOverlayToRenderTexture(t);this._overlayRendered=true;this._lastInputDimensions.copy(e);}this._overlayFilter.set({blendMode:n,overlayImage:this._overlayRenderTexture.getBaseTexture().getGLUnit(),overlayTexture:this._overlayRenderTexture,alpha:o});this._sprite.setFilters([this._overlayFilter]);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_renderOverlayToRenderTexture",value:function _renderOverlayToRenderTexture(t){var e=this._sdk.getRenderer();var r=t.getDimensions();if(!this._overlayRenderTexture){this._overlayRenderTexture=new L.RenderTexture(e,r.x,r.y);this._renderedOverlaySprite.setTexture(this._overlayRenderTexture);}var _this$_options$image=this._options.image,o=_this$_options$image.width,n=_this$_options$image.height;var s=z.resizeVectorToFill(new I9(o,n),r);var _this$_options17=this._options,a=_this$_options17.flipHorizontally,l=_this$_options17.flipVertically;var c=a?-1:1;var u=l?-1:1;this._overlaySprite.setWidth(s.x*c);this._overlaySprite.setHeight(s.y*u);this._overlaySprite.setPosition(r.x*(1-c)*.5,r.y*(1-u)*.5);var m=this._overlayRenderTexture.getBaseTexture();this._overlayRenderTexture.resizeTo(r);if(e.isOfType("webgl")){m.setGLUnit(dst);e.updateTexture(m,false);}this._overlayRenderTexture.render(this._overlayContainer);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Vd.prototype),"dispose",this).call(this);if(this._overlaySprite)this._overlaySprite.dispose();if(this._overlayRenderTexture)this._renderedOverlaySprite.dispose();if(this._overlayFilter)this._overlayFilter.dispose();if(this._overlayTexture)this._overlayTexture.dispose();if(this._overlayRenderTexture)this._overlayRenderTexture.dispose();if(this._renderedOverlaySprite)this._renderedOverlaySprite.dispose();}}]);return Vd;}(Lt);Vd.identifier="overlay";Vd.BLEND_MODES=I_.BLEND_MODES;Vd.prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},blendMode:{type:"number","default":I_.BLEND_MODES.MULTIPLY,available:Object.keys(I_.BLEND_MODES).map(function(i){return I_.BLEND_MODES[i];})},alpha:{type:"number","default":1},flipHorizontally:{type:"boolean","default":false},flipVertically:{type:"boolean","default":false}};ft.Operations.OverlayOperation=Vd;D9=Vd;});var R9;var F9=d(function(){R9="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_radius;\nuniform float u_blurRadius;\nuniform float u_gradientRadius;\nuniform vec2 u_position;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nconst float blurSteps = 30.0;\nconst float EPSILON = 0.000000001;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 coord = v_texCoord * u_texSize;\n    vec2 diff = coord - u_position;\n    float dist = sqrt(diff.x * diff.x + diff.y * diff.y);\n\n    float blurPercentage = smoothstep( \n      0.0, 1.0,\n      (abs(dist) - u_radius) / u_gradientRadius\n    );\n\n    float radius = blurPercentage * u_blurRadius;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    for (float t = -blurSteps; t <= blurSteps; t++) {\n        float percent = (t + offset - 0.5) / blurSteps;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / max(total, EPSILON);\n}\n";});var jd,kT,D_;var O9=d(function(){$();zd();F9();jd=J.Vector2;kT=/*#__PURE__*/function(_L$Filter25){_inherits(kT,_L$Filter25);var _super128=_createSuper(kT);function kT(){var _this172;_classCallCheck(this,kT);for(var _len79=arguments.length,t=new Array(_len79),_key79=0;_key79<_len79;_key79++){t[_key79]=arguments[_key79];}_this172=_super128.call.apply(_super128,[this].concat(t));_this172._fragmentSource=R9;_this172._lastBlurRadius=null;_this172._lastGradientRadius=null;_this172._lastPosition=new jd();_this172._blurFilter=new or();_this172._blurredRenderTarget=new L.CanvasRenderTarget(100,100,1);_this172._maskRenderTarget=new L.CanvasRenderTarget(100,100,1);return _this172;}_createClass(kT,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var _this173=this;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(this._options.blurQuality==="low"){this._renderLQBlur(t,e,r,o);return;}var n=e.getDimensions();var s=!r.getDimensions().equals(n);var _this$_options18=this._options,a=_this$_options18.blurRadius,l=_this$_options18.position,c=_this$_options18.texSize,u=_this$_options18.gradientRadius;var m=e.getBaseTexture().isDirty()||this._lastBlurRadius!==a||s;if(m){var p=new jd(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(p);var h={blurRadius:a,texSize:n};var g=function g(b,T,k){return Math.min(Math.max(b,T),k);};var x=function x(b,T,k){var E=g((k-b)/(T-b),0,1);return E*E*(3-2*E);};var v=function v(b,T){return x(0,1,(Math.abs(c.clone().multiply(b,T).subtract(l).len())-_this173._options.radius)/(u*2))*a;};this._blurFilter.set(h);this._blurFilter._applyCanvas(t,e,r,o,v);this._lastBlurRadius=a;}}},{key:"_renderLQBlur",value:function _renderLQBlur(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getDimensions();var s=!this._blurredRenderTarget.getDimensions().equals(n);this._blurredRenderTarget.setPixelRatio(e.getPixelRatio());this._blurredRenderTarget.resizeTo(e.getDimensions());this._maskRenderTarget.setPixelRatio(e.getPixelRatio());this._maskRenderTarget.resizeTo(e.getDimensions());var a=!this._lastPosition.equals(this._options.position)||this._lastGradientRadius!==this._options.gradientRadius||s;var l=e.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||s;if(a){this._renderMask();this._lastPosition=this._options.position.clone();this._lastGradientRadius=this._options.gradientRadius;}if(l){this._blurImage(e,this._blurredRenderTarget,this._options.blurRadius);this._lastBlurRadius=this._options.blurRadius;}this._applyMask(e,r);}},{key:"_renderMask",value:function _renderMask(){var t=this._maskRenderTarget.getCanvas();var e=this._maskRenderTarget.getContext();var r=new jd(t.width,t.height);var o=this._maskRenderTarget.getPixelRatio();var n=this._options.position.clone().multiply(r);var _this$_options19=this._options,s=_this$_options19.radius,a=_this$_options19.gradientRadius;s*=t.height;a*=t.height;var l=e.createRadialGradient(n.x,n.y,0,n.x,n.y,(s+a)*o);l.addColorStop(0,"#FFFFFF");l.addColorStop(s/(s+a),"#FFFFFF");l.addColorStop(1,"#000000");e.fillStyle=l;e.fillRect(0,0,r.x,r.y);}},{key:"_applyMask",value:function _applyMask(t,e){var r=e.getContext();var o=t.getCanvas();var n=t.getContext();var s=this._blurredRenderTarget.getContext();var a=this._maskRenderTarget.getContext();var l=n.getImageData(0,0,o.width,o.height);var c=l.data;var u=s.getImageData(0,0,o.width,o.height).data;var m=a.getImageData(0,0,o.width,o.height).data;var p;for(var h=0;h<o.width*o.height*4;h+=4){p=m[h]/255;c[h]=p*c[h]+(1-p)*u[h];c[h+1]=p*c[h+1]+(1-p)*u[h+1];c[h+2]=p*c[h+2]+(1-p)*u[h+2];}r.putImageData(l,0,0);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(kT.prototype),"dispose",this).call(this);this._blurFilter.dispose();this._blurredRenderTarget.dispose();this._maskRenderTarget.dispose();}}]);return kT;}(L.Filter);kT.prototype.availableOptions={blurRadius:{type:"number","default":30,uniformType:"f"},radius:{type:"number","default":50,uniformType:"f"},gradientRadius:{type:"number","default":25,uniformType:"f"},position:{type:"vector2","default":new jd(.5,.5),uniformType:"2f"},delta:{type:"vector2","default":new jd(1,1),uniformType:"2f"},texSize:{type:"vector2","default":new jd(100,100),uniformType:"2f"}};D_=kT;});var IT,Eh,A9;var B9=d(function(){$();O9();IT=J.Vector2;Eh=/*#__PURE__*/function(_Lt13){_inherits(Eh,_Lt13);var _super129=_createSuper(Eh);function Eh(){var _this174;_classCallCheck(this,Eh);for(var _len80=arguments.length,t=new Array(_len80),_key80=0;_key80<_len80;_key80++){t[_key80]=arguments[_key80];}_this174=_super129.call.apply(_super129,[this].concat(t));_this174._lastBlurRadius=_this174._options.blurRadius;_this174._lastGradientRadius=_this174._options.gradientRadius;var e={blurQuality:{type:"string"}};_this174._horizontalFilter=new D_({},e);_this174._verticalFilter=new D_({},e);_this174._sprite.setFilters([_this174._horizontalFilter,_this174._verticalFilter]);_this174._horizontalFilter.setDelta(new IT(.5,.5));_this174._verticalFilter.setDelta(new IT(-.5,.5));_this174._filter=new D_({},e);return _this174;}_createClass(Eh,[{key:"rotate",value:function rotate(t){var e=this._options.position;if(t===90){e.flip();e.x=1-e.x;}else if(t===-90){e.flip();e.y=1-e.y;}this.set({position:e});}},{key:"flip",value:function flip(t){var e=this._options.position;switch(t){case"horizontal":e.x=1-e.x;break;case"vertical":e.y=1-e.y;break;}this.set({position:e});}},{key:"transform",value:function transform(t){var _this175=this;var e={};var r=this.getPosition();e.position=t.applyToRelativePoint(r);["radius","blurRadius","gradientRadius"].forEach(function(o){var n=_this175.getOption(o);e[o]=t.applyToRelativeSize(n);});this.set(e,false);}},{key:"_renderWebGL",value:function _renderWebGL(t){return this._renderBlur(t);}},{key:"_renderCanvas",value:function _renderCanvas(t){if(this._options.highQualityCanvasBlur){return this._renderBlur(t);}return this._renderLQCanvasBlur(t);}},{key:"_renderBlur",value:function _renderBlur(t){var e=t.getDimensions();var r=e.min();var _this$_options20=this._options,o=_this$_options20.position,n=_this$_options20.blurRadius,s=_this$_options20.radius,a=_this$_options20.gradientRadius;var l={blurRadius:n*r,radius:s*r,gradientRadius:a*r,position:o.clone().multiply(e),texSize:e,blurQuality:"high"};this._horizontalFilter.set(l);this._verticalFilter.set(l);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"_renderLQCanvasBlur",value:function _renderLQCanvasBlur(t){var _this$_options21=this._options,e=_this$_options21.blurRadius,r=_this$_options21.radius,o=_this$_options21.gradientRadius,n=_this$_options21.position;var s=t.getDimensions();this._filter.set({blurRadius:e,radius:r,gradientRadius:o,position:n,texSize:s,blurQuality:"low"});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Eh.prototype),"dispose",this).call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose();}},{key:"hasChanges",value:function hasChanges(){return true;}}]);return Eh;}(Lt);Eh.identifier="radial-focus";Eh.prototype.availableOptions={position:{type:"vector2","default":new IT(.5,.5)},radius:{type:"number","default":.25},gradientRadius:{type:"number","default":.125},blurRadius:{type:"number","default":.025},highQualityCanvasBlur:{type:"boolean","default":false}};ft.Operations.RadialFocusOperation=Eh;A9=Eh;});var M9;var P9=d(function(){M9="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filterImage;\nuniform sampler2D u_maskImage;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filterImage, v_texCoord);\n  vec4 mask = texture2D(u_maskImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, mask);\n}\n";});var DT,L9;var z9=d(function(){$();P9();DT=/*#__PURE__*/function(_L$Filter26){_inherits(DT,_L$Filter26);var _super130=_createSuper(DT);function DT(){var _this176;_classCallCheck(this,DT);_this176=_super130.call(this);_this176._fragmentSource=M9;return _this176;}_createClass(DT,[{key:"_applyCanvas",value:function _applyCanvas(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var n=e.getCanvas();var s=e.getContext();var a=r.getContext();var _this$_options22=this._options,l=_this$_options22.maskCanvas,c=_this$_options22.filterCanvas;var u=l.getContext("2d");var m=c.getContext("2d");var p=u.getImageData(0,0,n.width,n.height).data;var h=s.getImageData(0,0,n.width,n.height);var g=h.data;var x=m.getImageData(0,0,n.width,n.height).data;var v;for(var b=0;b<n.width*n.height*4;b+=4){v=p[b]/255;g[b]=v*x[b]+(1-v)*g[b];g[b+1]=v*x[b+1]+(1-v)*g[b+1];g[b+2]=v*x[b+2]+(1-v)*g[b+2];}a.putImageData(h,0,0);}}]);return DT;}(L.Filter);DT.prototype.availableOptions={maskImage:{type:"number","default":1,uniformType:"i"},maskCanvas:{type:"object","default":null},filterImage:{type:"number","default":2,uniformType:"i"},filterCanvas:{type:"object","default":null}};L9=DT;});var E_,U9,Rn;var $d=d(function(){$();E_=J.Vector2;U9=/*#__PURE__*/function(_t11){_inherits(U9,_t11);var _super131=_createSuper(U9);function U9(t,e){var _this177;_classCallCheck(this,U9);_this177=_super131.call(this,e);_this177._isDisposed=false;_this177._operation=t;_this177._dirtiness={};_this177.id=z.getUUID();_this177._renderTextures={};_this177._identitySprite=new L.Sprite();_this177._sprite=new L.Sprite();_this177._hitTestSprite=new L.Sprite();_this177._renderers=[];return _this177;}_createClass(U9,[{key:"applyScale",value:function applyScale(t){}},{key:"applyRotation",value:function applyRotation(t){var e=this._operation.getInputDimensions();var r=this.getRotation()*180/Math.PI;r+=t;this.setRotation(r*Math.PI/180);var o=(t+360)%360;var n=o*Math.PI/180;var s=Math.cos(n);var a=Math.sin(n);var l=this._options.position.clone().subtract(.5).multiply(e);var c=new E_(l.x*s-l.y*a,l.x*a+l.y*s).divide(e.clone().flip());this.setPosition(new E_(.5,.5).add(c));}},{key:"applyFlip",value:function applyFlip(t){var e=this.getPosition().clone();switch(t){case"horizontal":e.x=1-this._options.position.x;break;case"vertical":e.y=1-this._options.position.y;break;}this.setPosition(e);}},{key:"applyTransform",value:function applyTransform(t){var e={};e.rotation=t.applyToRotation(this.getRotation());e.position=t.applyToRelativePoint(this.getPosition());if(this._options.dimensions){e.dimensions=t.applyToDimensions(this.getDimensions());}this.set(e,false);}},{key:"getDisplayObject",value:function getDisplayObject(){return this._sprite;}},{key:"getHitTestDisplayObject",value:function getHitTestDisplayObject(){return this._sprite;}},{key:"_getTexture",value:function _getTexture(){throw new Error("Sprite#_getTexture is abstract and not implemented in child class.");}},{key:"_prepareRenderTexture",value:function _prepareRenderTexture(t){if(!this._renderTexture){var e=this._getTexture();this._renderTextureContainer=new L.Container();this._renderTextureSprite=new L.Sprite(e);this._renderTextureContainer.addChild(this._renderTextureSprite);this._renderTexture=this._getRenderTexture(t.getRenderer(),e.getDimensions());}else{this._renderTexture.clear();}}},{key:"_rendersToRenderTexture",value:function _rendersToRenderTexture(t){return t.getOptions().smoothDownscaling&&t.getRenderer().isOfType("webgl");}},{key:"_optionEquals",value:function _optionEquals(t,e){if(t==="type"){return true;}return _get(_getPrototypeOf(U9.prototype),"_optionEquals",this).call(this,t,e);}},{key:"update",value:function update(t,e){if(this._isDisposed){return;}if(this._rendersToRenderTexture(t)){this._prepareRenderTexture(t);this._renderToRenderTexture(t);}this._updateSprite(e);}},{key:"_updateSprite",value:function _updateSprite(t){var _this178=this;var e=[this._sprite,this._hitTestSprite];e.forEach(function(r){if(!r.getTexture())return;r.setAnchor(_this178._options.anchor);r.setPosition(_this178._options.position.clone().multiply(t));if(typeof _this178._options.alpha!=="undefined"){r.setAlpha(_this178._options.alpha);}var o=_this178._options.dimensions;if(o){o=o.clone().multiply(_this178._operation.getSDK().getTextureScale());r.setWidth(o.x);r.setHeight(o.y);}r.updateTransform();var n=r.getTexture().getFrame();var s=new E_(n.width,n.height);r.setPivot(_this178._options.pivot.clone().multiply(s));r.setRotation(_this178._options.rotation);r.updateTransform();});}},{key:"_renderToRenderTexture",value:function _renderToRenderTexture(t){var e=this._getTexture().getDimensions();var r=this._getRenderTexture(t.getRenderer(),e);var o=e.clone();if(this._options.smoothDownscaling){o.x=z.nextHighestPOT(o.x);o.y=z.nextHighestPOT(o.y);}this._renderTexture.resizeTo(o);this._renderTexture.render(this._renderTextureContainer);if(this._options.smoothDownscaling){var n=o.clone().subtract(e.x,e.y).divide(o);var s=r.getUVs().getUVs();s[0].x=s[3].x=0;s[1].x=s[2].x=1-n.x;s[0].y=s[1].y=0;s[2].y=s[3].y=1-n.y;}this._sprite.setTexture(r);}},{key:"isDirtyForRenderer",value:function isDirtyForRenderer(t){if(!(t.id in this._dirtiness)){this._dirtiness[t.id]=true;}return this._dirtiness[t.id];}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){this._renderers[e.id]=e;this._dirtiness[e.id]=t;}},{key:"setDirty",value:function setDirty(t){for(var e in this._dirtiness){this.setDirtyForRenderer(t,this._renderers[e]);}}},{key:"_getRenderTexture",value:function _getRenderTexture(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new E_(100,100);if(!this._renderTextures[t.id]){this._renderTextures[t.id]=new L.RenderTexture(t,e.x,e.y,1);}return this._renderTextures[t.id];}},{key:"dispose",value:function dispose(){this._isDisposed=true;for(var t in this._renderTextures){this._renderTextures[t].dispose();}}},{key:"canBeDuplicated",value:function canBeDuplicated(){return true;}},{key:"canBeDeleted",value:function canBeDeleted(){return true;}},{key:"canMaskCanvas",value:function canMaskCanvas(){return false;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return false;}},{key:"canBeTakenToFront",value:function canBeTakenToFront(){return true;}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return true;}}]);return U9;}(_t);Rn=U9;});var hst,il;var ET=d(function(){$();hst=J.Vector2;il=/*#__PURE__*/function(_t12){_inherits(il,_t12);var _super132=_createSuper(il);function il(){var _this179;_classCallCheck(this,il);for(var _len81=arguments.length,t=new Array(_len81),_key81=0;_key81<_len81;_key81++){t[_key81]=arguments[_key81];}_this179=_super132.call.apply(_super132,[this].concat(t));_this179._lastOptions={};_this179._lastInputDimensions=new hst(0,0);_this179._brush=null;return _this179;}_createClass(il,[{key:"getBrushImage",value:function getBrushImage(t){if(this._brush&&this.optionsEqual(this._lastOptions)&&t.equals(this._lastInputDimensions)){return this._brush;}var _this$_options23=this._options,e=_this$_options23.image,r=_this$_options23.size;e.width=e.height=Math.ceil(r*t.min());var o=z.createCanvas();o.width=e.width;o.height=e.height;var n=o.getContext("2d");n.drawImage(e,0,0,o.width,o.height);var s=this._tintImageData(n.getImageData(0,0,o.width,o.height),o.width,o.height);n.putImageData(s,0,0);this._lastOptions=this.serializeOptions(["size","color"]);this._brush=o;this._lastInputDimensions=t.clone();return o;}},{key:"_tintImageData",value:function _tintImageData(t){var e=this._options.color;for(var r=0;r<t.data.length;r+=4){t.data[r]+=(e.r*255-t.data[r])*e.a;t.data[r+1]+=(e.g*255-t.data[r+1])*e.a;t.data[r+2]+=(e.b*255-t.data[r+2])*e.a;}return t;}},{key:"clone",value:function clone(){var t=this.constructor;return new t(this._options);}}]);return il;}(_t);il.prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},size:{type:"number","default":.05},color:{type:"color","default":G.RED}};});var gc;var N9=d(function(){$();ET();gc=/*#__PURE__*/function(_il){_inherits(gc,_il);var _super133=_createSuper(gc);function gc(){_classCallCheck(this,gc);return _super133.apply(this,arguments);}_createClass(gc,[{key:"getBrushImage",value:function getBrushImage(t){if(this._brush&&this.optionsEqual(this._lastOptions)&&t.equals(this._lastInputDimensions)){return this._brush;}var _this$_options24=this._options,e=_this$_options24.size,r=_this$_options24.hardness,o=_this$_options24.color;var n=z.createCanvas();n.width=n.height=Math.ceil(e*t.min());var s=n.getContext("2d");o=o.clone();o.a=1;if(n.width===1){s.fillStyle=o.toRGBA();s.fillRect(0,0,1,1);}else{var a=s.createRadialGradient(n.width/2,n.height/2,Math.min(n.width/2-1,n.width/2*r),n.width/2,n.height/2,n.width/2);a.addColorStop(0,o.toRGBA());var l=o.clone();l.a=0;a.addColorStop(1,l.toRGBA());s.fillStyle=a;s.fillRect(0,0,n.width,n.height);}this._lastOptions=this.serializeOptions(["size","color","hardness"]);this._brush=n;this._lastInputDimensions=t.clone();return n;}}]);return gc;}(il);gc.identifier="imgly_brush_radial";gc.prototype.availableOptions=_objectSpread(_objectSpread({},il.prototype.availableOptions),{},{hardness:{type:"number","default":1}});});var fst,gst,H9,W9;var G9=d(function(){$();fst=J.Vector2;gst=J.CubicBezierCurve;H9=/*#__PURE__*/function(){function H9(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;_classCallCheck(this,H9);this._path=t;this._drawnCanvases=[];this._position=e;this._smooth=r;}_createClass(H9,[{key:"getBezierCurve",value:function getBezierCurve(t,e,r,o){if(!e){return null;}var n;var s;if(!o){n=(r.x-e.x)/this._smooth;s=(r.y-e.y)/this._smooth;}else{n=(o.x-e.x)/this._smooth;s=(o.y-e.y)/this._smooth;}var a;var l;if(!t){a=(r.x-e.x)/this._smooth;l=(r.y-e.y)/this._smooth;}else{a=(r.x-t.x)/this._smooth;l=(r.y-t.y)/this._smooth;}var c=e.clone().add(a,l);var u=r.clone().subtract(n,s);return new gst(e,c,u,r);}},{key:"renderToCanvas",value:function renderToCanvas(t,e,r,o,n){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1;if(this._drawnCanvases.indexOf(e)!==-1){return;}var a=new fst(e.width,e.height);var l=e.getContext("2d");var c=this._position.clone().multiply(a);var u=o?o.getPosition().clone().multiply(a):null;var m=r?r.getPosition().clone().multiply(a):null;var p=n?n.getPosition().clone().multiply(a):null;var h=c.clone().subtract(u).len();var g=t.width/10;var x=this.getBezierCurve(m,u,c,p);var v;if(!x){v=[c];}else{x.calculateSegments(20);var b=x.getLength();v=x.arcLengthApproxSample(Math.ceil(b/g));}for(var _b4=0;_b4<v.length;_b4++){var T=v[_b4];var k=t.width*.5/(g*2);k*=1-s;k=1/(1+k);l.globalAlpha=k;l.drawImage(t,T.x-t.width/2,T.y-t.height/2,t.width,t.height);}l.globalAlpha=1;this._drawnCanvases.push(e);}},{key:"setPosition",value:function setPosition(t){this._position=t;}},{key:"getPosition",value:function getPosition(){return this._position.clone();}},{key:"setDirty",value:function setDirty(){this._drawnCanvases=[];}}]);return H9;}();W9=H9;});var FT,Fh;var V9=d(function(){$();G9();FT=/*#__PURE__*/function(_t13){_inherits(FT,_t13);var _super134=_createSuper(FT);function FT(t,e,r){var _this180;_classCallCheck(this,FT);_this180=_super134.call(this,e);_this180._operation=t;_this180._canvas=r||z.createCanvas();_this180._context=_this180._canvas.getContext("2d");return _this180;}_createClass(FT,[{key:"serializeOption",value:function serializeOption(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t==="controlPoints"){return this._options.controlPoints.map(function(r){var o=r.getPosition();return e?o.toObject():o.clone();});}return _get(_getPrototypeOf(FT.prototype),"serializeOption",this).call(this,t,e);}},{key:"_optionEquals",value:function _optionEquals(t,e){if(t==="controlPoints"){var r=this._options.controlPoints;for(var o=0,n=r.length;o<n;o++){if(!r[o].getPosition().equals(e[o])){return false;}}return true;}return _get(_getPrototypeOf(FT.prototype),"_optionEquals",this).call(this,t,e);}},{key:"render",value:function render(t){var _this$_options25=this._options,e=_this$_options25.controlPoints,r=_this$_options25.size;if(e.length<2){return;}var o=this.getBrush();var n=o&&o.getHardness?o.getHardness():1;z.ensureCanvasDimensions(this._canvas,t);if(!this._brush||this._lastBrushSize!==r||!t.equals(this._brushInputDimensions)){this._brushInputDimensions=t.clone();this._lastBrushSize=r;}var s;var a;var l;var c;for(var u=0;u<e.length;u++){s=e[u-2];a=e[u-1];l=e[u];c=e[u+1];l.renderToCanvas(this._options.brush.getBrushImage(t),this._canvas,s,a,c,n);}}},{key:"_createBrush",value:function _createBrush(t){var _this$_options26=this._options,e=_this$_options26.size,r=_this$_options26.hardness,o=_this$_options26.color;var n=z.createCanvas();n.width=n.height=Math.ceil(e*t.min());var s=n.getContext("2d");o=o.clone();o.a=1;if(n.width===1){s.fillStyle=o.toRGBA();s.fillRect(0,0,1,1);}else{var a=s.createRadialGradient(n.width/2,n.height/2,Math.min(n.width/2-1,n.width/2*r),n.width/2,n.height/2,n.width/2);a.addColorStop(0,o.toRGBA());var l=o.clone();l.a=0;a.addColorStop(1,l.toRGBA());s.fillStyle=a;s.fillRect(0,0,n.width,n.height);}return n;}},{key:"addControlPoint",value:function addControlPoint(t){var e=new W9(this,t);this._options.controlPoints.push(e);this.emit("update",this);}},{key:"getCanvas",value:function getCanvas(){return this._canvas;}},{key:"setCanvas",value:function setCanvas(t){this._canvas=t;this._context=t.getContext("2d");}},{key:"setDirty",value:function setDirty(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height);this._options.controlPoints.forEach(function(t){t.setDirty();});}},{key:"forEachControlPoint",value:function forEachControlPoint(t){this._options.controlPoints.forEach(t);}},{key:"renderToCanvas",value:function renderToCanvas(t){var e=t.getContext("2d");e.save();e.globalAlpha=this._options.brush.getColor().a;e.drawImage(this._canvas,0,0);e.restore();}},{key:"getCanvasDimensions",value:function getCanvasDimensions(){return this._canvasDimensions;}}]);return FT;}(_t);FT.prototype.availableOptions={id:{type:"string","default":function _default(){return z.getUUID();}},brush:{type:"object",required:true},controlPoints:{type:"array","default":[]},closed:{type:"boolean","default":false}};Fh=FT;});var F_,bc,yc;var RT=d(function(){$();$d();ET();N9();V9();F_=J.Vector2;bc=/*#__PURE__*/function(_Rn){_inherits(bc,_Rn);var _super135=_createSuper(bc);function bc(){var _this181;_classCallCheck(this,bc);for(var _len82=arguments.length,t=new Array(_len82),_key82=0;_key82<_len82;_key82++){t[_key82]=arguments[_key82];}_this181=_super135.call.apply(_super135,[this].concat(t));_this181._persistedPaths=[];_this181._outputCanvasDirty=true;_this181._outputCanvas=z.createCanvas();_this181._outputContext=_this181._outputCanvas.getContext("2d");_this181._persistCanvas=z.createCanvas();_this181._persistContext=_this181._persistCanvas.getContext("2d");_this181._nextCanvas=z.createCanvas();_this181._texture=L.Texture.fromCanvas(_this181._outputCanvas);_this181._sprite.setTexture(_this181._texture);_this181._onPathUpdate=_this181._onPathUpdate.bind(_assertThisInitialized(_this181));return _this181;}_createClass(bc,[{key:"applyFlip",value:function applyFlip(t){this._options.paths.forEach(function(e){e.forEachControlPoint(function(r){var o=r.getPosition().clone();switch(t){case"horizontal":o.x=1-o.x;break;case"vertical":o.y=1-o.y;break;}r.setPosition(o);});e.setDirty(true);});this._reset();}},{key:"applyRotation",value:function applyRotation(t){this._options.paths.forEach(function(e){e.forEachControlPoint(function(r){var o=r.getPosition().clone();if(t===90){o.flip();o.x=1-o.x;}else if(t===-90){o.flip();o.y=1-o.y;}r.setPosition(o);});e.setDirty(true);});this._reset();}},{key:"applyTransform",value:function applyTransform(t){var e=null;this._options.paths.forEach(function(r){r.forEachControlPoint(function(n){n.setPosition(t.applyToRelativePoint(n.getPosition()));});var o=r.getBrush();if(o!==e){o.setSize(t.applyToRelativeSize(o.getSize()));e=o;}r.setDirty(true);});this._reset();}},{key:"clearCanvas",value:function clearCanvas(){if(!this._outputCanvas){return;}this._outputCanvasDirty=true;var _this$_outputCanvas=this._outputCanvas,t=_this$_outputCanvas.width,e=_this$_outputCanvas.height;this._outputContext.clearRect(0,0,t,e);}},{key:"clearPersistCanvas",value:function clearPersistCanvas(){if(!this._persistCanvas){return;}var _this$_persistCanvas=this._persistCanvas,t=_this$_persistCanvas.width,e=_this$_persistCanvas.height;this._persistContext.clearRect(0,0,t,e);}},{key:"serializeOptions",value:function serializeOptions(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=_get(_getPrototypeOf(bc.prototype),"serializeOptions",this).call(this,t,e);if(!t)r.type="brush";return r;}},{key:"serializeOption",value:function serializeOption(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t==="paths"){return this._options.paths.map(function(r){return r.serializeOptions(void 0,e);});}return _get(_getPrototypeOf(bc.prototype),"serializeOption",this).call(this,t,e);}},{key:"createPath",value:function createPath(t){var e=new Fh(this._operation,{brush:t},this._nextCanvas);e.on("update",this._onPathUpdate);this._options.paths.push(e);this.setDirty(true);return e;}},{key:"_onPathUpdate",value:function _onPathUpdate(){this._operation.setDirty(true);this.setDirty(true);}},{key:"_onPathPersist",value:function _onPathPersist(t){t.renderToCanvas(this._persistCanvas);this._nextCanvas=t.getCanvas();var e=this._nextCanvas.getContext("2d");e.clearRect(0,0,this._nextCanvas.width,this._nextCanvas.height);this._persistedPaths.push(t);}},{key:"_getTexture",value:function _getTexture(){return this._texture;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_get(_getPrototypeOf(bc.prototype),"setDirtyForRenderer",this).call(this,t,e,r);if(t&&r){this._persistedPaths=[];this.clearPersistCanvas();this._options.paths.forEach(function(o){o.setDirty(true);});}}},{key:"setDirty",value:function setDirty(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var r in this._dirtiness){this.setDirtyForRenderer(t,this._renderers[r],e);}}},{key:"render",value:function render(t){var _this182=this;var e=this._operation.getSDK().getRenderer();if(!this.isDirtyForRenderer(e)){return;}z.ensureCanvasDimensions(this._outputCanvas,t);z.ensureCanvasDimensions(this._persistCanvas,t);this._options.paths.forEach(function(r){r.render(t);if(r.getClosed()&&_this182._persistedPaths.indexOf(r)===-1){_this182._onPathPersist(r);}});this.clearCanvas();this._outputContext.drawImage(this._persistCanvas,0,0);this._options.paths.forEach(function(r){if(!r.getClosed()){r.renderToCanvas(_this182._outputCanvas);}});this.setDirtyForRenderer(false,e);}},{key:"update",value:function update(t,e){if(e){z.ensureCanvasDimensions(this._outputCanvas,e);z.ensureCanvasDimensions(this._persistCanvas,e);this._texture.getBaseTexture().update();}this.render(e);var r=t.getRenderer();if(r.isOfType("webgl")){r.updateTexture(this._texture.getBaseTexture());}_get(_getPrototypeOf(bc.prototype),"update",this).call(this,t,e);}},{key:"_reset",value:function _reset(){this._persistedPaths=[];if(this._operation){this._operation.setDirty(true);}this.setDirty(true);this.clearCanvas();this.clearPersistCanvas();}},{key:"getCanvas",value:function getCanvas(){return this._outputCanvas;}},{key:"_createRadialBrush",value:function _createRadialBrush(){return new gc();}},{key:"_getTempCanvas",value:function _getTempCanvas(){return this._nextCanvas;}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(bc.prototype),"dispose",this).call(this);this._texture&&this._texture.getBaseTexture().dispose();}}]);return bc;}(Rn);bc.prototype.availableOptions={id:{type:"string","default":function _default(){return z.getUUID();}},position:{type:"vector2","default":new F_(0,0)},scale:{type:"vector2","default":new F_(1,1)},anchor:{type:"vector2","default":new F_(0,0)},pivot:{type:"vector2","default":new F_(0,0)},rotation:{type:"number","default":0},paths:{type:"array","default":[],setter:function setter(i){var _this183=this;i=i.map(function(t){if(t instanceof Fh)return t;var e=t.brush,r=t.closed;var o=new Fh(_this183._operation,{brush:e,closed:r},_this183._nextCanvas);t.controlPoints.forEach(function(n){o.addControlPoint(n);});return o;});this._reset();return i;}}};bc.type="brush";bc.Brush=il;bc.Path=Fh;bc.Brushes={RadialBrush:gc};yc=bc;});var j9,Rh,$9;var K9=d(function(){$();zd();z9();RT();j9=J.Vector2;Rh=/*#__PURE__*/function(_Lt14){_inherits(Rh,_Lt14);var _super136=_createSuper(Rh);function Rh(){var _this184;_classCallCheck(this,Rh);for(var _len83=arguments.length,t=new Array(_len83),_key83=0;_key83<_len83;_key83++){t[_key83]=arguments[_key83];}_this184=_super136.call.apply(_super136,[this].concat(t));var e=_this184._sdk.getRenderer();_this184._lastBlurRadius=null;_this184._blurredRenderTexture=new L.RenderTexture(e,100,100,1);_this184._maskRenderTexture=new L.RenderTexture(e,100,100,1);_this184._brushSprite=new yc(_assertThisInitialized(_this184));_this184._brushSpriteContainer=new L.Container();var r=_this184._brushSprite.getDisplayObject();_this184._brushSpriteContainer.addChild(r);_this184._outputSprite=new L.Sprite();_this184._outputContainer=new L.Container();_this184._outputContainer.addChild(_this184._outputSprite);_this184._maskFilter=new L9();if(e.isOfType("webgl")){_this184._horizontalFilter=new or();_this184._verticalFilter=new or();_this184._sprite.setFilters([_this184._horizontalFilter,_this184._verticalFilter]);_this184._horizontalFilter.setDelta(new j9(1,1));_this184._verticalFilter.setDelta(new j9(-1,1));var o=_this184._maskRenderTexture.getBaseTexture();o.setGLUnit(_this184._maskFilter.getMaskImage());e.updateTexture(o,false);o=_this184._blurredRenderTexture.getBaseTexture();o.setGLUnit(_this184._maskFilter.getFilterImage());e.updateTexture(o,false);}else if(e.isOfType("canvas")){_this184._blurFilter=new or();_this184._sprite.setFilters([_this184._blurFilter]);_this184._maskFilter.setMaskCanvas(_this184._maskRenderTexture.getRenderTarget().getCanvas());_this184._maskFilter.setFilterCanvas(_this184._blurredRenderTexture.getRenderTarget().getCanvas());}_this184._outputSprite.setFilters([_this184._maskFilter]);return _this184;}_createClass(Rh,[{key:"flip",value:function flip(t){this._brushSprite.applyFlip(t);this.setDirty(true,true);this._lastBlurRadius=null;}},{key:"rotate",value:function rotate(t){this._brushSprite.applyRotation(t);this.setDirty(true,true);this._lastBlurRadius=null;}},{key:"transform",value:function transform(t,e){this._brushSprite.applyTransform(t,e);this.setDirty(true,true);this._lastBlurRadius=null;}},{key:"_render",value:function _render(t){this._renderBlur(t);this._renderMask(t);this._outputSprite.setTexture(t);this._renderTexture.render(this._outputContainer);return Promise.resolve();}},{key:"_renderMask",value:function _renderMask(t){var e=t.getDimensions();var r=this._maskRenderTexture.getDimensions();if(!r.equals(e)){this._maskRenderTexture.resizeTo(e);}this._brushSprite.update(this._sdk,e);this._maskRenderTexture.clear(G.BLACK);this._maskRenderTexture.render(this._brushSpriteContainer);var o=this._sdk.getRenderer();if(o.isOfType("webgl")){o.updateTexture(this._maskRenderTexture.getBaseTexture(),false);}}},{key:"_renderBlur",value:function _renderBlur(t){var e=t.getDimensions();var r=this._blurredRenderTexture.getDimensions();if(!r.equals(e)){this._blurredRenderTexture.resizeTo(e);}var o=this._options.blurRadius;if(this._lastBlurRadius!==o||!r.equals(e)){var s=this._sdk.getRenderer();var a;if(s.isOfType("webgl")){var l=e.min();a={blurRadius:o*l,texSize:e};this._horizontalFilter.set(a);this._verticalFilter.set(a);}else if(s.isOfType("canvas")){a={blurRadius:o};this._blurFilter.set(a);}this._blurredRenderTexture.render(this._container);this._lastBlurRadius=o;}var n=this._sdk.getRenderer();if(n.isOfType("webgl")){n.updateTexture(this._blurredRenderTexture.getBaseTexture(),false);}}},{key:"getBrush",value:function getBrush(){return this._brushSprite;}},{key:"createPath",value:function createPath(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var r=new yc.Brushes.RadialBrush({size:t,hardness:e,color:G.WHITE});var o=this._brushSprite.createPath(r);this._options.paths.push(o);this.setDirty(true);return o;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e,r){_get(_getPrototypeOf(Rh.prototype),"setDirtyForRenderer",this).call(this,t,e,r);this._brushSprite.setDirtyForRenderer(t,e,r);}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Rh.prototype),"dispose",this).call(this);var t=this._sdk.getRenderer();if(t.isOfType("webgl")){this._verticalFilter.dispose();this._horizontalFilter.dispose();}else{this._blurFilter.dispose();}this._brushSprite.dispose();this._maskFilter.dispose();this._blurredRenderTexture.dispose();this._maskRenderTexture.dispose();}},{key:"hasChanges",value:function hasChanges(){return true;}}]);return Rh;}(Lt);Rh.identifier="selective-blur";Rh.prototype.availableOptions={blurRadius:{type:"number","default":.05},paths:{type:"array","default":[],setter:function setter(i){if(this._brushSprite){this._brushSprite.setPaths(i);}return i;}}};ft.Operations.SelectiveBlurOperation=Rh;$9=Rh;});var _c,R_,O_,A_;var X9=d(function(){$();ww();$d();_c=J.Vector2;R_=J.ColorMatrix;O_=/*#__PURE__*/function(_Rn2){_inherits(O_,_Rn2);var _super137=_createSuper(O_);function O_(){var _this185;_classCallCheck(this,O_);for(var _len84=arguments.length,t=new Array(_len84),_key84=0;_key84<_len84;_key84++){t[_key84]=arguments[_key84];}_this185=_super137.call.apply(_super137,[this].concat(t));var e=_this185._options.image;var r=e.src||e.filePath||e.toDataUrl&&e.toDataURL();_this185._isSVG=r&&(!!r.match(/\w+\.svg(?=\?|$)/i)||r.match(/data:image\/svg/i));if(_this185._isSVG){_this185._canvas=z.createCanvas();_this185._context=_this185._canvas.getContext("2d");_this185._options.smoothDownscaling=false;}if(e){_this185._onImageUpdate();}_this185._tintFilter=new L.Filters.TintFilter();_this185._adjustmentsFilter=new qy();_this185._lastRenderedDimensions=_c.NULL;_this185._lastRenderedInputDimensions=_c.NULL;_this185._onOptionsChange=_this185._onOptionsChange.bind(_assertThisInitialized(_this185));_this185._options.adjustments.on("update",_this185._onOptionsChange);return _this185;}_createClass(O_,[{key:"applyScale",value:function applyScale(t){this.setDimensions(this.getDimensions().multiply(t));}},{key:"serializeOptions",value:function serializeOptions(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=_get(_getPrototypeOf(O_.prototype),"serializeOptions",this).call(this,t,e);if(!t)r.type="sticker";return r;}},{key:"_rendersToRenderTexture",value:function _rendersToRenderTexture(t){var e=this._options.smoothDownscaling&&!this._isSVG&&t.getRenderer().isOfType("webgl");return e||this._hasAdjustments()||this._options.tintMode!=="none";}},{key:"_getTexture",value:function _getTexture(){return this._inputTexture;}},{key:"update",value:function update(t,e){var _this$_options27=this._options,r=_this$_options27.dimensions,o=_this$_options27.image;if(r.equals(_c.NULL)){r.set(o.width,o.height);}this._sprite.setSmoothDownscaling(this._isSVG?false:this.getSmoothDownscaling());var n=!this._lastRenderedInputDimensions.equals(e)||!this._lastRenderedDimensions.equals(r)||this._lastRenderedImage!==o;if(n&&this._isSVG&&t.getRenderer().isOfType("webgl")){o.width=Math.round(r.x);o.height=Math.round(r.y);var a=4096;var l=o.width/o.height;if(o.width>a){o.width=a;o.height=Math.round(o.width/l);}if(o.height>a){o.height=a;o.width=Math.round(o.height*l);}this._canvas.width=o.width;this._canvas.height=o.height;this._context.clearRect(0,0,o.width,o.height);this._context.drawImage(o,0,0,o.width,o.height);this._inputTexture.getBaseTexture().update();}if(this._rendersToRenderTexture(t)){this._prepareRenderTexture(t);}var s=[];if(this._rendersToRenderTexture(t)){if(this._hasAdjustments()){s.push(this._adjustmentsFilter);var _a3=this._options.adjustments;var _l4=new R_();_l4.multiply(R_.createBrightnessMatrix(_a3.getBrightness()));_l4.multiply(R_.createSaturationMatrix(_a3.getSaturation()));_l4.multiply(R_.createContrastMatrix(_a3.getContrast()));this._adjustmentsFilter.set({colorMatrix:_l4});}if(this._options.tintMode&&this._options.tintMode!=="none"){s.push(this._tintFilter);this._tintFilter.set({mode:L.Filters.TintFilter.MODES[this._options.tintMode.toUpperCase()],color:this._options.tintColor});if(this._sprite.getTexture()&&this._sprite.getTexture()._baseTexture){this._sprite.getTexture()._baseTexture.setDirty(true);}}this._renderTextureSprite.setFilters(s);}if(this._rendersToRenderTexture(t)){this._renderToRenderTexture(t);}else{this._sprite.setTexture(this._inputTexture);}this._updateSprite(e);this._applyFlip();this._lastRenderedDimensions.copy(r);this._lastRenderedInputDimensions.copy(e);this._lastRenderedImage=o;}},{key:"_applyFlip",value:function _applyFlip(){var t=this._sprite.getScale();var _this$_options28=this._options,e=_this$_options28.flipHorizontally,r=_this$_options28.flipVertically;if(e&&t.x>0||!e&&t.x<0){t.x*=-1;}if(r&&t.y>0||!r&&t.y<0){t.y*=-1;}this._sprite.setScale(t);}},{key:"applyFlip",value:function applyFlip(t){_get(_getPrototypeOf(O_.prototype),"applyFlip",this).call(this,t);var e={rotation:this._options.rotation};var r=e.rotation/Math.PI*180;var o=r*-1;e.rotation=o*Math.PI/180;switch(t){case"horizontal":e.flipHorizontally=!this._options.flipHorizontally;this.set(e);break;case"vertical":e.flipVertically=!this._options.flipVertically;this.set(e);break;}}},{key:"_hasAdjustments",value:function _hasAdjustments(){var t=this._options.adjustments;return t.getBrightness()!==0||t.getSaturation()!==1||t.getContrast()!==1;}},{key:"_onImageUpdate",value:function _onImageUpdate(){var t=this._options.image;var e=this._operation.getSDK().getRenderer();if(this._isSVG&&e.isOfType("webgl")){t=this._canvas;}if(this._inputTexture){this._inputTexture.dispose();this._inputTexture=null;}this._inputTexture=L.Texture.fromImage(t);this._identitySprite.setTexture(this._inputTexture);this._sprite.setTexture(this._inputTexture);if(this._renderTexture){this._renderTextureSprite.setTexture(this._inputTexture);this._renderTexture.resizeTo(this._inputTexture.getDimensions());}this.setDirty(true);}},{key:"scalesUniformly",value:function scalesUniformly(){return this._options.resizeMode==="keepAspect";}},{key:"setOption",value:function setOption(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;_get(_getPrototypeOf(O_.prototype),"setOption",this).call(this,t,e,r);if(t==="image"&&this._identitySprite){this._onImageUpdate();}}},{key:"_onOptionsChange",value:function _onOptionsChange(){var t=this._dirtiness;for(var e in t){t[e]=true;}}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(O_.prototype),"dispose",this).call(this);if(this._inputTexture){this._inputTexture.dispose();this._inputTexture=null;}this._tintFilter.dispose();this._adjustmentsFilter.dispose();this._options.adjustments.off("updated",this._onOptionsChange);}}]);return O_;}(Rn);O_.prototype.availableOptions={id:{type:"string","default":function _default(){return z.getUUID();}},identifier:{type:"string","default":""},image:{type:"image",required:true},position:{type:"vector2","default":_c.NULL},dimensions:{type:"vector2","default":_c.NULL},anchor:{type:"vector2","default":new _c(0,0)},pivot:{type:"vector2","default":new _c(.5,.5)},rotation:{type:"number","default":0},flipHorizontally:{type:"boolean","default":false},flipVertically:{type:"boolean","default":false},smoothDownscaling:{type:"boolean","default":false},tintColor:{type:"color","default":G.WHITE},tintMode:{type:"string","default":"none",available:["none","solid","colorized"]},resizeMode:{type:"string","default":"keepAspect",available:["keepAspect","unrestricted"]},alpha:{type:"number","default":1},adjustments:{type:"configurable",structure:{brightness:{type:"number","default":0},saturation:{type:"number","default":1},contrast:{type:"number","default":1}}}};O_.type="sticker";A_=O_;});var _On,It;var Br=d(function(){_On=/*#__PURE__*/function(){function On(t){_classCallCheck(this,On);this._seed=t===void 0?_On.TimeSeed():t;}_createClass(On,[{key:"seed",value:function seed(t){this._seed=t===void 0?_On.TimeSeed():t;}},{key:"next",value:function next(){var t=this._seed|0;var e=t/_On.SEED_DIVIDER|0;var r=t%_On.SEED_DIVIDER|0;t=_On.SEED_LOW_MULTIPLY*r-_On.SEED_HIGH_MULTIPLY*e;if(t<=0){t+=_On.MAX;}if(t===-1){t=_On.MAX-1;}this._seed=t;return t;}},{key:"nextInRange",value:function nextInRange(t,e){if(e===void 0){e=t;t=0;}return t+this.next()%(e-t+1);}},{key:"nextBool",value:function nextBool(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return this.nextInRange(t+e-1)>=t;}},{key:"pickNext",value:function pickNext(t){if(!Array.isArray(t)){return null;}return t[this.next()%t.length];}}],[{key:"TimeSeed",value:function TimeSeed(){return Date.now();}}]);return On;}();It=_On;q(It,"MAX",2147483647);q(It,"SEED_DIVIDER",127773);q(It,"SEED_LOW_MULTIPLY",16807);q(It,"SEED_HIGH_MULTIPLY",2836);});var bst,_e8;var An=d(function(){$();bst=J.Rectangle;_e8=/*#__PURE__*/function(){function _e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,_e);this.width=t;this.height=e;}_createClass(_e,[{key:"set",value:function set(t,e){this.width=t;this.height=e;}},{key:"aspect",value:function aspect(){return this.width/this.height;}},{key:"rectangle",value:function rectangle(t,e){return new bst(t,e,this.width,this.height);}},{key:"clone",value:function clone(){return new _e8(this.width,this.height);}},{key:"scale",value:function scale(t,e){if(e===void 0){e=t;}this.width*=t;this.height*=e;return this;}},{key:"copy",value:function copy(t){this.width=t.width;this.height=t.height;return this;}},{key:"fitInWidthWithOther",value:function fitInWidthWithOther(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new _e8();this.copy(_e8.fitTwoInWidth(t,this,e)[0]);return this;}}],[{key:"fitTwoInWidth",value:function fitTwoInWidth(t,e,r){var o=e.width*r.height+e.height*r.width;var n=r.height*t/o;var s=e.width*n;var a=e.height*n;return[new _e8(s,a),new _e8(t-s,a)];}}]);return _e;}();});var q9,OT,Kt;var so=d(function(){$();q9=y(Ju());OT=/*#__PURE__*/function(_t14){_inherits(OT,_t14);var _super138=_createSuper(OT);function OT(){_classCallCheck(this,OT);return _super138.apply(this,arguments);}_createClass(OT,[{key:"loadImages",value:function(){var _loadImages=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _this186=this;return regeneratorRuntime.wrap(function _callee9$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:return _context10.abrupt("return",(0,q9["default"])(t,/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(e){return regeneratorRuntime.wrap(function _callee8$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt("return",_this186.addImage(e.path,e.fullPath,e.image));case 1:case"end":return _context9.stop();}}},_callee8);}));return function(_x13){return _ref110.apply(this,arguments);};}()));case 1:case"end":return _context10.stop();}}},_callee9);}));function loadImages(_x12){return _loadImages.apply(this,arguments);}return loadImages;}()},{key:"addImage",value:function addImage(t,e,r){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"anonymous";var n=this.getImages();if(!r){return new Promise(function(s,a){r=new Xi();r.onload=function(){n[t]={fullPath:e,image:r};s({fullPath:e,image:r});};r.crossOrigin=z.getCrossOriginValue(o);r.onerror=a;r.src=e;});}n[t]={fullPath:e,image:r};return Promise.resolve({fullPath:e,image:r});}},{key:"getImage",value:function getImage(t){var e=this.getImages();var r=e[t];return r?r.image:null;}},{key:"getVariation",value:function getVariation(t){return this.getFonts()[t];}},{key:"addFont",value:function addFont(t,e){var r=this.getFonts();r[t]=e;return e;}}]);return OT;}(_t);OT.prototype.availableOptions={images:{type:"object","default":{}},fonts:{type:"object","default":{}}};Kt=new OT();});var yst,_st,Y9,xst,vst,Cst,Sst,wst,qi;var Kd=d(function(){$();An();so();yst=function yst(i,t,e,r){var o=e*(r*4)+t*4;var n={r:i[o],g:i[o+1],b:i[o+2],a:i[o+3]};return n;};_st=function _st(i){return i.a<=254;};Y9=function Y9(i,t,e){var r=true;for(var o=0;o<e;o++){var n=yst(i,o,t,e);if(!_st(n)){r=false;break;}}return r;};xst=function xst(i,t,e,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var n=0;for(var s=r+1;s<e;s++){if(!Y9(i,s,t)){n=s-r+1;}else if(o){break;}}return n;};vst=function vst(i,t,e,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;var n=0;for(var s=r-1;s>=0;s--){if(!Y9(i,s,t)){n=r-s;}else if(o){break;}}return n;};Cst=function Cst(i,t,e,r,o){i.beginPath();i.moveTo(t,e);i.lineTo(r,o);i.stroke();};Sst=function Sst(i,t,e,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"red";i.save();i.strokeStyle=o;Cst(i,e,t,r,t);i.restore();};wst=function wst(i,t,e,r,o){var n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"blue";i.save();i.strokeStyle=n;i.strokeRect(t,e,r,o);i.restore();};qi=/*#__PURE__*/function(_t15){_inherits(qi,_t15);var _super139=_createSuper(qi);function qi(t){var _this187;_classCallCheck(this,qi);_this187=_super139.call(this,t);var e=Kt.getVariation(_this187.getFontIdentifier());if(!e){Y.warn("TextDesignFont: Unable to find font '".concat(_this187._fontIdentifier,"'"));}_this187.set({fontVariation:e});_this187._metrics=null;_this187._canvas=z.createCanvas();_this187._context=_this187._canvas.getContext("2d");_this187._isDirty=true;return _this187;}_createClass(qi,[{key:"_onOptionsChange",value:function _onOptionsChange(){this._isDirty=true;}},{key:"setOption",value:function setOption(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;_get(_getPrototypeOf(qi.prototype),"setOption",this).call(this,t,e,r,o);if(t==="fontIdentifier"&&!o){this.updateFontVariation();}}},{key:"updateFontVariation",value:function updateFontVariation(){var t=Kt.getVariation(this.getFontIdentifier());if(!t){Y.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'"));}this.setFontVariation(t);return t;}},{key:"setOptions",value:function setOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=_objectSpread(_objectSpread({},this._options),t);this._isDirty=true;}},{key:"_applyTextOptions",value:function _applyTextOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._context;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var _this$_options$e=_objectSpread(_objectSpread({},this._options),e),r=_this$_options$e.fontSize,o=_this$_options$e.fontVariation,n=_this$_options$e.lineHeight,s=_this$_options$e.textColor,a=_this$_options$e.alignment;var _o$serializeOptions=o.serializeOptions(),l=_o$serializeOptions.fontStyle,c=_o$serializeOptions.fontWeight,u=_o$serializeOptions.fontFamily;if(false){t.font="".concat(l," ").concat(c," ").concat(r,"px ").concat(u);}if(true){t.font="".concat(l," ").concat(c," ").concat(r,"px / ").concat(n," ").concat(u);}t.fillStyle=s;t.textBaseline="alphabetic";t.textAlign=a||"left";}},{key:"getTextMetrics",value:function getTextMetrics(){if(!this._metrics||this._isDirty){this._calculateTextMetrics();}return _objectSpread({},this._metrics);}},{key:"getSizeValue",value:function getSizeValue(){if(!this._metrics||this._isDirty){this._calculateTextMetrics();}return new _e8(this._metrics.width,this._metrics.height);}},{key:"fitWidth",value:function fitWidth(t){var e=this.getFontVariation();if(!e){Y.warn("TextDesignFont#fitText: missing font variation");return;}this._applyTextOptions(this._context,{fontSize:50});var r=this._context.measureText(this.getText()).width;var o=t/r;var n=Math.floor(o*50);this.setFontSize(n);this._calculateTextMetrics();return this.getTextMetrics();}},{key:"fitHeight",value:function fitHeight(t){var e=this.getFontVariation();if(!e){Y.warn("TextDesignFont#fitText: missing font variation");return;}var r=this._calculateTextMetrics({fontSize:50}).height;var o=t/r;var n=Math.floor(o*50);this.setFontSize(n);this._calculateTextMetrics();return this.getTextMetrics();}},{key:"_calculateTextMetrics",value:function _calculateTextMetrics(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this._canvas;var r=this._context;var o=_objectSpread(_objectSpread({},this._options),t);var n=this.getText();this._applyTextOptions(r,o);var s=Math.ceil(r.measureText(n).width);var a=Math.floor(s+o.fontSize*2);var l=Math.floor(o.fontSize*3);e.width=a;e.height=l;var c=Math.floor(o.fontSize);var u=Math.floor(l*(3/5));this._applyTextOptions(r,o);r.fillText(n,c,u);var m=r.getImageData(0,0,e.width,e.height).data;var p=vst(m,a,l,u,this._options.excludeAccents);var h=xst(m,a,l,u,this._options.excludeAccents);var g=s;var x=p+h;this._metrics={width:g,height:x,ascender:p,descender:h};this._isDirty=false;return _objectSpread({},this._metrics);}},{key:"draw",value:function draw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._context;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3?arguments[3]:undefined;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;t.save();if(!this._metrics||this._isDirty){this._calculateTextMetrics();}this._applyTextOptions(t,o);t.fillText(this.getText(),e,r+this._metrics.ascender);if(n){wst(t,e,r,this._metrics.width,this._metrics.height);Sst(t,r+this._metrics.ascender,e,e+this._metrics.width);}t.restore();}}]);return qi;}(_t);qi.prototype.availableOptions={text:{type:"string","default":""},fontIdentifier:{type:"string","default":"imgly_font_open_sans_bold"},fontVariation:{type:"object","default":null},lineHeight:{type:"number","default":1},fontSize:{type:"number","default":22},textColor:{type:"string","default":"black"},strokeStyle:{type:"string","default":"black"},outlineWidth:{type:"number","default":0},textBaseline:{type:"string","default":"alphabetic"},excludeAccents:{type:"boolean","default":false}};});var Yi;var xc=d(function(){$();Yi=/*#__PURE__*/function(_t16){_inherits(Yi,_t16);var _super140=_createSuper(Yi);function Yi(){_classCallCheck(this,Yi);return _super140.apply(this,arguments);}return Yi;}(_t);Yi.prototype.availableOptions={text:{type:"string","default":""},frame:{type:"object","default":null},font:{type:"object","default":null}};});var ao;var Xd=d(function(){$();ao=/*#__PURE__*/function(_t17){_inherits(ao,_t17);var _super141=_createSuper(ao);function ao(){_classCallCheck(this,ao);return _super141.apply(this,arguments);}return ao;}(_t);ao.prototype.availableOptions={tintColor:{type:"color","default":G.BLACK},textColor:{type:"color","default":G.BLACK},alignment:{type:"string","default":"left",available:["left","center","right"]},lineSpacing:{type:"number","default":1},fontIdentifier:{type:"string","default":"imgly_font_open_sans_bold"}};});var Tst,ar;var Oh=d(function(){$();An();Xd();Tst=J.Rectangle;ar=/*#__PURE__*/function(_t18){_inherits(ar,_t18);var _super142=_createSuper(ar);function ar(t){var _this188;_classCallCheck(this,ar);_this188=_super142.call(this,t);_this188.setSize(new _e8(_this188.getWidth(),0));_this188.serverImageSmoothingFix=false;return _this188;}_createClass(ar,[{key:"_getFrame",value:function _getFrame(){var t=this.getSize();return new Tst(0,0,t.width,t.height);}},{key:"_getTextFrame",value:function _getTextFrame(){return this._getFrame();}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(t){return t.getFrame().clone();}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){Y.warn("TextDesignRow is an abstract class.");}},{key:"_getLayoutElements",value:function _getLayoutElements(){if(this._options.elements.length<=0){this.layout();}return this.getElements();}},{key:"_fontSize",value:function _fontSize(t){Y.warn("TextDesignRow#_fontSize not implemented. @TODO: Is it necessary?");return 0;}},{key:"layout",value:function layout(){this.setElements(this._calculateLayoutElements());return this;}},{key:"textFrame",value:function textFrame(t,e){return t.getFrame().clone();}},{key:"willRender",value:function willRender(t){}},{key:"didRender",value:function didRender(t){}},{key:"render",value:function render(t){var _this189=this;t.save();this._getLayoutElements().forEach(function(e){var _e$serializeOptions=e.serializeOptions(),r=_e$serializeOptions.text,o=_e$serializeOptions.frame,n=_e$serializeOptions.font;var s=_this189.getAttributes();n.draw(t,o.x,o.y,{textColor:s.getTextColor().toRGBA(),alignment:s.getAlignment()});});t.restore();}}]);return ar;}(_t);ar.prototype.availableOptions={words:{type:"object","default":null},width:{type:"number","default":100},attributes:{type:"configurable","default":new ao()},shearingAngle:{type:"number","default":0},elements:{type:"array","default":[]},size:{type:"object","default":null}};});var kst,_Ah,No;var J9=d(function(){$();Kd();xc();Oh();kst=J.Rectangle;_Ah=/*#__PURE__*/function(_ar){_inherits(Ah,_ar);var _super143=_createSuper(Ah);function Ah(){_classCallCheck(this,Ah);return _super143.apply(this,arguments);}_createClass(Ah,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){if(this.getWords().size()<=0){return[];}var _this$serializeOption=this.serializeOptions(),t=_this$serializeOption.orientation,e=_this$serializeOption.width,r=_this$serializeOption.size,o=_this$serializeOption.relativeRowOffset,n=_this$serializeOption.attributes;var s=n.fontIdentifier;var a=this.getWords().joined(3);var l=t===_Ah.Orientations.Left?[a[0],a[1],a[2]]:[a[1],a[2],a[0]];var c=z.Array.range(0,2).map(function(bt){return new qi({text:l[bt],fontIdentifier:s,fontSize:60});});var u=c.map(function(bt){return bt.getSizeValue();});var m=u[0].width>u[1].width?0:1;var p=(m+1)%2;c[p].fitWidth(u[m].width);u[p]=c[p].getSizeValue();var h=(u[p].height+u[m].height)/(1-o);var g=new qi({text:l[2],fontIdentifier:s});g.fitHeight(h);var x=g.getSizeValue().width;var v=u[m].width;var b=e/(x+v);var T=b*x;var k=b*v;var E=b*h;var A=o*E;r.set(e,E);var I=z.Array.range(0,3).map(function(bt){return new qi({text:l[bt],fontIdentifier:s});});I[0].fitWidth(k);I[1].fitWidth(k);I[2].fitWidth(T);var F=t===_Ah.Orientations.Left?0:T;var Z=t===_Ah.Orientations.Left?k:0;var et=[F,F,Z];var pt=[0,I[0].getSizeValue().height+A,0];var yt=I.map(function(bt,ht){return new kst(et[ht],pt[ht],bt.getSizeValue().width,bt.getSizeValue().height);});return I.map(function(bt,ht){return new Yi({text:l[ht],font:I[ht],frame:yt[ht]});});}}]);return Ah;}(ar);No=_Ah;q(No,"Orientations",{Right:"RIGHT",Left:"LEFT"});No.prototype.availableOptions=_objectSpread(_objectSpread({},ar.prototype.availableOptions),{},{orientation:{type:"string","default":No.Orientations.Left,available:[No.Orientations.Right,No.Orientations.Left]},relativeRowOffset:{type:"number","default":.05}});});var Ist,_vt;var Pr=d(function(){$();Ist=J.Rectangle;_vt=/*#__PURE__*/function(){function vt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,vt);this.top=t;this.left=e;this.bottom=r;this.right=o;}_createClass(vt,[{key:"multiply",value:function multiply(t){this.top*=t;this.left*=t;this.bottom*=t;this.right*=t;}},{key:"toObject",value:function toObject(){return _objectSpread({},this);}},{key:"equals",value:function equals(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return Math.abs(t.top-this.top)<=e&&Math.abs(t.left-this.left)<=e&&Math.abs(t.bottom-this.bottom)<=e&&Math.abs(t.right-this.right)<=e;}},{key:"scale",value:function scale(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1?arguments[1]:undefined;if(e===void 0){e=t;}this.top*=e;this.bottom*=e;this.left*=t;this.right*=t;return this;}},{key:"clone",value:function clone(){return new _vt(this.top,this.left,this.bottom,this.right);}},{key:"applyToRectangle",value:function applyToRectangle(t){return new Ist(t.x+this.left,t.y+this.top,t.width-this.left-this.right,t.height-this.top-this.bottom);}}],[{key:"ZERO",get:function get(){return new _vt(0,0,0,0);}}]);return vt;}();});var xe;var lo=d(function(){$();Kd();Pr();xc();Oh();xe=/*#__PURE__*/function(_ar2){_inherits(xe,_ar2);var _super144=_createSuper(xe);function xe(){_classCallCheck(this,xe);return _super144.apply(this,arguments);}_createClass(xe,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var _this$serializeOption2=this.serializeOptions(),t=_this$serializeOption2.attributes,e=_this$serializeOption2.imageInsets,r=_this$serializeOption2.size,o=_this$serializeOption2.width;var n=this.getWords().joined(1)[0]||"";var s=t.fontIdentifier;var a=new qi({text:n,fontIdentifier:s});a.fitWidth(this._getTextFrame().width);var l=a.getTextMetrics().height+e.top+e.bottom;r.height=l;var c=this._getTextFrame();var u=new Yi({text:n,frame:c,font:a});return[u];}}]);return xe;}(ar);xe.prototype.availableOptions=_objectSpread(_objectSpread({},ar.prototype.availableOptions),{},{imageInsets:{type:"object","default":new _vt()}});});var Ws,Ei,AT,co,B_,qd,BT,Z9,Q9,Gs;var rl=d(function(){$();Ws=J.Rectangle;Ei=J.Vector2;AT=function AT(i,t,e,r){i.drawImage(t,e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height);};co=function co(i,t,e){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"source-over";var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;i.save();i.fillStyle=e.toRGBA();i.globalCompositeOperation=r;i.fillRect(t.x,t.y,t.width,t.height);if(o){i.strokeStyle=e.toRGBA();i.strokeWith=1;i.strokeRect(t.x,t.y,t.width,t.height);}i.restore();};B_=function B_(i,t,e,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"source-over";var n=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;i.save();i.fillStyle=r.toRGBA();i.globalCompositeOperation=o;e=Math.min(Math.max(e,0),Math.min(t.height,t.width)*.5);var s=t.x;var a=t.x+t.width;var l=t.y;var c=t.y+t.height;i.beginPath();i.moveTo(s+e,l);i.arcTo(a,l,a,c,e);i.arcTo(a,c,s,c,e);i.arcTo(s,c,s,l,e);i.arcTo(s,l,a,l,e);i.closePath();i.fill();if(n){i.stroke();}i.restore();};qd=function qd(i,t,e){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:4;i.save();i.strokeStyle=e.toRGBA();i.lineWidth=r;i.strokeRect(t.x,t.y,t.width,t.height);i.restore();};BT=function BT(i,t,e){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"source-over";i.save();var o=t.height/2;var n=t.y+o;var s=t.x+o;var a=t.x+t.width;i.fillStyle=e.toRGBA();i.globalCompositeOperation=r;while(s<a){i.beginPath();i.arc(s,n,o,0,2*Math.PI);i.fill();s+=o*4;}i.restore();};Z9=function Z9(i,t){var e=t.applyToRectangle(i);var r=i.x,o=i.y,n=i.width,s=i.height;var a=[Ws.FromDiagonalPoints(new Ei(0,0),new Ei(e.x,e.y)),Ws.FromDiagonalPoints(new Ei(0,e.y+e.height),new Ei(e.x,s)),Ws.FromDiagonalPoints(new Ei(e.x+e.width,e.y+e.height),new Ei(n,s)),Ws.FromDiagonalPoints(new Ei(e.x+e.width,0),new Ei(n,e.y))].map(function(c){return c.translate(r,o);});var l=[Ws.FromDiagonalPoints(new Ei(e.x,0),new Ei(e.x+e.width,e.y)),Ws.FromDiagonalPoints(new Ei(0,e.y),new Ei(e.x,e.y+e.height)),Ws.FromDiagonalPoints(new Ei(e.x,e.y+e.height),new Ei(e.x+e.width,s)),Ws.FromDiagonalPoints(new Ei(e.x+e.width,e.y),new Ei(n,e.y+e.height))].map(function(c){return c.translate(r,o);});return{corners:a,bars:l,center:e};};Q9=function Q9(i,t,e,r){var o=t.naturalWidth||t.width;var n=t.naturalHeight||t.height;var s=Z9(new Ws(0,0,o,n),r);var a=Z9(e,r);AT(i,t,s.center,a.center);z.Array.zip(s.corners,a.corners).forEach(function(_ref111){var _ref112=_slicedToArray(_ref111,2),l=_ref112[0],c=_ref112[1];return AT(i,t,l,c);});z.Array.zip(s.bars,a.bars).forEach(function(_ref113){var _ref114=_slicedToArray(_ref113,2),l=_ref114[0],c=_ref114[1];return AT(i,t,l,c);});};Gs=function Gs(i,t,e,r){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"source-atop";i.save();if(r){i.globalAlpha=r.a;}i.drawImage(t,e.x,e.y,e.width,e.height);if(r){i.globalAlpha=1;}if(r){var n=r.clone();n.a=1;co(i,e,n,o);}i.restore();};});var Vs;var P_=d(function(){$();rl();Pr();lo();Vs=/*#__PURE__*/function(_xe){_inherits(Vs,_xe);var _super145=_createSuper(Vs);function Vs(){_classCallCheck(this,Vs);return _super145.apply(this,arguments);}_createClass(Vs,[{key:"_getTextColor",value:function _getTextColor(){if(this.getAutoAdjustTextColor()&&!this.getIsMasked()){if(this.getBackgroundColor().equals(G.WHITE)){return G.BLACK;}return G.WHITE;}return this.getAttributes().getTextColor().clone();}},{key:"_getTextFrame",value:function _getTextFrame(){return this.getImageInsets().applyToRectangle(this._getFrame());}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(t){var e=_get(_getPrototypeOf(Vs.prototype),"_getTextFrameForElement",this).call(this,t);var r=this.getImageInsets();if(this.getIsMasked()||this.getIsUsedInInvertedLayout()){e.y-=r.top;}return e;}},{key:"willRender",value:function willRender(t){if(false){if(this.serverImageSmoothingFix){t.imageSmoothingEnabled=true;}}var e=this.getAttributes();e.setTextColor(this._getTextColor());var r=this.getImage();if(r){var o=this.getCapInsets();var n=this._getFrame();if(o&&!o.equals(_vt.ZERO)){Q9(t,r,n,o);}else{t.drawImage(r,n.x,n.y,n.width,n.height);}co(t,n,this.getBackgroundColor(),"source-atop",true);}if((this.getIsMasked()||this.getIsUsedInInvertedLayout())&&r){t.save();t.globalCompositeOperation="destination-out";}}},{key:"didRender",value:function didRender(t){_get(_getPrototypeOf(Vs.prototype),"didRender",this).call(this,t);if(this.getIsMasked()||this.getIsUsedInInvertedLayout()){t.restore();}}}]);return Vs;}(xe);Vs.prototype.availableOptions=_objectSpread(_objectSpread({},xe.prototype.availableOptions),{},{image:{type:"image","default":null},capInsets:{type:"object","default":new _vt()},backgroundColor:{type:"color","default":G.WHITE},autoAdjustTextColor:{type:"boolean","default":true},isMasked:{type:"boolean","default":true},isUsedInInvertedLayout:{type:"boolean","default":false}});});var _lr;var M_=d(function(){$();Pr();_lr=/*#__PURE__*/function(_t19){_inherits(lr,_t19);var _super146=_createSuper(lr);function lr(){_classCallCheck(this,lr);return _super146.apply(this,arguments);}_createClass(lr,[{key:"insetsForWidth",value:function insetsForWidth(t){return this.getRelativeInsets().clone().scale(t);}}],[{key:"Small",get:function get(){return new _lr({imagePath:"text-design/images/imgly_text_design_asset_banderole_small.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new _vt(.05,.2,.05,.2)});}},{key:"Rectangle",get:function get(){return new _lr({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new _vt(.05,.05,.05,.05),needsImageSmoothingFix:true});}},{key:"Celebrate1",get:function get(){return new _lr({imagePath:"text-design/images/imgly_text_design_asset_celebrate_01.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new _vt(.05,.2,.05,.2)});}},{key:"Celebrate2",get:function get(){return new _lr({imagePath:"text-design/images/imgly_text_design_asset_celebrate_02.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new _vt(.05,.2,.05,.2)});}}]);return lr;}(_t);_lr.prototype.availableOptions={image:{type:"image","default":null},imagePath:{type:"string","default":null},relativeInsets:{type:"object","default":new _vt()},fontIdentifier:{type:"string","default":"imgly_font_open_sans_bold"},needsImageSmoothingFix:{type:"boolean","default":false}};});var L_;var tU=d(function(){$();Pr();An();L_=/*#__PURE__*/function(_t20){_inherits(L_,_t20);var _super147=_createSuper(L_);function L_(){_classCallCheck(this,L_);return _super147.apply(this,arguments);}_createClass(L_,[{key:"getSize",value:function getSize(){var t=this.getRows();var e=this.getWidth();var r=t.length-1;var o=t.reduce(function(s,a){return s+a.getSize().height;},0);o+=(r+1)*this.getRelativeLineSpacing()*e;var n=this.getRelativeInsets().clone().scale(e);o+=n.top+n.bottom;return new _e8(e,o);}}]);return L_;}(_t);L_.prototype.availableOptions={text:{type:"string","default":""},lines:{type:"array","default":[]},relativeInsets:{type:"object","default":new _vt()},relativeLineSpacing:{type:"number","default":0},rows:{type:"object","default":[]},background:{type:"object","default":null},width:{type:"number","default":0}};});var _hi;var ol=d(function(){$();_hi=/*#__PURE__*/function(){function hi(t){_classCallCheck(this,hi);this.words=[];if(t){this.splitIntoWords(t);}}_createClass(hi,[{key:"splitIntoWords",value:function splitIntoWords(t){this.words=t.match(/\S+/g)||[];return _toConsumableArray(this.words);}},{key:"get",value:function get(){return _toConsumableArray(this.words);}},{key:"getWord",value:function getWord(t){return this.words[t];}},{key:"set",value:function set(t){this.words=_toConsumableArray(t);return this;}},{key:"slice",value:function slice(t,e){return _hi.fromWords(this.words.slice(t,e));}},{key:"getLowerCase",value:function getLowerCase(){return this.words.map(function(t){return t.toLowerCase();});}},{key:"getUpperCase",value:function getUpperCase(){return this.words.map(function(t){return t.toUpperCase();});}},{key:"size",value:function size(){return this.words.length;}},{key:"countNumberOfCharacters",value:function countNumberOfCharacters(){return this.words.reduce(function(t,e){return t+e.length;},0);}},{key:"joined",value:function joined(t){var _this190=this;var e=this.size();var r=Math.floor(e/t);var o=e%t;var n=0;var s=0;return z.Array.range(0,t).map(function(a){n=s;var l=r+(a<o?1:0);s=Math.min(n+l,e);return z.Array.range(n,s).reduce(function(c,u){return c+(u===n?"":" ")+_this190.words[u];},"");});}}],[{key:"fromWords",value:function fromWords(t){var e=new _hi();e.words=_toConsumableArray(t);return e;}}]);return hi;}();});var Dst,Est,Fst,ri;var Yd=d(function(){$();Br();Pr();lo();Xd();tU();ol();Dst=10;Est=4;Fst=.4;ri=/*#__PURE__*/function(_t21){_inherits(ri,_t21);var _super148=_createSuper(ri);function ri(t){var _this191;_classCallCheck(this,ri);_this191=_super148.call(this,t);_this191._relativeInsets=new _vt();_this191._background=null;_this191._fontRandomizer=new It(0);_this191._lineNumberRandomizer=new It(0);_this191._wordsPerLineRandomizer=new It(0);_this191._seedPool=[_this191._fontRandomizer,_this191._lineNumberRandomizer,_this191._wordsPerLineRandomizer];return _this191;}_createClass(ri,[{key:"seed",value:function seed(t){this._seedPool.forEach(function(e){return e.seed(t);});}},{key:"getImagePaths",value:function getImagePaths(){return[];}},{key:"onImagesLoaded",value:function onImagesLoaded(){}},{key:"getMaximumNumberOfTries",value:function getMaximumNumberOfTries(){return Dst;}},{key:"getMinLineCountOfRandom",value:function getMinLineCountOfRandom(){return Est;}},{key:"getRandomAdditionalLinePercentage",value:function getRandomAdditionalLinePercentage(){return Fst;}},{key:"_fontForRow",value:function _fontForRow(t,e){return this._fontRandomizer.pickNext(this.getFontIdentifiers());}},{key:"_modifiedText",value:function _modifiedText(t){return t.replace("\n"," ").replace("	"," ");}},{key:"_minimumNumberOfLines",value:function _minimumNumberOfLines(t){return Math.ceil(Math.sqrt(t.size()));}},{key:"_maximumNumberOfLines",value:function _maximumNumberOfLines(t){return t.size();}},{key:"_calculatedNumberOfLines",value:function _calculatedNumberOfLines(t){var e=this._minimumNumberOfLines(t);if(t.size()>=this.getMinLineCountOfRandom()){var r=Math.floor(Math.max(1,e*this.getRandomAdditionalLinePercentage()));e+=this._lineNumberRandomizer.nextInRange(0,r);}return Math.min(e,this._maximumNumberOfLines(t));}},{key:"_randomizedNumberOfWordsPerLine",value:function _randomizedNumberOfWordsPerLine(t,e){var _this192=this;if(t>e){Y.warn("TextDesign#_randomizedNumberOfWordsPerLine: Invalid number of lines");return e;}var r=z.Array.repeat(1,t);z.Array.range(t,e).forEach(function(o){var n=_this192._wordsPerLineRandomizer.nextInRange(0,t-1);r[n]+=1;});return r;}},{key:"_textLines",value:function _textLines(t){var e=new _hi(t);var r=this._calculatedNumberOfLines(e);var o=this._randomizedNumberOfWordsPerLine(r,e.size());return o.reduce(function(n,s){return{index:n.index+s,lines:[].concat(_toConsumableArray(n.lines),[e.slice(n.index,Math.min(n.index+s,e.size()))])};},{index:0,lines:[]}).lines;}},{key:"_validTextLines",value:function _validTextLines(t){var e=this._textLines(t);var r=0;do{r=z.Array.findIndex(e,function(o){return o.countNumberOfCharacters()<3;});if(r>=0){var o=e[r-1];var n=e[r+1];var s=o?o.countNumberOfCharacters():Number.MAX_SAFE_INTEGER;var a=n?n.countNumberOfCharacters():Number.MAX_SAFE_INTEGER;if(s<a&&o){o.words=[].concat(_toConsumableArray(o.words),_toConsumableArray(e[r].words));e=[].concat(_toConsumableArray(e.slice(0,r)),_toConsumableArray(e.slice(r+1)));}else if(n){n.words=[].concat(_toConsumableArray(e[r].words),_toConsumableArray(n.words));e=[].concat(_toConsumableArray(e.slice(0,r)),_toConsumableArray(e.slice(r+1)));}}}while(r>-1&&e.length>1);return e;}},{key:"_modifiedLines",value:function _modifiedLines(t){return t;}},{key:"_getBackground",value:function _getBackground(){return this._background;}},{key:"generateLayoutData",value:function generateLayoutData(t,e){var r=this._modifiedText(t);var o=this._modifiedLines(this._validTextLines(r));var n=e*(1-this._relativeInsets.left-this._relativeInsets.right);var s=this._layoutRows(o,n);return new L_({text:r,relativeInsets:this._relativeInsets.clone(),relativeLineSpacing:this.getRelativeLineSpacing(),background:this._background||this._getBackground(),lines:o,rows:s,width:e});}},{key:"_layoutRows",value:function _layoutRows(t,e){var _this193=this;return t.map(function(r,o){return _this193._randomLayoutRow(r,o,e,new ao({fontIdentifier:_this193._fontForRow(o,r)})).layout();});}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){return new xe({words:t,width:r,attributes:o});}}]);return ri;}(_t);q(ri,"defaultFontIdentifiers",[]);q(ri,"identifier","textdesign");ri.prototype.availableOptions={fontIdentifiers:{type:"array","default":[]},relativeLineSpacing:{type:"number","default":0}};});var oi;var Jd=d(function(){$();Br();J9();lo();P_();Xd();M_();so();Yd();oi=/*#__PURE__*/function(_ri){_inherits(oi,_ri);var _super149=_createSuper(oi);function oi(){var _this194;_classCallCheck(this,oi);for(var _len85=arguments.length,t=new Array(_len85),_key85=0;_key85<_len85;_key85++){t[_key85]=arguments[_key85];}_this194=_super149.call.apply(_super149,[this].concat(t));q(_assertThisInitialized(_this194),"getImagePaths",function(){var t=_this194.getBanderoles();return t&&t.map(function(e){return e.getImagePath();})||[];});q(_assertThisInitialized(_this194),"onImagesLoaded",function(){var t=_this194.getBanderoles();if(t){t.forEach(function(e){var r=Kt.getImage(e.getImagePath());if(!r){Y.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"));return;}e.setImage(r);});}});_this194._rowTypeLessThan3WordsRandomizer=new It(0);_this194._rowTypeMoreThan3WordsRandomizer=new It(0);_this194._banderolesRandomizer=new It(0);_this194._seedPool=[].concat(_toConsumableArray(_this194._seedPool),[_this194._rowTypeLessThan3WordsRandomizer,_this194._rowTypeMoreThan3WordsRandomizer,_this194._banderolesRandomizer]);return _this194;}_createClass(oi,[{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(oi.prototype),"_modifiedText",this).call(this,t).toUpperCase();}},{key:"generateLayoutData",value:function generateLayoutData(t,e){this._options.hasMaskedText=false;return _get(_getPrototypeOf(oi.prototype),"generateLayoutData",this).call(this,t,e);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){if(t.size()<3){var s=this._rowTypeLessThan3WordsRandomizer.nextInRange(0,2)===0;return this._layoutRow(t,r,o,s);}var n=this._rowTypeMoreThan3WordsRandomizer.nextInRange(0,3);switch(n){case 0:return new No({words:t,width:r,attributes:o,orientation:No.Orientations.Left});case 1:return new No({words:t,width:r,attributes:o,orientation:No.Orientations.Right});case 2:return this._layoutRow(t,r,o,true);case 3:return new xe({words:t,width:r,attributes:o});default:throw new Error("TextDesignBlocks#_randomLayoutRow: Invalid randomValue generated: ".concat(n,"."));}}},{key:"_layoutRow",value:function _layoutRow(t,e,r,o){if(this.getHasMaskedText()){o=false;}if(o){this.setHasMaskedText(true);var n=this._banderolesRandomizer.pickNext(this.getBanderoles());var s=new Vs({words:t,width:e,attributes:new ao({alignment:"left",fontIdentifier:n.getFontIdentifier()}),image:n.getImage(),imageInsets:n.insetsForWidth(e),capInsets:null,backgroundColor:G.WHITE});if(n.getNeedsImageSmoothingFix()){s.serverImageSmoothingFix=true;}return s;}return new xe({words:t,width:e,attributes:r});}}]);return oi;}(ri);q(oi,"defaultFontIdentifiers",["imgly_font_outfit_bold"]);q(oi,"identifier","imgly_text_design_blocks");q(oi,"defaultBanderoles",[_lr.Rectangle,_lr.Small]);oi.prototype.availableOptions=_objectSpread(_objectSpread({},ri.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":oi.defaultFontIdentifiers},relativeLineSpacing:{type:"number","default":.025/3},hasMaskedText:{type:"boolean","default":false},banderoles:{type:"array","default":oi.defaultBanderoles}});});var vc;var eU=d(function(){$();lo();Jd();vc=/*#__PURE__*/function(_oi){_inherits(vc,_oi);var _super150=_createSuper(vc);function vc(){var _this195;_classCallCheck(this,vc);for(var _len86=arguments.length,t=new Array(_len86),_key86=0;_key86<_len86;_key86++){t[_key86]=arguments[_key86];}_this195=_super150.call.apply(_super150,[this].concat(t));_this195._exclusiveFont=null;return _this195;}_createClass(vc,[{key:"generateLayoutData",value:function generateLayoutData(t,e){this._exclusiveFont=this._fontRandomizer.pickNext(this.getFontIdentifiers());return _get(_getPrototypeOf(vc.prototype),"generateLayoutData",this).call(this,t,e);}},{key:"_fontForRow",value:function _fontForRow(t,e){return this._exclusiveFont||_get(_getPrototypeOf(vc.prototype),"_fontForRow",this).call(this,t,e);}},{key:"_layoutRow",value:function _layoutRow(t,e,r,o){return new xe({words:t,width:e,attributes:r});}}]);return vc;}(oi);q(vc,"defaultFontIdentifiers",["imgly_font_ostrich_sans_heavy","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_black"]);q(vc,"identifier","imgly_text_design_blocks_condensed");vc.prototype.availableOptions=_objectSpread(_objectSpread({},oi.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":vc.defaultFontIdentifiers}});});var Bh,_nl,cr;var PT=d(function(){$();rl();An();xc();Oh();Bh=J.Rectangle;_nl=/*#__PURE__*/function(_ar3){_inherits(nl,_ar3);var _super151=_createSuper(nl);function nl(){var _this196;_classCallCheck(this,nl);for(var _len87=arguments.length,t=new Array(_len87),_key87=0;_key87<_len87;_key87++){t[_key87]=arguments[_key87];}_this196=_super151.call.apply(_super151,[this].concat(t));_this196.setSize(new _e8(_this196.getWidth(),_this196.getHeight()));return _this196;}_createClass(nl,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){return[new Yi({frame:this._getTextFrame()})];}},{key:"render",value:function render(t){var e=this._getFrame();var r=this.getType();var o=this.getAttributes();var n=o.getTextColor();var s=e.height/3;var a=new Bh(e.x,e.y,e.width,s);var l=new Bh(e.x,e.y+s*2,e.width,s);switch(r){case _nl.FormType.Rect:co(t,e,n);break;case _nl.FormType.DoubleRect:co(t,a,n);co(t,l,n);break;case _nl.FormType.DoubleRectFirstPunctuated:BT(t,a,n);co(t,l,n);break;case _nl.FormType.DoubleRectSecondPunctuated:co(t,a,n);BT(t,l,n);break;case _nl.FormType.LongLine:{var c=e.height/2;var u=new Bh(e.x,e.y,e.width,c);B_(t,u,u.height*.5,n);break;}case _nl.FormType.LongAndShortLine:{var _c5=e.height*.2;var _u3=_c5*.75;a=new Bh(e.x,e.y+_c5,e.width,_c5);var m=e.x+e.width*.25;var p=e.y+e.height-_u3;l=new Bh(m,p,e.width*.5,_u3);B_(t,a,a.height*.5,n);B_(t,l,l.height*.5,n);break;}default:break;}}}]);return nl;}(ar);cr=_nl;q(cr,"FormType",{Rect:"RECT",DoubleRect:"DOUBLE_RECT",DoubleRectFirstPunctuated:"DOUBLE_RECT_FIRST_PUNCTUATED",DoubleRectSecondPunctuated:"DOUBLE_RECT_SECOND_PUNCTUATED",LongLine:"LONG_LINE",LongAndShortLine:"LONG_AND_SHORT_LINE"});cr.prototype.availableOptions=_objectSpread(_objectSpread({},ar.prototype.availableOptions),{},{height:{type:"number","default":100},type:{type:"string","default":cr.FormType.Rect,available:z.values(cr.FormType)}});});var Bn;var MT=d(function(){$();lo();PT();Jd();Bn=/*#__PURE__*/function(_oi2){_inherits(Bn,_oi2);var _super152=_createSuper(Bn);function Bn(){_classCallCheck(this,Bn);return _super152.apply(this,arguments);}_createClass(Bn,[{key:"_layoutRow",value:function _layoutRow(t,e,r,o){return new xe({words:t,width:e,attributes:r});}},{key:"_layoutRows",value:function _layoutRows(t,e){var r=_get(_getPrototypeOf(Bn.prototype),"_layoutRows",this).call(this,t,e);var o=.032*e;var n=.08*e;var s=new cr({width:e,height:o,type:cr.FormType.LongLine,shearingAngle:0}).layout();var a=new cr({width:e,height:n,type:cr.FormType.LongAndShortLine,shearingAngle:0}).layout();return[s].concat(_toConsumableArray(r),[a]);}}]);return Bn;}(oi);q(Bn,"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]);q(Bn,"identifier","imgly_text_design_blocks_light");Bn.prototype.availableOptions=_objectSpread(_objectSpread({},oi.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Bn.defaultFontIdentifiers}});});var Cc;var iU=d(function(){$();lo();Xd();MT();Cc=/*#__PURE__*/function(_Bn){_inherits(Cc,_Bn);var _super153=_createSuper(Cc);function Cc(){_classCallCheck(this,Cc);return _super153.apply(this,arguments);}_createClass(Cc,[{key:"_layoutRows",value:function _layoutRows(t,e){var _this197=this;return t.map(function(r,o){return _this197._randomLayoutRow(r,o,e,new ao({fontIdentifier:_this197._fontForRow(o,r)})).layout();});}},{key:"_layoutRow",value:function _layoutRow(t,e,r,o){return new xe({words:t,width:e,attributes:r});}}]);return Cc;}(Bn);q(Cc,"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]);q(Cc,"identifier","imgly_text_design_blocks_light-v3_1_0");Cc.prototype.availableOptions=_objectSpread(_objectSpread({},Bn.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Cc.defaultFontIdentifiers}});});var Rst,_z_,Ho;var U_=d(function(){$();Kd();rl();An();xc();lo();Rst=J.Rectangle;_z_=/*#__PURE__*/function(_xe2){_inherits(z_,_xe2);var _super154=_createSuper(z_);function z_(){_classCallCheck(this,z_);return _super154.apply(this,arguments);}_createClass(z_,[{key:"getImageSize",value:function getImageSize(){var t=this.getLeftImage();var e=this.getRightImage();var r=this.getWords();var o=this.getAttributes();var n=o.getFontIdentifier();var s=t?new _e8(t.width,t.height):new _e8();var a=r.joined(1)[0];if(!a){return s;}var l=new qi({text:a,fontIdentifier:n,fontSize:50});var c=l.getSizeValue();var u=e?2:1;s.scale(u,1);var m=s.clone().fitInWidthWithOther(this._getFrame().width,c);m.scale(1/u,1);return m;}},{key:"_getTextFrame",value:function _getTextFrame(){var t=_get(_getPrototypeOf(z_.prototype),"_getTextFrame",this).call(this).clone();var e=this.getImageSize();var r=this.getRightImage();var o=this.getImagePosition();if(!r){if(o===_z_.ImagePosition.Left){t.x+=e.width;}}else{t.x+=e.width;t.width-=2*e.width;}return t;}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var t=_get(_getPrototypeOf(z_.prototype),"_calculateLayoutElements",this).call(this);var e=this._getFrame();var r=this.getRightImage();var o=this.getImageSize();var n=this.getImagePosition();var s=this._getTextFrame();var a=this.getAttributes();var l=a.getFontIdentifier();var c=new qi({text:"stickerClock",fontIdentifier:l});c.fitWidth(this._getTextFrame().width);var u=new Rst().set(e.x,e.y,o.width,o.height);if(!r&&n===_z_.ImagePosition.Right){u.x+=s.width;}t.push(new Yi({text:"stickerClock",frame:u,font:c}));if(r){var m=t[0];if(m){var p=u.clone();p.translate(m.getFrame().width+p.width,0);t.push(new Yi({text:"stickerClock",frame:p,font:c}));}}return t;}},{key:"render",value:function render(t){var e=this._getLayoutElements();var r=this.getAttributes();var o=r.getTextColor();var n=this.getLeftImage();var s=this.getRightImage();var a=e[0];var l=e[1];var _a$serializeOptions=a.serializeOptions(),c=_a$serializeOptions.font;var u=this._getTextFrameForElement(a);c.draw(t,u.x,u.y,{textColor:r.getTextColor().toRGBA(),alignment:r.getAlignment()});if(n){var m=l.getFrame();t.drawImage(n,m.x,m.y,m.width,m.height);co(t,m,o,"source-atop");}if(e.length>2){var _m3=e[2];var p=_m3.getFrame().clone();t.drawImage(s,p.x,p.y,p.width,p.height);co(t,p,o,"source-atop");}}}]);return z_;}(xe);Ho=_z_;q(Ho,"ImagePosition",{Left:"LEFT",right:"RIGHT"});Ho.prototype.availableOptions=_objectSpread(_objectSpread({},xe.prototype.availableOptions),{},{leftImage:{type:"image","default":null},rightImage:{type:"image","default":null},imagePosition:{type:"string","default":Ho.ImagePosition.Left,available:[Ho.ImagePosition.Left,Ho.ImagePosition.Right]}});});var _Ph,Mr;var LT=d(function(){$();lo();U_();M_();ol();Jd();_Ph=/*#__PURE__*/function(_oi3){_inherits(Ph,_oi3);var _super155=_createSuper(Ph);function Ph(){_classCallCheck(this,Ph);return _super155.apply(this,arguments);}_createClass(Ph,[{key:"_fontForRow",value:function _fontForRow(t,e){var r=this.getFontIdentifiers();return r[t%r.length];}},{key:"_minimumNumberOfLines",value:function _minimumNumberOfLines(t){return Math.max(Math.floor(_get(_getPrototypeOf(Ph.prototype),"_minimumNumberOfLines",this).call(this,t)*.7),1);}},{key:"_maximumNumberOfLines",value:function _maximumNumberOfLines(t){return Math.max(Math.floor(t.countNumberOfCharacters()/5),1);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){return this._createSingleRow(_Ph.RowType.Single,t,r,o);}},{key:"_createSingleRow",value:function _createSingleRow(t,e,r,o){var n=o.getFontIdentifier();var s=n==="imgly_font_allison_regular"||n==="imgly_font_handycheera_regular"?new _hi().set(e.getLowerCase()):e;switch(t){case _Ph.RowType.Single:return new xe({words:s,width:r,attributes:o});case _Ph.RowType.SingleImage:return new Ho({words:s,width:r,attributes:o});default:Y.warn("TextDesignCelebrate#_createSingleRow: Invalid row type '".concat(t,"'"));return null;}}}]);return Ph;}(oi);Mr=_Ph;q(Mr,"defaultFontIdentifiers",["imgly_font_handycheera_regular","imgly_font_rasa_regular"]);q(Mr,"defaultBanderoles",[_lr.Celebrate1,_lr.Celebrate2]);q(Mr,"identifier","imgly_text_design_celebrate");q(Mr,"RowType",{Single:"SINGLE",SingleImage:"SINGLE_IMAGE"});Mr.prototype.availableOptions=_objectSpread(_objectSpread({},oi.prototype.availableOptions),{},{relativeLineSpacing:{type:"number","default":.01875},fontIdentifiers:{type:"array","default":Mr.defaultFontIdentifiers},banderoles:{type:"array","default":Mr.defaultBanderoles}});});var ni;var N_=d(function(){$();Kd();ol();rl();An();Xd();xc();Oh();ni=/*#__PURE__*/function(_ar4){_inherits(ni,_ar4);var _super156=_createSuper(ni);function ni(){var _this198;_classCallCheck(this,ni);for(var _len88=arguments.length,t=new Array(_len88),_key88=0;_key88<_len88;_key88++){t[_key88]=arguments[_key88];}_this198=_super156.call.apply(_super156,[this].concat(t));_this198.setSize(new _e8(_this198.getWidth(),_this198.getHeight()));return _this198;}_createClass(ni,[{key:"_getImageFrame",value:function _getImageFrame(){var t=this._getTextFrame().clone();var e=this.getImage();if(this.getDrawingModeAspectFit()&&e){var r=Math.min(t.width/e.width,t.height/e.height);var o=e.width*r;var n=e.height*r;t.x+=(t.width-o)/2;t.y+=(t.height-n)/2;t.width=o;t.height=n;}return t;}},{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){return[new Yi({text:"",frame:this._getImageFrame(),font:new qi()})];}},{key:"render",value:function render(t){var e=this.getImage();var r=this._getImageFrame();var o=this.getAttributes();var n=o.getTextColor();Gs(t,e,r,n);}}]);return ni;}(ar);q(ni,"RowImages",{decorative1:"text-design/images/imgly_text_design_asset_decorative_01.png",decorative2:"text-design/images/imgly_text_design_asset_decorative_02.png",decorative3:"text-design/images/imgly_text_design_asset_decorative_05.png",decorative4:"text-design/images/imgly_text_design_asset_decorative_06.png",celebrate1:"text-design/images/imgly_text_design_asset_celebrate_03.png",celebrate2:"text-design/images/imgly_text_design_asset_celebrate_04.png",celebrate3:"text-design/images/imgly_text_design_asset_celebrate_05.png"});ni.prototype.availableOptions=_objectSpread(_objectSpread({},ar.prototype.availableOptions),{},{words:{type:"object","default":new _hi()},height:{type:"number","default":0},image:{type:"image","default":null},imagePath:{type:"string","default":ni.RowImages.decorative1},drawingModeAspectFit:{type:"boolean","default":false},attributes:{type:"configurable","default":new ao()}});});var Sc;var rU=d(function(){$();Br();lo();U_();N_();M_();so();ol();Jd();LT();Sc=/*#__PURE__*/function(_Mr){_inherits(Sc,_Mr);var _super157=_createSuper(Sc);function Sc(){var _this199;_classCallCheck(this,Sc);for(var _len89=arguments.length,t=new Array(_len89),_key89=0;_key89<_len89;_key89++){t[_key89]=arguments[_key89];}_this199=_super157.call.apply(_super157,[this].concat(t));q(_assertThisInitialized(_this199),"getImagePaths",function(){var t=_this199.getBanderoles();return[].concat(_toConsumableArray(t&&t.map(function(e){return e.getImagePath();})||[]),_toConsumableArray(_this199._celebrateTypes));});q(_assertThisInitialized(_this199),"onImagesLoaded",function(){var t=_this199.getBanderoles();if(t){t.forEach(function(e){var r=Kt.getImage(e.getImagePath());if(!r){Y.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"));return;}e.setImage(r);});}});_this199._celebrateTypes=[ni.RowImages.celebrate1,ni.RowImages.celebrate2,ni.RowImages.celebrate3];_this199._exclusiveFont=null;_this199._typeRandomizer=new It(0);_this199._useMaskedRandomizer=new It(0);_this199._seedPool.push(_this199._typeRandomizer);_this199._seedPool.push(_this199._useMaskedRandomizer);return _this199;}_createClass(Sc,[{key:"_fontForRow",value:function _fontForRow(t,e){var r=this.getFontIdentifiers();return r[t%(r.length-1)];}},{key:"_layoutRows",value:function _layoutRows(t,e){var r=this._typeRandomizer.pickNext(this._celebrateTypes);var o=Kt.getImage(r);if(!o){Y.warn("TextDesignCelebrateSimple#_layoutRows: Image not fount '".concat(r,"'"));}var n=new ni({width:e,height:e*.5,drawingModeAspectFit:true,image:o}).layout();var s=_get(_getPrototypeOf(Sc.prototype),"_layoutRows",this).call(this,t,e);return[n].concat(_toConsumableArray(s));}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=t.countNumberOfCharacters();var s=13;var a=4;if(n<a){o.setFontIdentifier("imgly_font_rasa_regular");}var l=this._useMaskedRandomizer.nextBool(2,1);if(n<s&&l&&!this.getHasMaskedText()){return this._layoutRow(t,r,o,true);}return _get(_getPrototypeOf(Sc.prototype),"_randomLayoutRow",this).call(this,t,e,r,o);}}]);return Sc;}(Mr);q(Sc,"identifier","imgly_text_design_celebrate_simple");q(Sc,"defaultFontIdentifiers",["imgly_font_allison_regular","imgly_font_rasa_regular","imgly_font_rasa_500"]);Sc.prototype.availableOptions=_objectSpread(_objectSpread({},Mr.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Sc.defaultFontIdentifiers}});});var wc;var zT=d(function(){$();wc=/*#__PURE__*/function(_t22){_inherits(wc,_t22);var _super158=_createSuper(wc);function wc(){_classCallCheck(this,wc);return _super158.apply(this,arguments);}_createClass(wc,[{key:"render",value:function render(t,e,r,o,n){Y.warn("TextDesignBackground#render: Abstract class");}}]);return wc;}(_t);wc.prototype.availableOptions={};});var H_,Pn;var oU=d(function(){$();so();rl();zT();H_=J.Rectangle;Pn=/*#__PURE__*/function(_wc){_inherits(Pn,_wc);var _super159=_createSuper(Pn);function Pn(){_classCallCheck(this,Pn);return _super159.apply(this,arguments);}_createClass(Pn,[{key:"getImagePaths",value:function getImagePaths(){var _this$_options29=this._options,t=_this$_options29.topImagePath,e=_this$_options29.bottomImagePath,r=_this$_options29.leftImagePath,o=_this$_options29.rightImagePath;return[t,e,r,o].filter(function(n){return n!=="";});}},{key:"render",value:function render(t,e,r,o,n){var s=r.clone().scale(e.width);var a=e.rectangle(0,0);var l=Kt.getImage(this.getTopImagePath());var c=Kt.getImage(this.getLeftImagePath());var u=Kt.getImage(this.getRightImagePath());var m=Kt.getImage(this.getBottomImagePath());if(l){var p=l.width/l.height;var h=s.top*this.getTopImageFillRate();var g=h*p;var x=a.width/2;var v=x-g/2;var b=new H_(v,0,g,h);Gs(t,l,b,o);}if(m){var _p2=m.width/m.height;var _h11=s.bottom*this.getBottomImageFillRate();var _g2=_h11*_p2;var _x14=a.width/2;var _v4=_x14-_g2/2;var _b5=new H_(_v4,a.height-_h11,_g2,_h11);Gs(t,m,_b5,o);}if(c){var _p3=c.width/c.height;var _h12=s.left*this.getLeftImageFillRate();var _g3=_h12/_p3;var _x15=a.height/2;var _v5=_x15-_g3/2;var _b6=new H_(0,_v5,_h12,_g3);Gs(t,c,_b6,o);}if(u){var _p4=u.width/u.height;var _h13=s.right*this.getRightImageFillRate();var _g4=_h13/_p4;var _x16=a.height/2;var _v6=_x16-_g4/2;var _b7=new H_(a.width-_h13,_v6,_h13,_g4);Gs(t,u,_b7,o);}}}]);return Pn;}(wc);Pn.prototype.availableOptions={topImagePath:{type:"string","default":""},leftImagePath:{type:"string","default":""},bottomImagePath:{type:"string","default":""},rightImagePath:{type:"string","default":""},topImageFillRate:{type:"number","default":1},leftImageFillRate:{type:"number","default":1},bottomImageFillRate:{type:"number","default":1},rightImageFillRate:{type:"number","default":1}};Pn.Backgrounds=[new Pn({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_3.png",topImageFillRate:.8,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.8}),new Pn({leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_2.png",leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6}),new Pn({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_2.png",topImageFillRate:.6,bottomImageFillRate:.6}),new Pn({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_2.png",topImageFillRate:.1,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6})];});var Mn;var UT=d(function(){$();oU();Br();Pr();lo();ol();Yd();Mn=/*#__PURE__*/function(_ri2){_inherits(Mn,_ri2);var _super160=_createSuper(Mn);function Mn(){var _this200;_classCallCheck(this,Mn);for(var _len90=arguments.length,t=new Array(_len90),_key90=0;_key90<_len90;_key90++){t[_key90]=arguments[_key90];}_this200=_super160.call.apply(_super160,[this].concat(t));_this200._relativeInsets=new _vt(.1,.1,.1,.1);_this200._alreadyContainsARowWithScriptFont=false;_this200._backgroundsRandomizer=new It(0);_this200._seedPool.push(_this200._backgroundsRandomizer);return _this200;}_createClass(Mn,[{key:"getImagePaths",value:function getImagePaths(){return z.Array.flatten(Pn.Backgrounds.map(function(t){return t.getImagePaths();}));}},{key:"_getBackground",value:function _getBackground(){return this._backgroundsRandomizer.pickNext(Pn.Backgrounds);}},{key:"generateLayoutData",value:function generateLayoutData(t,e){this._alreadyContainsARowWithScriptFont=false;this._background=this._getBackground();return _get(_getPrototypeOf(Mn.prototype),"generateLayoutData",this).call(this,t,e);}},{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(Mn.prototype),"_modifiedText",this).call(this,t).toUpperCase();}},{key:"_fontForRow",value:function _fontForRow(t,e){var r=_get(_getPrototypeOf(Mn.prototype),"_fontForRow",this).call(this,t,e);if(r==="imgly_font_petit_formal_script"){if(this._alreadyContainsARowWithScriptFont){r="imgly_font_bungee_inline";}this._alreadyContainsARowWithScriptFont=true;}return r;}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=o.getFontIdentifier()==="imgly_font_petit_formal_script";return new xe({words:n?new _hi().set(t.getLowerCase()):t,width:r,attributes:o});}}]);return Mn;}(ri);q(Mn,"identifier","imgly_text_design_equal_width");q(Mn,"defaultFontIdentifiers",["imgly_font_ultra","imgly_font_bungee_inline","imgly_font_petit_formal_script"]);Mn.prototype.availableOptions=_objectSpread(_objectSpread({},ri.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Mn.defaultFontIdentifiers},relativeLineSpacing:{type:"number","default":.025}});});var Tc;var nU=d(function(){$();Pr();UT();Tc=/*#__PURE__*/function(_Mn){_inherits(Tc,_Mn);var _super161=_createSuper(Tc);function Tc(){var _this201;_classCallCheck(this,Tc);for(var _len91=arguments.length,t=new Array(_len91),_key91=0;_key91<_len91;_key91++){t[_key91]=arguments[_key91];}_this201=_super161.call.apply(_super161,[this].concat(t));_this201._relativeInsets=new _vt();return _this201;}_createClass(Tc,[{key:"_getBackground",value:function _getBackground(){return null;}}]);return Tc;}(Mn);q(Tc,"defaultFontIdentifiers",["imgly_font_ultra"]);q(Tc,"identifier","imgly_text_design_equal_width_fat");Tc.prototype.availableOptions=_objectSpread(_objectSpread({},Mn.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Tc.defaultFontIdentifiers}});});var xt;var Zd=d(function(){$();Pr();xt=/*#__PURE__*/function(_t23){_inherits(xt,_t23);var _super162=_createSuper(xt);function xt(){_classCallCheck(this,xt);return _super162.apply(this,arguments);}_createClass(xt,[{key:"insetsForWidth",value:function insetsForWidth(t){var e=this.getRelativeInsets().clone();return e.scale(t);}}]);return xt;}(_t);xt.prototype.availableOptions={imagePath:{type:"string","default":""},minimumHeightRatio:{type:"number","default":0},sizeToFitContent:{type:"boolean","default":true},capInsets:{type:"object","default":new _vt()},relativeInsets:{type:"object","default":new _vt()}};xt.Box=new xt({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",relativeInsets:new _vt(.1,.1,.1,.1)});xt.Badge1=new xt({imagePath:"text-design/images/imgly_text_design_asset_badge1.png",relativeInsets:new _vt(.3,.18,.2,.18)});xt.Badge2=new xt({imagePath:"text-design/images/imgly_text_design_asset_badge2.png",relativeInsets:new _vt(.3,.18,.2,.18)});xt.Badge3=new xt({imagePath:"text-design/images/imgly_text_design_asset_badge3.png",relativeInsets:new _vt(.3,.18,.2,.18)});xt.Badge4=new xt({imagePath:"text-design/images/imgly_text_design_asset_badge4.png",relativeInsets:new _vt(.3,.18,.2,.18)});xt.SpeechBubble1=new xt({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small2.png",relativeInsets:new _vt(.04,.07,.12,.07),capInsets:new _vt(19*3,57*3,41*3,17*3)});xt.SpeechBubble2=new xt({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble3.png",relativeInsets:new _vt(.04,.07,.12,.07),capInsets:new _vt(2*3,35*3,29*3,5*3)});xt.SpeechBubble3=new xt({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small.png",relativeInsets:new _vt(.165664675,.2,.165664675,.2),minimumHeightRatio:.7});xt.SpeechBubble4=new xt({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble4.png",relativeInsets:new _vt(.124800224,.2,.291200523,.2),minimumHeightRatio:.7});xt.SpeechBubble5=new xt({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble5.png",relativeInsets:new _vt(.114892823,.27,.15984926,.27)});xt.Watercolor1=new xt({imagePath:"text-design/images/imgly_text_design_asset_watercolor_01.png",minimumHeightRatio:.7,relativeInsets:new _vt(.2,.25,.2,.25)});xt.Watercolor2=new xt({imagePath:"text-design/images/imgly_text_design_asset_watercolor_02.png",minimumHeightRatio:.7,relativeInsets:new _vt(.08,.25,.3,.25)});xt.Watercolor3=new xt({imagePath:"text-design/images/imgly_text_design_asset_watercolor_03.png",minimumHeightRatio:.7,relativeInsets:new _vt(.1,.2,.15,.2)});});var sU=Gt(function(W_){"use strict";Object.defineProperty(W_,"__esModule",{value:true});W_.arabic=void 0;var Ost="\u0620-\u064A\u066E-\u066F\u0671-\u06D5\u06EE-\u06EF\u06FA-\u06FF";var Ast="\u0750-\u077F";var Bst="[".concat(Ost).concat(Ast,"]");var Pst="[\u064B-\u065F\u0670]";var Mst="".concat(Bst).concat(Pst,"*");W_.arabic=Mst;});var lU=Gt(function(G_){"use strict";Object.defineProperty(G_,"__esModule",{value:true});G_.bengali=void 0;var aU="[\\u{0980}-\\u{09FF}]";var Lst="[\\u{0980}-\\u{0983}\\u{09BC}-\\u{09D7}\\u{09E2}\\u{09E3}\\u{09FE}]";var zst="\\u{09CD}";var Ust="".concat(aU,"(").concat(zst).concat(aU,"|").concat(Lst,")*");G_.bengali=Ust;});var uU=Gt(function(V_){"use strict";Object.defineProperty(V_,"__esModule",{value:true});V_.devanagari=void 0;var cU="[\\u{0900}-\\u{097F}]";var Nst="[\\u{0900}-\\u{0903}\\u{093A}-\\u{0957}\\u{0962}\\u{0963}]";var Hst="\\u{094D}";var Wst="".concat(cU,"(").concat(Hst).concat(cU,"|").concat(Nst,")*");V_.devanagari=Wst;});var mU=Gt(function(j_){"use strict";Object.defineProperty(j_,"__esModule",{value:true});j_.gujarati=void 0;var dU="[\\u{0A80}-\\u{0AFF}]";var Gst="[\\u{0A81}-\\u{0A83}\\u{0ABC}\\u{0ABE}-\\u{0ACD}\\u{0AE2}\\u{0AE3}\\u{0AFA}-\\u{0AFF}]";var Vst="\\u{0ACD}";var jst="".concat(dU,"(").concat(Vst).concat(dU,"|").concat(Gst,")*");j_.gujarati=jst;});var pU=Gt(function($_){"use strict";Object.defineProperty($_,"__esModule",{value:true});$_.hebrew=void 0;var $st="[\u05D0-\u05EA]";var Kst="[\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7]";var Xst="".concat($st).concat(Kst,"*");$_.hebrew=Xst;});var hU=Gt(function(K_){"use strict";Object.defineProperty(K_,"__esModule",{value:true});K_.japaneseKana=void 0;var qst="[\\u{3041}-\\u{3096}\\u{309D}-\\u{309F}]";var Yst="[\\u{30A0}-\\u{30FF}]";var Jst="[\\u{3099}-\\u{309A}]";var Zst="[\\u{309B}-\\u{309C}]";var Qst="((".concat(Yst,"|").concat(qst,")").concat(Jst,"?|").concat(Zst,")");K_.japaneseKana=Qst;});var gU=Gt(function(X_){"use strict";Object.defineProperty(X_,"__esModule",{value:true});X_.kannada=void 0;var fU="[\\u{0C80}-\\u{0CFF}]";var tat="[\\u{0C81}-\\u{0C83}\\u{0CBC}\\u{0CBE}-\\u{0CCD}\\u{0CD5}\\u{0CD6}\\u{0CE2}\\u{0CE3}]";var eat="\\u{0CCD}";var iat="".concat(fU,"(").concat(eat).concat(fU,"|").concat(tat,")*");X_.kannada=iat;});var yU=Gt(function(q_){"use strict";Object.defineProperty(q_,"__esModule",{value:true});q_.khmer=void 0;var bU="[\\u{1780}-\\u{17FF}]";var rat="[\\u{17B6}-\\u{17D1}\\u{17D3}\\u{17DD}]";var oat="\\u{17D2}";var nat="".concat(bU,"(").concat(oat).concat(bU,"|").concat(rat,")*");q_.khmer=nat;});var _U=Gt(function(Y_){"use strict";Object.defineProperty(Y_,"__esModule",{value:true});Y_.lao=void 0;var sat="[\\u{0E80}-\\u{0EFF}]";var aat="[\\u{0EB1}\\u{0EB4}-\\u{0EBC}\\u{0EC8}-\\u{0ECD}]";var lat="".concat(sat).concat(aat,"*");Y_.lao=lat;});var vU=Gt(function(J_){"use strict";Object.defineProperty(J_,"__esModule",{value:true});J_.malayalam=void 0;var xU="[\\u{0D00}-\\u{0D7F}]";var cat="[\\u{0D00}-\\u{0D03}\\u{0D3B}\\u{0D3C}\\u{0D3E}-\\u{0D4D}\\u{0D57}\\u{0D62}-\\u{0D63}]";var uat="\\u{0D4D}";var dat="".concat(xU,"(").concat(uat).concat(xU,"|").concat(cat,")*");J_.malayalam=dat;});var SU=Gt(function(Z_){"use strict";Object.defineProperty(Z_,"__esModule",{value:true});Z_.myanmar=void 0;var CU="[\\u{1000}-\\u{109F}]";var mat=["\\u{102B}-\\u{1038}","\\u{103A}-\\u{103E}","\\u{1056}-\\u{1059}","\\u{105E}-\\u{1060}","\\u{1062}-\\u{1064}","\\u{1067}-\\u{106D}","\\u{1071}-\\u{1074}","\\u{1082}-\\u{108D}","\\u{108F}","\\u{109A}-\\u{109D}"];var pat="[".concat(mat.join(""),"]");var hat="\\u{1039}";var fat="".concat(CU,"(").concat(hat).concat(CU,"|").concat(pat,")*");Z_.myanmar=fat;});var wU=Gt(function(Q_){"use strict";Object.defineProperty(Q_,"__esModule",{value:true});Q_.tamil=void 0;var gat="[\\u{0B80}-\\u{0BFF}]";var bat="[\\u{0B82}-\\u{0B83}\\u{0BBE}-\\u{0BD7}\\u{0962}\\u{0963}]";var yat="".concat(gat).concat(bat,"*");Q_.tamil=yat;});var kU=Gt(function(tx){"use strict";Object.defineProperty(tx,"__esModule",{value:true});tx.telugu=void 0;var TU="[\\u{0C00}-\\u{0C7F}]";var _at="[\\u{0C00}-\\u{0C04}\\u{0C3E}-\\u{0C56}\\u{0C62}\\u{0C63}]";var xat="\\u{0C4D}";var vat="".concat(TU,"(").concat(xat).concat(TU,"|").concat(_at,")*");tx.telugu=vat;});var IU=Gt(function(ex){"use strict";Object.defineProperty(ex,"__esModule",{value:true});ex.thai=void 0;var Cat="[\\u0E00-\\u0E7F]";var Sat="[\\u0E31\\u0E33-\\u0E3A\\u0E47-\\u0E4E]";var wat="".concat(Cat).concat(Sat,"*");ex.thai=wat;});var DU=Gt(function(ix){"use strict";Object.defineProperty(ix,"__esModule",{value:true});ix.tibetan=void 0;var Tat="[\\u{0F00}-\\u{0FFF}]";var kat="[\\0F18\\0F19\\0F35\\0F37\\0F39\\0F3E\\0F3F\\u{0F71}-\\u{0F87}\\u{0F8D}-\\u{0FBC}\\u{0FC6}]";var Iat="".concat(Tat).concat(kat,"*");ix.tibetan=Iat;});var FU=Gt(function(sl){"use strict";Object.defineProperty(sl,"__esModule",{value:true});sl.emojiVariation=sl.keyCap=sl.countryFlag=void 0;var Dat="[\\u{1F1E6}-\\u{1F1FF}]{2}";sl.countryFlag=Dat;var Eat="[0-9#\\*][\\u{FE0F}]?\\u{20E3}";sl.keyCap=Eat;var Fat=["[\\u{2600}-\\u{26FF}]","[\\u{2700}-\\u{27BF}]","[\\u{1F300}-\\u{1F5FF}]","[\\u{1F600}-\\u{1F64F}]","[\\u{1F680}-\\u{1F6FF}]","[\\u{1F700}-\\u{1F77F}]","[\\u{1F900}-\\u{1F9FF}]"];var EU="(".concat(Fat.join("|"),")");var Rat="\\u{200D}";var Oat="[\\u{FE0E}\\u{FE0F}]";var Aat="[\\u{1F3FB}-\\u{1F3FF}]";var Bat="".concat(EU,"(").concat(Rat).concat(EU,"|").concat(Aat,"|").concat(Oat,")*");sl.emojiVariation=Bat;});var OU=Gt(function(O3t,RU){"use strict";var Pat=sU();var Mat=lU();var Lat=uU();var zat=mU();var Uat=pU();var Nat=hU();var Hat=gU();var Wat=yU();var Gat=_U();var Vat=vU();var jat=SU();var $at=wU();var Kat=kU();var Xat=IU();var qat=DU();var NT=FU();var Yat=[NT.countryFlag,NT.keyCap,NT.emojiVariation,Pat.arabic,Mat.bengali,Lat.devanagari,zat.gujarati,Uat.hebrew,Nat.japaneseKana,Hat.kannada,Wat.khmer,Gat.lao,Vat.malayalam,jat.myanmar,$at.tamil,Kat.telugu,Xat.thai,qat.tibetan,"."];var Jat=new RegExp("(".concat(Yat.join("|"),")"),"gu");function Zat(i){return i.match(Jat)||[];}RU.exports={splitGraphemes:Zat};});var AU,BU,rx;var HT=d(function(){AU=y(OU());BU=/*#__PURE__*/function(){function BU(t){_classCallCheck(this,BU);this._context=t;this._lastFontStyle={};}_createClass(BU,[{key:"getLines",value:function getLines(){var _this202=this;var t=[];var e=[];var r=this._lines.length;for(var o=0;o<r;o++){var n=this._lines[o];var s=this._buildWords(n);var a=s.length;for(var l=0;l<a;l++){var c=s[l];var u=e.concat(c).join("").replace(/\s+$/i,"");var m=this._getWidth(u);if(m>this._maxWidth){if(e.length>0){t.push(e.join(""));e=[c];}var p=c.replace(/\s+$/i,"");if(this._getWidth(p)>this._maxWidth){var h=this._splitWord(c);t=t.concat(h.lines);if(h.rest){e=[h.rest];}}}else{e.push(c);}}t.push(e.join(""));e=[];}return t.map(function(o){return _this202._trimLine(o,_this202._context.textAlign);});}},{key:"_trimLine",value:function _trimLine(t,e){return t;}},{key:"_buildWords",value:function _buildWords(t){var e=[];var r="";var o=t.length;for(var n=0;n<o;n++){var s=t[n];r+=s;if(s===" "||s==="-"||n===o-1){e.push(r);r="";}}return e;}},{key:"_splitWord",value:function _splitWord(t){var e={lines:[],rest:null};var r=(0,AU.splitGraphemes)(t);var o=r.length;var n=[];for(var s=0;s<o;s++){var a=r[s];if(this._getWidth(n.concat(a).join(""))>this._maxWidth){if(n.length>0){e.lines.push(n.join(""));}n=[a];}else{n.push(a);}if(s===o-1&&n.length>0){e.rest=n.join("");}}return e;}},{key:"_fontStyleChanged",value:function _fontStyleChanged(){if(this._context.font!==this._lastFontStyle){this._lastFontStyle=this._context.font;return true;}return false;}},{key:"_getWidth",value:function _getWidth(t){return this._context.measureText(t).width;}},{key:"setText",value:function setText(t){this._text=t;this._lines=t.split("\n");}},{key:"setMaxWidth",value:function setMaxWidth(t){this._maxWidth=t;}}]);return BU;}();rx=BU;});var WT,PU,GT;var VT=d(function(){$();HT();WT=J.Vector2;PU=/*#__PURE__*/function(){function PU(t,e){_classCallCheck(this,PU);this._text=t;this._operation=e;this._textOptions={};this.rotation=0;this._createCanvas();this._createTexture();}_createClass(PU,[{key:"_createCanvas",value:function _createCanvas(){this._canvas=z.createCanvas();this._context=this._canvas.getContext("2d");this._textSplitter=new rx(this._context);this._finalCanvas=z.createCanvas();this._finalContext=this._finalCanvas.getContext("2d");}},{key:"_createTexture",value:function _createTexture(){this._texture=L.Texture.fromCanvas(this._canvas);this._finalTexture=L.Texture.fromCanvas(this._finalCanvas);}},{key:"_applyTextOptions",value:function _applyTextOptions(t,e){e.font="".concat(this._text.getFontStyle()," ").concat(this._text.getFontWeight()," ").concat(t.fontSize,"px \"").concat(this._text.getFontFamily(),"\"");if(this._text.getTextMetrics()){e.textBaseline="alphabetic";}else{e.textBaseline="top";}e.textAlign=this._text.getAlignment();e.fillStyle=this._text.getColor().toRGBA();e.strokeStyle=this._text.getOutlineColor().toRGBA();var r=this._text.getOutlineWidth();if(r>0){e.lineWidth=r;}}},{key:"_buildOutputLines",value:function _buildOutputLines(t){this._textSplitter.setText(this._text.getText());this._textSplitter.setMaxWidth(t);return this._textSplitter.getLines().map(function(e){return e.replace(/\s+$/i,"");});}},{key:"_renderTextLine",value:function _renderTextLine(t,e,r){var o=this._text.getAlignment();var n=new WT(0,e);switch(o){case"left":n.x=r;break;case"center":n.x=this._canvas.width/2;break;case"right":n.x=this._canvas.width-r;break;}this._context.save();this._context.translate(n.x,n.y);this._context.fillText(t,0,0);this._context.restore();var s=this._text.getOutlineWidth();if(s>0){this._context.miterLimit=2;this._context.strokeText(t,n.x,n.y);}}},{key:"update",value:function update(t,e){var r=this.calculateFontStyles(t,e);if(r){var _this$_calculateText=this._calculateText(t,r,e),o=_this$_calculateText.dimensions,n=_this$_calculateText.lines;this._renderText(t,o,n,r,e);this._updateFinalTexture();}}},{key:"_updateFinalTexture",value:function _updateFinalTexture(){var _this$_canvas2=this._canvas,t=_this$_canvas2.width,e=_this$_canvas2.height;var r=this.rotation;var o=Math.cos(r);var n=Math.sin(r);var s=new WT(Math.abs(t*o)+Math.abs(e*n),Math.abs(t*n)+Math.abs(e*o));this._finalCanvas.width=s.x;this._finalCanvas.height=s.y;this._finalContext.save();this._finalContext.translate(this._finalCanvas.width/2,this._finalCanvas.height/2);this._finalContext.rotate(r);this._finalContext.drawImage(this._canvas,-t/2,-e/2);this._finalContext.restore();}},{key:"_renderText",value:function _renderText(t,e,r,o,n){this._canvas.width=e.x;this._canvas.height=e.y;if(this._text.getMaxHeight()){this._canvas.height=Math.min(this._text.getMaxHeight()*n.y,this._canvas.height);}this._context=this._canvas.getContext("2d");this._context.fillStyle=this._text.getBackgroundColor().toRGBA();this._context.fillRect(0,0,e.x,e.y);this._applyTextOptions(o,this._context);var s=this._padding(n);var a=this._text.getTextMetrics();var l=this._text.getFontSize()*n.y;var c=1/a.unitsPerEm*l;var u=a.ascender*c;for(var m=0;m<r.length;m++){var p=r[m];this._renderTextLine(p,o.topPadding+o.lineHeight*m+s+u,s);}}},{key:"calculateFontStyles",value:function calculateFontStyles(t,e){var r=this._text.getFontFamily();var o=this._text.getFontSize()*e.y;var n=this._text.getAbsoluteTextHeight(e);var s=n*this._text.getLineHeight();var a=n*(this._text.getLineHeight()-1)/2;var l={fontFamily:r,fontSize:o,lineHeight:s,topPadding:a};if(this._textOptions.fontFamily!==r||this._textOptions.fontSize!==o||this._textOptions.lineHeight!==s){this._textOptions=l;}return l;}},{key:"_calculateText",value:function _calculateText(t,e,r){var o=this._text.getMaxWidth()*r.x;this._applyTextOptions(e,this._context);var n=new WT();var s=this._text.getText().split("\n");if(typeof o!=="undefined"){n.x=o;s=this._buildOutputLines(o);}for(var c=0;c<s.length;c++){var u=s[c];n.x=Math.max(n.x,this._context.measureText(u).width);}var a=e.lineHeight;n.y=s.length*a;var l=this._padding(r);n.y+=l*2;n.x+=l*2;return{dimensions:n,lines:s};}},{key:"_padding",value:function _padding(t){var e=this._text.getAbsoluteTextHeight(t);var r=.2;return e*r;}},{key:"getTexture",value:function getTexture(){return this._texture;}},{key:"getFinalTexture",value:function getFinalTexture(){return this._finalTexture;}},{key:"getDimensions",value:function getDimensions(t,e){var r=this.calculateFontStyles(t,e);var _this$_calculateText2=this._calculateText(t,r,e),o=_this$_calculateText2.dimensions;return o;}},{key:"dispose",value:function dispose(){if(this._measurementElement){document.body.removeChild(this._measurementElement);}if(this._texture){this._texture.dispose();this._texture=null;}if(this._finalTexture){this._finalTexture.dispose();this._finalTexture=null;}}}]);return PU;}();GT=PU;});var MU,Mh;var LU=d(function(){$();HT();An();so();MU=J.Vector2;Mh=/*#__PURE__*/function(_t24){_inherits(Mh,_t24);var _super163=_createSuper(Mh);function Mh(t){var _this203;_classCallCheck(this,Mh);_this203=_super163.call(this,t);_this203._textOptions={};_this203._createCanvas();return _this203;}_createClass(Mh,[{key:"_createCanvas",value:function _createCanvas(){this._canvas=z.createCanvas();this._context=this._canvas.getContext("2d");this._textSplitter=new rx(this._context);this._finalCanvas=z.createCanvas();this._finalContext=this._finalCanvas.getContext("2d");this.updateFontVariation();}},{key:"setOption",value:function setOption(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;_get(_getPrototypeOf(Mh.prototype),"setOption",this).call(this,t,e,r,o);if(t==="fontIdentifier"&&!o){this.updateFontVariation();}}},{key:"updateFontVariation",value:function updateFontVariation(){var t=Kt.getVariation(this.getFontIdentifier());if(!t){Y.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'"));}this.setFontVariation(t);return t;}},{key:"_applyTextOptions",value:function _applyTextOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._context;var _this$_options$t=_objectSpread(_objectSpread({},this._options),t),r=_this$_options$t.fontSize,o=_this$_options$t.fontVariation,n=_this$_options$t.lineHeight,s=_this$_options$t.textColor,a=_this$_options$t.alignment;var _o$serializeOptions2=o.serializeOptions(),l=_o$serializeOptions2.fontStyle,c=_o$serializeOptions2.fontWeight,u=_o$serializeOptions2.fontFamily;e.font="".concat(l," ").concat(c," ").concat(r,"px \"").concat(u,"\"");e.fillStyle=s;e.textBaseline="top";e.textAlign=a||"left";}},{key:"_buildOutputLines",value:function _buildOutputLines(t){this._textSplitter.setText(this.getText());this._textSplitter.setMaxWidth(t);return this._textSplitter.getLines();}},{key:"_renderTextLine",value:function _renderTextLine(t,e){var r=this.getAlignment();var o=new MU(0,e);switch(r){case"center":o.x=this._canvas.width/2;break;case"right":o.x=this._canvas.width;break;}this._context.fillText(t,o.x,o.y);}},{key:"update",value:function update(){var t=this.calculateFontStyles();if(t){var _this$_calculateText3=this._calculateText(t),e=_this$_calculateText3.dimensions,r=_this$_calculateText3.lines;this._dimensions=e;this._renderText(e,r,t);}}},{key:"draw",value:function draw(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;this.update();t.drawImage(this._canvas,e,r,this._dimensions.x,this._dimensions.y);}},{key:"_renderText",value:function _renderText(t,e,r){this._canvas.width=t.x;this._canvas.height=t.y;this._context=this._canvas.getContext("2d");this._applyTextOptions(r,this._context);for(var o=0;o<e.length;o++){var n=e[o];this._renderTextLine(n,r.topPadding+r.lineHeight*o);}}},{key:"getFontFamily",value:function getFontFamily(){var t=this.getFontVariation();return t.getFontFamily();}},{key:"calculateFontStyles",value:function calculateFontStyles(){var t=this.getFontFamily();var e=this.getFontSize();var r=this.getAbsoluteTextHeight();var o=r*this.getLineHeight();var n=r*(this.getLineHeight()-1)/2;var s={fontFamily:t,fontSize:e,textHeight:r,lineHeight:o,topPadding:n};this._textOptions=_objectSpread({},s);return s;}},{key:"getTextMetrics",value:function getTextMetrics(){var t=this.getFontVariation();return t.getTextMetrics();}},{key:"getAbsoluteTextHeight",value:function getAbsoluteTextHeight(){var t=this.getFontSize();var e=this.getTextMetrics();if(e){var r=1/e.unitsPerEm*t;var o=e.ascender*r;var n=e.descender*r;return o+Math.abs(n);}return t*this.getLineHeight()*1.1;}},{key:"_calculateText",value:function _calculateText(t){this._applyTextOptions(t,this._context);var e=new MU();var r=this.getText().split("\n");var o;if(typeof o!=="undefined"){e.x=o;r=this._buildOutputLines(o);}else{for(var s=0;s<r.length;s++){var a=r[s];e.x=Math.max(e.x,this._context.measureText(a).width);}}var n=t.lineHeight;e.y=r.length*n;return{dimensions:e,lines:r};}},{key:"getDimensions",value:function getDimensions(){var t=this.calculateFontStyles();var _this$_calculateText4=this._calculateText(t),e=_this$_calculateText4.dimensions;return e;}},{key:"fitMaxHeight",value:function fitMaxHeight(){this.update();var t=this.getDimensions();var e=this.getText().split("\n");var r=this.getMaxHeight()/t.y;}},{key:"fitMaxWidth",value:function fitMaxWidth(){var t=this.getDimensions().x;var e=this.getMaxWidth()/t;this.setFontSize(this.getFontSize()*e);this._textOptions.fontSize=this.getFontSize();}},{key:"fitInFrame",value:function fitInFrame(t){this.setMaxWidth(t.width);this.setMaxHeight(t.height);this.fitMaxWidth();this.fitMaxHeight();}},{key:"getSize",value:function getSize(){var t=this.getDimensions();return new _e8(t.x,t.y);}}]);return Mh;}(_t);Mh.prototype.availableOptions={text:{type:"string","default":""},fontIdentifier:{type:"string","default":"imgly_font_open_sans_bold"},fontVariation:{type:"object","default":null},lineHeight:{type:"number","default":1},fontSize:{type:"number","default":22},textColor:{type:"string","default":"black"},strokeStyle:{type:"string","default":"black"},outlineWidth:{type:"number","default":0},textBaseline:{type:"string","default":"alphabetic"},excludeAccents:{type:"boolean","default":true},maxWidth:{type:"number","default":100},maxHeight:{type:"number","default":0},alignment:{type:"string","default":"left",available:["left","center","right"]}};});var al;var ox=d(function(){$();VT();Kd();LU();xc();P_();al=/*#__PURE__*/function(_Vs){_inherits(al,_Vs);var _super164=_createSuper(al);function al(){_classCallCheck(this,al);return _super164.apply(this,arguments);}_createClass(al,[{key:"_calculateLayoutElements",value:function _calculateLayoutElements(){var t=this.getWords();var e=this._getTextFrame();var r=this.getAttributes();var o=r.getFontIdentifier();var n=this.getImageInsets();var s=new qi({text:t.getWord(0),fontIdentifier:o});s.fitWidth(e.width);var a=new Yi({text:t.getWord(0),frame:e,font:s});a.setFrame(this._getTextFrameForElement(a));var l=this.getSize();if(this.getSizeToFitContent()||l.height<=1){l.height=n.top+a.getFrame().height+n.bottom;}l.height=Math.max(l.height,this.getMinimumHeight());return[a];}},{key:"_getTextFrameForElement",value:function _getTextFrameForElement(t){var e=this.getWords();var r=e.getWord(0);var o=this.getAttributes();var n=o.getFontIdentifier();var s=this.getImageInsets();var a=this.getImageInsets().applyToRectangle(this._getFrame()).scale(this.getTextScaleFactor());var l=new Mh({text:r,fontIdentifier:n,alignment:o.getAlignment(),lineHeight:1});l.fitInFrame(a);var c=l.getSize();a.height=c.height;var u=c.height*this.getRowScaleFactor();if(this.getSizeToFitContent()){u+=s.top+s.bottom;}var m=this._getFrame();var p=o.getAlignment();if(this.getCenteredVertically()){a.y=m.height/2-u/2+s.top;}else{switch(p){case"left":a.y=m.height-u-s.bottom;break;case"center":a.y=m.height/2-u/2+u*this.getCenterOffset();a.x=(m.width-a.width)/2;break;case"right":a.x=m.width-a.width-s.right;break;default:break;}}return a;}},{key:"render",value:function render(t){var _this204=this;t.save();this._getLayoutElements().forEach(function(e){var _e$serializeOptions2=e.serializeOptions(),r=_e$serializeOptions2.text,o=_e$serializeOptions2.frame;var n=_this204.getAttributes();var s=n.getFontIdentifier();var a=new Mh({text:r,fontIdentifier:s,alignment:n.getAlignment(),lineHeight:1,textColor:n.getTextColor().toRGBA()});o=_this204._getTextFrameForElement(e);a.fitInFrame(o);a.draw(t,o.x,o.y);});t.restore();}}]);return al;}(Vs);al.prototype.availableOptions=_objectSpread(_objectSpread({},Vs.prototype.availableOptions),{},{centerOffset:{type:"number","default":0},sizeToFitContent:{type:"boolean","default":false},textScaleFactor:{type:"number","default":.95},rowScaleFactor:{type:"number","default":1},minimumHeight:{type:"number","default":0},centeredVertically:{type:"boolean","default":false}});});var _Qd,ke;var kc=d(function(){$();Zd();Br();ox();so();ol();Yd();_Qd=/*#__PURE__*/function(_ri3){_inherits(Qd,_ri3);var _super165=_createSuper(Qd);function Qd(){var _this205;_classCallCheck(this,Qd);for(var _len92=arguments.length,t=new Array(_len92),_key92=0;_key92<_len92;_key92++){t[_key92]=arguments[_key92];}_this205=_super165.call.apply(_super165,[this].concat(t));_this205._rowType=xt.Box;_this205._alignmentRandomizer=new It(0);_this205._isMaskedRandomizer=new It(0);_this205._seedPool.push(_this205._alignmentRandomizer);_this205._seedPool.push(_this205._isMaskedRandomizer);return _this205;}_createClass(Qd,[{key:"getImagePaths",value:function getImagePaths(){return[xt.Box.getImagePath()];}},{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(Qd.prototype),"_modifiedText",this).call(this,t).toLowerCase();}},{key:"_modifiedLines",value:function _modifiedLines(t){var e=new _hi();e.set([t.reduce(function(r,o){return"".concat(r).concat(r===""?"":"\n").concat(o.joined(1)[0]);},"")]);return[e];}},{key:"_layoutRows",value:function _layoutRows(t,e){var r=_get(_getPrototypeOf(Qd.prototype),"_layoutRows",this).call(this,t,e);var o=r[0];if(o&&this.getSquareLayout()){var n=o.getSize();n.height=n.width;}return r;}},{key:"getAlignment",value:function getAlignment(){return this._alignmentRandomizer.pickNext(this.constructor.ValidAlignments||_Qd.ValidAlignments);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=this.getAlignment();var s=this._rowType;var a=Kt.getImage(s.getImagePath());o.setAlignment(n);var l=new al({words:t,width:r,attributes:o,image:a,imageInsets:s.insetsForWidth(r),capInsets:s.getCapInsets(),backgroundColor:G.WHITE,centerOffset:0,textScaleFactor:.7,isMasked:this._isMaskedRandomizer.nextBool()});if(this._rowType===xt.Box){l.serverImageSmoothingFix=true;}var c=l.getSize();if(this.getSquareLayout()){c.height=c.width;}else{c.height=Math.max(c.height,c.width*s.getMinimumHeightRatio());}return l;}}]);return Qd;}(ri);ke=_Qd;q(ke,"defaultFontIdentifiers",["imgly_font_lexend_bold"]);q(ke,"Alignment",{Left:"left",Center:"center",Right:"right"});q(ke,"ValidAlignments",[_Qd.Alignment.Left,_Qd.Alignment.Center,_Qd.Alignment.Right]);q(ke,"identifier","imgly_text_design_masked");ke.prototype.availableOptions=_objectSpread(_objectSpread({},ri.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":ke.defaultFontIdentifiers},squareLayout:{type:"boolean","default":true}});});var ll;var zU=d(function(){$();Zd();Br();kc();ll=/*#__PURE__*/function(_ke){_inherits(ll,_ke);var _super166=_createSuper(ll);function ll(){var _this206;_classCallCheck(this,ll);for(var _len93=arguments.length,t=new Array(_len93),_key93=0;_key93<_len93;_key93++){t[_key93]=arguments[_key93];}_this206=_super166.call.apply(_super166,[this].concat(t));_this206._possibleRowTypes=[xt.Badge1,xt.Badge2,xt.Badge3,xt.Badge4];_this206._rowTypesRandomizer=new It(0);_this206._isMaskedRandomizer=new It(0);_this206._seedPool.push(_this206._rowTypesRandomizer);_this206._seedPool.push(_this206._isMaskedRandomizer);return _this206;}_createClass(ll,[{key:"getImagePaths",value:function getImagePaths(){return this._possibleRowTypes.map(function(t){return t.getImagePath();});}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){this._rowType=this._rowTypesRandomizer.pickNext(this._possibleRowTypes);o.setLineSpacing(.9);var n=_get(_getPrototypeOf(ll.prototype),"_randomLayoutRow",this).call(this,t,e,r,o);n.set({textScaleFactor:.9});return n;}}]);return ll;}(ke);q(ll,"defaultFontIdentifiers",["imgly_font_outfit_bold"]);q(ll,"identifier","imgly_text_design_masked_badge");q(ll,"ValidAlignments",[ke.Alignment.Center]);ll.prototype.availableOptions=_objectSpread(_objectSpread({},ke.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":ll.defaultFontIdentifiers}});});var Lr;var nx=d(function(){$();Zd();Br();kc();Lr=/*#__PURE__*/function(_ke2){_inherits(Lr,_ke2);var _super167=_createSuper(Lr);function Lr(){var _this207;_classCallCheck(this,Lr);for(var _len94=arguments.length,t=new Array(_len94),_key94=0;_key94<_len94;_key94++){t[_key94]=arguments[_key94];}_this207=_super167.call.apply(_super167,[this].concat(t));_this207._possibleRowTypes=[xt.SpeechBubble1,xt.SpeechBubble3];_this207._rowTypesRandomizer=new It(0);_this207._isMaskedRandomizer=new It(0);_this207._seedPool.push(_this207._rowTypesRandomizer);_this207._seedPool.push(_this207._isMaskedRandomizer);return _this207;}_createClass(Lr,[{key:"getImagePaths",value:function getImagePaths(){return this._possibleRowTypes.map(function(t){return t.getImagePath();});}},{key:"_rowTypes",value:function _rowTypes(t){return this._possibleRowTypes;}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){this._rowType=this._rowTypesRandomizer.pickNext(this._rowTypes(t));o.setLineSpacing(.9);var n=_get(_getPrototypeOf(Lr.prototype),"_randomLayoutRow",this).call(this,t,e,r,o);n.set({textScaleFactor:1,minimumHeight:r*this._rowType.getMinimumHeightRatio(),sizeToFitContent:this._rowType.getSizeToFitContent(),centeredVertically:true});return n;}}]);return Lr;}(ke);q(Lr,"defaultFontIdentifiers",["imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_roboto_black","imgly_font_roboto_light"]);q(Lr,"identifier","imgly_text_design_masked_speech_bubble");Lr.prototype.availableOptions=_objectSpread(_objectSpread({},ke.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Lr.defaultFontIdentifiers},squareLayout:{type:"boolean","default":false},alignment:{type:"string","default":"left",available:ke.ValidAlignments}});});var Ic;var UU=d(function(){$();Zd();kc();nx();Ic=/*#__PURE__*/function(_Lr){_inherits(Ic,_Lr);var _super168=_createSuper(Ic);function Ic(){var _this208;_classCallCheck(this,Ic);for(var _len95=arguments.length,t=new Array(_len95),_key95=0;_key95<_len95;_key95++){t[_key95]=arguments[_key95];}_this208=_super168.call.apply(_super168,[this].concat(t));_this208._possibleRowTypes=[xt.SpeechBubble2,xt.SpeechBubble4,xt.SpeechBubble2,xt.SpeechBubble4,xt.SpeechBubble5];_this208._possibleRowTypesForMin15=_this208._possibleRowTypes.slice(0,2);_this208._possibleRowTypesForMax14=_this208._possibleRowTypes.slice(2);return _this208;}_createClass(Ic,[{key:"_rowTypes",value:function _rowTypes(t){return t.countNumberOfCharacters()<15?this._possibleRowTypesForMax14:this._possibleRowTypesForMin15;}}]);return Ic;}(Lr);q(Ic,"defaultFontIdentifiers",["imgly_font_permanent_marker"]);q(Ic,"identifier","imgly_text_design_masked_speech_bubble_comic");Ic.prototype.availableOptions=_objectSpread(_objectSpread({},Lr.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Ic.defaultFontIdentifiers}});});var Dc;var NU=d(function(){$();ox();kc();Dc=/*#__PURE__*/function(_ke3){_inherits(Dc,_ke3);var _super169=_createSuper(Dc);function Dc(){_classCallCheck(this,Dc);return _super169.apply(this,arguments);}_createClass(Dc,[{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(Dc.prototype),"_modifiedText",this).call(this,t).toUpperCase();}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=this._alignmentRandomizer.pickNext(ke.ValidAlignments);o.setAlignment(n);return new al({words:t,width:r,attributes:o,image:null,backgroundColor:G.WHITE,centerOffset:0,sizeToFitContent:true,isMasked:false,autoAdjustTextColor:false});}}]);return Dc;}(ke);q(Dc,"defaultFontIdentifiers",["imgly_font_abril_fatface_regular"]);q(Dc,"identifier","imgly_text_design_multiline");Dc.prototype.availableOptions=_objectSpread(_objectSpread({},ke.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Dc.defaultFontIdentifiers}});});var Qat,sx;var HU=d(function(){$();Qat=J.Rectangle;sx=/*#__PURE__*/function(_t25){_inherits(sx,_t25);var _super170=_createSuper(sx);function sx(){_classCallCheck(this,sx);return _super170.apply(this,arguments);}_createClass(sx,[{key:"getContentFrame",value:function getContentFrame(){var t=this.getFrame().clone();var e=t.width*.1;return t.insetBy(e,e);}},{key:"intersects",value:function intersects(t){return this.getFrame().intersects(t.getFrame());}}]);return sx;}(_t);sx.prototype.availableOptions={frame:{type:"object","default":new Qat()}};});var WU,Wo;var ax=d(function(){$();so();rl();zT();HU();WU=J.Rectangle;Wo=/*#__PURE__*/function(_wc2){_inherits(Wo,_wc2);var _super171=_createSuper(Wo);function Wo(){var _this209;_classCallCheck(this,Wo);for(var _len96=arguments.length,t=new Array(_len96),_key96=0;_key96<_len96;_key96++){t[_key96]=arguments[_key96];}_this209=_super171.call.apply(_super171,[this].concat(t));_this209._MAX_TRIES=1e3;_this209._PRECISION=1e3;return _this209;}_createClass(Wo,[{key:"render",value:function render(t,e,r,o,n){var _this$_options30=this._options,s=_this$_options30.imagePaths,a=_this$_options30.relativeParticleSize;if(s.length<=0){return;}var l=e.width/e.height;var c=new WU(Math.round(r.left*this._PRECISION),Math.round(r.top*this._PRECISION*l),this._PRECISION,this._PRECISION);c.width-=c.x+Math.round(r.right*this._PRECISION);c.height-=c.y+Math.round(r.bottom*this._PRECISION*l);var u=[];var m=0;var p=0;while(m<this.getParticleCount()&&p<this._MAX_TRIES){var h=a/2;var g=Math.round(h*this._PRECISION);var x=Math.round(h*this._PRECISION*l);var v=Math.floor(this._PRECISION)-g;var b=Math.floor(this._PRECISION)-x;var T=n.nextInRange(g,v);var k=n.nextInRange(x,b);var E=new WU(T-g,k-x,2*g,2*x);if(!E.intersects(c)&&!this.hasCollision(u,E)){u.push(new sx({frame:E}));m+=1;}p+=1;}for(var _h14=0;_h14<u.length;_h14++){var _g5=u[_h14];var _x17=n.pickNext(s);var _v7=Kt.getImage(_x17);var _b8=n.nextInRange(140,230)/255;var _T2=e.width/this._PRECISION;var _k2=e.height/this._PRECISION;var _E2=_g5.getContentFrame();_E2.x*=_T2;_E2.y*=_k2;_E2.width*=_T2;_E2.height*=_k2;var A=o.clone();A.a=_b8;Gs(t,_v7,_E2,A,"source-atop");}}},{key:"hasCollision",value:function hasCollision(t,e){for(var r=0;r<t.length;r++){if(e.intersects(t[r].getFrame())){return true;}}return false;}}]);return Wo;}(wc);Wo.prototype.availableOptions=_objectSpread(_objectSpread({},wc.prototype.availableOptions),{},{particleCount:{type:"number","default":50},relativeParticleSize:{type:"number","default":.08},imagePaths:{type:"array","default":[]}});});var tm;var GU=d(function(){$();ax();tm=/*#__PURE__*/function(_Wo){_inherits(tm,_Wo);var _super172=_createSuper(tm);function tm(){_classCallCheck(this,tm);return _super172.apply(this,arguments);}return tm;}(Wo);q(tm,"Images",["text-design/images/imgly_text_design_particle_brush_01.png","text-design/images/imgly_text_design_particle_brush_02.png","text-design/images/imgly_text_design_particle_brush_03.png","text-design/images/imgly_text_design_particle_brush_04.png","text-design/images/imgly_text_design_particle_brush_05.png","text-design/images/imgly_text_design_particle_brush_06.png","text-design/images/imgly_text_design_particle_brush_07.png","text-design/images/imgly_text_design_particle_brush_08.png","text-design/images/imgly_text_design_particle_brush_09.png","text-design/images/imgly_text_design_particle_brush_10.png"]);tm.prototype.availableOptions=_objectSpread(_objectSpread({},Wo.prototype.availableOptions),{},{imagePaths:{type:"array","default":_toConsumableArray(tm.Images)},relativeParticleSize:{type:"number","default":.12}});});var em;var VU=d(function(){$();ax();em=/*#__PURE__*/function(_Wo2){_inherits(em,_Wo2);var _super173=_createSuper(em);function em(){_classCallCheck(this,em);return _super173.apply(this,arguments);}return em;}(Wo);q(em,"Images",["text-design/images/imgly_text_design_particle_circle_01.png","text-design/images/imgly_text_design_particle_circle_02.png","text-design/images/imgly_text_design_particle_circle_03.png","text-design/images/imgly_text_design_particle_circle_04.png","text-design/images/imgly_text_design_particle_circle_05.png","text-design/images/imgly_text_design_particle_circle_06.png","text-design/images/imgly_text_design_particle_circle_07.png","text-design/images/imgly_text_design_particle_circle_08.png","text-design/images/imgly_text_design_particle_circle_09.png","text-design/images/imgly_text_design_particle_circle_10.png"]);em.prototype.availableOptions=_objectSpread(_objectSpread({},Wo.prototype.availableOptions),{},{imagePaths:{type:"array","default":_toConsumableArray(em.Images)},relativeParticleSize:{type:"number","default":.12}});});var im;var jU=d(function(){$();ax();im=/*#__PURE__*/function(_Wo3){_inherits(im,_Wo3);var _super174=_createSuper(im);function im(){_classCallCheck(this,im);return _super174.apply(this,arguments);}return im;}(Wo);q(im,"Images",["text-design/images/imgly_text_design_particle_triangle_01.png","text-design/images/imgly_text_design_particle_triangle_02.png","text-design/images/imgly_text_design_particle_triangle_03.png","text-design/images/imgly_text_design_particle_triangle_04.png","text-design/images/imgly_text_design_particle_triangle_05.png","text-design/images/imgly_text_design_particle_triangle_06.png","text-design/images/imgly_text_design_particle_triangle_07.png","text-design/images/imgly_text_design_particle_triangle_08.png","text-design/images/imgly_text_design_particle_triangle_09.png","text-design/images/imgly_text_design_particle_triangle_10.png"]);im.prototype.availableOptions=_objectSpread(_objectSpread({},Wo.prototype.availableOptions),{},{imagePaths:{type:"array","default":_toConsumableArray(im.Images)}});});var _cl,vi;var lx=d(function(){$();Br();Pr();lo();U_();N_();so();ol();Yd();_cl=/*#__PURE__*/function(_ri4){_inherits(cl,_ri4);var _super175=_createSuper(cl);function cl(){var _this210;_classCallCheck(this,cl);for(var _len97=arguments.length,t=new Array(_len97),_key97=0;_key97<_len97;_key97++){t[_key97]=arguments[_key97];}_this210=_super175.call.apply(_super175,[this].concat(t));_this210._relativeInsets=new _vt(0,0,0,0);_this210._INVALID_FONTS_IF_LESS_THEN_5_CHARS=["imgly_font_montserrat_light"];_this210._INVALID_FONTS_IF_LESS_THEN_4_CHARS=["imgly_font_montserrat_light","imgly_font_cookie_regular"];_this210._lineCount=0;_this210._decorativeRowCreated=false;_this210._useImageRowRandomizer=new It(0);_this210._rowTypeRandomizer=new It(0);_this210._lineDecorativeTypeRandomizer=new It(0);_this210._seedPool.push(_this210._useImageRowRandomizer);_this210._seedPool.push(_this210._rowTypeRandomizer);_this210._seedPool.push(_this210._lineDecorativeTypeRandomizer);return _this210;}_createClass(cl,[{key:"getImagePaths",value:function getImagePaths(){return[].concat(_toConsumableArray(_cl.DecoratorImages),_toConsumableArray(_cl.RowImages));}},{key:"_fontForRow",value:function _fontForRow(t,e){var _this211=this;var r=e.countNumberOfCharacters();var o=this.getFontIdentifiers();if(r<4){o=o.filter(function(n){return _this211._INVALID_FONTS_IF_LESS_THEN_4_CHARS.indexOf(n)<0;});}else if(r<5){o=o.filter(function(n){return _this211._INVALID_FONTS_IF_LESS_THEN_5_CHARS.indexOf(n)<0;});}return o[t%o.length];}},{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(cl.prototype),"_modifiedText",this).call(this,t).toUpperCase();}},{key:"_modifiedLines",value:function _modifiedLines(t){this._lineCount=t.length;return t;}},{key:"generateLayoutData",value:function generateLayoutData(t,e){this._decorativeRowCreated=false;return _get(_getPrototypeOf(cl.prototype),"generateLayoutData",this).call(this,t,e);}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=o.getFontIdentifier();var s=t;switch(n){case"imgly_font_cookie_regular":s=new _hi().set(t.getLowerCase());break;case"imgly_font_permanent_marker":s=new _hi().set(t.getUpperCase());break;default:break;}var a=this.getDecorativeRowsInTheMiddleOnly()&&(e===0||e===this._lineCount-1);if(this._useImageRowRandomizer.nextBool()||this._decorativeRowCreated||a){return new xe({words:s,width:r,attributes:o});}this._decorativeRowCreated=true;var _this$_randomDecorato=this._randomDecoratorImages(),_this$_randomDecorato2=_slicedToArray(_this$_randomDecorato,2),l=_this$_randomDecorato2[0],c=_this$_randomDecorato2[1];return new Ho({words:t,width:r,attributes:o,leftImage:l,rightImage:c});}},{key:"_layoutRows",value:function _layoutRows(t,e){var r=_get(_getPrototypeOf(cl.prototype),"_layoutRows",this).call(this,t,e);if(!this.getDecorationsVisible()){return r;}var o=.0625*e;var n=new ni({width:e,height:o,image:Kt.getImage(this._rowTypeRandomizer.pickNext(_cl.RowImages))}).layout();var s=new ni({width:e,height:o,image:Kt.getImage(this._rowTypeRandomizer.pickNext(_cl.RowImages))}).layout();return[n].concat(_toConsumableArray(r),[s]);}},{key:"_randomDecoratorImages",value:function _randomDecoratorImages(){if(this._lineDecorativeTypeRandomizer.nextInRange(0,1)){return _cl.DecoratorImages.slice(0,2).map(function(t){return Kt.getImage(t);});}return _cl.DecoratorImages.slice(2).map(function(t){return Kt.getImage(t);});}}]);return cl;}(ri);vi=_cl;q(vi,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]);q(vi,"identifier","imgly_text_design_sunshine");q(vi,"RowImages",[ni.RowImages.decorative1,ni.RowImages.decorative2,ni.RowImages.decorative3,ni.RowImages.decorative4]);q(vi,"DecoratorImages",["text-design/images/imgly_text_design_asset_decorative_03.png","text-design/images/imgly_text_design_asset_decorative_04.png","text-design/images/imgly_text_design_asset_decorative_07.png","text-design/images/imgly_text_design_asset_decorative_08.png"]);vi.prototype.availableOptions=_objectSpread(_objectSpread({},ri.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":vi.defaultFontIdentifiers},relativeLineSpacing:{type:"number","default":.025/3*4},decorationsVisible:{type:"boolean","default":true},decorativeRowsInTheMiddleOnly:{type:"boolean","default":false}});});var _ul,js;var $U=d(function(){$();GU();VU();jU();Br();Pr();so();lx();_ul=/*#__PURE__*/function(_vi){_inherits(ul,_vi);var _super176=_createSuper(ul);function ul(){var _this212;_classCallCheck(this,ul);for(var _len98=arguments.length,t=new Array(_len98),_key98=0;_key98<_len98;_key98++){t[_key98]=arguments[_key98];}_this212=_super176.call.apply(_super176,[this].concat(t));_this212._relativeInsets=new _vt(.3,.3,.3,.3);_this212._backgroundRandomizer=new It(0);_this212._decoTypeRandomizer=new It(0);_this212._seedPool.push(_this212._backgroundRandomizer);_this212._seedPool.push(_this212._decoTypeRandomizer);return _this212;}_createClass(ul,[{key:"getImagePaths",value:function getImagePaths(){return[].concat(_toConsumableArray(vi.RowImages),_toConsumableArray(z.Array.flatten(_ul.Backgrounds.map(function(t){return t.getImagePaths();}))),_toConsumableArray(_ul.DecoratorImages));}},{key:"_getBackground",value:function _getBackground(){return this._backgroundRandomizer.pickNext(_ul.Backgrounds);}},{key:"_randomDecoratorImages",value:function _randomDecoratorImages(){switch(this._decoTypeRandomizer.nextInRange(0,2)){case 0:return _ul.DecoratorImages.slice(0,2).map(function(t){return Kt.getImage(t);});case 1:case 2:return _ul.DecoratorImages.slice(2).map(function(t){return Kt.getImage(t);});default:Y.warn("TextDesignParticles#_randomDecoratorImages: Number generated not in valid range.");return _ul.DecoratorImages.slice(2).map(function(t){return Kt.getImage(t);});}}}]);return ul;}(vi);js=_ul;q(js,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]);q(js,"identifier","imgly_text_design_particles");q(js,"Backgrounds",[new tm(),new em(),new im()]);q(js,"DecoratorImages",["text-design/images/imgly_text_design_particle_holder_01.png","text-design/images/imgly_text_design_particle_holder_02.png","text-design/images/imgly_text_design_particle_holder_03.png","text-design/images/imgly_text_design_particle_holder_04.png"]);js.prototype.availableOptions=_objectSpread(_objectSpread({},vi.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":js.defaultFontIdentifiers},decorationsVisible:{type:"boolean","default":false},decorativeRowsInTheMiddleOnly:{type:"boolean","default":true}});});var Ec;var KU=d(function(){$();Br();Pr();PT();Yd();Ec=/*#__PURE__*/function(_ri5){_inherits(Ec,_ri5);var _super177=_createSuper(Ec);function Ec(){var _this213;_classCallCheck(this,Ec);for(var _len99=arguments.length,t=new Array(_len99),_key99=0;_key99<_len99;_key99++){t[_key99]=arguments[_key99];}_this213=_super177.call.apply(_super177,[this].concat(t));_this213._relativeInsets=new _vt(.1,0,0,0);_this213._rowTypeRandomizer=new It(0);_this213._seedPool.push(_this213._rowTypeRandomizer);return _this213;}_createClass(Ec,[{key:"_modifiedText",value:function _modifiedText(t){return _get(_getPrototypeOf(Ec.prototype),"_modifiedText",this).call(this,t).toUpperCase();}},{key:"_randomLayoutRow",value:function _randomLayoutRow(t,e,r,o){var n=_get(_getPrototypeOf(Ec.prototype),"_randomLayoutRow",this).call(this,t,e,r,o);n.setShearingAngle(this.getShearingAngle());return n;}},{key:"_layoutRows",value:function _layoutRows(t,e){var r=_get(_getPrototypeOf(Ec.prototype),"_layoutRows",this).call(this,t,e);var o=z.values(cr.FormType);var n=30;var s=new cr({width:e,height:n,type:this._rowTypeRandomizer.pickNext(o),shearingAngle:this.getShearingAngle()}).layout();var a=new cr({width:e,height:n,type:this._rowTypeRandomizer.pickNext(o),shearingAngle:this.getShearingAngle()}).layout();return[s].concat(_toConsumableArray(r),[a]);}}]);return Ec;}(ri);q(Ec,"defaultFontIdentifiers",["imgly_font_outfit_bold"]);q(Ec,"identifier","imgly_text_design_rotated");Ec.prototype.availableOptions=_objectSpread(_objectSpread({},ri.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Ec.defaultFontIdentifiers},relativeLineSpacing:{type:"number","default":.025/3},shearingAngle:{type:"number","default":-.1}});});var cx;var XU=d(function(){Pr();N_();so();lx();cx=/*#__PURE__*/function(_vi2){_inherits(cx,_vi2);var _super178=_createSuper(cx);function cx(){var _this214;_classCallCheck(this,cx);for(var _len100=arguments.length,t=new Array(_len100),_key100=0;_key100<_len100;_key100++){t[_key100]=arguments[_key100];}_this214=_super178.call.apply(_super178,[this].concat(t));_this214._relativeInsets=new _vt(0,.3,0,.3);return _this214;}_createClass(cx,[{key:"_layoutRows",value:function _layoutRows(t,e){var r=_get(_getPrototypeOf(cx.prototype),"_layoutRows",this).call(this,t,e);if(!this.getDecorationsVisible()){return r;}var o=25;var n=new ni({width:e,height:o,image:Kt.getImage(this._rowTypeRandomizer.pickNext(vi.RowImages))}).layout();var s=new ni({width:e,height:o,image:Kt.getImage(this._rowTypeRandomizer.pickNext(vi.RowImages))}).layout();return[n].concat(_toConsumableArray(r),[s]);}}]);return cx;}(vi);q(cx,"identifier","imgly_text_design_sunshine-v3_1_0");});var Fc;var qU=d(function(){$();Zd();kc();nx();Fc=/*#__PURE__*/function(_Lr2){_inherits(Fc,_Lr2);var _super179=_createSuper(Fc);function Fc(){var _this215;_classCallCheck(this,Fc);for(var _len101=arguments.length,t=new Array(_len101),_key101=0;_key101<_len101;_key101++){t[_key101]=arguments[_key101];}_this215=_super179.call.apply(_super179,[this].concat(t));_this215._possibleRowTypes=[xt.Watercolor1,xt.Watercolor2,xt.Watercolor3];return _this215;}return Fc;}(Lr);q(Fc,"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular"]);q(Fc,"identifier","imgly_text_design_watercolor");Fc.prototype.availableOptions=_objectSpread(_objectSpread({},Lr.prototype.availableOptions),{},{fontIdentifiers:{type:"array","default":Fc.defaultFontIdentifiers},alignment:{type:"string","default":ke.Alignment.Center,available:ke.ValidAlignments}});});var tlt,ux,jT;var YU=d(function(){$();Br();P_();ox();An();rl();tlt=J.Rectangle;ux=1e3;jT=/*#__PURE__*/function(){function jT(){_classCallCheck(this,jT);this._layoutData=null;this._layout=null;this._text="";this._seed=0;this._debugMode=false;this.randomizer=new It();}_createClass(jT,[{key:"createLayout",value:function createLayout(t,e,r){this._layout=t;this._text=e;this._seed=r;t.seed(r);this._layoutData=t.generateLayoutData(e,ux);}},{key:"calculateAspect",value:function calculateAspect(){if(!this._layoutData){Y.warn("TextDesignRenderer#calculateAspect: No layout data");return 1;}return this._layoutData.getSize().aspect();}},{key:"draw",value:function draw(t,e,r,o){var _this216=this;var n=this._layoutData;if(this._layoutData){var s=new _e8(ux,ux/e.aspect());var a=e.width/ux;var l=n.getRelativeInsets().clone().scale(s.width);var c=n.getRelativeLineSpacing()*s.width;var u=l.top;t.save();this.randomizer.seed(this._seed);var m=n.getBackground();if(m){m.render(t,e,n.getRelativeInsets(),o?G.WHITE:r,this.randomizer);}t.scale(a,a);n.getRows().forEach(function(p){t.save();var h=p.getAttributes();t.transform(1,p.getShearingAngle(),0,1,l.left,u);h.setTextColor(o?G.WHITE:r.clone());h.setTintColor(o?G.WHITE:r.clone());if(p instanceof Vs||p instanceof al){p.setBackgroundColor(o?G.WHITE:r.clone());p.setIsUsedInInvertedLayout(o);}if(_this216._debugMode){p._debugMode=true;}p.willRender(t);p.render(t);p.didRender(t);if(_this216._debugMode){var g=p._getFrame();var x=p._getTextFrame();qd(t,g,G.GREEN);qd(t,x,G.BLUE);p._getLayoutElements().forEach(function(v){var b=v.getFrame();var T=p._getTextFrameForElement(v);qd(t,b,new G(1,1,0));qd(t,T,new G(0,1,1));});}u+=p.getSize().height+c;t.restore();});if(this._debugMode){qd(t,new tlt(0,0,s.width,s.height),G.RED);}t.restore();}}}]);return jT;}();});var dl,rm,dx;var JU=d(function(){$();$d();Jd();eU();MT();iU();LT();rU();UT();nU();kc();zU();nx();UU();NU();$U();KU();lx();XU();qU();Br();An();so();YU();dl=J.Vector2;rm=/*#__PURE__*/function(_Rn3){_inherits(rm,_Rn3);var _super180=_createSuper(rm);function rm(t,e){var _this217;_classCallCheck(this,rm);_this217=_super180.call(this,t,e);_this217._isDisposed=false;_this217._renderer=new jT();_this217._canvas=z.createCanvas();_this217._context=_this217._canvas.getContext("2d");_this217._texture=L.Texture.fromCanvas(_this217._canvas);_this217._sprite.setTexture(_this217._texture);_this217._aspect=1;_this217._isLayoutDirty=true;if(_this217.getSeed()<0){_this217.setSeed(It.TimeSeed());}return _this217;}_createClass(rm,[{key:"seed",value:function seed(t){this.setSeed(t||It.TimeSeed());this._isLayoutDirty=true;}},{key:"_updateLayout",value:function _updateLayout(){var t=this.getLayout();if(!t){return null;}this._renderer.createLayout(t,this.getText(),this.getSeed());this._aspect=this._renderer.calculateAspect();this._isLayoutDirty=false;return true;}},{key:"applyTransform",value:function applyTransform(t){_get(_getPrototypeOf(rm.prototype),"applyTransform",this).call(this,t);var e={};if(this._options.dimensions){e.width=t.applyToRelativeSize(this.getWidth());}this.set(e,false);}},{key:"applyFlip",value:function applyFlip(t){_get(_getPrototypeOf(rm.prototype),"applyFlip",this).call(this,t);var e=this._options.rotation;switch(t){case"horizontal":e+=(Math.PI-e)*2;this.setRotation(e);break;case"vertical":e+=(Math.PI/2-e)*2;this.setRotation(e);break;}}},{key:"update",value:function update(t,e){var r=this._isLayoutDirty;if(this._isDisposed||r&&!this._updateLayout()){return;}var o=this.getWidth()*e.min()/t.getTextureScale();var n=o/this._aspect;var s=new dl(o,n);var a=new dl(Math.round(o*2),Math.round(n*2)).clamp(new dl(1,1),new dl(Infinity,Infinity));var l=t.getRenderer();var c=l.getMaxDimensions()||Infinity;if(a.x>c){a.x=c;a.y=Math.round(a.x/this._aspect);}if(a.y>c){a.y=c;a.x=Math.round(a.y*this._aspect);}var u=z.ensureCanvasDimensions(this._canvas,a);if(r||u){this._context.clearRect(0,0,this._canvas.width,this._canvas.height);this._renderer.draw(this._context,new _e8(a.x,a.y),this.getColor(),this.getInverted());this.setDimensions(s);this._texture.getBaseTexture().update();if(l.isOfType("webgl")){l.updateTexture(this._texture.getBaseTexture());}}_get(_getPrototypeOf(rm.prototype),"update",this).call(this,t,e);this._applyFlip();}},{key:"_applyFlip",value:function _applyFlip(){var t=this._sprite.getScale();var _this$_options31=this._options,e=_this$_options31.flipHorizontally,r=_this$_options31.flipVertically;if(e&&t.x>0||!e&&t.x<0){t.x*=-1;}if(r&&t.y>0||!r&&t.y<0){t.y*=-1;}this._sprite.setScale(t);}},{key:"_optionEquals",value:function _optionEquals(t,e){if(t==="layout"){var r=this._options.layout;if(!r&&e||!e&&r){return false;}if(!e.constructor||!r.constructor){return false;}if(r.constructor.identifier!==e.constructor.identifier){return false;}return true;}return _get(_getPrototypeOf(rm.prototype),"_optionEquals",this).call(this,t,e);}},{key:"serializeOptions",value:function serializeOptions(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t&&this.getPadding()<0){var o=t.indexOf("padding");if(o>-1){t.splice(o,1);}}var r=_get(_getPrototypeOf(rm.prototype),"serializeOptions",this).call(this,t,e);if(!t)r.type="textdesign";return r;}},{key:"_getTexture",value:function _getTexture(){return this._texture;}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return false;}},{key:"canBeDuplicated",value:function canBeDuplicated(){return true;}},{key:"canMaskCanvas",value:function canMaskCanvas(){return true;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return true;}},{key:"dispose",value:function dispose(){this._isDisposed=true;this._texture.dispose();this._sprite.dispose();}}]);return rm;}(Rn);rm.Layouts={TextDesignBlocks:oi,TextDesignBlocksCondensed:vc,TextDesignBlocksLight:Bn,TextDesignCelebrate:Mr,TextDesignCelebrateSimple:Sc,TextDesignEqualWidth:Mn,TextDesignEqualWidthFat:Tc,TextDesignMasked:ke,TextDesignMaskedBadge:ll,TextDesignMaskedSpeechBubble:Lr,TextDesignMaskedSpeechBubbleComic:Ic,TextDesignMultiline:Dc,TextDesignWatercolor:Fc,TextDesignSunshine:vi,TextDesignParticles:js,TextDesignRotated:Ec};rm.LegacyLayouts={TextDesignBlocksLightV310:Cc,TextDesignSunshineV310:cx};rm.AssetManager=Kt;rm.prototype.availableOptions={id:{type:"string","default":function _default(){return z.getUUID();}},position:{type:"vector2","default":new dl(.5,.5)},dimensions:{type:"vector2","default":dl.NULL},anchor:{type:"vector2","default":new dl(0,0)},pivot:{type:"vector2","default":new dl(.5,.5)},rotation:{type:"number","default":0},flipHorizontally:{type:"boolean","default":false},flipVertically:{type:"boolean","default":false},layout:{type:"object","default":null,setter:function setter(i){this._isLayoutDirty=true;return i;}},text:{type:"string","default":"",setter:function setter(i){this._isLayoutDirty=true;return i;}},color:{type:"color","default":G.BLACK,setter:function setter(i){this._isLayoutDirty=true;return i;}},padding:{type:"number","default":.01,minValue:.01},width:{type:"number","default":.8},inverted:{type:"boolean","default":false,setter:function setter(i){this._isLayoutDirty=true;return i;}},seed:{type:"number","default":-1}};dx=rm;});var $T,mx,px;var ZU=d(function(){$();$d();VT();$T=J.Vector2;mx=/*#__PURE__*/function(_Rn4){_inherits(mx,_Rn4);var _super181=_createSuper(mx);function mx(){var _this218;_classCallCheck(this,mx);for(var _len102=arguments.length,t=new Array(_len102),_key102=0;_key102<_len102;_key102++){t[_key102]=arguments[_key102];}_this218=_super181.call.apply(_super181,[this].concat(t));_this218._textRenderer=new GT(_assertThisInitialized(_this218),_this218._operation);_this218._textRenderer.rotation=_this218.getRotation();_this218._sprite.setTexture(_this218._textRenderer.getFinalTexture());_this218._hitTestSprite.setTexture(_this218._textRenderer.getTexture());return _this218;}_createClass(mx,[{key:"serializeOptions",value:function serializeOptions(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=_get(_getPrototypeOf(mx.prototype),"serializeOptions",this).call(this,t,e);if(!t)r.type="text";return r;}},{key:"getDOMStyle",value:function getDOMStyle(t,e){var r=this.getFontSize()*e.y;return{fontWeight:this._options.fontWeight,fontSize:"".concat(r,"px"),fontStyle:this._options.fontStyle,fontFamily:this._options.fontFamily,lineHeight:"".concat(this.getAbsoluteTextHeight(e)*this.getLineHeight(),"px"),color:this._options.color.toRGBA(),backgroundColor:this._options.backgroundColor.toRGBA(),textAlign:this._options.alignment};}},{key:"getAbsoluteTextHeight",value:function getAbsoluteTextHeight(t){var e=this.getFontSize()*t.y;var r=this.getTextMetrics();if(r){var o=1/r.unitsPerEm*e;var n=r.ascender*o;var s=r.descender*o;return n+Math.abs(s);}return e*this.getLineHeight()*1.1;}},{key:"getDimensions",value:function getDimensions(t,e){return this._textRenderer.getDimensions(t,e);}},{key:"applyFlip",value:function applyFlip(t){_get(_getPrototypeOf(mx.prototype),"applyFlip",this).call(this,t);var e=this._options.rotation;switch(t){case"horizontal":e+=(Math.PI-e)*2;this.setRotation(e);break;case"vertical":e+=(Math.PI/2-e)*2;this.setRotation(e);break;}}},{key:"applyTransform",value:function applyTransform(t){_get(_getPrototypeOf(mx.prototype),"applyTransform",this).call(this,t);this.set({fontSize:t.scaleSize(this.getFontSize(),"y"),maxWidth:t.scaleSize(this.getMaxWidth(),"x")},false);}},{key:"applyRotation",value:function applyRotation(t){_get(_getPrototypeOf(mx.prototype),"applyRotation",this).call(this,t);var e=(t+360)%360;var r=this._operation.getInputDimensions();if(e===90||e===270){this.setMaxWidth(this.getMaxWidth()/r.x*r.y);this.setFontSize(this.getFontSize()/r.y*r.x);}}},{key:"setOption",value:function setOption(t,e){var _this$_options32=this._options,r=_this$_options32.flipHorizontally,o=_this$_options32.flipVertically;if(t==="rotation"){var n=e;if(r){n=Math.PI*2-n;}if(o){n=Math.PI*2-n;}this._options.rotation=n;if(this._textRenderer){this._textRenderer.rotation=n;}this._rotation=n;this.emit("update");return;}_get(_getPrototypeOf(mx.prototype),"setOption",this).call(this,t,e);}},{key:"getOption",value:function getOption(t){if(t==="rotation"){return this._rotation;}return _get(_getPrototypeOf(mx.prototype),"getOption",this).call(this,t);}},{key:"getHitTestDisplayObject",value:function getHitTestDisplayObject(){return this._hitTestSprite;}},{key:"update",value:function update(t,e){this._sprite.setVisible(this._options.visible);if(!this._options.visible)return;this._textRenderer.update(t,e);var r=this._textRenderer.getFinalTexture();var o=r.getBaseTexture();o.update();var n=t.getRenderer();if(n.isOfType("webgl")){n.updateTexture(r.getBaseTexture());}_get(_getPrototypeOf(mx.prototype),"update",this).call(this,t,e);this._sprite.setRotation(0);this._textRenderer.getTexture().getBaseTexture().update();this._hitTestSprite.setRotation(this._rotation);this._hitTestSprite.updateTransform();this._applyFlip();}},{key:"_applyFlip",value:function _applyFlip(){var t=this._sprite.getScale();var _this$_options33=this._options,e=_this$_options33.flipHorizontally,r=_this$_options33.flipVertically;if(e&&t.x>0||!e&&t.x<0){t.x*=-1;this.setRotation(this._rotation);}if(r&&t.y>0||!r&&t.y<0){t.y*=-1;this.setRotation(this._rotation);}this._sprite.setScale(t);}},{key:"_getTexture",value:function _getTexture(){return this._textRenderer.getFinalTexture();}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(mx.prototype),"dispose",this).call(this);this._textRenderer.dispose();this._hitTestSprite.dispose();this._sprite.dispose();}},{key:"canBeFlippedHorizontally",value:function canBeFlippedHorizontally(){return false;}},{key:"canAdjustPadding",value:function canAdjustPadding(){return false;}}]);return mx;}(Rn);mx.prototype.availableOptions={id:{type:"string","default":function _default(){return z.getUUID();}},fontSize:{type:"number","default":.1},characterSpacing:{type:"number","default":0},lineHeight:{type:"number","default":1.1},fontIdentifier:{type:"string"},fontFamily:{type:"string","default":"Times New Roman"},fontWeight:{type:"*","default":"normal"},fontStyle:{type:"string","default":"normal"},textMetrics:{type:"object","default":null},outlineWidth:{type:"number","default":0},outlineColor:{type:"color","default":G.BLACK},alignment:{type:"string","default":"left",available:["left","center","right"]},verticalAlignment:{type:"string","default":"top",available:["top","center","bottom"]},color:{type:"color","default":new G(1,0,0,1)},backgroundColor:{type:"color","default":G.TRANSPARENT},position:{type:"vector2","default":new $T(.5,.5)},anchor:{type:"vector2","default":new $T(0,0)},pivot:{type:"vector2","default":new $T(.5,.5)},rotation:{type:"number","default":0},text:{type:"string",required:true},maxWidth:{type:"number","default":.5},maxHeight:{type:"number","default":0},visible:{type:"boolean","default":true},flipHorizontally:{type:"boolean","default":false},flipVertically:{type:"boolean","default":false}};mx.type="text";px=mx;});var KT,$s,QU;var t7=d(function(){$();$d();RT();X9();JU();ZU();KT=J.Vector2;$s=/*#__PURE__*/function(_Lt15){_inherits($s,_Lt15);var _super182=_createSuper($s);function $s(){var _this219;_classCallCheck(this,$s);for(var _len103=arguments.length,t=new Array(_len103),_key103=0;_key103<_len103;_key103++){t[_key103]=arguments[_key103];}_this219=_super182.call.apply(_super182,[this].concat(t));_this219.setSmoothDownscaling(_this219._sdk.getOptions().smoothDownscaling);_this219._onSpriteUpdate=_this219._onSpriteUpdate.bind(_assertThisInitialized(_this219));_this219._maskCanvas=z.createCanvas();var e=_this219._options.sprites.slice();e.forEach(function(r){_this219.removeSprite(r);_this219.addSprite(r);});return _this219;}_createClass($s,[{key:"getSpritesOfType",value:function getSpritesOfType(t){return this._options.sprites.filter(function(e){return e instanceof t;});}},{key:"rotate",value:function rotate(t){this._options.sprites.forEach(function(e){e.applyRotation(t);});}},{key:"flip",value:function flip(t){this._options.sprites.forEach(function(e){e.applyFlip(t);});}},{key:"_onSpriteUpdate",value:function _onSpriteUpdate(t,e){this.emit("update",this);this.setDirty(true);}},{key:"_applyRotation",value:function _applyRotation(t,e){this._options.sprites.forEach(function(r){return r.applyRotation(t,e);});}},{key:"transform",value:function transform(t){this._options.sprites.forEach(function(e){return e.applyTransform(t);});}},{key:"scale",value:function scale(t){this._options.sprites.forEach(function(e){return e.applyScale(t);});}},{key:"serializeOption",value:function serializeOption(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(t==="sprites"){return this._options.sprites.map(function(r){return r.serializeOptions(void 0,e);});}return _get(_getPrototypeOf($s.prototype),"serializeOption",this).call(this,t,e);}},{key:"createSticker",value:function createSticker(t){return new A_(this,t);}},{key:"createText",value:function createText(t){return new px(this,t);}},{key:"createBrush",value:function createBrush(t){return new yc(this,t);}},{key:"createTextDesign",value:function createTextDesign(t){return new dx(this,t);}},{key:"addSprite",value:function addSprite(t){this._options.sprites.push(t);var e=this.getSmoothDownscaling();if(t.setSmoothDownscaling)t.setSmoothDownscaling(e);this._container.addChild(t.getDisplayObject());this.setDirty(true);t.on("update",this._onSpriteUpdate);this.emit("update",this,this._options.sprites);}},{key:"removeSprite",value:function removeSprite(t){var e=this._options.sprites;var r=e.indexOf(t);if(r!==-1){t.off("update",this._onSpriteUpdate);this._container.removeChild(t.getDisplayObject());e.splice(r,1);this.setDirty(true);return true;}return false;}},{key:"_getOrientatedStageSize",value:function _getOrientatedStageSize(){var t=this._sdk.getSprite().getTexture().getFrame();var e=this._sdk.getOperationsStack().getByIdentifier("orientation");if(e){var o=e?e.getRotation():0;var n=o===270||o===90;return n?new KT(t.height,t.width):new KT(t.width,t.height);}var r=this._sdk.getOperationsStack().getByIdentifier("output");if(r){return r.getOutputResolution();}return new KT(t.width,t.height);}},{key:"_render",value:function _render(t){var _this220=this;var e=this._container;var r=this._options.sprites;var o=t.getDimensions().clone().floor();var n=new L.Container();n.addChild(this._sprite);return Promise.all(r.map(function(s){return s.validateSettings();})).then(function(){r.forEach(function(s){return s.update(_this220._sdk,o);});}).then(function(){_this220._renderTexture.clear();r.forEach(function(s){if(s.getInverted&&s.getInverted()){_this220._renderTexture.render(n);_this220._renderTexture.render(_this220._renderMaskedSprite(s.getDisplayObject(),s.getColor?s.getColor():G.WHITE,s.getPadding?s.getPadding():-1));n=new L.Container();}else{n.addChild(s.getDisplayObject());}});_this220._renderTexture.render(n);e.addChild(_this220._sprite);r.forEach(function(s){return e.addChild(s.getDisplayObject());});});}},{key:"_renderMaskedSprite",value:function _renderMaskedSprite(t,e,r){var o=this._maskCanvas;var n=t.getWorldTransform();var s=this._getOrientatedStageSize();z.ensureCanvasDimensions(o,s);var a=o.getContext("2d");a.clearRect(0,0,o.width,o.height);a.save();a.fillStyle=e.toRGBA();if(r<0){a.fillRect(0,0,s.x,s.y);}else{var u=Math.abs(t.getWidth()/t.getScale().x);var m=Math.abs(t.getHeight()/t.getScale().y);var p=u*r;a.transform(n.a,n.b,n.c,n.d,n.tx,n.ty);a.fillRect(-p,-p,u+p*2,m+p*2);}a.restore();a.save();a.globalCompositeOperation="destination-out";t._renderCanvas({getCurrentRenderTarget:function getCurrentRenderTarget(){return{getPixelRatio:function getPixelRatio(){return 1;}};},beforeDraw:function beforeDraw(u){var m=t.getWidth();var p=t.getHeight();var h=t.getScale();var g=h.x<0;var x=h.y<0;u.translate(m,p);u.scale(g?-1:1,x?-1:1);u.translate(-m,-p);},getContext:function getContext(){return a;}});a.restore();var l=new L.Container();var c=new L.Sprite(L.Texture.fromCanvas(o));l.addChild(c);return l;}},{key:"takeSpriteToFront",value:function takeSpriteToFront(t){var e=this._options.sprites;var r=e.indexOf(t);if(r===-1)return;z.moveArrayItem(e,r,e.length-1);var o=t.getDisplayObject();this._container.removeChild(o);this._container.addChild(o);this.setDirty(true);}},{key:"getSpritesAtPosition",value:function getSpritesAtPosition(t,e){var _this221=this;var r=[];this._options.sprites.forEach(function(u){return u.update(_this221._sdk,e);});var o=this._sdk.getSprite();var n=o.getWorldTransform().applyInverseToVector(t);var _o$getTexture$getFram=o.getTexture().getFrame(),s=_o$getTexture$getFram.width,a=_o$getTexture$getFram.height;var l=o.getAnchor().clone().multiply(-s,-a);n.subtract(l);var c=this._options.sprites.slice(0).reverse();for(var u=0,m=c.length;u<m;u++){var p=c[u];if(p.getHitTestDisplayObject().isAtPosition(n)){r.push(p);}}return r;}},{key:"setDirtyForRenderer",value:function setDirtyForRenderer(t,e,r){_get(_getPrototypeOf($s.prototype),"setDirtyForRenderer",this).call(this,t,e,r);this._options.sprites.forEach(function(o){o.setDirtyForRenderer(t,e,r);});}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf($s.prototype),"dispose",this).call(this);this._options.sprites.forEach(function(t){t.dispose();});}}]);return $s;}(Lt);$s.StickerSprite=A_;$s.TextSprite=px;$s.BrushSprite=yc;$s.TextDesignSprite=dx;$s.identifier="sprite";$s.prototype.availableOptions={sprites:{type:"array","default":[],setter:function setter(i,t){var _this222=this;i=i.map(function(e,r){if(e instanceof Rn){return e;}var o=_objectSpread({},e);delete o.type;switch(e.type){case"text":return new px(_this222,o);case"sticker":return new A_(_this222,o);case"brush":return new yc(_this222,o);case"textdesign":return new dx(_this222,o);default:{Y.error(_this222.constructor.name,"Invalid sprite type: ".concat(e.type));return null;}}});if(!t){if(this._options.sprites){var e=this._options.sprites.slice();e.forEach(function(r){r.dispose();_this222.removeSprite(r);});}i.forEach(function(e){_this222.addSprite(e);});}return i;}},smoothDownscaling:{type:"boolean","default":false}};ft.Operations.SpriteOperation=$s;QU=$s;});var e7,i7,r7;var o7=d(function(){$();e7=J.Vector2;i7=/*#__PURE__*/function(){function i7(t,e){_classCallCheck(this,i7);this._options=e;this._oldOptions={start:t.getStart().clone(),end:t.getEnd().clone(),rotation:t.getRotation(),textureScale:t.getTextureScale()};this._inputDimensions=t.getInputDimensions(false);this._rotationDelta=e.rotation-t.getRotation();this._deltaCos=Math.cos(this._rotationDelta);this._deltaSin=Math.sin(this._rotationDelta);this._oldAbsoluteSize=this._oldOptions.end.clone().subtract(this._oldOptions.start).multiply(this._inputDimensions);this._newAbsoluteSize=e.end.clone().subtract(e.start).multiply(this._inputDimensions);this._absoluteStartDiff=this._oldOptions.start.clone().subtract(e.start).multiply(this._inputDimensions);this._scaleRatio=t.calculateScale(e.rotation)/t.calculateScale();this._sizeFactor=this._newAbsoluteSize.clone().divide(this._oldAbsoluteSize);this._textureScaleFactor=this._options.textureScale/t.getTextureScale();}_createClass(i7,[{key:"applyToRelativePoint",value:function applyToRelativePoint(t){var e=this._oldOptions.start;var r=this._oldOptions.end;var o=e.clone().add(r.clone().subtract(e).divide(2));var n=o.multiply(this._inputDimensions);var s=t.clone().multiply(this._oldAbsoluteSize).subtract(this._oldAbsoluteSize.clone().divide(2));var a=n.clone().add(s);var l=a.clone().subtract(this._inputDimensions.clone().divide(2));var c=new e7(l.x*this._deltaCos-l.y*this._deltaSin,l.x*this._deltaSin+l.y*this._deltaCos);var u=this._inputDimensions.clone().divide(2).add(c);var m=this._options.start.clone().multiply(this._inputDimensions);return u.clone().subtract(m).divide(this._newAbsoluteSize);}},{key:"applyToRelativeSize",value:function applyToRelativeSize(t){return t*this._oldAbsoluteSize.min()/this._newAbsoluteSize.min();}},{key:"applyToDimensions",value:function applyToDimensions(t){t=t.clone().multiply(this._scaleRatio);if(this._options.textureScale){t.multiply(this._textureScaleFactor);}return t;}},{key:"scaleSize",value:function scaleSize(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"y";return t/this._sizeFactor[e];}},{key:"applyToRotation",value:function applyToRotation(t){return(t+this._rotationDelta)%(Math.PI*2);}},{key:"invert",value:function invert(){var t=this._options.start.clone();var e=this._options.end.clone();var r=this._inputDimensions;var o=-this._rotationDelta;var n=Math.cos(o);var s=Math.sin(o);var a=this._oldAbsoluteSize;var l=this._newAbsoluteSize;var c=t.clone().subtract(e).multiply(r);var u=1/this._scaleRatio;var m=new e7(1/this._sizeFactor.x,1/this._sizeFactor.y);var p=1/this._textureScaleFactor;var h=this._oldOptions;this._oldOptions=this._options;this._options=h;this._inputDimensions=r;this._rotationDelta=o;this._deltaCos=n;this._deltaSin=s;this._oldAbsoluteSize=l;this._newAbsoluteSize=a;this._absoluteStartDiff=c;this._scaleRatio=u;this._sizeFactor=m;this._textureScaleFactor=p;return this;}}]);return i7;}();r7=i7;});var XT,om,n7;var s7=d(function(){$();o7();XT=J.Vector2;om=/*#__PURE__*/function(_Lt16){_inherits(om,_Lt16);var _super183=_createSuper(om);function om(){_classCallCheck(this,om);return _super183.apply(this,arguments);}_createClass(om,[{key:"_render",value:function _render(t){this._sprite.setRotation(0);var e=t.getDimensions();var _this$_options34=this._options,r=_this$_options34.start,o=_this$_options34.end,n=_this$_options34.rotation,s=_this$_options34.textureScale;var a=o.clone().subtract(r);var l=a.clone().divide(2);var c=r.clone().add(l);var u=this.calculateScale();var m=u*s;var p=e.clone().multiply(m).multiply(l);this._sprite.setAnchor(c);this._sprite.setRotation(n);this._sprite.setScale(m,m);this._sprite.setPosition(p);this._renderTexture.render(this._container);return Promise.resolve();}},{key:"calculateScale",value:function calculateScale(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.rotation;var e=this.getInputDimensions(false);var r=new XT(Math.abs(e.x*Math.cos(t))+Math.abs(e.y*Math.sin(t)),Math.abs(e.x*Math.sin(t))+Math.abs(e.y*Math.cos(t)));var o=e.clone().subtract(r.clone()).divide(2).abs();var n=1;if(o.y>o.x){n=o.y*2/e.y+1;}else{n=o.x*2/e.x+1;}return n;}},{key:"getNewDimensions",value:function getNewDimensions(t){var _this$_options35=this._options,e=_this$_options35.start,r=_this$_options35.end,o=_this$_options35.textureScale;var n=this.calculateScale();var s=t.clone().multiply(o*n).multiply(r.clone().subtract(e));return s.round();}},{key:"flip",value:function flip(t){var _this$_options36=this._options,e=_this$_options36.start,r=_this$_options36.end;var o=e.clone();if(t==="horizontal"){e.set(1-r.x,e.y);r.set(1-o.x,r.y);}else if(t==="vertical"){e.set(e.x,1-r.y);r.set(r.x,1-o.y);}}},{key:"rotate",value:function rotate(t){var _this$_options37=this._options,e=_this$_options37.start,r=_this$_options37.end;var o=(t+360)%360;var n=Math.floor(o/90);for(var s=0;s<n;s++){var a=e.clone();e.set(1-r.y,a.x);r.set(1-a.y,r.x);}}},{key:"_onBeforeExport",value:function _onBeforeExport(){this._wasEnabledBeforeExport=this.getEnabled();this.setEnabled(true);}},{key:"_onAfterExport",value:function _onAfterExport(){this.setEnabled(this._wasEnabledBeforeExport,true);}}]);return om;}(Lt);om.identifier="transform";om.prototype.availableOptions={start:{type:"vector2","default":new XT(0,0)},end:{type:"vector2","default":new XT(1,1)},textureScale:{type:"number","default":1},rotation:{type:"number","default":0}};om.TransformChange=r7;ft.Operations.TransformOperation=om;n7=om;});var Lh,a7;var l7=d(function(){ue();$();pc();Lh=/*#__PURE__*/function(_Lt17){_inherits(Lh,_Lt17);var _super184=_createSuper(Lh);function Lh(){var _this223;_classCallCheck(this,Lh);for(var _len104=arguments.length,t=new Array(_len104),_key104=0;_key104<_len104;_key104++){t[_key104]=arguments[_key104];}_this223=_super184.call.apply(_super184,[this].concat(t));_this223._watermarkImage=null;_this223._watermarkTexture=null;_this223._loadWatermarkImage=function(){if(!_this223._watermarkImage){if(!(_this223._options.watermarkURI instanceof window.Image)){var _t26={value:_this223._options.crossOrigin,cors:true};return Wi.loadImage(_this223._options.watermarkURI,_t26).then(function(e){_this223._watermarkImage=e;});}_this223._watermarkImage=_this223._options.watermarkURI;}return Promise.resolve();};_this223._setWatermarkalignment=function(t,e){var r=Math.min(e.x,e.y)*z.clamp(_this223._options.inset,0,1);switch(_this223._options.alignment){case"center":_this223._watermarkSprite.setPosition(new _ot2(e.x-t.x,e.y-t.y).divide(2));break;case"top-left":_this223._watermarkSprite.setPosition(new _ot2(r,r));break;case"top-right":_this223._watermarkSprite.setPosition(new _ot2(e.x-t.x-r,r));break;case"bottom-left":_this223._watermarkSprite.setPosition(new _ot2(r,e.y-t.y-r));break;case"bottom-right":_this223._watermarkSprite.setPosition(new _ot2(e.x-t.x-r,e.y-t.y-r));break;default:_this223._watermarkSprite.setPosition(new _ot2(0,0));break;}};_this223._watermarkSprite=new L.Sprite();_this223._watermarkSprite.setAnchor(0,0);_this223._container.addChild(_this223._watermarkSprite);return _this223;}_createClass(Lh,[{key:"_render",value:function _render(t){var _this224=this;var _this$_options38=this._options,e=_this$_options38.alpha,r=_this$_options38.size;return this._loadWatermarkImage().then(function(){if(_this224._watermarkImage){if(!_this224._watermarkTexture){_this224._watermarkTexture=L.Texture.fromImage(_this224._watermarkImage);_this224._watermarkSprite.setTexture(_this224._watermarkTexture);}var o=t.getDimensions();var _this224$_watermarkIm=_this224._watermarkImage,n=_this224$_watermarkIm.width,s=_this224$_watermarkIm.height;var a=z.resizeVectorToFit(new _ot2(n,s),o.clone().multiply(z.clamp(r,0,1)));_this224._setWatermarkalignment(a,o);_this224._watermarkSprite.setWidth(a.x);_this224._watermarkSprite.setHeight(a.y);_this224._watermarkSprite.setAlpha(e);if(_this224._renderTexture){_this224._renderTexture.render(_this224._container);}}return Promise.resolve();});}},{key:"dispose",value:function dispose(){_get(_getPrototypeOf(Lh.prototype),"dispose",this).call(this);this._watermarkSprite.dispose();}}]);return Lh;}(Lt);Lh.identifier="watermark";Lh.prototype.availableOptions={watermarkURI:{type:"string",required:true},alignment:{type:"string","default":"top-right"},inset:{type:"number","default":"0.05"},size:{type:"number","default":"0.2"},alpha:{type:"number","default":1},crossOrigin:{type:"string","default":"anonymous"}};ft.Operations.WatermarkOperation=Lh;a7=Lh;});var elt;var c7=d(function(){$();Fz();Pz();e9();r9();n9();m9();b9();C9();w9();k9();E9();B9();K9();t7();s7();l7();elt=[Ez,Bz,t9,o9,d9,g9,v9,S9,D9,A9,$9,QU,n7,a7,T9,i9];ft.AllOperations=elt;});var Ln=d(function(){c7();xh();xh();});var u7;var d7=d(function(){u7=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff","default":true,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Aleo",variations:[{identifier:"imgly_font_aleo_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_aleo_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}}]},{fontFamily:"Amatic SC",variations:[{identifier:"imgly_font_amaticsc",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_amaticsc.woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}}]},{fontFamily:"Archivo",variations:[{identifier:"imgly_font_archivo_black",fontWeight:"normal",filePath:"fonts/imgly_font_archivo_black.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_bungee_inline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Carter",variations:[{identifier:"imgly_font_carter_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_carter_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}}]},{fontFamily:"Codystar",variations:[{identifier:"imgly_font_codystar",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_codystar.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}}]},{fontFamily:"Fira Sans",variations:[{identifier:"imgly_font_fira_sans_regular",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_fira_sans_regular.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}}]},{fontFamily:"Krona One",variations:[{identifier:"imgly_font_krona_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_krona_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}}]},{fontFamily:"Kumar One Outline",variations:[{identifier:"imgly_font_kumar_one_outline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_kumar_one_outline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}}]},{fontFamily:"Lobster",variations:[{identifier:"imgly_font_lobster",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_lobster.woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Molle",variations:[{identifier:"imgly_font_molle",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_molle.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}}]},{fontFamily:"Monoton",variations:[{identifier:"imgly_font_monoton",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_monoton.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}}]},{fontFamily:"Nixie One",variations:[{identifier:"imgly_font_nixie_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_nixie_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}}]},{fontFamily:"Notable",variations:[{identifier:"imgly_font_notable",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_notable.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}}]},{fontFamily:"Oswald SemiBold",variations:[{identifier:"imgly_font_oswald_semi_bold",fontWeight:600,fontStyle:"normal",filePath:"fonts/imgly_font_oswald_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}}]},{fontFamily:"Palanquin Dark SemiBold",variations:[{identifier:"imgly_font_palanquin_dark_semi_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_palanquin_dark_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}}]},{fontFamily:"Poppins",variations:[{identifier:"imgly_font_poppins",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_poppins.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_permanent_marker.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sancreek",variations:[{identifier:"imgly_font_sancreek",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sancreek.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}}]},{fontFamily:"Stint Ultra Expanded",variations:[{identifier:"imgly_font_stint_ultra_expanded",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_stint_ultra_expanded.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}}]},{fontFamily:"Trashhand",variations:[{identifier:"imgly_font_trash_hand",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_trash_hand.woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}}]},{fontFamily:"VT323",variations:[{identifier:"imgly_font_vt323",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_vt323.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Yeseva One",variations:[{identifier:"imgly_font_yeseva_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_yeseva_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}];});var m7;var p7=d(function(){m7=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff","default":true,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Abril Fatface",variations:[{identifier:"imgly_font_abril_fatface_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_abril_fatface_regular.woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_bungee_inline.woff","default":true,textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Handycheera",variations:[{identifier:"imgly_font_handycheera_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_handycheera_regular.woff","default":true,textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}}]},{fontFamily:"Montserrat Light",variations:[{identifier:"imgly_font_montserrat_light",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_montserrat_light.woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_heavy",fontWeight:900,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_heavy.woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_permanent_marker.woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Petit Formal Script",variations:[{identifier:"imgly_font_petit_formal_script",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_petit_formal_script.woff","default":true,textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}}]},{fontFamily:"Rasa",variations:[{identifier:"imgly_font_rasa_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_regular.woff","default":true,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontWeight:500,fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_500.woff","default":true,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_black.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_light.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sue Ellen Francisco",variations:[{identifier:"imgly_font_sue_ellen_francisco",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sue_ellen_francisco.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}}]},{fontFamily:"Ultra",variations:[{identifier:"imgly_font_ultra",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_ultra.woff","default":true,textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}}]},{fontFamily:"Allison",variations:[{identifier:"imgly_font_allison_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_allison_regular.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}}]},{fontFamily:"Cookie",variations:[{identifier:"imgly_font_cookie_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_cookie_regular.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf","default":true,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}];});var h7;var f7=d(function(){h7=[{identifier:"imgly_transforms_common",defaultName:"Common Ratios",ratios:[{identifier:"imgly_transform_common_custom",defaultName:"Custom",ratio:"*",selected:true},{identifier:"imgly_transform_common_square",defaultName:"Square",ratio:1},{identifier:"imgly_transform_common_4-3",defaultName:"4:3",ratio:4/3},{identifier:"imgly_transform_common_16-9",defaultName:"16:9",ratio:16/9}]},{identifier:"imgly_transforms_facebook",defaultName:"Facebook",ratios:[{identifier:"imgly_transform_facebook_profile",defaultName:"Profile Pic",dimensions:{x:300,y:300},forceDimensions:false,lockDimensions:true},{identifier:"imgly_transform_facebook_ad",defaultName:"Ad",dimensions:{x:1200,y:627}},{identifier:"imgly_transform_facebook_post",defaultName:"Post",dimensions:{x:940,y:788}},{identifier:"imgly_transform_facebook_cover",defaultName:"Cover",dimensions:{x:851,y:315}}]}];});var g7,b7;var y7=d(function(){Ln();d7();p7();f7();g7=[];if(typeof ft.Operations.SpriteOperation!=="undefined"){g7.push(ft.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush);}b7={TRANSFORM_RATIO_CATEGORIES:h7,FONTS:u7,TEXT_DESIGN_FONTS:m7,BRUSHES:g7};});var ilt,_7;var x7=d(function(){ph();ilt=_objectSpread(_objectSpread({},Od),{},{LOAD:"load",SAVE:"save",EDITOR_RESIZE:"editor:resize",ZOOM:"editor:zoom",ZOOM_CHANGED:"editor:zoom_changed",HISTORY_REDO:"history:redo",HISTORY_BEFORE_REDO:"history:before-redo",TEXT_SCALED:"editor:text:scaled",TRANSFORM_RESIZE:"transform:resize",TRANSFORM_AFTER_EDIT:"transform:after-edit",ADDED_STICKER:"sticker:added-sticker",SPRITES_DESELECTED:"editor:sprite:deselected-all",CANVAS_FOCUS:"canvas:focus"});_7=ilt;});var pe;var v7=d(function(){y7();x7();pe={EVENTS:_7,DEFAULTS:b7};});function rlt(){var _navigator=navigator,i=_navigator.userAgent,t=_navigator.appVersion;if(t.indexOf("MSIE")!==-1){return t.match(/MSIE\s+?([0-9]+)/i)[1];}if(i.indexOf("Trident")!==-1){return i.match(/rv:([0-9]+)/i)[1];}return false;}var C7;var S7=d(function(){C7={getIEVersion:rlt};});var olt,hx,nlt,Ji;var w7=d(function(){Ln();Cd();zo();To();S7();olt=ft.Utils;hx=ft.Math.Vector2;nlt={getInnerDimensionsForElement:function getInnerDimensionsForElement(i){var t=new hx(i.offsetWidth,i.offsetHeight);var e=window.getComputedStyle(i,null);t.x-=parseInt(e.getPropertyValue("padding-left"),10);t.x-=parseInt(e.getPropertyValue("padding-right"),10);t.y-=parseInt(e.getPropertyValue("padding-top"),10);t.y-=parseInt(e.getPropertyValue("padding-bottom"),10);return t;},getEventPosition:function getEventPosition(i){var t=i.clientX;var e=i.clientY;if(i.type.indexOf("touch")!==-1){if(!i.touches.length)return;t=i.touches[0].clientX;e=i.touches[0].clientY;}return new hx(t,e);},createTransparentPatternCanvas:function createTransparentPatternCanvas(){var i=document.createElement("canvas");var t=i.getContext("2d");i.width=10;i.height=10;t.fillStyle="white";t.fillRect(0,0,i.width,i.height);t.fillStyle="#cccccc";t.fillRect(0,0,i.width/2,i.height/2);t.fillRect(i.width/2,i.height/2,i.width,i.height);return i;},supportsMSBlob:function supportsMSBlob(){var i=document.createElement("canvas");var t=typeof i.msToBlob!=="undefined";$t(i);return t;},translate:function translate(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var r=this.fetch(i,t);if(!r){Y.info("Utils#translate","Unable to translate `".concat(t,"`"));return null;}for(var o in e){r=r.replace("${".concat(o,"}"),e[o]);}return r;},fetch:function fetch(i,t,e){t=t.replace(/\[(\w+)]/g,".$1");t=t.replace(/^\./,"");var r=t.split(".");for(var o=0;o<r.length;o++){var n=r[o];i=i[n];if(!i){break;}}if(typeof i==="undefined"){return false;}return i;},isMobile:function isMobile(){var i=navigator.userAgent||navigator.vendor||window.opera;return /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4));},select:function select(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!e)e=function e(o){return o;};var r=[];t.forEach(function(o){i.forEach(function(n){var s=e(n);if(s===o){r.push(n);}});});return r;},getJSONP:function getJSONP(i){var t=new ro(i);return t.load();},cloneCategories:function cloneCategories(i,t){return i.map(function(e){e=olt.clone(e);e[t]=e[t].slice(0);return e;});},mergeCategories:function mergeCategories(i,t,e){i=this.cloneCategories(i,e);var r=null;t.forEach(function(o){i.forEach(function(n){if(o.identifier===n.identifier){r=n;}});if(!r){i.push(o);}else{r[e]=r[e].concat(o[e]);}});return i;},wrapFiltersInCategories:function wrapFiltersInCategories(i,t){return i.map(function(e){var r=e;if(!(t in r)){r=_defineProperty({identifier:"imgly_filters_wrapped-".concat(e.identifier),displayFlat:true},t,[e]);}return r;});},getStyleObject:function getStyleObject(i){var t=window.getComputedStyle(i);var e={};for(var r in t){var o=t.getPropertyValue(r);var n=r.replace(/-([a-z])/g,function(s,a){return a.toUpperCase();});if(o!==""){e[n]=o;}}return e;},styleElement:function styleElement(i,t){for(var e in t){i.style[e]=t[e];}},debounce:function debounce(i,t,e){var r;return function(){var _this225=this;for(var _len105=arguments.length,o=new Array(_len105),_key105=0;_key105<_len105;_key105++){o[_key105]=arguments[_key105];}var n=function n(){r=null;if(!e)i.apply(_this225,o);};var s=e&&!r;clearTimeout(r);r=setTimeout(n,t);if(s)i.apply(this,o);};},getScrollbarWidth:function getScrollbarWidth(){var i=document.createElement("div");i.style.visibility="hidden";i.style.width="100px";i.style.msOverflowStyle="scrollbar";document.body.appendChild(i);var t=i.offsetWidth;i.style.overflow="scroll";var e=document.createElement("div");e.style.width="100%";i.appendChild(e);var r=e.offsetWidth;i.parentNode.removeChild(i);return t-r;},findIntegerFraction:function findIntegerFraction(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var e=Number.MAX_VALUE;var r=0;var o=0;var n=1;var s=1;for(var a=0;a<t;a++){var l=n/s-i;if(l<0){n++;}else if(l>0){s++;}else{return new hx(n,s);}var c=Math.abs(n/s-i);if(c<e){e=c;r=n;o=s;}}return new hx(r,o);},toFixed:function toFixed(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var e=i.toFixed(t);return parseFloat(e);},capitalize:function capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1);},flipObject:function flipObject(i){var t={};for(var e in i){t[i[e]]=e;}return t;},Browser:C7};Ji=nlt;});var qT,Ut,m9t,zh,p9t,h9t,Jt,ml,YT,st,f9t,Dt,g9t,b9t,y9t;var ue=d(function(){Ln();ph();_d();zo();v7();w7();var _ft=ft;qT=_ft.Base64;var _ft2=ft;Ut=_ft2.Color;m9t=ft.Math.ColorMatrix;var _ft3=ft;zh=_ft3.EventEmitter;var _ft4=ft;p9t=_ft4.EXIF;var _ft5=ft;h9t=_ft5.OptionType;Jt=ft.Utils;var _ft6=ft;ml=_ft6.RenderType;var _ft7=ft;YT=_ft7.ImageFormat;st=ft;var _ft8=ft;f9t=_ft8.UniformType;Dt=ft.Math.Vector2;g9t=ft.Math.Rectangle;b9t=ft.Math.Range;y9t=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):nh();});var _nm,Rc;var JT=d(function(){ue();_nm=/*#__PURE__*/function(){function nm(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_classCallCheck(this,nm);this._ui=t;this._options=e;this._categoriesById={};this._filtersByIdentifier={identity:st.Operations.FilterOperation.Filters.IdentityFilter};this._categories=Ji.wrapFiltersInCategories(Ls.DEFAULTS.FILTERS.slice(0),_nm.CATEGORY_ITEMS_PROPERTY);this._customAssetsAllowed=r||t.getEditor().getSDK()._l.areCustomAssetsAllowed();if(this._customAssetsAllowed&&this._options.categories){this._options.categories=Ji.wrapFiltersInCategories(this._options.categories,_nm.CATEGORY_ITEMS_PROPERTY);}this._initCategories();}_createClass(nm,[{key:"instantiateFilterWithIdentifier",value:function instantiateFilterWithIdentifier(t){var _this226=this;var e={value:this._ui._options.crossOrigin,cors:true};var r=this.getFilterByIdentifier(t);if(!r){return Promise.reject(new Error("Unknown filter with identifier `".concat(t,"`!")));}if(!(r.prototype instanceof st.Operations.FilterOperation.Filter)){var o=r.lutImage,n=r.resolution,s=r.horizontalTileCount,a=r.verticalTileCount;var l=r.lightColor,c=r.darkColor;if(l&&c){l=Ut.fromHex(l);c=Ut.fromHex(c);return Promise.resolve(new st.Operations.FilterOperation.Filters.DuoToneFilter({lightColor:l,darkColor:c}));}var u;if(this._ui.getPreloader){u=this._ui.getPreloader().getAsset(o);}var m;if(u){m=Promise.resolve(u);}else{m=Wi.loadImage(this._ui.getAssetPath(o),e);}return m.then(function(){return Wi.loadImage(_this226._ui.getAssetPath(o),e).then(function(p){return new st.Operations.FilterOperation.Filters.ThreeDLUTFilter({image:p,resolution:n,horizontalTileCount:s,verticalTileCount:a});});});}return Promise.resolve(new r());}},{key:"_initCategories",value:function _initCategories(){var _this227=this;if(this._customAssetsAllowed&&this._options.categories){if(this._options.replaceCategories){this._categories=Ji.wrapFiltersInCategories(this._options.categories,_nm.CATEGORY_ITEMS_PROPERTY);}else{this._categories=Ji.mergeCategories(this._categories,this._options.categories,_nm.CATEGORY_ITEMS_PROPERTY);}}if(this._customAssetsAllowed&&this._options.availableFilters){var e=[];this._categories.forEach(function(r){var o=r.filters.filter(function(n){return _this227._options.availableFilters.indexOf(n.identifier)!==-1;});if(o.length>0){e.push({identifier:r.identifier,defaultName:r.defaultName,filters:o});}});this._categories=e;}var t={identifier:"all",defaultName:"All",visible:false,filters:this._categories.length<=0?[]:this._categories.map(function(e){return e.filters;}).reduce(function(e,r){return e.concat(r);})};this._categories.unshift(t);this._categoriesById.all=t;this._categories.forEach(function(e){_this227._categoriesById[e.identifier]=e;});t.filters.forEach(function(e){_this227._filtersByIdentifier[e.identifier]=e;});}},{key:"getFiltersForCategory",value:function getFiltersForCategory(t){if(!this._categoriesById[t]){throw new Error("Unknown filter category '".concat(t,"'"));}return this._categoriesById[t].filters;}},{key:"getItemsByCategory",value:function getItemsByCategory(t){return this.getFiltersForCategory(t);}},{key:"getFilterByIdentifier",value:function getFilterByIdentifier(t){return this._filtersByIdentifier[t];}},{key:"getCategories",value:function getCategories(){return this._categories;}},{key:"getCategoryByIdentifier",value:function getCategoryByIdentifier(t){return this._categoriesById[t];}}]);return nm;}();Rc=_nm;q(Rc,"CATEGORY_ITEMS_PROPERTY","filters");});var Uh;var T7=d(function(){Ln();Uh=/*#__PURE__*/function(_t27){_inherits(Uh,_t27);var _super185=_createSuper(Uh);function Uh(){_classCallCheck(this,Uh);return _super185.apply(this,arguments);}return Uh;}(_t);Uh.prototype.availableOptions={fontFamily:{type:"string",required:true},variations:{type:"array",required:true}};});var slt,Oc;var ZT=d(function(){Ln();slt={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular"};Oc=/*#__PURE__*/function(_t28){_inherits(Oc,_t28);var _super186=_createSuper(Oc);function Oc(){_classCallCheck(this,Oc);return _super186.apply(this,arguments);}_createClass(Oc,[{key:"getLabel",value:function getLabel(){var t=slt[this._options.fontWeight];switch(this._options.fontStyle){case"italic":t+=" Italic";break;}return t;}}]);return Oc;}(_t);Oc.prototype.availableOptions={identifier:{type:"string",required:true},fontFamily:{type:"string",required:true},fontWeight:{type:"*","default":400},fontStyle:{type:"string","default":"normal"},textMetrics:{type:"object","default":null},provider:{type:"string",available:["google","file"]},filePath:{type:"string"},"default":{type:"boolean","default":false},font:{type:"object"}};});var Fi;var pl=d(function(){ue();T7();ZT();zo();XC();Fi=/*#__PURE__*/function(){function Fi(t,e){_classCallCheck(this,Fi);this._ui=t;this._options=e;this._fonts=[];this._variationsByIdentifier={};this._fontsByFontFamily={};this._initFonts();}_createClass(Fi,[{key:"_initFonts",value:function _initFonts(){var _this228=this;var _this$_options39=this._options,t=_this$_options39.fonts,e=_this$_options39.replaceFonts,r=_this$_options39.availableVariations,o=_this$_options39.isTextDesign;var n=true;if(true){n=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed();}if(t&&n){t.forEach(function(_ref115,c){var l=_ref115.variations;if(l){l.forEach(function(u,m){if(us[u.identifier]){var p=hn(u.identifier,true);t[c].variations[m].identifier=p;var _pe$DEFAULTS$FONTS$fi=pe.DEFAULTS.FONTS.find(function(g){return g.variations.some(function(x){return x.identifier===p;});}),h=_pe$DEFAULTS$FONTS$fi.fontFamily;t[c].fontFamily=h;}});}});}var s=o?pe.DEFAULTS.TEXT_DESIGN_FONTS:pe.DEFAULTS.FONTS;if(n){if(e){s=t;}else{s=s.concat(t||[]);}}var a;s=s.map(function(l){var c=l.fontFamily;var u=l.variations;if(n&&r){u=u.filter(function(p){return r.indexOf(p.identifier)!==-1;});}if(u.length===0)return null;var m=new Uh({fontFamily:c});u=u.map(function(p){var h=new Oc(p);h.setFontFamily(c);h.setFont(m);if(p["default"]&&!a){a=h;}if(h.getTextMetrics()==null){Y.warn("Missing font metrics for ".concat(h.getIdentifier(),". The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details."));}_this228._variationsByIdentifier[h.getIdentifier()]=h;return h;});m.setVariations(u);_this228._fontsByFontFamily[c]=m;return m;}).filter(function(l){return l;});if(!a){var _s$0$getVariations=s[0].getVariations();var _s$0$getVariations2=_slicedToArray(_s$0$getVariations,1);a=_s$0$getVariations2[0];}this._defaultVariation=a;this._fonts=s;}},{key:"getFonts",value:function getFonts(){return this._fonts;}},{key:"getFontByFontFamily",value:function getFontByFontFamily(t){return this._fontsByFontFamily[t];}},{key:"getVariationByIdentifier",value:function getVariationByIdentifier(t){return this._variationsByIdentifier[hn(t)];}},{key:"getVariationsByIdentifier",value:function getVariationsByIdentifier(){return _objectSpread({},this._variationsByIdentifier);}},{key:"getDefaultVariation",value:function getDefaultVariation(){return this._defaultVariation;}}]);return Fi;}();});var uo;var sm=d(function(){ue();uo=/*#__PURE__*/function(){function uo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,uo);this._ui=t;this._options=e;this._defaultLayouts=st.Operations.SpriteOperation.TextDesignSprite.Layouts;this._legacyLayouts=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts;this._layouts=[];this._init();}_createClass(uo,[{key:"_init",value:function _init(){var t=this._options.availableLayouts;var e=_objectSpread(_objectSpread({},this._defaultLayouts),this._legacyLayouts);this._layouts=Object.keys(e).map(function(r){return{identifier:e[r].identifier,layout:e[r]};});if(t){t.push.apply(t,_toConsumableArray(Object.values(this._legacyLayouts).map(function(r){return r.identifier;})));this._layouts=this._layouts.filter(function(r){return t.indexOf(r.identifier)>=0;});}}},{key:"getLayoutByIdentifier",value:function getLayoutByIdentifier(t){var e=Jt.Array.find(this._layouts,function(r){return r.identifier===t;});return e&&e.layout;}},{key:"getLayouts",value:function getLayouts(){return _toConsumableArray(this._layouts);}},{key:"getDefaultLayout",value:function getDefaultLayout(){return this.getLayouts()[0];}}]);return uo;}();});var Ac;var QT=d(function(){ue();Ac=/*#__PURE__*/function(){function Ac(){_classCallCheck(this,Ac);}_createClass(Ac,null,[{key:"downloadDataURL",value:function downloadDataURL(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";var r=this.createBlobURLFromDataURL(t);var o=this.getExtensionFromDataURL(t);var n=document.createElement("a");n.download="".concat(e,".").concat(o);n.href=r;document.body.appendChild(n);n.click();document.body.removeChild(n);}},{key:"downloadMSBlob",value:function downloadMSBlob(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";if(navigator.msSaveBlob){navigator.msSaveBlob(t,"".concat(e,".png"));}}},{key:"getExtensionFromDataURL",value:function getExtensionFromDataURL(t){var e=t.split(",")[0].split(":")[1].split(";")[0];return e.split("/").pop();}},{key:"createBlobURLFromDataURL",value:function createBlobURLFromDataURL(t){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array){return t;}var e=qT.decode(t.split(",")[1]);var r=t.split(",")[0].split(":")[1].split(";")[0];var o=new ArrayBuffer(e.length);var n=new Uint8Array(o);for(var a=0;a<e.length;a++){n[a]=e[a];}var s=new window.Blob([o],{type:r});return window.URL.createObjectURL(s);}}]);return Ac;}();});var fx;var k7=d(function(){ue();QT();fx=/*#__PURE__*/function(){function fx(t,e,r){_classCallCheck(this,fx);this._sdk=t;this._options=e;this._download=r;}_createClass(fx,[{key:"export",value:function _export(){var _this229=this;var t=this._getRenderType();return this._sdk["export"](t,this._options.format,this._options.quality).then(function(e){if(_this229._download){_this229._downloadData(t,e);}return e;});}},{key:"_downloadData",value:function _downloadData(t,e){switch(t){case ml.DATAURL:Ac.downloadDataURL(e,this._options.fileBasename);break;case ml.MSBLOB:Ac.downloadMSBlob(e,this._options.fileBasename);break;}}},{key:"_getRenderType",value:function _getRenderType(){var t=this._options;if(t.type!==ml.IMAGE||!this._download){return t.type;}if(Ji.supportsMSBlob()){return ml.MSBLOB;}return ml.DATAURL;}}]);return fx;}();});var gx;var I7=d(function(){ue();gx=/*#__PURE__*/function(){function gx(t,e,r){_classCallCheck(this,gx);this._editor=t;this._sdk=e;this._mediator=r;this._available=this._sdk.getOperations();this._map={};this._stack=this._sdk.getOperationsStack();this._preferredOrder=this._editor.getOptions().editor.operationsOrder;this._fixStack();}_createClass(gx,[{key:"exists",value:function exists(t){return!!this._map[t];}},{key:"add",value:function add(t){var _this230=this;var e=t.constructor.identifier;t.on("update",function(){_this230._mediator.emit(pe.EVENTS.OPERATION_UPDATED,t);});var r=this._preferredOrder.indexOf(e);if(r===-1){throw new Error("EditorOperations#add: `".concat(e,"` does not appear in `operationsOrder`"));}this._stack.set(r,t);this._map[e]=t;this._mediator.emit(pe.EVENTS.OPERATION_CREATED,t);}},{key:"remove",value:function remove(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var r=_typeof(t)==="object"?t.constructor.identifier:t;var o=this._stack.getStack();t=this.get(r);delete this._map[r];var n=o.map(function(s){return s.constructor.identifier;}).indexOf(r);if(n!==-1){this._stack.removeAt(n);for(var s=n+1;s<o.length;s++){var a=o[s];if(!a)continue;a.setDirty(true);}if(e){this._mediator.emit(pe.EVENTS.OPERATION_REMOVED,t);}}}},{key:"get",value:function get(t){return this._map[t];}},{key:"getOrCreate",value:function getOrCreate(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this._map[t]){var n=this._map[t];n.set(e,false);return n;}var r=this._available[t];var o=new r(this._sdk,e);this.add(o);return o;}},{key:"getStack",value:function getStack(){return this._stack;}},{key:"reset",value:function reset(){this._map={};}},{key:"_fixStack",value:function _fixStack(){var _this231=this;var t=this._stack.getStack().slice();this._stack.clear();t.forEach(function(e){_this231.add(e);});}}]);return gx;}();});var bx;var D7=d(function(){ue();bx=/*#__PURE__*/function(){function bx(t,e,r){_classCallCheck(this,bx);this._image=t;this._maxPixels=e;this._maxDimensions=r;}_createClass(bx,[{key:"needsResize",value:function needsResize(){var t=new Dt(this._image.width,this._image.height);var e=t.x*t.y;var r=e>this._maxPixels;var o=this._maxDimensions!==null&&(t.x>this._maxDimensions||t.y>this._maxDimensions);return r||o;}},{key:"resize",value:function resize(){var _this232=this;var t=null;var e=null;var r=this._maxDimensions;return new Promise(function(o,n){window.setTimeout(function(){var s=new Dt(_this232._image.width,_this232._image.height);var a=s.clone();if(a.x*a.y>_this232._maxPixels){a.copy(_this232._getDimensionsByMaxPixels());t="maxMegaPixels";}if(r!==null&&(a.x>r||a.y>r)){var l=Math.min(r/a.x,r/a.y);a.multiply(l);t="maxDimensions";}a.floor();e=_this232._createResizedImageCanvas(a);o({canvas:e,dimensions:a,reason:t});},1e3);});}},{key:"_createResizedImageCanvas",value:function _createResizedImageCanvas(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var r=this._image;var o=document.createElement("canvas");o.width=t.x;o.height=t.y;var n=t.clone().subtract(e).divide(2);var s=o.getContext("2d");s.drawImage(r,0,0,r.width,r.height,n.x,n.y,e.x,e.y);return o;}},{key:"_getDimensionsByMaxPixels",value:function _getDimensionsByMaxPixels(){var t=this._image;var e=this._maxPixels;var r=t.width/t.height;var o=t.height/t.width;return new Dt(Math.sqrt(e*r),Math.sqrt(e*o)).floor();}}]);return bx;}();});var alt,llt,Nh;var E7=d(function(){ZT();alt=30;llt="abcdefghijklmnopqrstuvwxzy";Nh=/*#__PURE__*/function(){function Nh(t){_classCallCheck(this,Nh);this._fontVariation=t||new Oc({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"});this._createRuler();}_createClass(Nh,[{key:"_createRuler",value:function _createRuler(){this._ruler=document.createElement("div");this._ruler.innerText=llt;document.body.appendChild(this._ruler);this._setRulerStyle();}},{key:"_setRulerStyle",value:function _setRulerStyle(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: ".concat(this._fontVariation.getFontStyle()," ").concat(this._fontVariation.getFontWeight()," ").concat(alt,"px ").concat(this._fontVariation.getFontFamily(),";\n    ");}},{key:"setFontVariation",value:function setFontVariation(t){this._fontVariation=t;this._setRulerStyle();}},{key:"getWidth",value:function getWidth(){return!this._ruler?-1:this._ruler.offsetWidth;}},{key:"dispose",value:function dispose(){if(this._ruler){this._ruler.parentNode.removeChild(this._ruler);this._ruler=null;}}}]);return Nh;}();});var F7,clt,ult,yx;var R7=d(function(){E7();F7=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):nh();clt=50;ult=5e3;yx=/*#__PURE__*/function(){function yx(t){_classCallCheck(this,yx);this._fontVariation=t;this._defaultFontRuler=new Nh();this._customFontRuler=new Nh(this._fontVariation);}_createClass(yx,[{key:"observe",value:function observe(){var _this233=this;var t=F7();return new Promise(function(e,r){var o=window.setInterval(function(){var n=_this233._defaultFontRuler.getWidth()!==_this233._customFontRuler.getWidth();if(n){window.clearInterval(o);return e();}if(F7()-t>=ult){var s=new Error("Failed to load font ".concat(_this233._fontVariation.getFontFamily(),"."));s.font=_this233._fontVariation;return r(s);}},clt);});}},{key:"dispose",value:function dispose(){this._defaultFontRuler.dispose();this._customFontRuler.dispose();}}]);return yx;}();});var am;var t2=d(function(){Ln();R7();am=/*#__PURE__*/function(){function am(t){_classCallCheck(this,am);this._ui=t;this._fonts=[];this._observers=[];}_createClass(am,[{key:"add",value:function add(t){this._fonts.push(t);}},{key:"load",value:function load(){var _this234=this;if(this._fonts.length===0){return Promise.resolve();}this._observers=[];this._fonts.forEach(function(t){_this234._observers.push(new yx(t));});return z.executePromises(this._observers.map(function(t){return t.observe();}));}},{key:"dispose",value:function dispose(){this._observers.forEach(function(t){return t.dispose();});}}]);return am;}();});var _x;var O7=d(function(){t2();_x=/*#__PURE__*/function(_am){_inherits(_x,_am);var _super187=_createSuper(_x);function _x(){_classCallCheck(this,_x);return _super187.apply(this,arguments);}_createClass(_x,[{key:"load",value:function load(){return Promise.resolve();}}]);return _x;}(am);});var dlt,xx;var A7=d(function(){t2();dlt={italic:"i"};xx=/*#__PURE__*/function(_am2){_inherits(xx,_am2);var _super188=_createSuper(xx);function xx(){_classCallCheck(this,xx);return _super188.apply(this,arguments);}_createClass(xx,[{key:"load",value:function load(){if(this._fonts.length){this._addStylesheetTag();}return _get(_getPrototypeOf(xx.prototype),"load",this).call(this);}},{key:"_addStylesheetTag",value:function _addStylesheetTag(){var t=this._getFamiliesString();var e=document.createElement("link");e.rel="stylesheet";e.href="https://fonts.googleapis.com/css?family=".concat(t);var r=document.getElementsByTagName("head")[0];r.appendChild(e);}},{key:"_getFamiliesString",value:function _getFamiliesString(){var t={};this._fonts.forEach(function(r){var o=r.getFontFamily();var n=r.getFontStyle();var s=r.getFontWeight();t[o]=t[o]||[];if(typeof s!=="undefined"){t[o].push("".concat(s).concat(dlt[n]||""));}else{t[o].push(400);}});var e=[];for(var r in t){var o=t[r];var n=o.length?":".concat(o.join(",")):"";var s=r.replace(" ","+")+n;e.push(s);}return e.join("|");}}]);return xx;}(am);});var hl;var vx=d(function(){O7();A7();hl=/*#__PURE__*/function(){function hl(t,e){_classCallCheck(this,hl);this._ui=t;this._fonts=e;this._loadedFonts=[];}_createClass(hl,[{key:"setFonts",value:function setFonts(t){this._fonts=t;}},{key:"needsToLoad",value:function needsToLoad(){var _this235=this;var _loop5=function _loop5(t){var e=void 0;_this235._fonts[t].getVariations().forEach(function(r){e=e||r.getProvider();});if(!e)return"continue";return{v:true};};for(var t=0;t<this._fonts.length;t++){var _ret=_loop5(t);if(_ret==="continue")continue;if(_typeof(_ret)==="object")return _ret.v;}}},{key:"fontLoaded",value:function fontLoaded(t){var e=t.getFontFamily();return this._loadedFonts.indexOf(e)!==-1;}},{key:"setFontLoaded",value:function setFontLoaded(t){if(!this.fontLoaded(t)){var e=t.getFontFamily();this._loadedFonts.push(e);}}},{key:"load",value:function load(){var _this236=this;var t=this._fonts;var e={google:new xx(this._ui),file:new _x(this._ui)};var r=function r(){for(var n in e){var s=e[n];s.dispose();}};t.filter(function(n){return!_this236.fontLoaded(n);}).forEach(function(n){n.getVariations().forEach(function(s){var a=s.getProvider();if(!a)return;var l=e[a];l.add(s);});});var o=[];for(var n in e){o.push(e[n].load());}return Promise.all(o).then(function(){r();t.forEach(function(n){_this236.setFontLoaded(n);});})["catch"](function(n){r();throw n;});}}]);return hl;}();});var Cx;var B7=d(function(){ue();Cx=/*#__PURE__*/function(){function Cx(t,e){_classCallCheck(this,Cx);this._ui=t;this._options=e;this._brushes=[];this._brushesById={};this._addBrushes(pe.DEFAULTS.BRUSHES);var _this$_options40=this._options,r=_this$_options40.brushes,o=_this$_options40.replaceBrushes,n=_this$_options40.availableBrushes;if(this._options.brushes){this._addBrushes(r,o);}if(n){this._brushes=this._brushes.filter(function(s){return n.indexOf(s.identifier)!==-1;});}}_createClass(Cx,[{key:"_addBrushes",value:function _addBrushes(t,e){var _this237=this;if(e){this._brushes=[];this._brushesById={};}t.forEach(function(r){_this237._brushes.push(r);_this237._brushesById[r.identifier]=r;});}},{key:"getBrushByIdentifier",value:function getBrushByIdentifier(t){return this._brushesById[t];}},{key:"getBrushes",value:function getBrushes(){return this._brushes;}},{key:"getFirstBrush",value:function getFirstBrush(){return this._brushes[0];}}]);return Cx;}();});var P7,M7;var L7=d(function(){P7=/*#__PURE__*/function(){function P7(){_classCallCheck(this,P7);this._assetsByGroupId={};}_createClass(P7,[{key:"addAsset",value:function addAsset(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!this._assetsByGroupId[t]){this._assetsByGroupId[t]=[e];}else if(r){this._assetsByGroupId[t].unshift(e);}else{this._assetsByGroupId[t].push(e);}}},{key:"setAssets",value:function setAssets(t,e){this._assetsByGroupId[t]=e;}},{key:"getAssets",value:function getAssets(t){this._assetsByGroupId[t]=this._assetsByGroupId[t]||[];return this._assetsByGroupId[t];}}]);return P7;}();M7=P7;});var e2,fl;var Sx=d(function(){ue();Ln();L7();ph();Cd();e2="imgly_sticker_custom";fl=/*#__PURE__*/function(){function fl(t,e,r){_classCallCheck(this,fl);this._ui=t;this._options=e;this._dynamicAssetsLibrary=r||this._ui.getEditor().getDynamicAssetsLibrary()||new M7();this._categoriesById={};this._categories=[];this._stickersById={};this._customStickerCanvas=z.createCanvas();this.reload();}_createClass(fl,[{key:"reload",value:function reload(){this._categoriesById={};this._categories=[];this._stickersById={};var t=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed();this._addCategories(Ls.DEFAULTS.STICKER_CATEGORIES);var _this$_options41=this._options,e=_this$_options41.categories,r=_this$_options41.replaceCategories;if(t&&this._options.categories){this._addCategories(e,r);}else{this._updateCategoriesMap();this._updateAllCategory();}if(t){var o=this._dynamicAssetsLibrary.getAssets("sticker");if(o.length>0){var n=this._createCustomStickerCategory(o);this._addCategories([n],false,true);}}}},{key:"loadExternal",value:function loadExternal(t){var _this238=this;var e=new ro(t);return e.load().then(function(r){_this238._addCategories(r.categories,_this238._options.replaceCategories);});}},{key:"_addCategories",value:function _addCategories(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(e){this._categories=t.slice(0);}else if(r){this._categories=this._mergeCategories(t,this._categories);}else{this._categories=this._mergeCategories(this._categories,t);}this._updateCategoriesMap();this._updateAllCategory();}},{key:"_mergeCategories",value:function _mergeCategories(t,e){t=Ji.cloneCategories(t,"stickers");var _iterator3=_createForOfIteratorHelper(e),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var r=_step3.value;var o=false;var _iterator4=_createForOfIteratorHelper(t),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var n=_step4.value;if(r.identifier===n.identifier){var _iterator5=_createForOfIteratorHelper(r.stickers),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var s=_step5.value;var a=false;var _iterator6=_createForOfIteratorHelper(n.stickers),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var l=_step6.value;if(s.identifier===l.identifier){Object.assign(l,s);a=true;break;}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}if(!a){n.stickers.push(s);}}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}o=true;break;}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}if(!o){t.push(r);}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}return t;}},{key:"_updateCategoriesMap",value:function _updateCategoriesMap(){var _this239=this;this._categoriesById={};this._categories.forEach(function(t){_this239._categoriesById[t.identifier]=t;});this._categories.forEach(function(t){t.stickers.forEach(function(e){_this239._stickersById[e.identifier]=e;});});if(typeof this._options.availableStickers!=="undefined"&&this._options.availableStickers!==null){this._categories.forEach(function(t){if(t.identifier!==e2){t.stickers=t.stickers.filter(function(e){return _this239._options.availableStickers.indexOf(e.identifier)!==-1;});}});this._categories=this._categories.filter(function(t){return t.stickers.length>0;});}this._updateAllCategory();}},{key:"_updateAllCategory",value:function _updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",stickers:this._categories.map(function(t){return t.stickers;}).reduce(function(t,e){return t.concat(e);},[])};this._categoriesById.all=this._allCategory;}},{key:"renderStickerThumbnailFromImage",value:function renderStickerThumbnailFromImage(t){var e=this._customStickerCanvas;var r=e.getContext("2d");r.save();var o=62;var n=o/t.width;var s=n*t.height;e.width=o;e.height=o;r.clearRect(0,0,t.width,t.height);r.translate(0,.5*(e.height-s));r.scale(n,n);r.drawImage(t,0,0);var a=e.toDataURL("image/png");r.restore();return{data:a,width:o,height:s};}},{key:"addCustomStickerFromImage",value:function addCustomStickerFromImage(t,e){var _this240=this;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"none";var o=function o(b){var T=_this240._ui.getEditor().getSDK();var k=T.getRenderer();var E=new Dt(b.width,b.height);var A=_this240._ui.getEditor().getMaxMegapixels()*1e6;var I=k.getMaxDimensions();var F=E.x*E.y>A;var Z=I!==null&&(E.x>I||E.y>I);if(F){var pt=b.width/b.height;var yt=b.height/b.width;I=new Dt(Math.sqrt(A*pt),Math.sqrt(A*yt)).floor().max();}var et=E.clone();if(F||Z){if(E.x/E.y>1){et.x=I;et.y=I/E.x*E.y;}else{et.x=I/E.y*E.x;et.y=I;}}return et;};var n=function n(b,T){var k=b.x/b.y;if(k>1){return new Dt(T,T/k);}return new Dt(T*k,T);};var s=t.src.substring(0,14)==="data:image/svg";var a=this._ui.getEditor().getSDK();t=a.correctExifOrientation(t);var l=n(new Dt(t.width,t.height),2048);var c=s?l:o(t);var u=this._customStickerCanvas;var m=u.getContext("2d");m.save();var p=this.renderStickerThumbnailFromImage(t);if(s){if(t.width>t.height){u.width=2048;u.height=2048/t.width*t.height;}else{u.height=2048;u.width=2048/t.height*t.width;}t.width=u.width;t.height=u.height;}else{u.width=c.x;u.height=c.y;m.scale(c.x/t.width,c.y/t.height);}m.drawImage(t,0,0,t.width,t.height);var h=u.toDataURL();m.restore();var g={identifier:z.generateUUID(),defaultName:e||"",tintMode:r,images:{mediaThumb:{uris:[p.data],rawData:true,width:p.width,height:p.height},mediaBase:{uris:s?[h,t.src]:[h],rawData:true,isSVG:s,width:c.x,height:c.y}}};var x=this._dynamicAssetsLibrary;x.addAsset("sticker",g,true);var v=x.getAssets("sticker");if(v.length===1){var b=this._createCustomStickerCategory(v);this._addCategories([b],false,true);}else{this.getCategory(e2).stickers=v;this._updateAllCategory();}this._updateCategoriesMap();}},{key:"_createCustomStickerCategory",value:function _createCustomStickerCategory(t){return{identifier:e2,defaultName:"Custom",metaData:{backgroundImage:t[t.length-1].images.mediaBase.uris[0],rawData:true},stickers:t};}},{key:"getStickersForCategory",value:function getStickersForCategory(t){if(!this._categoriesById[t]){throw new Error("Unknown sticker category '".concat(t,"'"));}return this._categoriesById[t].stickers;}},{key:"getStickerByIdentifier",value:function getStickerByIdentifier(t){return this._stickersById[t];}},{key:"getCategories",value:function getCategories(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){return[this._allCategory].concat(this._categories);}return this._categories;}},{key:"getCategory",value:function getCategory(t){return this._categoriesById[t];}}],[{key:"getURLForSticker",value:function getURLForSticker(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base";var r=t.images;var o=e==="base"?r.mediaBase||r.mediaThumb:r.mediaThumb;var n=o.uris||[o.uri];if(true){if(!Ji.Browser.getIEVersion()){var a=n.filter(function(l){return /\.svg$/i.test(l);});return a.length?a[0]:n[0];}}var s=n.filter(function(a){return!/\.svg$/i.test(a);});return s.length?s[0]:n[0];}}]);return fl;}();});var z7,i2,Bc;var r2=d(function(){ue();vx();B7();JT();pl();Sx();z7=y(Ju());if(typeof st.Operations.SpriteOperation!=="undefined"){i2=st.Operations.SpriteOperation.BrushSprite;}Bc=/*#__PURE__*/function(){function Bc(t,e){_classCallCheck(this,Bc);this._editor=t;this._ui=this._editor.getUI();this._data=e;this._filterManager=new Rc(this._ui,this._getOptions("filter"));this._stickerManager=new fl(this._ui,this._getOptions("sticker"));this._brushManager=new Cx(this._ui,this._getOptions("brush"));this._fontManager=new Fi(this._ui,this._getOptions("text"));}_createClass(Bc,[{key:"_getOptions",value:function _getOptions(t){var e=this._editor.controls;var r={};if(e&&e.get(t)){r=e.get(t).defaultOptions;}var o=this._editor.getOptions();return Jt.deepDefaults({},o.editor.controlsOptions[t]||{},r);}},{key:"deserialize",value:function deserialize(){var _this241=this;return this._validateVersion().then(function(){return _this241._deserializeInputImage();}).then(function(){return _this241._deserializeOperations();});}},{key:"_validateVersion",value:function _validateVersion(){if(this._data.version!==this.constructor.version){return Promise.reject(new Error("Invalid version ".concat(this._data.version,", expected ").concat(this.constructor.version)));}return Promise.resolve();}},{key:"_deserializeInputImage",value:function _deserializeInputImage(){var _this242=this;return new Promise(function(t,e){var _this242$_data$inputI=_this242._data.inputImage,r=_this242$_data$inputI.data,o=_this242$_data$inputI.type;if(r&&o){var n=new window.Image();n.addEventListener("load",function(){_this242._editor.setImage(n);t();});n.src="data:".concat(o,";base64,").concat(r);}else{t();}});}},{key:"_deserializeOperations",value:function(){var _deserializeOperations2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){var _this243=this;var t;return regeneratorRuntime.wrap(function _callee11$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:t=this._data.operations;return _context12.abrupt("return",(0,z7["default"])(t,/*#__PURE__*/function(){var _ref116=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(e){return regeneratorRuntime.wrap(function _callee10$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:return _context11.abrupt("return",_this243._deserializeOperation(e));case 1:case"end":return _context11.stop();}}},_callee10);}));return function(_x18){return _ref116.apply(this,arguments);};}()));case 2:case"end":return _context12.stop();}}},_callee11,this);}));function _deserializeOperations(){return _deserializeOperations2.apply(this,arguments);}return _deserializeOperations;}()},{key:"_deserializeOperation",value:function _deserializeOperation(t){switch(t.type){case"crop":return this._deserializeCropOperation(t);case"orientation":return this._deserializeOrientationOperation(t);case"filter":return this._deserializeFilterOperation(t);case"adjustments":return this._deserializeAdjustmentsOperation(t);case"sprite":return this._deserializeSpriteOperation(t);case"focus":return this._deserializeFocusOperation(t);}}},{key:"_deserializeCropOperation",value:function _deserializeCropOperation(t){var e=t.options;var r=e.rotation;var o=Dt.fromObject(e.start);var n=Dt.fromObject(e.end);if(r>Math.PI){r-=Math.PI*2;}var s={start:o,end:n};if(typeof r!=="undefined"){s.rotation=r;}var a=this._editor.operations.getOrCreate("transform");this._editor.broadcastTransform(a,s);a.set(s);return Promise.resolve(a);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(t){var e=t.options;var r=this._editor.operations.getOrCreate("orientation");if(!r)return Promise.resolve();r.set(e);return Promise.resolve(r);}},{key:"_deserializeFilterOperation",value:function _deserializeFilterOperation(t){var _this244=this;var e=t.options;if(!this._filterManager.getFilterByIdentifier(e.name)){Y.warn("Deserializer","Unknown filter `".concat(e.name,"`"));return Promise.resolve();}return this._filterManager.instantiateFilterWithIdentifier(e.name).then(function(r){var o=_this244._editor.operations.getOrCreate("filter");o.set({identifier:e.name,filter:r,intensity:e.intensity});return o;});}},{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(t){var e=st.Operations.AdjustmentsOperation;var r=t.options;var o=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"];var n={};o.forEach(function(s){if(typeof r[s]==="undefined")return;var _e$prototype$availabl=e.prototype.availableOptions[s],a=_e$prototype$availabl.minValue,l=_e$prototype$availabl.midValue,c=_e$prototype$availabl.maxValue;var u=r[s];u=u<0?l+(l-a)*u:l+(c-l)*u;n[s]=u;});return Promise.resolve(this._editor.operations.getOrCreate("adjustments",n));}},{key:"_deserializeSpriteOperation",value:function _deserializeSpriteOperation(t){var _this245=this;var e=t.options;var r=this._editor.operations.getOrCreate("sprite");if(!r)return Promise.resolve();var o=e.sprites.map(function(n){return _this245._deserializeSprite(r,n);}).filter(function(n){return n;});return Promise.all(o).then(function(n){r.setSprites(n.filter(function(s){return s;}));return r;});}},{key:"_deserializeSprite",value:function _deserializeSprite(t,e){switch(e.type){case"sticker":return this._deserializeSticker(t,e);case"text":return this._deserializeText(t,e);case"brush":return this._deserializeBrush(t,e);case"textdesign":return this._deserializeTextDesign&&this._deserializeTextDesign(t,e);}}},{key:"_deserializeSticker",value:function _deserializeSticker(t,e){var _this246=this;var r=st.Operations.SpriteOperation;var o=e.options;var n=this._stickerManager.getStickerByIdentifier(o.name);var s=this._stickerManager.getURLForSticker(n);if(!n){Y.warn("Deserializer","Unknown sticker '".concat(o.name,"'. Skipping sprite."));return Promise.resolve();}return new Promise(function(a,l){var c=new window.Image();c.addEventListener("load",function(){var u=r.StickerSprite.prototype.availableOptions.adjustments.structure;var m=o.rotation,p=o.flipHorizontally,h=o.flipVertically;var g={identifier:o.name,image:c,position:Dt.fromObject(o.position),dimensions:Dt.fromObject(o.dimensions),rotation:m,flipHorizontally:p,flipVertically:h,adjustments:{}};if(typeof o.adjustments!=="undefined"){["brightness","contrast","saturation"].forEach(function(x){if(typeof o.adjustments[x]!=="undefined"){g.adjustments[x]=o.adjustments[x]+u[x]["default"];}});}a(t.createSticker(g));});c.crossOrigin=_this246._editor.getCrossOrigin();c.src=_this246._editor.getUI().getAssetPath(s);});}},{key:"_deserializeText",value:function _deserializeText(t,e){var r=e.options;var o=r.fontSize,n=r.lineHeight,s=r.fontFamily,a=r.fontWeight,l=r.alignment,c=r.rotation,u=r.maxWidth,m=r.color,p=r.backgroundColor;var h=new hl(this._ui);var g=this._fontManager.getFontByFontFamily(s);if(!g)g=this._fontManager.getDefaultFont();h.setFonts([g]);return h.load().then(function(){var x=t.createText({fontSize:o,lineHeight:n,fontFamily:s,fontWeight:a,alignment:l,rotation:c,maxWidth:u,text:r.text,color:Ut.fromArray(m),backgroundColor:Ut.fromArray(p),position:Dt.fromObject(r.position)});x._edited=true;return x;});}},{key:"_deserializeBrush",value:function _deserializeBrush(t,e){var _this247=this;var r=e.options;var o=r.paths;var n=t.createBrush();o.forEach(function(s){_this247._deserializeBrushPath(n,s);});return Promise.resolve(n);}},{key:"_deserializeBrushPath",value:function _deserializeBrushPath(t,e){var r=e.points;var o=this._createBrushForPath(e);var n=t.createPath(o);n.setClosed(true);r.forEach(function(s){n.addControlPoint(Dt.fromObject(s));});}},{key:"_createBrushForPath",value:function _createBrushForPath(t){var e=t.color,r=t.size;var o=Ut.fromArray(e);var n={color:o,size:r};var s=this._brushManager.getFirstBrush();if(s.prototype&&s.prototype instanceof i2){var c=s;return new c(n);}var a=_objectSpread({},s);delete a.image;var l=/*#__PURE__*/function(_i3){_inherits(l,_i3);var _super189=_createSuper(l);function l(){_classCallCheck(this,l);return _super189.apply(this,arguments);}return l;}(i2);l.identifier=s.identifier;return new l(_objectSpread(_objectSpread({},a),n));}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(t){var e=t.options.options;switch(t.options.type){case"radial":{var r=e.position,o=e.radius,n=e.gradientRadius,s=e.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Dt.fromObject(r),radius:o,gradientRadius:n,blurRadius:s}));}case"linear":{var _r8=e.start,_o8=e.end,_n6=e.size,_s5=e.gradientSize,a=e.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Dt.fromObject(_r8),end:Dt.fromObject(_o8),size:_n6,gradientSize:_s5,blurRadius:a}));}}}},{key:"_getInputDimensionsForOperation",value:function _getInputDimensionsForOperation(t){var e=false;var r=this._editor.getInputDimensions();this._editor.operations.getStack().forEach(function(o){if(o===t)e=true;if(e)return;r=o.getNewDimensions(r);});return r;}}]);return Bc;}();Bc.version="1.0.0";});var lm,Pc;var o2=d(function(){ue();lm=Math.PI*2;Pc=/*#__PURE__*/function(){function Pc(t){_classCallCheck(this,Pc);this._editor=t;this._serializeOperations=this._serializeOperations.bind(this);}_createClass(Pc,[{key:"serialize",value:function serialize(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=_objectSpread(_objectSpread({},t),{},{image:true});var e={version:this.constructor.version};return this._serializeInputImage(e).then(this._serializeOperations);}},{key:"_serializeInputImage",value:function _serializeInputImage(t){var e=this._editor.getImage();var r=e.width,o=e.height;if(!this._options.image){t.inputImage={width:r,height:o};return Promise.resolve(t);}var n=Jt.createCanvas();n.width=e.width;n.height=e.height;var s=n.getContext("2d");s.drawImage(e,0,0);var a=n.toDataURL(YT.PNG);t.inputImage={type:YT.PNG,data:a.replace(/^data:image\/(.*?);base64,/,""),width:r,height:o};return Promise.resolve(t);}},{key:"_serializeOperations",value:function _serializeOperations(t){var _this248=this;var e=[];var r=this._editor.operations.getStack();r.forEach(function(o){var n=_this248._serializeOperation(o,e);if(n){e.push(n);}});t.operations=e.filter(function(o){return o;});return Promise.resolve(t);}},{key:"_serializeOperation",value:function _serializeOperation(t,e){switch(t.constructor.identifier){case"transform":return this._serializeTransformOperation(t);case"orientation":return this._serializeOrientationOperation(t);case"filter":return this._serializeFilterOperation(t);case"adjustments":return this._serializeAdjustmentsOperation(t);case"sprite":return this._serializeSpriteOperation(t,e);case"radial-focus":return this._serializeRadialFocusOperation(t);case"mirrored-focus":return this._serializeLinearFocusOperation(t);default:Y.warn("Unable to serialize operation of type ".concat(t.constructor.identifier));}}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(t){var e=t.serializeOptions(["start","end","rotation"],true);e.rotation=(e.rotation+lm)%lm;return{type:"crop",options:e};}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(t){return{type:"orientation",options:t.serializeOptions(["flipVertically","flipHorizontally","rotation"],true)};}},{key:"_serializeFilterOperation",value:function _serializeFilterOperation(t){if(t.getIdentifier()==="identity")return null;return{type:"filter",options:{intensity:t.getIntensity(),name:t.getIdentifier()}};}},{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(t){var e=t.availableOptions;var r=["brightness","saturation","contrast","exposure","shadows","highlights","clarity"];var o={};r.forEach(function(n){var s=e[n];var a=t.getOption(n);var l=s.minValue,c=s.midValue,u=s.maxValue;o[n]=a<=c?(a-l)/(c-l)-1:(a-c)/(u-c);});return{type:"adjustments",options:o};}},{key:"_serializeSpriteOperation",value:function _serializeSpriteOperation(t,e){var _this249=this;var r=e.filter(function(s){return s.type==="sprite";});var o;var n=true;if(r.length){o=r.pop();n=false;}else{o={type:"sprite",options:{sprites:[]}};}t.getSprites().forEach(function(s){var a=null;if(s instanceof t.constructor.StickerSprite){a=_this249._serializeSticker(t,s);}else if(s instanceof t.constructor.TextSprite){a=_this249._serializeText(t,s);}else if(s instanceof t.constructor.BrushSprite){a=_this249._serializeBrush(t,s);}else if(s instanceof t.constructor.TextDesignSprite){a=_this249._serializeTextDesign&&_this249._serializeTextDesign(t,s);}if(a){o.options.sprites.push(a);}});if(n){return o;}}},{key:"_serializeSticker",value:function _serializeSticker(t,e){var r=e.getAdjustments();var o=e.serializeOptions(["identifier","position","dimensions","flipVertically","flipHorizontally","rotation"],true);o.name=o.identifier;delete o.identifier;o.rotation=(o.rotation+lm)%lm;var n=r.availableOptions;o.adjustments={brightness:r.getBrightness()-n.brightness["default"],saturation:r.getSaturation()-n.saturation["default"],contrast:r.getContrast()-n.contrast["default"]};return{type:"sticker",options:o};}},{key:"_serializeText",value:function _serializeText(t,e){var r=e.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],true);r.rotation=(r.rotation+lm)%lm;return{type:"text",options:r};}},{key:"_serializeBrush",value:function _serializeBrush(t,e){var _this250=this;return{type:"brush",options:{paths:e.getPaths().map(function(r){return _this250._serializePath(r);})}};}},{key:"_serializePath",value:function _serializePath(t){var e=t.getBrush().serializeOptions(["color","size"],true);e.points=t.getControlPoints().map(function(r){return r.getPosition().toObject();});return e;}},{key:"_serializeRadialFocusOperation",value:function _serializeRadialFocusOperation(t){return{type:"focus",options:{type:"radial",options:t.serializeOptions(["position","radius","gradientRadius","blurRadius"],true)}};}},{key:"_serializeLinearFocusOperation",value:function _serializeLinearFocusOperation(t){return{type:"focus",options:{type:"linear",options:t.serializeOptions(["start","end","blurRadius","size","gradientSize"],true)}};}},{key:"_getInputDimensionsForOperation",value:function _getInputDimensionsForOperation(t){var e=false;var r=this._editor.getInputDimensions();this._editor.operations.getStack().forEach(function(o){if(o===t)e=true;if(e)return;r=o.getNewDimensions(r);});return r;}}]);return Pc;}();Pc.version="1.0.0";});var U7={};de(U7,{"default":function _default(){return wx;}});var wx;var N7=d(function(){r2();o2();wx=/*#__PURE__*/function(){function wx(t){_classCallCheck(this,wx);this._editor=t;}_createClass(wx,[{key:"serialize",value:function serialize(){var e=new Pc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Bc(this._editor,t);return e.deserialize();}}]);return wx;}();wx.version="1.0.0";});var Mc;var n2=d(function(){ue();r2();Mc=/*#__PURE__*/function(_Bc){_inherits(Mc,_Bc);var _super190=_createSuper(Mc);function Mc(){_classCallCheck(this,Mc);return _super190.apply(this,arguments);}_createClass(Mc,[{key:"_deserializeOperation",value:function _deserializeOperation(t){if(t.type==="selective-blur"){return this._deserializeSelectiveBlurOperation(t);}return _get(_getPrototypeOf(Mc.prototype),"_deserializeOperation",this).call(this,t);}},{key:"_deserializeCropOperation",value:function _deserializeCropOperation(t){var e=t.options;var r=e.rotation;var o=Dt.fromObject(e.start);var n=Dt.fromObject(e.end);var s=e.dimensions?Dt.fromObject(e.dimensions):null;if(n.x-o.x<=0||n.y-o.y<=0){throw new Error("A crop should not result in negative or zero dimensions - start: ".concat(o," - end: ").concat(n));}if(r>Math.PI){r-=Math.PI*2;}var a={start:o,end:n};if(typeof r!=="undefined")a.rotation=r;var l=this._editor.operations.getOrCreate("transform");if(!l)return Promise.resolve();this._editor.broadcastTransform(l,a);l.set(a);if(s){var c=n.clone().subtract(o);var u=l.getInputDimensions(false).multiply(c);l.setTextureScale(s.x/u.x);}return Promise.resolve(l);}}]);return Mc;}(Bc);Mc.version="1.0.1";});var H7,Lc;var s2=d(function(){o2();H7=Math.PI*2;Lc=/*#__PURE__*/function(_Pc){_inherits(Lc,_Pc);var _super191=_createSuper(Lc);function Lc(){_classCallCheck(this,Lc);return _super191.apply(this,arguments);}_createClass(Lc,[{key:"_serializeTransformOperation",value:function _serializeTransformOperation(t){var e=t.serializeOptions(["start","end","rotation","textureScale"],true);e.rotation=(e.rotation+H7)%H7;if(e.textureScale!==1){e.dimensions=t.getNewDimensions(t.getInputDimensions(false));}delete e.textureScale;return{type:"crop",options:e};}}]);return Lc;}(Pc);Lc.version="1.0.1";});var W7={};de(W7,{"default":function _default(){return Tx;}});var Tx;var G7=d(function(){n2();s2();Tx=/*#__PURE__*/function(){function Tx(t){_classCallCheck(this,Tx);this._editor=t;}_createClass(Tx,[{key:"serialize",value:function serialize(){var e=new Lc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Mc(this._editor,t);return e.deserialize();}}]);return Tx;}();Tx.version="1.0.1";});var cm,Hh;var V7=d(function(){_d();ue();var _st2=st;cm=_st2.OptionType;Hh=/*#__PURE__*/function(_st$Configurable){_inherits(Hh,_st$Configurable);var _super192=_createSuper(Hh);function Hh(t){var _this251;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Hh);_this251=_super192.call(this,e);_this251._loaded=false;_this251._loading=false;_this251._ui=t;_this251._frame=st.Utils.deepClone(_this251._options);return _this251;}_createClass(Hh,[{key:"load",value:function load(){var _this252=this;if(this._loaded)return Promise.resolve();if(this._loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this._loading=true;var t=this._frame.imageGroups;var e=[];["top","left","right","bottom"].forEach(function(r){if(!(r in t))return;var o=t[r];["start","mid","end"].forEach(function(n){if(!(n in o))return;e.push(_this252._loadPart(r,n));});});return Promise.all(e).then(function(){_this252._loaded=true;_this252._loading=false;})["catch"](function(r){_this252._loaded=false;_this252._loading=false;});}},{key:"_loadPart",value:function _loadPart(t,e){var _this253=this;var r=this._frame.imageGroups;var o=r[t][e];var n=o;if(typeof o!=="string"&&"image"in o){n=o.image;}return Wi.load(this._ui.getAssetPath(n)).then(function(s){if(typeof o!=="string"){_this253._frame.imageGroups[t][e].image=s;}else{_this253._frame.imageGroups[t][e]=s;}return s;});}},{key:"getFrame",value:function getFrame(){return this._frame;}}]);return Hh;}(st.Configurable);Hh.prototype.availableOptions={identifier:{type:cm.STRING,required:true},defaultName:{type:cm.STRING},thumbnail:{type:cm.STRING},tintable:{type:cm.BOOLEAN,"default":false},layoutMode:{type:cm.STRING,"default":"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:cm.OBJECT,required:true}};});var kx;var j7=d(function(){ue();kx=/*#__PURE__*/function(){function kx(t,e){_classCallCheck(this,kx);this._ui=t;this._options=e;this._categoriesById={};this._categories=[];this._framesById={};this._addCategories(Ls.DEFAULTS.FRAME_CATEGORIES);this._customAssetsAllowed=t.getEditor().getSDK()._l.areCustomAssetsAllowed();var _this$_options42=this._options,r=_this$_options42.categories,o=_this$_options42.replaceCategories;if(this._customAssetsAllowed&&this._options.categories){this._addCategories(r,o);}else{this._updateAllCategory();}}_createClass(kx,[{key:"_addCategories",value:function _addCategories(t){var _this254=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(e){this._categories=t.slice(0);}else{this._categories=Ji.mergeCategories(this._categories,t,"frames");}this._categoriesById={};this._categories.forEach(function(o){_this254._categoriesById[o.identifier]=o;});var r=this._options.availableFrames;if(this._customAssetsAllowed&&r){this._categories.forEach(function(o){o.frames=o.frames.filter(function(n){return r.indexOf(n.identifier)!==-1;});});}this._categories.forEach(function(o){o.frames.forEach(function(n){_this254._framesById[n.identifier]=n;});});this._updateAllCategory();}},{key:"_updateAllCategory",value:function _updateAllCategory(){this._allCategory={identifier:"all",defaultName:"All",frames:this._categories.map(function(t){return t.frames;}).reduce(function(t,e){return t.concat(e);},[])};this._categoriesById.all=this._allCategory;}},{key:"getFramesForCategory",value:function getFramesForCategory(t){if(!this._categoriesById[t]){throw new Error("Unknown frame category '".concat(t,"'"));}return this._categoriesById[t].frames;}},{key:"getFrameByIdentifier",value:function getFrameByIdentifier(t){return this._framesById[t];}},{key:"getCategories",value:function getCategories(){return this._categories;}},{key:"getCategory",value:function getCategory(t){return this._categoriesById[t];}}]);return kx;}();});var Ix;var $7=d(function(){ue();Ix=/*#__PURE__*/function(){function Ix(t,e){var _this255=this;_classCallCheck(this,Ix);this._ui=t;this._options=e;this._overlays=Ls.DEFAULTS.OVERLAYS.slice(0);this._overlaysByIdentifier={};var r=t.getEditor().getSDK()._l.areCustomAssetsAllowed();if(r&&e.overlays){if(e.replaceOverlays){this._overlays=e.overlays;}else{this._overlays=this._overlays.concat(e.overlays);}}if(r&&e.availableOverlays){this._overlays=this._overlays.filter(function(o){return e.availableOverlays.indexOf(o.identifier)!==-1;});}this._overlays.forEach(function(o){_this255._overlaysByIdentifier[o.identifier]=o;});}_createClass(Ix,[{key:"getOverlays",value:function getOverlays(){return this._overlays;}},{key:"getOverlayByIdentifier",value:function getOverlayByIdentifier(t){return this._overlaysByIdentifier[t];}}]);return Ix;}();});var Ks,um;var Dx=d(function(){var _um;ue();Ks=st.Engine.Filters.OverlayFilter;um=(_um={},_defineProperty(_um,Ks.BLEND_MODES.NORMAL,"normal"),_defineProperty(_um,Ks.BLEND_MODES.OVERLAY,"overlay"),_defineProperty(_um,Ks.BLEND_MODES.HARD_LIGHT,"hard light"),_defineProperty(_um,Ks.BLEND_MODES.SOFT_LIGHT,"soft light"),_defineProperty(_um,Ks.BLEND_MODES.MULTIPLY,"multiply"),_defineProperty(_um,Ks.BLEND_MODES.DARKEN,"darken"),_defineProperty(_um,Ks.BLEND_MODES.LIGHTEN,"lighten"),_defineProperty(_um,Ks.BLEND_MODES.SCREEN,"screen"),_defineProperty(_um,Ks.BLEND_MODES.COLOR_BURN,"color burn"),_um);});var mlt,zc;var a2=d(function(){ue();vx();V7();_d();j7();$7();Sx();n2();Dx();mlt=Jt.flipObject(um);zc=/*#__PURE__*/function(_Mc){_inherits(zc,_Mc);var _super193=_createSuper(zc);function zc(){var _this256;_classCallCheck(this,zc);for(var _len106=arguments.length,t=new Array(_len106),_key106=0;_key106<_len106;_key106++){t[_key106]=arguments[_key106];}_this256=_super193.call.apply(_super193,[this].concat(t));_this256._frameManager=new kx(_this256._ui,_this256._getOptions("frame"));var e=_this256._getOptions("overlay");if(e){_this256._overlayManager=new Ix(_this256._ui,e);}return _this256;}_createClass(zc,[{key:"_deserializeSprite",value:function _deserializeSprite(t,e){if(e.type==="frame"){return this._deserializeFrame(t,e);}if(e.type==="overlay"){return this._deserializeOverlay(t,e);}return _get(_getPrototypeOf(zc.prototype),"_deserializeSprite",this).call(this,t,e);}},{key:"_deserializeOperation",value:function _deserializeOperation(t){if(t.type==="transform"){return this._deserializeTransformOperation(t);}return _get(_getPrototypeOf(zc.prototype),"_deserializeOperation",this).call(this,t);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(t){if(this._data.meta&&this._data.meta.platform!=="html5"){return _get(_getPrototypeOf(zc.prototype),"_deserializeOrientationOperation",this).call(this,t);}var _t$options=t.options,e=_t$options.rotation,r=_t$options.flipHorizontally,o=_t$options.flipVertically;var n=e===90&&!r&&!o;n|=e===90&&r&&o;n|=e===270&&!r&&!o;n|=e===270&&r&&o;if(n){t.options.flipHorizontally=!t.options.flipHorizontally;t.options.flipVertically=!t.options.flipVertically;}return _get(_getPrototypeOf(zc.prototype),"_deserializeOrientationOperation",this).call(this,t);}},{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(t){var _this257=this;return _get(_getPrototypeOf(zc.prototype),"_deserializeCropOperation",this).call(this,t).then(function(e){if(!e)return;var r=Jt.Array.find(_this257._data.operations,function(o){return o.type==="orientation";});if(r){var o=r.options;var n=o.rotation,s=o.flipHorizontally,a=o.flipVertically;if(n===90||n===270){if(!s&&a||s&&!a){s=!s;a=!a;}}e.rotate(o.rotation);if(s){e.flip("horizontal");e.setRotation(e.getRotation()*-1);}if(a){e.flip("vertical");e.setRotation(e.getRotation()*-1);}}return e;});}},{key:"_deserializeFrame",value:function _deserializeFrame(t,e){var _this258=this;var r=e.options.identifier;var o=this._frameManager.getFrameByIdentifier(r);if(!o){Y.warn("Deserializer","Unknown frame `".concat(r,"`. Skipping frame."));return Promise.resolve();}var n=new Hh(this._ui,o);return n.load().then(function(){_this258._editor.operations.getOrCreate("frame",{frame:n.getFrame()});});}},{key:"_deserializeOverlay",value:function _deserializeOverlay(t,e){var _this259=this;var _e$options=e.options,r=_e$options.blendMode,o=_e$options.intensity,n=_e$options.identifier;var s=this._overlayManager.getOverlayByIdentifier(n);if(!s){Y.warn("Deserializer","Unknown overlay `".concat(n,"`. Skipping overlay."));return Promise.resolve();}var a=this._editor.getUI().getAssetPath(s.image);return Wi.load(a).then(function(l){_this259._editor.operations.getOrCreate("overlay",{alpha:o,identifier:n,blendMode:parseInt(mlt[r||s.blendMode],10),image:l});});}},{key:"_createBrushForPath",value:function _createBrushForPath(t){var e=_get(_getPrototypeOf(zc.prototype),"_createBrushForPath",this).call(this,t);if(typeof t.hardness!=="undefined"&&e.hasOption("hardness")){e.setHardness(t.hardness);}return e;}},{key:"_deserializeSticker",value:function _deserializeSticker(t,e){var _this260=this;var r=st.Operations.SpriteOperation;var o=e.options;var n=this._stickerManager.getStickerByIdentifier(o.identifier);var s=fl.getURLForSticker(n,"base");if(!n){Y.warn("Deserializer","Unknown sticker `".concat(o.identifier,"`. Skipping sprite."));return Promise.resolve();}var a=t.getInputDimensions(false);return new Promise(function(l,c){var u=new window.Image();u.addEventListener("load",function(){var m=r.StickerSprite.prototype.availableOptions.adjustments.structure;var p=o.rotation,h=o.flipHorizontally,g=o.flipVertically;var x={identifier:o.identifier,image:u,position:Dt.fromObject(o.position),dimensions:Dt.fromObject(o.dimensions).multiply(a.min()),rotation:p,flipHorizontally:h,flipVertically:g,adjustments:{}};if(typeof o.adjustments!=="undefined"){["brightness","contrast","saturation"].forEach(function(v){if(typeof o.adjustments[v]!=="undefined"){x.adjustments[v]=o.adjustments[v]+m[v]["default"];}});}if(typeof o.tintColor!=="undefined"&&typeof n.tintMode!=="undefined"){x.tintColor=Ut.fromArray(o.tintColor);x.tintMode=n.tintMode;}l(t.createSticker(x));});u.crossOrigin=_this260._editor.getCrossOrigin();u.src=_this260._editor.getUI().getAssetPath(s);});}},{key:"_deserializeFilterOperation",value:function _deserializeFilterOperation(t){var _this261=this;var e=t.options;if(!this._filterManager.getFilterByIdentifier(e.identifier)){Y.warn("Deserializer","Unknown filter `".concat(e.identifier,"`"));return Promise.resolve();}return this._filterManager.instantiateFilterWithIdentifier(e.identifier).then(function(r){var o=_this261._editor.operations.getOrCreate("filter");if(!o)return;o.set({identifier:e.identifier,filter:r,intensity:e.intensity});return o;});}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(t){var _t$options2=t.options,e=_t$options2.options,r=_t$options2.type;if(r!=="radial")return _get(_getPrototypeOf(zc.prototype),"_deserializeFocusOperation",this).call(this,t);var o=this._editor.getImage();var n=o.width/o.height;var s=e.start,a=e.end,l=e.gradientRadius,c=e.blurRadius;var u=Dt.fromObject(a).subtract(Dt.fromObject(s)).multiply(n,1).len();return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Dt.fromObject(s),radius:u,gradientRadius:l,blurRadius:c}));}},{key:"_deserializeText",value:function _deserializeText(t,e){var r=e.options;var o=r.fontSize,n=r.lineHeight,s=r.fontIdentifier,a=r.alignment,l=r.rotation,c=r.maxWidth,u=r.color,m=r.backgroundColor;var p=new hl(this._ui);var h=this._fontManager.getVariationByIdentifier(s);if(!h){h=this._fontManager.getDefaultFont();}else{p.setFonts([h.getFont()]);}return p.load().then(function(){var g=t.getInputDimensions(false);var x=c*g.min()/g.x;var v=t.createText({fontSize:o,lineHeight:n,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),alignment:a,rotation:l,maxWidth:x,text:r.text,color:Ut.fromArray(u),backgroundColor:Ut.fromArray(m),position:Dt.fromObject(r.position)});v._edited=true;return v;});}}]);return zc;}(Mc);zc.version="2.0.0";});var Uc;var l2=d(function(){s2();Dx();Uc=/*#__PURE__*/function(_Lc){_inherits(Uc,_Lc);var _super194=_createSuper(Uc);function Uc(){_classCallCheck(this,Uc);return _super194.apply(this,arguments);}_createClass(Uc,[{key:"_serializeSticker",value:function _serializeSticker(t,e){var r=t.getInputDimensions(false);var o=_get(_getPrototypeOf(Uc.prototype),"_serializeSticker",this).call(this,t,e);if(e.getTintMode()!=="none"){o.options.tintColor=e.serializeOption("tintColor",true);}o.options.dimensions=e.getDimensions().clone().divide(r.min()).toObject();o.options.identifier=o.options.name;delete o.options.name;return o;}},{key:"_serializePath",value:function _serializePath(t){var e=_get(_getPrototypeOf(Uc.prototype),"_serializePath",this).call(this,t);var r=t.getBrush();if(r.hasOption("hardness")){e.hardness=r.getOption("hardness");}return e;}},{key:"_serializeOperation",value:function _serializeOperation(t,e){if(t.constructor.identifier==="frame"){this._serializeFrameOperation(t,e);return null;}if(t.constructor.identifier==="overlay"){this._serializeOverlayOperation(t,e);return null;}return _get(_getPrototypeOf(Uc.prototype),"_serializeOperation",this).call(this,t,e);}},{key:"_serializeFrameOperation",value:function _serializeFrameOperation(t,e){var r=e.filter(function(n){return n.type==="sprite";});var o;if(r.length){o=r.pop();}else{o={type:"sprite",options:{sprites:[]}};e.push(o);}o.options.sprites.push({type:"frame",options:this._getFrameOptions(t)});}},{key:"_serializeOverlayOperation",value:function _serializeOverlayOperation(t,e){if(!t.getIdentifier())return;var r=e.filter(function(n){return n.type==="sprite";});var o;if(r.length){o=r.pop();}else{o={type:"sprite",options:{sprites:[]}};e.push(o);}o.options.sprites.push({type:"overlay",options:{identifier:t.getIdentifier(),intensity:t.getAlpha(),blendMode:um[t.getBlendMode()]}});}},{key:"_getFrameOptions",value:function _getFrameOptions(t){return{identifier:t.getFrame().identifier};}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(t){var e=_get(_getPrototypeOf(Uc.prototype),"_serializeOrientationOperation",this).call(this,t);if(e.options.rotation===90||e.options.rotation===270){e.options.flipHorizontally=!e.options.flipHorizontally;e.options.flipVertically=!e.options.flipVertically;}return e;}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(t){var e=this._editor.operations;if(e.exists("orientation")){t=t.clone();var o=e.get("orientation");t.rotate(-o.getRotation());if(o.getFlipVertically()){t.flip("vertical");t.setRotation(t.getRotation()*-1);}if(o.getFlipHorizontally()){t.flip("horizontal");t.setRotation(t.getRotation()*-1);}}var r=_get(_getPrototypeOf(Uc.prototype),"_serializeTransformOperation",this).call(this,t);r.type="transform";return r;}},{key:"_serializeText",value:function _serializeText(t,e){var r=_get(_getPrototypeOf(Uc.prototype),"_serializeText",this).call(this,t,e);var o=t.getInputDimensions(false);r.options.fontIdentifier=e.getFontIdentifier();r.options.maxWidth=r.options.maxWidth*o.x/o.min();delete r.options.fontFamily;return r;}},{key:"_serializeFilterOperation",value:function _serializeFilterOperation(t){var e=_get(_getPrototypeOf(Uc.prototype),"_serializeFilterOperation",this).call(this,t);if(!e)return null;e.options.identifier=e.options.name;delete e.options.name;return e;}},{key:"_serializeRadialFocusOperation",value:function _serializeRadialFocusOperation(t){var e=_get(_getPrototypeOf(Uc.prototype),"_serializeRadialFocusOperation",this).call(this,t);var r=e.options.options;r.start=r.position;delete r.position;r.end={x:r.start.x+r.radius,y:r.start.y};delete r.radius;return e;}}]);return Uc;}(Lc);Uc.version="2.0.0";});var K7={};de(K7,{"default":function _default(){return Ex;}});var Ex;var X7=d(function(){a2();l2();Ex=/*#__PURE__*/function(){function Ex(t){_classCallCheck(this,Ex);this._editor=t;}_createClass(Ex,[{key:"serialize",value:function serialize(){var e=new Uc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new zc(this._editor,t);return e.deserialize();}}]);return Ex;}();Ex.version="2.0.0";});var c2,Nc;var u2=d(function(){ue();_d();pl();Sx();sm();a2();if(typeof st.Operations.SpriteOperation!=="undefined"){c2=st.Operations.SpriteOperation.BrushSprite.Brush;}Nc=/*#__PURE__*/function(_zc){_inherits(Nc,_zc);var _super195=_createSuper(Nc);function Nc(){_classCallCheck(this,Nc);return _super195.apply(this,arguments);}_createClass(Nc,[{key:"_deserializeSticker",value:function _deserializeSticker(t,e){var r=st.Operations.SpriteOperation;var o=e.options;var n=this._stickerManager.getStickerByIdentifier(o.identifier);if(!n){Y.warn("Deserializer","Unknown sticker `".concat(o.identifier,"`. Skipping sprite."));return Promise.resolve();}var s=n.images.mediaBase;var a=fl.getURLForSticker(n,"base");var l=s.rawData?s.uris[0]:this._editor.getUI().getAssetPath(a);var c=t.getInputDimensions(false);return Wi.load(l).then(function(u){var m=r.StickerSprite.prototype.availableOptions.adjustments.structure;var p=o.rotation,h=o.flipHorizontally,g=o.flipVertically;var x={identifier:o.identifier,image:u,position:Dt.fromObject(o.position),dimensions:Dt.fromObject(o.dimensions).multiply(c.min()),rotation:p||0,flipHorizontally:h,flipVertically:g,resizeMode:n.resizeMode||"keepAspect",adjustments:{}};if(typeof o.adjustments!=="undefined"){["brightness","contrast","saturation"].forEach(function(v){if(typeof o.adjustments[v]!=="undefined"){x.adjustments[v]=o.adjustments[v]+m[v]["default"];}});}if(typeof o.tintMode!=="undefined"&&typeof o.tintColor!=="undefined"){x.tintColor=Ut.fromArray(o.tintColor.rgba);x.tintMode=o.tintMode;}else if(typeof o.tintColor!=="undefined"&&typeof n.tintMode!=="undefined"){x.tintColor=Ut.fromArray(o.tintColor.rgba);x.tintMode=n.tintMode;}if(typeof o.alpha!=="undefined"){x.alpha=o.alpha;}return t.createSticker(x);});}},{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(t){return _get(_getPrototypeOf(Nc.prototype),"_deserializeTransformOperation",this).call(this,t).then(function(e){if(!e)return;e._ratio=null;return e;});}},{key:"_deserializeInputImage",value:function _deserializeInputImage(){var _this262=this;var _this$_data$image=this._data.image,t=_this$_data$image.data,e=_this$_data$image.type,r=_this$_data$image.uri;if(t&&e){r="data:".concat(e,";base64,").concat(t);}if(r){return Wi.load(r).then(function(o){_this262._editor.setImage(o);});}return Promise.resolve();}},{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(t){var e=st.Operations.AdjustmentsOperation;return _get(_getPrototypeOf(Nc.prototype),"_deserializeAdjustmentsOperation",this).call(this,t).then(function(r){if(!r)return null;var o=t.options;var n=["gamma","whites","blacks","temperature"];var s={};n.forEach(function(a){if(typeof o[a]==="undefined")return;var _e$prototype$availabl2=e.prototype.availableOptions[a],l=_e$prototype$availabl2.minValue,c=_e$prototype$availabl2.midValue,u=_e$prototype$availabl2.maxValue;var m=o[a];m=m<0?c+(c-l)*m:c+(u-c)*m;s[a]=m;});r.set(s);return r;});}},{key:"_deserializeFocusOperation",value:function _deserializeFocusOperation(t){var e=t.options.options;switch(t.options.type){case"radial":return _get(_getPrototypeOf(Nc.prototype),"_deserializeFocusOperation",this).call(this,t);case"linear":{var r=e.start,o=e.end,n=e.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("linear-focus",{controlPoint1:Dt.fromObject(r),controlPoint2:Dt.fromObject(o),blurRadius:n}));}case"mirrored":{var _r9=e.start,_o9=e.end,_n7=e.size,s=e.gradientSize,a=e.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Dt.fromObject(_r9),end:Dt.fromObject(_o9),size:_n7,gradientSize:s,blurRadius:a}));}case"gaussian":{var _r10=e.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("blur",{blurRadius:_r10}));}}}},{key:"_deserializeText",value:function _deserializeText(t,e){var r=e.options;var o=r.fontSize,n=r.lineHeight,s=r.fontIdentifier,a=r.alignment,l=r.rotation,c=r.maxWidth,u=r.color,m=r.backgroundColor;var p=this._ui.getFontLoader();var h=this._fontManager.getVariationByIdentifier(s);if(!h){h=this._fontManager.getDefaultVariation();}else{p.setFonts([h.getFont()]);}return p.load().then(function(){var g=t.getInputDimensions(false);var x=c*g.min()/g.x;var v=t.createText({fontSize:o,lineHeight:n,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),textMetrics:h.getTextMetrics(),alignment:a,rotation:l,maxWidth:x,text:r.text,color:Ut.fromArray(u.rgba),backgroundColor:Ut.fromArray(m.rgba),position:Dt.fromObject(r.position)});v._edited=true;return v;});}},{key:"_createBrushForPath",value:function _createBrushForPath(t){var _t$brush=t.brush,e=_t$brush.identifier,r=_t$brush.color,o=_t$brush.size,n=_t$brush.hardness;var s=Ut.fromArray(r.rgba);var a={color:s,size:o};if(typeof n!=="undefined"){a.hardness=n;}var l=this._brushManager.getBrushByIdentifier(e);if(!l){l=this._brushManager.getFirstBrush();}if(l.prototype&&l.prototype instanceof c2){var m=l;return new m(a);}var c=_objectSpread({},l);delete c.image;var u=/*#__PURE__*/function(_c6){_inherits(u,_c6);var _super196=_createSuper(u);function u(){_classCallCheck(this,u);return _super196.apply(this,arguments);}return u;}(c2);u.identifier=l.identifier;return new u(_objectSpread(_objectSpread({},c),a));}},{key:"_deserializeFrame",value:function _deserializeFrame(t,e){var _this263=this;return _get(_getPrototypeOf(Nc.prototype),"_deserializeFrame",this).call(this,t,e).then(function(){var r=_this263._editor.operations.get("frame");var _e$options2=e.options,o=_e$options2.size,n=_e$options2.alpha,s=_e$options2.tintColor;var a={};if(typeof o!=="undefined"){a.scale=o;}if(typeof n!=="undefined"){a.alpha=n;}if(typeof s!=="undefined"){a.tintColor=Ut.fromArray(s.rgba);}r.set(a);});}},{key:"_deserializeTextDesign",value:function _deserializeTextDesign(t,e){var _this264=this;var r=e.options;var o=r.position,n=r.rotation,s=r.flipHorizontally,a=r.flipVertically,l=r.text,c=r.color,u=r.width,m=r.seed,p=r.inverted;var h=r.identifier;if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier;}else if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier;}var g=new uo(this._ui,this._getOptions("textdesign"));var x=new Fi(this._ui,{fonts:pe.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:true});var v=t.constructor.TextDesignSprite.AssetManager;var b=this._ui.getFontLoader();var T=g.getLayoutByIdentifier(h);var k=new T();b.setFonts(x.getFonts());v.setFonts(_objectSpread(_objectSpread({},v.getFonts()),x.getVariationsByIdentifier()));return b.load().then(function(){var E=k.getImagePaths().map(function(A){return{path:A,fullPath:_this264._ui.getAssetPath(A),image:null};});return v.loadImages(E).then(function(){k.onImagesLoaded();return t.createTextDesign({position:o,rotation:n,flipHorizontally:s,flipVertically:a,text:l,color:Ut.fromArray(c.rgba),width:u,seed:m,inverted:p,layout:k});});});}}]);return Nc;}(zc);Nc.version="3.0.0";});var Hc;var d2=d(function(){Ln();Hc=/*#__PURE__*/function(_t29){_inherits(Hc,_t29);var _super197=_createSuper(Hc);function Hc(){_classCallCheck(this,Hc);return _super197.apply(this,arguments);}return Hc;}(_t);Hc.prototype.availableOptions={identifier:{type:"string",required:true},defaultName:{type:"string",required:true},ratio:{type:"*",required:false,"default":null},selected:{type:"boolean",required:false},dimensions:{type:"vector2",required:false},lockDimensions:{type:"boolean",required:false,"default":null},forceDimensions:{type:"boolean",required:false,"default":null}};});var Wc;var m2=d(function(){ue();d2();l2();Wc=/*#__PURE__*/function(_Uc){_inherits(Wc,_Uc);var _super198=_createSuper(Wc);function Wc(){_classCallCheck(this,Wc);return _super198.apply(this,arguments);}_createClass(Wc,[{key:"serialize",value:function serialize(){var _this265=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _get(_getPrototypeOf(Wc.prototype),"serialize",this).call(this,t).then(function(e){e.meta={platform:"html5",version:_this265._editor.getSDK().version,createdAt:Jt.ISODateString(new Date())};e.image=e.inputImage;delete e.inputImage;return e;});}},{key:"_serializeSticker",value:function _serializeSticker(t,e){var r=_get(_getPrototypeOf(Wc.prototype),"_serializeSticker",this).call(this,t,e);r.options.alpha=e.getAlpha();if(r.options.tintColor){r.options.tintColor={rgba:r.options.tintColor};}return r;}},{key:"_serializeText",value:function _serializeText(t,e){var r=_get(_getPrototypeOf(Wc.prototype),"_serializeText",this).call(this,t,e);r.options.color={rgba:r.options.color};r.options.backgroundColor={rgba:r.options.backgroundColor};r.options.flipHorizontally=false;r.options.flipVertically=false;delete r.options.fontWeight;return r;}},{key:"_serializePath",value:function _serializePath(t){var e=_get(_getPrototypeOf(Wc.prototype),"_serializePath",this).call(this,t);delete e.hardness;delete e.size;delete e.color;var r=t.getBrush();e.brush=r.serializeOptions(["identifier","size","color"],true);if(typeof e.brush.identifier==="undefined"){delete e.brush.identifier;}e.brush.color={rgba:e.brush.color};var o=r.getOption("hardness");if(o!=="undefined"){e.brush.hardness=o;}return e;}},{key:"_serializeFrameOperation",value:function _serializeFrameOperation(t,e){_get(_getPrototypeOf(Wc.prototype),"_serializeFrameOperation",this).call(this,t,e);var r=e.filter(function(n){return n.type==="sprite";});var o;if(r.length){o=r.pop();var n=o.options.sprites.filter(function(l){return l.type==="frame";})[0];var s=t.getTintColor();if(!s.equals(new Ut(1,1,1,0))){n.options.tintColor={rgba:t.serializeOption("tintColor",true)};}var a=t.serializeOptions(["scale","alpha"],true);n.options=_objectSpread(_objectSpread({},n.options),a);n.options.size=n.options.scale;delete n.options.scale;}}},{key:"_serializeTransformOperation",value:function _serializeTransformOperation(t){var e=_get(_getPrototypeOf(Wc.prototype),"_serializeTransformOperation",this).call(this,t);if(t._ratio){var r;if(t._ratio instanceof Hc){r=t._ratio.getIdentifier();}else{r=t._ratio.identifier;}e.options.meta={identifier:r};}delete e.options.scale;return e;}},{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(t){var e=_get(_getPrototypeOf(Wc.prototype),"_serializeAdjustmentsOperation",this).call(this,t);var r=["gamma","whites","blacks","temperature"];var o=t.availableOptions;var n={};r.forEach(function(s){var a=o[s];var l=t.getOption(s);var c=a.minValue,u=a.midValue,m=a.maxValue;n[s]=l<=u?(l-c)/(u-c)-1:(l-u)/(m-u);});e.options=_objectSpread(_objectSpread({},e.options),n);return e;}},{key:"_serializeOperation",value:function _serializeOperation(t,e){switch(t.constructor.identifier){case"mirrored-focus":return this._serializeMirroredFocusOperation(t);case"linear-focus":return this._serializeLinearFocusOperation(t);case"blur":return this._serializeBlurOperation(t);default:return _get(_getPrototypeOf(Wc.prototype),"_serializeOperation",this).call(this,t,e);}}},{key:"_serializeMirroredFocusOperation",value:function _serializeMirroredFocusOperation(t){return{type:"focus",options:{type:"mirrored",options:t.serializeOptions(["start","end","blurRadius","size","gradientSize"],true)}};}},{key:"_serializeLinearFocusOperation",value:function _serializeLinearFocusOperation(t){var e=t.serializeOptions(["controlPoint1","controlPoint2","blurRadius"],true);e.start=e.controlPoint1;delete e.controlPoint1;e.end=e.controlPoint2;delete e.controlPoint2;return{type:"focus",options:{type:"linear",options:e}};}},{key:"_serializeBlurOperation",value:function _serializeBlurOperation(t){return{type:"focus",options:{type:"gaussian",options:t.serializeOptions(["blurRadius"],true)}};}}]);return Wc;}(Uc);Wc.version="3.0.0";});var q7={};de(q7,{"default":function _default(){return Fx;}});var Fx;var Y7=d(function(){u2();m2();Fx=/*#__PURE__*/function(){function Fx(t){_classCallCheck(this,Fx);this._editor=t;}_createClass(Fx,[{key:"serialize",value:function serialize(){var e=new Wc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Nc(this._editor,t);return e.deserialize();}}]);return Fx;}();Fx.version="3.0.0";});var Gc;var p2=d(function(){ue();pl();sm();u2();Gc=/*#__PURE__*/function(_Nc){_inherits(Gc,_Nc);var _super199=_createSuper(Gc);function Gc(){_classCallCheck(this,Gc);return _super199.apply(this,arguments);}_createClass(Gc,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(t,e){var _this266=this;var r=e.options;var o=r.position,n=r.rotation,s=r.flipHorizontally,a=r.flipVertically,l=r.text,c=r.color,u=r.width,m=r.seed,p=r.inverted;var h=r.identifier;if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier;}else if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier;}var g=new uo(this._ui,this._getOptions("textdesign"));var x=new Fi(this._ui,{fonts:pe.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:true});var v=t.constructor.TextDesignSprite.AssetManager;var b=this._ui.getFontLoader();var T=g.getLayoutByIdentifier(h);var k=new T();b.setFonts(x.getFonts());v.setFonts(_objectSpread(_objectSpread({},v.getFonts()),x.getVariationsByIdentifier()));return b.load().then(function(){var E=k.getImagePaths().map(function(A){return{path:A,fullPath:_this266._ui.getAssetPath(A),image:null};});return v.loadImages(E).then(function(){k.onImagesLoaded();return t.createTextDesign({position:o,rotation:n,flipHorizontally:s,flipVertically:a,text:l,color:Ut.fromArray(c.rgba),width:u,seed:m,inverted:p,layout:k});});});}}]);return Gc;}(Nc);Gc.version="3.1.0";});var Vc;var h2=d(function(){ue();m2();Vc=/*#__PURE__*/function(_Wc){_inherits(Vc,_Wc);var _super200=_createSuper(Vc);function Vc(){_classCallCheck(this,Vc);return _super200.apply(this,arguments);}_createClass(Vc,[{key:"_serializeTextDesign",value:function _serializeTextDesign(t,e){var r=e.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted"],true);r.color={rgba:r.color};var o=e.getLayout();if(o){r.identifier=o.constructor.identifier;}return{type:"textdesign",options:r};}}]);return Vc;}(Wc);Vc.version="3.1.0";});var J7={};de(J7,{"default":function _default(){return Rx;}});var Rx;var Z7=d(function(){p2();h2();Rx=/*#__PURE__*/function(){function Rx(t){_classCallCheck(this,Rx);this._editor=t;}_createClass(Rx,[{key:"serialize",value:function serialize(){var e=new Vc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Gc(this._editor,t);return e.deserialize();}}]);return Rx;}();Rx.version="3.1.0";});var jc;var f2=d(function(){ue();pl();sm();p2();jc=/*#__PURE__*/function(_Gc){_inherits(jc,_Gc);var _super201=_createSuper(jc);function jc(){_classCallCheck(this,jc);return _super201.apply(this,arguments);}_createClass(jc,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(t,e){var _this267=this;var r=e.options;var o=r.position,n=r.rotation,s=r.flipHorizontally,a=r.flipVertically,l=r.text,c=r.color,u=r.width,m=r.seed,p=r.inverted;var h=r.identifier;if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier;}else if(h===st.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier){h=st.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier;}var g="padding"in r?r.padding/u:-1;var x=new uo(this._ui,this._getOptions("textdesign"));var v=new Fi(this._ui,{fonts:pe.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:true});var b=t.constructor.TextDesignSprite.AssetManager;var T=this._ui.getFontLoader();var k=x.getLayoutByIdentifier(h);var E=new k();T.setFonts(v.getFonts());b.setFonts(_objectSpread(_objectSpread({},b.getFonts()),v.getVariationsByIdentifier()));return T.load().then(function(){var A=E.getImagePaths().map(function(I){return{path:I,fullPath:_this267._ui.getAssetPath(I),image:null};});return b.loadImages(A).then(function(){E.onImagesLoaded();return t.createTextDesign({position:o,rotation:n,flipHorizontally:s,flipVertically:a,text:l,color:Ut.fromArray(c.rgba),width:u,seed:m,inverted:p,layout:E,padding:g});});});}}]);return jc;}(Gc);jc.version="3.2.0";});var $c;var g2=d(function(){h2();$c=/*#__PURE__*/function(_Vc){_inherits($c,_Vc);var _super202=_createSuper($c);function $c(){_classCallCheck(this,$c);return _super202.apply(this,arguments);}_createClass($c,[{key:"_serializeTextDesign",value:function _serializeTextDesign(t,e){var r=e.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted","padding"],true);r.color={rgba:r.color};var o=e.getLayout();if(o){r.identifier=o.constructor.identifier;}r.padding*=r.width;return{type:"textdesign",options:r};}}]);return $c;}(Vc);$c.version="3.2.0";});var Q7={};de(Q7,{"default":function _default(){return Ox;}});var Ox;var tN=d(function(){f2();g2();Ox=/*#__PURE__*/function(){function Ox(t){_classCallCheck(this,Ox);this._editor=t;}_createClass(Ox,[{key:"serialize",value:function serialize(){var e=new $c(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new jc(this._editor,t);return e.deserialize();}}]);return Ox;}();Ox.version="3.2.0";});var Kc;var b2=d(function(){f2();Kc=/*#__PURE__*/function(_jc){_inherits(Kc,_jc);var _super203=_createSuper(Kc);function Kc(){_classCallCheck(this,Kc);return _super203.apply(this,arguments);}_createClass(Kc,[{key:"_deserializeOperation",value:function _deserializeOperation(t){return _get(_getPrototypeOf(Kc.prototype),"_deserializeOperation",this).call(this,t);}},{key:"_deserializeOrientationOperation",value:function _deserializeOrientationOperation(t){var e=t.options;var r=this._editor.operations.getOrCreate("orientation");if(!r)return Promise.resolve();r.set(e);return Promise.resolve(r);}}]);return Kc;}(jc);Kc.version="3.4.0";});var Xc;var y2=d(function(){Dx();g2();Xc=/*#__PURE__*/function(_$c){_inherits(Xc,_$c);var _super204=_createSuper(Xc);function Xc(){_classCallCheck(this,Xc);return _super204.apply(this,arguments);}_createClass(Xc,[{key:"_serializeOperation",value:function _serializeOperation(t,e){switch(t.constructor.identifier){case"artfilter":return this._serializeStyle(t);default:return _get(_getPrototypeOf(Xc.prototype),"_serializeOperation",this).call(this,t,e);}}},{key:"_serializeOrientationOperation",value:function _serializeOrientationOperation(t){return{type:"orientation",options:t.serializeOptions(["flipVertically","flipHorizontally","rotation"],true)};}},{key:"_serializeStyle",value:function _serializeStyle(t){var _t$getOptions=t.getOptions(),e=_t$getOptions.identifier,r=_t$getOptions.intensity,o=_t$getOptions.blendMode;var _t$getStyleTransferMo=t.getStyleTransferModel().getOptions(),n=_t$getStyleTransferMo.tileEdgeLength,s=_t$getStyleTransferMo.overlappingFactor;return{type:"artFilter",options:{identifier:e,intensity:r,blendMode:um[o],tileEdgeLength:n,overlappingFactor:s}};}}]);return Xc;}($c);Xc.version="3.4.0";});var eN={};de(eN,{"default":function _default(){return Ax;}});var Ax;var iN=d(function(){b2();y2();Ax=/*#__PURE__*/function(){function Ax(t){_classCallCheck(this,Ax);this._editor=t;}_createClass(Ax,[{key:"serialize",value:function serialize(){var e=new Xc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Kc(this._editor,t);return e.deserialize();}}]);return Ax;}();Ax.version="3.4.0";});var qc;var _2=d(function(){ue();pl();sm();b2();qc=/*#__PURE__*/function(_Kc){_inherits(qc,_Kc);var _super205=_createSuper(qc);function qc(){_classCallCheck(this,qc);return _super205.apply(this,arguments);}_createClass(qc,[{key:"_deserializeTextDesign",value:function _deserializeTextDesign(t,e){var _this268=this;var r=e.options;var o=r.position,n=r.rotation,s=r.flipHorizontally,a=r.flipVertically,l=r.text,c=r.color,u=r.width,m=r.seed,p=r.inverted,h=r.identifier;var g="padding"in r?r.padding/u:-1;var x=new uo(this._ui,this._getOptions("textdesign"));var v=new Fi(this._ui,{fonts:pe.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:true});var b=t.constructor.TextDesignSprite.AssetManager;var T=this._ui.getFontLoader();var k=x.getLayoutByIdentifier(h);var E=new k();T.setFonts(v.getFonts());b.setFonts(_objectSpread(_objectSpread({},b.getFonts()),v.getVariationsByIdentifier()));return T.load().then(function(){var A=E.getImagePaths().map(function(I){return{path:I,fullPath:_this268._ui.getAssetPath(I),image:null};});return b.loadImages(A).then(function(){E.onImagesLoaded();return t.createTextDesign({position:o,rotation:n,flipHorizontally:s,flipVertically:a,text:l,color:Ut.fromArray(c.rgba),width:u,seed:m,inverted:p,layout:E,padding:g});});});}}]);return qc;}(Kc);qc.version="3.5.0";});var Yc;var x2=d(function(){y2();Yc=/*#__PURE__*/function(_Xc){_inherits(Yc,_Xc);var _super206=_createSuper(Yc);function Yc(){_classCallCheck(this,Yc);return _super206.apply(this,arguments);}return Yc;}(Xc);Yc.version="3.5.0";});var rN={};de(rN,{"default":function _default(){return Bx;}});var Bx;var oN=d(function(){_2();x2();Bx=/*#__PURE__*/function(){function Bx(t){_classCallCheck(this,Bx);this._editor=t;}_createClass(Bx,[{key:"serialize",value:function serialize(){var e=new Yc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new qc(this._editor,t);return e.deserialize();}}]);return Bx;}();Bx.version="3.5.0";});var Jc;var v2=d(function(){ue();_2();Jc=/*#__PURE__*/function(_qc){_inherits(Jc,_qc);var _super207=_createSuper(Jc);function Jc(){_classCallCheck(this,Jc);return _super207.apply(this,arguments);}_createClass(Jc,[{key:"_deserializeAdjustmentsOperation",value:function _deserializeAdjustmentsOperation(t){var e=st.Operations.AdjustmentsOperation;return _get(_getPrototypeOf(Jc.prototype),"_deserializeAdjustmentsOperation",this).call(this,t).then(function(r){if(!r)return null;var o=t.options;var n="sharpness";var s={};if(typeof o[n]==="undefined")return;var _e$prototype$availabl3=e.prototype.availableOptions[n],a=_e$prototype$availabl3.minValue,l=_e$prototype$availabl3.midValue,c=_e$prototype$availabl3.maxValue;var u=o[n];u=u<0?l+(l-a)*u:l+(c-l)*u;s[n]=u;r.set(s);return r;});}}]);return Jc;}(qc);Jc.version="3.6.0";});var Zc;var C2=d(function(){x2();Zc=/*#__PURE__*/function(_Yc){_inherits(Zc,_Yc);var _super208=_createSuper(Zc);function Zc(){_classCallCheck(this,Zc);return _super208.apply(this,arguments);}_createClass(Zc,[{key:"_serializeAdjustmentsOperation",value:function _serializeAdjustmentsOperation(t){var e=_get(_getPrototypeOf(Zc.prototype),"_serializeAdjustmentsOperation",this).call(this,t);var r="sharpness";var o=t.availableOptions;var n={};var s=o[r];var a=t.getOption(r);var l=s.minValue,c=s.midValue,u=s.maxValue;n[r]=a<=c?(a-l)/(c-l)-1:(a-c)/(u-c);e.options=_objectSpread(_objectSpread({},e.options),n);return e;}}]);return Zc;}(Yc);Zc.version="3.6.0";});var nN={};de(nN,{"default":function _default(){return Px;}});var Px;var sN=d(function(){v2();C2();Px=/*#__PURE__*/function(){function Px(t){_classCallCheck(this,Px);this._editor=t;}_createClass(Px,[{key:"serialize",value:function serialize(){var e=new Zc(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Jc(this._editor,t);return e.deserialize();}}]);return Px;}();Px.version="3.6.0";});var Qc;var S2=d(function(){Ln();v2();Qc=/*#__PURE__*/function(_Jc){_inherits(Qc,_Jc);var _super209=_createSuper(Qc);function Qc(){_classCallCheck(this,Qc);return _super209.apply(this,arguments);}_createClass(Qc,[{key:"deserialize",value:function deserialize(){var _this269=this;return this._validateVersion().then(function(){return _this269._deserializeAssetLibrary();}).then(function(){return _this269._deserializeInputImage();}).then(function(){return _this269._deserializeOperations();});}},{key:"_deserializeAssetLibrary",value:function _deserializeAssetLibrary(){var _this270=this;return new Promise(function(t,e){var r=_this270._data;if(!r.assetLibrary){t();return;}var o=r.assetLibrary.assets;var n=[];for(var s in o){n.push(_this270._deserializeCustomAssets(s,o[s]));}return Promise.all(n).then(function(){t();})["catch"](function(s){console.error(s);e(s);});});}},{key:"_deserializeCustomAssets",value:function _deserializeCustomAssets(t,e){switch(t){case"stickers":return this._deserializeCustomStickerAssets(e);default:return Promise.reject(new Error("Unknown asset type: ".concat(t)));}}},{key:"_deserializeCustomStickerAssets",value:function _deserializeCustomStickerAssets(t){var _this271=this;var e="none";var r=this._editor.getOptions().editor;if(r&&r.controlsOptions&&r.controlsOptions.sticker){e=r.controlsOptions.sticker.customStickerTintMode||"none";}var o=t.map(function(n){return new Promise(function(s,a){var l=n.identifier,c=n.raster;var u=n.svg!==void 0;var m="data:".concat(c.type,";base64,").concat(c.data);var p=new Xi();p.onload=function(){var h=_this271._editor.getSDK();p=h.correctExifOrientation(p);if(p.toDataURL){m=p.toDataURL();}var g={data:"",width:1,height:1};if(true){g=_this271._stickerManager.renderStickerThumbnailFromImage(p);}var x={identifier:l,defaultName:n.name||"",tintMode:e,images:{mediaBase:{uris:[m],rawData:true,isSVG:u,width:p.width,height:p.height},mediaThumb:{uris:[g.data],rawData:true,width:g.width,height:g.height}}};if(u){var v="data:image/svg+xml;base64,".concat(n.svg.data);x.images.mediaBase.uris.push(v);}s(x);};p.onerror=function(){a(new Error("Invalid base64 data: ".concat(m)));};p.src=m;});});return Promise.all(o).then(function(n){var s=_this271._editor.getDynamicAssetsLibrary();s.setAssets("sticker",n);_this271._stickerManager.reload();});}}]);return Qc;}(Jc);Qc.version="3.7.0";});var tu;var w2=d(function(){C2();tu=/*#__PURE__*/function(_Zc){_inherits(tu,_Zc);var _super210=_createSuper(tu);function tu(){_classCallCheck(this,tu);return _super210.apply(this,arguments);}_createClass(tu,[{key:"serialize",value:function serialize(){var _this272=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return _get(_getPrototypeOf(tu.prototype),"serialize",this).call(this,t).then(function(e){return _this272._serializeAssetLibrary(e).then(function(r){return r;});});}},{key:"_serializeAssetLibrary",value:function _serializeAssetLibrary(t){if(!this._editor.getDynamicAssetsLibrary){return Promise.resolve(t);}var e=this._editor.getDynamicAssetsLibrary();var r=this._serializeCustomStickerAssets(t,e);if(r.length===0){return Promise.resolve(t);}t.assetLibrary={assets:{stickers:r}};return Promise.resolve(t);}},{key:"_serializeCustomStickerAssets",value:function _serializeCustomStickerAssets(t,e){var r=e.getAssets("sticker");if(r.length===0){return[];}var o=t.operations.filter(function(a){return a.type==="sprite";}).flatMap(function(a){return a.options.sprites;}).filter(function(a){return a.type==="sticker";}).map(function(a){return a.options.identifier;});var n={};o.forEach(function(a){n[a]=true;});var s=r.filter(function(a){return n[a.identifier];});return s.map(function(a){var l=a.identifier,c=a.defaultName,u=a.images;var m=u.mediaBase.uris[0];var p=u.mediaBase.isSVG;var h=/^data:(image\/(jpeg|png));base64,(.*)$/g;var g=h.exec(m);var x=g[1];var v=g[3];var b={identifier:l,name:c,raster:{type:x,data:v}};if(c){b.name=c;}if(p){b.svg={data:u.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")};}return b;});}}]);return tu;}(Zc);tu.version="3.7.0";});var aN={};de(aN,{"default":function _default(){return Mx;}});var Mx;var lN=d(function(){S2();w2();Mx=/*#__PURE__*/function(){function Mx(t){_classCallCheck(this,Mx);this._editor=t;}_createClass(Mx,[{key:"serialize",value:function serialize(){var e=new tu(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Qc(this._editor,t);return e.deserialize();}}]);return Mx;}();Mx.version="3.7.0";});var eu;var T2=d(function(){S2();eu=/*#__PURE__*/function(_Qc){_inherits(eu,_Qc);var _super211=_createSuper(eu);function eu(){_classCallCheck(this,eu);return _super211.apply(this,arguments);}return eu;}(Qc);eu.version="3.8.0";});var iu;var k2=d(function(){w2();iu=/*#__PURE__*/function(_tu){_inherits(iu,_tu);var _super212=_createSuper(iu);function iu(){_classCallCheck(this,iu);return _super212.apply(this,arguments);}_createClass(iu,[{key:"_serializeSticker",value:function _serializeSticker(t,e){var r=_get(_getPrototypeOf(iu.prototype),"_serializeSticker",this).call(this,t,e);r.options.tintMode=e.getTintMode();return r;}}]);return iu;}(tu);iu.version="3.8.0";});var cN={};de(cN,{"default":function _default(){return Lx;}});var Lx;var uN=d(function(){T2();k2();Lx=/*#__PURE__*/function(){function Lx(t){_classCallCheck(this,Lx);this._editor=t;}_createClass(Lx,[{key:"serialize",value:function serialize(){var e=new iu(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new eu(this._editor,t);return e.deserialize();}}]);return Lx;}();Lx.version="3.8.0";});var ru;var I2=d(function(){ue();T2();ru=/*#__PURE__*/function(_eu){_inherits(ru,_eu);var _super213=_createSuper(ru);function ru(){_classCallCheck(this,ru);return _super213.apply(this,arguments);}_createClass(ru,[{key:"_deserializeTransformOperation",value:function _deserializeTransformOperation(t){var _this273=this;return _get(_getPrototypeOf(ru.prototype),"_deserializeCropOperation",this).call(this,t).then(function(e){if(!e)return;var r=Jt.Array.find(_this273._data.operations,function(o){return o.type==="orientation";});if(r){var o=r.options;e.rotate(o.rotation);if(o.flipHorizontally){e.flip("horizontal");e.setRotation(e.getRotation()*-1);}if(o.flipVertically){e.flip("vertical");e.setRotation(e.getRotation()*-1);}}e._ratio=null;return e;});}},{key:"_deserializeText",value:function _deserializeText(t,e){var r=e.options;var o=r.fontSize,n=r.lineHeight,s=r.fontIdentifier,a=r.alignment,l=r.rotation,c=r.maxWidth,u=r.color,m=r.backgroundColor;var p=this._ui.getFontLoader();var h=this._fontManager.getVariationByIdentifier(s);if(!h){h=this._fontManager.getDefaultVariation();}else{p.setFonts([h.getFont()]);}return p.load().then(function(){var g=t.getInputDimensions(false);var x=g.min();var v=g.x;var b=g.y;var T=c*x/v;var k=o*x/b;var E=t.createText({fontSize:k,lineHeight:n,fontFamily:h.getFontFamily(),fontWeight:h.getFontWeight(),fontIdentifier:h.getIdentifier(),textMetrics:h.getTextMetrics(),alignment:a,rotation:l,maxWidth:T,text:r.text,color:Ut.fromArray(u.rgba),backgroundColor:Ut.fromArray(m.rgba),position:Dt.fromObject(r.position)});E._edited=true;return E;});}}]);return ru;}(eu);ru.version="3.9.0";});var dN,ou;var D2=d(function(){d2();k2();dN=Math.PI*2;ou=/*#__PURE__*/function(_iu){_inherits(ou,_iu);var _super214=_createSuper(ou);function ou(){_classCallCheck(this,ou);return _super214.apply(this,arguments);}_createClass(ou,[{key:"_serializeTransformOperation",value:function _serializeTransformOperation(t){var e=this._editor.operations;if(e.exists("orientation")){t=t.clone();var n=e.get("orientation");if(n.getFlipVertically()){t.flip("vertical");t.setRotation(t.getRotation()*-1);}if(n.getFlipHorizontally()){t.flip("horizontal");t.setRotation(t.getRotation()*-1);}t.rotate(-n.getRotation());}var r=t.serializeOptions(["start","end","rotation","textureScale"],true);r.rotation=(r.rotation+dN)%dN;if(r.textureScale!==1){r.dimensions=t.getNewDimensions(t.getInputDimensions(false));}delete r.textureScale;var o={type:"transform",options:r};if(t._ratio){var _n8;if(t._ratio instanceof Hc){_n8=t._ratio.getIdentifier();}else{_n8=t._ratio.identifier;}o.options.meta={identifier:_n8};}delete o.options.scale;return o;}},{key:"_serializeText",value:function _serializeText(t,e){var r=t.getInputDimensions(false);var o=_get(_getPrototypeOf(ou.prototype),"_serializeText",this).call(this,t,e);o.options.fontSize=o.options.fontSize*r.y/r.min();return o;}}]);return ou;}(iu);ou.version="3.9.0";});var mN={};de(mN,{"default":function _default(){return zx;}});var zx;var pN=d(function(){I2();D2();zx=/*#__PURE__*/function(){function zx(t){_classCallCheck(this,zx);this._editor=t;}_createClass(zx,[{key:"serialize",value:function serialize(){var e=new ou(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new ru(this._editor,t);return e.deserialize();}}]);return zx;}();zx.version="3.9.0";});var Wh;var hN=d(function(){I2();Wh=/*#__PURE__*/function(_ru){_inherits(Wh,_ru);var _super215=_createSuper(Wh);function Wh(){_classCallCheck(this,Wh);return _super215.apply(this,arguments);}return Wh;}(ru);Wh.version="3.12.0";});var Gh;var fN=d(function(){D2();Gh=/*#__PURE__*/function(_ou){_inherits(Gh,_ou);var _super216=_createSuper(Gh);function Gh(){_classCallCheck(this,Gh);return _super216.apply(this,arguments);}_createClass(Gh,[{key:"_serializeCustomStickerAssets",value:function _serializeCustomStickerAssets(t,e){var r=e.getAssets("sticker");if(r.length===0){return[];}var o=t.operations.filter(function(a){return a.type==="sprite";}).flatMap(function(a){return a.options.sprites;}).filter(function(a){return a.type==="sticker";}).map(function(a){return a.options.identifier;});var n={};o.forEach(function(a){n[a]=true;});var s=r.filter(function(a){return n[a.identifier];});return s.map(function(a){var l=a.identifier,c=a.defaultName,u=a.images;var m=u.mediaBase.uris[0];var p=u.mediaBase.isSVG;var h=/^data:(image\/(jpeg|png|gif));base64,(.*)$/g;var g=h.exec(m);var x=g[1];var v=g[3];var b={identifier:l,name:c,raster:{type:x,data:v}};if(c){b.name=c;}if(p){b.svg={data:u.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")};}return b;});}}]);return Gh;}(ou);Gh.version="3.12.0";});var gN={};de(gN,{"default":function _default(){return Ux;}});var Ux;var bN=d(function(){hN();fN();Ux=/*#__PURE__*/function(){function Ux(t){_classCallCheck(this,Ux);this._editor=t;}_createClass(Ux,[{key:"serialize",value:function serialize(){var e=new Gh(this._editor);return e.serialize.apply(e,arguments);}},{key:"deserialize",value:function deserialize(t){var e=new Wh(this._editor,t);return e.deserialize();}}]);return Ux;}();Ux.version="3.12.0";});var yN,_N;var xN=d(function(){QT();k7();pl();To();ue();I7();D7();yN=/*#__PURE__*/function(_zh){_inherits(yN,_zh);var _super217=_createSuper(yN);function yN(t,e,r){var _this274;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;_classCallCheck(this,yN);_this274=_super217.call(this);_this274._ui=t;_this274._options=e;_this274._mediator=r;_this274._shallow=o;if(!o){_this274._initSDK();_this274.operations=new gx(_assertThisInitialized(_this274),_this274._sdk,_this274._mediator);}return _this274;}_createClass(yN,[{key:"_initFonts",value:function _initFonts(){var t=Jt.defaults(this._options.editor.controlsOptions.text,{additionalFonts:[],replaceFonts:false,availableVariations:null});this._fontManager=new Fi(this._ui,t);var e=this._fontManager.getFonts();var r=this._ui.getFontLoader();r.setFonts(e);r.load();}},{key:"setImage",value:function setImage(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(e){this.reset();}var r=null;r=this._sdk.parseExif(t);this._setImage(t,r);}},{key:"_initSDK",value:function _initSDK(){var _this$_options43=this._options,t=_this$_options43.logLevel,e=_this$_options43.displayWelcomeMessage,r=_this$_options43.debug,o=_this$_options43.license,n=_this$_options43.crossOrigin,s=_this$_options43.watermark;var _this$_options$editor=this._options.editor,a=_this$_options$editor.smoothDownscaling,l=_this$_options$editor.smoothUpscaling,c=_this$_options$editor.preferredRenderer,u=_this$_options$editor.pixelRatio,m=_this$_options$editor.transparent,p=_this$_options$editor.clearColor;var h;if(Array.isArray(p)){h=Ut.fromArray(p);}else if(typeof p==="string"){h=Ut.fromHex(p);}else if(p instanceof Ut){h=p.clone();}var g={logLevel:t,debug:r,displayWelcomeMessage:e,pixelRatio:u,smoothDownscaling:a,smoothUpscaling:l,transparent:m,crossOrigin:n,clearColor:h,license:o,watermark:s};this._sdk=new st(c,g);}},{key:"getMaxMegapixels",value:function getMaxMegapixels(){var t=this._options.editor.maxMegaPixels;return t;}},{key:"getCrossOrigin",value:function getCrossOrigin(){return Jt.getCrossOriginValue(this._options.crossOrigin||"anonymous");}},{key:"getOutputDimensions",value:function getOutputDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getOutputDimensions(t);}},{key:"getOutputTextureDimensions",value:function getOutputTextureDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getOutputTextureDimensions(t);}},{key:"getFinalDimensions",value:function getFinalDimensions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getFinalDimensions(t);}},{key:"_setImage",value:function _setImage(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this._sdk.setAllOperationsToDirty();this._options.editor.image=t;this._sdk.setImage(t,e);}},{key:"_ensureImageIsResized",value:function _ensureImageIsResized(){var _this275=this;var t=this._sdk.getImage();var e=this._sdk.getRenderer();var r=this.getMaxMegapixels();var o=r?r*1e6:null;var n=e.getMaxDimensions();var s=new bx(t,o,n);if(!this._resizedImage&&s.needsResize()){return s.resize().then(function(_ref117){var a=_ref117.canvas,l=_ref117.dimensions,c=_ref117.reason;_this275._resizedImage=a;_this275._sdk.setImage(a);return a;});}return Promise.resolve(t);}},{key:"export",value:function _export(){var _this276=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this._watermarkOperation){this._watermarkOperation.setEnabled(false);}this._sdk.setAllOperationsToDirty();return this._ensureImageIsResized().then(function(e){var r=_this276._options.editor["export"];var o=new fx(_this276._sdk,r,t);return o["export"]().then(function(n){_this276.emit("export",n);_this276._mediator.emit(pe.EVENTS.EXPORT,n,_this276);if(_this276._watermarkOperation){_this276._watermarkOperation.setEnabled(true);_this276._sdk.render();}_this276._sdk.setAllOperationsToDirty();return n;});});}},{key:"broadcastTransform",value:function broadcastTransform(t,e){var _this277=this;var r=new st.Operations.TransformOperation.TransformChange(t,e);var o=["sprite","selective-blur","radial-focus","mirrored-focus","linear-focus","blur"];o.forEach(function(n){var s=_this277.operations.get(n);if(!s){return;}s.transform(r);});}},{key:"broadcastFlip",value:function broadcastFlip(t){var _this278=this;var e=["mirrored-focus","radial-focus","linear-focus","sprite","selective-blur"];e.forEach(function(r){var o=_this278.operations.get(r);if(!o){return;}o.flip(t);});}},{key:"broadcastRotate",value:function broadcastRotate(t){var _this279=this;var e=["transform","mirrored-focus","linear-focus","radial-focus","sprite","selective-blur"];e.forEach(function(r){var o=_this279.operations.get(r);if(!o){return;}o.rotate(t);});}},{key:"_initSerializers",value:function _initSerializers(){this._serializers={"1.0.0":(N7(),Li(U7))["default"],"1.0.1":(G7(),Li(W7))["default"],"2.0.0":(X7(),Li(K7))["default"],"3.0.0":(Y7(),Li(q7))["default"],"3.1.0":(Z7(),Li(J7))["default"],"3.2.0":(tN(),Li(Q7))["default"],"3.4.0":(iN(),Li(eN))["default"],"3.5.0":(oN(),Li(rN))["default"],"3.6.0":(sN(),Li(nN))["default"],"3.7.0":(lN(),Li(aN))["default"],"3.8.0":(uN(),Li(cN))["default"],"3.9.0":(pN(),Li(mN))["default"],"3.12.0":(bN(),Li(gN))["default"]};}},{key:"serialize",value:function serialize(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"3.12.0";var r=this._serializers[e];if(!r){return Promise.reject(new Error("No serializer for version ".concat(e," found.")));}var o=new r(this);return o.serialize(t);}},{key:"deserialize",value:function deserialize(t){var e=this._serializers[t.version];if(!e){return Promise.reject(new Error("No serializer for version ".concat(t.version," found.")));}var r=new e(this);return r.deserialize(t);}},{key:"save",value:function save(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=this._options.editor.save;return this.serialize({image:e}).then(function(o){var n=JSON.stringify(o,null,2);if(t){var s="data:text/json;charset=utf-8;base64,".concat(window.encodeURI(window.btoa(n)));Ac.downloadDataURL(s,r.fileBasename);}return n;});}},{key:"reset",value:function reset(){this._sdk.reset();this.operations.reset();}},{key:"dispose",value:function dispose(){this.stop();if(this._resizedImage){$t(this._resizedImage);}this._sdk.dispose();}},{key:"getRenderer",value:function getRenderer(){return this._sdk.getRenderer();}},{key:"getSDK",value:function getSDK(){return this._sdk;}},{key:"getInputDimensions",value:function getInputDimensions(){return this._sdk.getInputDimensions();}},{key:"getImage",value:function getImage(){return this._sdk.getImage();}},{key:"getOptions",value:function getOptions(){return this._options;}},{key:"getUI",value:function getUI(){return this._ui;}},{key:"getMediator",value:function getMediator(){return this._mediator;}}]);return yN;}(zh);_N=yN;});var Xs;var vN=d(function(){ue();Cd();JT();pl();sm();xN();vx();Xs=/*#__PURE__*/function(_zh2){_inherits(Xs,_zh2);var _super218=_createSuper(Xs);function Xs(){var _this280;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Xs);_this280=_super218.call(this);_this280._mediator=new zh();_this280._fontLoader=new hl(_assertThisInitialized(_this280));_this280._options=t;_this280._initOptions();_this280._initEvents();_this280._disposed=false;_this280._isReady=false;_this280._editor=new _N(_assertThisInitialized(_this280),_this280._options,_this280._mediator);if(_this280._options.editor.image){_this280._editor.setImage(_this280._options.editor.image);}_this280._mediator.once(pe.EVENTS.EDITOR_READY,function(){_this280._isReady=true;});Y.setLevel(_this280._options.logLevel);return _this280;}_createClass(Xs,[{key:"export",value:function _export(){var _this$_editor;return(_this$_editor=this._editor)["export"].apply(_this$_editor,arguments);}},{key:"serialize",value:function serialize(){var _this$_editor2;return(_this$_editor2=this._editor).serialize.apply(_this$_editor2,arguments);}},{key:"deserialize",value:function deserialize(t){return this._editor.deserialize(t);}},{key:"getEditor",value:function getEditor(){return this._editor;}},{key:"isReady",value:function isReady(){return this._isReady;}},{key:"onReady",value:function onReady(t){if(!this._isReady){this._mediator.once(pe.EVENTS.EDITOR_READY,t);}else{t();}}},{key:"createFilter",value:function createFilter(t){var e=new Rc(this,this._getOptions("filter"));return e.instantiateFilterWithIdentifier(t);}},{key:"getTextDesignLayoutByID",value:function getTextDesignLayoutByID(t){var e=new uo(this,this._getOptions("textDesign"));return new(e.getLayoutByIdentifier(t))();}},{key:"getTextDesignAssetManager",value:function getTextDesignAssetManager(){return st.Operations.SpriteOperation.TextDesignSprite.AssetManager;}},{key:"getTextDesignFontManager",value:function getTextDesignFontManager(){var t=new Fi(this,{fonts:pe.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:true,isTextDesign:true});return t;}},{key:"_getOptions",value:function _getOptions(t){var e=this.getEditor();var r=e.controls;var o={};if(r&&r.get(t)){o=r.get(t).defaultOptions;}var n=e.getOptions();return Jt.deepDefaults({},n.editor.controlsOptions[t]||{},o);}},{key:"_initOptions",value:function _initOptions(){this._options=Jt.defaults(this._options,{language:"en",logLevel:"warn",crossOrigin:"anonymous",editor:{},assets:{},responsive:false,preloader:true,autoRun:true});this._options.editor=Jt.defaults(this._options.editor||{},{enableZoom:true,enableDrag:true,enableExport:true,enableKeyboardControls:true,enablePositionSnapping:true,enableRotationSnapping:true,enableSave:false,enableLoad:false,pixelRatio:Math.max(typeof window!=="undefined"&&window.devicePixelRatio||1,1),preferredRenderer:"webgl",transparent:true,clearColor:[0,0,0,0],displayResizeMessage:true,maxMegaPixels:{},displayCloseButton:false,undoMode:"global",defaultControl:"filter",forceCrop:false,snappingOptions:{},tools:["transform","filter","adjustments","focus","text","textdesign","sticker","brush","frame","overlay","library","artfilter"],controlsOrder:[["library"],["artfilter","transform","filter","adjustments","focus"],["text","textdesign","sticker","brush","frame","overlay"]],operationsOrder:["exif-orientation","artfilter","orientation","transform","filter","adjustments","radial-focus","mirrored-focus","linear-focus","blur","selective-blur","overlay","sprite","frame"],controlsOptions:{focus:{highQualityCanvasBlur:false}}});this._options.editor.snappingOptions=Jt.defaults(this._options.editor.snappingOptions,{position:{},rotation:{}});this._options.editor.snappingOptions.position=Jt.defaults(this._options.editor.snappingOptions.position,{padding:{},threshold:20});this._options.editor.snappingOptions.position.padding=Jt.defaults(this._options.editor.snappingOptions.position.padding,{left:.1,right:.1,top:.1,bottom:.1});this._options.editor.snappingOptions.rotation=Jt.defaults(this._options.editor.snappingOptions.rotation,{angles:[0,45,90,135,180,225,270,315],threshold:20});this._options.editor.controlsOptions.focus=Jt.defaults(this._options.editor.controlsOptions.focus,{highQualityCanvasBlur:false});this._options.editor.maxMegaPixels=Jt.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10});this._options.editor["export"]=Jt.defaults(this._options.editor["export"]||{},{format:"image/png",type:ml.IMAGE,download:true,fileBasename:"photoeditorsdk-export",quality:.8});this._options.editor.save=Jt.defaults(this._options.editor.save||{},{format:"text/json",download:true,fileBasename:"photoeditorsdk-save"});this._options.extensions=Jt.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]});this._options.assets=Jt.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null});if(!(this._options.editor.image instanceof window.Image)){var t=new window.Image();if(this._options.editor.image){t.src=this._options.editor.image;this._options.editor.image=t;}}}},{key:"_initEvents",value:function _initEvents(){this._mediator.pipeEvents(this);}},{key:"_disposeEvents",value:function _disposeEvents(){this._mediator.unpipeEvents(this);}},{key:"setImage",value:function setImage(t){this._editor.setImage(t);}},{key:"getAssetPath",value:function getAssetPath(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var _this$_options$assets=this._options.assets,o=_this$_options$assets.baseUrl,n=_this$_options$assets.resolver;var s="".concat(o,"/").concat(t);n=n||function(u){return u;};if(t.match(/(ftp|http|https):\/\//)){s=t;}var a=t.replace(/assets\//,"").split("/");var l=a[0];var c={};switch(l){case"art-filters":c={identifier:a[1],type:a[2].split(".")[0]};return n("art-filter",c);case"filters":c={identifier:a[1].replace(/\.png$/g,"")};return n("filter",c);case"fonts":c={identifier:a[1].replace(/\.(woff|otf|ttf)$/g,"")};return n("font",c);case"frames":c={identifier:a[1],filename:a[2]};return n("frame",c);case"overlays":c={identifier:a[1].replace(/\.(png|jpg|jpeg)$/g,"")};return n("overlay",c);case"stickers":{var u=a[3].endsWith(".svg");var m=a[3]==="thumbs";c={category:a[1],identifier:(u?a[3]:a[4]).replace(/\.(png|svg)$/g,""),variant:u?"svg":m?"thumb":"base"};return n("sticker",c);}case"text-design":c={type:a[1]==="fonts"?"font":"image",identifier:a[2].replace(/\.(png|otf|ttf|woff2?)$/g,"")};return n("text-design",c);}if(typeof n!=="undefined"&&n!==null){s=n(s);}return s;}},{key:"getFontLoader",value:function getFontLoader(){return this._fontLoader;}},{key:"dispose",value:function dispose(){if(this._disposed){throw new Error("This instance of PhotoEditorSDK is already disposed.");}this._disposed=true;this._disposeEvents();}},{key:"render",value:function render(t){var _this281=this;return this.deserialize(t).then(function(){return _this281["export"]();});}}]);return Xs;}(zh);Xs.prototype.identifier="engine-wrapper";Xs.Constants=pe;Xs.Events=pe.EVENTS;Xs.Utils=Ji;Xs.JSONLoader=ro;Xs.SDK=st;});var Vh=d(function(){vN();});var at={};de(at,{absoluteToRelativePoint:function absoluteToRelativePoint(){return xlt;},absoluteToRelativeSize:function absoluteToRelativeSize(){return ylt;},getBaseLocalToWorldMatrix:function getBaseLocalToWorldMatrix(){return Nx;},getLocalToParentMatrix:function getLocalToParentMatrix(){return SN;},getLocalToWorldMatrix:function getLocalToWorldMatrix(){return dm;},getPointInWorldSpace:function getPointInWorldSpace(){return F2;},getRotationBetweenCoordinateSpaces:function getRotationBetweenCoordinateSpaces(){return vlt;},getScalarInWorldSpace:function getScalarInWorldSpace(){return flt;},getSizeInOutputSpace:function getSizeInOutputSpace(){return glt;},getSizeInWorldSpace:function getSizeInWorldSpace(){return wN;},pointFromSpaceToSpace:function pointFromSpaceToSpace(){return jh;},rectTransformToAffineTransform:function rectTransformToAffineTransform(){return R2;},relativeToAbsolutePoint:function relativeToAbsolutePoint(){return _lt;},relativeToAbsoluteSize:function relativeToAbsoluteSize(){return blt;},scalarFromSpaceToSpace:function scalarFromSpaceToSpace(){return E2;},sizeFromSpaceToSpace:function sizeFromSpaceToSpace(){return hlt;}});function CN(i){return i.x!==void 0;}function R2(i){return wt.fromTRS(i.position.x,i.position.y,i.rotation,i.scale.x,i.scale.y);}function plt(i){if(i.getBaseLocalToParentMatrix){return i.getBaseLocalToParentMatrix();}return R2(i.getTransform());}function Nx(i){var t=i.getParent();var e=plt(i);if(t===void 0){return e;}var r=Nx(t);return wt.multiply(r,e);}function SN(i){if(i.getLocalToParentMatrix){return i.getLocalToParentMatrix();}return R2(i.getTransform());}function dm(i){var t=i.getParent();var e=SN(i);if(t===void 0){return e;}var r=dm(t);return wt.multiply(r,e);}function jh(i,t,e){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var o=t.type==="output"&&r?Nx(t):dm(t);var n=e.type==="output"&&r?Nx(e):dm(e);var s=wt.getInverted(n);return wt.transformPoint(s,wt.transformPoint(o,i));}function E2(i,t,e){var r=new R(i,0);var o=new R(jh(r,t,e));var n=new R(jh(R.ZERO,t,e));return R.distance(n,o);}function hlt(i,t,e){var r=CN(i)?i.x:i.width;var o=CN(i)?i.y:i.height;var n=E2(r,t,e);var s=E2(o,t,e);return{width:n,height:s};}function F2(i,t){var e=dm(t);return wt.transformPoint(e,i);}function flt(i,t){var e=new R(i,0);var r=new R(F2(e,t));var o=new R(F2(R.ZERO,t));return R.distance(r,o);}function wN(i){var t=dm(i);var e=i.getBounds();var r={x:e.width,y:0};var o={x:0,y:e.height};var n=new R(wt.transformPoint(t,R.ZERO));var s=new R(wt.transformPoint(t,r));var a=new R(wt.transformPoint(t,o));var l=R.distance(n,s);var c=R.distance(n,a);return{width:l,height:c};}function glt(i,t){var e=wN(i);var r=t.getTransform().scale;var o={x:1/r.x,y:1/r.y};var n={width:e.width*o.x,height:e.height*o.y};return n;}function blt(i,t){var e=t.getBounds();return{width:i.width*e.width,height:i.height*e.height};}function ylt(i,t){var e=t.getBounds();return{width:i.width/e.width,height:i.height/e.height};}function _lt(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var r=t.getBounds();return{x:i.x*r.width+(e?0:r.minX),y:i.y*r.height+(e?0:r.minY)};}function xlt(i,t){var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var r=t.getBounds();return{x:(i.x-(e?0:r.minX))/r.width,y:(i.y-(e?0:r.minY))/r.height};}function vlt(i,t){var e={x:1,y:0};var r=jh(e,i,t,true);var o=jh(R.ZERO,i,t,true);return Math.atan2(r.y-o.y,r.x-o.x);}var TN=d(function(){U();});function Hx(i){return typeof i!=="string"&&!Array.isArray(i)&&i.a===void 0;}function Wx(i){return typeof i!=="string"&&Array.isArray(i)&&i.length===3;}function Gx(i){return typeof i!=="string"&&!Array.isArray(i)&&i.a!==void 0;}function Vx(i){return typeof i!=="string"&&Array.isArray(i)&&i.length===4;}function kN(i){return typeof i==="string";}var O2=d(function(){});var IN=d(function(){});var A2;var DN=d(function(){U();A2=/*#__PURE__*/function(){function A2(t,e){_classCallCheck(this,A2);this.engine=e;this.transform=_re.IDENTITY;this.canvasPivot={x:0,y:0};this.previewQuality=1;this.canvas=t;}_createClass(A2,[{key:"quality",get:function get(){return this.previewQuality;}},{key:"setQuality",value:function setQuality(t){this.previewQuality=Math.min(Math.max(t,.01),1);}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"setTransform",value:function setTransform(t){this.transform=t;}},{key:"getPosition",value:function getPosition(){return this.transform.position;}},{key:"setPosition",value:function setPosition(t,e){var r;if(typeof t==="number"){r={x:t,y:e===void 0?t:e};}else{r=t;}var o=this.transform.scale;var n=this.transform.rotation;this.setTransform(new _re(r,o,n));}},{key:"getScale",value:function getScale(){return this.transform.scale;}},{key:"setScale",value:function setScale(t,e){var r;if(typeof t!=="number"){r=t;}else{r={x:t,y:e===void 0?t:e};}var o=this.transform.position;var n=this.transform.rotation;this.setTransform(new _re(o,r,n));}},{key:"getRotation",value:function getRotation(){return this.transform.rotation;}},{key:"setRotation",value:function setRotation(t){var e=this.transform.position;var r=this.transform.scale;this.setTransform(new _re(e,r,t));}},{key:"getCanvasPivot",value:function getCanvasPivot(){return this.canvasPivot;}},{key:"setCanvasPivot",value:function setCanvasPivot(t,e){if(typeof t==="number"){this.canvasPivot={x:t,y:_typeof(e)===void 0?t:e};}else{this.canvasPivot=t;}}},{key:"getCanvasBounds",value:function getCanvasBounds(){var t=this.canvasPivot;var _this$canvas=this.canvas,e=_this$canvas.width,r=_this$canvas.height;return new je(-t.x*e,-t.y*r,e,r);}}]);return A2;}();});function jx(i){return i.getTransform!==void 0;}function EN(i){return i.getContainer!==void 0;}var FN=d(function(){});var RN=d(function(){});var ON=d(function(){});var AN=d(function(){});var BN=d(function(){});var PN=d(function(){});var MN=d(function(){});var LN=d(function(){});var zN=d(function(){});var UN=d(function(){});var NN=d(function(){});var HN=d(function(){});var WN=d(function(){});var GN=d(function(){});var VN=d(function(){});var jN=d(function(){});var $N=d(function(){});var B2=d(function(){TN();O();O2();IN();DN();FN();RN();ON();AN();BN();PN();MN();LN();zN();UN();NN();HN();WN();GN();VN();jN();$N();});var P2;var KN=d(function(){U();B2();P2=/*#__PURE__*/function(_Tr2){_inherits(P2,_Tr2);var _super219=_createSuper(P2);function P2(t){var _this282;_classCallCheck(this,P2);_this282=_super219.call(this);_this282.config=t;return _this282;}_createClass(P2,[{key:"getOutputDimensions",value:function getOutputDimensions(){var t=this.getOutputContainer();if(!t){return{width:0,height:0};}return t.getResolution();}},{key:"getSmallerOutputSide",value:function getSmallerOutputSide(){var t=this.getOutputContainer();if(!t){return 0;}var e=t.getResolution();return Math.min(e.width,e.height);}},{key:"convertPointFromPreviewIntoOutputSpace",value:function convertPointFromPreviewIntoOutputSpace(t,e){var r=wt.getInverted(at.rectTransformToAffineTransform(e));return wt.transformPoint(r,t);}},{key:"convertPointFromPreviewIntoWorldSpace",value:function convertPointFromPreviewIntoWorldSpace(t,e,r){var o=wt.getInverted(at.rectTransformToAffineTransform(e));var n=r?this.getOutputContainer().getBaseLocalToParentMatrix():this.getOutputContainer().getLocalToParentMatrix();var s=wt.multiply(n,o);return wt.transformPoint(s,t);}},{key:"convertPointFromPreviewIntoFlippedPreviewSpace",value:function convertPointFromPreviewIntoFlippedPreviewSpace(t){var e=this.getOutputContainer().getFlipTransformMatrix();return wt.transformPoint(e,t);}},{key:"convertPointFromWorldIntoPreviewSpace",value:function convertPointFromWorldIntoPreviewSpace(t,e){var r=at.rectTransformToAffineTransform(e);var o=wt.getInverted(this.getOutputContainer().getLocalToParentMatrix());var n=wt.multiply(r,o);return wt.transformPoint(n,t);}},{key:"convertPointFromOutputIntoPreviewSpace",value:function convertPointFromOutputIntoPreviewSpace(t,e){var r=at.rectTransformToAffineTransform(e);return wt.transformPoint(r,t);}},{key:"getContainersAtPreviewPoint",value:function getContainersAtPreviewPoint(t,e){var r=new Array();var o=this.convertPointFromPreviewIntoWorldSpace(t,e);var n=this.getRootContainers();var _iterator7=_createForOfIteratorHelper(n),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var s=_step7.value;this.accumulateContainersAtWorldPointInHierarchy(o,s,r);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}return r;}},{key:"isPreviewPointInContainer",value:function isPreviewPointInContainer(t,e,r){var o=this.convertPointFromPreviewIntoWorldSpace(t,r);return this.isWorldPointInContainer(o,e);}},{key:"isWorldPointInContainer",value:function isWorldPointInContainer(t,e){var r=at.getLocalToWorldMatrix(e);var o=wt.getInverted(r);var n=wt.transformPoint(o,t);return je.contains(e.getBounds(),n);}},{key:"accumulateContainersAtWorldPointInHierarchy",value:function accumulateContainersAtWorldPointInHierarchy(t,e,r){if(this.isWorldPointInContainer(t,e)){r.push(e);}var o=e.getChildren();var _iterator8=_createForOfIteratorHelper(o),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var n=_step8.value;if(jx(n)){this.accumulateContainersAtWorldPointInHierarchy(t,n,r);}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}}}]);return P2;}(Tr);});var ur=d(function(){B2();KN();});var si;var Go=d(function(){U();si=/*#__PURE__*/function(){function si(t){_classCallCheck(this,si);this.engine=t;this.id=At();}_createClass(si,[{key:"getID",value:function getID(){return this.id;}},{key:"getContainer",value:function getContainer(){return this.engine.getRootContainers()[0];}},{key:"getIndexInParent",value:function getIndexInParent(){var t=this.engine.rootOperations;for(var e=0;e<t.length;e+=1){if(t[e].getID()===this.id){return e;}}return-1;}},{key:"setIndexInParent",value:function setIndexInParent(t){this.engine.moveIndex(this,t);}},{key:"isValid",value:function isValid(){return this.getIndexInParent()!==-1;}}]);return si;}();});var M2;var L2=d(function(){Go();M2=/*#__PURE__*/function(_si){_inherits(M2,_si);var _super220=_createSuper(M2);function M2(t,e,r){var _this283;_classCallCheck(this,M2);_this283=_super220.call(this,e);_this283.operation=r;_this283.type="adjustments";_this283.setProperties(t);return _this283;}_createClass(M2,[{key:"getProperties",value:function getProperties(){var t=this.operation.getOptions();var e=t.gamma-1;return{brightness:t.brightness||0,saturation:t.saturation||0,contrast:t.contrast||0,gamma:(e<0?2*e:e)||0,clarity:t.clarity||0,exposure:t.exposure||0,shadows:t.shadows*.5||0,highlights:t.highlights||0,whites:t.whites||0,blacks:t.blacks||0,temperature:t.temperature||0,sharpness:t.sharpness||0};}},{key:"setProperties",value:function setProperties(t){if(t.gamma!==void 0){t.gamma=1+(t.gamma<0?.5*t.gamma:t.gamma);}if(t.shadows){t.shadows=t.shadows*2;}this.operation.set(t);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"adjustments";}}]);return M2;}(si);});var dr;var mm=d(function(){Vh();O2();dr=function dr(i){if(Gx(i)){return new st.Color(i.r,i.g,i.b,i.a);}if(Vx(i)){return new st.Color(i[0],i[1],i[2],i[3]);}if(Hx(i)){return new st.Color(i.r,i.g,i.b,1);}if(Wx(i)){return new st.Color(i[0],i[1],i[2],1);}if(kN(i)){var _i$match=i.match(/[0-9A-fa-f]{1,2}/g),_i$match2=_slicedToArray(_i$match,3),t=_i$match2[0],e=_i$match2[1],r=_i$match2[2];return new st.Color(parseInt(t,16)/255,parseInt(e,16)/255,parseInt(r,16)/255,1);}throw new Error("Invalid color type");};});var _jt;var gl=d(function(){_jt=/*#__PURE__*/function(){function jt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;_classCallCheck(this,jt);this._x=t;this._y=e;}_createClass(jt,[{key:"x",get:function get(){return this._x;}},{key:"y",get:function get(){return this._y;}},{key:"set",value:function set(t,e){this._x=t;this._y=e;return this;}},{key:"clone",value:function clone(){return new _jt(this._x,this._y);}},{key:"copy",value:function copy(t){this._x=t.x;this._y=t.y;return this;}},{key:"clamped",value:function clamped(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;var r=typeof t==="number"?{x:t,y:t}:t;var o=typeof e==="number"?{x:e,y:e}:e;this._x=Math.max(r.x,this._x);this._y=Math.max(r.y,this._y);this._x=Math.min(o.x,this._x);this._y=Math.min(o.y,this._y);return this;}},{key:"divide",value:function divide(t,e){if(typeof t==="number"||t===null){this._x/=t;this._y/=typeof e==="undefined"?t:e;}else{this._x/=t.x;this._y/=t.y;}return this;}},{key:"subtract",value:function subtract(t,e){if(typeof t==="number"||t===null){this._x-=t;this._y-=typeof e==="undefined"?t:e;}else{this._x-=t.x;this._y-=t.y;}return this;}},{key:"multiply",value:function multiply(t,e){if(typeof t==="number"||t===null){this._x*=t;this._y*=typeof e==="undefined"?t:e;}else{this._x*=t.x;this._y*=t.y;}return this;}},{key:"add",value:function add(t,e){if(typeof t==="number"||t===null){this._x+=t;this._y+=typeof e==="undefined"?t:e;}else{this._x+=t.x;this._y+=t.y;}return this;}},{key:"dot",value:function dot(t,e){if(typeof t==="number"||t===null){return this._x*t+this._y*(typeof e==="undefined"?t:e);}else{return this._x*t.x+this._y*t.y;}}},{key:"equals",value:function equals(t,e){if(typeof t==="number"||t===null){return t===this._x&&e===this._y;}else{return t.x===this._x&&t.y===this._y;}}},{key:"flip",value:function flip(){var t=this._x;this._x=this._y;this._y=t;return this;}},{key:"round",value:function round(){this._x=Math.round(this._x);this._y=Math.round(this._y);return this;}},{key:"ceil",value:function ceil(){this._x=Math.ceil(this._x);this._y=Math.ceil(this._y);return this;}},{key:"floor",value:function floor(){this._x=this._x|0;this._y=this._y|0;return this;}},{key:"abs",value:function abs(){this._x=Math.abs(this._x);this._y=Math.abs(this._y);return this;}},{key:"len",value:function len(){return Math.sqrt(this._x*this._x+this._y*this._y);}},{key:"min",value:function min(){return Math.min(this._x,this._y);}},{key:"max",value:function max(){return Math.max(this._x,this._y);}},{key:"toObject",value:function toObject(){return{x:this._x,y:this._y};}},{key:"toString",value:function toString(){return"Vector2({ x: ".concat(this._x,", y: ").concat(this._y," })");}},{key:"roundDecimal",value:function roundDecimal(t){this._x=parseFloat(this._x.toFixed(t));this._y=parseFloat(this._y.toFixed(t));return this;}},{key:"asArray",value:function asArray(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){return[this._y,this._x];}return[this._x,this._y];}}],[{key:"fromObject",value:function fromObject(t){return new _jt(t.x,t.y);}},{key:"fromSize",value:function fromSize(t){return new _jt(t.width,t.height);}},{key:"NULL",get:function get(){return new _jt(0,0);}}]);return jt;}();});var zr;var bl=d(function(){U();ur();gl();zr=/*#__PURE__*/function(){function zr(t){_classCallCheck(this,zr);this.engine=t;this.id=At();this.transform=_re.IDENTITY;this.bounds=je.ZERO;}_createClass(zr,[{key:"getID",value:function getID(){return this.id;}},{key:"getParent",value:function getParent(){var t=this.engine.getRootContainers();if(t.length===0||this.id===t[0].id){return void 0;}return t[0];}},{key:"getIndexInParent",value:function getIndexInParent(){var t=this.engine.rootOperations;for(var e=0;e<t.length;e+=1){if(t[e].getID()===this.id){return e;}}return-1;}},{key:"setIndexInParent",value:function setIndexInParent(t){this.engine.moveIndex(this,t);}},{key:"getChildren",value:function getChildren(){var t=this.engine.getRootContainers();if(t.length>0&&(this.id===t[0].id||this.id===this.engine.getOutputContainer().id)){return this.engine.rootOperations;}return[];}},{key:"getBounds",value:function getBounds(){return this.bounds;}},{key:"setPivotOnSelfAndSprite",value:function setPivotOnSelfAndSprite(t,e,r){if(typeof e==="number"){this.setPivotInternal(e,r);t.setPivot(new _jt(e,r));}else{this.setPivotInternal(e);t.setPivot(_jt.fromObject(e));}}},{key:"setPivot",value:function setPivot(t,e){this.setPivotInternal(t,e);}},{key:"getPivot",value:function getPivot(){var t=this.getBounds();return{x:-t.minX/t.width,y:-t.minY/t.height};}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"setTransform",value:function setTransform(t){this.transform=t;}},{key:"updateTransform",value:function updateTransform(){this.setTransform(this.transform);}},{key:"getPosition",value:function getPosition(){return this.transform.position;}},{key:"setPosition",value:function setPosition(t,e){var r;if(typeof t==="number"){r={x:t,y:e===void 0?t:e};}else{r=t;}var o=this.transform.scale;var n=this.transform.rotation;this.setTransform(new _re(r,o,n));}},{key:"getScale",value:function getScale(){return this.transform.scale;}},{key:"setScale",value:function setScale(t,e){var r;if(typeof t!=="number"){r=t;}else{r={x:t,y:e===void 0?t:e};}var _this$transform=this.transform,o=_this$transform.position,n=_this$transform.rotation;this.setTransform(new _re(o,r,n));}},{key:"getRotation",value:function getRotation(){return this.transform.rotation;}},{key:"setRotation",value:function setRotation(t){var _this$transform2=this.transform,e=_this$transform2.position,r=_this$transform2.scale;this.setTransform(new _re(e,r,t));}},{key:"getSizeInWorldSpace",value:function getSizeInWorldSpace(){return at.getSizeInWorldSpace(this);}},{key:"getSizeInOutputSpace",value:function getSizeInOutputSpace(){return at.getSizeInOutputSpace(this,this.engine.getOutputContainer());}},{key:"setSizeInWorldSpace",value:function setSizeInWorldSpace(t){var e=this.getBounds();this.setScale(t.width/e.width,t.height/e.height);}},{key:"setSizeInOutputSpace",value:function setSizeInOutputSpace(t){var e=this.engine.getOutputContainer().getScale();this.setSizeInWorldSpace({width:t.width/e.x,height:t.height/e.y});}},{key:"isValid",value:function isValid(){return this.getIndexInParent()!==-1;}},{key:"setPivotInternal",value:function setPivotInternal(t,e){var r=this.getBounds();if(typeof t==="number"){this.setBoundsFromSize(r.width,r.height,{x:t,y:e});}else{this.setBoundsFromSize(r.width,r.height,t);}}},{key:"setBoundsFromSize",value:function setBoundsFromSize(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.getPivot();this.bounds=new je(-r.x*t,-r.y*e,t,e);}}]);return zr;}();});var z2;var XN=d(function(){U();ur();mm();bl();gl();z2=/*#__PURE__*/function(_zr){_inherits(z2,_zr);var _super221=_createSuper(z2);function z2(t,e){var _this284;_classCallCheck(this,z2);_this284=_super221.call(this,e);_this284.type="drawing";_this284.drawing=t;_this284.operation=e.createSpriteOperation();_this284.sprite=_this284.operation.createBrush({});_this284.operation.addSprite(_this284.sprite);_this284.radialBrush=_this284.sprite._createRadialBrush();var r=e.getRootContainers()[0];var o=r.getBounds();_this284.bounds=new je(0,0,o.width,o.height);_this284.setTransform(_re.IDENTITY);_this284.operation.setDirty(true);_this284.setData(t);return _this284;}_createClass(z2,[{key:"beginStroke",value:function beginStroke(t){if(this.currentStroke){throw new Error("A brush stroke has already been started but not finished.");}if(t.id!=="imgly_brush_radial"){throw new Error("This adapter does not support any brush faces other than the radial img.ly brush.");}this.currentBrush=t;this.currentStroke={brush:t,path:{controlPoints:[]}};this.radialBrush.setColor(dr(t.color));this.radialBrush.setHardness(t.hardness);this.radialBrush.setSize(t.size);this.currentPath=this.sprite.createPath(this.radialBrush.clone());}},{key:"addPointToCurrentStroke",value:function addPointToCurrentStroke(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!this.currentStroke||!this.currentBrush||!this.currentPath){throw new Error('A brush stroke has to first be started with a call to "beginStroke(brush:Brush)"');}if(this.currentStroke.path.controlPoints.length){var l=this.currentStroke.path.controlPoints;var c=l[l.length-1];var u=this.currentBrush.size/10;var m=Math.sqrt(t.x-Math.pow(c.x,2)+(t.y-Math.pow(c.y,2)));if(m<u){return;}}var r=this.engine.getOutputContainer();var o=this.engine.getRootContainers()[0];var n=at.pointFromSpaceToSpace(t,o,r,true);var s=at.absoluteToRelativePoint(n,r,false);var a=r.getBounds();this.currentPath.addControlPoint(_jt.fromObject(s));this.currentStroke.path.controlPoints.push(t);if(e){this.sprite.render(_jt.fromObject({x:a.width,y:a.height}));}}},{key:"endStroke",value:function endStroke(){if(!this.currentStroke||!this.currentPath||!this.currentBrush){return;}if(this.currentStroke.path.controlPoints.length){this.drawing.strokes.push(this.currentStroke);}this.currentStroke=void 0;this.currentBrush=void 0;this.currentPath.setClosed(true);var t=this.engine.getOutputContainer().getBounds();this.sprite.render(_jt.fromObject({x:t.width,y:t.height}));this.currentPath=void 0;}},{key:"setData",value:function setData(t){this.drawing=_objectSpread(_objectSpread({},this.drawing),t);if(this.drawing.strokes){this.drawing.strokes=[];}this.sprite.clearPersistCanvas();this.sprite.clearCanvas();this.sprite.setPaths([]);this.drawStrokes(t.strokes);}},{key:"getData",value:function getData(){return this.drawing;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"drawStrokes",value:function drawStrokes(t){var _this285=this;t.forEach(function(e){_this285.beginStroke(e.brush);e.path.controlPoints.forEach(function(r){_this285.addPointToCurrentStroke(r,true);});_this285.endStroke();});}}]);return z2;}(zr);});var U2;var N2=d(function(){Go();U2=/*#__PURE__*/function(_si2){_inherits(U2,_si2);var _super222=_createSuper(U2);function U2(t,e,r,o){var _this286;_classCallCheck(this,U2);_this286=_super222.call(this,o);_this286.filterOperation=e;_this286.type="duotone-filter";e.set({intensity:r.colorIntensity});e.set({filter:t});o.pesdk.setAllOperationsToDirty();return _this286;}_createClass(U2,[{key:"getProperties",value:function getProperties(){var t=this.filterOperation.getOptions();return{colorIntensity:t.intensity};}},{key:"setProperties",value:function setProperties(t){var e=this.filterOperation.getOptions();var r=e.intensity;if(t.colorIntensity!==void 0){r=Math.min(Math.max(t.colorIntensity,0),1);}this.filterOperation.set({intensity:r});}},{key:"getOperation",value:function getOperation(){return this.filterOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"filter";}}]);return U2;}(si);});var H2;var qN=d(function(){H2=/*#__PURE__*/function(){function H2(t,e){_classCallCheck(this,H2);this.engine=e;this.loaded=false;this.loading=false;this.asset=_objectSpread({},t);}_createClass(H2,[{key:"load",value:function(){var _load=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(){var _this287=this;var t,e;return regeneratorRuntime.wrap(function _callee12$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!this.loaded){_context13.next=2;break;}return _context13.abrupt("return",Promise.resolve());case 2:if(!this.loading){_context13.next=4;break;}return _context13.abrupt("return",Promise.reject(new Error("Called Frame#load while it's already loading")));case 4:this.loading=true;t=this.asset.imageGroups;e=[];["top","left","right","bottom"].forEach(function(r){if(!t[r]){return;}var o=t[r];["start","mid","end"].forEach(function(n){if(!(n in o)){return;}e.push(_this287.loadPart(r,n));});});return _context13.abrupt("return",Promise.all(e).then(function(){_this287.loaded=true;_this287.loading=false;})["catch"](function(){_this287.loaded=false;_this287.loading=false;}));case 9:case"end":return _context13.stop();}}},_callee12,this);}));function load(){return _load.apply(this,arguments);}return load;}()},{key:"getFrame",value:function getFrame(){return _objectSpread(_objectSpread({},this.asset),{},{defaultName:this.asset.name,thumbnail:this.asset.thumbnailURI});}},{key:"getIdentifier",value:function getIdentifier(){return this.asset.identifier;}},{key:"getDefaultName",value:function getDefaultName(){return this.asset.name;}},{key:"getThumbnail",value:function getThumbnail(){return this.asset.thumbnailURI;}},{key:"getTintable",value:function getTintable(){return this.asset.tintable||false;}},{key:"getLayoutMode",value:function getLayoutMode(){return this.asset.layoutMode;}},{key:"getImageGroups",value:function getImageGroups(){return this.asset.imageGroups;}},{key:"loadPart",value:function(){var _loadPart2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(t,e){var _this288=this;return regeneratorRuntime.wrap(function _callee13$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:return _context14.abrupt("return",new Promise(function(r,o){var n=_this288.asset.imageGroups;var s=n[t][e];var a=s;if(typeof s!=="string"&&"image"in s){a=s.image;}var l=new Image();l.addEventListener("load",function(){if(typeof s!=="string"){_this288.asset.imageGroups[t][e].image=l;}else{_this288.asset.imageGroups[t][e]=l;}r(l);});l.addEventListener("error",function(){o(new Error("Failed to load image at ".concat(l.src)));});l.crossOrigin=_this288.engine.configuration.crossOrigin||"anonymus";l.src=_this288.engine.assetProvider.getAssetSource("frame",a);}));case 1:case"end":return _context14.stop();}}},_callee13);}));function loadPart(_x19,_x20){return _loadPart2.apply(this,arguments);}return loadPart;}()}]);return H2;}();});var W2;var YN=d(function(){mm();Go();W2=/*#__PURE__*/function(_si3){_inherits(W2,_si3);var _super223=_createSuper(W2);function W2(t,e,r){var _this289;_classCallCheck(this,W2);_this289=_super223.call(this,r);_this289.frameOperation=t;_this289.type="frame";_this289.setProperties(e);r.pesdk.setAllOperationsToDirty();return _this289;}_createClass(W2,[{key:"setProperties",value:function setProperties(t){this.props=_objectSpread(_objectSpread({},this.props),t);if(typeof t.opacity==="number"){this.frameOperation.set({alpha:t.opacity});}if(t.tintColor){this.frameOperation.set({tintColor:dr(t.tintColor)});}if(t.width){var e=this.engine.getOutputContainer().getBounds();var r=Math.min(e.width,e.height);var o=t.width/r;this.frameOperation.set({scale:o});}this.frameOperation.setDirty(true);}},{key:"getProperties",value:function getProperties(){return this.props;}},{key:"getOperation",value:function getOperation(){return this.frameOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"frame";}}]);return W2;}(si);});var G2;var V2=d(function(){ur();Go();G2=/*#__PURE__*/function(_si4){_inherits(G2,_si4);var _super224=_createSuper(G2);function G2(t,e,r){var _this290;_classCallCheck(this,G2);_this290=_super224.call(this,e);_this290.blurOperation=r;_this290.type="gaussian-blur";_this290.setProperties(t);return _this290;}_createClass(G2,[{key:"getProperties",value:function getProperties(){var t=this.engine.getOutputContainer();var e=t.getBounds();var r=Math.min(e.size.width,e.size.height);var o=at.scalarFromSpaceToSpace(this.blurOperation.getOptions().blurRadius*r,t,this.getContainer());return{blurRadius:o};}},{key:"setProperties",value:function setProperties(t){if(t.blurRadius!==void 0){var e=this.engine.pesdk.getOutputDimensions();var r=Math.min(e.x,e.y);var o=this.getContainer();var n=this.engine.getOutputContainer();var s=at.scalarFromSpaceToSpace(t.blurRadius,o,n);var a=s/r;this.blurOperation.set({blurRadius:a});}}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"blur";}}]);return G2;}(si);});var $x;var j2=d(function(){U();ur();bl();$x=/*#__PURE__*/function(_zr2){_inherits($x,_zr2);var _super225=_createSuper($x);function $x(t,e){var _this291;_classCallCheck(this,$x);_this291=_super225.call(this,e);_this291.data=t;_this291.type="image";_this291.dispose=function(){var t;if(((t=_this291.data)==null?void 0:t.image)instanceof HTMLCanvasElement){$t(_this291.data.image);}};var r=e.configuration.downscaleOptions;if(!r){_this291.downscaleOptions={maxDimensions:{width:e.maxTextureDimension,height:e.maxTextureDimension}};}else{var n=r.maxDimensions;_this291.downscaleOptions={maxMegaPixels:r.maxMegaPixels,maxDimensions:{width:Math.min(e.maxTextureDimension,n?n.width:Number.MAX_VALUE),height:Math.min(e.maxTextureDimension,n?n.height:Number.MAX_VALUE)}};}_this291.setData(t);var o=_this291.data.image;_this291.bounds=new je(R.ZERO,{width:o.width,height:o.height});return _this291;}_createClass($x,[{key:"setData",value:function setData(t){var _this292=this;this.data=_objectSpread(_objectSpread({},this.data),t);if(t.image){var e=t.image;var r;if(e instanceof HTMLImageElement){r=this.engine.pesdk.parseExif(e);if(r){var n=r.getTags();if(n&&n.Orientation){var s=n.Orientation!==1&&n.Orientation!==2;var a=[2,4,5,7].indexOf(n.Orientation)!==-1;if(s||a){if(ve()||wr()||!CSS.supports("image-orientation","from-image")){var l=this.engine.pesdk.createOperation("exif-orientation",{},false);l.setTags(n);e=l.applyTo(e);}r.setOrientation(1);n.Orientation=1;}}}}var o=new hp(e,this.downscaleOptions);o.on("imageDownscaled",function(_ref118){var n=_ref118.width,s=_ref118.height;_this292.engine.emit("imageDownscaled",{width:n,height:s});});o.on("beganImageDownscaling",function(){_this292.engine.emit("beganImageDownscaling");});e=o.downscaleIfNecessary();this.data.image=e;this.engine.pesdk.setImage(e,r);this.setBoundsFromSize(e.width,e.height);}}},{key:"getData",value:function getData(){return this.data;}},{key:"setPivot",value:function setPivot(t,e){throw new Error("This container does not support modifying the pivot");}},{key:"getOperation",value:function getOperation(){throw new Error("This container has no associated operation");}}]);return $x;}(zr);});var $2;var K2=d(function(){U();ur();Go();$2=/*#__PURE__*/function(_si5){_inherits($2,_si5);var _super226=_createSuper($2);function $2(t,e,r){var _this293;_classCallCheck(this,$2);_this293=_super226.call(this,e);_this293.props=t;_this293.blurOperation=r;_this293.type="linear-blur";_this293.setProperties(t);return _this293;}_createClass($2,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(t){this.props=_objectSpread(_objectSpread({},this.props),t);var e=this.blurOperation.getOptions();var r=this.engine.getOutputContainer();var o=r.getBounds();var n=this.getContainer();var s=r.getBaseLocalToParentMatrix();var a=at.getBaseLocalToWorldMatrix(n);var l=wt.multiply(wt.getInverted(s),a);var c=Math.min(o.size.width,o.size.height);if(t.blurRadius!==void 0){var u=at.scalarFromSpaceToSpace(t.blurRadius,n,r);e.blurRadius=u/c;}if(t.start!==void 0){var _u4=wt.transformPoint(l,t.start);var m=at.absoluteToRelativePoint(_u4,r,false);e.controlPoint1=m;}if(t.end!==void 0){var _u5=wt.transformPoint(l,t.end);var _m4=at.absoluteToRelativePoint(_u5,r,false);e.controlPoint2=_m4;}this.blurOperation.set(e);}},{key:"updateProperties",value:function updateProperties(){var t=this.getProperties();this.setProperties(t);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"linear-focus";}}]);return $2;}(si);});var X2;var q2=d(function(){Go();X2=/*#__PURE__*/function(_si6){_inherits(X2,_si6);var _super227=_createSuper(X2);function X2(t,e,r,o){var _this294;_classCallCheck(this,X2);_this294=_super227.call(this,o);_this294.filter=t;_this294.filterOperation=e;_this294.props=r;_this294.type="lut-filter";e.set({intensity:r.intensity});e.set({filter:t});o.pesdk.setAllOperationsToDirty();return _this294;}_createClass(X2,[{key:"getProperties",value:function getProperties(){var t=this.filterOperation.getOptions();return{intensity:t.intensity,lutImage:this.props.lutImage,horizontalTileCount:this.props.horizontalTileCount,verticalTileCount:this.props.verticalTileCount};}},{key:"setProperties",value:function setProperties(t){var e=this.filterOperation.getOptions();var r=typeof t.intensity==="number"?t.intensity:e.intensity;this.filterOperation.set({intensity:r});}},{key:"getOperation",value:function getOperation(){return this.filterOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"filter";}}]);return X2;}(si);});var Y2;var J2=d(function(){U();ur();Go();Y2=/*#__PURE__*/function(_si7){_inherits(Y2,_si7);var _super228=_createSuper(Y2);function Y2(t,e,r){var _this295;_classCallCheck(this,Y2);_this295=_super228.call(this,e);_this295.props=t;_this295.blurOperation=r;_this295.type="mirrored-blur";_this295.setProperties(t);return _this295;}_createClass(Y2,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(t){this.props=_objectSpread(_objectSpread({},this.props),t);var e=this.blurOperation.getOptions();var r=this.engine.getOutputContainer();var o=r.getBounds();var n=this.getContainer();var s=r.getBaseLocalToParentMatrix();var a=at.getBaseLocalToWorldMatrix(n);var l=wt.multiply(wt.getInverted(s),a);var c=Math.min(o.size.width,o.size.height);if(t.blurRadius!==void 0){var u=at.scalarFromSpaceToSpace(t.blurRadius,n,r);e.blurRadius=u/c;}if(t.gradientSize!==void 0){var _u6=at.scalarFromSpaceToSpace(t.gradientSize,n,r);var m=_u6/c;e.gradientSize=m;}if(t.clearAreaWidth!==void 0){var _u7=at.scalarFromSpaceToSpace(t.clearAreaWidth,n,r);var _m5=_u7/c;e.size=_m5*.5;}if(t.mirrorAxisOrigin!==void 0){var _u8=wt.transformPoint(l,t.mirrorAxisOrigin);var _m6=at.absoluteToRelativePoint(_u8,r,false);e.start=_m6;}if(t.mirrorAxisDirection!==void 0){var _u9=wt.transformPoint(l,t.mirrorAxisDirection);var _m7=at.absoluteToRelativePoint(_u9,r,false);e.end=_m7;}this.blurOperation.set(e);}},{key:"updateProperties",value:function updateProperties(){var t=this.getProperties();this.setProperties(t);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"mirrored-focus";}}]);return Y2;}(si);});var Kx;var Z2=d(function(){U();ur();bl();gl();Kx=/*#__PURE__*/function(_zr3){_inherits(Kx,_zr3);var _super229=_createSuper(Kx);function Kx(t,e,r,o){var _this296;_classCallCheck(this,Kx);_this296=_super229.call(this,o);_this296.settings=t;_this296.operation=e;_this296.flipOperation=r;_this296.type="output";_this296.flipTransform=wt.IDENTITY;_this296.blockTransformUpdate=false;_this296.transformUpdateWhileBlock=false;_this296.bounds=new je({x:0,y:0},_this296.settings.resolution);_this296.setData(t);return _this296;}_createClass(Kx,[{key:"pauseChildrenUpdates",value:function pauseChildrenUpdates(){this.transformUpdateWhileBlock=false;this.blockTransformUpdate=true;}},{key:"resumeChildrenUpdates",value:function resumeChildrenUpdates(){this.blockTransformUpdate=false;if(this.transformUpdateWhileBlock){this.updateChildrenContainers();}}},{key:"setData",value:function setData(t){this.settings=_objectSpread(_objectSpread({},this.settings),t);if(t.resolution){this.setBoundsFromSize(t.resolution.width,t.resolution.height);this.setTransform(this.transform);this.operation.set({outputResolution:new _jt(t.resolution.width,t.resolution.height)});}if(t.flipHorizontally!==void 0){var e=t.flipHorizontally;this.updateFlipTransform();this.flipOperation.set({flipHorizontally:e});}if(t.flipVertically!==void 0){var _e9=t.flipVertically;this.updateFlipTransform();this.flipOperation.set({flipVertically:_e9});}this.operation.setDirty(true);this.flipOperation.setDirty(true);}},{key:"getData",value:function getData(){return this.settings;}},{key:"setResolution",value:function setResolution(t){this.setData({resolution:t});}},{key:"getResolution",value:function getResolution(){return this.getData().resolution;}},{key:"setTransform",value:function setTransform(t){if(this.transform.rotation!==t.rotation||this.transform.position!==t.position||this.transform.scale!==t.scale){this.transform=t;var e=this.flipTransform;this.flipTransform=wt.IDENTITY;var r=this.engine.getRootContainers()[0];var o=at.pointFromSpaceToSpace({x:0,y:0},r,this);var n=-t.rotation;var s=_jt.fromObject(o).clone().subtract(_jt.fromObject(this.getBounds().origin));this.operation.set({pivot:new _jt(0,0),position:s,scale:new _jt(1/t.scale.x,1/t.scale.y),rotation:n});this.flipTransform=e;this.operation.setDirty(true);this.updateChildrenContainers();}}},{key:"rotate",value:function rotate(t,e){var r=this.getPivot();var o=this.getBounds();var n={x:o.midX,y:o.midY};var s=at.getPointInWorldSpace(n,this);this.setPivot(.5,.5);this.setPosition(s);this.setRotation(t);this.setResolution(e);var a={x:-e.width*(.5-r.x),y:-e.height*(.5-r.y)};var l=at.getPointInWorldSpace(a,this);this.setPivot(r);this.setPosition(l);this.updateChildrenContainers();}},{key:"setPivot",value:function setPivot(t,e){_get(_getPrototypeOf(Kx.prototype),"setPivotInternal",this).call(this,t,e);this.setTransform(this.transform);}},{key:"getTransform",value:function getTransform(){return this.transform;}},{key:"getBaseLocalToParentMatrix",value:function getBaseLocalToParentMatrix(){return at.rectTransformToAffineTransform(this.getTransform());}},{key:"getLocalToParentMatrix",value:function getLocalToParentMatrix(){var t=at.rectTransformToAffineTransform(this.getTransform());return wt.multiply(t,this.flipTransform);}},{key:"getFlipTransformMatrix",value:function getFlipTransformMatrix(){return this.flipTransform;}},{key:"isValid",value:function isValid(){return true;}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"updateFlipTransform",value:function updateFlipTransform(){var _this$settings=this.settings,t=_this$settings.flipHorizontally,e=_this$settings.flipVertically;if(!t&&!e){this.flipTransform=wt.IDENTITY;}else{var r=this.getPivot();var o=this.getBounds();var n=t?-1:1;var s=t?-2*(r.x-.5)*o.width:0;var a=e?-1:1;var l=e?-2*(r.y-.5)*o.height:0;this.flipTransform=new wt(n,0,0,a,s,l);}}},{key:"updateChildrenContainers",value:function updateChildrenContainers(){if(this.blockTransformUpdate){this.transformUpdateWhileBlock=true;return;}this.engine.rootOperations.forEach(function(t){if(jx(t)){t.updateTransform();if("updateData"in t){t.updateData();}}else if("updateProperties"in t){t.updateProperties();}});}}]);return Kx;}(zr);});var Xx;var Q2=d(function(){Go();Xx=/*#__PURE__*/function(_si8){_inherits(Xx,_si8);var _super230=_createSuper(Xx);function Xx(t,e,r){var _this297;_classCallCheck(this,Xx);_this297=_super230.call(this,r);_this297.overlayOperation=t;_this297.type="overlay";var o=e.blendMode||r.mapBlendMode(t.getBlendMode());t.set({blendMode:r.reverseMapBlendMode(o)});t.set({image:e.image});r.pesdk.setAllOperationsToDirty();return _this297;}_createClass(Xx,[{key:"getProperties",value:function getProperties(){var t=this.overlayOperation.getOptions();return{image:t.image,blendMode:this.engine.mapBlendMode(t.blendMode),opacity:t.alpha};}},{key:"setProperties",value:function setProperties(t){var e=this.overlayOperation.getOptions();if(typeof t.opacity==="number"){e.alpha=t.opacity;}if(t.blendMode!==void 0){e.blendMode=this.engine.reverseMapBlendMode(t.blendMode);}this.overlayOperation.set(e);this.overlayOperation.setDirty(true);}},{key:"getOperation",value:function getOperation(){return this.overlayOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"overlay";}},{key:"setFlipHorizontally",value:function setFlipHorizontally(t){this.overlayOperation.setFlipHorizontally(t);}},{key:"setFlipVertically",value:function setFlipVertically(t){this.overlayOperation.setFlipVertically(t);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.overlayOperation.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.overlayOperation.getFlipVertically();}}]);return Xx;}(si);});var tk;var ek=d(function(){U();ur();Go();tk=/*#__PURE__*/function(_si9){_inherits(tk,_si9);var _super231=_createSuper(tk);function tk(t,e,r){var _this298;_classCallCheck(this,tk);_this298=_super231.call(this,e);_this298.props=t;_this298.blurOperation=r;_this298.type="radial-blur";_this298.setProperties(t);return _this298;}_createClass(tk,[{key:"getProperties",value:function getProperties(){return this.props;}},{key:"setProperties",value:function setProperties(t){this.props=_objectSpread(_objectSpread({},this.props),t);var e=this.blurOperation.getOptions();var r=this.engine.getOutputContainer();var o=r.getBounds();var n=this.getContainer();var s=r.getBaseLocalToParentMatrix();var a=at.getBaseLocalToWorldMatrix(n);var l=wt.multiply(wt.getInverted(s),a);var c=Math.min(o.size.width,o.size.height);if(t.blurRadius!==void 0){var u=at.scalarFromSpaceToSpace(t.blurRadius,n,r);e.blurRadius=u/c;}if(t.center!==void 0){var _u10=wt.transformPoint(l,t.center);var m=at.absoluteToRelativePoint(_u10,r,false);e.position=m;}if(t.radius!==void 0){var _u11=at.scalarFromSpaceToSpace(t.radius,n,r);var _m8=_u11/c;e.radius=_m8;}if(t.gradientSize!==void 0){var _u12=at.scalarFromSpaceToSpace(t.gradientSize,n,r);var _m9=_u12/c;e.gradientRadius=_m9;}this.blurOperation.set(e);}},{key:"updateProperties",value:function updateProperties(){var t=this.getProperties();this.setProperties(t);}},{key:"getOperation",value:function getOperation(){return this.blurOperation;}},{key:"getTypeIdentifier",value:function getTypeIdentifier(){return"radial-focus";}}]);return tk;}(si);});var qx;var JN=d(function(){U();ur();mm();bl();gl();qx=/*#__PURE__*/function(_zr4){_inherits(qx,_zr4);var _super232=_createSuper(qx);function qx(t,e){var _this299;_classCallCheck(this,qx);_this299=_super232.call(this,e);_this299.data=t;_this299.type="sticker";var r=t.image;var o=_this299.engine.pesdk.parseExif(t.image);if(o){var s=o.getTags();if(s&&s.Orientation){var a=s.Orientation!==1&&s.Orientation!==2;var l=[2,4,5,7].indexOf(s.Orientation)!==-1;if(a||l){var c=_this299.engine.pesdk.createOperation("exif-orientation",{},false);c.setTags(s);r=c.applyTo(t.image);o.setOrientation(1);s.Orientation=1;}}}var n=new hp(r,{maxMegaPixels:{desktop:10,mobile:5}});r=n.downscaleIfNecessary();_this299.operation=e.createSpriteOperation();_this299.sprite=_this299.operation.createSticker({identifier:"",image:r,position:new _jt(0,0),dimensions:new _jt(1,1),rotation:0,smoothDownscaling:false});_this299.operation.addSprite(_this299.sprite);_this299.bounds=new je({x:0,y:0},{width:r.width,height:r.height});_this299.setTransform(_re.IDENTITY);_this299.sprite.setPivot(new _jt(0,0));_this299.operation.setDirty(true);_this299.setData(t);return _this299;}_createClass(qx,[{key:"setData",value:function setData(t){this.data=_objectSpread(_objectSpread({},this.data),t);if(t.id){this.id=t.id;}if(Yr(t.opacity)&&t.opacity>=0){this.sprite.setAlpha(t.opacity);}if(t.tintColor){this.sprite.setTintColor(dr(t.tintColor));}if(t.tintMode){this.sprite.setTintMode(t.tintMode);}this.operation.setDirty(true);}},{key:"getData",value:function getData(){return this.data;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(t){_get(_getPrototypeOf(qx.prototype),"setTransform",this).call(this,t);var e=this.engine.getOutputContainer();var r=this.getParent();var o={width:this.bounds.width*t.scale.x,height:this.bounds.height*t.scale.y};var n=at.sizeFromSpaceToSpace(o,r,e);this.sprite.setDimensions(_jt.fromSize(n));var s=at.pointFromSpaceToSpace(t.position,r,e,true);var a=at.absoluteToRelativePoint(s,e,false);this.sprite.setPosition(new _jt(a.x,a.y));var l=at.getRotationBetweenCoordinateSpaces(r,e);var c=t.rotation+l;this.sprite.setRotation(c);this.operation.setDirty(true);}},{key:"setPivot",value:function setPivot(t,e){this.setPivotOnSelfAndSprite(this.sprite,t,e);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(t){this.sprite.setFlipHorizontally(t);}},{key:"setFlipVertically",value:function setFlipVertically(t){this.sprite.setFlipVertically(t);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}}]);return qx;}(zr);});var pm,Slt,$h;var hm=d(function(){pm=function pm(i){return 2*Math.PI-i;};Slt=function Slt(i){return-i;};$h=function $h(_ref119){var i=_ref119.rotation,_ref119$outputRotatio=_ref119.outputRotation,t=_ref119$outputRotatio===void 0?0:_ref119$outputRotatio,e=_ref119.flipHorizontally,r=_ref119.flipVertically;var o=i;if(e){o=pm(o);}if(r){o=Slt(o);}return o+t;};});function wlt(i,t){if(t){var e=1/t.unitsPerEm*i;var r=t.ascender*e;var o=t.descender*e;return r+Math.abs(o);}return i*1.1;}function nu(i,t,e,r,o,n,s){i.font="".concat(e.fontStyle||"normal"," ").concat(e.fontWeight||"normal"," ").concat(r,"px \"").concat(e.fontFamily,"\"");var a=new _Yx(i);a.setText(t);a.setMaxWidth(n);var l=a.getLines().map(function(p){return p.replace(/\s+$/i,"");});var c=wlt(r,s);var u=c*o;var m=c/5;return{width:n+m*2,height:l.length*u+m*2};}var _Yx;var ik=d(function(){_Yx=/*#__PURE__*/function(){function Yx(t){_classCallCheck(this,Yx);this.context=t;this.sourceLines=[];this.maxWidth=100;}_createClass(Yx,[{key:"getLines",value:function getLines(){var t=[];var e=[];var r=this.sourceLines.length;for(var o=0;o<r;o+=1){var n=this.sourceLines[o];var s=_Yx.buildWords(n);var a=s.length;for(var l=0;l<a;l+=1){var c=s[l];var u=e.concat(c).join("").replace(/\s+$/i,"");var m=this.getWidth(u);if(m>this.maxWidth){if(e.length>0){t.push(e.join(""));e=[c];}var p=c.replace(/\s+$/i,"");if(this.getWidth(p)>this.maxWidth){var h=this.splitWord(c);t=t.concat(h.lines);if(h.rest){e=[h.rest];}}}else{e.push(c);}}t.push(e.join(""));e=[];}return t;}},{key:"splitWord",value:function splitWord(t){var e={lines:[],rest:null};var r=t.length;var o=[];for(var n=0;n<r;n+=1){var s=t[n];if(this.getWidth(o.concat(s).join(""))>this.maxWidth){if(o.length>0){e.lines.push(o.join(""));}o=[s];}else{o.push(s);}if(n===r-1&&o.length>0){e.rest=o.join("");}}return e;}},{key:"getWidth",value:function getWidth(t){return this.context.measureText(t).width;}},{key:"setText",value:function setText(t){this.sourceLines=t.split("\n");}},{key:"setMaxWidth",value:function setMaxWidth(t){this.maxWidth=t;}}],[{key:"buildWords",value:function buildWords(t){var e=[];var r="";var o=t.length;for(var n=0;n<o;n+=1){var s=t[n];r+=s;if(s===" "||s==="-"||n===o-1){e.push(r);r="";}}return e;}}]);return Yx;}();});var _qs;var ZN=d(function(){U();hm();ur();mm();bl();ik();gl();_qs=/*#__PURE__*/function(_zr5){_inherits(qs,_zr5);var _super233=_createSuper(qs);function qs(t,e){var _this300;_classCallCheck(this,qs);_this300=_super233.call(this,e);_this300.text=t;_this300.type="text";if(!_qs.measureContext){var l=document.createElement("canvas");_qs.measureContext=l.getContext("2d");}_this300.operation=e.createSpriteOperation();var r=_this300.engine.getOutputContainer();var o=_this300.getParent();var n=r.getBounds();_this300.sprite=_this300.operation.createText({text:t.text,position:new _jt(0,0),rotation:0,fontSize:at.scalarFromSpaceToSpace(t.fontSize/n.height,o,r),lineHeight:t.lineHeight,fontIdentifier:t.fontIdentifier,alignment:t.alignment,color:dr(t.textColor),backgroundColor:dr(t.backgroundColor),maxWidth:at.scalarFromSpaceToSpace(t.width/n.width,o,r)});var s=e.assetProvider.getFontManager().getFontWithId(t.fontIdentifier);_this300.sprite.setFontFamily(s.fontFamily);_this300.sprite.setFontWeight(s.fontWeight||"normal");_this300.sprite.setFontStyle(s.fontStyle||"normal");_this300.sprite.setFontIdentifier(s.identifier);_this300.sprite.setTextMetrics(s.textMetrics);_this300.sprite.setPivot(new _jt(0,0));_this300.operation.addSprite(_this300.sprite);var a=nu(_qs.measureContext,t.text,s,t.fontSize,t.lineHeight,t.width,s.textMetrics);_this300.bounds=new je(0,0,a.width,a.height);_this300.setTransform(_re.IDENTITY);_this300.operation.setDirty(true);return _this300;}_createClass(qs,[{key:"setData",value:function setData(t){this.text=_objectSpread(_objectSpread({},this.text),t);var e=this.engine.assetProvider.getFontManager().getFontWithId(t.fontIdentifier||this.text.fontIdentifier);if(t.fontIdentifier){this.sprite.setFontFamily(e.fontFamily);this.sprite.setFontWeight(e.fontWeight||"normal");this.sprite.setFontStyle(e.fontStyle||"normal");this.sprite.setFontIdentifier(e.identifier);this.sprite.setTextMetrics(e.textMetrics);}if(t.id){this.id=t.id;}if(t.text){this.sprite.setText(t.text);}if(t.fontSize){var o=this.engine.getOutputContainer();var n=this.getParent();var s=at.scalarFromSpaceToSpace(t.fontSize,n,o);var a=o.getBounds();this.sprite.setFontSize(s/a.height);}if(t.alignment){this.sprite.setAlignment(t.alignment);}if(t.lineHeight){this.sprite.setLineHeight(t.lineHeight);}if(t.textColor){this.sprite.setColor(dr(t.textColor));}if(t.backgroundColor){this.sprite.setBackgroundColor(dr(t.backgroundColor));}if(t.width){var _o10=this.engine.getOutputContainer();var _n9=this.getParent();var _s6=at.scalarFromSpaceToSpace(t.width,_n9,_o10);var _a4=_o10.getBounds();this.sprite.setMaxWidth(_s6/_a4.width);}var r=nu(_qs.measureContext,this.text.text,e,this.text.fontSize,this.text.lineHeight,this.text.width,e.textMetrics);this.setBoundsFromSize(r.width,r.height);this.operation.setDirty(true);}},{key:"getData",value:function getData(){return this.text;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(t){_get(_getPrototypeOf(qs.prototype),"setTransform",this).call(this,t);var e=this.engine.getOutputContainer();var r=this.getParent();var o=at.pointFromSpaceToSpace(t.position,r,e,true);var n=at.absoluteToRelativePoint(o,e,false);this.sprite.setPosition(new _jt(n.x,n.y));var s=at.getRotationBetweenCoordinateSpaces(r,e);this.sprite.setRotation(t.rotation+s);this.operation.setDirty(true);}},{key:"setPivot",value:function setPivot(t,e){this.setPivotOnSelfAndSprite(this.sprite,t,e);}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(t){this.sprite.setRotation(this.getFlippedRotation({flipHorizontally:t}));this.sprite.setFlipHorizontally(t);}},{key:"setFlipVertically",value:function setFlipVertically(t){this.sprite.setRotation(this.getFlippedRotation({flipVertically:t}));this.sprite.setFlipVertically(t);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}},{key:"getFlippedRotation",value:function getFlippedRotation(_ref120){var t=_ref120.flipVertically,e=_ref120.flipHorizontally;var r=t||this.getFlipVertically();var o=e||this.getFlipHorizontally();var n=this.getRotation();if(r||o){n=pm(n);}return n;}}]);return qs;}(zr);});var rk,_su;var QN=d(function(){U();ur();mm();bl();gl();rk=1e3;_su=/*#__PURE__*/function(_zr6){_inherits(su,_zr6);var _super234=_createSuper(su);function su(t,e,r){var _this301;_classCallCheck(this,su);_this301=_super234.call(this,r);_this301.textDesign=t;_this301.layout=e;_this301.type="text-design";_this301.currentLayoutSize=void 0;_this301.layoutID=e.identifier;_this301.operation=r.createSpriteOperation();var o=_this301.engine.getOutputContainer();var n=_this301.getParent();var s=o.getBounds();var a=Math.min(s.width,s.height);e.seed(t.seed);_this301.bounds=_this301.calculateBounds(_this301.textDesign,_this301.layout);var l=t.width;_this301.sprite=_this301.operation.createTextDesign({text:t.text,layout:e,inverted:t.inverted,color:dr(t.color),width:at.scalarFromSpaceToSpace(t.width/a,n,o),padding:t.padding/l,seed:t.seed});_this301.updatePivot();_this301.operation.addSprite(_this301.sprite);_this301.setTransform(_re.IDENTITY);_this301.operation.setDirty(true);return _this301;}_createClass(su,[{key:"calculateBounds",value:function calculateBounds(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=t.inverted&&r?Math.max(0,2*t.padding):0;var n=t.width/rk;if(this.currentLayoutSize===void 0){e.seed(t.seed);var s=e.generateLayoutData(t.text,rk);this.currentLayoutData=s;this.currentLayoutSize=s.getSize();}return new je(0,0,this.currentLayoutSize.width*n+o,this.currentLayoutSize.height*n+o);}},{key:"findNextUniqueSeed",value:function findNextUniqueSeed(t,e,r){var o=r;var n=this.currentLayoutData?_su.stringify(this.currentLayoutData.getRows()):"";var s;for(var a=0;a<20;a+=1){e.seed(o);s=e.generateLayoutData(t.text,rk);if(n===_su.stringify(s.getRows())){o+=1;}else{break;}}e.seed(o);this.currentLayoutData=s;return o;}},{key:"setData",value:function setData(t){this.textDesign=_objectSpread(_objectSpread({},this.textDesign),t);if(t.id){this.id=t.id;}if(t.padding!==void 0){var e=this.textDesign.width;this.sprite.setPadding(t.padding/e);}else if(t.width){this.textDesign.padding=this.sprite.getPadding()*this.textDesign.width;}if(t.seed!==void 0){if(t.seed<0){t.seed=this.findNextUniqueSeed(this.textDesign,this.layout,Date.now());this.textDesign.seed=t.seed;}this.currentLayoutSize=void 0;this.layout.seed(t.seed);this.sprite.setSeed(t.seed);this.sprite.setLayout(this.layout);}if(t.color){this.sprite.setColor(dr(t.color));}if(t.inverted!==void 0){this.sprite.setInverted(t.inverted);}if(t.text){this.currentLayoutSize=void 0;this.sprite.setText(t.text);}if(t.width){var _e10=this.engine.getOutputContainer();var r=this.getParent();var o=_e10.getBounds();var n=Math.min(o.width,o.height);var s=at.scalarFromSpaceToSpace(t.width/n,r,_e10);this.sprite.setWidth(s);}if(t.padding!==void 0||t.seed!==void 0||t.inverted!==void 0||t.text||t.width){var _e11=this.calculateBounds(this.textDesign,this.layout);this.setBoundsFromSize(_e11.width,_e11.height);this.updatePivot();}this.operation.setDirty(true);}},{key:"getData",value:function getData(){return this.textDesign;}},{key:"updateData",value:function updateData(){this.setData(this.getData());}},{key:"setTransform",value:function setTransform(t){_get(_getPrototypeOf(su.prototype),"setTransform",this).call(this,t);var e=this.engine.getOutputContainer();var r=this.getParent();if(t.scale.x!==1||t.scale.y!==1){throw new Error("This engine doesn't support scaling TextDesign containers! You can change the bounds using the width property of the TextDesign data.");}var o=at.pointFromSpaceToSpace(t.position,r,e,true);var n=at.absoluteToRelativePoint(o,e,false);this.sprite.setPosition(new _jt(n.x,n.y));var s=at.getRotationBetweenCoordinateSpaces(r,e);this.sprite.setRotation(t.rotation+s);this.operation.setDirty(true);}},{key:"setPivot",value:function setPivot(t,e){if(typeof t==="number"){_get(_getPrototypeOf(su.prototype),"setPivot",this).call(this,t,e);}else{_get(_getPrototypeOf(su.prototype),"setPivot",this).call(this,t);}this.updatePivot();}},{key:"getOperation",value:function getOperation(){return this.operation;}},{key:"getLayoutID",value:function getLayoutID(){return this.layoutID;}},{key:"setFlipHorizontally",value:function setFlipHorizontally(t){this.sprite.setFlipHorizontally(t);}},{key:"setFlipVertically",value:function setFlipVertically(t){this.sprite.setFlipVertically(t);}},{key:"getFlipHorizontally",value:function getFlipHorizontally(){return this.sprite.getFlipHorizontally();}},{key:"getFlipVertically",value:function getFlipVertically(){return this.sprite.getFlipVertically();}},{key:"updatePivot",value:function updatePivot(){var t=this.textDesign.inverted?Math.max(0,this.textDesign.padding):0;var e=new R(this.bounds.width-2*t,this.bounds.height-2*t);var r=this.getPivot();var o=new R(r.x*this.bounds.width,r.y*this.bounds.height);var n=new R(t,t);var s=o.subtract(n);var a=s.divide(e);this.sprite.setPivot(new _jt(a.x,a.y));}}],[{key:"stringify",value:function stringify(t){return JSON.stringify(t,_su.serializer());}},{key:"serializer",value:function serializer(){var t=[];var e=[];var r=function r(o,n){if(t[0]===n)return"[Circular ~]";return"[Circular ~.".concat(e.slice(0,t.indexOf(n)).join("."),"]");};return function o(n,s){var a=this;if(t.length>0){var l=t.indexOf(a);if(~l){t.splice(l+1);e.splice(l,Infinity,n);}else{t.push(a);e.push(n);}if(~t.indexOf(s)){s=r.call(a,n,s);}}else{t.push(s);}return s;};}}]);return su;}(zr);});var ai,Jx,fm;var tH=d(function(){Vh();Tt();O();U();ur();L2();XN();N2();qN();YN();V2();j2();K2();q2();J2();Z2();Q2();ek();JN();ZN();QN();gl();ai=st.Operations.OverlayOperation.BLEND_MODES;Jx="imgly_font_open_sans_bold";fm=/*#__PURE__*/function(_P2){_inherits(fm,_P2);var _super235=_createSuper(fm);function fm(t){var _this302;_classCallCheck(this,fm);_this302=_super235.call(this,t);_this302.previews=Array();_this302.rootOperationStack=[];_this302.deferredRenderQueue=[];_this302.operationStackOffset=1;_this302.enforceOperationOrder=function(){_this302.refreshFlipIndex();_this302.refreshFrameIndex();};_this302.isSpriteTop=function(t){var e=_this302.rootOperationStack.findIndex(function(_ref121){var o=_ref121.id;return t===o;});var r=1;if(_this302.rootOperationStack.find(function(o){return o.type==="frame";})){r+=1;}return e+r===_this302.rootOperationStack.length;};_this302.setWatermarkOpacity=function(t){var e=_this302.sdk.getOperationsStack();var r=e.getByIdentifier("watermark");if(r){r.set({alpha:t});}};var r,o;_this302.assetProvider=t.assetProvider||new _p();var e;if(((r=t==null?void 0:t.watermark)==null?void 0:r.watermarkURI)&&typeof t.watermark.watermarkURI==="string"&&t.watermark.watermarkURI.slice(0,5)==="data:"){e=t.watermark.watermarkURI;}else if(((o=t==null?void 0:t.watermark)==null?void 0:o.watermarkURI)&&typeof t.watermark.watermarkURI==="string"&&t.watermark.watermarkURI.trim()){e=cn(t.watermark.watermarkURI)?t.watermark.watermarkURI:_this302.assetProvider.getPath(t.watermark.watermarkURI);}_this302.wrapper=new Xs({license:t.license,crossOrigin:t.crossOrigin,assets:{resolver:function resolver(n,s){return _this302.resolveAssetForSDK(n,s);}},editor:{preferredRenderer:t.preferredRenderer,pixelRatio:1,clearColor:ct(t.backgroundColor)},watermark:_objectSpread(_objectSpread({},ct(t.watermark)),{},{watermarkURI:e})});_this302.editor=_this302.wrapper.getEditor();_this302.sdk=_this302.editor.getSDK();_this302.sdk.setRenderMode("adapter");_this302.tempCanvas=document.createElement("canvas");_this302.sdk.setCanvas(_this302.tempCanvas);if(t.preferredRenderer==="webgl"){var n=document.createElement("canvas");var s=n.getContext("webgl")||n.getContext("experimental-webgl");_this302.maxTextureDimension=s.getParameter(s.MAX_TEXTURE_SIZE);$t(n);}else{_this302.maxTextureDimension=Infinity;}return _this302;}_createClass(fm,[{key:"configuration",get:function get(){return this.config;}},{key:"pesdk",get:function get(){return this.sdk;}},{key:"rootOperations",get:function get(){return this.rootOperationStack;}},{key:"dispose",value:function dispose(){$t(this.tempCanvas);this.rootContainer.dispose();this.pesdk.dispose();this.wrapper.dispose();}},{key:"render",value:function render(t){var _this303=this;return new Promise(function(e){var r=function r(){return new Promise(function(o){var n=t.canvas;var s=t.getTransform();var a=_this303.outputContainer.getPivot();var l=t.getCanvasBounds();var c=t.quality;var u=_this303.tempCanvas;_this303.sdk.setTextureQuality(c);var m=_this303.sdk.getOutputDimensions();u.width=m.x;u.height=m.y;_this303.sdk.getRenderer().resizeTo(new _jt(u.width,u.height));return _this303.sdk.render(true).then(function(){var p=n.getContext("2d");p.clearRect(0,0,n.width,n.height);p.save();p.translate(-l.minX,-l.minY);p.translate(s.position.x,s.position.y);p.rotate(s.rotation);p.scale(s.scale.x,s.scale.y);p.translate(-a.x*u.width,-a.y*u.height);p.scale(1/t.quality,1/t.quality);p.drawImage(u,0,0);p.restore();e();_this303.deferredRenderQueue.shift();if(_this303.deferredRenderQueue.length){_this303.sdk.setAllOperationsToDirty();Promise.resolve(_this303.deferredRenderQueue[0]().then(o));}else{o();}});});};_this303.deferredRenderQueue.push(r);if(_this303.deferredRenderQueue.length===1){r();}});}},{key:"createPreview",value:function createPreview(t){var e=new A2(t,this);this.previews.push(e);return e;}},{key:"export",value:function(){var _export2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(){var _this304=this;var t,e,r,o,n,_args15=arguments;return regeneratorRuntime.wrap(function _callee14$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:t=_args15.length>0&&_args15[0]!==undefined?_args15[0]:"image";e=_args15.length>1&&_args15[1]!==undefined?_args15[1]:"image/png";r=_args15.length>2&&_args15[2]!==undefined?_args15[2]:1;o=_args15.length>3&&_args15[3]!==undefined?_args15[3]:true;n=_args15.length>4&&_args15[4]!==undefined?_args15[4]:false;return _context15.abrupt("return",new Promise(function(s){var a=function a(){return new Promise(function(l){return _this304.sdk["export"](_this304.mapToRenderType(t),_this304.mapToImageFormat(e),r,o,n).then(function(c){s(c);_this304.deferredRenderQueue.shift();if(_this304.deferredRenderQueue.length){Promise.resolve(_this304.deferredRenderQueue[0]().then(l));}else{l();}});});};_this304.deferredRenderQueue.push(a);if(_this304.deferredRenderQueue.length===1){a();}}));case 6:case"end":return _context15.stop();}}},_callee14);}));function _export(){return _export2.apply(this,arguments);}return _export;}()},{key:"getRootContainers",value:function getRootContainers(){return[this.rootContainer];}},{key:"getOutputContainer",value:function getOutputContainer(){return this.outputContainer;}},{key:"findContainerByID",value:function findContainerByID(t){if(t===this.rootContainer.getID()){return this.rootContainer;}return this.rootOperationStack.find(function(e){return e.getID()===t;});}},{key:"findEffectByID",value:function findEffectByID(t){return this.rootOperationStack.find(function(e){return e.getID()===t;});}},{key:"addImage",value:function addImage(t,e,r){if(this.rootContainer){throw new Error("A background image already exists - did you mean to use addSticker?");}var o=new $x(t,this);this.rootContainer=o;if(!this.outputContainer){var _o$getBounds=o.getBounds(),n=_o$getBounds.width,s=_o$getBounds.height;var a={resolution:{width:n,height:s},flipHorizontally:false,flipVertically:false};var l=this.sdk.createOperation("output",{},false);var c=this.sdk.createOperation("flip",{},false);this.insertIntoOperationsStack(l,this.operationStackOffset-1);this.insertIntoOperationsStack(c,this.operationStackOffset);this.outputContainer=new Kx(a,l,c,this);}return o;}},{key:"addSticker",value:function addSticker(t,e,r){if(!e){throw new Error("This engine does not support adding stickers as root elements.");}this.ensureContainerIsRoot(e);var o=new qx(t,this);this.addToStackAtIndex(o,r);return o;}},{key:"addStickerFromAssets",value:function addStickerFromAssets(t,e,r){var _this305=this;if(!e){throw new Error("This engine does not support adding stickers as root elements.");}this.ensureContainerIsRoot(e);return new Promise(function(o,n){var s=new Image();s.onload=function(){var a={image:s,opacity:1};var l=new qx(a,_this305);_this305.addToStackAtIndex(l,r);o(l);};s.onerror=function(a){n(a);};s.crossOrigin=_this305.config.crossOrigin||null;s.src=_this305.assetProvider.getAssetSource("sticker",t);});}},{key:"addText",value:function addText(t,e,r){if(!e){throw new Error("This engine does not support adding text as root elements.");}var o=this.assetProvider.getFontManager();if(!o.isFontLoaded(t.fontIdentifier||Jx)){throw new Error("Adding text synchronously only works if the required font is already loded! Consider using the asynchronous addTextWithFontLoading function instead!");}this.ensureContainerIsRoot(e);var n=_objectSpread({text:"",fontIdentifier:Jx,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},t);var s=new _qs(n,this);this.addToStackAtIndex(s,r);return s;}},{key:"addTextWithFontLoading",value:function addTextWithFontLoading(t,e,r){var _this306=this;if(!e){throw new Error("This engine does not support adding text as root elements.");}var o=this.assetProvider.getFontManager();var n=t.fontIdentifier||Jx;return new Promise(function(s,a){o.loadFontWithIdentifier(n).then(function(){_this306.ensureContainerIsRoot(e);var l=_objectSpread({text:"",fontIdentifier:Jx,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},t);var c=new _qs(l,_this306);_this306.addToStackAtIndex(c,r);s(c);})["catch"](a);});}},{key:"addTextDesignAsync",value:function(){var _addTextDesignAsync=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(){var _this307=this;var t,e,r,o,n,s,a,l,c,u,m,p,_args16=arguments;return regeneratorRuntime.wrap(function _callee15$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:t=_args16.length>0&&_args16[0]!==undefined?_args16[0]:"imgly_text_design_blocks";e=_args16.length>1?_args16[1]:undefined;r=_args16.length>2?_args16[2]:undefined;o=_args16.length>3?_args16[3]:undefined;if(r){_context16.next=6;break;}throw new Error("This engine does not support adding TextDesign as a root element.");case 6:n=_objectSpread({seed:Date.now(),padding:0,text:"",color:[0,0,0],inverted:false,width:100},e);s=this.wrapper.getTextDesignLayoutByID(t);if(s){_context16.next=10;break;}throw new Error("The layout could not be loaded for the given id: ".concat(t));case 10:a=s.getImagePaths().map(function(h){var g=h.split("/").pop()||"";return{path:h,fullPath:_this307.assetProvider.getAssetSource("textdesign",g)};});l=this.wrapper.getTextDesignAssetManager();c=this.wrapper.getTextDesignFontManager();u=c.getVariationsByIdentifier();l.setFonts(u);_context16.next=17;return l.loadImages(a);case 17:s.onImagesLoaded();m=Object.keys(u);p=this.assetProvider.getFontManager();return _context16.abrupt("return",p.loadFontsWithIdentifiers(m).then(function(){_this307.ensureContainerIsRoot(r);var h=new _su(n,s,_this307);_this307.addToStackAtIndex(h,o);return Promise.resolve(h);}));case 21:case"end":return _context16.stop();}}},_callee15,this);}));function addTextDesignAsync(){return _addTextDesignAsync.apply(this,arguments);}return addTextDesignAsync;}()},{key:"addDrawing",value:function addDrawing(t,e,r){if(!e){throw new Error("This engine does not support DrawingContainers as root elements.");}this.ensureContainerIsRoot(e);var o=new z2(t,this);this.addToStackAtIndex(o,r);return o;}},{key:"addGaussianBlur",value:function addGaussianBlur(t,e,r){this.ensureContainerIsRoot(e);var o=new G2(t,this,this.sdk.createOperation("blur",{},false));this.addToStackAtIndex(o,r);return o;}},{key:"addRadialBlur",value:function addRadialBlur(t,e,r){this.ensureContainerIsRoot(e);var o=new tk(t,this,this.sdk.createOperation("radial-focus",{},false));this.addToStackAtIndex(o,r);return o;}},{key:"addMirroredBlur",value:function addMirroredBlur(t,e,r){this.ensureContainerIsRoot(e);var o=new Y2(t,this,this.sdk.createOperation("mirrored-focus",{},false));this.addToStackAtIndex(o,r);return o;}},{key:"addLinearBlur",value:function addLinearBlur(t,e,r){this.ensureContainerIsRoot(e);var o=new $2(t,this,this.sdk.createOperation("linear-focus",{},false));this.addToStackAtIndex(o,r);return o;}},{key:"addDuoToneFilter",value:function addDuoToneFilter(t,e,r){throw new Error("Not supported! Use addDuoToneFilterFromAssets instead");}},{key:"addDuoToneFilterFromAssets",value:function addDuoToneFilterFromAssets(t,e,r){var _this308=this;this.ensureContainerIsRoot(e);var o=this.sdk.getOperationsStack();var n=o.getByIdentifier("filter");if(n&&n.getIdentifier()!==t){this.sdk.removeOperation(n);}var s=n||this.sdk.createOperation("filter",{identifier:t},false);return new Promise(function(a,l){try{var c=_this308.assetProvider.getDuotoneFilterAsset(t);var u={colorIntensity:c.defaultIntensity||0};var m=new st.Operations.FilterOperation.Filters.DuoToneFilter({intensity:u.colorIntensity,lightColor:st.Color.fromHex(c.lightColor),darkColor:st.Color.fromHex(c.darkColor)});var p=new U2(m,s,u,_this308);_this308.addToStackAtIndex(p,r);a(p);}catch(c){if(c){l(c);}}});}},{key:"addLUTFilter",value:function addLUTFilter(t,e,r){throw new Error("Not supported! Use addLUTFilterFromAssets instead");}},{key:"addLUTFilterFromAssets",value:function addLUTFilterFromAssets(t,e,r){var _this309=this;this.ensureContainerIsRoot(e);var o=this.sdk.getOperationsStack();var n=o.getByIdentifier("filter");if(n&&n.getIdentifier()!==t){this.sdk.removeOperation(n);}var s=n||this.sdk.createOperation("filter",{identifier:t},false);return this.getLutFilterImage(t).then(function(a){var l=_this309.assetProvider.getLUTFilterAsset(t);var c={horizontalTileCount:l.horizontalTileCount||5,verticalTileCount:l.verticalTileCount||5,intensity:l.defaultIntensity||1};var u=new st.Operations.FilterOperation.Filters.ThreeDLUTFilter(_objectSpread(_objectSpread({},c),{},{image:a}));var m=_objectSpread(_objectSpread({},c),{},{lutImage:new Image()});var p=new X2(u,s,m,_this309);_this309.addToStackAtIndex(p,r);return p;});}},{key:"getLutFilterImage",value:function getLutFilterImage(t){var _this310=this;return new Promise(function(e,r){oS({src:_this310.assetProvider.getAssetSource("filter",t),crossOrigin:_this310.config.crossOrigin||null,key:"filter",resolve:e,reject:r});});}},{key:"addAdjustments",value:function addAdjustments(t,e,r){this.ensureContainerIsRoot(e);var o=new M2(t,this,this.sdk.createOperation("adjustments",{},false));this.addToStackAtIndex(o,r);return o;}},{key:"addOverlay",value:function addOverlay(t,e,r){this.ensureContainerIsRoot(e);var o=new Xx(this.sdk.createOperation("overlay",{},false),t,this);this.addToStackAtIndex(o,r);return o;}},{key:"addOverlayFromAssets",value:function addOverlayFromAssets(t,e,r){var _this311=this;this.ensureContainerIsRoot(e);return new Promise(function(o,n){oS({src:_this311.assetProvider.getAssetSource("overlay",t),crossOrigin:_this311.config.crossOrigin||null,key:"overlay",resolve:function resolve(s){var a=_this311.sdk.getOperationsStack();var l=a.getByIdentifier("overlay");if(l&&l.getIdentifier()!==t){a.remove(l);}var c=l||_this311.sdk.createOperation("overlay",{},false);var u={image:s,opacity:1,blendMode:"normal"};var m=new Xx(c,u,_this311);_this311.addToStackAtIndex(m,r);o(m);},reject:n});});}},{key:"addFrame",value:function addFrame(t,e,r){throw new Error("Not supported!");}},{key:"addFrameFromAssets",value:function(){var _addFrameFromAssets=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t,e,r){var o,n,s,a,l,c,u;return regeneratorRuntime.wrap(function _callee16$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:this.ensureContainerIsRoot(e);o=this.assetProvider.getFrameAsset(t);if(o){_context17.next=4;break;}throw new Error("The requested asset does not exist! ".concat(t));case 4:n=new H2(o,this);_context17.next=7;return n.load();case 7:s=this.getOutputContainer().getBounds();a=Math.min(s.width,s.height);l=this.sdk.createOperation("frame",{},false);l.setFrame(n.getFrame());c={opacity:1,tintColor:[1,1,1],tintable:false,width:Math.max(1,.1*a),imageGroups:n.getFrame().imageGroups};u=new W2(l,c,this);this.addToStackAtIndex(u,r);return _context17.abrupt("return",Promise.resolve(u));case 15:case"end":return _context17.stop();}}},_callee16,this);}));function addFrameFromAssets(_x21,_x22,_x23){return _addFrameFromAssets.apply(this,arguments);}return addFrameFromAssets;}()},{key:"removeEffect",value:function removeEffect(t){if(!t.isValid()){return;}var e=t;var r=e.getOperation();this.sdk.removeOperation(r);this.sdk.setAllOperationsToDirty();this.rootOperationStack.splice(t.getIndexInParent(),1);}},{key:"removeContainer",value:function removeContainer(t){if(!t.isValid()||t.type==="output"){return;}var e=t;var r=e.getOperation();this.sdk.removeOperation(r);this.sdk.setAllOperationsToDirty();this.rootOperationStack.splice(t.getIndexInParent(),1);}},{key:"refreshOutputIndex",value:function refreshOutputIndex(){var t=this.sdk.getOperationsStack().getIndexByIdentifier("output");this.moveInOperationsStack(t,this.operationStackOffset-1);}},{key:"refreshFlipIndex",value:function refreshFlipIndex(){var t=this.sdk.getOperationsStack().getIndexByIdentifier("flip");var e=this.sdk.getOperationsStack().getStack().length-1;if(t!==e){this.moveInOperationsStack(t,e);}}},{key:"refreshFrameIndex",value:function refreshFrameIndex(){var t=this.sdk.getOperationsStack().getIndexByIdentifier("frame");var e=this.sdk.getOperationsStack().getStack().length-1;if(t!==-1&&t!==e){this.moveInOperationsStack(t,e);}}},{key:"mapToRenderType",value:function mapToRenderType(t){switch(t){case"image":return st.RenderType.IMAGE;case"data-url":return st.RenderType.DATAURL;case"blob":return st.RenderType.BLOB;case"ms-blob":return st.RenderType.MSBLOB;default:return st.RenderType.IMAGE;}}},{key:"mapToImageFormat",value:function mapToImageFormat(t){switch(t){case"image/png":return st.ImageFormat.PNG;case"image/jpeg":return st.ImageFormat.JPEG;default:return null;}}},{key:"mapBlendMode",value:function mapBlendMode(t){switch(t){case ai.NORMAL:return"normal";case ai.OVERLAY:return"overlay";case ai.HARD_LIGHT:return"hardLight";case ai.SOFT_LIGHT:return"softLight";case ai.MULTIPLY:return"multiply";case ai.DARKEN:return"darken";case ai.LIGHTEN:return"lighten";case ai.SCREEN:return"screen";case ai.COLOR_BURN:return"colorBurn";default:return"normal";}}},{key:"reverseMapBlendMode",value:function reverseMapBlendMode(t){switch(t){case"normal":return ai.NORMAL;case"overlay":return ai.OVERLAY;case"hardLight":return ai.HARD_LIGHT;case"softLight":return ai.SOFT_LIGHT;case"multiply":return ai.MULTIPLY;case"darken":return ai.DARKEN;case"lighten":return ai.LIGHTEN;case"screen":return ai.SCREEN;case"colorBurn":return ai.COLOR_BURN;default:return ai.NORMAL;}}},{key:"createSpriteOperation",value:function createSpriteOperation(){return this.sdk.createOperation("sprite",{},false);}},{key:"moveIndex",value:function moveIndex(t,e){var r=this.getSiblingIndex(t);if(r===-1){throw new Error("The item to be moved is not part of any stack.");}this.moveInStack(this.rootOperationStack,r,e);var o=this.operationStackOffset;this.moveInOperationsStack(r+o,e+o);this.enforceOperationOrder();}},{key:"ensureContainerIsRoot",value:function ensureContainerIsRoot(t){var e=t.getID();if(e!==this.rootContainer.getID()){throw new Error("This engine doesn't support adding this effect/container to anything other than the root image container");}}},{key:"addToStackAtIndex",value:function addToStackAtIndex(t,e){if(e&&e<0){throw new Error("The given index may not be negative: ".concat(e));}if(e===void 0){this.rootOperationStack.push(t);}else{this.rootOperationStack.splice(e,0,t);}var r=this.rootOperationStack.length-1;var o=e!==void 0?e:r;o+=this.operationStackOffset;if(EN(t)){this.insertIntoOperationsStack(t.getOperation(),o);}else{this.insertIntoOperationsStack(t.getOperation(),o);}this.sdk.setAllOperationsToDirty();}},{key:"insertIntoOperationsStack",value:function insertIntoOperationsStack(t,e){var r=this.sdk.getOperationsStack().getStack();var o=r.length;var n=Math.max(Math.min(e,o),0);for(var s=o-1;s>=n;s-=1){var a=r[s];r[s+1]=a;}r[n]=t;this.sdk.setAllOperationsToDirty();this.enforceOperationOrder();}},{key:"moveInStack",value:function moveInStack(t,e,r){var o=t.length;var n=Math.max(Math.min(e,o-1),0);var s=Math.max(Math.min(r,o-1),0);if(n===s){return;}var a=t[n];if(n<s){for(var l=n+1;l<=s;l+=1){t[l-1]=t[l];}}else{for(var _l5=n-1;_l5>=s;_l5-=1){t[_l5+1]=t[_l5];}}t[s]=a;}},{key:"moveInOperationsStack",value:function moveInOperationsStack(t,e){var r=this.sdk.getOperationsStack().getStack();var o=r.length;var n=Math.min(Math.max(0,t),o-1);var s=Math.min(Math.max(0,e),o-1);if(n===s){return;}var a=r[n];if(n<s){for(var l=n+1;l<=s;l+=1){r[l-1]=r[l];}}else{for(var _l6=n-1;_l6>=s;_l6-=1){r[_l6+1]=r[_l6];}}r[s]=a;this.sdk.getOperationsStack().setAllToDirty();}},{key:"getSiblingIndex",value:function getSiblingIndex(t){return t.getIndexInParent();}},{key:"resolveAssetForSDK",value:function resolveAssetForSDK(t,e){e=e;switch(t){case"filter":return this.assetProvider.getAssetSource("filter",e.identifier);case"overlay":return this.assetProvider.getAssetSource("overlay",e.identifier);case"font":return this.assetProvider.getAssetSource("font",e.identifier);default:return"";}return"";}}]);return fm;}(P2);});var Zx;var eH=d(function(){Vh();O();Zx=/*#__PURE__*/function(){function Zx(t){var _this312=this;_classCallCheck(this,Zx);this.isEmpty=false;this.isValid=false;this.isWhiteLabel=function(){return _this312.isValid&&_this312.licenseChecker.isWhiteLabel();};this.areCustomAssetsAllowed=function(){return _this312.isEmpty||!_this312.isValid||_this312.licenseChecker.areCustomAssetsAllowed();};if(t&&t.length!==0){this.licenseChecker=new st.LicenseChecker(t);this.isValid=this.licenseChecker.validate();}else if(t===""){this.isEmpty=true;}}_createClass(Zx,[{key:"isToolAllowed",value:function isToolAllowed(t){if(this.licenseChecker&&this.isValid&&t!=="customTool"){return this.licenseChecker.isToolAllowed(t);}return true;}}]);return Zx;}();});var iH=d(function(){tH();bl();Go();j2();Z2();V2();ek();J2();K2();N2();q2();L2();Q2();ik();eH();});var zn=d(function(){iH();ur();});var ok,rH,Un,Vo,mr,nk;var pr=d(function(){zn();ok=function ok(i){var t=Number(i).toString(16);if(t.length<2){t="0".concat(t);}return t;};rH=function rH(i,t,e){var r=ok(i*255);var o=ok(t*255);var n=ok(e*255);return"#".concat(r).concat(o).concat(n);};Un=function Un(i){if(Vx(i)){var _i4=_slicedToArray(i,4),t=_i4[0],e=_i4[1],r=_i4[2],o=_i4[3];return"rgba(".concat(t*255,", ").concat(e*255,", ").concat(r*255,", ").concat(o,")");}if(Gx(i)){var _t30=i.r,_e12=i.g,_r11=i.b,_o11=i.a;return"rgba(".concat(_t30*255,", ").concat(_e12*255,", ").concat(_r11*255,", ").concat(_o11,")");}if(Wx(i)){var _i5=_slicedToArray(i,3),_t31=_i5[0],_e13=_i5[1],_r12=_i5[2];return rH(_t31,_e13,_r12);}if(Hx(i)){var _t32=i.r,_e14=i.g,_r13=i.b;return rH(_t32,_e14,_r13);}return i;};Vo=function Vo(i){return i.map(function(t){return{identifier:t.name,color:t.color,colorString:Un(t.color)};});};mr={black:[0/255,0/255,0/255,1],white:[255/255,255/255,255/255,1],gray:[191/255,191/255,191/255,1],blue:[102/255,134/255,255/255,1],skyBlue:[102/255,204/255,255/255,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[255/255,247/255,99/255,1]};nk={transparent:[0/255,0/255,0/255,0],black:[0/255,0/255,0/255,1],white:[255/255,255/255,255/255,1],blue:[102/255,134/255,255/255,1],skyBlue:[102/255,204/255,255/255,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[255/255,247/255,99/255,1]};});var Qx;var sk=d(function(){O();Qx=["library",["transform","filter","adjustment"],["focus","frame","overlay"],["text","textdesign","sticker","brush"]];});var yl;var t0=d(function(){O();U();sk();yl={image:"",license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:["undo","redo","export","close"],displayResizeWarning:false,displayCloseWarning:true,displayCanvasRendererWarning:true,displayToolControlBarTitle:true,displaySerializationModal:true,displayDiscardChangesWarning:true,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}},preferredRenderer:WF()?"webgl":"canvas",backgroundColor:[0,0,0,1]},enableZoom:true,scaleImageToFit:true,restrictZoomOutToDefault:true,forceCrop:false,assetBaseUrl:"assets/",defaultTool:"filter",tools:Qx,snapping:new Kg(),filter:new Yg(),focus:new Jg(),adjustment:new qg(),library:new rb(),overlay:new ob(),sticker:new nb(),text:new sb(),textdesign:new lb(),frame:new Zg(),brush:new ab(),transform:new cb(),"export":{image:{exportType:"image",format:"image/png",quality:.9,enableDownload:true,transparent:true},filename:"photoeditorsdk-export"},custom:{},watermark:new Xg()};});var oH=d(function(){});var au;var e0=d(function(){var _au;O();au=(_au={},_defineProperty(_au,"brightness",0),_defineProperty(_au,"saturation",0),_defineProperty(_au,"contrast",0),_defineProperty(_au,"gamma",0),_defineProperty(_au,"clarity",0),_defineProperty(_au,"exposure",0),_defineProperty(_au,"shadows",0),_defineProperty(_au,"highlights",0),_defineProperty(_au,"whites",0),_defineProperty(_au,"blacks",0),_defineProperty(_au,"temperature",0),_defineProperty(_au,"sharpness",0),_au);});var Zi=d(function(){});var _Ne;var Nn=d(function(){U();_Ne=/*#__PURE__*/function(){function Ne(t,e){var _this313=this;_classCallCheck(this,Ne);this.assets=[];this.entityMapper=function(t){if("items"in t){return _this313.categoryMapper(t);}return _this313.itemMapper(t);};this.categoryMapper=function(t){return t?_objectSpread(_objectSpread({},t),{},{thumbnailURI:_this313.getCategoryThumbnailURI(t),name:_this313.config.locale[t.identifier]||t.name,items:t.items.map(_this313.itemMapper)}):null;};this.itemMapper=function(t){return _objectSpread(_objectSpread({},t),{},{thumbnailURI:_this313.getItemThumbnailURI(t),name:_this313.config.locale[t.identifier]||("name"in t?t.name:"")});};this.getCategoryThumbnailURI=function(t){if(t.thumbnailURI){if(cn(t.thumbnailURI)||t.thumbnailURI.substr(0,10)==="data:image"){return t.thumbnailURI;}return _this313.config.getAssetPath(t.thumbnailURI||"");}return"";};this.getItemThumbnailURI=function(t){var r;if((r=t.thumbnailURI)==null?void 0:r.trim()){if(cn(t.thumbnailURI)||t.thumbnailURI.substr(0,10)==="data:image"){return t.thumbnailURI;}return _this313.config.getAssetPath(t.thumbnailURI||"");}var e=t[_this313.config.itemFallbackKey];if(!e)return"";return _this313.config.getAssetPath(e);};this.config=e;this.assets=t.map(this.entityMapper).filter(Boolean);}_createClass(Ne,[{key:"categories",get:function get(){return this.assets.reduce(function(t,e){if(_Ne.isCategory(e)){return[].concat(_toConsumableArray(t),[e]);}return void 0;},[]).filter(Boolean);}},{key:"items",get:function get(){return this.assets.reduce(function(t,e){if(_Ne.isCategory(e)){return[].concat(_toConsumableArray(t),_toConsumableArray(e.items));}return[].concat(_toConsumableArray(t),[e]);},[]).filter(Boolean);}}],[{key:"isCategory",value:function isCategory(t){return Object.prototype.hasOwnProperty.call(t,"items");}}]);return Ne;}();});var Ys;var Kh=d(function(){Ys=/*#__PURE__*/function(){function Ys(t,e){_classCallCheck(this,Ys);this.from=t;this.to=e;}_createClass(Ys,[{key:"contains",value:function contains(t){return this.from<=t&&t<=this.to;}},{key:"clamp",value:function clamp(t){return Math.min(Math.max(this.from,t),this.to);}}]);return Ys;}();});var Tlt,gm;var nH=d(function(){Tt();O();Kh();e0();Tlt=new Ys(-1,1);gm=/*#__PURE__*/function(){function gm(t){var _this314=this;_classCallCheck(this,gm);this.editAdjustments=function(_ref122){var t=_ref122.type,e=_ref122.value;var r=Tlt.clamp(e);_this314.state[t]=r;};this.reset=function(){Ve(function(){if(_this314.indexInContainer===-1){Object.keys(au).forEach(function(t){_this314.state[t]=au[t];});_this314.orderHelper.removeIndex("adjustment");}});};this.setAdjustmentEffect=function(t){var e=_this314.orderHelper.addIndex("adjustment");if(_this314.effect){_this314.effect.setProperties(t);}else{_this314.effect=_this314.engineMediator.engine.addAdjustments(t,_this314.engineMediator.image.container,e);}return _this314.effect.getProperties();};this.removeAdjustmentEffect=function(){if(_this314.effect){_this314.engineMediator.engine.removeEffect(_this314.effect);if(_this314.indexInContainer===-1){_this314.effect=void 0;}}};this.engineMediator=t;this.state=au;}_createClass(gm,[{key:"indexInContainer",get:function get(){if(this.effect){return this.effect.getIndexInParent();}return-1;}},{key:"orderHelper",get:function get(){return this.engineMediator.orderHelper;}}]);return gm;}();f([Q],gm.prototype,"state",2);f([C],gm.prototype,"editAdjustments",2);f([C],gm.prototype,"reset",2);});var Zt;var sH=d(function(){Tt();O();U();Zi();Nn();e0();nH();Zt=/*#__PURE__*/function(){function Zt(t){var _this315=this;_classCallCheck(this,Zt);this.dirty=Q.box(false);this.isHistoryChanged=false;this.editAdjustments=function(_ref123){var t=_ref123.type,e=_ref123.value;_this315.isHistoryChanged=!(0,Ye["default"])(_this315.state[t],e);_this315.pureSetAdjustment({type:t,value:e});_this315.editor.render();};this.toolSnapshot=function(){if((0,Ye["default"])(_this315.state,au)){_this315.dirty.set(false);}else{_this315.dirty.set(true);}if(_this315.isHistoryChanged){_this315.addSnapshot("edit","adjustment");_this315.isHistoryChanged=false;}};this.addSnapshot=function(t,e){_this315.editor.addSnapshot(void 0,t,e);};this.toggleOptionSelection=function(t){_this315.selectedOption=t;};this.pureSetAdjustment=function(_ref124){var t=_ref124.type,e=_ref124.value;var r=_this315.adjustmentsStore.setAdjustmentEffect(_defineProperty({},t,e));_this315.adjustmentsStore.editAdjustments({type:t,value:r[t]});};this.pureReset=function(){_this315.dirty.set(false);_this315.adjustmentsStore.removeAdjustmentEffect();_this315.adjustmentsStore.reset();_this315.selectedOption="";};this.reset=function(){_this315.pureReset();_this315.addSnapshot("delete",_this315.locale.controls.buttonReset);_this315.editor.render();};this.updateStateFromHistory=function(t){if((0,Ye["default"])(t,_this315.state)){return;}if((0,Ye["default"])(t,au)){_this315.pureReset();return;}Ve(function(){_this315.dirty.set(Object.values(t).some(function(e){return e!==0;}));Object.keys(t).forEach(function(e){_this315.pureSetAdjustment({type:e,value:t[e]});});});};this.updateStateFromSerialization=function(t){_this315.updateStateFromHistory(t);};this.editor=t;this.adjustmentsStore=new gm(this.editor.engineMediator);this.selectedOption="";var e=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new _Ne(e,_objectSpread(_objectSpread({},this.config),{},{locale:_objectSpread(_objectSpread({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("adjustment")}));}_createClass(Zt,[{key:"selectedAdjustmentType",get:function get(){return this.selectedOption;}},{key:"isDirty",get:function get(){return this.dirty.get();}},{key:"state",get:function get(){return this.adjustmentsStore.state;}},{key:"selectedOptionLabel",get:function get(){var _this316=this;var t=this.items.find(function(e){return e?e.identifier===_this316.selectedOption:false;});return t?t.name:"";}},{key:"brightness",get:function get(){return this.state.brightness;}},{key:"saturation",get:function get(){return this.state.saturation;}},{key:"contrast",get:function get(){return this.state.contrast;}},{key:"gamma",get:function get(){return this.state.gamma;}},{key:"clarity",get:function get(){return this.state.clarity;}},{key:"exposure",get:function get(){return this.state.exposure;}},{key:"shadows",get:function get(){return this.state.shadows;}},{key:"highlights",get:function get(){return this.state.highlights;}},{key:"whites",get:function get(){return this.state.whites;}},{key:"blacks",get:function get(){return this.state.blacks;}},{key:"temperature",get:function get(){return this.state.temperature;}},{key:"sharpness",get:function get(){return this.state.sharpness;}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"config",get:function get(){return this.editor.configStore.config["adjustment"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["adjustment"];}}]);return Zt;}();f([Q],Zt.prototype,"selectedOption",2);f([Q],Zt.prototype,"dirty",2);f([C],Zt.prototype,"editAdjustments",2);f([C],Zt.prototype,"toggleOptionSelection",2);f([C],Zt.prototype,"pureSetAdjustment",2);f([C],Zt.prototype,"pureReset",2);f([C],Zt.prototype,"reset",2);f([C],Zt.prototype,"updateStateFromHistory",2);f([C],Zt.prototype,"updateStateFromSerialization",2);f([S],Zt.prototype,"selectedAdjustmentType",1);f([S],Zt.prototype,"isDirty",1);f([S],Zt.prototype,"state",1);f([S],Zt.prototype,"selectedOptionLabel",1);f([S],Zt.prototype,"brightness",1);f([S],Zt.prototype,"saturation",1);f([S],Zt.prototype,"contrast",1);f([S],Zt.prototype,"gamma",1);f([S],Zt.prototype,"clarity",1);f([S],Zt.prototype,"exposure",1);f([S],Zt.prototype,"shadows",1);f([S],Zt.prototype,"highlights",1);f([S],Zt.prototype,"whites",1);f([S],Zt.prototype,"blacks",1);f([S],Zt.prototype,"temperature",1);f([S],Zt.prototype,"sharpness",1);f([S],Zt.prototype,"categories",1);f([S],Zt.prototype,"items",1);f([S],Zt.prototype,"config",1);f([S],Zt.prototype,"locale",1);});var ak=d(function(){e0();sH();});var i0;var lk=d(function(){i0={identifier:"identity",intensity:1,isDuotone:false};});var klt,_l;var aH=d(function(){Tt();O();Kh();lk();klt=new Ys(0,1);_l=/*#__PURE__*/function(){function _l(t){var _this317=this;_classCallCheck(this,_l);this.changeIdentifier=function(t){_this317.state.identifier=t;};this.changeIfDuotone=function(t){_this317.state.isDuotone=t;};this.changeIntensity=function(t){var e=klt.clamp(t);_this317.state.intensity=e;};this.reset=function(){if(_this317.indexInContainer===-1){_this317.state.identifier=i0.identifier;_this317.state.intensity=i0.intensity;_this317.removeIndex();}};this.setFilterEffect=function(_ref125){var t=_ref125.identifier,e=_ref125.intensity,r=_ref125.isDuotone;var o=_this317.state;var n=function n(){_this317.changeIdentifier(t);_this317.changeIntensity(e);_this317.changeIfDuotone(r);};_this317.removeFilterEffect();var s=_this317.engineMediator.orderHelper.addIndex("filter");if(r){return new Promise(function(a,l){_this317.engineMediator.engine.addDuoToneFilterFromAssets(t,_this317.engineMediator.image.container,s).then(function(c){n();_this317.effect=c;_this317.effect.setProperties({colorIntensity:e});a();})["catch"](function(c){_this317.fallbackOnError(o);l(c);});});}return new Promise(function(a,l){_this317.engineMediator.engine.addLUTFilterFromAssets(t,_this317.engineMediator.image.container,s).then(function(c){n();_this317.effect=c;_this317.effect.setProperties({intensity:e});a();})["catch"](function(c){_this317.fallbackOnError(o);l(c);});});};this.removeFilterEffect=function(){if(_this317.effect){_this317.engineMediator.engine.removeEffect(_this317.effect);if(_this317.indexInContainer===-1){_this317.effect=void 0;}}};this.setEffectProperties=function(_ref126){var t=_ref126.intensity;if(_this317.effect){if(_this317.state.isDuotone){_this317.effect.setProperties({colorIntensity:t});}else{_this317.effect.setProperties({intensity:t});}return _this317.effect.getProperties();}return null;};this.removeIndex=function(){_this317.engineMediator.orderHelper.removeIndex("filter");};this.fallbackOnError=function(t){_this317.changeIdentifier(t.identifier);_this317.changeIntensity(t.intensity);if(t.identifier==="identity"){_this317.removeIndex();}};this.engineMediator=t;this.state=i0;}_createClass(_l,[{key:"indexInContainer",get:function get(){if(this.effect){return this.effect.getIndexInParent();}return-1;}}]);return _l;}();f([Q],_l.prototype,"state",2);f([C],_l.prototype,"changeIdentifier",2);f([C],_l.prototype,"changeIfDuotone",2);f([C],_l.prototype,"changeIntensity",2);f([C],_l.prototype,"reset",2);});var lH,r0,He;var cH=d(function(){lH=y(rd());Tt();O();U();Zi();Nn();aH();r0="identity";He=/*#__PURE__*/function(){function He(t){var _this318=this;_classCallCheck(this,He);this.throttledRender=(0,lH["default"])(function(){if(_this318.editor){_this318.editor.render();}},10,{trailing:true});this.selectFilter=/*#__PURE__*/function(){var _ref127=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(t){var e,_r14,_args18=arguments;return regeneratorRuntime.wrap(function _callee17$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:e=_args18.length>1&&_args18[1]!==undefined?_args18[1]:1;if(!(t!==_this318.identifier)){_context18.next=8;break;}_r14=_this318.selectedCategory;_context18.next=5;return _this318.filterStore.setFilterEffect({identifier:t,intensity:e,isDuotone:_this318.isOptionDuoTone(t)});case 5:if(_this318.selectedCategory===r0){_this318.selectedCategory=_r14;}_this318.editor.render();_this318.addSnapshot("add","filter");case 8:case"end":return _context18.stop();}}},_callee17);}));return function(_x24){return _ref127.apply(this,arguments);};}();this.changeIntensity=function(t){var e=_this318.isOptionDuoTone(_this318.identifier);var r=_this318.filterStore.setEffectProperties({intensity:t});if(r){var o=e?r.colorIntensity:r.intensity;_this318.filterStore.changeIntensity(o);_this318.throttledRender();}};this.setImageAndGetPreviews=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var t;return regeneratorRuntime.wrap(function _callee18$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:t=_this318.editor.activeStore.state.image;_context19.next=3;return _this318.editor.previewThumbnails.addImageToContainer(t);case 3:_context19.next=5;return _this318.getAllFilterPreview();case 5:case"end":return _context19.stop();}}},_callee18);}));this.getAllFilterPreview=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var t,e,r,o;return regeneratorRuntime.wrap(function _callee19$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:t=_this318.entityManager.items.map(function(n){return{identifier:n.identifier,isDuotone:_this318.isOptionDuoTone(n.identifier)};});_context20.next=3;return _this318.editor.previewThumbnails.getAllFilterPreviewThumbnails(t);case 3:e=_context20.sent;_context20.next=6;return _this318.editor.wait();case 6:r=_this318.config;o=_this318.editor.configStore.assetProvider.getAssets("filter").map(function(n){return _objectSpread(_objectSpread({},n),{},{items:n.items.map(function(s){return _objectSpread(_objectSpread({},s),{},{thumbnailURI:e[s.identifier]});})});});_this318.entityManager=new _Ne(o,_objectSpread(_objectSpread({},r),{},{locale:_this318.locale.items,getAssetPath:_this318.editor.getAssetPath("filter")}));case 9:case"end":return _context20.stop();}}},_callee19);}));this.toolSnapshot=function(){_this318.addSnapshot("edit",_this318.locale.controls.sliderIntensity);};this.addSnapshot=function(t,e){_this318.editor.addSnapshot(void 0,t,e);};this.pureReset=function(){_this318.selectedCategory=r0;_this318.filterStore.removeFilterEffect();_this318.filterStore.reset();};this.reset=function(){_this318.pureReset();_this318.addSnapshot("delete",_this318.locale.controls.buttonReset);_this318.editor.render();};this.toggleCategorySelection=function(t){_this318.selectedCategory=_this318.selectedCategory===t?r0:t;};this.updateStateFromSerialization=function(_ref130){var t=_ref130.identifier,e=_ref130.intensity;var r=_this318.doesFilterAssetExist(t);if(r){var o=Yu(r);return _this318.filterStore.setFilterEffect({identifier:t,intensity:e,isDuotone:o});}throw new Do(t);};this.updateStateFromHistory=/*#__PURE__*/function(){var _ref131=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){return regeneratorRuntime.wrap(function _callee20$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:if(!(t.identifier==="identity")){_context21.next=3;break;}_this318.pureReset();return _context21.abrupt("return",new Promise(function(e){e();}));case 3:return _context21.abrupt("return",_this318.filterStore.setFilterEffect(t));case 4:case"end":return _context21.stop();}}},_callee20);}));return function(_x25){return _ref131.apply(this,arguments);};}();this.doesFilterAssetExist=function(t){return _this318.entityManager.items.find(function(e){return t===e.identifier;});};this.isOptionDuoTone=function(t){var e=_this318.doesFilterAssetExist(t);if(e){return Yu(e);}return false;};this.editor=t;this.selectedCategory=r0;this.filterStore=new _l(this.editor.engineMediator);var e=this.config;var r=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new _Ne(r,_objectSpread(_objectSpread({},e),{},{locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}));}_createClass(He,[{key:"state",get:function get(){return this.filterStore.state;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"intensity",get:function get(){return this.state.intensity;}},{key:"isDuotone",get:function get(){return this.state.isDuotone;}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config["filter"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["filter"];}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}}]);return He;}();f([Q],He.prototype,"selectedCategory",2);f([Q],He.prototype,"entityManager",2);f([C],He.prototype,"selectFilter",2);f([C],He.prototype,"changeIntensity",2);f([C],He.prototype,"pureReset",2);f([C],He.prototype,"reset",2);f([C],He.prototype,"toggleCategorySelection",2);f([C],He.prototype,"updateStateFromSerialization",2);f([C],He.prototype,"updateStateFromHistory",2);f([S],He.prototype,"state",1);f([S],He.prototype,"identifier",1);f([S],He.prototype,"intensity",1);f([S],He.prototype,"isDuotone",1);f([S],He.prototype,"selectedCategoryIdentifier",1);f([S],He.prototype,"isOptionSelected",1);f([S],He.prototype,"config",1);f([S],He.prototype,"locale",1);f([S],He.prototype,"categories",1);f([S],He.prototype,"items",1);});var ck=d(function(){cH();lk();});var bm;var uH=d(function(){bm=function bm(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var e=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var r=Math.tan(t);var o=Math.sqrt(Math.pow(r,2)+1);return{x:i.x+e/o,y:i.y+e*r/o};};});var o0,Ilt,Dlt,Elt,Flt,lu;var n0=d(function(){o0={blurRadius:40,gradientSize:.2};Ilt=_objectSpread({start:{x:0,y:0},end:{x:0,y:0}},o0);Dlt=_objectSpread({center:{x:0,y:0},radius:0},o0);Elt=_objectSpread({origin:{x:0,y:0},rotation:0,size:0},o0);Flt=o0;lu={identifier:"identity",linear:Ilt,radial:Dlt,mirrored:Elt,gaussian:Flt};});var Ri;var dH=d(function(){Tt();O();U();n0();Ri=/*#__PURE__*/function(){function Ri(t){var _this319=this;_classCallCheck(this,Ri);this.selectFocus=function(t,e){Ve(function(){_this319.state.identifier=t;if(e){_this319.state[t].blurRadius=e;}});};this.changeBlurRadius=function(t,e){if(t!=="identity"){_this319.state[t].blurRadius=e;}};this.reset=function(){if(_this319.indexInContainer===-1){_this319.state.identifier=lu.identifier;if(_this319.state.identifier!=="identity"){_this319.state[_this319.state.identifier].blurRadius=lu[_this319.state.identifier].blurRadius;}}};this.setLinear=function(_ref132){var t=_ref132.start,e=_ref132.end;_this319.state.linear.start.x=t.x;_this319.state.linear.start.y=t.y;_this319.state.linear.end.x=e.x;_this319.state.linear.end.y=e.y;};this.setLinearStart=function(t){_this319.state.linear.start.x=t.x;_this319.state.linear.start.y=t.y;};this.setLinearEnd=function(t){_this319.state.linear.end.x=t.x;_this319.state.linear.end.y=t.y;};this.setRadialCenter=function(t){_this319.state.radial.center.x=t.x;_this319.state.radial.center.y=t.y;};this.setRadialRadius=function(t){_this319.state.radial.radius=t;};this.setMirroredOrigin=function(t){_this319.state.mirrored.origin.x=t.x;_this319.state.mirrored.origin.y=t.y;};this.setMirroredRotation=function(t){_this319.state.mirrored.rotation=t;};this.setMirroredSize=function(t){_this319.state.mirrored.size=t;};this.getEffectProperties=function(){if(_this319.effect){return _this319.effect.getProperties();}return null;};this.setLinearFocus=function(t){_this319.effect=_this319.engineMediator.engine.addLinearBlur(t,_this319.imageContainer,_this319.order);_this319.updateLinearState(_this319.effect.getProperties());};this.setGaussianFocus=function(t){_this319.effect=_this319.engineMediator.engine.addGaussianBlur(t,_this319.imageContainer,_this319.order);_this319.updateGaussianState(_this319.effect.getProperties());};this.setRadialFocus=function(t){_this319.effect=_this319.engineMediator.engine.addRadialBlur(t,_this319.imageContainer,_this319.order);_this319.updateRadialState(_this319.effect.getProperties());};this.setMirroredFocus=function(t){_this319.effect=_this319.engineMediator.engine.addMirroredBlur(t,_this319.imageContainer,_this319.order);_this319.updateMirroredState(_this319.effect.getProperties());};this.updateFromEngineState=function(t){var e=_this319.getEffectProperties();if(e&&t!=="identity"){switch(t){case"linear":_this319.updateLinearState(e);break;case"radial":_this319.updateRadialState(e);break;case"mirrored":_this319.updateMirroredState(e);break;default:break;}}};this.updateGaussianState=function(t){_this319.changeBlurRadius("gaussian",t.blurRadius);};this.updateMirroredState=function(t){var e=_this319.editor.worldToPreview(t.mirrorAxisOrigin);var r=new R(_this319.editor.worldToPreview(t.mirrorAxisDirection));var o=r.subtract(e);var n=Math.atan2(o.y,o.x);_this319.setMirroredOrigin(_this319.editor.worldToPreview(t.mirrorAxisOrigin));_this319.setMirroredRotation(n);_this319.setMirroredSize(_this319.editor.worldToPreview(t.clearAreaWidth));_this319.changeBlurRadius("mirrored",t.blurRadius);};this.updateRadialState=function(t){_this319.setRadialCenter(_this319.editor.worldToPreview(t.center));_this319.setRadialRadius(_this319.editor.worldToPreview(t.radius));_this319.changeBlurRadius("radial",t.blurRadius);};this.updateLinearState=function(t){_this319.setLinearStart(_this319.editor.worldToPreview(t.start));_this319.setLinearEnd(_this319.editor.worldToPreview(t.end));_this319.changeBlurRadius("linear",t.blurRadius);};this.setEffectProperties=function(t){if(_this319.effect){_this319.effect.setProperties(t);return _this319.effect.getProperties();}return null;};this.removeFocus=function(){if(_this319.effect){_this319.engineMediator.engine.removeEffect(_this319.effect);_this319.engineMediator.orderHelper.removeIndex("focus");}};this.editor=t;this.engineMediator=this.editor.engineMediator;this.state=lu;}_createClass(Ri,[{key:"indexInContainer",get:function get(){if(this.effect){return this.effect.getIndexInParent();}return-1;}},{key:"order",get:function get(){return this.engineMediator.orderHelper.addIndex("focus");}},{key:"imageContainer",get:function get(){return this.engineMediator.image.container;}}]);return Ri;}();f([Q],Ri.prototype,"state",2);f([C],Ri.prototype,"selectFocus",2);f([C],Ri.prototype,"changeBlurRadius",2);f([C],Ri.prototype,"reset",2);f([C],Ri.prototype,"setLinear",2);f([C],Ri.prototype,"setLinearStart",2);f([C],Ri.prototype,"setLinearEnd",2);f([C],Ri.prototype,"setRadialCenter",2);f([C],Ri.prototype,"setRadialRadius",2);f([C],Ri.prototype,"setMirroredOrigin",2);f([C],Ri.prototype,"setMirroredRotation",2);f([C],Ri.prototype,"setMirroredSize",2);f([C],Ri.prototype,"updateFromEngineState",2);});var mH,_cu,Bt;var pH=d(function(){mH=y(rd());Tt();O();U();Zi();hm();Nn();uH();n0();dH();_cu=/*#__PURE__*/function(){function cu(t){var _this320=this;_classCallCheck(this,cu);this.throttledRender=(0,mH["default"])(function(){if(_this320.editor){_this320.editor.render();}},10,{trailing:true});this.selectFocus=function(t){if(t!==_this320.identifier){_this320.focusStore.removeFocus();var _e15=_this320.maxIntensity*.2;var _this320$editor$engin=_this320.editor.engine.getOutputContainer().getBounds(),r=_this320$editor$engin.width;var o=_this320.editor.shortestOutputSide*.2;switch(t){case"linear":var n=_this320.editor.outputToWorld({x:-r/2,y:0});var s=_this320.editor.outputToWorld({x:r/2,y:0});_this320.setLinearFocus({start:n,end:s,blurRadius:_e15});break;case"radial":var a=_this320.editor.outputToWorld({x:0,y:0});_this320.setRadialFocus({center:a,radius:o,blurRadius:_e15});break;case"mirrored":var l=_this320.editor.outputToWorld({x:0,y:0});var c=o;var u=_this320.editor.outputToWorld(bm({x:0,y:0},0));_this320.setMirroredFocus({mirrorAxisOrigin:l,clearAreaWidth:c,blurRadius:_e15,mirrorAxisDirection:u});break;case"gaussian":_this320.setGaussianFocus({blurRadius:_e15});break;default:break;}_this320.focusStore.selectFocus(t,_e15);_this320.editor.render();_this320.addSnapshot("add","focus");}};this.changeIntensity=function(t){var e=_this320.focusStore.setEffectProperties({blurRadius:t});if(e){_this320.focusStore.changeBlurRadius(_this320.identifier,e.blurRadius);_this320.throttledRender();}};this.changeRelativeIntensity=function(t){var e=(_this320.maxIntensity-_cu.minIntensity)*t/100+_cu.minIntensity;var r=_this320.focusStore.setEffectProperties({blurRadius:e});if(r){_this320.focusStore.changeBlurRadius(_this320.identifier,r.blurRadius);_this320.throttledRender();}};this.toolSnapshot=function(t){_this320.addSnapshot("edit",t);};this.addSnapshot=function(t,e){_this320.editor.addSnapshot(void 0,t,e);};this.clickableCanvas=function(t){_this320.editor.clickableCanvas(t);};this.pureReset=function(){_this320.focusStore.removeFocus();_this320.focusStore.reset();};this.reset=function(){_this320.pureReset();_this320.editor.render();_this320.addSnapshot("delete",_this320.locale.controls.buttonReset);};this.setStart=function(t){var e=_this320.focusStore.setEffectProperties({start:_this320.editor.previewToWorld(t)});if(e){_this320.focusStore.setLinearStart(_this320.editor.worldToPreview(e.start));_this320.throttledRender();}};this.setEnd=function(t){var e=_this320.focusStore.setEffectProperties({end:_this320.editor.previewToWorld(t)});if(e){_this320.focusStore.setLinearEnd(_this320.editor.worldToPreview(e.end));_this320.throttledRender();}};this.setCenter=function(t){var e=_this320.focusStore.setEffectProperties({center:_this320.editor.previewToWorld(t)});if(e){_this320.focusStore.setRadialCenter(_this320.editor.worldToPreview(e.center));_this320.throttledRender();}};this.setRadius=function(t){var e=_this320.focusStore.setEffectProperties({radius:_this320.editor.previewToWorld(t)});if(e){_this320.focusStore.setRadialRadius(_this320.editor.worldToPreview(e.radius));_this320.throttledRender();}};this.setOrigin=function(t){var e=_this320.focusStore.setEffectProperties({mirrorAxisOrigin:_this320.editor.previewToWorld(t),mirrorAxisDirection:_this320.editor.previewToWorld(bm(t,_this320.rotation))});if(e){_this320.focusStore.setMirroredOrigin(_this320.editor.worldToPreview(e.mirrorAxisOrigin));_this320.throttledRender();}};this.setSize=function(t){var e=_this320.focusStore.setEffectProperties({clearAreaWidth:_this320.editor.previewToWorld(t)});if(e){_this320.focusStore.setMirroredSize(_this320.editor.worldToPreview(e.clearAreaWidth));_this320.throttledRender();}};this.setRotation=function(t){_this320.focusStore.setEffectProperties({mirrorAxisDirection:_this320.editor.previewToWorld(bm(_this320.origin,t))});_this320.focusStore.setMirroredRotation(t);_this320.throttledRender();};this.updateStateFromHistory=function(t,e){_this320.focusStore.removeFocus();var r=e.magnitude;Ve(function(){_this320.focusStore.selectFocus(t.identifier);switch(t.identifier){case"linear":_this320.setLinearFocus({start:_this320.editor.previewToWorld(new R(t.linear.start).multiply(e)),end:_this320.editor.previewToWorld(new R(t.linear.end).multiply(e)),blurRadius:t.linear.blurRadius});break;case"gaussian":_this320.setGaussianFocus({blurRadius:t.gaussian.blurRadius});break;case"radial":_this320.setRadialFocus({center:_this320.editor.previewToWorld(new R(t.radial.center).multiply(e)),radius:_this320.editor.previewToWorld(t.radial.radius*r),blurRadius:t.radial.blurRadius});break;case"mirrored":{var o=new R(t.mirrored.origin).multiply(e);_this320.setMirroredFocus({mirrorAxisOrigin:_this320.editor.previewToWorld(o),mirrorAxisDirection:_this320.editor.previewToWorld(bm(o,t.mirrored.rotation)),clearAreaWidth:_this320.editor.previewToWorld(t.mirrored.size*r),blurRadius:t.mirrored.blurRadius});break;}case"identity":_this320.pureReset();break;default:break;}});};this.updateStateFromSerialization=/*#__PURE__*/function(){var _ref133=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){return regeneratorRuntime.wrap(function _callee21$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:if(!_cu.doesFocusIdentifierExist(t.identifier)){_context22.next=5;break;}_this320.focusStore.removeFocus();Ve(function(){_this320.focusStore.selectFocus(t.identifier);switch(t.identifier){case"linear":_this320.setLinearFocus(t.linear);break;case"gaussian":_this320.setGaussianFocus(t.gaussian);break;case"radial":_this320.setRadialFocus(t.radial);break;case"mirrored":_this320.setMirroredFocus({mirrorAxisOrigin:t.mirrored.origin,clearAreaWidth:t.mirrored.size,blurRadius:t.mirrored.blurRadius,mirrorAxisDirection:bm(t.mirrored.origin,t.mirrored.rotation)});break;default:break;}});_context22.next=6;break;case 5:throw new Do(t.identifier);case 6:case"end":return _context22.stop();}}},_callee21);}));return function(_x26){return _ref133.apply(this,arguments);};}();this.updateCanvasControls=function(){_this320.focusStore.updateFromEngineState(_this320.identifier);};this.getFocusStateForHistory=function(){var t=_this320.editor.canvasStore.sizeVector;var e=_this320.focusStore.state.linear;var r=_this320.focusStore.state.radial;var o=_this320.focusStore.state.mirrored;var n=t;var s=n.magnitude;return _objectSpread(_objectSpread({},_this320.focusStore.state),{},{linear:_objectSpread(_objectSpread({},e),{},{start:new R(e.start).divide(n),end:new R(e.end).divide(n)}),radial:_objectSpread(_objectSpread({},r),{},{center:new R(r.center).divide(n),radius:r.radius/s}),mirrored:_objectSpread(_objectSpread({},o),{},{origin:new R(o.origin).divide(n),size:o.size/s}),gaussian:_objectSpread({},_this320.focusStore.state.gaussian)});};this.editor=t;this.focusStore=new Ri(this.editor);var e=this.editor.assetProvider.getAssets("focus");this.entityManager=new _Ne(e,_objectSpread(_objectSpread({},this.config),{},{flattenCategories:true,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")}));}_createClass(cu,[{key:"state",get:function get(){return this.focusStore.state;}},{key:"serializableState",get:function get(){switch(this.identifier){case"linear":return{identifier:this.identifier,linear:this.focusStore.getEffectProperties()};case"radial":return{identifier:this.identifier,radial:this.focusStore.getEffectProperties()};case"mirrored":var t=this.focusStore.getEffectProperties();return{identifier:this.identifier,mirrored:{blurRadius:t.blurRadius,origin:t.mirrorAxisOrigin,rotation:ct(this.state.mirrored.rotation),size:t.clearAreaWidth}};case"gaussian":return{identifier:this.identifier,gaussian:this.focusStore.getEffectProperties()};default:return lu;}}},{key:"start",get:function get(){return this.focusStore.state.linear.start;}},{key:"startOnPreview",get:function get(){var t=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(t.x),y:Math.abs(t.y)};}},{key:"end",get:function get(){return this.focusStore.state.linear.end;}},{key:"endOnPreview",get:function get(){var t=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(t.x),y:Math.abs(t.y)};}},{key:"center",get:function get(){return this.focusStore.state.radial.center;}},{key:"radius",get:function get(){return this.focusStore.state.radial.radius;}},{key:"origin",get:function get(){return this.focusStore.state.mirrored.origin;}},{key:"rotation",get:function get(){return this.focusStore.state.mirrored.rotation;}},{key:"rotationOnPreview",get:function get(){var _this$editor$outputCo=this.editor.outputContainer.getData(),t=_this$editor$outputCo.flipHorizontally,e=_this$editor$outputCo.flipVertically;return $h({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:t,flipVertically:e});}},{key:"size",get:function get(){return this.focusStore.state.mirrored.size;}},{key:"mirroredAreaWidth",get:function get(){var _this$editor$canvasSt=this.editor.canvasStore.canvasSize,t=_this$editor$canvasSt.width,e=_this$editor$canvasSt.height;return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))*2;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"intensity",get:function get(){if(this.identifier==="identity"){return lu.gaussian.blurRadius;}return this.state[this.identifier].blurRadius;}},{key:"relativeIntensity",get:function get(){var _ref134=this.identifier==="identity"?this.state.gaussian:this.state[this.identifier],t=_ref134.blurRadius;return(t-_cu.minIntensity)*100/(this.maxIntensity-_cu.minIntensity);}},{key:"maxIntensity",get:function get(){return this.editor.shortestOutputSide/10;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config["focus"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["focus"];}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"setGaussianFocus",value:function setGaussianFocus(_ref135){var t=_ref135.blurRadius;this.focusStore.setGaussianFocus({blurRadius:t});}},{key:"setLinearFocus",value:function setLinearFocus(_ref136){var t=_ref136.start,e=_ref136.end,r=_ref136.blurRadius;this.focusStore.setLinearFocus({start:t,end:e,blurRadius:r});}},{key:"setRadialFocus",value:function setRadialFocus(_ref137){var t=_ref137.center,e=_ref137.radius,r=_ref137.blurRadius;this.focusStore.setRadialFocus({center:t,radius:e,blurRadius:r});}},{key:"setMirroredFocus",value:function setMirroredFocus(_ref138){var t=_ref138.mirrorAxisOrigin,e=_ref138.clearAreaWidth,r=_ref138.blurRadius,o=_ref138.mirrorAxisDirection;this.focusStore.setMirroredFocus({mirrorAxisOrigin:t,clearAreaWidth:e,blurRadius:r,mirrorAxisDirection:o});}}],[{key:"minIntensity",get:function get(){return 0;}},{key:"doesFocusIdentifierExist",value:function doesFocusIdentifierExist(t){return Object.keys(cs).map(function(e){return cs[e];}).findIndex(function(e){return e===t;})!==-1;}}]);return cu;}();Bt=_cu;f([C],Bt.prototype,"selectFocus",2);f([C],Bt.prototype,"changeIntensity",2);f([C],Bt.prototype,"changeRelativeIntensity",2);f([C],Bt.prototype,"clickableCanvas",2);f([C],Bt.prototype,"pureReset",2);f([C],Bt.prototype,"reset",2);f([C],Bt.prototype,"setStart",2);f([C],Bt.prototype,"setEnd",2);f([C],Bt.prototype,"setCenter",2);f([C],Bt.prototype,"setRadius",2);f([C],Bt.prototype,"setOrigin",2);f([C],Bt.prototype,"setSize",2);f([C],Bt.prototype,"setRotation",2);f([C],Bt.prototype,"updateStateFromHistory",2);f([C],Bt.prototype,"updateStateFromSerialization",2);f([C],Bt.prototype,"updateCanvasControls",2);f([S],Bt.prototype,"state",1);f([S],Bt.prototype,"start",1);f([S],Bt.prototype,"startOnPreview",1);f([S],Bt.prototype,"end",1);f([S],Bt.prototype,"endOnPreview",1);f([S],Bt.prototype,"center",1);f([S],Bt.prototype,"radius",1);f([S],Bt.prototype,"origin",1);f([S],Bt.prototype,"rotation",1);f([S],Bt.prototype,"rotationOnPreview",1);f([S],Bt.prototype,"size",1);f([S],Bt.prototype,"mirroredAreaWidth",1);f([S],Bt.prototype,"identifier",1);f([S],Bt.prototype,"intensity",1);f([S],Bt.prototype,"relativeIntensity",1);f([S],Bt.prototype,"maxIntensity",1);f([S],Bt.prototype,"isOptionSelected",1);f([S],Bt.prototype,"config",1);f([S],Bt.prototype,"locale",1);f([S],Bt.prototype,"items",1);});var uk=d(function(){pH();n0();});var Xh;var dk=d(function(){O();Xh={identifier:"identity",opacity:1,blendMode:"lighten"};});var Rlt,Js;var hH=d(function(){Tt();O();Kh();dk();Rlt=new Ys(0,1);Js=/*#__PURE__*/function(){function Js(t,e){var _this321=this;_classCallCheck(this,Js);this.changeIdentifier=function(t){_this321.state.identifier=t;};this.changeOpacity=function(t){var e=Rlt.clamp(t);_this321.state.opacity=e;};this.changeBlendMode=function(t){_this321.state.blendMode=t;};this.reset=function(){if(_this321.indexInContainer===-1){_this321.state.identifier=Xh.identifier;_this321.state.opacity=Xh.opacity;_this321.state.blendMode=Xh.blendMode;_this321.removeIndex();}};this.correctOverlayFlip=function(){var _this321$editor$outpu=_this321.editor.outputContainer.getData(),t=_this321$editor$outpu.flipHorizontally,e=_this321$editor$outpu.flipVertically;if(_this321.effect){_this321.effect.setFlipHorizontally(t);_this321.effect.setFlipVertically(e);}};this.removeOverlayEffect=function(){if(_this321.effect){_this321.engineMediator.engine.removeEffect(_this321.effect);_this321.removeIndex();_this321.effect=void 0;}};this.setEffectProperties=function(t){if(_this321.effect){_this321.effect.setProperties(t);return _this321.effect.getProperties();}return null;};this.setOverlayEffect=function(_ref139){var t=_ref139.identifier,e=_ref139.blendMode,r=_ref139.opacity;var o=_objectSpread({},_this321.state);_this321.removeOverlayEffect();var n=_this321.engineMediator.orderHelper.addIndex("overlay");return new Promise(function(s,a){_this321.engineMediator.engine.addOverlayFromAssets(t,_this321.engineMediator.image.container,n).then(function(l){_this321.changeIdentifier(t);_this321.changeOpacity(r);_this321.changeBlendMode(e);_this321.effect=l;_this321.effect.setProperties({blendMode:e,opacity:r});_this321.correctOverlayFlip();s();})["catch"](function(l){_this321.changeIdentifier(o.identifier);_this321.changeOpacity(o.opacity);_this321.changeBlendMode(o.blendMode);if(o.identifier==="identity"){_this321.removeIndex();}a(l);});});};this.removeIndex=function(){_this321.engineMediator.orderHelper.removeIndex("overlay");};this.engineMediator=t;this.editor=e;this.state=Xh;}_createClass(Js,[{key:"indexInContainer",get:function get(){if(this.effect){return this.effect.getIndexInParent();}return-1;}}]);return Js;}();f([Q],Js.prototype,"state",2);f([C],Js.prototype,"changeIdentifier",2);f([C],Js.prototype,"changeOpacity",2);f([C],Js.prototype,"changeBlendMode",2);f([C],Js.prototype,"reset",2);f([C],Js.prototype,"correctOverlayFlip",2);});var fH,Ze;var gH=d(function(){fH=y(rd());Tt();O();U();Zi();Nn();hH();Ze=/*#__PURE__*/function(){function Ze(t){var _this322=this;_classCallCheck(this,Ze);this.throttledRender=(0,fH["default"])(function(){if(_this322.editor){_this322.editor.render();}},10,{trailing:true});this.selectOverlay=/*#__PURE__*/function(){var _ref140=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(t){var _e16;return regeneratorRuntime.wrap(function _callee22$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(t!==_this322.identifier)){_context23.next=6;break;}_e16=_this322.defaultBlendModeForIdentifier(t);_context23.next=4;return _this322.overlayStore.setOverlayEffect({identifier:t,opacity:1,blendMode:_e16});case 4:_this322.addSnapshot("add","overlay");_this322.editor.render();case 6:case"end":return _context23.stop();}}},_callee22);}));return function(_x27){return _ref140.apply(this,arguments);};}();this.changeOpacity=function(t){var e=_this322.overlayStore.setEffectProperties({opacity:t});if(e){_this322.overlayStore.changeOpacity(e.opacity);_this322.throttledRender();}};this.toolSnapshot=function(){_this322.addSnapshot("edit",_this322.locale.controls.sliderOpacity);};this.addSnapshot=function(t,e){_this322.editor.addSnapshot(void 0,t,e);};this.changeBlendMode=function(t){var e=_this322.overlayStore.setEffectProperties({blendMode:t});if(e){_this322.overlayStore.changeBlendMode(e.blendMode);_this322.addSnapshot("edit",_this322.locale.controls.carouselBlendMode);_this322.editor.render();}};this.pureReset=function(){_this322.overlayStore.removeOverlayEffect();_this322.overlayStore.reset();};this.reset=function(){_this322.pureReset();_this322.addSnapshot("delete",_this322.locale.controls.buttonReset);_this322.editor.render();};this.updateStateFromSerialization=/*#__PURE__*/function(){var _ref141=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var e;return regeneratorRuntime.wrap(function _callee23$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:e=_this322.entityManager.items.find(function(r){return r.identifier===t.identifier;});if(!e){_context24.next=3;break;}return _context24.abrupt("return",_this322.overlayStore.setOverlayEffect(t).then(function(){_this322.editor.transformToolStore.setOverlayOpacity(t.opacity);}));case 3:throw new Do(t.identifier);case 4:case"end":return _context24.stop();}}},_callee23);}));return function(_x28){return _ref141.apply(this,arguments);};}();this.updateStateFromHistory=/*#__PURE__*/function(){var _ref142=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(t){return regeneratorRuntime.wrap(function _callee24$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:if(!(t.identifier==="identity")){_context25.next=3;break;}_this322.pureReset();return _context25.abrupt("return",new Promise(function(e){e();}));case 3:return _context25.abrupt("return",_this322.overlayStore.setOverlayEffect(t));case 4:case"end":return _context25.stop();}}},_callee24);}));return function(_x29){return _ref142.apply(this,arguments);};}();this.correctOverlayFlip=function(){_this322.overlayStore.correctOverlayFlip();};this.defaultBlendModeForIdentifier=function(t){var e=_this322.entityManager.items.findIndex(function(r){return r.identifier===t;});return e!==-1?_this322.entityManager.items[e].defaultBlendMode:"lighten";};this.editor=t;this.overlayStore=new Js(this.editor.engineMediator,t);var e=this.editor.assetProvider.getAssets("overlay");var r=this.config;this.entityManager=new _Ne(e,_objectSpread(_objectSpread({},r),{},{flattenCategories:true,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")}));}_createClass(Ze,[{key:"state",get:function get(){return this.overlayStore.state;}},{key:"identifier",get:function get(){return this.overlayStore.state.identifier;}},{key:"opacity",get:function get(){return this.overlayStore.state.opacity;}},{key:"blendMode",get:function get(){return this.overlayStore.state.blendMode;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"config",get:function get(){return this.editor.configStore.config["overlay"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["overlay"];}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"allBlendModes",get:function get(){var t=this.locale.controls;return Object.keys(pn).map(function(e){var r=pn[e];var o="blendMode".concat(r.charAt(0).toUpperCase()).concat(r.slice(1));return{identifier:r,value:t[o]};});}}]);return Ze;}();f([C],Ze.prototype,"selectOverlay",2);f([C],Ze.prototype,"changeOpacity",2);f([C],Ze.prototype,"changeBlendMode",2);f([C],Ze.prototype,"pureReset",2);f([C],Ze.prototype,"reset",2);f([C],Ze.prototype,"updateStateFromSerialization",2);f([C],Ze.prototype,"updateStateFromHistory",2);f([C],Ze.prototype,"correctOverlayFlip",2);f([S],Ze.prototype,"state",1);f([S],Ze.prototype,"identifier",1);f([S],Ze.prototype,"opacity",1);f([S],Ze.prototype,"blendMode",1);f([S],Ze.prototype,"isOptionSelected",1);f([S],Ze.prototype,"config",1);f([S],Ze.prototype,"locale",1);f([S],Ze.prototype,"items",1);f([S],Ze.prototype,"allBlendModes",1);});var mk=d(function(){gH();dk();});var Olt,Nr,pk;var hk=d(function(){pr();Olt="white";Nr={identifier:"identity",opacity:1,tintColor:mr[Olt],tintMode:"none",resizeMode:"keepAspect"};pk={};});var Hn;var ym=d(function(){Xt();pr();Hn=function Hn(){return Object.keys(mr).map(function(i){var t=mr[i];return{identifier:i,color:t,colorString:Un(t)};});};});function s0(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return new Promise(function(e,r){var o=new Image();o.addEventListener("load",function(){var n=document.createElement("canvas");var s=n.getContext("2d");n.width=o.width;n.height=o.height;if(t){n.width=t;n.height=t*o.height/o.width;}s.drawImage(o,0,0,n.width,n.height);var a=n.toDataURL("image/png");$t(n);e(a);});o.addEventListener("error",function(){r();});o.src=i;});}var bH;var fk=d(function(){O();U();bH=function bH(i){return new Promise(function(t,e){var r=new FileReader();r.onload=/*#__PURE__*/function(){var _ref143=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(o){var n,s;return regeneratorRuntime.wrap(function _callee25$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:_context26.prev=0;n=o.target.result;_context26.next=4;return s0(n,150);case 4:s=_context26.sent;t({stickerURI:n,thumbnailURI:s,name:i.name||"",type:i.type,identifier:At()});_context26.next=11;break;case 8:_context26.prev=8;_context26.t0=_context26["catch"](0);e(_context26.t0);case 11:case"end":return _context26.stop();}}},_callee25,null,[[0,8]]);}));return function(_x30){return _ref143.apply(this,arguments);};}();r.onerror=function(o){e(o);};r.readAsDataURL(i);});};});var yH,gk,Pt;var bk=d(function(){Tt();O();U();ym();Zi();Nn();fk();pr();hk();yH="identity";gk="imgly_sticker_custom";Pt=/*#__PURE__*/function(){function Pt(t){var _this323=this;_classCallCheck(this,Pt);this.state=Q.map(pk);this.customStickers=[];this.colorList=Hn();this.selectLast=function(){_this323.editor.spriteStore.selectHighestOrderSprite(Array.from(_this323.state.keys()));};this.doesStickerAssetExist=function(t){return _this323.entityManager.items.findIndex(function(e){return e.identifier===t;})!==-1;};this.add=function(t){var e=_this323.entityManager.items.find(function(n){return n.identifier===t;});var r=e?e.tintMode:Nr.tintMode;var o=e?e.resizeMode:Nr.resizeMode;_this323.editor.spriteStore.addSticker({state:{identifier:t,tintMode:r,tintColor:Nr.tintColor,opacity:Nr.opacity,resizeMode:o}});};this.duplicate=function(){if(_this323.id){var _t33=_this323.editor.spriteStore.getDuplicateContainerTransform(_this323.id);var _e17=_this323.editor.spriteStore.getDuplicateContainerFlip(_this323.id);var _this323$editor$outpu=_this323.editor.outputContainer.getData(),_r15=_this323$editor$outpu.flipHorizontally,o=_this323$editor$outpu.flipVertically;_this323.editor.spriteStore.addSticker({state:{identifier:_this323.identifier,tintColor:ct(_this323.tintColor),tintMode:_this323.tintMode,resizeMode:_this323.resizeMode,opacity:_this323.opacity,flipHorizontally:_r15!==_e17.flipHorizontally,flipVertically:o!==_e17.flipVertically},transform:_t33});}};this.bringToFront=function(){if(_this323.id){_this323.editor.spriteStore.bringToFront(_this323.id);}};this.flipHorizontally=function(){if(_this323.id){_this323.editor.spriteStore.flipHorizontally(_this323.id);}};this["delete"]=function(){if(_this323.id){var _t34=_this323.id;_this323.editor.spriteStore.removeSprite(_t34);_this323.state["delete"](_t34);_this323.selectLast();}};this.updateStateFromHistory=function(t,e){if((0,Ye["default"])(e,_this323.state.get(t))){return;}_this323.setState(t,e);_this323.editor.spriteStore.setContainerProperties(t,e);};this.setState=function(t,e){var r=_this323.state.get(t);if(r){if("opacity"in e){r.opacity=e.opacity;}if(e.tintColor){r.tintColor=e.tintColor;}if(e.tintMode){r.tintMode=e.tintMode;}if(e.resizeMode){r.resizeMode=e.resizeMode;}_this323.state.set(t,r);}else{_this323.state.set(t,{identifier:e.identifier,opacity:e.opacity,tintMode:e.tintMode,resizeMode:e.resizeMode,tintColor:e.tintColor?e.tintColor:Nr.tintColor});}};this.changeOpacity=function(t){if(_this323.id){var _e18=_this323.state.get(_this323.id);if(_e18){_this323.editor.spriteStore.setContainerProperties(_this323.id,{opacity:t});var _r16=_this323.editor.spriteStore.getContainerProperties(_this323.id);_e18.opacity=_r16.opacity;_this323.state.set(_this323.id,_e18);}}};this.changeTintColor=function(t){if(_this323.id){var _e19=_this323.state.get(_this323.id);if(_e19){var _this323$entityManage=_this323.entityManager.items.find(function(n){return n.identifier===_this323.identifier;}),_r17=_this323$entityManage.tintMode;_this323.editor.spriteStore.setContainerProperties(_this323.id,{tintColor:t,tintMode:_r17});var o=_this323.editor.spriteStore.getContainerProperties(_this323.id);_e19.tintColor=o.tintColor;_e19.tintMode=o.tintMode||Nr.tintMode;_this323.state.set(_this323.id,_e19);}}};this.tintColorSnapshot=function(){_this323.addSnapshot("edit",_this323.locale.history.color);};this.addFiles=/*#__PURE__*/function(){var _ref144=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var _e20,_r18,o;return regeneratorRuntime.wrap(function _callee26$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:_this323.editor.modalStore.showInfoModal("loading");if(!t.length){_context27.next=17;break;}_e20=0;_r18=[];for(_e20=0;_e20<t.length;_e20+=1){_r18.push(bH(t[_e20]));}_context27.prev=5;_context27.next=8;return Promise.all(_r18);case 8:o=_context27.sent;_this323.addCustomStickerAsset(o);_this323.editor.configStore.events.onStickerUploadedAdd(o.map(function(_ref145,a){var n=_ref145.identifier,s=_ref145.stickerURI;return{identifier:n,stickerURI:s,file:t[a]};}));_context27.next=17;break;case 13:_context27.prev=13;_context27.t0=_context27["catch"](5);_this323.editor.modalStore.hideModal();_this323.editor.modalStore.showInfoModal("stickerLoading");case 17:case"end":return _context27.stop();}}},_callee26,null,[[5,13]]);}));return function(_x31){return _ref144.apply(this,arguments);};}();this.addCustomStickerAsset=/*#__PURE__*/function(){var _ref146=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,r,o,n;return regeneratorRuntime.wrap(function _callee27$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:e=[];t.forEach(function(_ref147){var s=_ref147.stickerURI,a=_ref147.thumbnailURI,l=_ref147.name,c=_ref147.identifier,u=_ref147.type;e.push({stickerURI:s,thumbnailURI:a,name:l,tintMode:_this323.customStickerTintMode,resizeMode:_this323.customStickerResizeMode,identifier:c});_this323.customStickers.push({identifier:c,type:u,stickerURI:s,name:l});});r=_this323.locale.categories[gk];_this323.editor.assetProvider.addCustomStickerAsset(e,gk,r);o=_this323.editor.assetProvider.getAssets("sticker");n=_this323.config;_this323.entityManager=new _Ne(o,_objectSpread(_objectSpread({},n),{},{itemFallbackKey:"stickerURI",locale:_this323.locale.items,getAssetPath:_this323.editor.getAssetPath("sticker")}));_this323.selectedCategory=gk;_this323.editor.modalStore.hideModal();case 9:case"end":return _context28.stop();}}},_callee27);}));return function(_x32){return _ref146.apply(this,arguments);};}();this.toolSnapshot=function(){_this323.addSnapshot("edit",_this323.locale.history.opacity);};this.addSnapshot=function(t,e){var r=_this323.editor.historyStore.getCurrentSpritesState();if((r==null?void 0:r.sticker)&&(0,Ye["default"])(r.sticker,ct(_this323.state))){return;}if(_this323.currentSticker){_this323.editor.spriteStore.addSnapshot(t,e);}};this.toggleCategorySelection=function(t){_this323.selectedCategory=_this323.selectedCategory===t?yH:t;};this.pureReset=function(){_this323.state=Q.map(pk);};this.dispose=function(){_this323.state=null;_this323.selectedCategory=null;_this323.editor=null;_this323.entityManager=null;};this.editor=t;this.selectedCategory=yH;var e=this.config;var r=this.editor.assetProvider.getAssets("sticker");this.entityManager=new _Ne(r,_objectSpread(_objectSpread({},e),{},{itemFallbackKey:"stickerURI",locale:_objectSpread(_objectSpread({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("sticker")}));Nr.tintColor=ct(Io(this.config,"defaultTintColor",Nr.tintColor));if(this.config.colors&&this.config.colors.length>0){this.colorList=Vo(ct(this.config.colors));}}_createClass(Pt,[{key:"isStickerSelected",get:function get(){return this.editor.spriteStore.isSpriteSticker;}},{key:"isCustomStickerEnabled",get:function get(){return this.config.enableCustomUpload;}},{key:"customStickerTintMode",get:function get(){return this.config.customStickerTintMode;}},{key:"customStickerResizeMode",get:function get(){return this.config.customStickerResizeMode;}},{key:"currentSticker",get:function get(){if(this.isStickerSelected){var t=this.state.get(this.id);if(t){return t;}}return void 0;}},{key:"identifier",get:function get(){if(this.isStickerSelected){var t=this.state.get(this.id);if(t){return t.identifier;}}return"none";}},{key:"id",get:function get(){if(this.isStickerSelected){return this.editor.spriteStore.id;}return void 0;}},{key:"opacity",get:function get(){if(this.currentSticker){return this.currentSticker.opacity;}return Nr.opacity;}},{key:"tintMode",get:function get(){if(this.currentSticker){return this.currentSticker.tintMode;}return Nr.tintMode;}},{key:"resizeMode",get:function get(){if(this.currentSticker){return this.currentSticker.resizeMode;}return Nr.resizeMode;}},{key:"tintable",get:function get(){if(this.currentSticker){return this.currentSticker.tintMode==="solid"||this.currentSticker.tintMode==="colorized";}return false;}},{key:"tintColor",get:function get(){if(this.currentSticker){return this.currentSticker.tintColor;}return Nr.tintColor;}},{key:"config",get:function get(){return this.editor.configStore.config["sticker"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["sticker"];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"categories",get:function get(){return this.entityManager.categories;}}]);return Pt;}();f([Q],Pt.prototype,"selectedCategory",2);f([Q],Pt.prototype,"entityManager",2);f([C],Pt.prototype,"selectLast",2);f([C],Pt.prototype,"add",2);f([C],Pt.prototype,"duplicate",2);f([C],Pt.prototype,"bringToFront",2);f([C],Pt.prototype,"flipHorizontally",2);f([C],Pt.prototype,"delete",2);f([C],Pt.prototype,"updateStateFromHistory",2);f([C],Pt.prototype,"setState",2);f([C],Pt.prototype,"changeOpacity",2);f([C],Pt.prototype,"changeTintColor",2);f([C],Pt.prototype,"addFiles",2);f([C],Pt.prototype,"addCustomStickerAsset",2);f([C],Pt.prototype,"toggleCategorySelection",2);f([C],Pt.prototype,"pureReset",2);f([C],Pt.prototype,"dispose",2);f([S],Pt.prototype,"isStickerSelected",1);f([S],Pt.prototype,"isCustomStickerEnabled",1);f([S],Pt.prototype,"customStickerTintMode",1);f([S],Pt.prototype,"customStickerResizeMode",1);f([S],Pt.prototype,"currentSticker",1);f([S],Pt.prototype,"identifier",1);f([S],Pt.prototype,"id",1);f([S],Pt.prototype,"opacity",1);f([S],Pt.prototype,"tintMode",1);f([S],Pt.prototype,"resizeMode",1);f([S],Pt.prototype,"tintable",1);f([S],Pt.prototype,"tintColor",1);f([S],Pt.prototype,"config",1);f([S],Pt.prototype,"locale",1);f([S],Pt.prototype,"localeColor",1);f([S],Pt.prototype,"selectedCategoryIdentifier",1);f([S],Pt.prototype,"items",1);f([S],Pt.prototype,"categories",1);});var _H=d(function(){hk();bk();});var Alt,te,yk;var _k=d(function(){pr();Alt="imgly_font_open_sans_bold";te={text:"Write Something",identifier:Alt,fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:mr.white,backgroundColor:mr.transparent||[0,0,0,0],width:0};yk={};});var xH;var vH=d(function(){pr();xH=function xH(){return Object.keys(nk).map(function(i){var t=nk[i];return{identifier:i,color:t,colorString:Un(t)};});};});var CH,_m10,gt;var xk=d(function(){Tt();O();zn();U();vH();ym();Zi();pr();_k();CH={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"};_m10=/*#__PURE__*/function(){function _m(t){var _this324=this;_classCallCheck(this,_m);this.state=Q.map(yk);this.colorList=Hn();this.backgroundColorList=xH();this.fontsLoadStatus=Q.object({pending:false,loaded:false});this.doesTextAssetExist=function(t){return _this324.editor.assetProvider.getFontAssets().findIndex(function(e){return e.identifier===t;})!==-1;};this.validFontWithConfig=function(t){return _this324.fonts.find(function(e){return e.identifier===t;})||_this324.fonts[0];};this.addOrselect=function(){if(!_this324.state.size){_this324.add();}else{_this324.selectLast();_this324.loadFonts();}};this.selectLast=function(){_this324.editor.spriteStore.selectHighestOrderSprite(Array.from(_this324.state.keys()));};this.add=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(){var t,e,r;return regeneratorRuntime.wrap(function _callee28$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:t=_this324.fontsLoadStatus;e=function e(){_this324.editor.spriteStore.addText({state:{identifier:te.identifier,text:te.text,textColor:te.textColor,backgroundColor:te.backgroundColor,lineHeight:te.lineHeight,alignment:te.alignment,fontSize:0}});};if(!(!t.pending&&!t.loaded)){_context29.next=18;break;}_this324.fontsLoadStatus.pending=true;r=_this324.editor.assetProvider.getFontManager();_context29.prev=5;_context29.next=8;return r.loadFontsWithIdentifiers([te.identifier]);case 8:e();_context29.next=14;break;case 11:_context29.prev=11;_context29.t0=_context29["catch"](5);_this324.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:te.identifier});case 14:_context29.next=16;return _this324.loadFonts();case 16:_context29.next=19;break;case 18:e();case 19:case"end":return _context29.stop();}}},_callee28,null,[[5,11]]);}));this.duplicate=function(){if(_this324.id){var _t35=_this324.editor.spriteStore.getDuplicateContainerTransform(_this324.id);_this324.editor.spriteStore.addText({state:{identifier:_this324.identifier,text:_this324.text,textColor:ct(_this324.textColor),lineHeight:_this324.lineHeight,alignment:_this324.alignment,fontSize:_this324.fontSize,backgroundColor:ct(_this324.backgroundColor),width:_this324.width},transform:_t35});}};this.bringToFront=function(){if(_this324.id){_this324.editor.spriteStore.bringToFront(_this324.id);}};this["delete"]=function(){if(_this324.id){var _t36=_this324.id;_this324.editor.spriteStore.removeSprite(_t36);_this324.state["delete"](_t36);_this324.selectLast();}};this.setEditMode=function(t){_this324.editor.spriteStore.setEditMode(t);};this.changeFont=function(t){var e=_this324.fonts.find(function(r){return r.identifier===t;});_this324.changeIdentifier(e,_this324.id);if(_this324.id){_this324.addSnapshot("edit",_this324.locale.history.fontFamily);}};this.changeIdentifier=function(t,e){Ve(function(){if(t&&e){var r=_this324.state.get(e);if(r){_this324.editor.spriteStore.setContainerProperties(e,{fontIdentifier:t.identifier},true);var o=_this324.editor.spriteStore.getContainerProperties(e);r.identifier=o.fontIdentifier;r.fontFamily=t.fontFamily;r.fontStyle=t.fontStyle;r.fontWeight=t.fontWeight;r.fontSize=o.fontSize;r.width=o.width;r.defaultFontSize=r.fontSize;_this324.state.set(e,r);}}});};this.changeFontSize=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(_this324.id){var r=_this324.state.get(_this324.id);if(r){r.fontSize=t;if(e){r.defaultFontSize=t;}_this324.state.set(_this324.id,r);}}};this.updateDefaultFontSize=function(){if(_this324.id){var _t37=_this324.state.get(_this324.id);if(_t37){_t37.defaultFontSize=_t37.fontSize;_this324.state.set(_this324.id,_t37);}}};this.changeSize=function(t,e){var r=_this324.state.get(t);if(r){r.width=e.width;r.fontSize=e.fontSize;r.defaultFontSize=e.fontSize;_this324.state.set(t,r);}};this.changeWidth=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){e.width=t;_this324.state.set(_this324.id,e);}}};this.changeText=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){_this324.editor.spriteStore.setContainerProperties(_this324.id,{text:t},true);var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);var o=_this324.editor.outputContainer.getSizeInOutputSpace();var n=_this324.editor.spriteStore.getSize(_this324.id);if(!_this324.config.disableAutoScaling){if(n.height>o.height){_this324.editor.spriteStore.setContainerProperties(_this324.id,{fontSize:_this324.calculateFitFontSize(_this324.id,o.height)},true);}}r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.text=r.text;e.fontSize=r.fontSize;e.defaultFontSize=r.fontSize;_this324.state.set(_this324.id,e);_this324.addSnapshot("edit",_this324.locale.history.edit);}}};this.calculateFitFontSize=function(t,e){if(!_m10.measureContext){var h=document.createElement("canvas");_m10.measureContext=h.getContext("2d");}var r=_this324.editor.spriteStore.getContainerProperties(t);var o=_this324.editor.engine.assetProvider.getFontManager().getFontWithId(r.fontIdentifier);var n=_this324.config.minFontSizeForAutoScaling;var s=nu(_m10.measureContext,r.text,o,r.fontSize,r.lineHeight,r.width,o.textMetrics);var a=Math.min(Math.floor(r.fontSize*(e/s.height)),1);var l=Math.round(r.fontSize);var c=0;var u=l-a;var m=Math.floor((l-a)*2);var p=u;while(c<=m){u=c+Math.floor((m-c)/2);var _h15=nu(_m10.measureContext,r.text,o,u,r.lineHeight,r.width,o.textMetrics);if(e<_h15.height){m=u-1;p=u-1;}else if(e>_h15.height){c=u+1;if(a+u>=l){return l;}}else{p=u;break;}}if(n&&p<n){return n;}return p;};this.changeLineHeight=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e&&t){_this324.editor.spriteStore.setContainerProperties(_this324.id,{lineHeight:t},true);var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.lineHeight=r.lineHeight;_this324.state.set(_this324.id,e);}}};this.changeColor=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){_this324.editor.spriteStore.setContainerProperties(_this324.id,{textColor:t});var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.textColor=r.textColor;_this324.state.set(_this324.id,e);}}};this.changeBackgroundColor=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){_this324.editor.spriteStore.setContainerProperties(_this324.id,{backgroundColor:t});var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.backgroundColor=r.backgroundColor;_this324.state.set(_this324.id,e);}}};this.colorSnapshot=function(){_this324.addSnapshot("edit",_this324.locale.history.textColor);};this.backgroundColorSnapshot=function(){_this324.addSnapshot("edit",_this324.locale.history.backgroundColor);};this.changeAlignment=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){_this324.editor.spriteStore.setContainerProperties(_this324.id,{alignment:t});var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.alignment=r.alignment;_this324.state.set(_this324.id,e);_this324.addSnapshot("edit",_this324.locale.history.alignment);}}};this.toolSnapshot=function(){_this324.addSnapshot("edit",_this324.locale.history.lineSpacing);};this.addSnapshot=function(t,e){var r=_this324.editor.historyStore.getCurrentSpritesState();if((r==null?void 0:r.text)&&(0,Ye["default"])(r.text,ct(_this324.state))){return;}if(_this324.currentText){_this324.editor.spriteStore.addSnapshot(t,e);}};this.updateStateFromHistory=function(t,e){if((0,Ye["default"])(e,_this324.state.get(t))){return;}_this324.setState(t,e);_this324.editor.spriteStore.setContainerProperties(t,e);};this.setState=function(t,e){var r=_this324.state.get(t);if(r){if(e.alignment){r.alignment=e.alignment;}if(e.text){r.text=e.text;}if(e.lineHeight){r.lineHeight=e.lineHeight;}if(e.textColor){r.textColor=e.textColor;}if(e.backgroundColor){r.backgroundColor=e.backgroundColor;}if(e.fontIdentifier){r.identifier=e.fontIdentifier;}if(e.fontSize){r.fontSize=e.fontSize;r.defaultFontSize=e.fontSize;}if(e.width){r.width=e.width;}}else{var o=_this324.validFontWithConfig(e.fontIdentifier);if(o){_this324.state.set(t,{text:e.text,identifier:o.identifier,alignment:e.alignment,textColor:e.textColor?e.textColor:te.textColor,backgroundColor:e.backgroundColor?e.backgroundColor:te.backgroundColor,fontFamily:o.fontFamily,fontStyle:o.fontStyle,fontSize:e.fontSize,fontWeight:o.fontWeight,lineHeight:e.lineHeight,width:e.width,defaultFontSize:e.fontSize});}}};this.setFontSize=function(t){if(_this324.id){var e=_this324.state.get(_this324.id);if(e){_this324.editor.spriteStore.setContainerProperties(_this324.id,{fontSize:t},true);var r=_this324.editor.spriteStore.getContainerProperties(_this324.id);e.fontSize=r.fontSize;e.defaultFontSize=r.fontSize;_this324.state.set(_this324.id,e);}}};this.pureReset=function(){_this324.state=Q.map(yk);};this.dispose=function(){_this324.state=null;_this324.fontsLoadStatus=null;_this324.editor=null;_this324.backgroundColorList=null;_this324.colorList=null;};this.editor=t;if(!this.fonts.find(function(e){return e.identifier===te.identifier;})){te.identifier=this.fonts[0].identifier;}te.textColor=ct(Io(this.config,"defaultColor",te.textColor));te.backgroundColor=ct(Io(this.config,"defaultBackgroundColor",te.backgroundColor));te.text=this.locale.canvasControls.placeholderText;if(this.config.colors&&this.config.colors.length>0){this.colorList=Vo(ct(this.config.colors));}if(this.config.backgroundColors&&this.config.backgroundColors.length>0){this.backgroundColorList=Vo(ct(this.config.backgroundColors));}}_createClass(_m,[{key:"loadFonts",value:function(){var _loadFonts2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(){var t,e,r,n;return regeneratorRuntime.wrap(function _callee29$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:t=this.fontsLoadStatus;if(!t.loaded){_context30.next=3;break;}return _context30.abrupt("return");case 3:e=this.editor.assetProvider.getFontManager();r=this.editor.assetProvider.getFontAssetsForText().filter(Boolean).map(function(o){return o.identifier;});_context30.prev=5;_context30.next=8;return e.loadFontsWithIdentifiers(r);case 8:_context30.next=14;break;case 10:_context30.prev=10;_context30.t0=_context30["catch"](5);n=r.filter(function(s){return!e.isFontLoaded(s);}).join(", ");this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:n});case 14:t.loaded=true;case 15:case"end":return _context30.stop();}}},_callee29,this,[[5,10]]);}));function loadFonts(){return _loadFonts2.apply(this,arguments);}return loadFonts;}()},{key:"isEditMode",get:function get(){return this.editor.spriteStore.isEditMode;}},{key:"isTextSelected",get:function get(){return this.editor.spriteStore.isSpriteText;}},{key:"fontsLoaded",get:function get(){return this.fontsLoadStatus.loaded;}},{key:"currentText",get:function get(){if(this.isTextSelected){var t=this.state.get(this.id);if(t){return t;}}return void 0;}},{key:"text",get:function get(){if(this.currentText){return this.currentText.text;}return te.text;}},{key:"fontSize",get:function get(){if(this.currentText){return this.currentText.fontSize;}return te.fontSize;}},{key:"defaultFontSize",get:function get(){if(this.currentText){return this.currentText.defaultFontSize;}return te.defaultFontSize;}},{key:"width",get:function get(){if(this.currentText){return this.currentText.width;}return te.width;}},{key:"fontFamily",get:function get(){if(this.currentText){return this.currentText.fontFamily;}return te.fontFamily;}},{key:"fontStyle",get:function get(){if(this.currentText){return this.currentText.fontStyle;}return te.fontStyle;}},{key:"fontWeight",get:function get(){if(this.currentText){return this.currentText.fontWeight;}return te.fontWeight;}},{key:"lineHeight",get:function get(){if(this.currentText){return this.currentText.lineHeight;}return te.lineHeight;}},{key:"identifier",get:function get(){if(this.currentText){return this.currentText.identifier;}return te.identifier;}},{key:"id",get:function get(){if(this.isTextSelected){return this.editor.spriteStore.id;}return void 0;}},{key:"alignment",get:function get(){if(this.currentText){return this.currentText.alignment;}return te.alignment;}},{key:"textColor",get:function get(){if(this.currentText){return this.currentText.textColor;}return te.textColor;}},{key:"backgroundColor",get:function get(){if(this.currentText){return this.currentText.backgroundColor;}return te.backgroundColor;}},{key:"config",get:function get(){return this.editor.configStore.config["text"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["text"];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"rawOptions",get:function get(){return this.editor.assetProvider.getFontAssetsForText();}},{key:"availableOptions",get:function get(){if(this.config.fonts.length){return this.config.fonts.map(function(t){return t.identifier;});}return this.rawOptions.filter(Boolean).map(function(t){return t.identifier;});}},{key:"fonts",get:function get(){var _this325=this;return this.rawOptions.filter(Boolean).reduce(function(t,e){if(_this325.availableOptions.indexOf(e.identifier)!==-1){return[].concat(_toConsumableArray(t),[{identifier:e.identifier,fontFamily:e.fontFamily,fontStyle:e.fontStyle||"",fontWeight:e.fontWeight||""}]);}return t;},[]);}},{key:"fontFamilies",get:function get(){return _toConsumableArray(new Set(this.fonts));}}],[{key:"defaultText",value:function defaultText(){return te.text;}},{key:"getDisplayFontStyle",value:function getDisplayFontStyle(t){var e=t.fontWeight&&CH[t.fontWeight].toLowerCase()!=="regular"?CH[t.fontWeight]:"";var r=t.fontStyle&&t.fontStyle.toLowerCase()!=="normal"?t.fontStyle:"";return"".concat(t.fontFamily.toLowerCase().includes(e.toLowerCase())?"":e," ").concat(r).trim();}}]);return _m;}();gt=_m10;f([C],gt.prototype,"addOrselect",2);f([C],gt.prototype,"selectLast",2);f([C],gt.prototype,"add",2);f([C],gt.prototype,"duplicate",2);f([C],gt.prototype,"bringToFront",2);f([C],gt.prototype,"delete",2);f([C],gt.prototype,"setEditMode",2);f([C],gt.prototype,"changeFont",2);f([C],gt.prototype,"changeIdentifier",2);f([C],gt.prototype,"changeFontSize",2);f([C],gt.prototype,"updateDefaultFontSize",2);f([C],gt.prototype,"changeSize",2);f([C],gt.prototype,"changeWidth",2);f([C],gt.prototype,"changeText",2);f([C],gt.prototype,"changeLineHeight",2);f([C],gt.prototype,"changeColor",2);f([C],gt.prototype,"changeBackgroundColor",2);f([C],gt.prototype,"changeAlignment",2);f([C],gt.prototype,"updateStateFromHistory",2);f([C],gt.prototype,"setState",2);f([C],gt.prototype,"setFontSize",2);f([C],gt.prototype,"pureReset",2);f([C],gt.prototype,"dispose",2);f([S],gt.prototype,"isEditMode",1);f([S],gt.prototype,"isTextSelected",1);f([S],gt.prototype,"fontsLoaded",1);f([S],gt.prototype,"currentText",1);f([S],gt.prototype,"text",1);f([S],gt.prototype,"fontSize",1);f([S],gt.prototype,"defaultFontSize",1);f([S],gt.prototype,"width",1);f([S],gt.prototype,"fontFamily",1);f([S],gt.prototype,"fontStyle",1);f([S],gt.prototype,"fontWeight",1);f([S],gt.prototype,"lineHeight",1);f([S],gt.prototype,"identifier",1);f([S],gt.prototype,"id",1);f([S],gt.prototype,"alignment",1);f([S],gt.prototype,"textColor",1);f([S],gt.prototype,"backgroundColor",1);f([S],gt.prototype,"config",1);f([S],gt.prototype,"locale",1);f([S],gt.prototype,"localeColor",1);f([S],gt.prototype,"rawOptions",1);f([S],gt.prototype,"availableOptions",1);f([S],gt.prototype,"fonts",1);f([S],gt.prototype,"fontFamilies",1);});var SH=d(function(){_k();xk();});var Blt,Qe,vk,Ck;var Sk=d(function(){pr();Blt="imgly_text_design_blocks";Qe={identifier:Blt,color:mr.white,isInverted:false,text:"Write Something With Style",seed:0,padding:0,width:0};vk={imgly_text_design_blocks:835,imgly_text_design_rotated:6,imgly_text_design_blocks_light:3,imgly_text_design_equal_width:727,imgly_text_design_masked:259,imgly_text_design_celebrate:579,imgly_text_design_sunshine:77,imgly_text_design_masked_badge:683,imgly_text_design_blocks_condensed:673,imgly_text_design_celebrate_simple:425,imgly_text_design_equal_width_fat:961,imgly_text_design_watercolor:671,imgly_text_design_particles:683,imgly_text_design_masked_speech_bubble:317,imgly_text_design_masked_speech_bubble_comic:229,imgly_text_design_multiline:831};Ck={};});var Mt;var wk=d(function(){Tt();O();U();ym();Zi();Nn();pr();Sk();Mt=/*#__PURE__*/function(){function Mt(t){var _this326=this;_classCallCheck(this,Mt);this.state=Q.map(Ck);this.colorList=Hn();this.fontsLoaded=false;this.doesTextDesignAssetExist=function(t){return _this326.entityManager.items.findIndex(function(e){return e.identifier===t;})!==-1;};this.addOrselect=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){return regeneratorRuntime.wrap(function _callee30$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:_context31.next=2;return _this326.loadFonts();case 2:if(!_this326.state.size){_this326.add();}else{_this326.selectLast();}case 3:case"end":return _context31.stop();}}},_callee30);}));this.selectLast=function(){_this326.editor.spriteStore.selectHighestOrderSprite(Array.from(_this326.state.keys()));};this.add=function(){_this326.editor.spriteStore.addTextDesign({state:{identifier:Qe.identifier,text:Qe.text,color:Qe.color,isInverted:Qe.isInverted,seed:vk[Qe.identifier]||Qe.seed,padding:0}});};this.updateStateFromHistory=function(t,e){if((0,Ye["default"])(e,_this326.state.get(t))){return;}var r=_this326.state.get(t);if(e.identifier===r.identifier){_this326.setState(t,e);_this326.editor.spriteStore.setContainerProperties(t,e);}else{_this326.changeIdentifier(e.identifier,false,e.seed,t);}};this.setState=function(t,e){var r=_this326.state.get(t);if(r){if(e.inverted){r.isInverted=e.inverted;}if(e.seed){r.seed=e.seed;}if(e.color){r.color=e.color;}if(e.padding){r.padding=e.padding;}if(e.width){r.width=e.width;}}else{_this326.state.set(t,{width:e.width,text:e.text,isInverted:e.inverted,identifier:e.identifier,seed:e.seed,color:e.color?e.color:Qe.color,padding:e.padding});}};this.changeText=function(t){if(_this326.id){var _e21=_this326.state.get(_this326.id);if(_e21){_this326.editor.spriteStore.setContainerProperties(_this326.id,{text:t},true);var r=_this326.editor.spriteStore.getContainerProperties(_this326.id);_e21.text=r.text;_this326.state.set(_this326.id,_e21);_this326.addSnapshot("edit",_this326.locale.history.edit);}}};this.setEditMode=function(t){_this326.editor.spriteStore.setEditMode(t);};this.duplicate=function(){if(_this326.id){var _t38=_this326.editor.spriteStore.getDuplicateContainerTransform(_this326.id);_this326.editor.spriteStore.addTextDesign({state:{identifier:_this326.identifier,text:_this326.text,color:ct(_this326.color),isInverted:_this326.isInverted,seed:_this326.seed,padding:_this326.padding,width:_this326.width},transform:_t38});}};this.bringToFront=function(){if(_this326.id){_this326.editor.spriteStore.bringToFront(_this326.id);}};this.addSnapshot=function(t,e){var r=_this326.editor.historyStore.getCurrentSpritesState();if((r==null?void 0:r.textdesign)&&(0,Ye["default"])(r.textdesign,ct(_this326.state))){return;}if(_this326.currentTextDesign){_this326.editor.spriteStore.addSnapshot(t,e);}};this["delete"]=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this326.id;if(t){_this326.editor.spriteStore.removeSprite(t);_this326.state["delete"](t);_this326.selectLast();}};this.changeSeed=function(){if(_this326.id){var _t39=_this326.state.get(_this326.id);if(_t39){_this326.editor.spriteStore.setContainerProperties(_this326.id,{seed:-1},true);var _e22=_this326.editor.spriteStore.getContainerProperties(_this326.id);_t39.seed=_e22.seed;_this326.state.set(_this326.id,_t39);_this326.addSnapshot("edit",_this326.locale.history.shuffle);}}};this.changeIdentifier=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:_this326.id;if(o&&t!==_this326.identifier){var n=_this326.state.get(o);var s=_this326.editor.spriteStore.getContainerTransform(o);_this326.editor.spriteStore.addTextDesign({spriteId:o,state:{identifier:t,text:n.text,color:ct(n.color),isInverted:n.isInverted,seed:r||vk[t]||n.seed,padding:n.padding,width:n.width},transform:s},e,true);}};this.changeColor=function(t){if(_this326.id){var _e23=_this326.state.get(_this326.id);if(_e23){_this326.editor.spriteStore.setContainerProperties(_this326.id,{color:t});var r=_this326.editor.spriteStore.getContainerProperties(_this326.id);_e23.color=r.color;_this326.state.set(_this326.id,_e23);}}};this.colorSnapshot=function(){_this326.addSnapshot("edit",_this326.locale.history.color);};this.invertBackground=function(){if(_this326.id){var _t40=_this326.state.get(_this326.id);if(_t40){_this326.editor.spriteStore.setContainerProperties(_this326.id,{inverted:!_t40.isInverted},true);var _e24=_this326.editor.spriteStore.getContainerProperties(_this326.id);_t40.isInverted=_e24.inverted;_this326.state.set(_this326.id,_t40);_this326.addSnapshot("edit",_this326.locale.history.invert);}}};this.changeWidth=function(t){if(_this326.id){var _e25=_this326.state.get(_this326.id);if(_e25){_e25.width=t;_this326.state.set(_this326.id,_e25);}}};this.changePadding=function(t){if(_this326.id){var _e26=_this326.state.get(_this326.id);if(_e26){_e26.padding=t;_this326.state.set(_this326.id,_e26);}}};this.pureReset=function(){_this326.state=Q.map(Ck);};this.dispose=function(){_this326.state=null;_this326.fontsLoaded=null;_this326.editor=null;_this326.colorList=null;};this.editor=t;var e=this.editor.assetProvider.getAssets("textdesign");this.entityManager=new _Ne(e,_objectSpread(_objectSpread({},this.config),{},{flattenCategories:true,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")}));if(!this.entityManager.items.find(function(r){return r.identifier===Qe.identifier;})){Qe.identifier=this.entityManager.items[0].identifier;}Qe.text=this.locale.canvasControls.placeholderText;Qe.color=ct(Io(this.config,"defaultColor",Qe.color));if(this.config.colors&&this.config.colors.length>0){this.colorList=Vo(ct(this.config.colors));}}_createClass(Mt,[{key:"loadFonts",value:function(){var _loadFonts3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(){var t,e,o;return regeneratorRuntime.wrap(function _callee31$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!this.fontsLoaded){_context32.next=2;break;}return _context32.abrupt("return");case 2:t=this.editor.assetProvider.getFontManager();e=this.editor.assetProvider.getFontAssetsForTextDesign().map(function(r){return r.identifier;});_context32.prev=4;_context32.next=7;return t.loadFontsWithIdentifiers(e);case 7:_context32.next=13;break;case 9:_context32.prev=9;_context32.t0=_context32["catch"](4);o=e.filter(function(n){return!t.isFontLoaded(n);}).join(", ");this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:o});case 13:this.fontsLoaded=true;case 14:case"end":return _context32.stop();}}},_callee31,this,[[4,9]]);}));function loadFonts(){return _loadFonts3.apply(this,arguments);}return loadFonts;}()},{key:"isTextDesignSelected",get:function get(){return this.editor.spriteStore.isSpriteTextDesign;}},{key:"isEditMode",get:function get(){return this.editor.spriteStore.isEditMode;}},{key:"currentTextDesign",get:function get(){if(this.isTextDesignSelected&&this.id){var t=this.state.get(this.id);if(t){return t;}}return void 0;}},{key:"id",get:function get(){if(this.isTextDesignSelected){return this.editor.spriteStore.id;}return void 0;}},{key:"text",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.text;}return Qe.text;}},{key:"seed",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.seed;}return Qe.seed;}},{key:"padding",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.padding;}return Qe.padding;}},{key:"width",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.width;}return Qe.width;}},{key:"identifier",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.identifier;}return null;}},{key:"isInverted",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.isInverted;}return Qe.isInverted;}},{key:"color",get:function get(){if(this.currentTextDesign){return this.currentTextDesign.color;}return Qe.color;}},{key:"config",get:function get(){return this.editor.configStore.config["textdesign"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["textdesign"];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"items",get:function get(){return this.entityManager.items;}}],[{key:"defaultText",value:function defaultText(){return Qe.text;}}]);return Mt;}();f([C],Mt.prototype,"addOrselect",2);f([C],Mt.prototype,"selectLast",2);f([C],Mt.prototype,"add",2);f([C],Mt.prototype,"updateStateFromHistory",2);f([C],Mt.prototype,"setState",2);f([C],Mt.prototype,"changeText",2);f([C],Mt.prototype,"setEditMode",2);f([C],Mt.prototype,"duplicate",2);f([C],Mt.prototype,"bringToFront",2);f([C],Mt.prototype,"delete",2);f([C],Mt.prototype,"changeSeed",2);f([C],Mt.prototype,"changeIdentifier",2);f([C],Mt.prototype,"changeColor",2);f([C],Mt.prototype,"invertBackground",2);f([C],Mt.prototype,"changeWidth",2);f([C],Mt.prototype,"changePadding",2);f([C],Mt.prototype,"pureReset",2);f([C],Mt.prototype,"dispose",2);f([S],Mt.prototype,"isTextDesignSelected",1);f([S],Mt.prototype,"isEditMode",1);f([S],Mt.prototype,"currentTextDesign",1);f([S],Mt.prototype,"id",1);f([S],Mt.prototype,"text",1);f([S],Mt.prototype,"seed",1);f([S],Mt.prototype,"padding",1);f([S],Mt.prototype,"width",1);f([S],Mt.prototype,"identifier",1);f([S],Mt.prototype,"isInverted",1);f([S],Mt.prototype,"color",1);f([S],Mt.prototype,"config",1);f([S],Mt.prototype,"locale",1);f([S],Mt.prototype,"localeColor",1);f([S],Mt.prototype,"items",1);});var wH=d(function(){Sk();wk();});var Wn;var a0=d(function(){pr();Wn={identifier:"identity",opacity:1,width:0,color:mr.white};});var Plt,Zs;var TH=d(function(){Tt();Kh();a0();Plt=new Ys(0,1);Zs=/*#__PURE__*/function(){function Zs(t){var _this327=this;_classCallCheck(this,Zs);this.changeIdentifier=function(t){_this327.state.identifier=t;};this.changeOpacity=function(t){var e=Plt.clamp(t);_this327.state.opacity=e;};this.changeWidth=function(t){_this327.state.width=t;};this.changeColor=function(t){_this327.state.color=t;};this.reset=function(){if(_this327.indexInContainer===-1){_this327.state.identifier=Wn.identifier;_this327.state.opacity=Wn.opacity;_this327.state.width=Wn.width;_this327.state.color=Wn.color;_this327.removeIndex();}};this.removeFrameEffect=function(){if(_this327.effect){_this327.engine.removeEffect(_this327.effect);_this327.effect=void 0;}};this.setEffectProperties=function(t){if(_this327.effect){_this327.removeIndex();_this327.effect.setProperties(t);return _this327.effect.getProperties();}return null;};this.setFrameEffect=function(_ref150){var t=_ref150.identifier,e=_ref150.width,r=_ref150.opacity,o=_ref150.color;var n=_objectSpread({},_this327.state);_this327.changeIdentifier(t);_this327.changeWidth(e);_this327.changeOpacity(r);_this327.changeColor(o);_this327.removeFrameEffect();return new Promise(function(s,a){_this327.engine.addFrameFromAssets(t,_this327.engineMediator.image.container).then(function(l){_this327.effect=l;_this327.effect.setProperties({tintColor:o,opacity:r,width:e});s();})["catch"](function(l){_this327.changeIdentifier(n.identifier);_this327.changeOpacity(n.opacity);_this327.changeWidth(n.width);_this327.changeColor(n.color);if(n.identifier==="identity"){_this327.removeIndex();}a(l);});});};this.removeIndex=function(){_this327.engineMediator.orderHelper.removeSprite(_this327.state.identifier);};this.engineMediator=t;this.state=Wn;}_createClass(Zs,[{key:"engine",get:function get(){return this.engineMediator.engine;}},{key:"imageContainer",get:function get(){return this.engineMediator.image.container;}},{key:"indexInContainer",get:function get(){if(this.effect){return this.effect.getIndexInParent();}return-1;}}]);return Zs;}();f([Q],Zs.prototype,"state",2);f([C],Zs.prototype,"changeIdentifier",2);f([C],Zs.prototype,"changeOpacity",2);f([C],Zs.prototype,"changeWidth",2);f([C],Zs.prototype,"changeColor",2);f([C],Zs.prototype,"reset",2);});var kH,Be;var IH=d(function(){kH=y(rd());Tt();O();U();ym();Zi();Nn();pr();a0();TH();Be=/*#__PURE__*/function(){function Be(t){var _this328=this;_classCallCheck(this,Be);this.colorList=Hn();this.throttledRender=(0,kH["default"])(function(){if(_this328.editor){_this328.editor.render();}},10,{trailing:true});this.selectFrame=/*#__PURE__*/function(){var _ref151=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(t){var _e27;return regeneratorRuntime.wrap(function _callee32$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:if(!(t!==_this328.identifier)){_context33.next=6;break;}_e27=.1*_this328.editor.shortestOutputSide;_context33.next=4;return _this328.frameStore.setFrameEffect({identifier:t,width:_e27,opacity:1,color:Wn.color});case 4:_this328.editor.render();_this328.addSnapshot("add","frame");case 6:case"end":return _context33.stop();}}},_callee32);}));return function(_x33){return _ref151.apply(this,arguments);};}();this.changeOpacity=function(t){var e=_this328.frameStore.setEffectProperties({opacity:t});if(e){_this328.frameStore.changeOpacity(e.opacity);_this328.throttledRender();}};this.changeWidth=function(t){var e=_this328.frameStore.setEffectProperties({width:t});if(e){_this328.frameStore.changeWidth(e.width);_this328.throttledRender();}};this.changeColor=function(t){var e=_this328.frameStore.setEffectProperties({tintColor:t});if(e){_this328.frameStore.changeColor(e.tintColor);_this328.throttledRender();}};this.colorSnapshot=function(){_this328.addSnapshot("edit",_this328.locale.controls.selectColor);};this.toolSnapshot=function(t){_this328.addSnapshot("edit",t);};this.addSnapshot=function(t,e){_this328.editor.addSnapshot(void 0,t,e);};this.pureReset=function(){_this328.frameStore.removeFrameEffect();_this328.frameStore.reset();};this.reset=function(){_this328.pureReset();_this328.addSnapshot("delete",_this328.locale.controls.buttonReset);_this328.editor.render();};this.updateStateFromHistory=function(t){if(t.identifier==="identity"){_this328.pureReset();return new Promise(function(e){e();});}return _this328.frameStore.setFrameEffect(t);};this.updateStateFromSerialization=/*#__PURE__*/function(){var _ref152=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(t){var e;return regeneratorRuntime.wrap(function _callee33$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:e=_this328.entityManager.items.find(function(r){return r.identifier===t.identifier;});if(!e){_context34.next=3;break;}return _context34.abrupt("return",_this328.frameStore.setFrameEffect(t).then(function(){_this328.editor.transformToolStore.setFrameOpacity(t.opacity);}));case 3:return _context34.abrupt("return",new Promise(function(r,o){o(new Error("Frame Asset doesn't exist"));}));case 4:case"end":return _context34.stop();}}},_callee33);}));return function(_x34){return _ref152.apply(this,arguments);};}();this.editor=t;this.frameStore=new Zs(this.editor.engineMediator);var e=this.editor.assetProvider.getAssets("frame");var r=this.config;this.entityManager=new _Ne(e,_objectSpread(_objectSpread({},r),{},{flattenCategories:true,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")}));Wn.color=ct(Io(this.config,"defaultColor",Wn.color));if(this.config.colors&&this.config.colors.length>0){this.colorList=Vo(ct(this.config.colors));}}_createClass(Be,[{key:"state",get:function get(){return this.frameStore.state;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"color",get:function get(){return this.state.color;}},{key:"size",get:function get(){return this.state.width;}},{key:"tintable",get:function get(){var _this329=this;var t=this.entityManager.items.find(function(e){return e.identifier===_this329.identifier;});return t&&t.tintable||false;}},{key:"opacity",get:function get(){return this.state.opacity;}},{key:"minSize",get:function get(){return this.editor.shortestOutputSide*.05;}},{key:"maxSize",get:function get(){return this.editor.shortestOutputSide*.3;}},{key:"config",get:function get(){return this.editor.configStore.config["frame"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["frame"];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}}]);return Be;}();f([C],Be.prototype,"selectFrame",2);f([C],Be.prototype,"changeOpacity",2);f([C],Be.prototype,"changeWidth",2);f([C],Be.prototype,"changeColor",2);f([C],Be.prototype,"pureReset",2);f([C],Be.prototype,"reset",2);f([C],Be.prototype,"updateStateFromHistory",2);f([C],Be.prototype,"updateStateFromSerialization",2);f([S],Be.prototype,"state",1);f([S],Be.prototype,"identifier",1);f([S],Be.prototype,"color",1);f([S],Be.prototype,"size",1);f([S],Be.prototype,"tintable",1);f([S],Be.prototype,"opacity",1);f([S],Be.prototype,"minSize",1);f([S],Be.prototype,"maxSize",1);f([S],Be.prototype,"config",1);f([S],Be.prototype,"locale",1);f([S],Be.prototype,"localeColor",1);f([S],Be.prototype,"items",1);f([S],Be.prototype,"isOptionSelected",1);});var Tk=d(function(){a0();IH();});var qh;var kk=d(function(){pr();qh={size:0,color:mr.white,hardness:0,maximumSize:.125,minimumSize:0,maximumHardness:1,minimumHardness:0};});var Ie;var Ik=d(function(){Tt();O();U();ym();Zi();pr();kk();Ie=/*#__PURE__*/function(){function Ie(t){var _this330=this;_classCallCheck(this,Ie);this.strokes={strokes:[]};this.colorList=Hn();this.dirty=Q.box(false);this.id="";this.containerId=function(){return _this330.id;};this.initSize=function(){var _this330$state=_this330.state,t=_this330$state.minimumSize,e=_this330$state.maximumSize;var r=_this330.size;if(r===0){_this330.changeSize(rS(_this330.config,"defaultSize",[t,e]));}};this.changeColor=function(t){_this330.state.color=t;};this.changeSize=function(t){_this330.state.size=t;};this.changeRelativeSize=function(t){var _this330$state2=_this330.state,e=_this330$state2.maximumSize,r=_this330$state2.minimumSize;_this330.state.size=(e-r)*t/100+r;};this.changeHardness=function(t){_this330.state.hardness=t;};this.reset=function(){_this330.pureReset();_this330.addSnapshot("delete",_this330.locale.controls.buttonReset);_this330.editor.render();};this.editor=t;this.state=_objectSpread(_objectSpread({},qh),{},{hardness:rS(this.config,"defaultHardness",[qh.minimumHardness,qh.maximumHardness]),color:ct(Io(this.config,"defaultColor",qh.color))});if(this.config.colors&&this.config.colors.length>0){this.colorList=Vo(ct(this.config.colors));}}_createClass(Ie,[{key:"addSnapshot",value:function addSnapshot(t,e){this.editor.addSnapshot(void 0,t,e);}},{key:"clickableCanvas",value:function clickableCanvas(t){this.editor.clickableCanvas(t);}},{key:"beginStroke",value:function beginStroke(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.drawingContainer){var e=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:t},this.editor.imageContainer,e);}this.id=this.drawingContainer.getID();this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:ct(this.state.color),size:this.state.size,hardness:this.state.hardness});}},{key:"strokePosition",value:function strokePosition(t){if(this.drawingContainer){var e=this.editor.previewToWorld(t,false);this.drawingContainer.addPointToCurrentStroke(e);this.editor.render();}}},{key:"endStroke",value:function endStroke(){if(this.drawingContainer){this.drawingContainer.endStroke();this.editor.render();this.strokes=this.drawingContainer.getData();this.addSnapshot("edit",this.locale.history.brushStroke);this.dirty.set(true);}}},{key:"updateStateFromHistory",value:function updateStateFromHistory(t){if((0,Ye["default"])(t,this.strokes)){return;}if((0,Ye["default"])(t,{strokes:[]})||!t){this.pureReset();return;}if(this.drawingContainer){if(this.strokes&&this.strokes.strokes.length===t.strokes.length){this.dirty.set(false);return;}this.strokes=t;this.drawingContainer.setData(this.strokes);}else{var e=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:t.strokes},this.editor.imageContainer,e);this.strokes=this.drawingContainer.getData();}this.dirty.set(this.strokes.strokes.length!==0);this.id=this.drawingContainer.getID();}},{key:"pureReset",value:function pureReset(){this.dirty.set(false);this.strokes={strokes:[]};if(this.drawingContainer){this.editor.engine.removeContainer(this.drawingContainer);this.drawingContainer=void 0;}}},{key:"config",get:function get(){return this.editor.configStore.config["brush"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["brush"];}},{key:"localeColor",get:function get(){return this.editor.configStore.locale.common.color;}},{key:"color",get:function get(){return this.state.color;}},{key:"size",get:function get(){return this.state.size;}},{key:"relativeSize",get:function get(){var _this$state5=this.state,t=_this$state5.size,e=_this$state5.maximumSize,r=_this$state5.minimumSize;return(t-r)*100/(e-r);}},{key:"sizeOnScreenSpace",get:function get(){var t=this.editor.engineMediator.engine.getSmallerOutputSide();return this.editor.worldToPreview(this.state.size*t);}},{key:"hardness",get:function get(){return this.state.hardness;}},{key:"isDirty",get:function get(){return this.dirty.get();}}]);return Ie;}();f([Q],Ie.prototype,"state",2);f([Q],Ie.prototype,"dirty",2);f([C],Ie.prototype,"initSize",2);f([C],Ie.prototype,"changeColor",2);f([C],Ie.prototype,"changeSize",2);f([C],Ie.prototype,"changeRelativeSize",2);f([C],Ie.prototype,"changeHardness",2);f([C],Ie.prototype,"clickableCanvas",1);f([C],Ie.prototype,"beginStroke",1);f([C],Ie.prototype,"strokePosition",1);f([C],Ie.prototype,"endStroke",1);f([C],Ie.prototype,"updateStateFromHistory",1);f([C],Ie.prototype,"reset",2);f([S],Ie.prototype,"config",1);f([S],Ie.prototype,"locale",1);f([S],Ie.prototype,"localeColor",1);f([S],Ie.prototype,"color",1);f([S],Ie.prototype,"size",1);f([S],Ie.prototype,"relativeSize",1);f([S],Ie.prototype,"sizeOnScreenSpace",1);f([S],Ie.prototype,"hardness",1);f([S],Ie.prototype,"isDirty",1);});var DH=d(function(){kk();Ik();});var jo;var Dk=d(function(){jo={position:{x:0,y:0},size:{height:0,width:0},lockResolution:false,forceDimensions:false,ratio:"*"};});function Ek(i){var t=i&&_typeof(i)==="object";return t&&!Llt(i)&&!Ult(i)&&!zlt(i);}function Nlt(i){return Array.isArray(i)?[]:{};}function Fk(i,t){var e=t&&t.clone===true;return e&&Ek(i)?Rk(Nlt(i),i,t):i;}function Hlt(i,t,e){var r={};if(Ek(i)){Object.keys(i).forEach(function(o){r[o]=Fk(i[o],e);});}Object.keys(t).forEach(function(o){var n=Ek(t[o])&&i[o];r[o]=n?Rk(i[o],t[o],e):Fk(t[o],e);});return r;}function Rk(i,t,e){var r=Array.isArray(t);if(r){return Array.isArray(i)?t:Fk(t,e);}return Hlt(i,t,e);}function Oi(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!Array.isArray(i)||i.length<2){throw new Error("first argument should be an array with at least two elements");}return i.reduce(function(e,r){return Rk(e,r,t);});}var Mlt,Llt,zlt,Ult;var xl=d(function(){Mlt=typeof Symbol==="function"&&Symbol["for"];Llt=function Llt(i){return Object.prototype.toString.call(i)==="[object RegExp]"||Object.prototype.toString.call(i)==="[object Date]"||Object.prototype.toString.call(i).includes("HTML")||Object.prototype.toString.call(i)==="[object Array]";};zlt=function zlt(i){if(Mlt&&Object.hasOwnProperty.call(i,"$$typeof")){return i.$$typeof===Symbol["for"]("react.element")||i.$$typeof===Symbol["for"]("react.forward_ref");}return false;};Ult=function Ult(i){return Object.hasOwnProperty.call(i,"__ngContext__");};});var Ok;var Ak=d(function(){O();Ok=/*#__PURE__*/function(_Tr3){_inherits(Ok,_Tr3);var _super236=_createSuper(Ok);function Ok(){var _this331;_classCallCheck(this,Ok);_this331=_super236.apply(this,arguments);_this331.prevDimensions={width:0,height:0};return _this331;}_createClass(Ok,[{key:"onExport",value:function onExport(t){this.emit("export",t);}},{key:"onClose",value:function onClose(){this.emit("close");}},{key:"onUndo",value:function onUndo(){this.emit("historyUndo");}},{key:"onRedo",value:function onRedo(){this.emit("historyRedo");}},{key:"onHistoryChange",value:function onHistoryChange(){this.emit("historyChange");}},{key:"onEditorReady",value:function onEditorReady(){this.emit("editorReady");}},{key:"onErrorImageLoading",value:function onErrorImageLoading(t){this.emit("errorImageLoading",t);}},{key:"onImageLoaded",value:function onImageLoaded(){this.emit("imageLoad");}},{key:"onStickerUploadedAdd",value:function onStickerUploadedAdd(t){this.emit("stickerUploadAdd",t);}},{key:"onToolChanged",value:function onToolChanged(t){this.emit("toolEnter",t);}},{key:"onErrorWebGLContextLost",value:function onErrorWebGLContextLost(){this.emit("errorWebGLContextLost");}},{key:"onCropDimensionsChanged",value:function onCropDimensionsChanged(t){if(this.prevDimensions.width!==t.width||this.prevDimensions.height!==t.height){this.emit("cropDimensionsChange",t);this.prevDimensions=t;}}}]);return Ok;}(Tr);});var Bk;var EH=d(function(){xl();t0();Bk=Oi([yl,{layout:"basic",defaultTool:null}]);});var FH=d(function(){t0();EH();});var Pk;var RH=d(function(){var _categories2,_items,_items2;O();Pk=_defineProperty({common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Transparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"R\xFCckg\xE4ngig machen",buttonRedo:"Wiederholen",buttonClose:"Schlie\xDFen"},infoModals:{exporting:{heading:"Exportieren...",body:"Einen Moment bitte..."},saving:{heading:"Speichere...",body:"Einen Moment bitte..."},loading:{heading:"Lade...",body:"Einen Moment bitte..."},resizing:{heading:"Bild wird bearbeitet...",body:"Einen Moment bitte..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Einen Moment bitte..."},stickerLoading:{heading:"Lade Sticker...",body:"Einen Moment bitte..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gr\xFCnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterst\xFCtzt",buttonYes:"Neu Laden",buttonNo:"Schlie\xDFen"},rendering:{headingDelimiter:":",body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden",buttonNo:"Schlie\xDFen"},fontLoading:{headingDelimiter:":",heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schlie\xDFen"},webcamUnavailable:{headingDelimiter:":",body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schlie\xDFen"},stickerLoading:{headingDelimiter:":",body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schlie\xDFen"},unexpectedError:{headingDelimiter:":",body:"Ein unerwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden",buttonNo:"Schlie\xDFen"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Bild verkleinert",body:"Ihr Bild \xFCbersteigt die maximale Gr\xF6sse von ${megapixels} megapixels und wurde auf ${width}x${height} Pixel verkleinert",buttonYes:"Weiter"},discardChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xC4nderungen verwerfen wollen?",buttonYes:"\xC4nderungen verwerfen",buttonNo:"\xC4nderungen beibehalten"},unsavedChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xC4nderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schlie\xDFen"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Ihre Daten wurden von einem veralteten Format geladen und k\xF6nnten anders aussehen",buttonYes:"\xC4nderungen anwenden",buttonNo:"Abbrechen"},unsupportedWebGLRenderer:{body:"Es wurde ein Problem im Browser festgestellt, welches zu langen Ladezeiten f\xFChren kann. Bitte probieren sie einen anderen Browser.",buttonYes:"Weiter"}},library:{title:"Bibliothek",controls:{buttonUpload:"Bild Hochladen",buttonWebcamOpen:"Webcam \xD6ffnen",buttonWebcamClose:"Webcam Schlie\xDFen",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse",itemAriaLabel:"Bild mit ${label} ersetzen"}},filter:{title:"Filter",controls:{buttonReset:"Zur\xFCcksetzen",sliderIntensity:"Filter Intensit\xE4t",itemAriaLabel:"${label} Filter hinzuf\xFCgen"},categories:(_categories2={},_defineProperty(_categories2,"imgly_filter_category_duotone","DuoTone"),_defineProperty(_categories2,"imgly_filter_category_bw","B & W"),_defineProperty(_categories2,"imgly_filter_category_vintage","Vintage"),_defineProperty(_categories2,"imgly_filter_category_smooth","Smooth"),_defineProperty(_categories2,"imgly_filter_category_cold","Cold"),_defineProperty(_categories2,"imgly_filter_category_warm","Warm"),_defineProperty(_categories2,"imgly_filter_category_legacy","Legacy"),_categories2),items:(_items={},_defineProperty(_items,"imgly_lut_celsius","Inferno"),_defineProperty(_items,"imgly_lut_chest","Chestnut"),_defineProperty(_items,"imgly_lut_fixie","Fixie"),_defineProperty(_items,"imgly_lut_fridge","Fridge"),_defineProperty(_items,"imgly_lut_front","Sunny 70s"),_defineProperty(_items,"imgly_lut_k2","Flat Black"),_defineProperty(_items,"imgly_lut_mellow","Mellow"),_defineProperty(_items,"imgly_lut_sin","Hard Stuff"),_defineProperty(_items,"imgly_lut_texas","Oldtimer"),_defineProperty(_items,"imgly_lut_ad1920","1920 A.D."),_defineProperty(_items,"imgly_lut_ancient","Ancient"),_defineProperty(_items,"imgly_lut_bleached","Kalmen"),_defineProperty(_items,"imgly_lut_bleachedblue","Joran"),_defineProperty(_items,"imgly_lut_blues","Polaroid"),_defineProperty(_items,"imgly_lut_blueshadows","Zephyr"),_defineProperty(_items,"imgly_lut_breeze","Levante"),_defineProperty(_items,"imgly_lut_bw","Greyed"),_defineProperty(_items,"imgly_lut_classic","Classic"),_defineProperty(_items,"imgly_lut_colorful","Colorful"),_defineProperty(_items,"imgly_lut_cool","Snappy"),_defineProperty(_items,"imgly_lut_cottoncandy","Candy"),_defineProperty(_items,"imgly_lut_creamy","Creamy"),_defineProperty(_items,"imgly_lut_eighties","Low Fire"),_defineProperty(_items,"imgly_lut_elder","Colla"),_defineProperty(_items,"imgly_lut_evening","Sunrise"),_defineProperty(_items,"imgly_lut_fall","Moss"),_defineProperty(_items,"imgly_lut_food","Food"),_defineProperty(_items,"imgly_lut_glam","Glam"),_defineProperty(_items,"imgly_lut_gobblin","Gobblin"),_defineProperty(_items,"imgly_lut_highcarb","High Carb"),_defineProperty(_items,"imgly_lut_highcontrast","Hicon"),_defineProperty(_items,"imgly_lut_k1","K1"),_defineProperty(_items,"imgly_lut_k6","K6"),_defineProperty(_items,"imgly_lut_kdynamic","Pebble"),_defineProperty(_items,"imgly_lut_keen","Keen"),_defineProperty(_items,"imgly_lut_lenin","Lemon"),_defineProperty(_items,"imgly_lut_litho","Litho"),_defineProperty(_items,"imgly_lut_lomo","Lomo"),_defineProperty(_items,"imgly_lut_lomo100","Lomo 100"),_defineProperty(_items,"imgly_lut_lucid","Lucid"),_defineProperty(_items,"imgly_lut_neat","Neat"),_defineProperty(_items,"imgly_lut_nogreen","Pumpkin"),_defineProperty(_items,"imgly_lut_orchid","Solanus"),_defineProperty(_items,"imgly_lut_pale","Pale"),_defineProperty(_items,"imgly_lut_pitched","Pitched"),_defineProperty(_items,"imgly_lut_plate","Weathered"),_defineProperty(_items,"imgly_lut_pola669","Green Gap"),_defineProperty(_items,"imgly_lut_polasx","Pola SX"),_defineProperty(_items,"imgly_lut_pro400","Pro 400"),_defineProperty(_items,"imgly_lut_quozi","Quozi"),_defineProperty(_items,"imgly_lut_sepiahigh","Sepia"),_defineProperty(_items,"imgly_lut_settled","Settled"),_defineProperty(_items,"imgly_lut_seventies","Seventies"),_defineProperty(_items,"imgly_lut_soft","Soft"),_defineProperty(_items,"imgly_lut_steel","Steel"),_defineProperty(_items,"imgly_lut_summer","Summer"),_defineProperty(_items,"imgly_lut_sunset","Golden"),_defineProperty(_items,"imgly_lut_tender","Tender"),_defineProperty(_items,"imgly_lut_twilight","Twilight"),_defineProperty(_items,"imgly_lut_winter","Softy"),_defineProperty(_items,"imgly_lut_x400","Dusty"),_defineProperty(_items,"imgly_duotone_desert","Desert"),_defineProperty(_items,"imgly_duotone_peach","Peach"),_defineProperty(_items,"imgly_duotone_clash","Clash"),_defineProperty(_items,"imgly_duotone_plum","Plum"),_defineProperty(_items,"imgly_duotone_breezy","Breezy"),_defineProperty(_items,"imgly_duotone_deepblue","Deep Blue"),_defineProperty(_items,"imgly_duotone_frog","Frog"),_defineProperty(_items,"imgly_duotone_sunset","Sunset"),_items)},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zur\xFCcksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"S\xE4ttigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Sch\xE4rfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Wei\xDF",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zur\xFCcksetzen",sliderIntensity:"Focus Intensit\xE4t",itemAriaLabel:"${label} Fokus hinzuf\xFCgen"},items:{radial:"Kreisf\xF6rmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gau\xDFsch"},history:{focusPosition:"Focus Position",focusSize:"Focus Gr\xF6\xDFe"}},overlay:{title:"Overlays",controls:{buttonReset:"Zur\xFCcksetzen",sliderOpacity:"Overlay Transparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"\xDCberblenden",blendModeHardLight:"Hartes Licht",blendModeSoftLight:"Weiches Licht",blendModeMultiply:"Multiplizieren",blendModeDarken:"Abdunkeln",blendModeLighten:"Aufhellen",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Transparenz",tabBlendMode:"Mischmodus",itemAriaLabel:"Overlay ${label} hinzuf\xFCgen"},items:(_items2={},_defineProperty(_items2,"imgly_overlay_bokeh","Bokeh"),_defineProperty(_items2,"imgly_overlay_chop","Chop"),_defineProperty(_items2,"imgly_overlay_clouds","Clouds"),_defineProperty(_items2,"imgly_overlay_golden","Golden"),_defineProperty(_items2,"imgly_overlay_grain","Grain"),_defineProperty(_items2,"imgly_overlay_hearts","Hearts"),_defineProperty(_items2,"imgly_overlay_lightleak1","Light Leak 1"),_defineProperty(_items2,"imgly_overlay_lightleak2","Light Leak 2"),_defineProperty(_items2,"imgly_overlay_metal","Metal"),_defineProperty(_items2,"imgly_overlay_mosaic","Mosaic"),_defineProperty(_items2,"imgly_overlay_painting","Painting"),_defineProperty(_items2,"imgly_overlay_paper","Paper"),_defineProperty(_items2,"imgly_overlay_rain","Rain"),_defineProperty(_items2,"imgly_overlay_vintage","Vintage"),_defineProperty(_items2,"imgly_overlay_wall1","Wall"),_defineProperty(_items2,"imgly_overlay_wall2","Wall 2"),_defineProperty(_items2,"imgly_overlay_wood","Wood"),_items2)},sticker:{title:"Sticker",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Stickerfarbe",tabColor:"Farbe",tabOpacity:"Transparenz",itemAriaLabel:"Sticker ${label} hinzuf\xFCgen"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color","delete":"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgr\xF6\xDFe",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrundfarbe",sliderLineSpacing:"Zeilenabstand",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeilenh\xF6he",tabFontSize:"Schriftgr\xF6\xDFe"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width","delete":"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Textfarbe",tabColor:"Farbe",tabShuffle:"Shuffle",itemAriaLabel:"Text Design ${label} hinzuf\xFCgen"},canvasControls:{placeholderText:"Etwas aufschreiben mit Style",buttonSave:"Done",buttonClose:"Schlie\xDFen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"L\xF6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order","delete":"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zur\xFCcksetzen",sliderOpacity:"Rahmen Transparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Transparenz",tabSize:"Dicke",itemAriaLabel:"Rahmen ${label} hinzuf\xFCgen"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zur\xFCcksetzen",sliderSize:"Dicke",sliderHardness:"H\xE4rte",selectColor:"Farbe",tabSize:"Dicke",tabHardness:"H\xE4rte",tabColor:"Farbe"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zur\xFCcksetzen",checkboxKeepResolution:"Fixiere Aufl\xF6sung",inputCropSize:"Bildgr\xF6\xDFe",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Spiegeln & Drehen",tabResolution:"Aufl\xF6sung",tabCropSize:"Bildgr\xF6\xDFe",itemAriaLabel:"Zuschneiden ${label}",inputHeightAriaLabel:"H\xF6he",inputWidthAriaLabel:"Breite"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Drehe im Uhrzeigersinn",buttonRotateAntiClockwise:"Drehe gegen Uhrzeigersinn"}}},"customTool",{title:"Benutzerdefiniert"});});var uu;var OH=d(function(){var _categories3,_items3,_items4;O();uu=_defineProperty({common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."},stickerLoading:{heading:"Loading Sticker...",body:"Just a few seconds..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Retry",buttonNo:"Close"},rendering:{headingDelimiter:":",body:"An error has occurred while rendering the image",buttonYes:"Retry",buttonNo:"Close"},fontLoading:{headingDelimiter:":",heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{headingDelimiter:":",body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{headingDelimiter:":",body:"Unable to load the sticker",buttonNo:"Close"},unexpectedError:{headingDelimiter:":",body:"An unexpected error has occured ${error}",buttonYes:"Retry",buttonNo:"Close"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Image resized",body:"Your image exceeds the maximum size of ${megapixels} megapixels and has been resized to ${width}x${height} pixels",buttonYes:"Continue"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Your data was restored from a legacy data format and might look different",buttonYes:"Apply changes",buttonNo:"Cancel"},discardChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"},unsupportedWebGLRenderer:{body:"A problem has been detected in the browser that could cause long loading times. Please try a different browser.",buttonYes:"Continue"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results",itemAriaLabel:"Replace image with ${label}"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity",itemAriaLabel:"Add ${label} filter"},categories:(_categories3={},_defineProperty(_categories3,"imgly_filter_category_duotone","DuoTone"),_defineProperty(_categories3,"imgly_filter_category_bw","B & W"),_defineProperty(_categories3,"imgly_filter_category_vintage","Vintage"),_defineProperty(_categories3,"imgly_filter_category_smooth","Smooth"),_defineProperty(_categories3,"imgly_filter_category_cold","Cold"),_defineProperty(_categories3,"imgly_filter_category_warm","Warm"),_defineProperty(_categories3,"imgly_filter_category_legacy","Legacy"),_categories3),items:(_items3={},_defineProperty(_items3,"imgly_lut_celsius","Inferno"),_defineProperty(_items3,"imgly_lut_chest","Chestnut"),_defineProperty(_items3,"imgly_lut_fixie","Fixie"),_defineProperty(_items3,"imgly_lut_fridge","Fridge"),_defineProperty(_items3,"imgly_lut_front","Sunny 70s"),_defineProperty(_items3,"imgly_lut_k2","Flat Black"),_defineProperty(_items3,"imgly_lut_mellow","Mellow"),_defineProperty(_items3,"imgly_lut_sin","Hard Stuff"),_defineProperty(_items3,"imgly_lut_texas","Oldtimer"),_defineProperty(_items3,"imgly_lut_ad1920","1920 A.D."),_defineProperty(_items3,"imgly_lut_ancient","Ancient"),_defineProperty(_items3,"imgly_lut_bleached","Kalmen"),_defineProperty(_items3,"imgly_lut_bleachedblue","Joran"),_defineProperty(_items3,"imgly_lut_blues","Polaroid"),_defineProperty(_items3,"imgly_lut_blueshadows","Zephyr"),_defineProperty(_items3,"imgly_lut_breeze","Levante"),_defineProperty(_items3,"imgly_lut_bw","Greyed"),_defineProperty(_items3,"imgly_lut_classic","Classic"),_defineProperty(_items3,"imgly_lut_colorful","Colorful"),_defineProperty(_items3,"imgly_lut_cool","Snappy"),_defineProperty(_items3,"imgly_lut_cottoncandy","Candy"),_defineProperty(_items3,"imgly_lut_creamy","Creamy"),_defineProperty(_items3,"imgly_lut_eighties","Low Fire"),_defineProperty(_items3,"imgly_lut_elder","Colla"),_defineProperty(_items3,"imgly_lut_evening","Sunrise"),_defineProperty(_items3,"imgly_lut_fall","Moss"),_defineProperty(_items3,"imgly_lut_food","Food"),_defineProperty(_items3,"imgly_lut_glam","Glam"),_defineProperty(_items3,"imgly_lut_gobblin","Gobblin"),_defineProperty(_items3,"imgly_lut_highcarb","High Carb"),_defineProperty(_items3,"imgly_lut_highcontrast","Hicon"),_defineProperty(_items3,"imgly_lut_k1","K1"),_defineProperty(_items3,"imgly_lut_k6","K6"),_defineProperty(_items3,"imgly_lut_kdynamic","Pebble"),_defineProperty(_items3,"imgly_lut_keen","Keen"),_defineProperty(_items3,"imgly_lut_lenin","Lemon"),_defineProperty(_items3,"imgly_lut_litho","Litho"),_defineProperty(_items3,"imgly_lut_lomo","Lomo"),_defineProperty(_items3,"imgly_lut_lomo100","Lomo 100"),_defineProperty(_items3,"imgly_lut_lucid","Lucid"),_defineProperty(_items3,"imgly_lut_neat","Neat"),_defineProperty(_items3,"imgly_lut_nogreen","Pumpkin"),_defineProperty(_items3,"imgly_lut_orchid","Solanus"),_defineProperty(_items3,"imgly_lut_pale","Pale"),_defineProperty(_items3,"imgly_lut_pitched","Pitched"),_defineProperty(_items3,"imgly_lut_plate","Weathered"),_defineProperty(_items3,"imgly_lut_pola669","Green Gap"),_defineProperty(_items3,"imgly_lut_polasx","Pola SX"),_defineProperty(_items3,"imgly_lut_pro400","Pro 400"),_defineProperty(_items3,"imgly_lut_quozi","Quozi"),_defineProperty(_items3,"imgly_lut_sepiahigh","Sepia"),_defineProperty(_items3,"imgly_lut_settled","Settled"),_defineProperty(_items3,"imgly_lut_seventies","Seventies"),_defineProperty(_items3,"imgly_lut_soft","Soft"),_defineProperty(_items3,"imgly_lut_steel","Steel"),_defineProperty(_items3,"imgly_lut_summer","Summer"),_defineProperty(_items3,"imgly_lut_sunset","Golden"),_defineProperty(_items3,"imgly_lut_tender","Tender"),_defineProperty(_items3,"imgly_lut_twilight","Twilight"),_defineProperty(_items3,"imgly_lut_winter","Softy"),_defineProperty(_items3,"imgly_lut_x400","Dusty"),_defineProperty(_items3,"imgly_duotone_desert","Desert"),_defineProperty(_items3,"imgly_duotone_peach","Peach"),_defineProperty(_items3,"imgly_duotone_clash","Clash"),_defineProperty(_items3,"imgly_duotone_plum","Plum"),_defineProperty(_items3,"imgly_duotone_breezy","Breezy"),_defineProperty(_items3,"imgly_duotone_deepblue","Deep Blue"),_defineProperty(_items3,"imgly_duotone_frog","Frog"),_defineProperty(_items3,"imgly_duotone_sunset","Sunset"),_items3)},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity",itemAriaLabel:"Add ${label} focus"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode",itemAriaLabel:"Add ${name} overlay"},items:(_items4={},_defineProperty(_items4,"imgly_overlay_bokeh","Bokeh"),_defineProperty(_items4,"imgly_overlay_chop","Chop"),_defineProperty(_items4,"imgly_overlay_clouds","Clouds"),_defineProperty(_items4,"imgly_overlay_golden","Golden"),_defineProperty(_items4,"imgly_overlay_grain","Grain"),_defineProperty(_items4,"imgly_overlay_hearts","Hearts"),_defineProperty(_items4,"imgly_overlay_lightleak1","Light Leak 1"),_defineProperty(_items4,"imgly_overlay_lightleak2","Light Leak 2"),_defineProperty(_items4,"imgly_overlay_metal","Metal"),_defineProperty(_items4,"imgly_overlay_mosaic","Mosaic"),_defineProperty(_items4,"imgly_overlay_painting","Painting"),_defineProperty(_items4,"imgly_overlay_paper","Paper"),_defineProperty(_items4,"imgly_overlay_rain","Rain"),_defineProperty(_items4,"imgly_overlay_vintage","Vintage"),_defineProperty(_items4,"imgly_overlay_wall1","Wall"),_defineProperty(_items4,"imgly_overlay_wall2","Wall 2"),_defineProperty(_items4,"imgly_overlay_wood","Wood"),_items4)},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity",itemAriaLabel:"Add ${label} sticker"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color","delete":"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width","delete":"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle",itemAriaLabel:"Add ${label} text design"},canvasControls:{placeholderText:"Write Something With Style",buttonSave:"Done",buttonClose:"Schlie\xDFen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order","delete":"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size",itemAriaLabel:"Add ${label} frame"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size",itemAriaLabel:"Apply ${label} crop",inputHeightAriaLabel:"crop height",inputWidthAriaLabel:"crop width"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Counterclockwise"}}},"customTool",{title:"Custom"});});var Yh=d(function(){RH();OH();});var AH,BH;var PH=d(function(){xl();Yh();AH=function AH(i){if(i==="de"){return Pk;}return uu;};BH=function BH(i,t){if(t&&t[i]){return Oi([AH(i),t[i]]);}return AH(i)||uu;};});var Glt,Vlt,Mk,l0;var Jh=d(function(){xl();Glt={headline1:{size:16,letterSpacing:1.5,"case":"uppercase"},headline2:{size:14,letterSpacing:.8,"case":"uppercase"},body:{size:13,letterSpacing:0,"case":"none"},label:{size:13,letterSpacing:0,"case":"capitalize"},basicUICardLabel:{size:12,letterSpacing:0,"case":"capitalize"},button1:{size:14,letterSpacing:0,"case":"uppercase"},button2:{size:14,letterSpacing:0,"case":"capitalize"},basicUITabLabel:{size:14,letterSpacing:.8,"case":"uppercase"}};Vlt={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:5,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{"float":5},dialog:{base:100,backdrop:1,container:2},colorItem:{overlay:2,background:1,tiledBackground:0}};Mk=function Mk(i){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;var e=i;var r=3*t;var o=e-2*r;var n=(o-2*t)/3;var s=(o-t)/2;return{advancedUIToolControlBar:{width:e,paddingTop:2*t,paddingBottom:2*t,paddingLeft:r,paddingRight:r,marginBottom:0,controls:{gutter:2*t}},advancedUICard:{small:{height:n,width:n},medium:{height:s,width:s},large:{height:86,width:o}},advancedUISpacer:t,inputs:{cropSize:{maxWidth:e},checkbox:{maxWidth:e}}};};l0=function l0(){var i=Mk(230);var t={advancedUIToolbar:{width:55,itemHeight:48,separatorHeight:20,marginBottom:0},basicCanvasOffset:40+76-88,basicUIToolbar:{openHeight:88,closeHeight:40},basicUIToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:72+40+4,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0,transform:{minSliderWidth:435,minValueWidth:235,minFlipWidth:160}},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:30,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:24,mobile:48},borderWidth:4},width:{size:14}},buttons:{"float":{size:56}},colorItem:{size:20},color:{colorPicker:{width:214,height:370,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:Glt,zIndex:Vlt};return Oi([i,t]);};});var jlt,c0;var MH=d(function(){jlt=function jlt(){var _ref153=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"},_ref153$primary=_ref153.primary,i=_ref153$primary===void 0?"#365afc":_ref153$primary,_ref153$background=_ref153.background,t=_ref153$background===void 0?"#0B0B0B":_ref153$background,_ref153$foreground=_ref153.foreground,e=_ref153$foreground===void 0?"#FFFFFF":_ref153$foreground;var r="rgba(255, 255, 255, 0.90)";var o="rgba(255, 255, 255, 0.60)";var n="rgba(255, 255, 255, 0.38)";var s="#424242";var a="#333333";var l="#242424";var c="#171717";var u="#0B0B0B";var m="rgba(255, 255, 255, 0.08)";var p="rgba(0, 0, 0, 0.3)";var h="rgba(89, 121, 252, 0.20)";var g="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:t,foreground:e,primary:i,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:a,activeForeground:i,containedPrimaryBackground:i,containedPrimaryForeground:r,outlinedPrimaryBackground:l,outlinedPrimaryForeground:r,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:o,textPrimaryForeground:i,textSecondaryForeground:o,outlinedInactiveOverlayColor:p,textInactiveOpacity:"0.5",hoverOverlayColor:m},checkbox:{background:a,foreground:e,activeForeground:e,activeBackground:i,inactiveOpacity:g,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:r,headerForeground:o,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:r,activeBorderColor:i,activeOverlayColor:h,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:r,inactiveOverlayColor:p,hoverOverlayColor:m},tabTitle:{foreground:o,background:"transparent",activeBackground:"transparent",activeBorderColor:i,activeForeground:r},dropdown:{background:"transparent",foreground:r,hoverBorderColor:o,borderColor:a,caretColor:n,listBackground:a,listBorderColor:a,listItemHoverBackground:s,listForeground:o,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:g},textInput:{foreground:r,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:a,inactiveOpacity:g},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:i,thumbBackground:c,thumbBorderColor:i,inactiveOpacity:g,hoverOpacity:"0.7"},selectColor:{activeBorderColor:i,inactiveOpacity:g},toolbar:{foreground:r,background:l,activeBackground:"transparent",activeForeground:i,borderColor:"transparent"},tooltip:{background:s,foreground:r},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:a,titleForeground:o,inputLabelForeground:o,inputLabelInactiveOpacity:g},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:r,borderColor:"none"},canvasActionBar:{background:s,foreground:r,separatorColor:n},canvas:{background:u,controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:a,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:s},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:e,background:u},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}};};c0=jlt;});var $lt,Lk;var LH=d(function(){$lt=function $lt(){var _ref154=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"},_ref154$primary=_ref154.primary,i=_ref154$primary===void 0?"#1e47fb":_ref154$primary,_ref154$background=_ref154.background,t=_ref154$background===void 0?"#FBFBFB":_ref154$background,_ref154$foreground=_ref154.foreground,e=_ref154$foreground===void 0?"#000000":_ref154$foreground;var r="rgba(0, 0, 0, 0.90)";var o="rgba(0, 0, 0, 0.60)";var n="rgba(0, 0, 0, 0.38)";var s="#CCCCCC";var a="#D4D4D4";var l="#E6E6E6";var c="#EEEEEE";var u="#FBFBFB";var m="rgba(125, 125, 125, 0.12)";var p="rgba(30, 71, 251, 0.2)";var h="rgba(0, 0, 0, 0.1)";var g="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:t,foreground:e,primary:i,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:a,activeForeground:i,containedPrimaryBackground:i,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:l,outlinedPrimaryForeground:r,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:o,textPrimaryForeground:i,textSecondaryForeground:o,outlinedInactiveOverlayColor:h,textInactiveOpacity:"0.5",hoverOverlayColor:m},checkbox:{background:a,foreground:e,activeForeground:e,activeBackground:i,inactiveOpacity:g,hoverOpacity:"0.8"},modal:{background:l,bodyForeground:r,headerForeground:o,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:a,foreground:r,activeBorderColor:i,activeOverlayColor:p,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:h,hoverOverlayColor:m},tabTitle:{foreground:o,background:"transparent",activeBackground:"transparent",activeBorderColor:i,activeForeground:r},dropdown:{background:"transparent",foreground:r,hoverBorderColor:o,borderColor:a,listBackground:a,caretColor:n,listForeground:o,listBorderColor:a,listItemHoverBackground:s,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:g},textInput:{foreground:r,hoverBorderColor:r,background:"transparent",borderColor:a,inactiveOpacity:g},slider:{trackColor:s,activeTrackColor:i,thumbBackground:c,thumbBorderColor:i,inactiveOpacity:g,hoverOpacity:"0.7"},selectColor:{activeBorderColor:i,inactiveOpacity:g},toolbar:{foreground:r,background:a,activeBackground:"transparent",activeForeground:i,borderColor:"transparent"},tooltip:{background:s,foreground:r},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:c,shadow:"none",separatorColor:a,titleForeground:o,inputLabelForeground:o,inputLabelInactiveOpacity:g},mainCanvasActionBar:{background:"transparent",foreground:r,borderColor:"none"},canvasActionBar:{background:s,foreground:r,separatorColor:n},canvas:{background:u,controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:a,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:s},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:e,background:u},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}};};Lk=$lt;});var Zh,u0,Hr;var Qh=d(function(){Jh();MH();LH();Zh=c0();u0=l0();Hr=_objectSpread(_objectSpread({},Zh),{},{measurements:u0});});var Xlt,zH;var UH=d(function(){xl();Qh();Xlt=function Xlt(i){if(i==="light"){return Lk;}return c0;};zH=function zH(i,t){var e=Xlt(i);if(t&&t[i]){var _t$i=t[i],r=_t$i.primary,o=_t$i.background,n=_t$i.foreground;var s={primary:r,background:o,foreground:n};var a=Object.keys(s).reduce(function(l,c){if(s[c]){return _objectSpread(_objectSpread({},l),{},_defineProperty({},c,s[c]));}return l;},{});return Oi([e(a),t[i]]);}return e()||Zh;};});var qlt,NH;var HH=d(function(){xl();Jh();qlt=["canvas","advancedUIToolbar","advancedUIToolControlBar","advancedUICard","advancedUISpacer","basicUIToolbar","basicUIToolControlBar","mainCanvasActionBar","inputs","colorItem","fontSystem"];NH=function NH(i){var t=l0();if(i){var e={};Object.keys(i).forEach(function(r){if(qlt.indexOf(r)!==-1){e[r]=i[r];}});return Oi([t,e]);}return t;};});var WH=d(function(){PH();UH();HH();});var Ylt,Qi;var d0=d(function(){Tt();O();zn();U();xl();Ak();FH();sk();Yh();WH();Qh();Ylt={config:yl,locale:uu,theme:Zh,measurements:u0,initialMeasurements:u0};Qi=/*#__PURE__*/function(){function Qi(){var _this332=this;_classCallCheck(this,Qi);this.dispose=function(){_this332.state=null;_this332.events=null;_this332.assetProvider=null;};this.checkDefaultToolAvailability=function(t,e){return e.indexOf(t)!==-1;};this.state=Q(Ylt);this.events=new Ok();this.licenseChecker=null;}_createClass(Qi,[{key:"saveConfig",value:function saveConfig(t){var _this333=this;if(t.mainCanvasActions&&t.mainCanvasActions.length!==4){t.mainCanvasActions.length=4;}var e=t.layout&&t.layout==="basic"?Bk:yl;var r=Oi([e,t],{clone:true});this.licenseChecker=new Zx(r.license);if(!this.licenseChecker.areCustomAssetsAllowed()){r.sticker.enableCustomUpload=false;}var o=BH(r.language,r.custom.languages);var n=zH(r.theme,r.custom.themes);var s=NH(r.custom.measurements);var a=r.library.provider;var l=[];r.adjustment.categories=r.adjustment.categories.reduce(function(m,p){m.push(_objectSpread(_objectSpread({},p),{},{items:p.items.filter(function(h){if(!xC[h.identifier]){l.push(h.identifier);return false;}return true;})}));return m;},[]);if(l.length!==0){console.error("The following identifier are incorrect for the adjustment tool: ".concat(l.join(", ")));}delete r.language;delete r.custom.languages;delete r.custom.themes;delete r.library.provider;var c=r.tools.reduce(function(m,p){if(_typeof(p)==="object"){return[].concat(_toConsumableArray(m),_toConsumableArray(p));}return[].concat(_toConsumableArray(m),[p]);},[]);if(!c.length){console.error("Empty list input for tools");c=Qx.reduce(function(m,p){if(_typeof(p)==="object"){return[].concat(_toConsumableArray(m),_toConsumableArray(p));}return[].concat(_toConsumableArray(m),[p]);},[]);}c=c.filter(function(m){return _this333.licenseChecker.isToolAllowed(m);});if(r.defaultTool){var m=this.checkDefaultToolAvailability(r.defaultTool,c);if(!m){var _c7=c;var _c8=_slicedToArray(_c7,1);r.defaultTool=_c8[0];}}r.tools=c;this.state.config=r;this.state.locale=o;this.state.theme=n;this.state.measurements=s;this.state.initialMeasurements=s;var u=this.buildCustomAssetsConfig();this.assetProvider=new _p(u,this.licenseChecker.areCustomAssetsAllowed(),r.assetResolver);this.loadThemeFont();return a;}},{key:"config",get:function get(){return this.state.config;}},{key:"locale",get:function get(){return this.state.locale;}},{key:"theme",get:function get(){return this.state.theme;}},{key:"measurements",get:function get(){return this.state.measurements;}},{key:"initialMeasurements",get:function get(){return this.state.initialMeasurements;}},{key:"tools",get:function get(){return this.config.tools.reduce(function(t,e){if(typeof e==="string"){return[].concat(_toConsumableArray(t),[e]);}return[].concat(_toConsumableArray(t),[""],_toConsumableArray(e));},[]);}},{key:"defaultTool",get:function get(){return this.config.defaultTool;}},{key:"isOrderDefault",get:function get(){return this.config.order==="default";}},{key:"isLayoutAdvanced",get:function get(){return this.config.layout==="advanced";}},{key:"displayCloseButton",get:function get(){return this.config.mainCanvasActions.indexOf("close")!==-1;}},{key:"loadThemeFont",value:function loadThemeFont(){var t=this.theme.typography;if(!t.skipLoading){this.assetProvider.getFontManager().injectFonts([t]);}}},{key:"buildCustomAssetsConfig",value:function buildCustomAssetsConfig(){var t=this.tools;var e=ct(this.state.config);var r=this.state.config.assetBaseUrl;var o=this.state.theme;var n=t.indexOf("filter")!==-1?e["filter"]:void 0;var s=t.indexOf("focus")!==-1?e["focus"]:void 0;var a=t.indexOf("adjustment")!==-1?e["adjustment"]:void 0;var l=t.indexOf("sticker")!==-1?e["sticker"]:void 0;var c=t.indexOf("frame")!==-1?e["frame"]:void 0;var u=t.indexOf("overlay")!==-1?e["overlay"]:void 0;var m=t.indexOf("transform")!==-1?e["transform"]:void 0;var p=t.indexOf("text")!==-1?e["text"]:void 0;var h=t.indexOf("textdesign")!==-1?e["textdesign"]:void 0;return{basePath:r,theme:o,filter:n,focus:s,sticker:l,frame:c,overlay:u,transform:m,text:p,adjustment:a,textdesign:h};}}]);return Qi;}();f([C],Qi.prototype,"saveConfig",1);f([C],Qi.prototype,"dispose",2);f([S],Qi.prototype,"config",1);f([S],Qi.prototype,"locale",1);f([S],Qi.prototype,"theme",1);f([S],Qi.prototype,"measurements",1);f([S],Qi.prototype,"initialMeasurements",1);f([S],Qi.prototype,"tools",1);f([S],Qi.prototype,"defaultTool",1);f([S],Qi.prototype,"isOrderDefault",1);f([S],Qi.prototype,"isLayoutAdvanced",1);f([S],Qi.prototype,"displayCloseButton",1);});var zk;var Uk=d(function(){O();yC();zk=/*#__PURE__*/function(){function zk(t){_classCallCheck(this,zk);this.editor=t;}_createClass(zk,[{key:"setBackgroundImage",value:function setBackgroundImage(t){if(!this.container){this.container=this.engine.addImage({image:t,originalImage:t,blendMode:"normal",opacity:1});}else{this.container.setData({image:t,originalImage:t});}}},{key:"getchildren",value:function getchildren(){return this.container.getChildren();}},{key:"addImageToContainer",value:function addImageToContainer(){var _this334=this;return new Promise(function(t,e){var r=_this334.editor.activeStore.image;if(jF(r)){_this334.setBackgroundImage(r);t();}else{var o=_this334.editor.libraryStore.getRawUrl(r);_this334.getImageElement(o).then(function(n){_this334.setBackgroundImage(n);t();})["catch"](function(n){e({identifier:"imageLoading",message:n.message});});}});}},{key:"getImageElement",value:function getImageElement(t){var _this335=this;return new Promise(function(e,r){var o=new Image();o.addEventListener("load",function(){e(o);});o.addEventListener("error",function(n){r(n);});o.crossOrigin=_this335.editor.configStore.config.engine.crossOrigin;o.src=t;});}},{key:"getImgageContainerId",value:function getImgageContainerId(){return this.container?this.container.getID():"";}},{key:"engine",get:function get(){return this.editor.engine;}}]);return zk;}();});var Nk;var Hk=d(function(){U();Nk=/*#__PURE__*/function(){function Nk(t){var _this336=this;_classCallCheck(this,Nk);this.applyNewImageTransform=function(){var _this336$editor$engin=_this336.editor.engineMediator.image.container.getBounds(),t=_this336$editor$engin.size,e=_this336$editor$engin.width,r=_this336$editor$engin.height;var o=_this336.container;o.setTransform(_re.IDENTITY);o.setResolution(t);o.setPivot(.5,.5);o.setPosition({x:e/2,y:r/2});};this.editor=t;}_createClass(Nk,[{key:"engine",get:function get(){return this.editor.engine;}},{key:"container",get:function get(){return this.engine.getOutputContainer();}}]);return Nk;}();});function tf(i,t){var e=i.width/i.height;var r=t.width/t.height;if(e>r){return i.height/t.height;}return i.width/t.width;}var GH=d(function(){});var Jlt,Qs;var Wk=d(function(){Tt();U();GH();Jlt={transform:_re.IDENTITY};Qs=/*#__PURE__*/function(){function Qs(t){_classCallCheck(this,Qs);this.initialTransform=_re.IDENTITY;this.editor=t;this.state=Q(Jlt);}_createClass(Qs,[{key:"createPreview",value:function createPreview(t){this.container=this.editor.engine.createPreview(t);}},{key:"updateTransform",value:function updateTransform(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var r=this.calculateTransform(t);if(r.scale.x){if(e){this.saveInitialTransform(r);}else{this.savePreviewTransform(r);}this.container.setTransform(this.state.transform);return true;}return false;}},{key:"saveInitialTransform",value:function saveInitialTransform(t){this.initialTransform=t;this.savePreviewTransform(t);}},{key:"savePreviewTransform",value:function savePreviewTransform(t){var _this337=this;Ve(function(){_this337.state.transform.position=t.position;_this337.state.transform.scale=t.scale;_this337.state.transform.rotation=t.rotation;var e=Eo();var r=new R(t.scale).divide(e);_this337.previewTransformWithoutDpr={position:new R(t.position).divide(e),scale:r,rotation:t.rotation};});}},{key:"transform",get:function get(){return this.state.transform;}},{key:"position",get:function get(){return this.state.transform.position;}},{key:"scale",get:function get(){return this.state.transform.scale;}},{key:"rotation",get:function get(){return this.state.transform.rotation;}},{key:"calculateTransform",value:function calculateTransform(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=Eo();var r=this.editor.configStore.config.scaleImageToFit;var _this$editor$canvasSt2=this.editor.canvasStore.canvasSize,o=_this$editor$canvasSt2.width,n=_this$editor$canvasSt2.height;var s=this.editor.engine.getOutputDimensions();var a=tf({width:o,height:n},s);var l=r?a:Math.min(1,a);var c=n-s.height*l;var u=this.editor.configStore.measurements.mainCanvasActionBar.height*2;if(c<u){l=tf({width:o,height:n-u},s);}var m=.95;if(s.height*l>n*m){l=tf({width:o,height:n*m},s);}if(s.width*l>o*m){l=tf({width:o*m,height:n},s);}l*=e;var p={x:o*e/2,y:n*e/2};var h={x:l,y:l};return new _re(p,h,t);}}]);return Qs;}();f([C],Qs.prototype,"updateTransform",1);f([C],Qs.prototype,"savePreviewTransform",1);f([S],Qs.prototype,"transform",1);f([S],Qs.prototype,"position",1);f([S],Qs.prototype,"scale",1);f([S],Qs.prototype,"rotation",1);});var _vl,m0;var Gk=d(function(){var _m0$IMAGE_CONTAINER_I;O();_vl=/*#__PURE__*/function(){function vl(){_classCallCheck(this,vl);this.imageContainerOrder=[];this.spriteContainerOrder=[];}_createClass(vl,[{key:"addIndex",value:function addIndex(t){_vl.checkTool(t);var _vl$indexForOrder=_vl.indexForOrder(_vl.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,t),e=_vl$indexForOrder.index,r=_vl$indexForOrder.order;this.imageContainerOrder=r;return e;}},{key:"removeIndex",value:function removeIndex(t){_vl.checkTool(t);_vl.remove(t,this.imageContainerOrder);}},{key:"addSprite",value:function addSprite(t){this.spriteContainerOrder.push(t);return this.imageContainerOrder.length+this.spriteContainerOrder.length-1;}},{key:"removeSprite",value:function removeSprite(t){_vl.remove(t,this.spriteContainerOrder);}},{key:"renameSprite",value:function renameSprite(t,e){var r=this.spriteContainerOrder.findIndex(function(o){return o===t;});if(r!==-1){this.spriteContainerOrder[r]=e;}}},{key:"bringToFront",value:function bringToFront(t){var e=this.spriteContainerOrder.findIndex(function(r){return r===t;});if(e!==-1){this.spriteContainerOrder.splice(e,1);this.spriteContainerOrder.push(t);}return this.getLastSpriteIndex();}},{key:"getLastSpriteId",value:function getLastSpriteId(){var t=this.spriteContainerOrder.length;return this.spriteContainerOrder[t-1];}},{key:"getSpriteIndex",value:function getSpriteIndex(t){var e=this.spriteContainerOrder.findIndex(function(r){return r===t;});return e+this.imageContainerOrder.length-1;}},{key:"getLastSpriteIndex",value:function getLastSpriteIndex(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1;}}],[{key:"checkTool",value:function checkTool(t){if(["sticker","text","textdesign","brush"].indexOf(t)!==-1){throw new Error("addIndex is used for non sprites, for sprites use addSprite");}}},{key:"remove",value:function remove(t,e){var r=e.findIndex(function(o){return o===t;});if(r!==-1){e.splice(r,1);}return void 0;}},{key:"indexForOrder",value:function indexForOrder(t,e,r){var o=t[r];var n=e.findIndex(function(a){return a===r;});if(n!==-1){return{index:n,order:e};}var _e28=e,s=_e28.length;if(s){var a;for(a=0;a<s;a+=1){var l=e[a];var c=t[l];if(o<c){e=[].concat(_toConsumableArray(e.slice(0,a)),[r],_toConsumableArray(e.slice(a)));return{index:a,order:e};}}}e.push(r);return{index:e.length-1,order:e};}}]);return vl;}();m0=_vl;m0.IMAGE_CONTAINER_INDEX=(_m0$IMAGE_CONTAINER_I={},_defineProperty(_m0$IMAGE_CONTAINER_I,"filter",0),_defineProperty(_m0$IMAGE_CONTAINER_I,"adjustment",1),_defineProperty(_m0$IMAGE_CONTAINER_I,"focus",2),_defineProperty(_m0$IMAGE_CONTAINER_I,"overlay",3),_m0$IMAGE_CONTAINER_I);});var Vk;var jk=d(function(){zn();U();Uk();Hk();Wk();Gk();Vk=/*#__PURE__*/function(){function Vk(t){var _this338=this;_classCallCheck(this,Vk);this.orderHelper=new m0();this.init=function(){var t=_this338.editor.configStore.config.engine;_this338.engine=new fm(_objectSpread(_objectSpread({},t),{},{license:_this338.editor.configStore.config.license,assetProvider:_this338.editor.configStore.assetProvider,watermark:_this338.editor.configStore.config.watermark}));_this338.image=new zk(_this338.editor);_this338.output=new Nk(_this338.editor);_this338.preview=new Qs(_this338.editor);};this.dispose=function(){if(_this338.engine){_this338.engine.dispose();_this338.engine=null;}_this338.image=null;_this338.output=null;_this338.preview=null;};this.editor=t;}_createClass(Vk,[{key:"render",value:function render(t){return this.engine.render(t);}},{key:"previewSpaceToWorldSpace",value:function previewSpaceToWorldSpace(t,e){var r=this.preview.previewTransformWithoutDpr;if(Yr(t)){var o=this.editor.engine.convertPointFromPreviewIntoWorldSpace(R.ZERO,r,e);var n=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:t,y:0},r,e);return R.distance(new R(o),new R(n));}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(t,r,e);}},{key:"worldSpaceToPreviewSpace",value:function worldSpaceToPreviewSpace(t){var e=this.preview.previewTransformWithoutDpr;if(Yr(t)){var r=this.editor.engine.convertPointFromWorldIntoPreviewSpace(R.ZERO,e);var o=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:t,y:0},e);return R.distance(new R(r),new R(o));}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(t,e);}},{key:"outputSpaceToWorldSpace",value:function outputSpaceToWorldSpace(t){if(Yr(t)){return at.getScalarInWorldSpace(t,this.editor.engine.getOutputContainer());}return at.getPointInWorldSpace(t,this.editor.engine.getOutputContainer());}},{key:"previewSpaceToOutputSpace",value:function previewSpaceToOutputSpace(t){var e=this.preview.previewTransformWithoutDpr;if(Yr(t)){var r=this.editor.engine.convertPointFromPreviewIntoOutputSpace(R.ZERO,e);var o=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:t,y:0},e);return R.distance(new R(r),new R(o));}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(t,e);}},{key:"previewSpaceToFlippedPreviewSpace",value:function previewSpaceToFlippedPreviewSpace(t){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(t);}}]);return Vk;}();});var xm;var VH=d(function(){Tt();xm=/*#__PURE__*/function(){function xm(){_classCallCheck(this,xm);this.snapshots=[];this.observeIndex=Q.box(-1);}_createClass(xm,[{key:"addSnapshot",value:function addSnapshot(t){if(this.index===this.snapshots.length-1){this.snapshots=this.snapshots.concat(JSON.stringify(t));}else{this.snapshots=[].concat(_toConsumableArray(this.snapshots.slice(0,this.index+1)),[JSON.stringify(t)]);}this.observeIndex.set(this.snapshots.length-1);}},{key:"getCurrentState",value:function getCurrentState(){return this.snapshots[this.index];}},{key:"reset",value:function reset(){this.snapshots=[];this.observeIndex.set(-1);}},{key:"undo",value:function undo(){if(this.canUndo){this.observeIndex.set(this.index-1);return JSON.parse(this.getCurrentState());}return null;}},{key:"redo",value:function redo(){if(this.canRedo){this.observeIndex.set(this.index+1);return JSON.parse(this.getCurrentState());}return null;}},{key:"discardSnapshotsfromIndex",value:function discardSnapshotsfromIndex(t){if(t>0&&t<this.snapshots.length-1){this.snapshots=this.snapshots.slice(0,t);this.observeIndex.set(this.snapshots.length-1);}}},{key:"index",get:function get(){return this.observeIndex.get();}},{key:"canUndo",get:function get(){return this.index>0;}},{key:"canRedo",get:function get(){return this.snapshots.length-1>this.index;}}]);return xm;}();f([S],xm.prototype,"index",1);f([S],xm.prototype,"canUndo",1);f([S],xm.prototype,"canRedo",1);});var du;var p0=d(function(){Tt();O();VH();Zi();du=/*#__PURE__*/function(){function du(t){var _this339=this;_classCallCheck(this,du);this.awaitHistoryChange=false;this.isDirtySinceSave=false;this.undo=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(){var _t41;return regeneratorRuntime.wrap(function _callee34$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:if(_this339.awaitHistoryChange){_context35.next=8;break;}_this339.editor.configStore.events.onUndo();_this339.awaitHistoryChange=true;_t41=_this339.appHistoryManager.undo();_context35.next=6;return _this339.applyState(_t41);case 6:_this339.awaitHistoryChange=false;if(!_this339.canUndo){_this339.isDirtySinceSave=false;}case 8:case"end":return _context35.stop();}}},_callee34);}));this.redo=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(){var _t42;return regeneratorRuntime.wrap(function _callee35$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(_this339.awaitHistoryChange){_context36.next=7;break;}_this339.editor.configStore.events.onRedo();_this339.awaitHistoryChange=true;_t42=_this339.appHistoryManager.redo();_context36.next=6;return _this339.applyState(_t42);case 6:_this339.awaitHistoryChange=false;case 7:case"end":return _context36.stop();}}},_callee35);}));this.editor=t;this.appHistoryManager=new xm();}_createClass(du,[{key:"canUndo",get:function get(){return this.appHistoryManager.canUndo;}},{key:"canRedo",get:function get(){return this.appHistoryManager.canRedo;}},{key:"getHistoryState",value:function getHistoryState(){var _ref157;var t=ct(this.editor.adjustmentsToolStore.state);var e=ct(this.editor.filterToolStore.state);var r=this.editor.focusToolStore.getFocusStateForHistory();var o=ct(this.editor.overlayToolStore.state);var n=ct(this.editor.frameToolStore.state);var s=this.editor.brushToolStore.strokes;var a=this.editor.spriteStore.getSpriteHistoryState();var l=this.editor.transformToolStore.serializableState;return _ref157={},_defineProperty(_ref157,"adjustment",t),_defineProperty(_ref157,"filter",e),_defineProperty(_ref157,"focus",r),_defineProperty(_ref157,"overlay",o),_defineProperty(_ref157,"frame",n),_defineProperty(_ref157,"brush",s),_defineProperty(_ref157,"sprite",a),_defineProperty(_ref157,"transform",l),_ref157;}},{key:"addInitialSnapshot",value:function addInitialSnapshot(){var t=this.getHistoryState();this.appHistoryManager.addSnapshot({state:t,type:"add",description:"Initial State"});}},{key:"addSnapshot",value:function addSnapshot(t,e,r){var o;if(!t){o=this.getHistoryState();}else if(t.sprite||t.transform){o=_objectSpread(_objectSpread({},this.getHistoryState()),t);}else{o=t;}this.appHistoryManager.addSnapshot({state:o,type:e,description:r});this.editor.configStore.events.onHistoryChange();if(!this.isDirtySinceSave){this.isDirtySinceSave=true;}}},{key:"applyState",value:function(){var _applyState=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(_ref158){var _this340=this;var t,e,_i6,_e29,r;return regeneratorRuntime.wrap(function _callee36$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:t=_ref158.state;_context37.prev=1;if(!t){_context37.next=47;break;}e=Object.keys(t);_i6=0,_e29=e;case 5:if(!(_i6<_e29.length)){_context37.next=45;break;}r=_e29[_i6];_context37.t0=r;_context37.next=_context37.t0==="filter"?10:_context37.t0==="adjustment"?13:_context37.t0==="overlay"?16:_context37.t0==="frame"?19:_context37.t0==="focus"?22:_context37.t0==="brush"?25:_context37.t0==="sprite"?28:_context37.t0==="transform"?31:41;break;case 10:_context37.next=12;return this.editor.filterToolStore.updateStateFromHistory(t[r]);case 12:return _context37.abrupt("break",42);case 13:_context37.next=15;return this.editor.adjustmentsToolStore.updateStateFromHistory(t[r]);case 15:return _context37.abrupt("break",42);case 16:_context37.next=18;return this.editor.overlayToolStore.updateStateFromHistory(t[r]);case 18:return _context37.abrupt("break",42);case 19:_context37.next=21;return this.editor.frameToolStore.updateStateFromHistory(t[r]);case 21:return _context37.abrupt("break",42);case 22:_context37.next=24;return this.editor.focusToolStore.updateStateFromHistory(t[r],this.editor.canvasStore.sizeVector);case 24:return _context37.abrupt("break",42);case 25:_context37.next=27;return this.editor.brushToolStore.updateStateFromHistory(t[r]);case 27:return _context37.abrupt("break",42);case 28:_context37.next=30;return this.editor.spriteStore.updateStateFromHistory(t[r]);case 30:return _context37.abrupt("break",42);case 31:this.editor.outputContainer.pauseChildrenUpdates();this.editor.transformToolStore.onEnter();this.editor.transformToolStore.updateStateFromSerialization(t[r]);this.editor.transformToolStore.onLeave();this.editor.transformToolStore.onEnter();this.editor.transformToolStore.onLeave();this.editor.outputContainer.resumeChildrenUpdates();_context37.next=40;return this.editor.wait();case 40:return _context37.abrupt("break",42);case 41:return _context37.abrupt("break",42);case 42:_i6++;_context37.next=5;break;case 45:_context37.next=47;return this.editor.renderPromise();case 47:_context37.next=53;break;case 49:_context37.prev=49;_context37.t1=_context37["catch"](1);console.error(_context37.t1);this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:_context37.t1,handleConfirm:function handleConfirm(){_this340.applyState({state:t});}});case 53:case"end":return _context37.stop();}}},_callee36,this,[[1,49]]);}));function applyState(_x35){return _applyState.apply(this,arguments);}return applyState;}()},{key:"isDirty",value:function isDirty(){return this.appHistoryManager.snapshots.length>1;}},{key:"reset",value:function reset(){this.appHistoryManager.reset();this.isDirtySinceSave=false;}},{key:"getCurrentSpritesState",value:function getCurrentSpritesState(){var t,e;return(e=(t=JSON.parse(this.appHistoryManager.getCurrentState()))==null?void 0:t.state)==null?void 0:e.sprite;}}]);return du;}();f([C],du.prototype,"undo",2);f([C],du.prototype,"redo",2);f([S],du.prototype,"canUndo",1);f([S],du.prototype,"canRedo",1);});var Zlt,jH,Qlt,$k;var $H=d(function(){Zlt=function Zlt(i,t){return new Promise(function(e,r){var o=new XMLHttpRequest();o.onload=function(){var n=new FileReader();n.onloadend=function(){if(typeof n.result==="string"&&n.result.substr(0,10)==="data:image"){e(n.result);}else{r(new Error("The image could not be loaded from ".concat(i)));}};n.onerror=function(s){r(s);};n.readAsDataURL(o.response);};o.open("GET",i);o.responseType="blob";o.withCredentials=t==="use-credentials";o.send();});};jH=function jH(i,t){return new Promise(function(e,r){var o=new Image();o.onload=function(){e(o);};o.onerror=function(){r(new Error("Failed to load image with src:".concat(i)));};o.crossOrigin=t;o.src=i;});};Qlt=function Qlt(i,t){return new Promise(function(e,r){Zlt(i,t).then(function(o){var n=new Image();n.addEventListener("load",function(){e(n);});n.src=o;})["catch"](function(){jH(i,t).then(function(o){return e(o);})["catch"](function(o){r(o);});});});};$k=/*#__PURE__*/function(){var _ref160=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(_ref159){var i,t,_ref159$crossOrigin,e;return regeneratorRuntime.wrap(function _callee37$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_ref159.url,t=_ref159.image,_ref159$crossOrigin=_ref159.crossOrigin,e=_ref159$crossOrigin===void 0?"anonymous":_ref159$crossOrigin;_context38.prev=1;if(!(t&&t.src&&t.src.substr(0,5)==="data:"||t&&t.src&&t.src.includes(".svg"))){_context38.next=4;break;}return _context38.abrupt("return",t);case 4:if(!(typeof i==="string"&&i.substr(0,5)==="data:"||typeof i==="string"&&i.includes(".svg"))){_context38.next=6;break;}return _context38.abrupt("return",jH(i,e));case 6:return _context38.abrupt("return",Qlt(i||t.src,e));case 9:_context38.prev=9;_context38.t0=_context38["catch"](1);throw new Error(_context38.t0);case 12:case"end":return _context38.stop();}}},_callee37,null,[[1,9]]);}));return function $k(_x36){return _ref160.apply(this,arguments);};}();});var tct,hr;var h0=d(function(){Tt();O();U();$H();tct={tool:null,isWebcam:false,image:"",imageLoadedToEngine:false};hr=/*#__PURE__*/function(){function hr(t){var _this341=this;_classCallCheck(this,hr);this.setImage=/*#__PURE__*/function(){var _ref161=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(t){var e;return regeneratorRuntime.wrap(function _callee38$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_context39.prev=0;e=_this341.editor.configStore.config.engine.crossOrigin;if(!(typeof t==="string"&&!t.trim()||t===void 0||t===null)){_context39.next=6;break;}_this341.state.image=null;_context39.next=16;break;case 6:if(!(typeof t==="string")){_context39.next=12;break;}_context39.next=9;return $k({url:cn(t)?t:_this341.editor.assetProvider.getPath(t),crossOrigin:e});case 9:_this341.state.image=_context39.sent;_context39.next=16;break;case 12:if(!(t instanceof HTMLImageElement)){_context39.next=16;break;}_context39.next=15;return $k({image:t,crossOrigin:e});case 15:_this341.state.image=_context39.sent;case 16:if(_this341.isWebcam){_this341.state.isWebcam=false;}_context39.next=22;break;case 19:_context39.prev=19;_context39.t0=_context39["catch"](0);throw new Error(_context39.t0);case 22:case"end":return _context39.stop();}}},_callee38,null,[[0,19]]);}));return function(_x37){return _ref161.apply(this,arguments);};}();this.setImageLoadedToEngine=function(t){_this341.state.imageLoadedToEngine=t;};this.newImage=function(t){_this341.editor.init(t);};this.dispose=function(){_this341.state=null;_this341.editor=null;};this.editor=t;this.state=Q(tct);}_createClass(hr,[{key:"selectTool",value:function selectTool(t){var r,o,n;var e=this.editor.configStore.licenseChecker;if(this.state.tool!==t&&(e==null?void 0:e.isToolAllowed(t))&&(this.image||t==="library"||t==="customTool")){if(this.editor.configStore.isLayoutAdvanced){var s=(n=(o=(r=this.editor.configStore.state.config["customTool"])==null?void 0:r.measurements)==null?void 0:o.advancedUIToolControlBar)==null?void 0:n.width;if(s){if(t==="customTool"){this.editor.configStore.measurements.advancedUIToolControlBar.width=s;}else if(this.state.tool==="customTool"){this.editor.configStore.measurements.advancedUIToolControlBar.width=this.editor.configStore.initialMeasurements.advancedUIToolControlBar.width;}}}this.editor.onToolChange(this.state.tool,t);this.state.tool=t;this.editor.configStore.events.onToolChanged(t);switch(t){case"text":if(this.editor.configStore.config.text.addDefaultTextOnEnter){this.editor.spriteStore.textToolStore.addOrselect();}else{this.editor.spriteStore.textToolStore.loadFonts();}break;case"textdesign":if(this.editor.configStore.config.textdesign.addDefaultTextOnEnter){this.editor.spriteStore.textDesignToolStore.addOrselect();}break;case"brush":{this.editor.brushToolStore.initSize();break;}case"transform":this.editor.transformToolStore.applyDefaultCrop();break;default:break;}}}},{key:"selectWebcam",value:function selectWebcam(t){this.state.isWebcam=t;}},{key:"webcamLabel",get:function get(){return this.editor.libraryStore.locale.controls.buttonWebcamClose;}},{key:"tool",get:function get(){return this.state.tool;}},{key:"isWebcam",get:function get(){return this.state.isWebcam;}},{key:"image",get:function get(){return this.state.image;}},{key:"imageLoadedToEngine",get:function get(){return this.state.imageLoadedToEngine;}}]);return hr;}();f([C],hr.prototype,"selectTool",1);f([C],hr.prototype,"selectWebcam",1);f([C],hr.prototype,"setImage",2);f([C],hr.prototype,"setImageLoadedToEngine",2);f([C],hr.prototype,"newImage",2);f([C],hr.prototype,"dispose",2);f([S],hr.prototype,"webcamLabel",1);f([S],hr.prototype,"tool",1);f([S],hr.prototype,"isWebcam",1);f([S],hr.prototype,"image",1);f([S],hr.prototype,"imageLoadedToEngine",1);});var ect,Kk,_Xk,Ai;var f0=d(function(){Tt();O();U();ect={height:150,width:150};Kk={height:0,width:0};_Xk=/*#__PURE__*/function(){function Xk(t){var _this342=this;_classCallCheck(this,Xk);this.canvasClickDisabled=Q.box(false);this.resizeCanvas=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=_this342.editor.activeStore.tool;var r=t==="transform"||!t&&e==="transform";var _this342$editor$confi=_this342.editor.configStore,o=_this342$editor$confi.isLayoutAdvanced,n=_this342$editor$confi.measurements;var s=_this342.editor.canvasStore.storedSize;var a=0;if(!o&&r){a=n.basicUIToolControlBar.controlsBarHeight*-1;if(t==="transform"&&e==="brush"){a-=n.basicUIToolControlBar.itemsBarHeight+4;}}_this342.setCanvasSize({width:s.width,height:s.height+a});};this.setCanvasSize=function(t){_this342.state.canvasSize=t;};this.dispose=function(){_this342.state=null;_this342.canvas=null;_this342.canvasClickDisabled=null;_this342.editor=null;};this.editor=t;this.state=Q(_Xk.initialState);}_createClass(Xk,[{key:"setCanvasElement",value:function setCanvasElement(t){this.canvas=t;this.editor.engineMediator.preview.createPreview(t);if(this.editor.activeStore.image){this.editor.init(this.editor.activeStore.image);}}},{key:"saveDimensions",value:function saveDimensions(_ref162){var t=_ref162.height,e=_ref162.width,r=_ref162.render;var o=this.editor.activeStore.imageLoadedToEngine;if(t>Kk.height&&e>Kk.width){this.state.storedSize={width:e,height:t};if(this.state.canvasSize.height===0){this.state.canvasSize={width:e,height:t};}if(r&&o){this.editor.resize();}}}},{key:"disableCanvasClick",value:function disableCanvasClick(){this.canvasClickDisabled.set(true);}},{key:"enableCanvasClick",value:function enableCanvasClick(){this.canvasClickDisabled.set(false);}},{key:"isCanvasClickable",get:function get(){return!this.canvasClickDisabled.get();}},{key:"canvasSize",get:function get(){return this.state.canvasSize;}},{key:"storedSize",get:function get(){return this.state.storedSize;}},{key:"sizeVector",get:function get(){return R.fromSize(this.state.canvasSize);}},{key:"sizeVectorMagnitude",get:function get(){return this.sizeVector.magnitude;}},{key:"getContainersAtPreviewPoint",value:function getContainersAtPreviewPoint(t){var _this343=this;var e=this.editor.engine.getContainersAtPreviewPoint(t,this.editor.engineMediator.preview.previewTransformWithoutDpr).map(function(r){return r.getID();}).filter(function(r){return r!==_this343.editor.engineMediator.image.getImgageContainerId();});this.editor.spriteStore.onCanvasClick(e);}}]);return Xk;}();Ai=_Xk;Ai.initialState={canvasSize:Kk,storedSize:ect};f([C],Ai.prototype,"setCanvasElement",1);f([C],Ai.prototype,"saveDimensions",1);f([C],Ai.prototype,"resizeCanvas",2);f([C],Ai.prototype,"disableCanvasClick",1);f([C],Ai.prototype,"enableCanvasClick",1);f([C],Ai.prototype,"setCanvasSize",2);f([C],Ai.prototype,"dispose",2);f([S],Ai.prototype,"isCanvasClickable",1);f([S],Ai.prototype,"canvasSize",1);f([S],Ai.prototype,"storedSize",1);f([S],Ai.prototype,"sizeVector",1);f([S],Ai.prototype,"sizeVectorMagnitude",1);});var ict,Wr;var g0=d(function(){Tt();O();ict={type:null,identifier:null,isVisible:false,error:""};Wr=/*#__PURE__*/function(){function Wr(t){var _this344=this;_classCallCheck(this,Wr);this.showActionModal=function(_ref163){var t=_ref163.type,e=_ref163.identifier,r=_ref163.error,o=_ref163.handleConfirm,n=_ref163.handleDismiss;_this344.resetHandlers();_this344.state.isVisible=true;_this344.state.identifier=e;_this344.state.type=t;_this344.state.error=r||"";_this344.handleConfirm=o;_this344.handleDismiss=n;};this.hideModal=function(){_this344.state.isVisible=false;_this344.state.type=null;_this344.state.error="";_this344.state.identifier=null;_this344.resetHandlers();};this.dispose=function(){_this344.state=null;_this344.configStore=null;};this.resetHandlers=function(){_this344.handleConfirm=null;_this344.handleDismiss=null;};this.configStore=t.configStore;this.state=Q(ict);}_createClass(Wr,[{key:"showInfoModal",value:function showInfoModal(t){this.resetHandlers();this.state.isVisible=true;this.state.type="info";this.state.identifier=t;this.state.error="";}},{key:"showTextEditModal",value:function showTextEditModal(){this.resetHandlers();this.state.isVisible=true;this.state.type="textEdit";this.state.identifier="inputText";this.state.error="";}},{key:"modalProps",get:function get(){var t=this.state.isVisible;var e=this.getModalLocale();if(e){var r=e.bodyLabel,o=e.headerLabel,n=e.buttonYes,s=e.buttonNo;return{headerLabel:o,bodyLabel:r,confirmLabel:n,dismissLabel:s,isVisible:t,handleClose:this.hideModal,handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss};}return{isVisible:false};}},{key:"isVisible",get:function get(){return this.state.isVisible;}},{key:"type",get:function get(){return this.state.type;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"positionOffset",get:function get(){var _this$configStore=this.configStore,t=_this$configStore.isLayoutAdvanced,_this$configStore$mea=_this$configStore.measurements,e=_this$configStore$mea.basicCanvasOffset,r=_this$configStore$mea.advancedUIToolControlBar,o=_this$configStore$mea.advancedUIToolbar,n=_this$configStore.isOrderDefault;var s=(r.width+o.width)*(!n?-1:1);var a=e;return t?{x:s/2,y:0}:{x:0,y:-a};}},{key:"getModalLocale",value:function getModalLocale(){var _this$state6=this.state,t=_this$state6.identifier,e=_this$state6.error,r=_this$state6.type;var o=this.configStore.locale;if(!r||!t||r==="textEdit")return null;if(r&&t&&o["".concat(r,"Modals")]&&o["".concat(r,"Modals")][t]){var n=o["".concat(r,"Modals")][t];var s=n.body;if(s&&_typeof(e)==="object"){Object.keys(e).forEach(function(l){s=s.replace("${".concat(l,"}"),e[l]);});}else if(s){s=s.replace("${error}",e);}var a=n.heading;if(r==="error"||r==="warning"){var l={error:o.common.error,warning:o.common.warning};var c=r==="error"?l.error:l.warning;a="".concat(c).concat(n.headingDelimiter||""," ").concat(n.header||"");}return{bodyLabel:s,headerLabel:a,buttonYes:n.buttonYes,buttonNo:n.buttonNo};}return null;}}]);return Wr;}();f([C],Wr.prototype,"showActionModal",2);f([C],Wr.prototype,"showInfoModal",1);f([C],Wr.prototype,"showTextEditModal",1);f([C],Wr.prototype,"hideModal",2);f([C],Wr.prototype,"dispose",2);f([S],Wr.prototype,"modalProps",1);f([S],Wr.prototype,"isVisible",1);f([S],Wr.prototype,"type",1);f([S],Wr.prototype,"identifier",1);f([S],Wr.prototype,"positionOffset",1);});var ti;var b0=d(function(){Tt();U();ti=/*#__PURE__*/function(){function ti(t){var _this345=this;_classCallCheck(this,ti);this.defaultScale=1;this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map(function(t){return t/100;});this.state={position:{x:0,y:0},scaleIndex:-1};this.offset={x:0,y:0};this["in"]=function(){if(_this345.canZoomIn){_this345.state.scaleIndex+=1;_this345.scaleRender();}};this.out=function(){if(_this345.canZoomOut){_this345.state.scaleIndex-=1;var _this345$checkOffset=_this345.checkOffset({x:0,y:0}),_t43=_this345$checkOffset.maxOffsetX,e=_this345$checkOffset.maxOffsetY;if(_this345.state.scaleIndex===_this345.defaultIndex){_this345.offset.y=e;}if(_this345.state.scaleIndex===_this345.defaultIndex){_this345.offset.x=_t43;}_this345.savePosition();_this345.scaleRender();}};this.setOffset=function(t){var _this345$checkOffset2=_this345.checkOffset(t),e=_this345$checkOffset2.canDragX,r=_this345$checkOffset2.canDragY;if(e){_this345.offset.x=t.x;}if(r){_this345.offset.y=t.y;}_this345.scaleRender();};this.editor=t;}_createClass(ti,[{key:"setInitialTransform",value:function setInitialTransform(){var _this346=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=Eo();var r=this.editor.configStore.config.scaleImageToFit;var o=this.editor.engineMediator.preview.transform;Ve(function(){var n=Math.abs(t||o.scale.x);_this346.setDefaultScale(r?n:Math.min(1*e,n));_this346.setPosition(o.position);});}},{key:"resetScale",value:function resetScale(){this.state.scaleIndex=-1;}},{key:"resetPosition",value:function resetPosition(){var _this$editor$canvasSt3=this.editor.canvasStore.canvas,t=_this$editor$canvasSt3.width,e=_this$editor$canvasSt3.height;this.setPosition({x:t/2,y:e/2});}},{key:"resetOffset",value:function resetOffset(){this.offset={x:0,y:0};}},{key:"setPosition",value:function setPosition(t){this.state.position.x=t.x;this.state.position.y=t.y;}},{key:"savePosition",value:function savePosition(){this.setPosition(this.getPositionWithOffset());this.offset={x:0,y:0};}},{key:"setDefaultScale",value:function setDefaultScale(t){var _this347=this;if(this.defaultScale!==1){var r=this.SCALE_LEVELS.findIndex(function(o){return o===_this347.defaultScale;});if(r!==-1){this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS.slice(0,r)),_toConsumableArray(this.SCALE_LEVELS.slice(r+1)));}}var e=this.SCALE_LEVELS.findIndex(function(r){return r===t;});if(e!==-1){this.state.scaleIndex=e;}else{var _r19=this.SCALE_LEVELS.findIndex(function(o,n){if(n===0){return t<o;}return _this347.SCALE_LEVELS[n-1]<t&&t<o;});if(_r19!==-1){this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS.slice(0,_r19)),[t],_toConsumableArray(this.SCALE_LEVELS.slice(_r19)));this.state.scaleIndex=_r19;}else{this.SCALE_LEVELS=[].concat(_toConsumableArray(this.SCALE_LEVELS),[t]);this.state.scaleIndex=this.SCALE_LEVELS.length-1;}}this.defaultScale=t;}},{key:"setScaleToDefault",value:function setScaleToDefault(){this.state.scaleIndex=this.defaultIndex;}},{key:"checkOffset",value:function checkOffset(t){var e=Eo();var r=this.scaledSize;var o=this.previewSize;var n=this.editor.engineMediator.preview.initialTransform.position;var s=this.getPositionWithOffset(t);var a=(r.width-o.width)*e/2;var l=(r.height-o.height)*e/2;var c=n.x-s.x;var u=n.y-s.y;var m=Math.abs(c);var p=Math.abs(u);var h=c>0;var g=u>0;var x=m-a;var v=p-l;return{canDragX:x<0,canDragY:v<0,maxOffsetX:h?-x:x,maxOffsetY:g?-v:v};}},{key:"calculateScale",value:function calculateScale(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.previewSize;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.defaultScale;var o=e.width,n=e.height;var s=new R({x:o,y:n});var a=new R(Math.abs(s.x*Math.cos(t))+Math.abs(s.y*Math.sin(t)),Math.abs(s.x*Math.sin(t))+Math.abs(s.y*Math.cos(t)));var l=s.subtract(a).divide(2).multiply(r).abs;if(l.y>l.x){return l.y*2/s.y+r;}return l.x*2/s.x+r;}},{key:"defaultIndex",get:function get(){var _this348=this;return this.SCALE_LEVELS.findIndex(function(t){return t===_this348.defaultScale;});}},{key:"getPositionWithOffset",value:function getPositionWithOffset(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.offset;var e=this.position;return{x:e.x-t.x,y:e.y-t.y};}},{key:"scaleRender",value:function scaleRender(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.editor.scale.getPositionWithOffset();var r=t?this.defaultScale:this.scale;var o={x:r,y:r};this.editor.engineMediator.preview.container.setScale(o);this.editor.engineMediator.preview.container.setPosition(e);this.editor.engineMediator.preview.savePreviewTransform({scale:o,position:e,rotation:0});if(!t){this.editor.render();}}},{key:"scale",get:function get(){var t=this.state.scaleIndex;return t!==-1?this.SCALE_LEVELS[t]:this.defaultScale;}},{key:"zoomLevel",get:function get(){var t=Eo();return(this.scale/t*100).toFixed(1);}},{key:"canDrag",get:function get(){return this.defaultScale<this.scale;}},{key:"canZoomOut",get:function get(){var t=this.editor.configStore.config.restrictZoomOutToDefault;if(t){return this.state.scaleIndex>this.defaultIndex;}return this.state.scaleIndex!==0;}},{key:"canZoomIn",get:function get(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex;}},{key:"position",get:function get(){return this.state.position;}},{key:"scaledSize",get:function get(){var t=this.state.scaleIndex;var e=t!==-1?this.SCALE_LEVELS[t]:this.defaultScale;var r=this.previewSize;return{width:r.width*e/this.defaultScale,height:r.height*e/this.defaultScale};}},{key:"previewSize",get:function get(){return this.editor.getPreviewSize();}}]);return ti;}();f([Q],ti.prototype,"state",2);f([C],ti.prototype,"in",2);f([C],ti.prototype,"out",2);f([C],ti.prototype,"setInitialTransform",1);f([C],ti.prototype,"resetScale",1);f([C],ti.prototype,"resetPosition",1);f([C],ti.prototype,"setPosition",1);f([C],ti.prototype,"savePosition",1);f([C],ti.prototype,"setDefaultScale",1);f([C],ti.prototype,"setScaleToDefault",1);f([S],ti.prototype,"scale",1);f([S],ti.prototype,"zoomLevel",1);f([S],ti.prototype,"canDrag",1);f([S],ti.prototype,"canZoomOut",1);f([S],ti.prototype,"canZoomIn",1);f([S],ti.prototype,"position",1);f([S],ti.prototype,"scaledSize",1);});var KH,rct,_Gn,ze;var qk=d(function(){Tt();U();KH=[[0,0],[0,1],[1,0],[1,1]];rct=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0]];_Gn=/*#__PURE__*/function(){function Gn(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"center";var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;_classCallCheck(this,Gn);this.considerRotation=true;this.considerFlip=true;this.store=e;this.m=r==="center"?_Gn.movePivotTo([.5,.5]):KH;this.considerRotation=o;this.considerFlip=n;this.configStore=t.configStore;}_createClass(Gn,[{key:"position",get:function get(){return this.store.position;}},{key:"size",get:function get(){return this.store.size;}},{key:"rotation",get:function get(){return this.considerRotation?this.store.rotationWRTOutputRotation:0;}},{key:"flipHorizontally",get:function get(){return this.considerFlip?this.store.isFlippedHorizontal:false;}},{key:"flipVertically",get:function get(){return this.considerFlip?this.store.isFlippedVertical:false;}},{key:"flipCenter",get:function get(){return this.considerFlip?this.store.flipCenter:null;}},{key:"handleOrigin",value:function handleOrigin(t,e,r){var o=_Gn.getFlippedEdgeIndex(t,e,r);var n=this.m[o][0]*this.size.width;var s=this.m[o][1]*this.size.height;return{width:n,height:s};}},{key:"leftTop",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(0,e,r);return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"leftBottom",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(1,e,r);return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"rightTop",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(2,e,r);return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"rightBottom",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(3,e,r);return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"leftBottomHandle",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(1,e,r);o.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height;return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"rightBottomHandle",get:function get(){var t=this.position,e=this.flipHorizontally,r=this.flipVertically;var o=this.handleOrigin(3,e,r);o.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height;return _Gn.coordinatesWithRotation(o,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t);}},{key:"leftMid",get:function get(){var t=new R(this.leftTop);var e=new R(this.leftBottom);return t.add(e).divide(2);}},{key:"rightMid",get:function get(){var t=new R(this.rightTop);var e=new R(this.rightBottom);return t.add(e).divide(2);}}],[{key:"getFlippedEdgeIndex",value:function getFlippedEdgeIndex(t,e,r){return rct[(e?1:0)+(r?2:0)][t];}},{key:"movePivotTo",value:function movePivotTo(t){return KH.map(function(e){return[e[0]-t[0],e[1]-t[1]];});}}]);return Gn;}();ze=_Gn;ze.coordinatesWithRotation=function(_ref164,r,o,n,s,a){var t=_ref164.width,e=_ref164.height;var l=t*Math.cos(r)-e*Math.sin(r)+a.x;var c=t*Math.sin(r)+e*Math.cos(r)+a.y;if(o){l=s.x*2-l;}if(n){c=s.y*2-c;}return new R({x:l,y:c}).rounded;};f([S],ze.prototype,"position",1);f([S],ze.prototype,"size",1);f([S],ze.prototype,"rotation",1);f([S],ze.prototype,"flipHorizontally",1);f([S],ze.prototype,"flipVertically",1);f([S],ze.prototype,"flipCenter",1);f([S],ze.prototype,"leftTop",1);f([S],ze.prototype,"leftBottom",1);f([S],ze.prototype,"rightTop",1);f([S],ze.prototype,"rightBottom",1);f([S],ze.prototype,"leftBottomHandle",1);f([S],ze.prototype,"rightBottomHandle",1);f([S],ze.prototype,"leftMid",1);f([S],ze.prototype,"rightMid",1);});var Yk=d(function(){d0();Yh();Qh();Jh();jk();Gk();Uk();Hk();Wk();p0();h0();f0();g0();b0();qk();});var Ft;var XH=d(function(){Tt();U();Dk();Ft=/*#__PURE__*/function(){function Ft(t,e){var _this349=this;_classCallCheck(this,Ft);this.minCropSize=0;this.id="";this.dispose=function(){_this349.state=null;_this349.defaults=null;_this349.configStore=null;};this.state={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:false,flipVertically:false,cropState:Q.map({})};this.configStore=t.configStore;this.id=At();this.minCropSize=this.configStore.measurements.crop.minSize;this.defaults=e;}_createClass(Ft,[{key:"changeIdentifier",value:function changeIdentifier(t){this.state.identifier=t;var e=this.state.cropState.get("".concat(this.id,"-").concat(t));if(!e){this.state.cropState.set("".concat(this.id,"-").concat(t),_objectSpread({},jo));}}},{key:"changeRatio",value:function changeRatio(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),_objectSpread(_objectSpread({},e),{},{ratio:t}));}}},{key:"changeSize",value:function changeSize(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){if(t.width&&t.width>0){e.size.width=Math.round(t.width);}if(t.height&&t.height>0){e.size.height=Math.round(t.height);}this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),e);}}},{key:"changeHeight",value:function changeHeight(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){if(t){e.size.height=Math.round(t);this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),e);}}}},{key:"changeWidth",value:function changeWidth(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){if(t){e.size.width=Math.round(t);this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),e);}}}},{key:"changePositionX",value:function changePositionX(t,e){var r=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(r&&t<=e-this.minCropSize&&t>=0){r.position.x=Math.round(t);this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),r);return true;}return false;}},{key:"changePositionY",value:function changePositionY(t,e){var r=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(r&&t<=e-this.minCropSize&&t>=0){r.position.y=Math.round(t);this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),r);return true;}return false;}},{key:"changePosition",value:function changePosition(t,e){var r=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(r){if(t.x<=e.width-this.minCropSize&&t.x>=0&&t.y<=e.height-this.minCropSize&&t.y>=0){r.position.x=Math.round(t.x);r.position.y=Math.round(t.y);this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),r);return true;}}return false;}},{key:"changeLockResolution",value:function changeLockResolution(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){e.lockResolution=t!==void 0?t:!e.lockResolution;this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),e);}}},{key:"changeForceDimensions",value:function changeForceDimensions(t){var e=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));if(e){e.forceDimensions=t;this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),e);}}},{key:"clearState",value:function clearState(){var _this350=this;this.state.cropState.forEach(function(t,e){return e.startsWith(_this350.id)&&_this350.state.cropState["delete"](e);});}},{key:"setRotation",value:function setRotation(t){this.state.rotationInDegrees=t;}},{key:"resetRotation",value:function resetRotation(){this.state.rotationInDegrees=0;}},{key:"resetOutputRotation",value:function resetOutputRotation(){this.state.outputRotation=0;}},{key:"resetFlip",value:function resetFlip(){this.state.flipHorizontally=false;this.state.flipVertically=false;}},{key:"updateFlip",value:function updateFlip(_ref165){var t=_ref165.flipHorizontally,e=_ref165.flipVertically;this.state.flipHorizontally=t;this.state.flipVertically=e;}},{key:"setOutputRotation",value:function setOutputRotation(t){this.state.outputRotation=t;}},{key:"flipHorizontally",value:function flipHorizontally(){this.state.flipHorizontally=!this.state.flipHorizontally;}},{key:"flipVertically",value:function flipVertically(){this.state.flipVertically=!this.state.flipVertically;}},{key:"flipCenter",get:function get(){var _this$defaults$maxCro=this.defaults.maxCropMaskSize,t=_this$defaults$maxCro.width,e=_this$defaults$maxCro.height;return new R(t/2,e/2);}},{key:"isFlippedHorizontal",get:function get(){return this.state.flipHorizontally;}},{key:"isFlippedVertical",get:function get(){return this.state.flipVertically;}},{key:"identifier",get:function get(){return this.state.identifier;}},{key:"height",get:function get(){return this.selectedCrop?this.selectedCrop.size.height:jo.size.height;}},{key:"width",get:function get(){return this.selectedCrop?this.selectedCrop.size.width:jo.size.width;}},{key:"position",get:function get(){return this.selectedCrop?this.selectedCrop.position:jo.position;}},{key:"ratio",get:function get(){return this.selectedCrop?this.selectedCrop.ratio:jo.ratio;}},{key:"size",get:function get(){return this.selectedCrop?this.selectedCrop.size:jo.size;}},{key:"x",get:function get(){return this.selectedCrop?this.selectedCrop.position.x:jo.position.x;}},{key:"y",get:function get(){return this.selectedCrop?this.selectedCrop.position.y:jo.position.y;}},{key:"lockResolution",get:function get(){return this.selectedCrop?this.selectedCrop.lockResolution:jo.lockResolution;}},{key:"forceDimensions",get:function get(){return this.selectedCrop?this.selectedCrop.forceDimensions:jo.forceDimensions;}},{key:"selectedCrop",get:function get(){return this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));}},{key:"rotationInDegrees",get:function get(){return this.state.rotationInDegrees;}},{key:"outputRotation",get:function get(){return this.state.outputRotation;}}]);return Ft;}();f([Q],Ft.prototype,"state",2);f([C],Ft.prototype,"changeIdentifier",1);f([C],Ft.prototype,"changeRatio",1);f([C],Ft.prototype,"changeSize",1);f([C],Ft.prototype,"changeHeight",1);f([C],Ft.prototype,"changeWidth",1);f([C],Ft.prototype,"changePositionX",1);f([C],Ft.prototype,"changePositionY",1);f([C],Ft.prototype,"changePosition",1);f([C],Ft.prototype,"changeLockResolution",1);f([C],Ft.prototype,"changeForceDimensions",1);f([C],Ft.prototype,"clearState",1);f([C],Ft.prototype,"setRotation",1);f([C],Ft.prototype,"resetRotation",1);f([C],Ft.prototype,"resetOutputRotation",1);f([C],Ft.prototype,"resetFlip",1);f([C],Ft.prototype,"updateFlip",1);f([C],Ft.prototype,"setOutputRotation",1);f([C],Ft.prototype,"flipHorizontally",1);f([C],Ft.prototype,"flipVertically",1);f([C],Ft.prototype,"dispose",2);f([S],Ft.prototype,"flipCenter",1);f([S],Ft.prototype,"isFlippedHorizontal",1);f([S],Ft.prototype,"isFlippedVertical",1);f([S],Ft.prototype,"identifier",1);f([S],Ft.prototype,"height",1);f([S],Ft.prototype,"width",1);f([S],Ft.prototype,"position",1);f([S],Ft.prototype,"ratio",1);f([S],Ft.prototype,"size",1);f([S],Ft.prototype,"x",1);f([S],Ft.prototype,"y",1);f([S],Ft.prototype,"lockResolution",1);f([S],Ft.prototype,"forceDimensions",1);f([S],Ft.prototype,"selectedCrop",1);f([S],Ft.prototype,"rotationInDegrees",1);f([S],Ft.prototype,"outputRotation",1);});var Jk;var qH=d(function(){Tt();U();hm();Jk=/*#__PURE__*/function(){function Jk(t){var _this351=this;_classCallCheck(this,Jk);this.transforms={output:JSON.stringify(_re.IDENTITY),preview:JSON.stringify(_re.IDENTITY)};this.setFrameOpacity=function(t){_this351.frameOpacity=t;if(_this351.entered&&_this351.editor.frameToolStore.identifier!=="identity"){_this351.editor.frameToolStore.changeOpacity(0);}};this.setOverlayOpacity=function(t){_this351.overlayOpacity=t;if(_this351.entered&&_this351.editor.overlayToolStore.identifier!=="identity"){_this351.editor.overlayToolStore.changeOpacity(0);}};this.editor=t;this.overlayOpacity=0;this.frameOpacity=0;this.entered=false;}_createClass(Jk,[{key:"onLeave",value:function onLeave(){var _this$transformToolSt=this.transformToolStore.rotateFlipState,t=_this$transformToolSt.flipHorizontally,e=_this$transformToolSt.flipVertically,r=_this$transformToolSt.rotation,o=_this$transformToolSt.outputRotation;this.entered=false;if(this.editor.overlayToolStore.identifier!=="identity"){this.editor.overlayToolStore.changeOpacity(this.overlayOpacity);}if(this.editor.frameToolStore.identifier!=="identity"){this.editor.frameToolStore.changeOpacity(this.frameOpacity);}this.editor.engine.setWatermarkOpacity(1);var n=this.editor.previewToWorld(new R(this.transformToolStore.leftTopRespectFlip).add(new R(this.transformToolStore.rightBottomRespectFlip)).divide(2).add(new R(this.transformToolStore.unRotatedDefaults.cropMaskPosition)),true);var s=this.engineMediator.preview.container;var a=this.editor.outputContainer;a.setResolution(ct(this.transformToolStore.localOutputImageSize));a.setData({flipVertically:e,flipHorizontally:t});var l=s.getScale();this.editor.overlayToolStore.correctOverlayFlip();this.saveTransforms();var c=1;if(this.transformToolStore.lockResolution){var _this$transformToolSt2=this.transformToolStore,g=_this$transformToolSt2.cropMaskSize,x=_this$transformToolSt2.defaultImageSize;var v=this.transformToolStore.maxCropMaskSize;var b={height:g.height*x.height/v.height,width:g.width*x.width/v.width};c=b.width/this.transformToolStore.localOutputImageSize.width;}var u=Math.abs(l.x);var m=c/(u/this.transformToolStore.defaultScale);var p={x:m,y:m};var h=-(r-o);a.setTransform({scale:p,position:n,rotation:h});this.editor.engineMediator.preview.updateTransform(0,false);this.editor.scale.setInitialTransform();this.editor.spriteStore.updateCanvasControls();this.editor.focusToolStore.updateCanvasControls();}},{key:"resetTransforms",value:function resetTransforms(t){this.transforms=t;}},{key:"onEnter",value:function onEnter(){this.entered=true;if(this.editor.overlayToolStore.identifier!=="identity"){this.overlayOpacity=this.editor.overlayToolStore.opacity;this.editor.overlayToolStore.changeOpacity(0);}if(this.editor.frameToolStore.identifier!=="identity"){this.frameOpacity=this.editor.frameToolStore.opacity;this.editor.frameToolStore.changeOpacity(0);}this.editor.engine.setWatermarkOpacity(0);this.editor.scale.setScaleToDefault();var t=this.engineMediator.preview.container;var e=this.editor.outputContainer;var r=JSON.parse(this.transforms.preview);e.setResolution(ct(this.transformToolStore.defaultImageSize));t.setTransform(r);e.setTransform(JSON.parse(this.transforms.output));var o=r.scale;e.setData({flipVertically:false,flipHorizontally:false});this.transformToolStore.transformStore.updateFlip({flipVertically:o.y<0,flipHorizontally:o.x<0});this.engineMediator.preview.savePreviewTransform(r);var _this$engineMediator$=this.engineMediator.preview.calculateTransform(),n=_this$engineMediator$.scale;this.editor.scale.setInitialTransform(n.x);}},{key:"rotateOutputContainer",value:function rotateOutputContainer(t){var _this352=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var _this$editor$engineMe=this.editor.engineMediator.image.container.getBounds(),r=_this$editor$engineMe.width,o=_this$editor$engineMe.height;var n=UA(t)?{width:o,height:r}:{width:r,height:o};this.editor.outputContainer.rotate(t,n);this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());var s=this.transformToolStore.rotateFlipState.rotation;this.engineMediator.preview.updateTransform(s);Ve(function(){_this352.editor.scale.setInitialTransform();var a=_this352.getScaleWithFlip(s);_this352.engineMediator.preview.container.setScale(a);_this352.transformToolStore.setCropDefaults(true);_this352.transformToolStore.updateCropMask();});if(e){this.editor.render();}}},{key:"applyPreviewTransform",value:function applyPreviewTransform(){var _this$transformToolSt3=this.transformToolStore.rotateFlipState,t=_this$transformToolSt3.rotation,e=_this$transformToolSt3.flipHorizontally,r=_this$transformToolSt3.flipVertically;var o=this.editor.scale.getPositionWithOffset();var n=this.getScaleWithFlip();var s=t;if(e){s=pm(s);}if(r){s=pm(s);}var a={position:o,rotation:s,scale:n};this.engineMediator.preview.savePreviewTransform(a);this.engineMediator.preview.container.setTransform(a);}},{key:"getScaleWithFlip",value:function getScaleWithFlip(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.transformToolStore.rotateFlipState.rotation;var _this$transformToolSt4=this.transformToolStore.rotateFlipState,e=_this$transformToolSt4.flipHorizontally,r=_this$transformToolSt4.flipVertically;var o=e?-1:1;var n=r?-1:1;var s=this.editor.scale.calculateScale(t);return{x:s*o,y:s*n};}},{key:"saveTransforms",value:function saveTransforms(){var t=JSON.stringify(this.engineMediator.preview.container.getTransform());var e=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:t,output:e};}},{key:"saveTransformsBasedOnFlip",value:function saveTransformsBasedOnFlip(){var t=this.engineMediator.preview.container.getTransform();var e=t.scale;var _this$editor$outputCo2=this.editor.outputContainer.getData(),r=_this$editor$outputCo2.flipVertically,o=_this$editor$outputCo2.flipHorizontally;var n=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify(_objectSpread(_objectSpread({},t),{},{scale:{x:o?-e.x:e.x,y:r?-e.y:e.y}})),output:n};}},{key:"engineMediator",get:function get(){return this.editor.engineMediator;}},{key:"transformToolStore",get:function get(){return this.editor.transformToolStore;}}]);return Jk;}();});var Zk;var YH=d(function(){U();Zk=/*#__PURE__*/function(){function Zk(t){var _this353=this;_classCallCheck(this,Zk);this.store=t;this.initialState={};this.state={};this.dispose=function(){_this353.initialState=null;_this353.state=null;};}_createClass(Zk,[{key:"init",value:function init(){this.initialState=this.store.serializableState;this.state=_objectSpread({},this.initialState);}},{key:"trackChanges",value:function trackChanges(){this.state=this.store.serializableState;}},{key:"isEqual",value:function isEqual(){return(0,Ye["default"])(this.state,this.initialState);}},{key:"hasChanges",value:function hasChanges(){return!this.isEqual();}}]);return Zk;}();});var JH,_mu,tt;var Qk=d(function(){Tt();O();U();Yk();Zi();Nn();XH();qH();YH();JH="identity";_mu=/*#__PURE__*/function(){function mu(t){var _this354=this;_classCallCheck(this,mu);this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1};this.defaultAngle=0;this.dragMode=Q.box(false);this.minCropSize=0;this.transformHistory=new Zk(this);this.defaults={cropMaskPosition:{x:0,y:0},maxCropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1};this.localOutputSize={width:0,height:0};this.checkIfTransformThumbnailExits=function(t){if(!t.trim())return false;var e=_this354.editor.configStore.config.assetBaseUrl;var _e30=e,r=_e30.length;if(e[r-1]!=="/"){e+="/";}if("".concat(e,"transform")===t){return false;}var o=new Image();try{o.src=t;return true;}catch(n){return false;}};this.reset=function(){_this354.transformStore.resetRotation();_this354.transformStore.resetOutputRotation();_this354.transformStore.resetFlip();_this354.resetCrop();_this354.editor.spriteStore.correctTextFlip();_this354.editor.overlayToolStore.correctOverlayFlip();_this354.setDefaultAngle(0);var t=_this354.editor.outputContainer.getRotation();if(t!==0){_this354.engineMediator.output.applyNewImageTransform();}_this354.engineMediator.output.container.setData({flipHorizontally:false,flipVertically:false});_this354.engineMediator.preview.updateTransform();_this354.editor.scale.setInitialTransform();_this354.setCropDefaults();_this354.applyInitialCrop();_this354.editor.render();_this354.trackChanges();};this.changeLocalOutputSize=function(t){_this354.localOutputSize.height=Math.round(t.height);_this354.localOutputSize.width=Math.round(t.width);_this354.editor.configStore.events.onCropDimensionsChanged({width:Math.round(t.width),height:Math.round(t.height)});};this.changeDefaultScale=function(t){_this354.defaults.scale=t;};this.changeLocalOutputHeight=function(t){_this354.localOutputSize.height=Math.round(t);};this.changeLocalOutputWidth=function(t){_this354.localOutputSize.width=Math.round(t);};this.changeLockResolution=function(){_this354.transformStore.changeLockResolution();_this354.trackChanges();};this.rotateClockwise=function(){var t=_this354.editor.outputContainer.getRotation();var e=_this354.isFlippedVertical?dS:mS;_this354.rotateOutputContainer(e(t));};this.rotateAntiClockwise=function(){var t=_this354.editor.outputContainer.getRotation();var e=_this354.isFlippedVertical?mS:dS;_this354.rotateOutputContainer(e(t));};this.flipHorizontally=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;_this354.transformStore.flipHorizontally();_this354.editor.spriteStore.reverseTextHorizontally(_this354.transformStore.isFlippedHorizontal);_this354.transformRender(t);if(t){_this354.trackChanges();}};this.flipVertically=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;_this354.transformStore.flipVertically();_this354.editor.spriteStore.reverseTextVertically(_this354.transformStore.isFlippedVertical);_this354.transformRender(t);if(t){_this354.trackChanges();}};this.applyDefaultCrop=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(_this354.identifier==="identity"){var _this354$getMatchingI=_this354.getMatchingItem(),_e31=_this354$getMatchingI.identifier;_this354.changeIdentifier(_e31,t);}};this.updateCropMask=function(){_this354.changeIdentifier(_this354.identifier,true);};this.onLeftTop=function(_ref166){var t=_ref166.x,e=_ref166.y;var r=_this354.getRatio();var o=_this354.rightBottom;var n=_this354.minCropMaskSize,s=_this354.maxCropMaskSize;var a=Math.min(Math.max(0,t),o.x-n.width);var l=Math.min(Math.max(0,e),o.y-n.height);var c=o.x-a;var u=o.y-l;var m={width:Math.max(_this354.minCropSize,Math.min(c,s.width-a)),height:Math.max(_this354.minCropSize,Math.min(u,s.height-l))};if(r==="*"){if(_this354.changePosition({x:a,y:l})){_this354.changeCropAndOutputSize(m);}}else{var p=_this354.proportionalSize(r,m);var h=new R(o).subtract({x:p.width,y:p.height});if(_this354.changePosition(h)){_this354.changeCropAndOutputSize(p,r);}}};this.onLeftBottom=function(_ref167){var t=_ref167.x,e=_ref167.y;var r=_this354.getRatio();var o=_this354.rightTop;var n=_this354.minCropMaskSize,s=_this354.maxCropMaskSize;var a=Math.min(Math.max(0,t),o.x-n.width);var l=Math.max(0,e,o.y+n.height);var c=o.x-a;var u=l-o.y;var m={width:Math.max(1,Math.min(c,s.width-a)),height:Math.max(1,Math.min(u,s.height-o.y))};if(r==="*"){if(_this354.changePositionX(a)){_this354.changeCropAndOutputSize(m);}}else{var p=_this354.proportionalSize(r,m);if(_this354.changePositionX(o.x-p.width)){_this354.changeCropAndOutputSize(p,r);}}};this.onRightTop=function(_ref168){var t=_ref168.x,e=_ref168.y;var r=_this354.getRatio();var o=_this354.leftBottom;var n=_this354.minCropMaskSize,s=_this354.maxCropMaskSize;var a=Math.max(0,t,o.x+n.width);var l=Math.min(Math.max(0,e),o.y-n.height);var c=a-o.x;var u=o.y-l;var m={width:Math.max(1,Math.min(c,s.width-o.x)),height:Math.max(1,Math.min(u,s.height-l))};if(r==="*"){if(_this354.changePositionY(l)){_this354.changeCropAndOutputSize(m);}}else{var p=_this354.proportionalSize(r,m);if(_this354.changePositionY(o.y-p.height)){_this354.changeCropAndOutputSize(p,r);}}};this.onRightBottom=function(_ref169){var t=_ref169.x,e=_ref169.y;var r=_this354.getRatio();var o=_this354.leftTop;var n=_this354.minCropMaskSize,s=_this354.maxCropMaskSize;var a=Math.max(0,t,o.x+n.width);var l=Math.max(0,e,o.y+n.height);var c=a-o.x;var u=l-o.y;var m={width:Math.max(1,Math.min(c,s.width-o.x)),height:Math.max(1,Math.min(u,s.height-o.y))};if(r==="*"){_this354.changeCropAndOutputSize(m);}else{var p=_this354.proportionalSize(r,m);_this354.changeCropAndOutputSize(p,r);}};this.onPixelWidth=function(t){var e=JSON.stringify(ct(_this354.localOutputSize));var r=_this354.entityManager.items.find(function(n){return n.identifier===_this354.identifier;});var o=_this354.defaults.imageSize;if(r&&r.ratio){var _n10=t;var s=_this354.localOutputSize.height;var a=r.ratio;if(a==="*"&&_this354.lockResolution){a=_this354.localOutputSize.width/_this354.localOutputSize.height;}if(a==="*"&&!_this354.lockResolution){_n10=Math.max(Math.min(t,o.width),_this354.minCropSize);_this354.changeLocalOutputWidth(_n10);_this354.editor.configStore.events.onCropDimensionsChanged({width:Math.round(_n10),height:Math.round(s)});}else{var l=_mu.placeCropMask(a,o);_n10=Math.max(Math.min(_n10,l.width),_this354.minCropSize);s=_n10/a;_this354.changeLocalOutputSize({height:s,width:_n10});}if(!_this354.lockResolution){_this354.updatePreviewSizeWRTImageSize();}_this354.checkAndAddSnapshot(JSON.parse(e));return Math.round(_n10);}return t;};this.onPixelHeight=function(t){var e=JSON.stringify(ct(_this354.localOutputSize));var r=_this354.entityManager.items.find(function(n){return n.identifier===_this354.identifier;});var o=_this354.defaults.imageSize;if(r&&r.ratio){var _n11=t;var s=_this354.localOutputSize.width;var a=r.ratio;if(a==="*"&&_this354.lockResolution){a=_this354.localOutputSize.width/_this354.localOutputSize.height;}if(a==="*"&&!_this354.lockResolution){_n11=Math.max(Math.min(t,o.height),_this354.minCropSize);_this354.changeLocalOutputHeight(_n11);_this354.editor.configStore.events.onCropDimensionsChanged({width:Math.round(s),height:Math.round(_n11)});}else{var l=_mu.placeCropMask(a,o);_n11=Math.max(Math.min(_n11,l.height),_this354.minCropSize);s=_n11*a;_this354.changeLocalOutputSize({height:_n11,width:s});}if(!_this354.lockResolution){_this354.updatePreviewSizeWRTImageSize();}_this354.checkAndAddSnapshot(JSON.parse(e));return Math.round(_n11);}return t;};this.dispose=function(){if(_this354.transformStore){_this354.transformStore.dispose();_this354.transformStore=null;}if(_this354.transformHistory){_this354.transformHistory.dispose();_this354.transformHistory=null;}_this354.editor=null;_this354.dragMode=null;_this354.selectedCategory=null;_this354.defaults=null;_this354.localOutputSize=null;_this354.rect=null;_this354.transformations=null;_this354.entityManager=null;};this.setFrameOpacity=function(t){_this354.transformations.setFrameOpacity(t);};this.setOverlayOpacity=function(t){_this354.transformations.setOverlayOpacity(t);};this.closestRatioReducer=function(t){return function(e,r){if(r===null)return-1;return Math.abs(t-e.ratio)<Math.abs(t-r.ratio)?-1:1;};};this.closestDimensionsReducer=function(t){return function(e,r){if(r===null)return-1;var o=Math.abs(e.dimensions.x/e.dimensions.y);var n=Math.abs(r.dimensions.x/r.dimensions.y);if(o===n){return e.dimensions.x*e.dimensions.y>r.dimensions.x*r.dimensions.y?-1:1;}return Math.abs(t-o)<Math.abs(t-n)?-1:1;};};this.getMatchingItem=function(){var t=_this354.entityManager.items.findIndex(function(l){return l.identifier==="imgly_transform_common_custom";});if(t!==-1)return _this354.entityManager.items[t];var e=_this354.entityManager.items.findIndex(function(l){return l.ratio==="*";});if(e!==-1)return _this354.entityManager.items[e];var r=ct(_this354.editor.outputContainer.getResolution());var o=Math.abs(r.width/r.height);var _this354$entityManage=_this354.entityManager.items.filter(function(l){return l.ratio&&typeof l.ratio==="number";}).sort(_this354.closestRatioReducer(o)),_this354$entityManage2=_slicedToArray(_this354$entityManage,1),n=_this354$entityManage2[0];var _this354$entityManage3=_this354.entityManager.items.filter(function(l){return l.dimensions&&!l.ratio;}).sort(_this354.closestDimensionsReducer(o)),_this354$entityManage4=_slicedToArray(_this354$entityManage3,1),s=_this354$entityManage4[0];if(!n||!s||!n.ratio&&!s.dimensions){return _this354.entityManager.items[0];}if(!s||!s.dimensions)return n;if(!n||!n.ratio)return s;var a=Math.abs(s.dimensions.x/s.dimensions.y);if(a===n.ratio)return n;return Math.abs(o-n.ratio)<Math.abs(o-a)?n:s;};this.getTransform=function(t){var e=_this354.entityManager.items.find(function(r){return r.identifier===t;});if(!e){e=_this354.getMatchingItem();}return e;};this.editor=t;this.selectedCategory=JH;this.transformStore=new Ft(t,this.defaults);this.transformations=new Jk(t);var _this$config=this.config,e=_this$config.enableRotation,r=_this$config.enableFlip,o=_objectWithoutProperties(_this$config,_excluded6);var n=this.editor.assetProvider.getAssets("transform");this.entityManager=new _Ne(n,_objectSpread(_objectSpread({},o),{},{locale:_objectSpread(_objectSpread({},this.locale.items),this.locale.categories),getAssetPath:this.editor.getAssetPath("transform")}));this.rect=new ze(this.editor,this.transformStore,"topLeft",false,false);this.rectForUi=new ze(this.editor,this.transformStore,"topLeft",false,true);this.minCropSize=this.editor.configStore.measurements.crop.minSize;}_createClass(mu,[{key:"changeIdentifier",value:function changeIdentifier(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.transformStore.changeIdentifier(t);var r=this.getCropMask(t,this.defaults.imageSize);if(r){this.transformStore.changeRatio(r.ratio);this.changeLocalOutputSize(r);this.updatePreviewSizeWRTImageSize();if(r.yChanged!==void 0){this.updateInitialCropMaskPosition(r.yChanged);}if(r.dimensions){this.changeLocalOutputSize({width:r.dimensions.x,height:r.dimensions.y});}if(e){this.trackChanges();}}}},{key:"setDragMode",value:function setDragMode(t){this.dragMode.set(t);}},{key:"getCropMask",value:function getCropMask(t,e){var r=this.getTransform(t);if(r){var o=r.ratio,n=r.forceDimensions,s=r.lockDimensions,_r$dimensions=r.dimensions,a=_r$dimensions===void 0?null:_r$dimensions;if(n){this.transformStore.changeForceDimensions(n);}if(s){this.transformStore.changeLockResolution(s);}if(o){switch(o){case"*":this.changePosition({x:0,y:0});return _objectSpread(_objectSpread({},e),{},{yChanged:void 0,ratio:"*",dimensions:a});default:return _objectSpread(_objectSpread({},_mu.placeCropMask(r.ratio,e)),{},{ratio:r.ratio,dimensions:a});}}else{var _r$dimensions2=r.dimensions,l=_r$dimensions2.x,c=_r$dimensions2.y;return _objectSpread(_objectSpread({},_mu.placeCropMask(l/c,e)),{},{ratio:null,dimensions:a});}}return null;}},{key:"setCropDefaults",value:function setCropDefaults(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=this.editor.outputContainer.getResolution();this.setDefaultImageSize(e);var r=this.editor.getPreviewSize();var o=this.editor.engineMediator.preview.previewTransformWithoutDpr.position;this.setMaxCropSize(r);this.setDefaultCropPosition({x:o.x-r.width/2,y:o.y-r.height/2});this.changeDefaultScale(this.editor.scale.defaultScale);if(!t){this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition;this.unRotatedDefaults.scale=this.defaultScale;}}},{key:"setDefaultImageSize",value:function setDefaultImageSize(t){this.defaults.imageSize=_objectSpread({},ct(t));if(!this.lockResolution){this.localOutputSize=_objectSpread({},ct(t));}}},{key:"setMaxCropSize",value:function setMaxCropSize(t){this.defaults.maxCropMaskSize.height=t.height;this.defaults.maxCropMaskSize.width=t.width;}},{key:"setDefaultCropPosition",value:function setDefaultCropPosition(t){this.defaults.cropMaskPosition.x=t.x;this.defaults.cropMaskPosition.y=t.y;}},{key:"resetCrop",value:function resetCrop(){this.transformStore.clearState();this.transformStore.changeIdentifier("identity");}},{key:"toggleCategorySelection",value:function toggleCategorySelection(t){this.selectedCategory=this.selectedCategory===t?JH:t;}},{key:"pureReset",value:function pureReset(){this.transformStore.resetRotation();this.transformStore.resetOutputRotation();this.transformStore.resetFlip();this.editor.spriteStore.correctTextFlip();this.editor.overlayToolStore.correctOverlayFlip();this.setDefaultAngle(0);this.engineMediator.output.applyNewImageTransform();this.engineMediator.output.container.setData({flipHorizontally:false,flipVertically:false});this.engineMediator.preview.updateTransform();this.editor.scale.setInitialTransform();this.setCropDefaults();this.applyInitialCrop();var t=JSON.stringify(this.engineMediator.preview.container.getTransform());var e=JSON.stringify(this.editor.outputContainer.getTransform());this.transformations.resetTransforms({preview:t,output:e});}},{key:"changePosition",value:function changePosition(t){return this.transformStore.changePosition(t,this.defaults.maxCropMaskSize);}},{key:"changePositionX",value:function changePositionX(t){return this.transformStore.changePositionX(t,this.defaults.maxCropMaskSize.width);}},{key:"changePositionY",value:function changePositionY(t){return this.transformStore.changePositionY(t,this.defaults.maxCropMaskSize.height);}},{key:"changeCropAndOutputSize",value:function changeCropAndOutputSize(_ref170,r){var t=_ref170.width,e=_ref170.height;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;this.transformStore.changeWidth(t);this.transformStore.changeHeight(e);if(!this.lockResolution){var _this$defaults$maxCro2=this.defaults.maxCropMaskSize,n=_this$defaults$maxCro2.height,s=_this$defaults$maxCro2.width;var _this$defaults$imageS=this.defaults.imageSize,a=_this$defaults$imageS.height,l=_this$defaults$imageS.width;var c=a/n*e;var u=l/s*t;if(r){c=u/r;}if(o){this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(u),height:Math.round(c)});}if(e>=this.minCropSize){this.changeLocalOutputHeight(c);}if(t>=this.minCropSize){this.changeLocalOutputWidth(u);}}}},{key:"transformRender",value:function transformRender(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;this.transformations.applyPreviewTransform();if(t){this.editor.render();}}},{key:"addSnapshot",value:function addSnapshot(){if(this.transformHistory.isEqual())return;this.editor.addSnapshot(_defineProperty({},"transform",this.serializableState),"edit","Transform edit");}},{key:"trackChanges",value:function trackChanges(){this.transformHistory.trackChanges();}},{key:"serializableState",get:function get(){var _this$rotateFlipState=this.rotateFlipState,t=_this$rotateFlipState.flipHorizontally,e=_this$rotateFlipState.flipVertically;var r=this.identifier,o=this.rotationInDegrees;var n=Wl(o);var s=uS(xb(this.editor.engineMediator.output.container.getRotation())+o);var _this$convertUIToOper=this.convertUIToOperationOptions(n,s),a=_this$convertUIToOper.start,l=_this$convertUIToOper.end;return{flipHorizontally:t,flipVertically:e,rotation:n,start:a,end:l,identifier:r,outputRotation:s};}},{key:"getStartEndForOperation",value:function getStartEndForOperation(t){var e=this.leftTop,r=this.rightBottom,o=this.maxCropMaskSize;var n=e.y;var s=e.x;var a=r.x;var l=r.y;switch(t){case 270:return{leftTop:{x:o.height-l,y:s},rightBottom:{x:o.height-n,y:a}};case 180:return{leftTop:{x:o.width-a,y:o.height-l},rightBottom:{x:o.width-s,y:o.height-n}};case 90:return{leftTop:{x:n,y:o.width-a},rightBottom:{x:l,y:o.width-s}};default:return{leftTop:{x:s,y:n},rightBottom:{x:a,y:l}};}}},{key:"getStartEndForUI",value:function getStartEndForUI(t,e,r){var o=this.maxCropMaskSize;var n=e.y;var s=e.x;var a=r.x;var l=r.y;switch(t){case 90:return{leftTop:{x:o.width-l,y:s},rightBottom:{x:o.width-n,y:a}};case 180:return{leftTop:{x:o.width-a,y:o.height-l},rightBottom:{x:o.width-s,y:o.height-n}};case 270:return{leftTop:{x:n,y:o.height-a},rightBottom:{x:l,y:o.height-s}};default:return{leftTop:{x:s,y:n},rightBottom:{x:a,y:l}};}}},{key:"convertOperationOptionsToUI",value:function convertOperationOptionsToUI(_ref171){var t=_ref171.start,e=_ref171.end,r=_ref171.rotation,o=_ref171.outputRotation;var n=o===90||o===270;var s=n?R.fromSize(this.defaultImageSize).swapped:R.fromSize(this.defaultImageSize);var a=Math.cos(r);var l=Math.sin(r);var c=this.calculateScale(r);var u=new R(Math.min(t.x,e.x),Math.min(t.y,e.y));var m=new R(Math.max(t.x,e.x),Math.max(t.y,e.y));var p=m.subtract(u).divide(2);var h=u.add(p).multiply(s);var g=h.subtract(s.multiply(.5));var x=new R(g.x*a-g.y*l,g.x*l+g.y*a).multiply(c);var v=s.multiply(.5).add(x);var b=v.divide(s);var T=b.subtract(p.multiply(c));var k=b.add(p.multiply(c));var E=n?R.fromSize(this.maxCropMaskSize).swapped:R.fromSize(this.maxCropMaskSize);var A=T.multiply(E);var I=k.multiply(E);var _this$getStartEndForU=this.getStartEndForUI(o,A,I),F=_this$getStartEndForU.leftTop,Z=_this$getStartEndForU.rightBottom;return{start:new R(F),end:new R(Z)};}},{key:"convertUIToOperationOptions",value:function convertUIToOperationOptions(t,e){var r=e===90||e===270;var o=r?R.fromSize(this.defaultImageSize).swapped:R.fromSize(this.defaultImageSize);var n=r?R.fromSize(this.maxCropMaskSize).swapped:R.fromSize(this.maxCropMaskSize);var s=Math.cos(-t);var a=Math.sin(-t);var l=this.calculateScale(t,r);var _this$getStartEndForO=this.getStartEndForOperation(e),c=_this$getStartEndForO.leftTop,u=_this$getStartEndForO.rightBottom;var m=new R(c).divide(n);var p=new R(u).divide(n);var h=p.subtract(m).divide(2);var g=m.add(h).multiply(o);var x=g.subtract(o.multiply(.5));var v=new R(x.x*s-x.y*a,x.x*a+x.y*s).divide(l);var b=o.multiply(.5).add(v);var T=b.divide(o);var k=T.subtract(h.divide(l));var E=T.add(h.divide(l));return{start:k,end:E};}},{key:"calculateScale",value:function calculateScale(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=e?R.fromSize(this.defaultImageSize).swapped:R.fromSize(this.defaultImageSize);var o=new R(Math.abs(r.x*Math.cos(t))+Math.abs(r.y*Math.sin(t)),Math.abs(r.x*Math.sin(t))+Math.abs(r.y*Math.cos(t)));var n=r.subtract(o.clone()).divide(2).abs;return n.y>n.x?n.y*2/r.y+1:n.x*2/r.x+1;}},{key:"updateStateFromSerialization",value:function updateStateFromSerialization(t){this.transformStore.resetRotation();this.transformStore.resetOutputRotation();this.transformStore.resetFlip();this.setDefaultAngle(0);if(this.editor.outputContainer.getRotation()!==0){this.engineMediator.output.applyNewImageTransform();}this.engineMediator.output.container.setData({flipHorizontally:false,flipVertically:false});this.engineMediator.preview.updateTransform();this.editor.scale.setInitialTransform();this.setCropDefaults();this.applyInitialCrop();var e=Math.round(xb(t.rotation));this.transformStore.setRotation(e>180?e-360:e);this.transformations.rotateOutputContainer(Wl(uS(t.outputRotation||0)));if(t.identifier){this.transformStore.changeIdentifier(t.identifier);}if(t.start&&t.end){if(t.end.x===0||t.end.y===0){t.end.x=1;t.end.y=1;}var _this$convertOperatio=this.convertOperationOptionsToUI({start:new R(t.start),end:new R(t.end),rotation:t.rotation,outputRotation:t.outputRotation}),r=_this$convertOperatio.start,o=_this$convertOperatio.end;this.changePositionX(r.x);this.changePositionY(r.y);var n=o.x-r.x;var s=o.y-r.y;this.transformStore.changeSize({width:n,height:s});var _this$defaults=this.defaults,a=_this$defaults.maxCropMaskSize,l=_this$defaults.imageSize;var c={height:s*l.height/a.height,width:n*l.width/a.width};this.changeLocalOutputSize(c);}if(t.flipHorizontally){this.flipHorizontally(false);}if(t.flipVertically){this.flipVertically(false);}this.editor.overlayToolStore.correctOverlayFlip();}},{key:"setDefaultAngle",value:function setDefaultAngle(t){this.defaultAngle=t;}},{key:"updateCanvasControls",value:function updateCanvasControls(t){var e=ct(this.cropMaskPosition);var r=ct(this.cropMaskSize);var o=ct(this.defaults.maxCropMaskSize);this.changeCropAndOutputSize({height:o.height*r.height/t.height,width:o.width*r.width/t.width},void 0,false);this.changePosition({y:o.height*e.y/t.height,x:o.width*e.x/t.width});}},{key:"onLeave",value:function onLeave(){this.transformations.onLeave();}},{key:"onEnter",value:function onEnter(){this.transformations.onEnter();this.transformHistory.init();}},{key:"saveTransforms",value:function saveTransforms(){this.transformations.saveTransforms();}},{key:"saveTransformsBasedOnFlip",value:function saveTransformsBasedOnFlip(){this.transformations.saveTransformsBasedOnFlip();}},{key:"setRotation",value:function setRotation(t){this.transformStore.setRotation(t);this.transformRender();}},{key:"rotateOutputContainer",value:function(){var _rotateOutputContainer=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(t){var e,_args40=arguments;return regeneratorRuntime.wrap(function _callee39$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:e=_args40.length>1&&_args40[1]!==undefined?_args40[1]:true;this.setDragMode(true);this.transformations.rotateOutputContainer(t,e);_context40.next=5;return this.editor.wait();case 5:this.setDragMode(false);case 6:case"end":return _context40.stop();}}},_callee39,this);}));function rotateOutputContainer(_x38){return _rotateOutputContainer.apply(this,arguments);}return rotateOutputContainer;}()},{key:"applyInitialCrop",value:function applyInitialCrop(){var _this$getMatchingItem=this.getMatchingItem(),t=_this$getMatchingItem.identifier;this.changeIdentifier(t,false);}},{key:"clickableCanvas",value:function clickableCanvas(t){this.editor.clickableCanvas(t);}},{key:"proportionalSize",value:function proportionalSize(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.defaults.maxCropMaskSize;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.minCropSize;var n=e.height*t;var s=e.height;if(n>r.width||n<o||s<o){n=e.width;s=e.width/t;}return{width:Math.round(n),height:Math.round(s)};}},{key:"checkAndAddSnapshot",value:function checkAndAddSnapshot(t){var e=ct(this.localOutputSize);if(t.width!==e.width||t.height!==e.height){this.trackChanges();}}},{key:"updateInitialCropMaskPosition",value:function updateInitialCropMaskPosition(t){var e=this.cropMaskSize;var r=this.defaults.maxCropMaskSize;if(t){this.changePosition({x:0,y:Math.abs(r.height-e.height)/2});}else{this.changePosition({x:Math.abs(r.width-e.width)/2,y:0});}}},{key:"updatePreviewSizeWRTImageSize",value:function updatePreviewSizeWRTImageSize(){var t=ct(this.localOutputSize);var e=ct(this.defaults.imageSize);var r=ct(this.defaults.maxCropMaskSize);var o={height:r.height*t.height/e.height,width:r.width*t.width/e.width};this.transformStore.changeSize(o);}},{key:"getScaleWithFlip",value:function getScaleWithFlip(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.rotateFlipState.rotation;return this.transformations.getScaleWithFlip(t);}},{key:"cropState",get:function get(){return this.transformStore.selectedCrop;}},{key:"identifier",get:function get(){return this.transformStore.identifier;}},{key:"ratio",get:function get(){return this.transformStore.ratio;}},{key:"height",get:function get(){return this.transformStore.height;}},{key:"width",get:function get(){return this.transformStore.width;}},{key:"localOutputImageSize",get:function get(){return this.localOutputSize;}},{key:"localOutputHeight",get:function get(){return this.localOutputSize.height;}},{key:"localOutputWidth",get:function get(){return this.localOutputSize.width;}},{key:"lockResolution",get:function get(){return this.transformStore.lockResolution;}},{key:"forceDimensions",get:function get(){return this.transformStore.forceDimensions;}},{key:"rotationInDegrees",get:function get(){return this.transformStore.rotationInDegrees;}},{key:"outputRotation",get:function get(){return this.transformStore.outputRotation;}},{key:"isDragMode",get:function get(){return this.dragMode.get();}},{key:"rotateFlipState",get:function get(){var _this$transformStore$=this.transformStore.state,t=_this$transformStore$.flipHorizontally,e=_this$transformStore$.flipVertically,r=_this$transformStore$.rotationInDegrees,o=_this$transformStore$.outputRotation;return{flipHorizontally:t,flipVertically:e,rotation:_mu.inRadians(r),outputRotation:o};}},{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"categories",get:function get(){return this.entityManager.categories;}},{key:"items",get:function get(){return this.entityManager.items;}},{key:"config",get:function get(){return this.editor.configStore.config["transform"];}},{key:"locale",get:function get(){return this.editor.configStore.locale["transform"];}},{key:"isOptionSelected",get:function get(){return this.identifier!=="identity";}},{key:"leftTop",get:function get(){return this.rect.leftTop;}},{key:"leftBottom",get:function get(){return this.rect.leftBottom;}},{key:"rightTop",get:function get(){return this.rect.rightTop;}},{key:"rightBottom",get:function get(){return this.rect.rightBottom;}},{key:"isFlippedHorizontal",get:function get(){return this.transformStore.isFlippedHorizontal;}},{key:"isFlippedVertical",get:function get(){return this.transformStore.isFlippedVertical;}},{key:"leftTopRespectFlip",get:function get(){return this.rectForUi.leftTop;}},{key:"leftBottomRespectFlip",get:function get(){return this.rectForUi.leftBottom;}},{key:"rightTopRespectFlip",get:function get(){return this.rectForUi.rightTop;}},{key:"rightBottomRespectFlip",get:function get(){return this.rectForUi.rightBottom;}},{key:"cropMaskPosition",get:function get(){return this.transformStore.position;}},{key:"cropMaskSize",get:function get(){return this.transformStore.size;}},{key:"state",get:function get(){return this.transformStore.state;}},{key:"defaultImageSize",get:function get(){return this.defaults.imageSize;}},{key:"maxCropMaskSize",get:function get(){return this.defaults.maxCropMaskSize;}},{key:"minCropMaskSize",get:function get(){var t=this.getRatio();if(t==="*"||t===1){return{width:this.minCropSize,height:this.minCropSize};}if(t>1){return{width:this.minCropSize*t,height:this.minCropSize};}return{width:this.minCropSize,height:this.minCropSize*t};}},{key:"defaultCropMaskPosition",get:function get(){return this.defaults.cropMaskPosition;}},{key:"defaultScale",get:function get(){return this.defaults.scale;}},{key:"engineMediator",get:function get(){return this.editor.engineMediator;}},{key:"getRatio",value:function getRatio(){var t=this.getTransform(this.identifier);if(t){if(Object.prototype.hasOwnProperty.call(t,"ratio")){if(this.lockResolution){return this.localOutputWidth/this.localOutputHeight;}return t.ratio;}var _t$dimensions=t.dimensions,e=_t$dimensions.x,r=_t$dimensions.y;return e/r;}return"*";}}],[{key:"inRadians",value:function inRadians(t){return t*Math.PI/180;}},{key:"placeCropMask",value:function placeCropMask(t,e){if(e.height*t>e.width){var o=e.width/t;return{height:o,width:e.width,yChanged:true};}var r=e.height*t;return{height:e.height,width:r,yChanged:false};}}]);return mu;}();tt=_mu;f([Q],tt.prototype,"selectedCategory",2);f([Q],tt.prototype,"defaults",2);f([Q],tt.prototype,"localOutputSize",2);f([C],tt.prototype,"changeIdentifier",1);f([C],tt.prototype,"setDragMode",1);f([C],tt.prototype,"setCropDefaults",1);f([C],tt.prototype,"setDefaultImageSize",1);f([C],tt.prototype,"setMaxCropSize",1);f([C],tt.prototype,"setDefaultCropPosition",1);f([C],tt.prototype,"resetCrop",1);f([C],tt.prototype,"toggleCategorySelection",1);f([C],tt.prototype,"pureReset",1);f([C],tt.prototype,"reset",2);f([C],tt.prototype,"changePosition",1);f([C],tt.prototype,"changePositionX",1);f([C],tt.prototype,"changePositionY",1);f([C],tt.prototype,"changeCropAndOutputSize",1);f([C],tt.prototype,"onLeave",1);f([C],tt.prototype,"onEnter",1);f([C],tt.prototype,"changeLocalOutputSize",2);f([C],tt.prototype,"changeDefaultScale",2);f([C],tt.prototype,"changeLocalOutputHeight",2);f([C],tt.prototype,"changeLocalOutputWidth",2);f([C],tt.prototype,"changeLockResolution",2);f([C],tt.prototype,"setRotation",1);f([C],tt.prototype,"rotateClockwise",2);f([C],tt.prototype,"rotateAntiClockwise",2);f([C],tt.prototype,"rotateOutputContainer",1);f([C],tt.prototype,"flipHorizontally",2);f([C],tt.prototype,"flipVertically",2);f([C],tt.prototype,"applyDefaultCrop",2);f([C],tt.prototype,"applyInitialCrop",1);f([C],tt.prototype,"updateCropMask",2);f([C],tt.prototype,"clickableCanvas",1);f([C],tt.prototype,"onLeftTop",2);f([C],tt.prototype,"onLeftBottom",2);f([C],tt.prototype,"onRightTop",2);f([C],tt.prototype,"onRightBottom",2);f([C],tt.prototype,"proportionalSize",1);f([C],tt.prototype,"onPixelWidth",2);f([C],tt.prototype,"onPixelHeight",2);f([C],tt.prototype,"updateInitialCropMaskPosition",1);f([C],tt.prototype,"updatePreviewSizeWRTImageSize",1);f([C],tt.prototype,"dispose",2);f([S],tt.prototype,"cropState",1);f([S],tt.prototype,"identifier",1);f([S],tt.prototype,"ratio",1);f([S],tt.prototype,"height",1);f([S],tt.prototype,"width",1);f([S],tt.prototype,"localOutputImageSize",1);f([S],tt.prototype,"localOutputHeight",1);f([S],tt.prototype,"localOutputWidth",1);f([S],tt.prototype,"lockResolution",1);f([S],tt.prototype,"forceDimensions",1);f([S],tt.prototype,"rotationInDegrees",1);f([S],tt.prototype,"outputRotation",1);f([S],tt.prototype,"isDragMode",1);f([S],tt.prototype,"rotateFlipState",1);f([S],tt.prototype,"selectedCategoryIdentifier",1);f([S],tt.prototype,"categories",1);f([S],tt.prototype,"items",1);f([S],tt.prototype,"config",1);f([S],tt.prototype,"locale",1);f([S],tt.prototype,"isOptionSelected",1);f([S],tt.prototype,"leftTop",1);f([S],tt.prototype,"leftBottom",1);f([S],tt.prototype,"rightTop",1);f([S],tt.prototype,"rightBottom",1);f([S],tt.prototype,"isFlippedHorizontal",1);f([S],tt.prototype,"isFlippedVertical",1);f([S],tt.prototype,"leftTopRespectFlip",1);f([S],tt.prototype,"leftBottomRespectFlip",1);f([S],tt.prototype,"rightTopRespectFlip",1);f([S],tt.prototype,"rightBottomRespectFlip",1);f([S],tt.prototype,"cropMaskPosition",1);f([S],tt.prototype,"cropMaskSize",1);f([S],tt.prototype,"state",1);f([S],tt.prototype,"defaultImageSize",1);f([S],tt.prototype,"maxCropMaskSize",1);f([S],tt.prototype,"minCropMaskSize",1);f([S],tt.prototype,"defaultCropMaskPosition",1);f([S],tt.prototype,"defaultScale",1);});var ZH=d(function(){Dk();Qk();});var QH,oct,tI,nct,_ef,nt;var eI=d(function(){Tt();QH=y(Ju());O();U();Zi();qk();hm();fk();bk();xk();wk();oct={};tI="none";nct={position:{x:0,y:0},rotation:0};_ef=/*#__PURE__*/function(){function ef(t){var _this355=this;_classCallCheck(this,ef);this.state=Q.map(oct);this.selectedId=Q.box(tI);this.editMode=Q.box(false);this.dragMode=Q.box(false);this.minLength=0;this.counter=0;this.addSticker=/*#__PURE__*/function(){var _ref172=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(t){var e,_args41=arguments;return regeneratorRuntime.wrap(function _callee40$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:e=_args41.length>1&&_args41[1]!==undefined?_args41[1]:true;_context41.next=3;return _this355.addStickerAsync(t,e);case 3:case"end":return _context41.stop();}}},_callee40);}));return function(_x39){return _ref172.apply(this,arguments);};}();this.addStickerAsync=/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(_ref173){var t,e,r,o,_args43=arguments;return regeneratorRuntime.wrap(function _callee42$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_ref173.spriteId,e=_ref173.state,r=_ref173.transform;o=_args43.length>1&&_args43[1]!==undefined?_args43[1]:true;return _context43.abrupt("return",new Promise(function(n,s){r=_this355.getInitialTransform(r);var a=e.identifier;var l=_this355.editor.orderHelper.addSprite(a);_this355.editor.engine.addStickerFromAssets(a,_this355.editor.engineMediator.image.container,l).then(/*#__PURE__*/function(){var _ref175=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(c){var u,m,p,v,b,_this355$editor$outpu,h,g,x;return regeneratorRuntime.wrap(function _callee41$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:if(t){c.setData({id:t});}u=c.getID();_this355.container[u]=c;_this355.editor.orderHelper.renameSprite(a,u);m=_this355.getSize(u);m.width*=c.getScale().x;m.height*=c.getScale().y;c.setPivot(.5,.5);if(r.scale){p=r.scale;}else if(r.size){p={x:r.size.width/m.width,y:r.size.height/m.height};}else{v=_this355.editor.shortestOutputSide*.4;b=_ef.magnitude(v)/_ef.sizeMagnitude(c.getSizeInWorldSpace());p={x:b,y:b};}_this355$editor$outpu=_this355.editor.outputContainer.getData(),h=_this355$editor$outpu.flipHorizontally,g=_this355$editor$outpu.flipVertically;c.setFlipHorizontally(h);c.setFlipVertically(g);c.setTransform({position:r.position,scale:p,rotation:r.rotation});if(e.flipHorizontally!==void 0){c.setFlipHorizontally(e.flipHorizontally!==h);}if(e.flipVertically!==void 0){c.setFlipVertically(e.flipVertically!==g);}_this355.setContainerProperties(u,_objectSpread({},e));x=c.getData();_this355.setInitialSpriteState(u,"sticker");_this355.stickerToolStore.setState(u,_objectSpread(_objectSpread({},x),{},{identifier:a}));_context42.next=21;return _this355.editor.renderPromise();case 21:if(o){_this355.setId(u);_this355.addSnapshot("add",_this355.stickerLocale.add);}n();case 23:case"end":return _context42.stop();}}},_callee41);}));return function(_x41){return _ref175.apply(this,arguments);};}())["catch"](function(c){console.error(c);s();});}));case 3:case"end":return _context43.stop();}}},_callee42);}));return function(_x40){return _ref174.apply(this,arguments);};}();this.addText=/*#__PURE__*/function(){var _ref176=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(t){var e,_args44=arguments;return regeneratorRuntime.wrap(function _callee43$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:e=_args44.length>1&&_args44[1]!==undefined?_args44[1]:true;_context44.next=3;return _this355.addTextAsync(t,e);case 3:case"end":return _context44.stop();}}},_callee43);}));return function(_x42){return _ref176.apply(this,arguments);};}();this.addTextAsync=function(_ref177){var t=_ref177.spriteId,e=_ref177.state,r=_ref177.transform;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return new Promise(function(n,s){r=_this355.getInitialTransform(r);var a=_this355.editor.orderHelper.addSprite(e.identifier);var l=_this355.editor.shortestOutputSide;var c={fontIdentifier:e.identifier,text:e.text,width:e.width||l*.6,fontSize:e.fontSize||l*.1,lineHeight:e.lineHeight,alignment:e.alignment,textColor:e.textColor,backgroundColor:e.backgroundColor};_this355.editor.engine.addTextWithFontLoading(c,_this355.editor.engineMediator.image.container,a).then(/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(u){var m,_this355$editor$outpu2,p,h,g;return regeneratorRuntime.wrap(function _callee44$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(t){u.setData({id:t});}m=u.getID();_this355.container[m]=u;_this355.editor.orderHelper.renameSprite(e.identifier,m);_this355$editor$outpu2=_this355.editor.outputContainer.getData(),p=_this355$editor$outpu2.flipHorizontally,h=_this355$editor$outpu2.flipVertically;u.setFlipHorizontally(p);u.setFlipVertically(h);u.setPivot(.5,.5);u.setPosition(r.position);u.setRotation(r.rotation);_this355.setInitialSpriteState(m,"text");g=u.getData();_this355.textToolStore.setState(m,_objectSpread({},g));_context45.next=15;return _this355.editor.renderPromise();case 15:if(o){_this355.setId(m);_this355.addSnapshot("add",_this355.textLocale.add);}n();case 17:case"end":return _context45.stop();}}},_callee44);}));return function(_x43){return _ref178.apply(this,arguments);};}())["catch"](function(u){console.error(u);s();});});};this.addTextDesign=/*#__PURE__*/function(){var _ref179=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,r,_args46=arguments;return regeneratorRuntime.wrap(function _callee45$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:e=_args46.length>1&&_args46[1]!==undefined?_args46[1]:true;r=_args46.length>2&&_args46[2]!==undefined?_args46[2]:false;_context46.prev=2;_context46.next=5;return _this355.addTextDesignAsync(t,e,r);case 5:_context46.next=10;break;case 7:_context46.prev=7;_context46.t0=_context46["catch"](2);console.warn(_context46.t0);case 10:case"end":return _context46.stop();}}},_callee45,null,[[2,7]]);}));return function(_x44){return _ref179.apply(this,arguments);};}();this.addTextDesignAsync=function(_ref180){var t=_ref180.spriteId,e=_ref180.state,r=_ref180.transform;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new Promise(function(s,a){r=_this355.getInitialTransform(r);var l=_this355.editor.orderHelper.addSprite(e.identifier);var c=_this355.editor.shortestOutputSide;var u={width:e.width||c*.6,text:e.text,color:e.color,inverted:e.isInverted,seed:e.seed,padding:e.padding};_this355.editor.engine.addTextDesignAsync(e.identifier,u,_this355.editor.engineMediator.image.container,l).then(/*#__PURE__*/function(){var _ref181=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(m){var p,_this355$editor$outpu3,h,g,x;return regeneratorRuntime.wrap(function _callee46$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(t){if(n){_this355.pureRemoveSprite(t);_this355.textDesignToolStore.state["delete"](t);}m.setData({id:t});}p=m.getID();_this355.container[p]=m;_this355.editor.orderHelper.renameSprite(e.identifier,p);_this355$editor$outpu3=_this355.editor.outputContainer.getData(),h=_this355$editor$outpu3.flipHorizontally,g=_this355$editor$outpu3.flipVertically;m.setFlipHorizontally(h);m.setFlipVertically(g);m.setPivot(.5,.5);m.setPosition(r.position);m.setRotation(r.rotation);_this355.setInitialSpriteState(p,"textdesign");x=m.getData();_this355.textDesignToolStore.setState(p,_objectSpread(_objectSpread({},x),{},{identifier:e.identifier}));_context47.next=15;return _this355.editor.renderPromise();case 15:if(o){_this355.setId(p);_this355.addSnapshot("add",_this355.textDesignLocale.add);}s();case 17:case"end":return _context47.stop();}}},_callee46);}));return function(_x45){return _ref181.apply(this,arguments);};}())["catch"](function(m){a(m);});});};this.spriteLocalTransform=function(){return{position:_this355.editor.previewToOutput(_this355.position),size:_this355.size,rotation:_this355.rotation};};this.clickableCanvas=function(t){_this355.editor.clickableCanvas(t);};this.setContainerProperties=function(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;_this355.container[t].setData(e);if(r){_this355.updatePositionAndSize();}_this355.editor.render();};this.setContainerPosition=function(t,e){_this355.container[t].setPosition(e);};this.pureRemoveSprite=function(t){_this355.editor.engine.removeContainer(_this355.container[t]);var e=_this355.container[t].getIndexInParent();if(e===-1){delete _this355.container[t];_this355.state["delete"](t);_this355.editor.orderHelper.removeSprite(t);return true;}return false;};this.deleteSprite=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this355.id;var e=_this355.state.get(t);if(e.tool==="sticker"){_this355.stickerToolStore["delete"]();}else if(e.tool==="text"){_this355.textToolStore["delete"]();}else if(e.tool==="textdesign"){_this355.textDesignToolStore["delete"]();}};this.removeSprite=function(t){var e=_this355.pureRemoveSprite(t);if(e){_this355.selectLast();_this355.spriteSnapshot("delete");_this355.editor.render();}};this.addSnapshot=function(t,e){_this355.editor.addSnapshot(void 0,t,e);};this.spriteSnapshot=function(t){_this355.addSnapshot("edit",_this355.historyLocale[t]);};this.addNewText=/*#__PURE__*/function(){var _ref182=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t,e){return regeneratorRuntime.wrap(function _callee47$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(!_this355.textToolStore.doesTextAssetExist(e.identifier)){_context48.next=5;break;}_context48.next=3;return _this355.addTextAsync(_objectSpread(_objectSpread({},t),{},{state:e}),false);case 3:_context48.next=6;break;case 5:throw new Do(e.identifier);case 6:case"end":return _context48.stop();}}},_callee47);}));return function(_x46,_x47){return _ref182.apply(this,arguments);};}();this.addNewTextDesign=/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t,e){return regeneratorRuntime.wrap(function _callee48$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!_this355.textDesignToolStore.doesTextDesignAssetExist(e.identifier)){_context49.next=5;break;}_context49.next=3;return _this355.addTextDesignAsync(_objectSpread(_objectSpread({},t),{},{state:e}),false);case 3:_context49.next=6;break;case 5:throw new Do(e.identifier);case 6:case"end":return _context49.stop();}}},_callee48);}));return function(_x48,_x49){return _ref183.apply(this,arguments);};}();this.addNewSticker=/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(t,e){return regeneratorRuntime.wrap(function _callee49$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:if(!_this355.stickerToolStore.doesStickerAssetExist(e.identifier)){_context50.next=5;break;}_context50.next=3;return _this355.addStickerAsync(_objectSpread(_objectSpread({},t),{},{state:e}),false);case 3:_context50.next=6;break;case 5:throw new Do(e.identifier);case 6:case"end":return _context50.stop();}}},_callee49);}));return function(_x50,_x51){return _ref184.apply(this,arguments);};}();this.getSpriteHistoryState=function(){var _r20;var t=ct(_this355.textToolStore.state);var e=ct(_this355.textDesignToolStore.state);var r=(_r20={common:ct(_this355.state)},_defineProperty(_r20,"sticker",ct(_this355.stickerToolStore.state)),_defineProperty(_r20,"text",t),_defineProperty(_r20,"textdesign",e),_defineProperty(_r20,"spriteIdList",Object.keys(_this355.container)),_r20);Object.keys(r.common).forEach(function(o){r.common[o].size=_this355.container[o].getSizeInWorldSpace();r.common[o].position=_this355.container[o].getPosition();r.common[o].order=_this355.container[o].getIndexInParent();});return r;};this.updateStateFromSerialization=/*#__PURE__*/function(){var _ref185=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(t,e,r){var o;return regeneratorRuntime.wrap(function _callee51$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(e&&e.length)){_context52.next=13;break;}_context52.prev=1;_context52.next=4;return Promise.all(e.map(/*#__PURE__*/function(){var _ref187=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(_ref186){var n,s,a,l,c,u,m;return regeneratorRuntime.wrap(function _callee50$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:n=_ref186.svg,s=_ref186.raster,a=_ref186.name,l=_ref186.identifier;c=(n==null?void 0:n.data)?"image/svg+xml":s.type;u="data:".concat(c,";base64,").concat((n==null?void 0:n.data)||s.data);_context51.next=5;return s0(u,150);case 5:m=_context51.sent;return _context51.abrupt("return",{stickerURI:u,thumbnailURI:m,name:a,type:c,identifier:l});case 7:case"end":return _context51.stop();}}},_callee50);}));return function(_x55){return _ref187.apply(this,arguments);};}()));case 4:o=_context52.sent;_context52.next=7;return _this355.stickerToolStore.addCustomStickerAsset(o);case 7:_context52.next=13;break;case 9:_context52.prev=9;_context52.t0=_context52["catch"](1);_this355.editor.modalStore.hideModal();_this355.editor.modalStore.showInfoModal("stickerLoading");case 13:if(!t.text){_context52.next=16;break;}_context52.next=16;return _this355.textToolStore.loadFonts();case 16:if(!t.textdesign){_context52.next=19;break;}_context52.next=19;return _this355.textDesignToolStore.loadFonts();case 19:_context52.next=21;return _this355.updateStateByHistoryState(t.spriteIdList,t,r);case 21:case"end":return _context52.stop();}}},_callee51,null,[[1,9]]);}));return function(_x52,_x53,_x54){return _ref185.apply(this,arguments);};}();this.updateStateFromHistory=/*#__PURE__*/function(){var _ref188=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(t){var e,r;return regeneratorRuntime.wrap(function _callee52$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:e=Object.keys(_this355.container);r=e.filter(function(o){return t.spriteIdList.indexOf(o)===-1;});r.forEach(function(o){_this355.pureRemoveSprite(o);});_context53.next=5;return _this355.updateStateByHistoryState(t.spriteIdList,t,0);case 5:case"end":return _context53.stop();}}},_callee52);}));return function(_x56){return _ref188.apply(this,arguments);};}();this.serializableState=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(){var t,e;return regeneratorRuntime.wrap(function _callee54$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:t=_this355.editor.spriteStore.getSpriteHistoryState();Object.keys(t.common).forEach(function(r){var _this355$editor$outpu4=_this355.editor.outputContainer.getData(),o=_this355$editor$outpu4.flipHorizontally,n=_this355$editor$outpu4.flipVertically;var s=_this355.editor.outputContainer.getRotation();var a=n!==o?-t.common[r].rotation:t.common[r].rotation;t.common[r].rotation=n!==o?a+s:a-s;});_context55.next=4;return Promise.all(_this355.editor.spriteStore.stickerToolStore.customStickers.map(/*#__PURE__*/function(){var _ref191=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(_ref190){var r,o,n,s,a,_n$split,_n$split2,l,_l$split,_l$split2;return regeneratorRuntime.wrap(function _callee53$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:r=_ref190.identifier,o=_ref190.type,n=_ref190.stickerURI,s=_ref190.name;a={identifier:r,name:s,raster:{data:"",type:"image/jpeg"}};if(o==="image/svg+xml"){a.svg={data:n.split(",")[1]};}if(!(o==="image/jpeg"||o==="image/png"||o==="image/gif")){_context54.next=10;break;}_n$split=n.split(",");_n$split2=_slicedToArray(_n$split,2);a.raster.data=_n$split2[1];a.raster.type=o;_context54.next=17;break;case 10:_context54.next=12;return s0(n);case 12:l=_context54.sent;_l$split=l.split(",");_l$split2=_slicedToArray(_l$split,2);a.raster.data=_l$split2[1];a.raster.type="image/png";case 17:return _context54.abrupt("return",a);case 18:case"end":return _context54.stop();}}},_callee53);}));return function(_x57){return _ref191.apply(this,arguments);};}()));case 4:e=_context55.sent;return _context55.abrupt("return",{sprite:t,customStickers:e});case 6:case"end":return _context55.stop();}}},_callee54);}));this.updateCanvasControls=function(){Object.keys(_this355.container).forEach(function(t){_this355.updatePositionAndSize(t,true);var e=_this355.state.get(t);if(e){if(e.tool==="text"){var r=_this355.getContainerProperties(t);_this355.textToolStore.changeSize(t,r);}else if(e.tool==="textdesign"){var _r21=_this355.getContainerProperties(t);_this355.textToolStore.changeWidth(_r21.width);}}});};this.setEditMode=function(t){if(_this355.currentSprite){if(["text","textdesign"].indexOf(_this355.tool)!==-1){if(t){_this355.editor.modalStore.showTextEditModal();}else{_this355.editor.modalStore.hideModal();}_this355.editMode.set(t);}}};this.setDragMode=function(t){_this355.dragMode.set(t);};this.setPosition=function(t){var e=_this355.currentSprite;var r=_this355.container[_this355.id];if(e&&r){r.setPosition(_this355.editor.previewToWorld(t));var _this355$getSizePosit=_this355.getSizePositionFromContainer(),o=_this355$getSizePosit.position;e.position.x=o.x;e.position.y=o.y;_this355.state.set(_this355.id,e);_this355.editor.render();}};this.setSize=function(t){var e=_this355.currentSprite;if(e){e.size.width=t.width;e.size.height=t.height;_this355.state.set(_this355.id,e);}};this.setRotation=function(t){var e=_this355.currentSprite;if(e){var _this355$editor$outpu5=_this355.editor.outputContainer.getData(),r=_this355$editor$outpu5.flipHorizontally,o=_this355$editor$outpu5.flipVertically;var n=_this355.editor.outputContainer.getRotation();var s=$h({rotation:t,outputRotation:n,flipHorizontally:r,flipVertically:o});_this355.container[_this355.id].setRotation(s);e.rotation=_this355.container[_this355.id].getRotation();_this355.state.set(_this355.id,e);_this355.editor.render();}};this.onCanvasClick=function(t){if(!_this355.isEditMode){_this355.selectHighestOrderSprite(t);}};this.select=function(t){var e=_this355.state.get(t);if(e){var r=_this355.editor.activeStore.tool;if(r!==e.tool){_this355.editor.activeStore.selectTool(e.tool);}_this355.setId(t);}};this.selectLast=function(){var t=_this355.editor.orderHelper.getLastSpriteId();if(t){_this355.select(t);}};this.selectNext=function(){if(_this355.currentSprite){var _t44=_this355.container[_this355.id];var e=_t44.getIndexInParent();if(e){var r=Object.keys(_this355.container).find(function(o){return _this355.container[o].getIndexInParent()===e-1;});if(r){_this355.select(r);}}}};this.deselect=function(){_this355.setId(tI);};this.bringToFront=/*#__PURE__*/function(){var _ref192=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(t){var e;return regeneratorRuntime.wrap(function _callee55$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:e=_this355.editor.orderHelper.bringToFront(t);_this355.container[t].setIndexInParent(e);_this355.spriteSnapshot("order");_context56.next=5;return _this355.editor.render();case 5:_this355.counter+=1;case 6:case"end":return _context56.stop();}}},_callee55);}));return function(_x58){return _ref192.apply(this,arguments);};}();this.flipHorizontally=function(t){var e=_this355.state.get(t);var r=_this355.container[t];r.setFlipHorizontally(!r.getFlipHorizontally());e.flipHorizontally=r.getFlipHorizontally();_this355.spriteSnapshot("flip");_this355.state.set(t,e);_this355.editor.render();};this.pureReset=function(){_this355.deselect();Array.from(_this355.state.keys()).forEach(function(t){_this355.pureRemoveSprite(t);});_this355.stickerToolStore.pureReset();_this355.textToolStore.pureReset();_this355.textDesignToolStore.pureReset();};this.selectHighestOrderSprite=function(t){var e=_this355.editor.brushToolStore.containerId();t=t.filter(function(n){return n!==e;});if(t.length<1){_this355.deselect();return;}var r="";var o=0;t.forEach(function(n){var s=_this355.container[n];var a=s&&s.getIndexInParent()||0;if(a>=o){o=a;r=n;}});_this355.select(r);};this.onCornerDrag=function(_ref193){var t=_ref193.x,e=_ref193.y;if(_this355.currentSprite){var r=new R(_this355.currentSprite.position);var o=new R(t,e);var n=o.subtract(r).magnitude;var s=_this355.getSize();var a=n*2/_ef.sizeMagnitude(s);if(n>_this355.minLength){if(_this355.isSpriteSticker){if(_this355.stickerToolStore.resizeMode!=="unrestricted"){_this355.setStickerSize({width:s.width*a,height:s.height*a});}else{var l=_this355.rotationWRTOutputRotation;var c=o.subtract(r);var u=Math.cos(l);var m=Math.sin(l);var p=Math.max(Math.abs(c.x*u*2+c.y*m*2),_this355.minLength);var h=Math.max(Math.abs(c.x*-m*2+c.y*u*2),_this355.minLength);_this355.setStickerSize({width:p,height:h});}}else if(_this355.isSpriteText){_this355.setTextSize(s.width*a);}else if(_this355.isSpriteTextDesign){_this355.setTextDesignScale(a);}}_this355.editor.render();}};this.onWidthDrag=function(_ref194){var t=_ref194.x,e=_ref194.y;var r=new R(_this355.currentSprite.position);var o=new R(t,e);var n=o.subtract(r).magnitude;var s=_this355.editor.previewToWorld(2*n);if(s>_this355.minLength){_this355.setContainerProperties(_this355.id,{width:s},true);if(_this355.isSpriteText){var a=_this355.getContainerProperties(_this355.id);_this355.textToolStore.changeWidth(a.width);}}};this.onPaddingDrag=function(_ref195){var t=_ref195.x,e=_ref195.y;if(_this355.isSpriteTextDesign){var r=_this355.getContainerProperties(_this355.id);var o=new R(_this355.currentSprite.position);var n=new R(t,e);var s=n.subtract(o).magnitude;var a=Math.max(_this355.editor.previewToWorld(s)-r.width/2,0);_this355.setContainerProperties(_this355.id,{padding:a},true);if(_this355.isSpriteTextDesign){r=_this355.getContainerProperties(_this355.id);_this355.textDesignToolStore.changePadding(r.padding);}}};this.correctTextFlip=function(){var _this355$editor$outpu6=_this355.editor.outputContainer.getData(),t=_this355$editor$outpu6.flipHorizontally,e=_this355$editor$outpu6.flipVertically;Object.values(_this355.container).forEach(function(r){if(r.type==="text"||r.type==="text-design"){r.setFlipHorizontally(t);r.setFlipVertically(e);}});};this.reverseTextHorizontally=function(t){Object.values(_this355.container).forEach(function(e){if(e.type==="text"||e.type==="text-design"){e.setFlipHorizontally(t);}});};this.reverseTextVertically=function(t){Object.values(_this355.container).forEach(function(e){if(e.type==="text"||e.type==="text-design"){e.setFlipVertically(t);}});};this.dispose=function(){_this355.state=null;if(_this355.stickerToolStore){_this355.stickerToolStore.dispose();_this355.stickerToolStore=null;}if(_this355.textToolStore){_this355.textToolStore.dispose();_this355.textToolStore=null;}if(_this355.textDesignToolStore){_this355.textDesignToolStore.dispose();_this355.textDesignToolStore=null;}_this355.selectedId=null;_this355.editMode=null;_this355.dragMode=null;_this355.editor=null;_this355.rect=null;};this.getOutputProperties=function(){return _this355.editor.outputContainer.getData();};this.getContainerProperties=function(t){return _this355.container[t].getData();};this.getContainerTransform=function(t){return _this355.container[t].getTransform();};this.getDuplicateContainerTransform=function(t){var e=_this355.container[t].getTransform();var r=_this355.editor.shortestOutputSide*.1;var o=new R(e.position).add(new R(r,r));return _objectSpread(_objectSpread({},e),{},{position:o});};this.getDuplicateContainerFlip=function(t){var e=_this355.container[t].getFlipHorizontally();var r=_this355.container[t].getFlipVertically();return{flipHorizontally:e,flipVertically:r};};this.updatePositionAndSize=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this355.id;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var _this355$getSizePosit2=_this355.getSizePositionFromContainer(t),r=_this355$getSizePosit2.position,o=_this355$getSizePosit2.size;var n=_this355.state.get(t);if(n){n.position.x=r.x;n.position.y=r.y;n.size.width=o.width;n.size.height=o.height;if(e){var s=_this355.container[t].getRotation();_this355.container[t].setRotation(s);n.rotation=_this355.container[t].getRotation();}_this355.state.set(t,n);}};this.getInitialTransform=function(t){var e=_this355.editor.outputToWorld(nct.position);if(!t){var r=_this355.editor.outputContainer.getRotation();return{rotation:r,position:e};}return _objectSpread({position:e},t);};this.setInitialSpriteState=function(t,e){var r=_this355.container[t];var _this355$getSizePosit3=_this355.getSizePositionFromContainer(t),o=_this355$getSizePosit3.position,n=_this355$getSizePosit3.size;var s=r.getRotation();var a=e!=="sticker"?false:r.getFlipHorizontally();var l=e!=="sticker"?false:r.getFlipVertically();_this355.state.set(t,{tool:e,position:o,rotation:s,size:n,flipHorizontally:a,flipVertically:l});};this.setStickerSize=function(t){var e=_this355.container[_this355.id];e.setSizeInWorldSpace(_this355.editor.previewSizeToWorld(t));var r=_this355.currentSprite;if(r){r.size=_this355.editor.worldSizeToPreview(e.getSizeInWorldSpace());_this355.state.set(_this355.id,r);}};this.setTextSize=function(t){var e=_this355.getContainerProperties(_this355.id);var r={width:_this355.editor.previewToWorld(t)};var o=r.width/e.width;var n={fontSize:Math.round(e.fontSize*o)};var s=_this355.isSpriteText?_objectSpread(_objectSpread({},r),n):r;if(r.width>_this355.minLength&&n.fontSize){_this355.setContainerProperties(_this355.id,s,true);e=_this355.getContainerProperties(_this355.id);_this355.textToolStore.changeFontSize(e.fontSize,true);_this355.textToolStore.changeWidth(e.width);}};this.setTextDesignScale=function(t){var e=_this355.getContainerProperties(_this355.id);var r=e.width*t;if(r>_this355.minLength){_this355.setContainerProperties(_this355.id,{width:r},true);var _this355$getContainer=_this355.getContainerProperties(_this355.id),o=_this355$getContainer.width;_this355.textDesignToolStore.changeWidth(o);e=_this355.getContainerProperties(_this355.id);_this355.textDesignToolStore.changePadding(e.padding);}};this.getSizePositionFromContainer=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this355.id;var e=_this355.container[t];if(e){var r=_this355.editor.worldToPreview(e.getPosition());var o=_this355.editor.worldSizeToPreview(e.getSizeInWorldSpace());return{position:r,size:o};}return{position:{x:0,y:0},size:{height:1,width:1}};};this.getSize=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_this355.id;var e=_this355.container[t];if(e){return _this355.editor.worldSizeToPreview(e.getSizeInWorldSpace());}return{width:0,height:0};};this.editor=t;this.container={};this.stickerToolStore=new Pt(t);this.textToolStore=new gt(t);this.textDesignToolStore=new Mt(t);this.rect=new ze(this.editor,this);this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2);}_createClass(ef,[{key:"updateStateByHistoryState",value:function(){var _updateStateByHistoryState=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t,e,r){var _this356=this;return regeneratorRuntime.wrap(function _callee57$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:_context58.next=2;return(0,QH["default"])(t,/*#__PURE__*/function(){var _ref196=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(o){var n;return regeneratorRuntime.wrap(function _callee56$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:n=e.common[o];if(n){_context57.next=3;break;}return _context57.abrupt("return");case 3:if(!_this356.state.get(o)){_context57.next=7;break;}_this356.updateExistingItem(o,e);_context57.next=9;break;case 7:_context57.next=9;return _this356.addNewItem(o,e);case 9:case"end":return _context57.stop();}}},_callee56);}));return function(_x62){return _ref196.apply(this,arguments);};}());case 2:t.forEach(function(o){var n=e.common[o];var s=_this356.container[o];if(!n||!s)return;s.setIndexInParent(n.order+r);});this.counter+=1;case 4:case"end":return _context58.stop();}}},_callee57,this);}));function updateStateByHistoryState(_x59,_x60,_x61){return _updateStateByHistoryState.apply(this,arguments);}return updateStateByHistoryState;}()},{key:"addNewItem",value:function(){var _addNewItem=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(t,e){var r,o,_this$editor$outputCo3,n,s,a,l,c,u,m,p,_m11;return regeneratorRuntime.wrap(function _callee58$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:r=e.common[t];o=r.size?{width:this.editor.worldToPreview(r.size.width),height:this.editor.worldToPreview(r.size.height)}:void 0;_this$editor$outputCo3=this.editor.outputContainer.getData(),n=_this$editor$outputCo3.flipHorizontally,s=_this$editor$outputCo3.flipVertically;a=this.editor.outputContainer.getRotation();l=s!==n?r.rotation-a:r.rotation+a;c=s!==n?-l:l;u={spriteId:t,transform:{size:o,position:new R(r.position),rotation:c}};if(!e.text[t]){_context59.next=14;break;}m=e.text[t];p=this.textToolStore.validFontWithConfig(m.identifier);m.identifier=p==null?void 0:p.identifier;_context59.next=13;return this.addNewText(u,m);case 13:return _context59.abrupt("return");case 14:if(!e.textdesign[t]){_context59.next=18;break;}_context59.next=17;return this.addNewTextDesign(u,e.textdesign[t]);case 17:return _context59.abrupt("return");case 18:if(!e.sticker[t]){_context59.next=22;break;}_m11=this.stickerToolStore.items.find(function(p){return p.identifier===e.sticker[t].identifier;});_context59.next=22;return this.addNewSticker(u,_objectSpread(_objectSpread({},e.sticker[t]),{},{flipHorizontally:r.flipHorizontally,flipVertically:r.flipVertically,resizeMode:e.sticker[t].resizeMode||(_m11==null?void 0:_m11.resizeMode)||"keepAspect"}));case 22:case"end":return _context59.stop();}}},_callee58,this);}));function addNewItem(_x63,_x64){return _addNewItem.apply(this,arguments);}return addNewItem;}()},{key:"updateExistingItem",value:function updateExistingItem(t,e){var r=e.common[t];var o=this.state.get(t);this.state.set(t,o);var n=this.container[t];n.setPosition(new R(r.position));n.setRotation(r.rotation);o.rotation=n.getRotation();if(r.flipHorizontally!==void 0){n.setFlipHorizontally(r.flipHorizontally);}if(r.flipVertically!==void 0){n.setFlipVertically(r.flipVertically);}if(e.text[t]){var s=e.text[t];this.textToolStore.updateStateFromHistory(t,_objectSpread(_objectSpread({},s),{},{fontIdentifier:s.identifier}));}if(e.textdesign[t]){var _s7=e.textdesign[t];this.textDesignToolStore.updateStateFromHistory(t,_objectSpread(_objectSpread({},_s7),{},{inverted:_s7.isInverted}));}if(e.sticker[t]){n.setSizeInWorldSpace(r.size);this.stickerToolStore.updateStateFromHistory(t,e.sticker[t]);}this.updatePositionAndSize(t);}},{key:"currentSprite",get:function get(){if(this.isSpriteSelected){return this.state.get(this.id);}return void 0;}},{key:"padding",get:function get(){return this.textDesignToolStore.padding;}},{key:"isEditMode",get:function get(){return this.editMode.get();}},{key:"isDragMode",get:function get(){return this.dragMode.get();}},{key:"id",get:function get(){return this.selectedId.get();}},{key:"isSpriteSelected",get:function get(){return this.id!==tI;}},{key:"position",get:function get(){if(this.currentSprite){return this.currentSprite.position;}return void 0;}},{key:"tool",get:function get(){if(this.currentSprite){return this.currentSprite.tool;}return void 0;}},{key:"size",get:function get(){if(this.currentSprite){return this.currentSprite.size;}return void 0;}},{key:"rotation",get:function get(){if(this.currentSprite){return this.currentSprite.rotation;}return void 0;}},{key:"rotationWRTOutputRotation",get:function get(){if(this.currentSprite){var _this$editor$outputCo4=this.editor.outputContainer.getData(),t=_this$editor$outputCo4.flipHorizontally,e=_this$editor$outputCo4.flipVertically;var r=this.editor.outputContainer.getRotation();return $h({rotation:this.currentSprite.rotation-r,flipHorizontally:t,flipVertically:e});}return void 0;}},{key:"flipHorizontal",get:function get(){if(this.currentSprite){return this.currentSprite.flipHorizontally;}return void 0;}},{key:"isSpriteSticker",get:function get(){return this.tool==="sticker";}},{key:"isSpriteText",get:function get(){return this.tool==="text";}},{key:"isSpriteTextDesign",get:function get(){return this.tool==="textdesign";}},{key:"isOnTop",get:function get(){var t=this.counter;return this.editor.engine.isSpriteTop(this.id);}},{key:"spritePosition",get:function get(){if(this.currentSprite){var _this$currentSprite$p=this.currentSprite.position,t=_this$currentSprite$p.x,e=_this$currentSprite$p.y;var _this$currentSprite$s=this.currentSprite.size,r=_this$currentSprite$s.height,o=_this$currentSprite$s.width;return{x:Math.round(t-o/2),y:Math.round(e-r/2)};}return void 0;}},{key:"currentRect",get:function get(){if(this.currentSprite){return this.rect;}return void 0;}},{key:"leftTopPosition",get:function get(){if(this.currentSprite){return this.rect.leftTop;}return void 0;}},{key:"leftBottomPosition",get:function get(){if(this.currentSprite){return this.rect.leftBottom;}return void 0;}},{key:"leftMidPosition",get:function get(){if(this.currentSprite){return this.rect.leftMid;}return void 0;}},{key:"leftMidPadPosition",get:function get(){if(this.currentSprite){var t=this.rect.leftMid;return{x:t.x-this.editor.worldToPreview(this.padding),y:t.y};}return void 0;}},{key:"rightTopPosition",get:function get(){if(this.currentSprite){return this.rect.rightTop;}return void 0;}},{key:"rightBottomPosition",get:function get(){if(this.currentSprite){return this.rect.rightBottom;}return void 0;}},{key:"rightMidPosition",get:function get(){if(this.currentSprite){return this.rect.rightMid;}return void 0;}},{key:"rightMidPadPosition",get:function get(){if(this.currentSprite){var t=this.rect.rightMid;return{x:t.x+this.editor.worldToPreview(this.padding),y:t.y};}return void 0;}},{key:"leftBottomHandlePosition",get:function get(){if(this.currentSprite){return this.rect.leftBottomHandle;}return void 0;}},{key:"rightBottomHandlePosition",get:function get(){if(this.currentSprite){return this.rect.rightBottomHandle;}return void 0;}},{key:"historyLocale",get:function get(){if(this.isSpriteSticker){return this.stickerLocale;}if(this.isSpriteText){return this.textDesignLocale;}return this.textLocale;}},{key:"stickerLocale",get:function get(){return this.editor.configStore.locale["sticker"].history;}},{key:"textLocale",get:function get(){return this.editor.configStore.locale["text"].history;}},{key:"textDesignLocale",get:function get(){return this.editor.configStore.locale["textdesign"].history;}},{key:"setId",value:function setId(t){this.selectedId.set(t);}}],[{key:"magnitude",value:function magnitude(t,e){return new R(t,e||t).magnitude;}},{key:"sizeMagnitude",value:function sizeMagnitude(t){return Math.sqrt(t.width*t.width+t.height*t.height);}}]);return ef;}();nt=_ef;f([Q],nt.prototype,"counter",2);f([C],nt.prototype,"addSticker",2);f([C],nt.prototype,"addStickerAsync",2);f([C],nt.prototype,"addText",2);f([C],nt.prototype,"addTextAsync",2);f([C],nt.prototype,"addTextDesign",2);f([C],nt.prototype,"addTextDesignAsync",2);f([C],nt.prototype,"clickableCanvas",2);f([C],nt.prototype,"setContainerProperties",2);f([C],nt.prototype,"setContainerPosition",2);f([C],nt.prototype,"pureRemoveSprite",2);f([C],nt.prototype,"deleteSprite",2);f([C],nt.prototype,"removeSprite",2);f([C],nt.prototype,"addSnapshot",2);f([C],nt.prototype,"addNewText",2);f([C],nt.prototype,"addNewTextDesign",2);f([C],nt.prototype,"addNewSticker",2);f([C],nt.prototype,"updateStateFromSerialization",2);f([C],nt.prototype,"updateStateFromHistory",2);f([C],nt.prototype,"updateCanvasControls",2);f([C],nt.prototype,"setEditMode",2);f([C],nt.prototype,"setDragMode",2);f([C],nt.prototype,"setPosition",2);f([C],nt.prototype,"setSize",2);f([C],nt.prototype,"setRotation",2);f([C],nt.prototype,"onCanvasClick",2);f([C],nt.prototype,"select",2);f([C],nt.prototype,"selectLast",2);f([C],nt.prototype,"selectNext",2);f([C],nt.prototype,"deselect",2);f([C],nt.prototype,"bringToFront",2);f([C],nt.prototype,"flipHorizontally",2);f([C],nt.prototype,"pureReset",2);f([C],nt.prototype,"onCornerDrag",2);f([C],nt.prototype,"onWidthDrag",2);f([C],nt.prototype,"onPaddingDrag",2);f([C],nt.prototype,"correctTextFlip",2);f([C],nt.prototype,"reverseTextHorizontally",2);f([C],nt.prototype,"reverseTextVertically",2);f([C],nt.prototype,"dispose",2);f([S],nt.prototype,"currentSprite",1);f([S],nt.prototype,"padding",1);f([S],nt.prototype,"isEditMode",1);f([S],nt.prototype,"isDragMode",1);f([S],nt.prototype,"id",1);f([S],nt.prototype,"isSpriteSelected",1);f([S],nt.prototype,"position",1);f([S],nt.prototype,"tool",1);f([S],nt.prototype,"size",1);f([S],nt.prototype,"rotation",1);f([S],nt.prototype,"rotationWRTOutputRotation",1);f([S],nt.prototype,"flipHorizontal",1);f([S],nt.prototype,"isSpriteSticker",1);f([S],nt.prototype,"isSpriteText",1);f([S],nt.prototype,"isSpriteTextDesign",1);f([S],nt.prototype,"isOnTop",1);f([S],nt.prototype,"spritePosition",1);f([S],nt.prototype,"currentRect",1);f([S],nt.prototype,"leftTopPosition",1);f([S],nt.prototype,"leftBottomPosition",1);f([S],nt.prototype,"leftMidPosition",1);f([S],nt.prototype,"leftMidPadPosition",1);f([S],nt.prototype,"rightTopPosition",1);f([S],nt.prototype,"rightBottomPosition",1);f([S],nt.prototype,"rightMidPosition",1);f([S],nt.prototype,"rightMidPadPosition",1);f([S],nt.prototype,"leftBottomHandlePosition",1);f([S],nt.prototype,"rightBottomHandlePosition",1);f([S],nt.prototype,"historyLocale",1);f([S],nt.prototype,"stickerLocale",1);f([S],nt.prototype,"textLocale",1);f([S],nt.prototype,"textDesignLocale",1);});var tW=d(function(){eI();});var sct,fr;var iI=d(function(){Tt();O();sct={categories:[],query:""};fr=/*#__PURE__*/function(){function fr(t){var _this357=this;_classCallCheck(this,fr);this.initProvider=function(t){if(t){_this357.libraryProvider=new t();}};this.fetchImages=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(){var t,e,r,o,_args60=arguments;return regeneratorRuntime.wrap(function _callee59$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:t=_args60.length>0&&_args60[0]!==undefined?_args60[0]:"";if(!_this357.libraryProvider){_context60.next=17;break;}e=null;_context60.prev=3;_context60.next=6;return _this357.libraryProvider.getCategories();case 6:r=_context60.sent;_context60.next=9;return _this357.libraryProvider.searchImages(t);case 9:o=_context60.sent;e=r.map(function(n,s){var a=o.filter(function(l){return l.category===n.name;});return{identifier:n.name,name:n.name,thumbnailURI:n.coverImageUrl,items:a.map(function(l){return{name:l.title||"image".concat(s),identifier:"".concat(n.name,"-").concat(l.title,"-").concat(s),thumbnailURI:l.thumbUrl,rawUrl:l.rawUrl,authorName:l.authorName,authorAvatar:l.authorAvatar};})};}).filter(function(n){return n.items.length;});_context60.next=16;break;case 13:_context60.prev=13;_context60.t0=_context60["catch"](3);console.log(_context60.t0);case 16:Ve(function(){_this357.state.query=t;_this357.state.categories=e;});case 17:case"end":return _context60.stop();}}},_callee59,null,[[3,13]]);}));this.toggleCategorySelection=function(t){_this357.selectedCategory=_this357.selectedCategory!==t?t:"";};this.dispose=function(){_this357.state=null;_this357.configStore=null;_this357.libraryProvider=null;_this357.selectedCategory=null;};this.getRawUrl=function(t){var e=_this357.items.findIndex(function(r){return r.identifier===t;});if(e!==-1){return _this357.items[e].rawUrl;}return t;};this.configStore=t.configStore;this.state=Q(sct);this.selectedCategory="";}_createClass(fr,[{key:"selectedCategoryIdentifier",get:function get(){return this.selectedCategory;}},{key:"categories",get:function get(){return this.state.categories;}},{key:"items",get:function get(){return this.state.categories.map(function(t){return t.items;}).reduce(function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e));},[]);}},{key:"query",get:function get(){return this.state.query;}},{key:"config",get:function get(){return this.configStore.config["library"];}},{key:"locale",get:function get(){return this.configStore.locale["library"];}}]);return fr;}();f([Q],fr.prototype,"selectedCategory",2);f([C],fr.prototype,"initProvider",2);f([C],fr.prototype,"fetchImages",2);f([C],fr.prototype,"toggleCategorySelection",2);f([C],fr.prototype,"dispose",2);f([S],fr.prototype,"selectedCategoryIdentifier",1);f([S],fr.prototype,"categories",1);f([S],fr.prototype,"items",1);f([S],fr.prototype,"query",1);f([S],fr.prototype,"config",1);f([S],fr.prototype,"locale",1);});var eW=d(function(){iI();});var iW,_Ci;var rW=d(function(){O();zn();U();iW=function iW(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"image/png";return"data:".concat(i,";base64,");};_Ci=/*#__PURE__*/function(){function Ci(t){var _this358=this;_classCallCheck(this,Ci);this.version="3.12.0";this.spriteOrder=0;this.mapRelativeCropPointToImageSpace=function(t){var e=at.relativeToAbsolutePoint(t,_this358.cropSpace,false);return at.pointFromSpaceToSpace(e,_this358.cropSpace,_this358.imageSpace,false);};this.mapRelativeCropSizeToScaledImageSize=function(t){return t*Math.min(_this358.outputSize.height*_this358.outputScale.x,_this358.outputSize.width*_this358.outputScale.y);};this.mapRelativeCropSizeToUnscaledImageSize=function(t){return t*Math.min(_this358.outputSize.height,_this358.outputSize.width);};this.editor=t;}_createClass(Ci,[{key:"validateVersion",value:function validateVersion(t){return this.version===t;}},{key:"checkIsSerialisationValid",value:function checkIsSerialisationValid(t){if(typeof t!=="string"&&this.validateVersion(t.version))return true;if(typeof t==="string"){throw new Error("Invalid input of type string, please provide an object");}return false;}},{key:"deserializeImage",value:function deserializeImage(t){var e={};if(t.image){e.image={width:t.image.width,height:t.image.height,data:t.image.data?t.image.data.replace(iW(),""):""};e.image.data=e.image.data?iW()+e.image.data:"";}return e;}},{key:"deserializeTransformation",value:function deserializeTransformation(t){var e={};var r=t.operations.find(function(s){return s.type==="orientation";});var o=t.operations.find(function(s){return s.type==="transform";});var _this$editor$engine$g=this.editor.engine.getRootContainers(),_this$editor$engine$g2=_slicedToArray(_this$editor$engine$g,1),n=_this$editor$engine$g2[0];this.previewPosition=this.editor.transformToolStore.defaultCropMaskPosition;this.previewSize=this.editor.transformToolStore.maxCropMaskSize;this.imageSpace=n;e.transform=_Ci.initializeEmptyTransform();if(r!=null){e.transform.outputRotation=r.options.rotation;e.transform.flipHorizontally=r.options.flipHorizontally||false;e.transform.flipVertically=r.options.flipVertically||false;}if(o){e.transform.start=o.options.start;e.transform.end=o.options.end;e.transform.rotation=o.options.rotation||0;e.transform.identifier=o.options.meta?o.options.meta.identifier:"";}return e;}},{key:"deserialize",value:function deserialize(t){var _this359=this;var n,s;var e={};if(t.meta?!_Ci.checkIfPlatformHTML(t.meta.platform):false){console.warn("Read serialisation from another Platform");}var r=this.editor.engineMediator.output.container.getResolution();var _this$editor$engineMe2=this.editor.engineMediator.image.container.getBounds(),o=_this$editor$engineMe2.size;this.outputSize=r;this.imageSize=o;this.cropSpace=this.editor.engine.getOutputContainer();this.outputScale=this.cropSpace.getScale();t.operations.forEach(function(a){switch(a.type){case"filter":e.filter=_Ci.deserializeFilter(a.options);break;case"adjustments":e.adjustment=_Ci.deserializeAdjustments(a.options);break;case"focus":e.focus=_this359.deserializeFocus(a.options);break;case"sprite":var l=a.options.sprites;l.forEach(function(c){switch(c.type){case"frame":e.frame=_this359.deserializeFrame(c.options);break;case"overlay":e.overlay=_Ci.deserializeOverlay(c.options);break;case"brush":if(!e.brush){e.brush=_this359.deserializeBrush(c.options);}else{var _e$brush$strokes;(_e$brush$strokes=e.brush.strokes).push.apply(_e$brush$strokes,_toConsumableArray(_this359.deserializeBrush(c.options).strokes));}break;case"sticker":case"text":case"textdesign":if(!e.sprite){e.sprite={spriteIdList:[],sticker:{},text:{},textdesign:{},common:{}};}var u=At();e.sprite.spriteIdList.push(u);e.sprite.common[u]={order:_this359.spriteOrder,position:_this359.mapRelativeCropPointToImageSpace(c.options.position),tool:"sticker",rotation:c.options.rotation||0,flipHorizontally:c.options.flipHorizontally,flipVertically:c.options.flipVertically};_this359.spriteOrder+=1;if(c.type==="sticker"){e.sprite.common[u].tool="sticker";e.sprite.common[u].size={width:_this359.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.x),height:_this359.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.y)};e.sprite.sticker[u]=_Ci.deserializeStickers(c.options,_this359.editor);}else if(c.type==="text"){e.sprite.common[u].tool="text";e.sprite.text[u]=_this359.deserializeTexts(c.options);}else if(c.type==="textdesign"){e.sprite.common[u].tool="textdesign";e.sprite.textdesign[u]=_this359.deserializeTextDesign(c.options);}break;default:break;}});break;default:break;}});if(t.assetLibrary){e.customStickers=((s=(n=t.assetLibrary)==null?void 0:n.assets)==null?void 0:s.stickers)||[];}return e;}},{key:"deserializeFrame",value:function deserializeFrame(t){return{identifier:t.identifier,opacity:t.alpha,width:this.mapRelativeCropSizeToUnscaledImageSize(t.size),color:_Ci.deserialzeColor(t.tintColor)};}},{key:"deserializeFocus",value:function deserializeFocus(t){switch(t.type){case"linear":return{identifier:"linear",linear:this.deserializeLinearFocus(t.options)};case"gaussian":return{identifier:"gaussian",gaussian:this.deserializeGaussianFocus(t.options)};case"radial":return{identifier:"radial",radial:this.deserializeRadialFocus(t.options)};case"mirrored":return{identifier:"mirrored",mirrored:this.deserializeMirroredFocus(t.options)};default:break;}return void 0;}},{key:"deserializeRadialFocus",value:function deserializeRadialFocus(t){return{center:this.mapRelativeCropPointToImageSpace(t.start),radius:new R(this.mapRelativeCropPointToImageSpace(t.start)).subtract(new R(this.mapRelativeCropPointToImageSpace(t.end))).magnitude,blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeLinearFocus",value:function deserializeLinearFocus(t){return{start:this.mapRelativeCropPointToImageSpace(t.start),end:this.mapRelativeCropPointToImageSpace(t.end),blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeGaussianFocus",value:function deserializeGaussianFocus(t){return{blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeMirroredFocus",value:function deserializeMirroredFocus(t){var e=new R(this.mapRelativeCropPointToImageSpace(t.start)).subtract(new R(this.mapRelativeCropPointToImageSpace(t.end)));return{origin:new R(this.mapRelativeCropPointToImageSpace(t.start)).add(new R(this.mapRelativeCropPointToImageSpace(t.end))).divide(2),rotation:Math.atan2(e.y,e.x),size:this.mapRelativeCropSizeToScaledImageSize(t.size),blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeTexts",value:function deserializeTexts(t){return{identifier:hn(t.fontIdentifier),fontSize:this.mapRelativeCropSizeToScaledImageSize(t.fontSize),width:this.mapRelativeCropSizeToScaledImageSize(t.maxWidth),alignment:t.alignment,textColor:_Ci.deserialzeColor(t.color),backgroundColor:_Ci.deserialzeColor(t.backgroundColor),lineHeight:t.lineHeight,text:t.text};}},{key:"deserializeTextDesign",value:function deserializeTextDesign(t){return{identifier:t.identifier,width:this.mapRelativeCropSizeToScaledImageSize(t.width),padding:this.mapRelativeCropSizeToScaledImageSize(t.padding),color:_Ci.deserialzeColor(t.color),seed:t.seed,text:t.text,isInverted:t.inverted};}},{key:"deserializeBrush",value:function deserializeBrush(t){var _this360=this;return{strokes:t.paths.map(function(e){return{path:{controlPoints:e.points.map(_this360.mapRelativeCropPointToImageSpace)},brush:{id:"imgly_brush_radial",color:_Ci.deserialzeColor(e.brush.color),size:e.brush.size,hardness:e.brush.hardness}};})};}}],[{key:"deserializeFilter",value:function deserializeFilter(t){return{intensity:t.intensity,identifier:t.identifier};}},{key:"deserializeAdjustments",value:function deserializeAdjustments(t){return _objectSpread({},t);}},{key:"deserializeOverlay",value:function deserializeOverlay(t){return{identifier:t.identifier,opacity:t.intensity,blendMode:t.blendMode.replace(/([ _][a-z])/g,function(e){return e.toUpperCase().replace(" ","").replace("_","");})};}},{key:"initializeEmptyTransform",value:function initializeEmptyTransform(){return{outputRotation:0,flipHorizontally:false,flipVertically:false,start:{x:0,y:0},end:{x:1,y:1},rotation:0};}},{key:"deserialzeColor",value:function deserialzeColor(t){if(t){if(t.rgba){return t.rgba;}}return[0,0,0,0];}},{key:"checkIfPlatformHTML",value:function checkIfPlatformHTML(t){return t==="html5";}},{key:"noTintModeGiven",value:function noTintModeGiven(t,e){return e.spriteStore.stickerToolStore.entityManager.items.find(function(r){return r.identifier===t;}).tintMode||"colorized";}},{key:"deserializeStickers",value:function deserializeStickers(t,e){return{identifier:t.identifier,opacity:t.alpha||0,tintMode:t.tintMode||_Ci.noTintModeGiven(t.identifier,e),tintColor:_Ci.deserialzeColor(t.tintColor)};}}]);return Ci;}();});var oW,_Si;var nW=d(function(){O();zn();U();oW=function oW(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"image/png";return"data:".concat(i,";base64,");};_Si=/*#__PURE__*/function(){function Si(t){var _this361=this;_classCallCheck(this,Si);this.version="3.9.0";this.spriteOrder=0;this.mapRelativeCropPointToImageSpace=function(t){var e=at.relativeToAbsolutePoint(t,_this361.cropSpace,false);return at.pointFromSpaceToSpace(e,_this361.cropSpace,_this361.imageSpace,false);};this.mapRelativeCropSizeToScaledImageSize=function(t){return t*Math.min(_this361.outputSize.height*_this361.outputScale.x,_this361.outputSize.width*_this361.outputScale.y);};this.mapRelativeCropSizeToUnscaledImageSize=function(t){return t*Math.min(_this361.outputSize.height,_this361.outputSize.width);};this.editor=t;}_createClass(Si,[{key:"validateVersion",value:function validateVersion(t){return this.version===t;}},{key:"checkIsSerialisationValid",value:function checkIsSerialisationValid(t){if(typeof t!=="string"&&this.validateVersion(t.version))return true;if(typeof t==="string"){throw new Error("Invalid input of type string, please provide an object");}return false;}},{key:"deserializeImage",value:function deserializeImage(t){var e={};if(t.image){e.image={width:t.image.width,height:t.image.height,data:t.image.data?t.image.data.replace(oW(),""):""};e.image.data=e.image.data?oW()+e.image.data:"";}return e;}},{key:"deserializeTransformation",value:function deserializeTransformation(t){var e={};var r=t.operations.find(function(s){return s.type==="orientation";});var o=t.operations.find(function(s){return s.type==="transform";});var _this$editor$engine$g3=this.editor.engine.getRootContainers(),_this$editor$engine$g4=_slicedToArray(_this$editor$engine$g3,1),n=_this$editor$engine$g4[0];this.previewPosition=this.editor.transformToolStore.defaultCropMaskPosition;this.previewSize=this.editor.transformToolStore.maxCropMaskSize;this.imageSpace=n;e.transform=_Si.initializeEmptyTransform();if(r!=null){e.transform.outputRotation=r.options.rotation;e.transform.flipHorizontally=r.options.flipHorizontally||false;e.transform.flipVertically=r.options.flipVertically||false;}if(o){e.transform.start=o.options.start;e.transform.end=o.options.end;e.transform.rotation=o.options.rotation||0;e.transform.identifier=o.options.meta?o.options.meta.identifier:"";}return e;}},{key:"deserialize",value:function deserialize(t){var _this362=this;var n,s;var e={};if(t.meta?!_Si.checkIfPlatformHTML(t.meta.platform):false){console.warn("Read serialisation from another Platform");}var r=this.editor.engineMediator.output.container.getResolution();var _this$editor$engineMe3=this.editor.engineMediator.image.container.getBounds(),o=_this$editor$engineMe3.size;this.outputSize=r;this.imageSize=o;this.cropSpace=this.editor.engine.getOutputContainer();this.outputScale=this.cropSpace.getScale();t.operations.forEach(function(a){switch(a.type){case"filter":e.filter=_Si.deserializeFilter(a.options);break;case"adjustments":e.adjustment=_Si.deserializeAdjustments(a.options);break;case"focus":e.focus=_this362.deserializeFocus(a.options);break;case"sprite":var l=a.options.sprites;l.forEach(function(c){switch(c.type){case"frame":e.frame=_this362.deserializeFrame(c.options);break;case"overlay":e.overlay=_Si.deserializeOverlay(c.options);break;case"brush":if(!e.brush){e.brush=_this362.deserializeBrush(c.options);}else{var _e$brush$strokes2;(_e$brush$strokes2=e.brush.strokes).push.apply(_e$brush$strokes2,_toConsumableArray(_this362.deserializeBrush(c.options).strokes));}break;case"sticker":case"text":case"textdesign":if(!e.sprite){e.sprite={spriteIdList:[],sticker:{},text:{},textdesign:{},common:{}};}var u=At();e.sprite.spriteIdList.push(u);e.sprite.common[u]={order:_this362.spriteOrder,position:_this362.mapRelativeCropPointToImageSpace(c.options.position),tool:"sticker",rotation:c.options.rotation||0,flipHorizontally:c.options.flipHorizontally,flipVertically:c.options.flipVertically};_this362.spriteOrder+=1;if(c.type==="sticker"){e.sprite.common[u].tool="sticker";e.sprite.common[u].size={width:_this362.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.x),height:_this362.mapRelativeCropSizeToScaledImageSize(c.options.dimensions.y)};e.sprite.sticker[u]=_Si.deserializeStickers(c.options,_this362.editor);}else if(c.type==="text"){e.sprite.common[u].tool="text";e.sprite.text[u]=_this362.deserializeTexts(c.options);}else if(c.type==="textdesign"){e.sprite.common[u].tool="textdesign";e.sprite.textdesign[u]=_this362.deserializeTextDesign(c.options);}break;default:break;}});break;default:break;}});if(t.assetLibrary){e.customStickers=((s=(n=t.assetLibrary)==null?void 0:n.assets)==null?void 0:s.stickers)||[];}return e;}},{key:"deserializeFrame",value:function deserializeFrame(t){return{identifier:t.identifier,opacity:t.alpha,width:this.mapRelativeCropSizeToUnscaledImageSize(t.size),color:_Si.deserialzeColor(t.tintColor)};}},{key:"deserializeFocus",value:function deserializeFocus(t){switch(t.type){case"linear":return{identifier:"linear",linear:this.deserializeLinearFocus(t.options)};case"gaussian":return{identifier:"gaussian",gaussian:this.deserializeGaussianFocus(t.options)};case"radial":return{identifier:"radial",radial:this.deserializeRadialFocus(t.options)};case"mirrored":return{identifier:"mirrored",mirrored:this.deserializeMirroredFocus(t.options)};default:return void 0;}}},{key:"deserializeRadialFocus",value:function deserializeRadialFocus(t){return{center:this.mapRelativeCropPointToImageSpace(t.start),radius:new R(this.mapRelativeCropPointToImageSpace(t.start)).subtract(new R(this.mapRelativeCropPointToImageSpace(t.end))).magnitude,blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeLinearFocus",value:function deserializeLinearFocus(t){return{start:this.mapRelativeCropPointToImageSpace(t.start),end:this.mapRelativeCropPointToImageSpace(t.end),blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeGaussianFocus",value:function deserializeGaussianFocus(t){return{blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeMirroredFocus",value:function deserializeMirroredFocus(t){var e=new R(this.mapRelativeCropPointToImageSpace(t.start)).subtract(new R(this.mapRelativeCropPointToImageSpace(t.end)));return{origin:new R(this.mapRelativeCropPointToImageSpace(t.start)).add(new R(this.mapRelativeCropPointToImageSpace(t.end))).divide(2),rotation:Math.atan2(e.y,e.x),size:this.mapRelativeCropSizeToScaledImageSize(t.size),blurRadius:this.mapRelativeCropSizeToScaledImageSize(t.blurRadius)};}},{key:"deserializeTexts",value:function deserializeTexts(t){return{identifier:hn(t.fontIdentifier),fontSize:this.mapRelativeCropSizeToScaledImageSize(t.fontSize),width:this.mapRelativeCropSizeToScaledImageSize(t.maxWidth),alignment:t.alignment,textColor:_Si.deserialzeColor(t.color),backgroundColor:_Si.deserialzeColor(t.backgroundColor),lineHeight:t.lineHeight,text:t.text};}},{key:"deserializeTextDesign",value:function deserializeTextDesign(t){return{identifier:t.identifier,width:this.mapRelativeCropSizeToScaledImageSize(t.width),padding:this.mapRelativeCropSizeToScaledImageSize(t.padding),color:_Si.deserialzeColor(t.color),seed:t.seed,text:t.text,isInverted:t.inverted};}},{key:"deserializeBrush",value:function deserializeBrush(t){var _this363=this;return{strokes:t.paths.map(function(e){return{path:{controlPoints:e.points.map(_this363.mapRelativeCropPointToImageSpace)},brush:{id:"imgly_brush_radial",color:_Si.deserialzeColor(e.brush.color),size:e.brush.size,hardness:e.brush.hardness}};})};}}],[{key:"deserializeFilter",value:function deserializeFilter(t){return{intensity:t.intensity,identifier:t.identifier};}},{key:"deserializeAdjustments",value:function deserializeAdjustments(t){return _objectSpread({},t);}},{key:"deserializeOverlay",value:function deserializeOverlay(t){return{identifier:t.identifier,opacity:t.intensity,blendMode:t.blendMode.replace(/([ _][a-z])/g,function(e){return e.toUpperCase().replace(" ","").replace("_","");})};}},{key:"initializeEmptyTransform",value:function initializeEmptyTransform(){return{outputRotation:0,flipHorizontally:false,flipVertically:false,start:{x:0,y:0},end:{x:1,y:1},rotation:0};}},{key:"deserialzeColor",value:function deserialzeColor(t){if(t){if(t.rgba){return t.rgba;}}return[0,0,0,0];}},{key:"checkIfPlatformHTML",value:function checkIfPlatformHTML(t){return t==="html5";}},{key:"noTintModeGiven",value:function noTintModeGiven(t,e){return e.spriteStore.stickerToolStore.entityManager.items.find(function(r){return r.identifier===t;}).tintMode||"colorized";}},{key:"deserializeStickers",value:function deserializeStickers(t,e){return{identifier:t.identifier,opacity:t.alpha||0,tintMode:t.tintMode||_Si.noTintModeGiven(t.identifier,e),tintColor:_Si.deserialzeColor(t.tintColor)};}}]);return Si;}();});var act,lct,cct,uct,dct,mct,pct,hct,fct,gct,bct,yct,_ct,xct,vct,aW;var sW=d(function(){act="@photoeditorsdk/root";lct="5.19.7";cct="The most comprehensive photo editor SDK for HTML5";uct="http://github.com/imgly/pesdk-html5";dct="PhotoEditorSDK (IMG.LY GmbH) <contact@img.ly>";mct="SEE LICENSE IN LICENSE.md";pct=true;hct={};fct={start:"yarn workspace @example/react start",build:"yarn sdk-script build","build:rollup":"yarn sdk-script build rollup","package:release":"cd dist/photoeditorsdk && npm publish","package:pre-release":"cd dist/photoeditorsdk && npm publish --tag next","lint:css":"stylelint './packages/**/*.tsx'","lint:ts":"eslint ./packages/**/*.{ts,tsx}","lint:ts-engine":"eslint ./engine/**/*.ts","lint:types":"tsc --noEmit -p tsconfig.json --skipLibCheck","lint:types-engine":"tsc --noEmit -p engine/tsconfig.json --skipLibCheck",lint:"run-p lint:*",test:"$(npm bin)/jest",e2e:"cypress open","e2e:server":"sdk-script ui -P 3000 -D build","e2e:ci":"CYPRESS_RETRIES=2 cypress run --browser chrome --headed",deploy:"yarn workspace examp run deploy:pages",docs:"rm -rf ./docs && typedoc",postinstall:"yarn sdk-script server:build"};gct={"@elv1n/cypress-plugin-snapshots":"1.4.4","@types/jest":"^24.0.11","@types/pixelmatch":"^5.2.2","@types/pngjs":"^3.4.2","@types/react":"^16.8.13","@types/react-dom":"^16.8.4","@types/styled-components":"4.4.0","@typescript-eslint/eslint-plugin":"4.6.0","@typescript-eslint/parser":"4.6.0",autoprefixer:"^9.7.4","cross-env":"^7.0.2",cypress:"6.6.0",eslint:"7.10.0","eslint-config-airbnb":"18.2.0","eslint-config-prettier":"6.12.0","eslint-import-resolver-typescript":"^2.3.0","eslint-plugin-cypress":"^2.11.2","eslint-plugin-import":"2.22.1","eslint-plugin-jsx-a11y":"6.3.1","eslint-plugin-no-only-tests":"^2.4.0","eslint-plugin-prettier":"3.1.4","eslint-plugin-react":"7.21.3",husky:"4.3.0",jest:"24.9.0",jsdoc:"^3.6.3","lint-staged":"10.4.0","lodash.defaults":"^4.2.0","mobx-react-devtools":"^6.1.1","native-url":"0.3.4","npm-run-all":"^4.1.5",prettier:"^2.0.5",react:"16.8.6","react-dom":"16.8.6","start-server-and-test":"1.11.5","styled-components":"4.4.1",stylelint:"^13.7.2","stylelint-config-recommended":"^3.0.0","stylelint-config-standard":"^20.0.0","stylelint-config-styled-components":"^0.1.1","stylelint-processor-styled-components":"^1.10.0","ts-jest":"24.3.0",typedoc:"^0.17.8",typescript:"3.8.3","utility-types":"^3.10.0"};bct={"@juggle/resize-observer":"3.2.0","@reach/portal":"^0.13.0","can-use-dom":"0.1.0","lodash.debounce":"4.0.8","lodash.memoize":"4.1.2","lodash.throttle":"4.1.1",mobx:"4.15.7","mobx-react":"6.3.1",photoeditorsdk:"1.0.0","react-app-polyfill":"1.0.6","react-transition-group":"^4.4.1"};yct={node:"10.x || 11.x || 12.x || 13.x || 14.x || 15.x"};_ct={eslint:"7.10.0"};xct=["examples/server","examples/material-ui","examples/ssr","examples/react","packages/*","!packages/ui","packages/ui/*","!packages/ui/components","packages/ui/components/*","engine/*","test/*","scripts"];vct={hooks:{"pre-commit":"lint-staged","pre-push":"true"}};aW={name:act,version:lct,description:cct,repository:uct,author:dct,license:mct,"private":pct,bin:hct,scripts:fct,devDependencies:gct,dependencies:bct,devEngines:yct,resolutions:_ct,workspaces:xct,husky:vct};});var _pu;var lW=d(function(){O();zn();sW();_pu=/*#__PURE__*/function(){function pu(t,e,r,o,n,s){var _this364=this;_classCallCheck(this,pu);this.version="3.12.0";this.mapImagePointToRelativeCropPoint=function(t){var e=at.pointFromSpaceToSpace(t,_this364.imageSpace,_this364.cropSpace,false);return at.absoluteToRelativePoint(e,_this364.cropSpace,false);};this.mapSizeToRelativeUnscaledCropSize=function(t){return t/Math.min(_this364.outputSize.height,_this364.outputSize.width);};this.mapSizeToRelativeScaledCropSize=function(t){return t/Math.min(_this364.outputSize.height*_this364.outputScale.x,_this364.outputSize.width*_this364.outputScale.y);};this.getPointInDirection=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var o=Math.tan(e);var n=Math.sqrt(Math.pow(o,2)+1);return{x:t.x+r/n,y:t.y+r*o/n};};this.previewPosition=t;this.previewSize=e;this.outputSize=r;this.imageSize=o;this.imageSpace=n;this.cropSpace=s;this.outputScale=s.getScale();}_createClass(pu,[{key:"serialise",value:function serialise(t,e,r){var _this365=this;var o=_pu.serializeMetaData();var n={width:this.imageSize.width,height:this.imageSize.height};if(e){n.type=r;n.data=e;}var s=[];var a=[];var l=t.adjustment;if(Object.keys(l).map(function(x){return l[x];}).filter(Boolean).length){s.push(_pu.serializeAdjustments(l));}var c=t.filter;if(c.identifier!=="identity"){s.push(_pu.serializeFilters(c));}var u=t.overlay;if(u.identifier!=="identity"){a.push(_pu.serializeOverlay(u));}if(t.transform){var _this$serializeTransf=this.serializeTransform(t.transform),x=_this$serializeTransf.transform,v=_this$serializeTransf.orientation;var b=[x.options.start.x!==0,x.options.start.y!==0,x.options.end.x!==1,x.options.end.y!==1,x.options.rotation!==0];var T=[v.options.rotation!==0,v.options.flipVertically!==false,v.options.flipHorizontally!==false];if(b.some(function(k){return k;})){s.push(x);}if(T.some(function(k){return k;})){s.push(v);}}var m=t.frame;if(m.identifier!=="identity"){a.push(this.serialzeFrame(m));}var p=t.focus;if(p.identifier!=="identity"){s.push(this.serializeFocus(p));}if(t.sprite){t.sprite.spriteIdList.forEach(function(x){var v=t.sprite.common[x];switch(v.tool){case"sticker":var _b9=t.sprite.sticker[x];a.push(_this365.serializeSticker(_b9,v,t.transform));break;case"text":var _T3=t.sprite.text[x];a.push(_this365.serializeText(_T3,v));break;case"textdesign":var k=t.sprite.textdesign[x];a.push(_this365.serializeTextDesign(k,v));break;default:break;}});}if(t.brush.strokes.length){a.push({type:"brush",options:{paths:t.brush.strokes.map(function(x){return{points:x.path.controlPoints.map(_this365.mapImagePointToRelativeCropPoint),brush:{color:{rgba:x.brush.color},size:x.brush.size,hardness:x.brush.hardness}};})}});}if(a.length){var _x65={type:"sprite",options:{sprites:a}};s.push(_x65);}var h=t.customStickers;var g={assets:{stickers:h}};return{version:this.version,meta:o,image:n,operations:s,assetLibrary:g};}},{key:"serialzeFrame",value:function serialzeFrame(t){return{type:"frame",options:{identifier:t.identifier,alpha:t.opacity,tintColor:{rgba:t.color},size:this.mapSizeToRelativeUnscaledCropSize(t.width)}};}},{key:"serializeFocus",value:function serializeFocus(t){var e=Math.sqrt(Math.pow(this.previewSize.width,2)+Math.pow(this.previewSize.height,2));switch(t.identifier){case"linear":return{type:"focus",options:{type:"linear",options:{start:this.mapImagePointToRelativeCropPoint(t.linear.start),end:this.mapImagePointToRelativeCropPoint(t.linear.end),blurRadius:this.mapSizeToRelativeScaledCropSize(t.linear.blurRadius)}}};case"radial":return{type:"focus",options:{type:"radial",options:{start:this.mapImagePointToRelativeCropPoint(t.radial.center),end:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(t.radial.center,0,t.radial.radius)),blurRadius:this.mapSizeToRelativeScaledCropSize(t.radial.blurRadius),gradientRadius:.1}}};case"mirrored":var r=t.mirrored;return{type:"focus",options:{type:"mirrored",options:{start:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(r.origin,r.rotation,e/2)),end:this.mapImagePointToRelativeCropPoint(this.getPointInDirection(r.origin,r.rotation,-e/2)),size:this.mapSizeToRelativeScaledCropSize(t.mirrored.size),blurRadius:this.mapSizeToRelativeScaledCropSize(t.mirrored.blurRadius),gradientSize:.1}}};default:return{type:"focus",options:{type:"gaussian",options:{blurRadius:this.mapSizeToRelativeScaledCropSize(t.gaussian.blurRadius)}}};}}},{key:"serializeSticker",value:function serializeSticker(t,e,r){return{type:"sticker",options:{position:this.mapImagePointToRelativeCropPoint(e.position),dimensions:{x:this.mapSizeToRelativeScaledCropSize(e.size.width),y:this.mapSizeToRelativeScaledCropSize(e.size.height)},rotation:e.rotation,flipVertically:(e.flipVertically||false)!==(r.flipVertically||false),flipHorizontally:(e.flipHorizontally||false)!==(r.flipHorizontally||false),identifier:t.identifier,alpha:t.opacity,tintColor:{rgba:t.tintColor},tintMode:t.tintMode}};}},{key:"serializeText",value:function serializeText(t,e){return{type:"text",options:{position:this.mapImagePointToRelativeCropPoint(e.position),rotation:e.rotation,flipVertically:false,flipHorizontally:false,fontIdentifier:t.identifier,fontSize:this.mapSizeToRelativeScaledCropSize(t.fontSize),maxWidth:this.mapSizeToRelativeScaledCropSize(t.width),text:t.text,lineHeight:t.lineHeight,color:{rgba:t.textColor},backgroundColor:{rgba:t.backgroundColor},alignment:t.alignment}};}},{key:"serializeTextDesign",value:function serializeTextDesign(t,e){return{type:"textdesign",options:{position:this.mapImagePointToRelativeCropPoint(e.position),rotation:e.rotation,flipVertically:false,flipHorizontally:false,identifier:t.identifier,inverted:t.isInverted,text:t.text,seed:t.seed,width:this.mapSizeToRelativeScaledCropSize(t.width),padding:this.mapSizeToRelativeScaledCropSize(t.padding),color:{rgba:t.color}}};}},{key:"serializeTransform",value:function serializeTransform(t){var e=t.start,r=t.end;var o={type:"transform",options:{start:e,end:r,rotation:t.rotation,meta:{identifier:t.identifier}}};var n={type:"orientation",options:{rotation:t.outputRotation,flipHorizontally:t.flipHorizontally,flipVertically:t.flipVertically}};return{transform:o,orientation:n};}}],[{key:"serializeFilters",value:function serializeFilters(t){return{type:"filter",options:{intensity:t.intensity,identifier:t.identifier}};}},{key:"serializeAdjustments",value:function serializeAdjustments(t){return{type:"adjustments",options:t};}},{key:"serializeOverlay",value:function serializeOverlay(t){return{type:"overlay",options:{identifier:t.identifier,intensity:t.opacity,blendMode:t.blendMode.replace(/[A-Z]/g,function(e){return" ".concat(e.toLowerCase());})}};}},{key:"serializeMetaData",value:function serializeMetaData(){return{platform:"html5",version:aW.version,createdAt:new Date().toISOString()};}}]);return pu;}();});var rI={};de(rI,{Deserializers:function Deserializers(){return Cct;},Serializer:function Serializer(){return _pu;}});var Cct;var oI=d(function(){rW();nW();lW();Cct={"3.9.0":_Si,"3.12.0":_Ci};});var cW,Sct,wct,Tct,_rf;var uW=d(function(){Tt();O();U();cW=/^data:image\/(.+?);base64,/;Sct=function Sct(i){return cW.test(i);};wct=function wct(i){return i.match(/^data:([^;]+)/)[1];};Tct=function Tct(i){return i.replace(cW,"");};_rf=/*#__PURE__*/function(){function rf(t){var _this366=this;_classCallCheck(this,rf);this.applySerialization=/*#__PURE__*/function(){var _ref198=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t,e,r,o){var n,s,a,u,l,c;return regeneratorRuntime.wrap(function _callee60$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:_this366.editor.resetToolStates();n=_this366.editor.activeStore.tool==="transform";if(!n){_this366.editor.transformToolStore.onEnter();}_this366.editor.transformToolStore.reset();if(!n){_this366.editor.transformToolStore.onLeave();}s="Unexpected error occured";a=e.deserializeImage(t);if(!(a.image&&a.image.data)){_context61.next=23;break;}u=a.image.data;_context61.next=11;return _this366.editor.setImage(u);case 11:_this366.editor.scale.defaultScale=1;_this366.editor.scale.resetOffset();_this366.editor.transformToolStore.reset();_this366.editor.activeStore.setImage(u);_context61.next=17;return _this366.editor.engineMediator.image.addImageToContainer();case 17:_this366.editor.engineMediator.output.applyNewImageTransform();_this366.editor.engineMediator.preview.updateTransform();_this366.editor.scale.setInitialTransform();_this366.editor.transformToolStore.setCropDefaults();_this366.editor.historyStore.addInitialSnapshot();_this366.editor.transformToolStore.saveTransforms();case 23:l=e.deserializeTransformation(t);if(l){_context61.next=27;break;}o(s);return _context61.abrupt("return");case 27:_context61.next=29;return _this366.applyStateOnUI(l);case 29:c=e.deserialize(t);if(c){_context61.next=33;break;}o(s);return _context61.abrupt("return");case 33:_context61.next=35;return _this366.applyStateOnUI(c);case 35:_this366.editor.historyStore.addInitialSnapshot();if(n){_this366.editor.transformToolStore.onEnter();}_context61.next=39;return _this366.editor.render();case 39:if(_this366.editor.modalStore.identifier==="loading"){_this366.editor.modalStore.hideModal();}r();case 41:case"end":return _context61.stop();}}},_callee60);}));return function(_x66,_x67,_x68,_x69){return _ref198.apply(this,arguments);};}();this.editor=t;}_createClass(rf,[{key:"serialize",value:function serialize(){var _this367=this;var _ref199=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{image:false},t=_ref199.image;var e=this.editor.activeStore.tool==="transform";var r=this.editor.configStore.config.displaySerializationModal;if(r){this.editor.modalStore.showInfoModal("saving");}return new Promise(function(o,n){Promise.resolve().then(function(){return oI(),rI;}).then(/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(_ref200){var s,_m12,_this367$editor$image,a,l,c,u,m,_yield$_this367$edito,p,h,g,x,v;return regeneratorRuntime.wrap(function _callee61$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:s=_ref200.Serializer;_context62.prev=1;if(e){_this367.editor.transformToolStore.onLeave();}_context62.next=5;return _this367.editor.wait();case 5:_this367.editor.transformToolStore.applyDefaultCrop(false);_this367$editor$image=_this367.editor.imageContainer.getData(),a=_this367$editor$image.originalImage;l=_this367.editor.engineMediator.output.container.getResolution();c={width:a.width,height:a.height};u=new s(_this367.editor.transformToolStore.defaultCropMaskPosition,_this367.editor.transformToolStore.maxCropMaskSize,l,c,_this367.editor.engine.getRootContainers()[0],_this367.editor.engine.getOutputContainer());m=(_m12={},_defineProperty(_m12,"adjustment",ct(_this367.editor.adjustmentsToolStore.state)),_defineProperty(_m12,"filter",ct(_this367.editor.filterToolStore.state)),_defineProperty(_m12,"focus",ct(_this367.editor.focusToolStore.serializableState)),_defineProperty(_m12,"overlay",ct(_this367.editor.overlayToolStore.state)),_defineProperty(_m12,"frame",ct(_this367.editor.frameToolStore.state)),_defineProperty(_m12,"brush",_this367.editor.brushToolStore.strokes||{strokes:[]}),_m12);_context62.next=13;return _this367.editor.spriteStore.serializableState();case 13:_yield$_this367$edito=_context62.sent;p=_yield$_this367$edito.sprite;h=_yield$_this367$edito.customStickers;p.spriteIdList=p.spriteIdList.sort(function(v,b){var T=p.common[v].order;var k=p.common[b].order;return T-k;});m.sprite=p;m.customStickers=h;m.transform=_this367.editor.transformToolStore.serializableState;if(t){v=_rf.getDataURL(a);x=wct(v);g=Tct(v);}if(r){_this367.editor.modalStore.hideModal();}o(u.serialise(m,g,x));if(e){_this367.editor.transformToolStore.onEnter();}_context62.next=30;break;case 26:_context62.prev=26;_context62.t0=_context62["catch"](1);if(r){_this367.editor.modalStore.hideModal();}n(_context62.t0);case 30:case"end":return _context62.stop();}}},_callee61,null,[[1,26]]);}));return function(_x70){return _ref201.apply(this,arguments);};}());});}},{key:"deserialize",value:function deserialize(t){var _this368=this;this.editor.modalStore.showInfoModal("loading");return new Promise(function(e,r){try{Promise.resolve().then(function(){return oI(),rI;}).then(function(_ref202){var o=_ref202.Deserializers;var n=t.version.match(/[0-3].[0-8].[0-9]/i);var s=null;if(n&&o["3.9.0"]){s=new o["3.9.0"](_this368.editor);}else if(o[t.version]){s=new o[t.version](_this368.editor);}else{s=new o["3.12.0"](_this368.editor);}if(n){_this368.editor.modalStore.hideModal();_this368.editor.modalStore.showActionModal({type:"warning",identifier:"unsupportedSerializationVersion",handleConfirm:function handleConfirm(){return _this368.applySerialization(t,s,e,r);}});}else{_this368.applySerialization(t,s,e,r);}});}catch(o){if(_this368.editor.modalStore.identifier==="loading"){_this368.editor.modalStore.hideModal();}r(o);}});}},{key:"applyStateOnUI",value:function(){var _applyStateOnUI=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _this369=this;var e,r;return regeneratorRuntime.wrap(function _callee62$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:e=this.editor.activeStore.tool==="transform";_context63.prev=1;if(!t.transform){_context63.next=13;break;}if(!e){this.editor.transformToolStore.onEnter();}this.editor.transformToolStore.updateStateFromSerialization(t.transform);_context63.next=7;return this.editor.wait();case 7:this.editor.transformToolStore.onLeave();if(e){_context63.next=13;break;}this.editor.transformToolStore.onEnter();_context63.next=12;return this.editor.wait();case 12:this.editor.transformToolStore.onLeave();case 13:if(!t.filter){_context63.next=16;break;}_context63.next=16;return this.editor.filterToolStore.updateStateFromSerialization(t.filter);case 16:if(t.adjustment){this.editor.adjustmentsToolStore.updateStateFromSerialization(t.adjustment);}if(!t.focus){_context63.next=20;break;}_context63.next=20;return this.editor.focusToolStore.updateStateFromSerialization(t.focus);case 20:if(!t.overlay){_context63.next=23;break;}_context63.next=23;return this.editor.overlayToolStore.updateStateFromSerialization(t.overlay);case 23:if(!t.sprite){_context63.next=29;break;}r=Object.keys(t).length-1;if(t.customStickers){r-=1;}t.sprite.spriteIdList=t.sprite.spriteIdList.sort(function(o,n){var s=t.sprite.common[o].order;var a=t.sprite.common[n].order;return s-a;});_context63.next=29;return this.editor.spriteStore.updateStateFromSerialization(t.sprite,t.customStickers,Math.max(0,r));case 29:if(t.brush){this.editor.brushToolStore.updateStateFromHistory(t.brush);}if(!t.frame){_context63.next=33;break;}_context63.next=33;return this.editor.frameToolStore.updateStateFromSerialization(t.frame);case 33:this.editor.outputContainer.updateChildrenContainers();_context63.next=39;break;case 36:_context63.prev=36;_context63.t0=_context63["catch"](1);if(_context63.t0.name==="AssetNotFoundError"){console.error(_context63.t0);}else{console.error(_context63.t0);this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:_context63.t0.message,handleConfirm:function handleConfirm(){_this369.applyStateOnUI(t);}});}case 39:case"end":return _context63.stop();}}},_callee62,this,[[1,36]]);}));function applyStateOnUI(_x71){return _applyStateOnUI.apply(this,arguments);}return applyStateOnUI;}()}],[{key:"getDataURL",value:function getDataURL(t){if(t instanceof HTMLImageElement){var n=t.src;if(Sct(n)){return n;}}if(t instanceof HTMLCanvasElement){return t.toDataURL("image/png");}var e=document.createElement("canvas");e.width=t.width;e.height=t.height;var r=e.getContext("2d");r.drawImage(t,0,0);var o=e.toDataURL("image/png");$t(e);return o;}}]);return rf;}();});var kct,nI;var dW=d(function(){kct=function kct(i){var t=atob(i.split(",")[1]);var e=i.split(",")[0].split(":")[1].split(";")[0];var r=new ArrayBuffer(t.length);var o=new Uint8Array(r);for(var n=0;n<t.length;n+=1){o[n]=t.charCodeAt(n);}return new Blob([r],{type:e});};nI=kct;});var mW,pW;var hW=d(function(){O();mW=function mW(i){return i.split(",")[0].split(":")[1].split(";")[0];};pW=function pW(i){if(typeof i==="string"){return mW(i);}if(i.src.includes(".svg")){return"image/svg+xml";}if(i.src){return mW(i.src);}return"image/jpeg";};});var y0,_of;var fW=d(function(){Vh();y0=y(Ju());O();zn();_of=/*#__PURE__*/function(){function of(_ref203){var t=_ref203.license,e=_ref203.assetProvider,r=_ref203.crossOrigin,o=_ref203.backgroundColor;_classCallCheck(this,of);this.crossOrigin=r;this.engine=new fm({license:t,crossOrigin:r,assetProvider:e,downscaleOptions:{maxDimensions:{width:174,height:174}},backgroundColor:o});}_createClass(of,[{key:"getAllFilterPreviewThumbnails",value:function getAllFilterPreviewThumbnails(t){var _this370=this;return new Promise(function(e,r){var o=[];var n=[];t.forEach(function(s){if(s.isDuotone)o.push(s.identifier);else n.push(s.identifier);});_this370.getAllDuotonePreview(o).then(function(s){_this370.getAllLutPreview(n).then(function(a){e(Object.assign(s,a));})["catch"](function(a){r(a);});})["catch"](function(s){r(s);});});}},{key:"getAllDuotonePreview",value:function(){var _getAllDuotonePreview=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(t){var _this371=this;var e,r;return regeneratorRuntime.wrap(function _callee64$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:e={};if(t.length){_context65.next=3;break;}return _context65.abrupt("return",e);case 3:_context65.next=5;return this.engine.addDuoToneFilterFromAssets(t[0],this.container);case 5:r=_context65.sent;_context65.next=8;return(0,y0["default"])(t,/*#__PURE__*/function(){var _ref204=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(o){var n,s,a;return regeneratorRuntime.wrap(function _callee63$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:n=_this371.engine.assetProvider.getDuotoneFilterAsset(o);s=r.filterOperation.getFilter();s.set({intensity:.5,lightColor:st.Color.fromHex(n.lightColor),darkColor:st.Color.fromHex(n.darkColor)});_context64.next=5;return _this371.engine["export"]("data-url","image/jpeg",.8,false,true);case 5:a=_context64.sent;e[o]=a;case 7:case"end":return _context64.stop();}}},_callee63);}));return function(_x73){return _ref204.apply(this,arguments);};}(),{concurrency:1});case 8:this.engine.removeEffect(r);return _context65.abrupt("return",e);case 10:case"end":return _context65.stop();}}},_callee64,this);}));function getAllDuotonePreview(_x72){return _getAllDuotonePreview.apply(this,arguments);}return getAllDuotonePreview;}()},{key:"loadLutAssets",value:function(){var _loadLutAssets=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t){var _this372=this;var e;return regeneratorRuntime.wrap(function _callee66$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:e={};_context67.next=3;return(0,y0["default"])(t,/*#__PURE__*/function(){var _ref205=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(r){return regeneratorRuntime.wrap(function _callee65$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:_context66.next=2;return _this372.getImageElement(_this372.engine.assetProvider.getAssetSource("filter",r));case 2:e[r]=_context66.sent;case 3:case"end":return _context66.stop();}}},_callee65);}));return function(_x75){return _ref205.apply(this,arguments);};}());case 3:return _context67.abrupt("return",e);case 4:case"end":return _context67.stop();}}},_callee66);}));function loadLutAssets(_x74){return _loadLutAssets.apply(this,arguments);}return loadLutAssets;}()},{key:"getAllLutPreview",value:function(){var _getAllLutPreview=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(t){var _this373=this;var e,r,o;return regeneratorRuntime.wrap(function _callee68$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:e={};if(t.length){_context69.next=3;break;}return _context69.abrupt("return",e);case 3:_context69.next=5;return this.loadLutAssets(t);case 5:r=_context69.sent;_context69.next=8;return this.engine.addLUTFilterFromAssets(t[0],this.container);case 8:o=_context69.sent;_context69.next=11;return(0,y0["default"])(t,/*#__PURE__*/function(){var _ref206=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(n){var s,a,l,c;return regeneratorRuntime.wrap(function _callee67$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:s=_this373.engine.assetProvider.getLUTFilterAsset(n);a=o.filterOperation.getFilter();l={horizontalTileCount:s.horizontalTileCount||5,verticalTileCount:s.verticalTileCount||5,image:r[n]};a.set(_objectSpread(_objectSpread({},l),{},{intensity:s.defaultIntensity||1}));o.setProperties({intensity:1});a._lutPrimitive.set(l);_context68.next=8;return _this373.engine["export"]("data-url","image/jpeg",.8,false,true);case 8:c=_context68.sent;e[n]=c;case 10:case"end":return _context68.stop();}}},_callee67);}));return function(_x77){return _ref206.apply(this,arguments);};}(),{concurrency:1});case 11:this.engine.removeEffect(o);return _context69.abrupt("return",e);case 13:case"end":return _context69.stop();}}},_callee68,this);}));function getAllLutPreview(_x76){return _getAllLutPreview.apply(this,arguments);}return getAllLutPreview;}()},{key:"addImageToContainer",value:function addImageToContainer(t){var _this374=this;return new Promise(function(e,r){var o;if(_of.isImageElement(t)){o=t;_this374.setBackgroundImage(o);e();}else{_this374.getImageElement(t).then(function(n){o=n;_this374.setBackgroundImage(o);e();})["catch"](function(n){r({identifier:"imageLoading",message:n.message});});}});}},{key:"getImageElement",value:function getImageElement(t){var _this375=this;return new Promise(function(e,r){var o=new Image();o.addEventListener("load",function(){e(o);});o.addEventListener("error",function(n){r(n);});o.crossOrigin=_this375.crossOrigin;o.src=t;});}},{key:"setBackgroundImage",value:function setBackgroundImage(t){if(!this.container){this.container=this.engine.addImage({image:t,blendMode:"normal",opacity:1});}else{this.container.setData({image:t});}var _this$container$getBo=this.container.getBounds(),e=_this$container$getBo.size;var r=this.engine.getOutputContainer();r.setResolution(e);}}],[{key:"isImageElement",value:function isImageElement(t){return t instanceof HTMLImageElement;}}]);return of;}();});var Ict,$o;var sI=d(function(){Tt();U();Ict={horizontalGuides:[],verticalGuides:[],rotationGuides:[]};$o=/*#__PURE__*/function(){function $o(t){var _this376=this;_classCallCheck(this,$o);this.previewTopLeftPosition={x:0,y:0};this.init=function(){_this376.state.horizontalGuides=_this376.getHorizontalGuidesFromConfig();_this376.state.verticalGuides=_this376.getVerticalGuidesFromConfig();_this376.state.rotationGuides=_this376.getRotationGuidesFromConfig();};this.getGuideValue=function(t,e){var _this376$editor$getPr=_this376.editor.getPreviewSize(),r=_this376$editor$getPr.height,o=_this376$editor$getPr.width;var _this376$configStore$=_this376.configStore.config.snapping.position,n=_this376$configStore$.snapToLeft,s=_this376$configStore$.snapToRight,a=_this376$configStore$.snapToTop,l=_this376$configStore$.snapToBottom;var c=Math.min(r,o);var u=0;if(e==="bottom"){u=Math.round(r-c*l);}else if(e==="top"){u=Math.round(c*a);}else if(e==="right"){u=Math.round(o-c*s);}else if(e==="left"){u=Math.round(c*n);}else if(t==="vertical"&&e==="center"){u=Math.round(o/2);}else if(t==="horizontal"&&e==="center"){u=Math.round(r/2);}return u;};this.getVerticalGuidesFromConfig=function(){var _this376$configStore$2=_this376.configStore.config.snapping.position,t=_this376$configStore$2.snapToVerticalCenter,e=_this376$configStore$2.snapToLeft,r=_this376$configStore$2.snapToRight;var o=[];if(t){o.push({value:_this376.getGuideValue("vertical","center"),edge:"center",isVisible:false,direction:"vertical"});}if(e){o.push({value:_this376.getGuideValue("vertical","left"),edge:"leading",isVisible:false,direction:"vertical"});}if(r){o.push({value:_this376.getGuideValue("vertical","right"),edge:"trailing",isVisible:false,direction:"vertical"});}return o;};this.getHorizontalGuidesFromConfig=function(){var _this376$configStore$3=_this376.configStore.config.snapping.position,t=_this376$configStore$3.snapToHorizontalCenter,e=_this376$configStore$3.snapToTop,r=_this376$configStore$3.snapToBottom;var o=[];if(t){o.push({value:_this376.getGuideValue("horizontal","center"),edge:"center",isVisible:false,direction:"horizontal"});}if(e){o.push({value:_this376.getGuideValue("horizontal","top"),edge:"leading",isVisible:false,direction:"horizontal"});}if(r){o.push({value:_this376.getGuideValue("horizontal","bottom"),edge:"trailing",isVisible:false,direction:"horizontal"});}return o;};this.getRotationGuidesFromConfig=function(){var t=_this376.configStore.config.snapping.rotation.angles;var e=[];t.forEach(function(o){e.push(o);e.push(o+360);e.push(o-360);});var r=e.filter(function(o,n){return e.indexOf(o)===n;});return r.map(function(o){return{value:o*Math.PI/180,edge:"center",isVisible:false,position:{x:0,y:0}};});};this.getSpriteDimensions=function(_ref207){var t=_ref207.leftTop,e=_ref207.leftBottom,r=_ref207.rightTop,o=_ref207.rightBottom;var n=Math.min(t.y,r.y,e.y,o.y);var s=Math.max(t.y,r.y,e.y,o.y);var a=Math.min(t.x,r.x,e.x,o.x);var l=Math.max(t.x,r.x,e.x,o.x);return{height:Math.round(s-n),width:Math.round(l-a)};};this.mapRange=function(_ref208){var t=_ref208.value,e=_ref208.fromMin,r=_ref208.fromLength,o=_ref208.toMin,n=_ref208.toLength;return(t-e)*n/r+o;};this.updateGuides=function(){_this376.state.horizontalGuides=_this376.getHorizontalGuidesFromConfig();_this376.state.verticalGuides=_this376.getVerticalGuidesFromConfig();};this.mapToSnapSystem=function(t,e,r,o){if(e.length===0){return t;}if(e[0]>t){return t-r;}for(var n=0;n<e.length-1;n+=1){var s=e[n];var a=e[n+1];var l=s+r;var c=a-r;var u=0;if(o){u=n*r*2;l+=u;c+=u+r*2;}var m=1e-5;if(s<=t&&t<=a){if(t<=s+m){return s+u;}if(t>=a-m){return a+u+(o?r*2:0);}return _this376.mapRange({value:t,fromMin:s,fromLength:a-s,toMin:l,toLength:c-l});}}if(o){return t+(e.length-1)*r*2+r;}return t;};this.mapFromSnapSystem=function(t,e,r,o){if(e.length===0){return t;}if(e[0]>t){if(t>=e[0]-r){return e[0];}return t+r;}var n=t;for(var a=0;a<e.length-1;a+=1){var l=e[a];var c=e[a+1];var u=l+r;var m=c-r;var p=c;if(o){m+=r*2;p+=r*2;n=t-a*r*2;}if(l<=n&&n<=p){if(u<=n&&n<=m){return _this376.mapRange({value:n,fromMin:u,fromLength:m-u,toMin:l,toLength:c-l});}if(n<u){return l;}return c;}}n-=r*3;var s=e[e.length-1];if(n<=s){return s;}return n;};this.centerSnapValue=function(t,e){var r=e*.5;var o=t.value,n=t.edge;var s=o;if(n==="leading"){s+=r;}else if(n==="trailing"){s-=r;}return s;};this.mapSnappingGuidesToCenter=function(t,e){var r=[];t.forEach(function(o){r.push(_this376.centerSnapValue(o,e));});return r;};this.calcSnapThresholdInRadians=function(t,e){if(t===0){return 0;}return e/t;};this.calculatePreviewTopLeftPosition=function(){var t=_this376.editor.engineMediator.preview.container.getPosition();var e=_this376.editor.getPreviewSize();var r=Eo();_this376.previewTopLeftPosition={x:t.x/r-e.width/2,y:t.y/r-e.height/2};};this.snapToRotation=function(t,e,r){var o=_this376.state.rotationGuides;var _this376$configStore$4=_this376.configStore.config.snapping.rotation,n=_this376$configStore$4.enabled,s=_this376$configStore$4.threshold;var _this376$previewTopLe=_this376.previewTopLeftPosition,a=_this376$previewTopLe.x,l=_this376$previewTopLe.y;var _this376$editor$getPr2=_this376.editor.getPreviewSize(),c=_this376$editor$getPr2.width;var u=(t+Math.PI*2)%(Math.PI*2);if(n){var m=new R(e).magnitude;var p=o.map(function(x){return x.value;}).sort(function(x,v){return x-v;});var h=_this376.calcSnapThresholdInRadians(m,s);if(!_this376.rotationOffset){var x=_this376.mapToSnapSystem(t,p,h,false);_this376.rotationOffset=x-u;}u=_this376.mapFromSnapSystem(u+_this376.rotationOffset,p,h,false);var g={x:r.position.x-a-c,y:r.position.y-l};o.forEach(function(x){x.isVisible=x.value===u;x.position=g;});return u;}return t;};this.snapToPosition=function(t,e){var _this376$state=_this376.state,r=_this376$state.horizontalGuides,o=_this376$state.verticalGuides;var _this376$configStore$5=_this376.configStore.config.snapping.position,n=_this376$configStore$5.enabled,s=_this376$configStore$5.threshold;var a=new R(_this376.previewTopLeftPosition);var _this376$getSpriteDim=_this376.getSpriteDimensions(e),l=_this376$getSpriteDim.height,c=_this376$getSpriteDim.width;var _R$subtract=new R(t).subtract(a),u=_R$subtract.x,m=_R$subtract.y;if(n){var p=_this376.mapSnappingGuidesToCenter(r,l).sort(function(v,b){return v-b;});var h=_this376.mapSnappingGuidesToCenter(o,c).sort(function(v,b){return v-b;});if(!_this376.positionOffset){var v=_this376.mapToSnapSystem(u,h,s,true);var b=_this376.mapToSnapSystem(m,p,s,true);_this376.positionOffset=new R(v,b).subtract(new R(u,m));}var g=_this376.mapFromSnapSystem(u+_this376.positionOffset.x,h,s,true);var x=_this376.mapFromSnapSystem(m+_this376.positionOffset.y,p,s,true);g=Math.round(g);x=Math.round(x);r.forEach(function(v){var b=Math.round(_this376.centerSnapValue(v,l));v.isVisible=b===x;});o.forEach(function(v){var b=Math.round(_this376.centerSnapValue(v,c));v.isVisible=b===g;});return new R(g,x).add(a);}return{x:u,y:m};};this.dispose=function(){_this376.state=null;_this376.editor=null;_this376.configStore=null;};this.editor=t;this.configStore=t.configStore;this.state=Q(Ict);this.rotationOffset=null;this.positionOffset=null;}_createClass($o,[{key:"hidePositionGuides",value:function hidePositionGuides(){this.positionOffset=null;this.state.verticalGuides=this.state.verticalGuides.map(function(t){return _objectSpread(_objectSpread({},t),{},{isVisible:false});});this.state.horizontalGuides=this.state.horizontalGuides.map(function(t){return _objectSpread(_objectSpread({},t),{},{isVisible:false});});}},{key:"hideRotationGuides",value:function hideRotationGuides(){this.rotationOffset=null;this.state.rotationGuides=this.state.rotationGuides.map(function(t){return _objectSpread(_objectSpread({},t),{},{isVisible:false});});}},{key:"positionGuides",get:function get(){var _this$state7=this.state,t=_this$state7.verticalGuides,e=_this$state7.horizontalGuides;return[].concat(_toConsumableArray(t),_toConsumableArray(e));}},{key:"rotationGuides",get:function get(){return this.state.rotationGuides;}}]);return $o;}();f([Q],$o.prototype,"state",2);f([C],$o.prototype,"snapToRotation",2);f([C],$o.prototype,"snapToPosition",2);f([C],$o.prototype,"hidePositionGuides",1);f([C],$o.prototype,"hideRotationGuides",1);f([C],$o.prototype,"dispose",2);f([S],$o.prototype,"positionGuides",1);f([S],$o.prototype,"rotationGuides",1);});var Cl;var gW=d(function(){Tt();O();zn();U();h0();f0();d0();jk();p0();g0();b0();uW();ak();ck();uk();Tk();iI();mk();dW();hW();fW();Ik();sI();eI();Qk();Cl=/*#__PURE__*/function(){function Cl(t,e){var _this377=this;_classCallCheck(this,Cl);this.initWithImage=/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var _e32;return regeneratorRuntime.wrap(function _callee69$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.prev=0;_this377.modalStore.showInfoModal("loading");_this377.engineMediator.init();_this377.snappingStore.init();_context70.next=6;return _this377.activeStore.setImage(t);case 6:if(_this377.configStore.config.displayResizeWarning){_this377.checkImageResize();}if(_this377.configStore.config.filter.enablePreviewThumbnails&&_this377.configStore.config.engine.preferredRenderer==="webgl"){_e32=_this377.configStore.config.engine;_this377.previewThumbnails=new _of(_objectSpread(_objectSpread({},_e32),{},{license:_this377.configStore.config.license,assetProvider:_this377.configStore.assetProvider}));}if(_this377.engine){_this377.engine.pesdk.on("context-lost",function(){_this377.configStore.events.onErrorWebGLContextLost();});}_context70.next=16;break;case 11:_context70.prev=11;_context70.t0=_context70["catch"](0);_this377.configStore.events.onErrorImageLoading(_context70.t0);_this377.modalStore.hideModal();_this377.modalStore.showActionModal({type:"error",identifier:_context70.t0.identifier?_context70.t0.identifier:"rendering",error:_context70.t0,handleConfirm:function handleConfirm(){_this377.initWithImage(t);},handleDismiss:function handleDismiss(){_this377.activeStore.setImage(void 0);}});case 16:case"end":return _context70.stop();}}},_callee69,null,[[0,11]]);}));return function(_x78){return _ref209.apply(this,arguments);};}();this.checkImageResize=function(){_this377.engine.on("beganImageDownscaling",function(){_this377.modalStore.showInfoModal("resizing");});_this377.engine.on("imageDownscaled",function(_ref210){var t=_ref210.width,e=_ref210.height;var r=_this377.configStore.config.engine.downscaleOptions.maxMegaPixels;var o=mp.isMobile()?r.mobile:r.desktop;_this377.modalStore.hideModal();_this377.modalStore.showActionModal({type:"warning",identifier:"imageResized",handleConfirm:function handleConfirm(){_this377.modalStore.hideModal();},error:{megapixels:"".concat(o),width:"".concat(t),height:"".concat(e)}});});};this.init=function(t){var o,n;if(!((o=_this377.activeStore)==null?void 0:o.image)){_this377.initWithImage(t);return;}if(!_this377.historyStore||!((n=_this377.configStore)==null?void 0:n.config)){return;}var e=_this377.historyStore.isDirty();var r=_this377.configStore.config.displayDiscardChangesWarning;if(e&&r){_this377.modalStore.showActionModal({type:"warning",identifier:"discardChanges",handleConfirm:function handleConfirm(){_this377.setImage(t);_this377.resetToolStates();},handleDismiss:function handleDismiss(){_this377.setImage(t,true);}});return;}if(e&&!r){_this377.setImage(t,true);return;}_this377.historyStore.reset();_this377.setImage(t,true).then(function(){if(_this377.modalStore.identifier!=="imageResized"){_this377.modalStore.hideModal();}var _this377$configStore$=_this377.configStore.config,s=_this377$configStore$.engine,a=_this377$configStore$.displayCanvasRendererWarning;if(s.preferredRenderer==="canvas"&&a){_this377.modalStore.showActionModal({type:"warning",identifier:"unsupportedWebGLRenderer",handleConfirm:function handleConfirm(){_this377.modalStore.hideModal();}});}})["catch"](function(){return null;});};this.setImage=/*#__PURE__*/function(){var _ref211=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(t){var e,_this377$transformToo,_r22,o,n,s,_args71=arguments;return regeneratorRuntime.wrap(function _callee70$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_args71.length>1&&_args71[1]!==undefined?_args71[1]:false;_context71.prev=1;if(_this377.activeStore.image){_context71.next=6;break;}_this377.initWithImage(t);_context71.next=34;break;case 6:_this377.activeStore.setImageLoadedToEngine(false);_this377.modalStore.showInfoModal(_this377.configStore.config.displayResizeWarning?"resizing":"loading");_this377.scale.defaultScale=1;_this377.scale.resetOffset();_context71.next=12;return _this377.activeStore.setImage(t);case 12:_context71.next=14;return _this377.engineMediator.image.addImageToContainer();case 14:_this377.canvasStore.resizeCanvas();_this377.engineMediator.output.applyNewImageTransform();_this377.engineMediator.preview.updateTransform();_this377.scale.setInitialTransform();_this377.transformToolStore.setCropDefaults();_this377$transformToo=_this377.transformToolStore.rotateFlipState,_r22=_this377$transformToo.flipHorizontally,o=_this377$transformToo.flipVertically,n=_this377$transformToo.outputRotation;_this377.outputContainer.setData({flipVertically:o,flipHorizontally:_r22});_context71.next=23;return _this377.transformToolStore.rotateOutputContainer(xp(n),false);case 23:if(e){_this377.focusToolStore.updateCanvasControls();_this377.spriteStore.updateCanvasControls();_this377.transformToolStore.resetCrop();_this377.transformToolStore.applyDefaultCrop();_this377.transformToolStore.saveTransforms();_this377.transformToolStore.onEnter();_this377.transformToolStore.setRotation(_this377.transformToolStore.rotationInDegrees);_this377.transformToolStore.onLeave();_this377.transformToolStore.onEnter();_this377.transformToolStore.onLeave();}else{_this377.transformToolStore.saveTransforms();}_this377.snappingStore.calculatePreviewTopLeftPosition();_this377.historyStore.addInitialSnapshot();_context71.next=28;return _this377.renderPromise();case 28:if(_this377.configStore.config.filter.enablePreviewThumbnails&&_this377.configStore.config.engine.preferredRenderer==="webgl"){_this377.filterToolStore.setImageAndGetPreviews();}s=_this377.activeStore.tool;if(!s){_this377.onReady();}else{_this377.configStore.events.onImageLoaded();}if(!(_this377.modalStore.identifier==="imageResized")){_this377.modalStore.hideModal();}_this377.activeStore.setImageLoadedToEngine(true);_this377.resize();case 34:_context71.next=42;break;case 36:_context71.prev=36;_context71.t0=_context71["catch"](1);_this377.configStore.events.onErrorImageLoading(_context71.t0);_this377.modalStore.hideModal();_this377.modalStore.showActionModal({type:"error",identifier:_context71.t0.identifier?_context71.t0.identifier:"rendering",error:_context71.t0,handleConfirm:function handleConfirm(){_this377.setImage(t,e);},handleDismiss:function handleDismiss(){_this377.activeStore.setImage(void 0);}});throw new Error(_context71.t0);case 42:case"end":return _context71.stop();}}},_callee70,null,[[1,36]]);}));return function(_x79){return _ref211.apply(this,arguments);};}();this.onToolChange=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o,n;if(t===e){return;}if((n=(o=_this377.engineMediator)==null?void 0:o.preview)==null?void 0:n.container){if([t,e].indexOf("transform")!==-1){if(t==="transform"){_this377.transformToolStore.onLeave();_this377.transformToolStore.addSnapshot();_this377.snappingStore.calculatePreviewTopLeftPosition();}else if(e==="transform"){_this377.transformToolStore.onEnter();}_this377.resize(e);}else{_this377.scale.resetOffset();_this377.scale.resetPosition();_this377.scale.setScaleToDefault();_this377.scale.scaleRender(true);}if(r){_this377.render();}}};this.resize=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!_this377.engineMediator)return;try{var _e33=_this377.activeStore.tool;var _r23=t==="transform"||!t&&_e33==="transform";_this377.canvasStore.resizeCanvas(t);_this377.transformToolStore.applyDefaultCrop();var o=ct(_this377.transformToolStore.maxCropMaskSize);if(!_r23){_this377.transformToolStore.onEnter();}var n=_this377.engineMediator.preview.container.getRotation();var s=_this377.engineMediator.preview.updateTransform(n);if(s){_this377.scale.setInitialTransform();_this377.transformToolStore.setCropDefaults();_this377.transformToolStore.updateCanvasControls(o);_this377.focusToolStore.updateCanvasControls();_this377.spriteStore.updateCanvasControls();var a=_this377.transformToolStore.getScaleWithFlip(n);_this377.engineMediator.preview.container.setScale(a);if(!_r23){_this377.transformToolStore.onLeave();_this377.transformToolStore.onEnter();_this377.transformToolStore.onLeave();}_this377.snappingStore.calculatePreviewTopLeftPosition();_this377.render();}}catch(e){_this377.configStore.events.onErrorImageLoading(e);_this377.modalStore.showActionModal({type:"error",identifier:"rendering",handleConfirm:function handleConfirm(){_this377.resize(t);},handleDismiss:function handleDismiss(){_this377.activeStore.setImage(void 0);}});}};this["export"]=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(){var _ref213,t,e,r,o,n,s,a,l,c,u,m,_args72=arguments;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:_ref213=_args72.length>0&&_args72[0]!==undefined?_args72[0]:{},t=_ref213.preventExportEvent,e=_objectWithoutProperties(_ref213,_excluded7);r=_this377.activeStore.tool==="transform";_context72.prev=2;_this377.modalStore.showInfoModal("exporting");if(r){_this377.transformToolStore.onLeave();}o=_this377.configStore.config;n=_objectSpread(_objectSpread({},o["export"].image),e);s=n.exportType,a=n.format,l=n.quality,c=n.enableDownload,u=n.transparent;_context72.next=10;return _this377.engineMediator.engine["export"](s,a,l,u);case 10:m=_context72.sent;if(!(r&&_this377.transformToolStore)){_context72.next=15;break;}_this377.transformToolStore.onEnter();_context72.next=15;return _this377.render();case 15:if(_this377.historyStore){_this377.historyStore.isDirtySinceSave=false;}if(_this377.modalStore){_this377.modalStore.hideModal();}if(c){_this377.triggerFileDownload(o["export"].filename,a,s,m);}if(!t){_this377.configStore.events.onExport(m);}return _context72.abrupt("return",m);case 22:_context72.prev=22;_context72.t0=_context72["catch"](2);if(_this377.modalStore){_this377.modalStore.hideModal();}if(!(r&&_this377.transformToolStore)){_context72.next=29;break;}_this377.transformToolStore.onEnter();_context72.next=29;return _this377.render();case 29:throw new Error(_context72.t0);case 30:case"end":return _context72.stop();}}},_callee71,null,[[2,22]]);}));this.serialize=function(){var _ref214=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{image:true},t=_ref214.image;if(_this377.serializationMediator){return _this377.serializationMediator.serialize({image:t});}return Promise.resolve({});};this.deserialize=function(t){if(_this377.serializationMediator){return _this377.serializationMediator.deserialize(t);}return Promise.resolve();};this.close=function(){var t,e,r,o,n,s;if((((t=_this377.historyStore)==null?void 0:t.isDirtySinceSave)||((r=(e=_this377.transformToolStore)==null?void 0:e.transformHistory)==null?void 0:r.hasChanges()))&&((n=(o=_this377.configStore)==null?void 0:o.config)==null?void 0:n.displayCloseWarning)&&_this377.modalStore){_this377.modalStore.showActionModal({type:"warning",identifier:"unsavedChanges",handleConfirm:function handleConfirm(){var a;if((a=_this377.configStore)==null?void 0:a.events){_this377.configStore.events.onClose();}}});}else if((s=_this377.configStore)==null?void 0:s.events){_this377.configStore.events.onClose();}};this.hasChanges=function(){if(_this377.historyStore){return _this377.historyStore.isDirtySinceSave;}return false;};this.getImageDimensions=function(){if(_this377.engine){var _this377$engine$getOu=_this377.engine.getOutputDimensions(),_t45=_this377$engine$getOu.width,_e34=_this377$engine$getOu.height;return{width:_t45,height:_e34};}return{width:0,height:0};};this.wait=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return new Promise(function(e){return setTimeout(e,t);});};this.clickableCanvas=/*#__PURE__*/function(){var _ref215=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(t){return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:if(!t){_context73.next=6;break;}_context73.next=3;return new Promise(function(e){return setTimeout(e,0);});case 3:_this377.canvasStore.enableCanvasClick();_context73.next=7;break;case 6:_this377.canvasStore.disableCanvasClick();case 7:case"end":return _context73.stop();}}},_callee72);}));return function(_x80){return _ref215.apply(this,arguments);};}();this.onReady=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(){var t,_e35,_r24,o;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:t=_this377.configStore.config.forceCrop;_this377.activeStore.selectTool(_this377.configStore.defaultTool);if(t){_e35=_this377.transformToolStore.localOutputImageSize;_r24=_e35.width/_e35.height;o=_this377.transformToolStore.entityManager.items.map(function(n){if(n.ratio){return n.ratio;}return n.dimensions.x/n.dimensions.y;});if(o.indexOf("*")!==-1){console.error('ForceCrop will not work if "*" is one of the ratios');}else if(o.indexOf(parseFloat(_r24.toFixed(2)))===-1){_this377.activeStore.selectTool("transform");}}_this377.configStore.events.onEditorReady();case 4:case"end":return _context74.stop();}}},_callee73);}));this.addSnapshot=function(t,e,r){_this377.historyStore.addSnapshot(t,e,r);};this.resetToolStates=function(){_this377.transformToolStore.pureReset();_this377.filterToolStore.pureReset();_this377.focusToolStore.pureReset();_this377.adjustmentsToolStore.pureReset();_this377.overlayToolStore.pureReset();_this377.frameToolStore.pureReset();_this377.brushToolStore.pureReset();_this377.spriteStore.pureReset();_this377.historyStore.reset();_this377.render();};this.getAssetPath=function(t){return _this377.assetProvider.getPathForCategory(t);};this.render=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(){return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:_context75.next=2;return _this377.renderPromise();case 2:case"end":return _context75.stop();}}},_callee74);}));this.applyFlipToPreview=function(t){if(!_this377.engineMediator)return{x:0,y:0};return _this377.engineMediator.previewSpaceToFlippedPreviewSpace(t);};this.getPreviewSize=function(){if(!_this377.engine)return{width:0,height:0};var _this377$engine$getOu2=_this377.engine.getOutputDimensions(),t=_this377$engine$getOu2.width,e=_this377$engine$getOu2.height;if(t&&e){return{width:Math.round(_this377.worldToPreview(_this377.outputToWorld(t))),height:Math.round(_this377.worldToPreview(_this377.outputToWorld(e)))};}return{height:e,width:t};};this.getImageMimeType=function(){return pW(_this377.activeStore.image);};this.cleanUpCanvasMemory=function(){var t,e,r;(r=(e=(t=_this377.engineMediator)==null?void 0:t.image)==null?void 0:e.container)==null?void 0:r.dispose();};this.dispose=function(){if(_this377.engineMediator){_this377.engineMediator.dispose();_this377.engineMediator=null;}_this377.serializationMediator=null;if(_this377.spriteStore){_this377.spriteStore.dispose();_this377.spriteStore=null;}_this377.scale=null;_this377.filterToolStore=null;_this377.adjustmentsToolStore=null;_this377.focusToolStore=null;_this377.overlayToolStore=null;_this377.frameToolStore=null;_this377.brushToolStore=null;if(_this377.transformToolStore){_this377.transformToolStore.dispose();_this377.transformToolStore=null;}if(_this377.libraryStore){_this377.libraryStore.dispose();_this377.libraryStore=null;}if(_this377.modalStore){_this377.modalStore.dispose();_this377.modalStore=null;}if(_this377.snappingStore){_this377.snappingStore.dispose();_this377.snappingStore=null;}if(_this377.activeStore){_this377.activeStore.dispose();_this377.activeStore=null;}if(_this377.canvasStore){_this377.canvasStore.dispose();_this377.canvasStore=null;}_this377.historyStore=null;if(_this377.configStore){_this377.configStore.dispose();_this377.configStore=null;}};this.triggerFileDownload=function(t,e,r,o){var n=e==="image/jpeg"&&r!=="ms-blob"?".jpeg":".png";var s=t+n;var a=_this377.blobFromExportData(o);_this377.triggerBlobDownload(s,a);};this.triggerBlobDownload=function(t,e){if(navigator.msSaveBlob){navigator.msSaveBlob(e,t);}else{var _r25=document.createElement("a");var o=URL.createObjectURL(e);_r25.href=o;_r25.download=t;document.body.appendChild(_r25);_r25.click();document.body.removeChild(_r25);if(!HF()){URL.revokeObjectURL(o);}}};this.blobFromExportData=function(t){if(typeof t==="string"){return nI(t);}if(t instanceof HTMLImageElement){return nI(t.src);}return t;};this.configStore=new Qi();if(e){Object.entries(e).forEach(function(_ref218){var _ref219=_slicedToArray(_ref218,2),o=_ref219[0],n=_ref219[1];_this377.configStore.events.on(o,n);});}var r=this.configStore.saveConfig(t);this.engineMediator=new Vk(this);this.serializationMediator=new _rf(this);this.spriteStore=new nt(this);this.scale=new ti(this);this.filterToolStore=new He(this);this.adjustmentsToolStore=new Zt(this);this.focusToolStore=new Bt(this);this.overlayToolStore=new Ze(this);this.frameToolStore=new Be(this);this.brushToolStore=new Ie(this);this.transformToolStore=new tt(this);this.libraryStore=new fr(this);this.modalStore=new Wr(this);this.snappingStore=new $o(this);this.activeStore=new hr(this);this.canvasStore=new Ai(this);this.historyStore=new du(this);this.libraryStore.initProvider(r);this.libraryStore.fetchImages();if(this.configStore.config.image){this.initWithImage(this.configStore.config.image);}else{this.configStore.events.onEditorReady();if(this.configStore.defaultTool==="library"||this.configStore.defaultTool==="customTool"){this.activeStore.selectTool(this.configStore.defaultTool);}}}_createClass(Cl,[{key:"shortestOutputSide",get:function get(){var t=this.outputContainer.getBounds();return Math.min(t.width,t.height);}},{key:"assetProvider",get:function get(){return this.configStore.assetProvider;}},{key:"engine",get:function get(){if(!this.engineMediator)return null;return this.engineMediator.engine;}},{key:"imageContainer",get:function get(){if(!this.engineMediator)return null;return this.engineMediator.image.container;}},{key:"orderHelper",get:function get(){if(!this.engineMediator)return null;return this.engineMediator.orderHelper;}},{key:"renderPromise",value:function renderPromise(){if(!this.engineMediator)return null;return this.engineMediator.render(this.engineMediator.preview.container);}},{key:"previewToWorld",value:function previewToWorld(t,e){if(!this.engineMediator)return{x:0,y:0};if(Yr(t)){return this.engineMediator.previewSpaceToWorldSpace(t,e);}return this.engineMediator.previewSpaceToWorldSpace(t,e);}},{key:"worldToPreview",value:function worldToPreview(t){if(!this.engineMediator)return{x:0,y:0};if(Yr(t)){return this.engineMediator.worldSpaceToPreviewSpace(t);}return this.engineMediator.worldSpaceToPreviewSpace(t);}},{key:"worldSizeToPreview",value:function worldSizeToPreview(t){if(!this.engineMediator)return{width:0,height:0};return{width:this.engineMediator.worldSpaceToPreviewSpace(t.width),height:this.engineMediator.worldSpaceToPreviewSpace(t.height)};}},{key:"previewSizeToWorld",value:function previewSizeToWorld(t,e){if(!this.engineMediator)return{width:0,height:0};return{width:this.engineMediator.previewSpaceToWorldSpace(t.width,e),height:this.engineMediator.previewSpaceToWorldSpace(t.height,e)};}},{key:"outputToWorld",value:function outputToWorld(t){if(!this.engineMediator)return{x:0,y:0};if(Yr(t)){return this.engineMediator.outputSpaceToWorldSpace(t);}return this.engineMediator.outputSpaceToWorldSpace(t);}},{key:"previewToOutput",value:function previewToOutput(t){if(!this.engineMediator)return{x:0,y:0};if(Yr(t)){return this.engineMediator.previewSpaceToOutputSpace(t);}return this.engineMediator.previewSpaceToOutputSpace(t);}},{key:"outputContainer",get:function get(){return this.engineMediator.output.container;}}]);return Cl;}();f([C],Cl.prototype,"resize",2);f([C],Cl.prototype,"export",2);f([C],Cl.prototype,"clickableCanvas",2);});var Xt=d(function(){U();pr();t0();oH();ak();ck();uk();mk();_H();SH();wH();Tk();DH();ZH();tW();eW();b0();p0();gW();Ak();d0();h0();f0();g0();sI();Yh();Qh();Jh();xl();Nn();hm();});var nf,sf,bW,yW,Dct,Ect,_W;var xW=d(function(){nf=y(_("react"));B();sf=y(_("styled-components"));O();Xt();U();$e();bW=mt.Button.TextSecondary;yW=sf["default"].span(_templateObject189||(_templateObject189=_taggedTemplateLiteral(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  letter-spacing: ","px;\n  display: flex;\n  align-self: center;\n"])),function(i){return i.theme.canvasActionBar.foreground;},function(i){return i.theme.measurements.fontSystem.button2.letterSpacing;});Dct=sf["default"].div(_templateObject190||(_templateObject190=_taggedTemplateLiteral(["\n  display: inline-flex;\n  ","\n"])),function(i){return i.isDisabled&&sf.css(_templateObject191||(_templateObject191=_taggedTemplateLiteral(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "])));});Ect=function Ect(_ref220){var i=_ref220.isDisabled,t=_ref220.scale,e=_ref220.active;var r=t.canZoomIn;var o=t.canZoomOut;var n=t.zoomLevel;var s=["transform","brush","focus","sticker","text","textdesign"].indexOf(e.tool)!==-1;return!s?nf["default"].createElement(Dct,{isDisabled:i},nf["default"].createElement(bW,{"data-test":N.MainBarButtonZoom,ariaLabel:"Zoom out",isDisabled:!o,onClick:t.out},"-"),nf["default"].createElement(yW,{"data-test":N.ZoomLevel},n," %"),nf["default"].createElement(bW,{ariaLabel:"Zoom in",isDisabled:!r,onClick:t["in"]},"+")):null;};_W=rt("scale","active")(w(Ect));yW.defaultProps={theme:Hr};});var Gr,CW,vW,vm;var SW=d(function(){Gr=y(_("react"));B();CW=y(_("styled-components"));O();W();we();U();$e();xW();vW=(0,CW["default"])(mt.Bar.ButtonGroup)(_templateObject192||(_templateObject192=_taggedTemplateLiteral(["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"])));vm=w(function i(){var _D3=D(),t=_D3.config,e=_D3.editor,r=_D3.history,o=_D3.custom,n=_D3.active;var s=t.locale.mainCanvasActions;var a=r.canUndo;var l=r.canRedo;var c=t.config.mainCanvasActions;var u=function u(){e["export"]();};var m=function m(){if(e.activeStore.tool==="transform"){return null;}var v=o.getButton("mainCanvasActionUndo");return Gr["default"].createElement(v,{key:"mainCanvasActionUndo","data-test":N.MainBarButtonUndo,onClick:r.undo,isDisabled:!a||!n.image,label:s.buttonUndo,ariaLabel:s.buttonUndo,icon:Gr["default"].createElement(Xp.undo,null)});};var p=function p(){if(e.activeStore.tool==="transform"){return null;}var v=o.getButton("mainCanvasActionRedo");return Gr["default"].createElement(v,{key:"mainCanvasActionRedo","data-test":N.MainBarButtonRedo,onClick:r.redo,isDisabled:!l||!n.image,label:s.buttonRedo,ariaLabel:s.buttonRedo,icon:Gr["default"].createElement(Xp.redo,null)});};var h=function h(){var v=o.getButton("mainCanvasActionExport");return Gr["default"].createElement(v,{key:"mainCanvasActionExport","data-test":N.MainBarButtonExport,onClick:u,isDisabled:!n.image,label:s.buttonExport,ariaLabel:s.buttonExport,icon:Gr["default"].createElement(Xp["export"],null)});};var g=function g(){if(!t.displayCloseButton){return null;}var v=o.getButton("mainCanvasActionClose");return Gr["default"].createElement(v,{key:"mainCanvasActionClose","data-test":N.MainBarButtonClose,onClick:e.close,isDisabled:!n.image,label:s.buttonClose,ariaLabel:s.buttonClose,icon:Gr["default"].createElement(Xp.close,null)});};var x=c.map(function(v){switch(v){case"undo":return m;case"redo":return p;case"export":return h;case"close":return g;default:return null;}});return Gr["default"].createElement(mt.Bar.Index,null,Gr["default"].createElement(vW,null,x[0]&&x[0]()||null,x[1]&&x[1]()||null),t.config.enableZoom?Gr["default"].createElement(_W,{isDisabled:!n.image}):null,Gr["default"].createElement(vW,null,x[2]&&x[2]()||null,x[3]&&x[3]()||null));});});function Fct(i){return typeof i==="string"&&i.includes("%");}function Rct(i){return typeof i==="string"&&i.includes(".")&&parseFloat(i)===1;}function li(i,t){if(Rct(i)){i="100%";}var e=Fct(i);i=t===360?i:Math.min(t,Math.max(0,parseFloat(i)));if(e){i=parseInt(String(i*t),10)/100;}if(Math.abs(i-t)<1e-6){return 1;}if(t===360){i=(i<0?i%t+t:i%t)/parseFloat(String(t));}else{i=i%t/parseFloat(String(t));}return i;}function _0(i){i=parseFloat(i);if(Number.isNaN(i)||i<0||i>1){i=1;}return i;}function af(i){if(i<=1){return"".concat(Number(i)*100,"%");}return i;}function Sl(i){return i.length===1?"0".concat(i):String(i);}var x0=d(function(){});function aI(i,t,e){return{r:li(i,255)*255,g:li(t,255)*255,b:li(e,255)*255};}function lI(i,t,e){i=li(i,255);t=li(t,255);e=li(e,255);var r=Math.max(i,t,e);var o=Math.min(i,t,e);var n=0;var s=0;var a=(r+o)/2;if(r===o){s=0;n=0;}else{var l=r-o;s=a>.5?l/(2-r-o):l/(r+o);switch(r){case i:n=(t-e)/l+(t<e?6:0);break;case t:n=(e-i)/l+2;break;case e:n=(i-t)/l+4;break;default:break;}n/=6;}return{h:n,s:s,l:a};}function wW(i,t,e){var r;var o;var n;i=li(i,360);t=li(t,100);e=li(e,100);function s(a,l,c){if(c<0){c+=1;}if(c>1){c-=1;}if(c<1/6){return a+(l-a)*(6*c);}if(c<1/2){return l;}if(c<2/3){return a+(l-a)*(2/3-c)*6;}return a;}if(t===0){o=e;n=e;r=e;}else{var a=e<.5?e*(1+t):e+t-e*t;var l=2*e-a;r=s(l,a,i+1/3);o=s(l,a,i);n=s(l,a,i-1/3);}return{r:r*255,g:o*255,b:n*255};}function cI(i,t,e){i=li(i,255);t=li(t,255);e=li(e,255);var r=Math.max(i,t,e);var o=Math.min(i,t,e);var n=0;var s=r;var a=r-o;var l=r===0?0:a/r;if(r===o){n=0;}else{switch(r){case i:n=(t-e)/a+(t<e?6:0);break;case t:n=(e-i)/a+2;break;case e:n=(i-t)/a+4;break;default:break;}n/=6;}return{h:n,s:l,v:s};}function TW(i,t,e){i=li(i,360)*6;t=li(t,100);e=li(e,100);var r=Math.floor(i);var o=i-r;var n=e*(1-t);var s=e*(1-o*t);var a=e*(1-(1-o)*t);var l=r%6;var c=[e,s,n,n,a,e][l];var u=[a,e,e,s,n,n][l];var m=[n,n,a,e,e,s][l];return{r:c*255,g:u*255,b:m*255};}function uI(i,t,e,r){var o=[Sl(Math.round(i).toString(16)),Sl(Math.round(t).toString(16)),Sl(Math.round(e).toString(16))];if(r&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)){return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);}return o.join("");}function Oct(i){return Math.round(parseFloat(i)*255).toString(16);}function gr(i){return parseInt(i,16);}function dI(i){return gr(i)/255;}function kW(i,t,e,r,o){var n=[Sl(Math.round(i).toString(16)),Sl(Math.round(t).toString(16)),Sl(Math.round(e).toString(16)),Sl(Oct(r))];if(o&&n[0].charAt(0)===n[0].charAt(1)&&n[1].charAt(0)===n[1].charAt(1)&&n[2].charAt(0)===n[2].charAt(1)&&n[3].charAt(0)===n[3].charAt(1)){return n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0);}return n.join("");}var mI=d(function(){x0();});var Cm;var pI=d(function(){Cm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};});function mo(i){return Boolean(Ko.CSS_UNIT.exec(String(i)));}function Pct(i){i=i.trim().toLowerCase();if(i.length===0){return false;}var t=false;if(Cm[i]){i=Cm[i];t=true;}else if(i==="transparent"){return{r:0,g:0,b:0,a:0,format:"name"};}var e=Ko.rgb.exec(i);if(e){return{r:e[1],g:e[2],b:e[3]};}e=Ko.rgba.exec(i);if(e){return{r:e[1],g:e[2],b:e[3],a:e[4]};}e=Ko.hsl.exec(i);if(e){return{h:e[1],s:e[2],l:e[3]};}e=Ko.hsla.exec(i);if(e){return{h:e[1],s:e[2],l:e[3],a:e[4]};}e=Ko.hsv.exec(i);if(e){return{h:e[1],s:e[2],v:e[3]};}e=Ko.hsva.exec(i);if(e){return{h:e[1],s:e[2],v:e[3],a:e[4]};}e=Ko.hex8.exec(i);if(e){return{r:gr(e[1]),g:gr(e[2]),b:gr(e[3]),a:dI(e[4]),format:t?"name":"hex8"};}e=Ko.hex6.exec(i);if(e){return{r:gr(e[1]),g:gr(e[2]),b:gr(e[3]),format:t?"name":"hex"};}e=Ko.hex4.exec(i);if(e){return{r:gr(e[1]+e[1]),g:gr(e[2]+e[2]),b:gr(e[3]+e[3]),a:dI(e[4]+e[4]),format:t?"name":"hex8"};}e=Ko.hex3.exec(i);if(e){return{r:gr(e[1]+e[1]),g:gr(e[2]+e[2]),b:gr(e[3]+e[3]),format:t?"name":"hex"};}return false;}function IW(i){var t={r:0,g:0,b:0};var e=1;var r=null;var o=null;var n=null;var s=false;var a=false;if(typeof i==="string"){i=Pct(i);}if(Array.isArray(i)){var _i7=i,_i8=_slicedToArray(_i7,3),l=_i8[0],c=_i8[1],u=_i8[2];if(mo(l)&&mo(c)&&mo(u)){t=aI(l*255,c*255,u*255);s=true;a="rgb";}if(i.length===4){e=i[3];}}if(_typeof(i)==="object"){if(mo(i.r)&&mo(i.g)&&mo(i.b)){t=aI(i.r,i.g,i.b);s=true;a=String(i.r).substr(-1)==="%"?"prgb":"rgb";}else if(mo(i.h)&&mo(i.s)&&mo(i.v)){r=af(i.s);o=af(i.v);t=TW(i.h,r,o);s=true;a="hsv";}else if(mo(i.h)&&mo(i.s)&&mo(i.l)){r=af(i.s);n=af(i.l);t=wW(i.h,r,n);s=true;a="hsl";}if(Object.prototype.hasOwnProperty.call(i,"a")){e=i.a;}}e=_0(e);return{ok:s,format:i.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e};}var Act,Bct,wl,hI,fI,Ko;var DW=d(function(){mI();pI();x0();Act="[-\\+]?\\d+%?";Bct="[-\\+]?\\d*\\.\\d+%?";wl="(?:".concat(Bct,")|(?:").concat(Act,")");hI="[\\s|\\(]+(".concat(wl,")[,|\\s]+(").concat(wl,")[,|\\s]+(").concat(wl,")\\s*\\)?");fI="[\\s|\\(]+(".concat(wl,")[,|\\s]+(").concat(wl,")[,|\\s]+(").concat(wl,")[,|\\s]+(").concat(wl,")\\s*\\)?");Ko={CSS_UNIT:new RegExp(wl),rgb:new RegExp("rgb".concat(hI)),rgba:new RegExp("rgba".concat(fI)),hsl:new RegExp("hsl".concat(hI)),hsla:new RegExp("hsla".concat(fI)),hsv:new RegExp("hsv".concat(hI)),hsva:new RegExp("hsva".concat(fI)),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};});var _Vr;var gI=d(function(){mI();pI();DW();x0();_Vr=/*#__PURE__*/function(){function Vr(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Vr);if(t instanceof _Vr){return t;}this.originalInput=t;var r=IW(t);this.originalInput=t;this.r=r.r;this.g=r.g;this.b=r.b;this.a=r.a;this.roundA=Math.round(100*this.a)/100;this.format=e.format||r.format;this.gradientType=e.gradientType;if(this.r<1){this.r=Math.round(this.r);}if(this.g<1){this.g=Math.round(this.g);}if(this.b<1){this.b=Math.round(this.b);}this.isValid=r.ok;}_createClass(Vr,[{key:"getAlpha",value:function getAlpha(){return this.a;}},{key:"setAlpha",value:function setAlpha(t){this.a=_0(t);this.roundA=Math.round(100*this.a)/100;return this;}},{key:"toHsv",value:function toHsv(){var t=cI(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a};}},{key:"toHsvString",value:function toHsvString(){var t=cI(this.r,this.g,this.b);var e=Math.round(t.h*360);var r=Math.round(t.s*100);var o=Math.round(t.v*100);return this.a===1?"hsv(".concat(e,", ").concat(r,"%, ").concat(o,"%)"):"hsva(".concat(e,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")");}},{key:"toHsl",value:function toHsl(){var t=lI(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a};}},{key:"toHslString",value:function toHslString(){var t=lI(this.r,this.g,this.b);var e=Math.round(t.h*360);var r=Math.round(t.s*100);var o=Math.round(t.l*100);return this.a===1?"hsl(".concat(e,", ").concat(r,"%, ").concat(o,"%)"):"hsla(".concat(e,", ").concat(r,"%, ").concat(o,"%, ").concat(this.roundA,")");}},{key:"toHex",value:function toHex(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return uI(this.r,this.g,this.b,t);}},{key:"toHexString",value:function toHexString(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return"#".concat(this.toHex(t));}},{key:"toHex8",value:function toHex8(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return kW(this.r,this.g,this.b,this.a,t);}},{key:"toHex8String",value:function toHex8String(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return"#".concat(this.toHex8(t));}},{key:"toRgb",value:function toRgb(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a};}},{key:"toRgbArray",value:function toRgbArray(){return[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a];}},{key:"toRgbString",value:function toRgbString(){var t=Math.round(this.r);var e=Math.round(this.g);var r=Math.round(this.b);return"rgba(".concat(t,", ").concat(e,", ").concat(r,", ").concat(this.roundA,")");}},{key:"toPercentageRgb",value:function toPercentageRgb(){var t=function t(e){return"".concat(Math.round(li(e,255)*100),"%");};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a};}},{key:"toPercentageRgbString",value:function toPercentageRgbString(){var t=function t(e){return Math.round(li(e,255)*100);};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")");}},{key:"toName",value:function toName(){if(this.a===0){return"transparent";}if(this.a<1){return false;}var t="#".concat(uI(this.r,this.g,this.b,false));for(var _i9=0,_Object$keys=Object.keys(Cm);_i9<_Object$keys.length;_i9++){var e=_Object$keys[_i9];if(Cm[e]===t){return e;}}return false;}},{key:"toString",value:function toString(t){var e=Boolean(t);t=t||this.format;var r=this.a<1&&this.a>=0;var o=!e&&r&&t&&(t.startsWith("hex")||t==="name");if(o){if(t==="name"&&this.a===0){return this.toName();}return this.toRgbString();}switch(t){case"rgb":return this.toRgbString();case"prgb":return this.toPercentageRgbString();case"hex":case"hex6":return this.toHexString();case"hex3":return this.toHexString(true);case"hex4":return this.toHex8String(true);case"hex8":return this.toHex8String();case"hsl":return this.toHslString();case"hsv":return this.toHsvString();case"name":return this.toName();default:return this.toHexString();}}},{key:"clone",value:function clone(){return new _Vr(this.toString());}}]);return Vr;}();});var hu,Mct,EW;var FW=d(function(){hu=y(_("styled-components"));Mct=hu["default"].div(_templateObject193||(_templateObject193=_taggedTemplateLiteral(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  pointer-events: none;\n  ","\n  left: ","px;\n  :after {\n    content: '';\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: 50%;\n    ","\n    background-color: ",";\n    pointer-events: none;\n  }\n"])),function(i){return i.theme.measurements.color.colorPicker.arrow.width;},function(i){return i.theme.measurements.color.colorPicker.arrow.width/2;},function(i){return i.direction==="bottom"?hu.css(_templateObject194||(_templateObject194=_taggedTemplateLiteral(["\n          bottom: 100%;\n        "]))):hu.css(_templateObject195||(_templateObject195=_taggedTemplateLiteral(["\n          top: 100%;\n        "])));},function(i){return i.arrowOffset;},function(i){return i.theme.measurements.color.colorPicker.arrow.width/2;},function(i){return i.theme.measurements.color.colorPicker.arrow.width/2;},function(i){return i.direction==="bottom"?hu.css(_templateObject196||(_templateObject196=_taggedTemplateLiteral(["\n            transform: translate(-50%, 50%) rotate(45deg);\n          "]))):hu.css(_templateObject197||(_templateObject197=_taggedTemplateLiteral(["\n            transform: translate(-50%, -50%) rotate(45deg);\n          "])));},function(i){return i.theme.colorPicker.listBackground;});EW=Mct;});var v0,bI,Lct,zct,Uct,C0;var RW=d(function(){v0=y(_("react"));bI=y(_("styled-components"));it();Lct=bI["default"].div(_templateObject198||(_templateObject198=_taggedTemplateLiteral(["\n  text-align: center;\n  width: 28px;\n  padding-left: 4px;\n"])));zct=(0,bI["default"])(P.Input.Text)(_templateObject199||(_templateObject199=_taggedTemplateLiteral(["\n  input {\n    text-align: center;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),function(i){return i.theme.colorPicker.inputBorderColor;});Uct=function Uct(_ref221){var i=_ref221.value,t=_ref221.label,e=_ref221.onChange;return v0["default"].createElement(Lct,null,v0["default"].createElement(P.Input.Label,{label:t}),v0["default"].createElement(zct,{min:0,max:255,value:i,onChange:e}));};C0=Uct;});var S0,yI,Nct,Hct,Wct,OW;var AW=d(function(){S0=y(_("react"));yI=y(_("styled-components"));it();Nct=yI["default"].div(_templateObject200||(_templateObject200=_taggedTemplateLiteral(["\n  text-align: left;\n  width: 62px;\n"])));Hct=(0,yI["default"])(P.Input.Text)(_templateObject201||(_templateObject201=_taggedTemplateLiteral(["\n  input {\n    text-align: left;\n    border-bottom: 1px solid\n      ",";\n  }\n"])),function(i){return i.theme.colorPicker.inputBorderColor;});Wct=function Wct(_ref222){var i=_ref222.value,t=_ref222.label,e=_ref222.onChange;return S0["default"].createElement(Nct,null,S0["default"].createElement(P.Input.Label,{label:t}),S0["default"].createElement(Hct,{value:i.toUpperCase(),onChange:e}));};OW=Wct;});var BW,fu;var w0=d(function(){BW=y(_("styled-components"));Xt();fu=BW["default"].div.attrs(function(i){return{style:{left:i.position[0]||"".concat(0,"px"),top:i.position[1]||"".concat(0,"px")}};})(_templateObject202||(_templateObject202=_taggedTemplateLiteral(["\n  &&& {\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    box-sizing: border-box;\n    cursor: pointer;\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.11), 0 1px 3px 0 rgba(0, 0, 0, 0.46);\n    z-index: 2;\n    pointer-events: none;\n  }\n"])),function(i){return i.theme.measurements.color.colorPicker.thumb.size;},function(i){return i.theme.measurements.color.colorPicker.thumb.size;},function(i){return i.theme.colorPicker.controlsColor;});fu.defaultProps={theme:Hr};});var jr,PW,MW,Gct,Vct,Sm;var T0=d(function(){jr=y(_("react"));PW=y(Ku());MW=y(_("styled-components"));it();W();Gct=MW["default"].div(_templateObject203||(_templateObject203=_taggedTemplateLiteral(["\n  position: relative;\n  height: 14px;\n  width: 100%;\n"])));Vct=function Vct(i){return function(t){i.forEach(function(e){if(typeof e==="function"){e(t);}else if(e!=null){e.current=t;}});};};Sm=(0,jr.forwardRef)(function(_ref223,o){var i=_ref223.surface,t=_ref223.onChange,e=_ref223.className,r=_ref223.children;var n=(0,jr.useRef)(null);var s=(0,jr.useRef)(null);var _D4=D(),a=_D4.config;var _ref224=(0,jr.useState)(false),_ref225=_slicedToArray(_ref224,2),l=_ref225[0],c=_ref225[1];var u=function u(g){var x=a.measurements.color.colorPicker.thumb.size/2;var v=a.measurements.color.colorPicker.thumb.size;var b=0;var T=0;b=g.clientX;T=g.clientY;var _n$current$getBoundin=n.current.getBoundingClientRect(),k=_n$current$getBoundin.top,E=_n$current$getBoundin.left,A=_n$current$getBoundin.width,I=_n$current$getBoundin.height;var F=b-E-x;var Z=T-k-x;F=Math.max(0,Math.min(A-v,F));Z=Math.max(0,Math.min(I-v,Z));if(t){t([F,Z]);}};var m=function m(g){c(true);u(g);};var p=(0,jr.useCallback)((0,PW["default"])(function(g){if(l){u(g);}},10),[l]);var h=function h(){if(l){c(false);}};return jr["default"].createElement(Gct,{ref:Vct([n,o]),className:e},jr["default"].createElement(P.DraggableCore,{nodeRef:s,onStart:m,onDrag:p,onStop:h},jr["default"].createElement("div",{ref:s},i)),r);});});var LW,jct,gu;var k0=d(function(){LW=_("styled-components");jct=LW.css(_templateObject204||(_templateObject204=_taggedTemplateLiteral(["\n  position: absolute;\n  top: 3px;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n"])));gu=jct;});var Vn,zW,$ct,UW;var NW=d(function(){Vn=y(_("react"));zW=y(_("styled-components"));W();w0();T0();k0();$ct=zW["default"].div(_templateObject205||(_templateObject205=_taggedTemplateLiteral(["\n  ","\n  background: linear-gradient(90deg, #F00 0%, #FF0 16.66%, #0F0 33.33%, #0FF 50%, #00F 66.66%, #F0F 83.33%, #F00 100%);\n  height: 8px;\n"])),gu);UW=function UW(_ref226){var i=_ref226.hue,t=_ref226.onChange;var _ref227=(0,Vn.useState)(0),_ref228=_slicedToArray(_ref227,2),e=_ref228[0],r=_ref228[1];var o=(0,Vn.useRef)(null);var _D5=D(),n=_D5.config;var s=function s(a){if(o.current){var _a5=_slicedToArray(a,1),l=_a5[0];var c=o.current.offsetWidth;var u=c-n.measurements.color.colorPicker.thumb.size;var m=l*c/u;var p=Math.max(0,Math.min(360,m/c*360));t(p);r(l);}};(0,Vn.useEffect)(function(){if(o.current){var a=o.current.offsetWidth;var l=0;var c=a-n.measurements.color.colorPicker.thumb.size;l=i*a/360;r(l*c/a);}},[i]);return Vn["default"].createElement(Sm,{surface:Vn["default"].createElement($ct,null),ref:o,onChange:s},Vn["default"].createElement(fu,{position:[e,0]}));};});var Xo,_I,Kct,Xct,HW;var WW=d(function(){Xo=y(_("react"));_I=y(_("styled-components"));W();w0();T0();k0();Kct=_I["default"].div.attrs(function(i){return{style:{background:"linear-gradient(to left, ".concat(i.transparentColor," 0%, ").concat(i.opaqueColor," 100%)")}};})(_templateObject206||(_templateObject206=_taggedTemplateLiteral(["\n  ","\n  z-index: 1;\n"])),gu);Xct=_I["default"].div.attrs(function(i){return{style:{backgroundImage:"url(".concat(i.url,")")}};})(_templateObject207||(_templateObject207=_taggedTemplateLiteral(["\n  ","\n  z-index: 0;\n  background-repeat: repeat-x;\n  background-size: contain;\n  background-position: left;\n"])),gu);HW=function HW(_ref229){var i=_ref229.color,t=_ref229.opaqueColor,e=_ref229.transparentColor,r=_ref229.onChange;var _D6=D(),o=_D6.config;var _ref230=(0,Xo.useState)(0),_ref231=_slicedToArray(_ref230,2),n=_ref231[0],s=_ref231[1];var a=(0,Xo.useRef)(null);var l=o.assetProvider.getPath("controls","/tiled-background.png");var c=function c(u){if(a.current){var m=a.current.offsetWidth;var _u13=_slicedToArray(u,1),p=_u13[0];var h=m-o.measurements.color.colorPicker.thumb.size;var g=p*m/h;var x=(m-g)/m;var v=Math.round((x+Number.EPSILON)*100)/100;var b=Math.min(1,Math.max(0,v));r(b);s(p);}};(0,Xo.useEffect)(function(){if(a.current){var u=a.current.offsetWidth;var m=0;var p=u-o.measurements.color.colorPicker.thumb.size;m=(1-i.toHsv().a)*u;s(m*p/u);}},[i.toString()]);return Xo["default"].createElement(Sm,{ref:a,surface:Xo["default"].createElement(Kct,{opaqueColor:t,transparentColor:e}),onChange:c},Xo["default"].createElement(Xct,{url:l}),Xo["default"].createElement(fu,{position:[n,0]}));};});var jn,xI,qct,Yct,GW;var VW=d(function(){jn=y(_("react"));xI=y(_("styled-components"));W();w0();T0();k0();qct=xI["default"].div.attrs(function(i){return{style:{backgroundColor:"hsl(".concat(i.hue,", 100%, 50%)")}};})(_templateObject208||(_templateObject208=_taggedTemplateLiteral(["\n  ","\n  background: linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0)),\n   linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0));\n  height: ","px;\n  top: 0px;\n"])),gu,function(i){return i.theme.measurements.color.colorPicker.saturationSlider.height;});Yct=(0,xI["default"])(Sm)(_templateObject209||(_templateObject209=_taggedTemplateLiteral(["\n  height: ","px;\n  margin-top: 0px;\n"])),function(i){return i.theme.measurements.color.colorPicker.saturationSlider.height;});GW=function GW(_ref232){var i=_ref232.color,t=_ref232.hue,e=_ref232.onChange;var _ref233=(0,jn.useState)([0,0]),_ref234=_slicedToArray(_ref233,2),r=_ref234[0],o=_ref234[1];var n=(0,jn.useRef)(null);var _D7=D(),s=_D7.config;(0,jn.useEffect)(function(){var _i$toHsv=i.toHsv(),l=_i$toHsv.s,c=_i$toHsv.v;if(n.current){var _n$current=n.current,u=_n$current.offsetWidth,m=_n$current.offsetHeight;var p=u-s.measurements.color.colorPicker.thumb.size;var h=m-s.measurements.color.colorPicker.thumb.size;var g=l*u;var x=(1-c)*m;o([g*p/u,x*h/m]);}},[i.toString()]);var a=function a(l){if(n.current){var _l7=_slicedToArray(l,2),c=_l7[0],u=_l7[1];var _n$current2=n.current,m=_n$current2.offsetHeight,p=_n$current2.offsetWidth;var h=p-s.measurements.color.colorPicker.thumb.size;var g=m-s.measurements.color.colorPicker.thumb.size;var x=c*p/h;var v=u*m/g;var b=Math.min(1,Math.max(0,x/p));var T=Math.min(1,Math.max(0,(m-v)/m));e(b,T);o([c,u]);}};return jn["default"].createElement(Yct,{ref:n,surface:jn["default"].createElement(qct,{hue:t}),onChange:a},jn["default"].createElement(fu,{position:r}));};});var ei,$n,Jct,jW,Zct,Qct,tut,eut,lf;var $W=d(function(){ei=y(_("react"));$n=y(_("styled-components"));it();Xt();gI();FW();RW();AW();NW();WW();VW();Jct=$n["default"].div(_templateObject210||(_templateObject210=_taggedTemplateLiteral(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  z-index: ",";\n  display: none;\n  opacity: 0;\n  transition: opacity 0.3s ease-out;\n  ","\n"])),function(i){return i.leftOffset;},function(i){return i.topOffset;},function(i){return i.theme.measurements.zIndex.input.list;},function(i){return i.show&&$n.css(_templateObject211||(_templateObject211=_taggedTemplateLiteral(["\n      display: block;\n      opacity: 1;\n      transition: opacity 0.3s ease-out;\n    "])));});jW=$n["default"].div(_templateObject212||(_templateObject212=_taggedTemplateLiteral(["\n  &&& {\n    position: absolute;\n    ","\n    padding: 16px;\n    box-sizing: border-box;\n    box-shadow: ",";\n    background: ",";\n    border-radius: ","px;\n    width: ","px;\n    height: ","px;\n    left: 8px;\n    z-index: 1;\n  }\n"])),function(i){return i.direction==="top"&&$n.css(_templateObject213||(_templateObject213=_taggedTemplateLiteral(["\n        transform: translate(0, -100%);\n      "])));},function(i){return i.theme.colorPicker.listShadow;},function(i){return i.theme.colorPicker.listBackground;},function(i){return i.theme.shape.radiusMedium;},function(i){return i.theme.measurements.color.colorPicker.width;},function(i){return i.theme.measurements.color.colorPicker.height;});Zct=(0,$n["default"])(UW)(_templateObject214||(_templateObject214=_taggedTemplateLiteral(["\n  margin-top: 8px;\n"])));Qct=(0,$n["default"])(HW)(_templateObject215||(_templateObject215=_taggedTemplateLiteral(["\n  margin-top: 8px;\n"])));tut=$n["default"].div(_templateObject216||(_templateObject216=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30px;\n"])));eut=$n["default"].div(_templateObject217||(_templateObject217=_taggedTemplateLiteral(["\n  display: flex;\n"])));lf=/*#__PURE__*/function(_ei$default$Component){_inherits(lf,_ei$default$Component);var _super237=_createSuper(lf);function lf(t){var _this378;_classCallCheck(this,lf);_this378=_super237.call(this,t);_this378.node=ei["default"].createRef();_this378.checkId=function(t,e,r){var o=t;var n=0;while(o.parentElement&&n<r){o=o.parentElement;n+=1;if(o.id===e){return true;}}return false;};_this378.handleOutsideClick=function(t){var s;var _this378$props=_this378.props,e=_this378$props.onRequestClose,r=_this378$props.onAddSnapshot,o=_this378$props.show;var n=_this378.state.color;if(o){if((s=_this378.node.current)==null?void 0:s.contains(t.target)){return;}_this378.setState({hexInputValue:n.toHexString()});if(e){e();}if(r){r();}}};_this378.onChange=function(t){var e=_this378.props.onChange;e({color:t.toRgbArray(),colorString:t.toRgbString()});};_this378.onHexValueChange=function(t){if(t.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i)){var _e36=new _Vr(t);_this378.onChange(_e36);_this378.setState({color:_e36,hue:_e36.toHsl().h});}_this378.setState({hexInputValue:t});};_this378.onAlphaChange=function(t){var e=_this378.state.color;var r=e.setAlpha(t);_this378.onChange(r);_this378.setState({color:r,hexInputValue:r.toHexString()});};_this378.onHueChange=function(t){var e=_this378.state.color;var _e$toHsv=e.toHsv(),r=_e$toHsv.s,o=_e$toHsv.v,n=_e$toHsv.a;var s=new _Vr({h:t,s:r,v:o,a:n});_this378.onChange(s);_this378.setState({color:s,hexInputValue:s.toHexString(),hue:t});};_this378.onSaturationBrightnessChange=function(t,e){var _this378$state=_this378.state,r=_this378$state.color,o=_this378$state.hue;var _r$toHsv=r.toHsv(),n=_r$toHsv.a;var s=new _Vr({h:o,s:t,v:e,a:n});_this378.onChange(s);_this378.setState({color:s,hexInputValue:s.toHexString()});};_this378.onInputChange=function(t){return function(e){var r=_this378.state.color;if(e.match(/0*([0-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/g)||!e.trim()){var o=r.toRgb();o[t]=parseInt(e,10)||0;var n=new _Vr(o);_this378.onChange(n);_this378.setState({color:n,hexInputValue:n.toHexString(),hue:n.toHsl().h});}};};var e=_this378.props.color;var r=new _Vr(e);_this378.state={color:r,hue:r.toHsl().h,hexInputValue:r.toHexString()};return _this378;}_createClass(lf,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick,false);document.addEventListener("touchstart",this.handleOutsideClick,false);document.addEventListener("keydown",this.handleOutsideClick,false);}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var _this$props14=this.props,e=_this$props14.color,r=_this$props14.show;if(r&&!t.show){var o=new _Vr(e);this.setState({color:o,hue:o.toHsl().h,hexInputValue:o.toHexString()});}}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick,false);document.removeEventListener("touchstart",this.handleOutsideClick,false);document.removeEventListener("keydown",this.handleOutsideClick,false);}},{key:"render",value:function render(){var _this$props15=this.props,t=_this$props15.show,e=_this$props15.showArrow,r=_this$props15.direction,o=_this$props15.arrowOffset,n=_this$props15.topOffset,s=_this$props15.leftOffset,a=_this$props15.labelHex,l=_this$props15.labelR,c=_this$props15.labelG,u=_this$props15.labelB,m=_this$props15.labelSliderHue,p=_this$props15.labelSliderOpacity;var _this$state8=this.state,h=_this$state8.color,g=_this$state8.hexInputValue,x=_this$state8.hue;var _h$toRgb=h.toRgb(),v=_h$toRgb.r,b=_h$toRgb.g,T=_h$toRgb.b;var k=h.clone().setAlpha(1).toRgbString();var E=h.clone().setAlpha(0).toRgbString();return ei["default"].createElement("div",{ref:this.node},ei["default"].createElement(Jct,{show:t,direction:r,leftOffset:s,topOffset:n},ei["default"].createElement(jW,{direction:r},e&&ei["default"].createElement(EW,{direction:r,arrowOffset:o}),ei["default"].createElement(GW,{color:h,hue:x,onChange:this.onSaturationBrightnessChange}),ei["default"].createElement(P.Spacer,{count:2}),ei["default"].createElement(P.Input.Label,{label:m}),ei["default"].createElement(Zct,{hue:x,onChange:this.onHueChange}),ei["default"].createElement(P.Spacer,{count:2}),ei["default"].createElement(P.Input.Label,{label:p}),ei["default"].createElement(Qct,{color:h,opaqueColor:k,transparentColor:E,onChange:this.onAlphaChange}),ei["default"].createElement(tut,null,ei["default"].createElement(OW,{value:g,label:a,onChange:this.onHexValueChange}),ei["default"].createElement(eut,null,ei["default"].createElement(C0,{value:v,label:l,onChange:this.onInputChange("r")}),ei["default"].createElement(C0,{value:b,label:c,onChange:this.onInputChange("g")}),ei["default"].createElement(C0,{value:T,label:u,onChange:this.onInputChange("b")}))))));}}]);return lf;}(ei["default"].Component);lf.defaultProps={direction:"bottom",showArrow:true};jW.defaultProps={theme:Hr};});var KW=d(function(){gI();$W();});var wm,XW,iut,vI,qW;var YW=d(function(){wm=y(_("react"));Tt();B();XW=y(_("styled-components"));KW();Xt();U();iut=XW["default"].div(_templateObject218||(_templateObject218=_taggedTemplateLiteral(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n"])));vI=/*#__PURE__*/function(_wm$default$Component){_inherits(vI,_wm$default$Component);var _super238=_createSuper(vI);function vI(t){var _this379;_classCallCheck(this,vI);_this379=_super238.call(this,t);_this379.containerRef=null;_this379.onClick=function(t){return function(e){var _this379$props=_this379.props,r=_this379$props.onAddSnapshot,o=_this379$props.config,n=_this379$props.onChange,s=_this379$props.colorPickerDirection,a=_this379$props.rect;var _this379$state=_this379.state,l=_this379$state.activeIdentifier,c=_this379$state.showColorPicker,u=_this379$state.colorList;var m=u.find(function(p){return p.identifier===t;});if(l===m.identifier&&!c){var _e$currentTarget$getB=e.currentTarget.getBoundingClientRect(),p=_e$currentTarget$getB.left,h=_e$currentTarget$getB.width,g=_e$currentTarget$getB.top,x=_e$currentTarget$getB.height;var _this379$containerRef=_this379.containerRef.current.getBoundingClientRect(),v=_this379$containerRef.left,b=_this379$containerRef.top;var T=o.measurements.color.colorPicker;var k=T.arrow.width/2;var E=p-v+h/2-2;var A=s==="bottom"?g-b+x+k:g-b-k;var I=-24;var F=T.width-T.arrow.width-12;if(E>F){I+=E-F;E-=I;}var Z=true;if(s==="bottom"&&a){var et=a.height;var pt=a.top;var yt=g-pt;var bt=et-(yt+x);var ht=o.measurements.color.colorPicker.height+k;if(bt<ht){A=bt-ht;}if(yt+A<yt+x/2){A+=k;Z=false;}}_this379.setState({showColorPicker:true,showColorPickerArrow:Z,arrowOffset:E,topOffset:A,leftOffset:I});}else if(c){_this379.setState({showColorPicker:false});}else{n(m.color);_this379.setState({activeIdentifier:t});if(r){r();}}};};_this379.onChange=function(_ref235){var t=_ref235.color,e=_ref235.colorString;var r=_this379.props.onChange;var _this379$state2=_this379.state,o=_this379$state2.activeIdentifier,n=_this379$state2.colorList;var s=n.findIndex(function(a){return a.identifier===o;});if(s!==-1){var a=_toConsumableArray(n);a[s]={identifier:n[s].identifier,colorString:e,color:t};_this379.setState({colorList:a});}r(t);};_this379.onChangeColorPicker=function(_ref236){var t=_ref236.color,e=_ref236.colorString;_this379.onChange({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:e});};_this379.closeColorPicker=function(){_this379.setState({showColorPicker:false});};_this379.getColorPicker=function(){var _this379$props2=_this379.props,t=_this379$props2.activeColor,e=_this379$props2.labelsColor,r=_this379$props2.colorPickerDirection,o=_this379$props2.onAddSnapshot;var _this379$state3=_this379.state,n=_this379$state3.showColorPicker,s=_this379$state3.showColorPickerArrow,a=_this379$state3.arrowOffset,l=_this379$state3.leftOffset,c=_this379$state3.topOffset;return wm["default"].createElement(lf,{color:ct(t),show:n,showArrow:s,direction:r,arrowOffset:a,leftOffset:l,topOffset:c,labelHex:e.hex,labelR:e.r,labelG:e.g,labelB:e.b,labelSliderOpacity:e.sliderOpacity,labelSliderHue:e.sliderHue,onChange:_this379.onChangeColorPicker,onRequestClose:_this379.closeColorPicker,onAddSnapshot:o});};var e=_this379.props.colors;_this379.containerRef=wm["default"].createRef();_this379.state={activeIdentifier:"",activeSprite:"",colorList:_toConsumableArray(e),showColorPicker:false,showColorPickerArrow:false,arrowOffset:0,leftOffset:0,topOffset:0};return _this379;}_createClass(vI,[{key:"render",value:function render(){var _this380=this;var _this$props16=this.props,t=_this$props16.tool,e=_this$props16.isDisabled,r=_this$props16.custom,o=_this$props16.config,n=_this$props16.className;var _this$state9=this.state,s=_this$state9.activeIdentifier,a=_this$state9.colorList;var l=r.getColorItem();var c=o.assetProvider.getPath("controls","/tiled-background.png");var u=a.map(function(m){if(!l){return null;}return wm["default"].createElement(l,{tool:t,key:"".concat(m.colorString,"-item-").concat(m.identifier),isActive:m.identifier===s,isDisabled:e,onClick:_this380.onClick(m.identifier),color:m.colorString,label:m.identifier,tiledBackgroundUrl:c});});return wm["default"].createElement(iut,{className:n,"data-test":N.ColorList,ref:this.containerRef},u,this.getColorPicker());}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(_ref237,_ref238){var t=_ref237.activeSprite,e=_ref237.activeColor;var r=_ref238.activeSprite,o=_ref238.colorList;if(t!==r||!t){var n=Un(ct(e));var s=o.find(function(_ref239){var a=_ref239.colorString;return a===n;});return{activeSprite:t,activeIdentifier:s?s.identifier:""};}return null;}}]);return vI;}(wm["default"].Component);vI.defaultProps={colorPickerDirection:"bottom",isDisabled:false};qW=rt("config","custom")(w(vI));});var CI,De;var JW=d(function(){CI=y(_("react"));Sr();YW();De=function De(i){return CI["default"].createElement(Re.Consumer,null,function(_ref240){var t=_ref240.rect;return CI["default"].createElement(qW,_objectSpread(_objectSpread({},i),{},{rect:t}));});};});var cf,SI,rut,out,ZW,QW;var tG=d(function(){cf=y(_("react"));B();SI=y(_("styled-components"));Xt();U();$e();rut=(0,SI["default"])(mt.Controls.Container)(_templateObject219||(_templateObject219=_taggedTemplateLiteral(["\n  cursor: none;\n"])));out=SI["default"].div(_templateObject220||(_templateObject220=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n  color: ",";\n"])),function(i){return i.theme.foreground;});ZW=/*#__PURE__*/function(_cf$default$Component){_inherits(ZW,_cf$default$Component);var _super239=_createSuper(ZW);function ZW(t){var _this381;_classCallCheck(this,ZW);_this381=_super239.call(this,t);_this381.INITIAL_POSITION={x:void 0,y:void 0};_this381.state=_objectSpread(_objectSpread({},_this381.INITIAL_POSITION),{},{isDrawing:false});_this381.containerElementRef=null;_this381.getCursorCoordinates=function(t){var e=0;var r=0;if(t.type.indexOf("touch")!==-1){var a=t;if(!a.touches.length){return _objectSpread(_objectSpread({},_this381.INITIAL_POSITION),{},{height:0,width:0});}e=a.touches[0].clientX;r=a.touches[0].clientY;}else{var _a6=t;e=_a6.clientX;r=_a6.clientY;}var o=_this381.containerElementRef.current.getBoundingClientRect();var n=e-o.left;var s=r-o.top;return{x:n,y:s,height:o.height,width:o.width};};_this381.draw=function(t){t.preventDefault();t.stopPropagation();_this381.touchDraw(t);};_this381.touchDraw=function(t){var _this381$getCursorCoo=_this381.getCursorCoordinates(t),e=_this381$getCursorCoo.x,r=_this381$getCursorCoo.y;if(e!==void 0&&r!==void 0){_this381.setState({x:e,y:r});if(_this381.state.isDrawing){_this381.brushTool.strokePosition({x:e,y:r});}}};_this381.touchStart=function(){_this381.brushTool.clickableCanvas(false);_this381.setState({isDrawing:true});_this381.brushTool.beginStroke();};_this381.start=function(t){if(t.button===0){_this381.touchStart();}else{_this381.stop(t);}};_this381.stop=function(t){if(_this381.state.isDrawing){t.preventDefault();t.stopPropagation();_this381.setState({isDrawing:false});_this381.brushTool.endStroke();_this381.brushTool.clickableCanvas(true);}};_this381.setInitialPosition=function(){_this381.setState(_objectSpread({},_this381.INITIAL_POSITION));};_this381.mouseOut=function(t){var e=_this381.props.config;t.preventDefault();t.stopPropagation();var r=_this381.brushTool.sizeOnScreenSpace/2;var _this381$getCursorCoo2=_this381.getCursorCoordinates(t),o=_this381$getCursorCoo2.x,n=_this381$getCursorCoo2.y,s=_this381$getCursorCoo2.height,a=_this381$getCursorCoo2.width;if(o&&n){if(o<0||n<0||o>a-r||n>s-r||n<e.measurements.mainCanvasActionBar.height){_this381.setInitialPosition();}}};_this381.touchEnd=function(t){t.preventDefault();t.stopPropagation();var _this381$state=_this381.state,e=_this381$state.x,r=_this381$state.y;if(e&&r){_this381.setInitialPosition();}};_this381.getCursor=function(){var _this381$state2=_this381.state,t=_this381$state2.x,e=_this381$state2.y;if(t&&e){var r=Un(_this381.brushTool.color);var o="".concat(_this381.brushTool.sizeOnScreenSpace,"px");var n={left:"".concat(_this381.state.x,"px"),top:"".concat(_this381.state.y,"px"),borderColor:r,height:o,width:o};return cf["default"].createElement(out,{style:n,"data-test":N.Cursor});}return null;};_this381.containerElementRef=cf["default"].createRef();return _this381;}_createClass(ZW,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mouseup",this.stop,false);document.addEventListener("touchend",this.stop,{passive:false});}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mouseup",this.stop,false);document.removeEventListener("touchend",this.stop,false);}},{key:"brushTool",get:function get(){return this.props.brushTool;}},{key:"render",value:function render(){return cf["default"].createElement(rut,{ref:this.containerElementRef,"data-test":N.CursorContainer,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.touchStart,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor());}}]);return ZW;}(cf["default"].Component);QW=rt("brushTool","config")(w(ZW));});var po;var I0=d(function(){po=function po(i,t){return i!==void 0&&t!==void 0&&!Number.isNaN(i)&&!Number.isNaN(t);};});var ho,eG,wI,nut,iG,rG;var oG=d(function(){ho=y(_("react"));B();eG=y(_("styled-components"));it();Xt();$e();I0();wI=(0,eG["default"])(mt.Controls.Knob)(_templateObject221||(_templateObject221=_taggedTemplateLiteral(["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),function(i){return i.theme.measurements.canvasControls.knob.touchable.desktop/2;},function(i){return i.theme.measurements.canvasControls.knob.touchable.desktop/2;});nut=mt.Controls.Container;iG=/*#__PURE__*/function(_ho$default$Component){_inherits(iG,_ho$default$Component);var _super240=_createSuper(iG);function iG(t){var _this382;_classCallCheck(this,iG);_this382=_super240.call(this,t);_this382.start=function(t,_ref241){var e=_ref241.x,r=_ref241.y;if(po(e,r)){_this382.focusTool.setStart({x:e,y:r});}};_this382.end=function(t,_ref242){var e=_ref242.x,r=_ref242.y;if(po(e,r)){_this382.focusTool.setEnd({x:e,y:r});}};_this382.onKnob1DragStart=function(t,e){_this382.focusTool.clickableCanvas(false);_this382.start(t,e);};_this382.onKnob1DragStop=function(t,e){_this382.addSnapshot(e,_this382.historyLocale.focusPosition);_this382.start(t,e);_this382.focusTool.clickableCanvas(true);};_this382.onKnob2DragStart=function(t,e){_this382.focusTool.clickableCanvas(false);_this382.end(t,e);};_this382.onKnob2DragStop=function(t,e){_this382.addSnapshot(e,_this382.historyLocale.focusPosition);_this382.end(t,e);_this382.focusTool.clickableCanvas(true);};_this382.addSnapshot=function(_ref243,r){var t=_ref243.x,e=_ref243.y;if(po(t,e)){_this382.focusTool.toolSnapshot(r);}};_this382.getLine=function(){var _this382$props$canvas=_this382.props.canvas.canvasSize,t=_this382$props$canvas.height,e=_this382$props$canvas.width;var r=_this382.focusTool.startOnPreview;var o=_this382.focusTool.endOnPreview;return ho["default"].createElement("svg",{focusable:"false",height:t,width:e},ho["default"].createElement("line",{x1:r.x,y1:r.y,x2:o.x,y2:o.y,strokeWidth:"2",stroke:"currentColor"}));};_this382.startRef=ho["default"].createRef();_this382.endRef=ho["default"].createRef();return _this382;}_createClass(iG,[{key:"focusTool",get:function get(){return this.props.focusTool;}},{key:"historyLocale",get:function get(){return this.focusTool.locale.history;}},{key:"render",value:function render(){return ho["default"].createElement(nut,null,ho["default"].createElement(mt.Controls.Line,null,this.getLine()),ho["default"].createElement(P.Draggable,{nodeRef:this.startRef,bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},ho["default"].createElement(wI,{ref:this.startRef})),ho["default"].createElement(P.Draggable,{nodeRef:this.endRef,bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},ho["default"].createElement(wI,{ref:this.endRef})));}}]);return iG;}(ho["default"].Component);wI.defaultProps={theme:Hr};rG=rt("canvas","focusTool")(w(iG));});var ta,uf;var nG=d(function(){ta=y(_("react"));B();it();Xt();U();$e();I0();uf=/*#__PURE__*/function(_ta$default$Component){_inherits(uf,_ta$default$Component);var _super241=_createSuper(uf);function uf(t){var _this383;_classCallCheck(this,uf);_this383=_super241.call(this,t);_this383.getKnobPosition=function(){var t=_this383.props.focusTool;var e=t.origin,r=t.size;var o=r/2;var n=Math.PI/2+t.rotation;return{x:e.x+o*Math.cos(n),y:e.y+o*Math.sin(n)};};_this383.onArea=function(t,_ref244){var e=_ref244.x,r=_ref244.y;var o=_this383.props.editor;var n=o.configStore.measurements.canvasControls.knob.size;if(po(e,r)){var _this383$props=_this383.props,s=_this383$props.canvas,a=_this383$props.focusTool;var l=a.size,c=a.mirroredAreaWidth;var u=e+c/2;var m=r+l/2;var p=new R(_this383.getKnobPosition());var h=new R({x:e,y:r});var g=h.subtract(new R(_this383.areaPosition));var x=p.add(g);if(x.x>n&&x.x<s.canvasSize.width-n){if(x.y>n&&x.y<s.canvasSize.height-n){a.setOrigin({x:u,y:m});}}}};_this383.onKnob=function(t,_ref245){var e=_ref245.x,r=_ref245.y;var o=_this383.props.focusTool;if(po(e,r)){o.clickableCanvas(false);var n=new R(o.origin);var s=new R(e,r);var a=n.subtract(s);var l=a.magnitude;var c=Math.PI/2+Math.atan2(a.y,a.x);o.setSize(l*2);o.setRotation(c);}};_this383.onAreaDragStop=function(t,e){var r=_this383.props.focusTool;_this383.addSnapshot(e,r.locale.history.focusPosition);_this383.onArea(t,e);r.clickableCanvas(true);};_this383.onKnobDragStop=function(t,e){var r=_this383.props.focusTool;_this383.addSnapshot(e,r.locale.history.focusSize);_this383.onKnob(t,e);r.clickableCanvas(true);};_this383.addSnapshot=function(_ref246,r){var t=_ref246.x,e=_ref246.y;var o=_this383.props.focusTool;if(po(t,e)){o.toolSnapshot(r);}};_this383.knobRef=ta["default"].createRef();_this383.areaRef=ta["default"].createRef();return _this383;}_createClass(uf,[{key:"areaPosition",get:function get(){var t=this.props.focusTool;var e=t.origin,r=t.size,o=t.mirroredAreaWidth;return{x:e.x-o/2,y:e.y-r/2};}},{key:"render",value:function render(){var _this$areaPosition=this.areaPosition,t=_this$areaPosition.x,e=_this$areaPosition.y;var r=this.props.focusTool;return ta["default"].createElement(mt.Controls.Container,null,ta["default"].createElement(P.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},ta["default"].createElement(mt.Controls.Knob,{ref:this.knobRef})),ta["default"].createElement(P.Draggable,{nodeRef:this.areaRef,onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:t,y:e},rotation:r.rotation},ta["default"].createElement(mt.Controls.Area,{ref:this.areaRef,"data-test":N.Focus,height:r.size,width:r.mirroredAreaWidth})));}}]);return uf;}(ta["default"].Component);uf=f([rt("focusTool","canvas","editor"),w],uf);});var ea,df;var sG=d(function(){ea=y(_("react"));B();it();Xt();U();$e();I0();df=/*#__PURE__*/function(_ea$default$Component){_inherits(df,_ea$default$Component);var _super242=_createSuper(df);function df(t){var _this384;_classCallCheck(this,df);_this384=_super242.call(this,t);_this384.state={knobAngle:2.35};_this384.onCircle=function(t,_ref247){var e=_ref247.x,r=_ref247.y;if(po(e,r)){var o=_this384.props.focusTool;o.setCenter({x:e+o.radius,y:r+o.radius});}};_this384.onKnob=function(t,_ref248){var e=_ref248.x,r=_ref248.y;if(po(e,r)){var o=_this384.props.focusTool;var n=new R(e,r);var s=new R(o.center.x,o.center.y);var a=s.subtract(n);var l=a.magnitude;var c=-Math.atan2(a.y,a.x);_this384.setState({knobAngle:c});o.setRadius(l);}};_this384.onCircleDragStart=function(t,e){var r=_this384.props.focusTool;r.clickableCanvas(false);_this384.onCircle(t,e);};_this384.onCircleDragStop=function(t,e){var r=_this384.props.focusTool;_this384.addSnapshot(e,r.locale.history.focusPosition);_this384.onCircle(t,e);r.clickableCanvas(true);};_this384.onKnobDragStart=function(t,e){var r=_this384.props.focusTool;r.clickableCanvas(false);_this384.onKnob(t,e);};_this384.onKnobDragStop=function(t,e){var r=_this384.props.focusTool;_this384.addSnapshot(e,r.locale.history.focusSize);_this384.onKnob(t,e);r.clickableCanvas(true);};_this384.addSnapshot=function(_ref249,r){var t=_ref249.x,e=_ref249.y;var o=_this384.props.focusTool;if(po(t,e)){o.toolSnapshot(r);}};_this384.knobRef=ea["default"].createRef();_this384.circleRef=ea["default"].createRef();return _this384;}_createClass(df,[{key:"componentDidMount",value:function componentDidMount(){this.setState({knobAngle:2.35});}},{key:"render",value:function render(){var t=this.props.focusTool;var e=this.state.knobAngle;var r=t.center,o=t.radius;var n={x:r.x-o,y:r.y-o};var s=Math.PI-e;var a={x:r.x+o*Math.cos(s),y:r.y+o*Math.sin(s)};return ea["default"].createElement(mt.Controls.Container,null,ea["default"].createElement(P.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:a},ea["default"].createElement(mt.Controls.Knob,{ref:this.knobRef})),ea["default"].createElement(P.Draggable,{nodeRef:this.circleRef,onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:n},ea["default"].createElement(mt.Controls.Circle,{ref:this.circleRef,"data-test":N.Focus,radius:o})));}}]);return df;}(ea["default"].Component);df=f([rt("focusTool","canvas"),w],df);});var aG,lG;var cG=d(function(){aG=y(_("react"));B();O();W();oG();nG();sG();lG=w(function(){var _D8=D(),i=_D8.focusTool;var t=i.state;var e=function e(){switch(t.identifier){case"linear":return rG;case"radial":return df;case"mirrored":return uf;default:return null;}};var r=e();return i.isOptionSelected&&r?aG["default"].createElement(r,null):null;});});var uG,dG;var mG=d(function(){uG=y(_("react"));W();dG=function dG(_ref250){var i=_ref250.customButtonKey,t=_ref250.onClick,e=_ref250.label,r=_ref250.icon,o=_ref250.disabled;var _D9=D(),n=_D9.custom;var s=n.getButton(i);if(!s){return null;}return uG["default"].createElement(s,{onClick:t,label:e,ariaLabel:e,icon:r,isDisabled:o});};});var pG=d(function(){mG();});var TI,Tm;var hG=d(function(){TI=y(_("react"));U();$e();pG();Tm=function Tm(_ref251){var i=_ref251.availableKeys,t=_ref251.actions;return TI["default"].createElement(mt.Bar.ButtonGroup,{onClick:eA},i.map(function(e){var r=t[e];if(r){return TI["default"].createElement(dG,_objectSpread({key:e},r));}return null;}));};});var D0=d(function(){hG();});var km,sut,fG;var gG=d(function(){km=y(_("react"));B();O();we();D0();sut=function sut(_ref252){var _r26;var i=_ref252.sprite,t=_ref252.stickerTool;var e=t.locale.canvasActions;var r=(_r26={},_defineProperty(_r26,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:t.bringToFront,label:e.buttonBringToFront,icon:km["default"].createElement(Vt.bringToFront,null),disabled:i.isOnTop}),_defineProperty(_r26,"flip",{customButtonKey:"canvasActionFlip",onClick:t.flipHorizontally,label:e.buttonFlipHorizontal,icon:km["default"].createElement(Vt.flipHorizontal,null)}),_defineProperty(_r26,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:function onClick(){return t.duplicate();},label:e.buttonDuplicate,icon:km["default"].createElement(Vt.duplicate,null)}),_defineProperty(_r26,"delete",{customButtonKey:"canvasActionDelete",onClick:t["delete"],label:e.buttonDelete,icon:km["default"].createElement(Vt["delete"],null)}),_r26);if(!t.isStickerSelected){return null;}return km["default"].createElement(Tm,{availableKeys:t.config.canvasActions,actions:r});};fG=rt("sprite","stickerTool")(w(sut));});var Im,aut,bG;var yG=d(function(){Im=y(_("react"));B();O();we();D0();aut=function aut(_ref253){var _r27;var i=_ref253.textTool,t=_ref253.sprite;var e=i.locale.canvasActions;var r=(_r27={},_defineProperty(_r27,"edit",{customButtonKey:"canvasActionEdit",onClick:function onClick(){return i.setEditMode(true);},label:e.buttonEdit,icon:Im["default"].createElement(Vt.edit,null)}),_defineProperty(_r27,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:i.bringToFront,label:e.buttonBringToFront,icon:Im["default"].createElement(Vt.bringToFront,null),disabled:t.isOnTop}),_defineProperty(_r27,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:i.duplicate,label:e.buttonDuplicate,icon:Im["default"].createElement(Vt.duplicate,null)}),_defineProperty(_r27,"delete",{customButtonKey:"canvasActionDelete",onClick:i["delete"],label:e.buttonDelete,icon:Im["default"].createElement(Vt["delete"],null)}),_r27);if(!t.isSpriteText){return null;}return Im["default"].createElement(Tm,{availableKeys:i.config.canvasActions,actions:r});};bG=rt("textTool","sprite")(w(aut));});var bu,lut,_G;var xG=d(function(){bu=y(_("react"));B();O();we();D0();lut=function lut(_ref254){var _r28;var i=_ref254.sprite,t=_ref254.textDesignTool;var e=t.locale.canvasActions;var r=(_r28={},_defineProperty(_r28,"edit",{customButtonKey:"canvasActionEdit",onClick:function onClick(){return t.setEditMode(true);},label:e.buttonEdit,icon:bu["default"].createElement(Vt.edit,null)}),_defineProperty(_r28,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:t.bringToFront,label:e.buttonBringToFront,icon:bu["default"].createElement(Vt.bringToFront,null),disabled:i.isOnTop}),_defineProperty(_r28,"invert",{customButtonKey:"canvasActionInvert",onClick:t.invertBackground,label:e.buttonInvert,icon:bu["default"].createElement(Vt.flipHorizontal,null)}),_defineProperty(_r28,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:t.duplicate,label:e.buttonDuplicate,icon:bu["default"].createElement(Vt.duplicate,null)}),_defineProperty(_r28,"delete",{customButtonKey:"canvasActionDelete",onClick:function onClick(){return t["delete"]();},label:e.buttonDelete,icon:bu["default"].createElement(Vt["delete"],null)}),_r28);if(!t.isTextDesignSelected){return null;}return bu["default"].createElement(Tm,{availableKeys:t.config.canvasActions,actions:r});};_G=rt("sprite","textDesignTool")(w(lut));});var yu,mf;var vG=d(function(){yu=y(_("react"));B();O();U();$e();gG();yG();xG();mf=/*#__PURE__*/function(_yu$default$Component){_inherits(mf,_yu$default$Component);var _super243=_createSuper(mf);function mf(t){var _this385;_classCallCheck(this,mf);_this385=_super243.call(this,t);_this385.actionsRef=null;_this385.spriteControlPosition=function(){var _this385$props=_this385.props,t=_this385$props.config,e=_this385$props.sprite,r=_this385$props.canvas.canvasSize;var _t$measurements$canva=t.measurements.canvasControls.sprite,o=_t$measurements$canva.controlPadding,n=_t$measurements$canva.controlOffset;var _e$position=e.position,s=_e$position.x,a=_e$position.y;var _e$currentSprite$size=e.currentSprite.size,l=_e$currentSprite$size.height,c=_e$currentSprite$size.width;var u=e.rotationWRTOutputRotation;var m=_this385.actionsRef.current;var p=new R(0,0);if(m){var x=m.getBoundingClientRect();p=new R(x.width/2+n,x.height+n);}var h=Math.abs(c*Math.sin(u))+Math.abs(l*Math.cos(u));var g=new R(s,a-h/2-o-n).clamp(p,new R(r.width,r.height).subtract(p));return{left:g.x,top:g.y};};_this385.getSpriteControls=function(){var t=_this385.props.sprite;switch(t.tool){case"text":return yu["default"].createElement(bG,null);case"textdesign":return yu["default"].createElement(_G,null);case"sticker":return yu["default"].createElement(fG,null);default:return null;}};_this385.actionsRef=yu["default"].createRef();_this385.state={isMounted:false};return _this385;}_createClass(mf,[{key:"componentDidMount",value:function componentDidMount(){this.setState({isMounted:true});}},{key:"render",value:function render(){var t=this.props.sprite;var e=this.state.isMounted;var r=!t.isDragMode&&!t.isEditMode;var o=this.spriteControlPosition();return yu["default"].createElement(mt.Controls.SpriteActionsWrapper,{"data-test":N.SpriteActions,ref:this.actionsRef,show:r&&e,style:_objectSpread({},o)},this.getSpriteControls());}}]);return mf;}(yu["default"].Component);mf=f([rt("sprite","config","editor","canvas"),w],mf);});var Pi,E0,F0,kI,II,CG;var SG=d(function(){Pi=y(_("react"));B();it();Xt();W();U();$e();E0=mt.Controls.Corner;var _P3=P;F0=_P3.Draggable;kI=new R(0,0);II=new R(0,0);CG=w(function(){var i=(0,Pi.useRef)(null);var t=(0,Pi.useRef)(null);var e=(0,Pi.useRef)(null);var r=(0,Pi.useRef)(null);var _D10=D(),o=_D10.config,n=_D10.sprite;var s=n.leftTopPosition,a=n.leftBottomPosition,l=n.rightTopPosition,c=n.rightBottomPosition;var u=o.measurements.canvasControls.corner.borderWidth;var m=function m(_ref255){var x=_ref255.clientX,v=_ref255.clientY;if(x!==void 0&&v!==void 0){n.onCornerDrag(II.subtract(kI.subtract(new R(x,v))));}};var p=function p(x){switch(x){case"leftTop":return s;case"leftBottom":return a;case"rightTop":return l;case"rightBottom":return c;default:return s;}};var h=function h(x,v){var b=x.clientX,T=x.clientY;kI=new R(b,T);II=new R(p(v));n.clickableCanvas(false);n.setDragMode(true);};var g=function g(){n.clickableCanvas(true);n.setDragMode(false);n.spriteSnapshot("size");kI=new R(0,0);II=new R(0,0);};return Pi["default"].createElement(Pi["default"].Fragment,null,Pi["default"].createElement(F0,{nodeRef:i,onStop:g,onDrag:m,onStart:function onStart(x){return h(x,"leftTop");}},Pi["default"].createElement(E0,{ref:i,"data-test":N.SpriteTopLeft,vertical:"top",horizontal:"left",borderWidth:u})),Pi["default"].createElement(F0,{nodeRef:e,onStop:g,onDrag:m,onStart:function onStart(x){return h(x,"leftBottom");}},Pi["default"].createElement(E0,{ref:e,"data-test":N.SpriteBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:u})),Pi["default"].createElement(F0,{nodeRef:t,onStop:g,onDrag:m,onStart:function onStart(x){return h(x,"rightTop");}},Pi["default"].createElement(E0,{ref:t,"data-test":N.SpriteTopRight,vertical:"top",horizontal:"right",borderWidth:u})),Pi["default"].createElement(F0,{nodeRef:r,onStop:g,onDrag:m,onStart:function onStart(x){return h(x,"rightBottom");}},Pi["default"].createElement(E0,{ref:r,"data-test":N.SpriteBottomRight,vertical:"bottom",horizontal:"right",borderWidth:u})));});});var Kn,FI,cut,uut,DI,EI,dut,wG;var TG=d(function(){Kn=y(_("react"));B();FI=y(_("styled-components"));it();Xt();Zi();cut=FI["default"].img(_templateObject222||(_templateObject222=_taggedTemplateLiteral(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"])));uut=FI["default"].img(_templateObject223||(_templateObject223=_taggedTemplateLiteral(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"])));DI=new R(0,0);EI=new R(0,0);dut=function dut(_ref256){var i=_ref256.sprite,t=_ref256.config;var e=(0,Kn.useRef)(null);var r=(0,Kn.useRef)(null);var o=i.leftMidPosition;var n=i.rightMidPosition;var s=t.assetProvider.getPath("controls","/arrow-left.png");var a=t.assetProvider.getPath("controls","/arrow-right.png");var l=function l(m,p){i.setDragMode(true);i.clickableCanvas(false);var h=m.clientX,g=m.clientY;DI=new R(h,g);EI=new R(p==="left"?o:n);};var c=function c(){i.clickableCanvas(true);i.setDragMode(false);i.addSnapshot("edit",i.textDesignLocale.padding);DI=new R(0,0);EI=new R(0,0);};var u=function u(_ref257){var m=_ref257.clientX,p=_ref257.clientY;if(m!==void 0&&p!==void 0){var h=EI.subtract(DI.subtract(new R(m,p)));i.onPaddingDrag(h);}};return Kn["default"].createElement(Kn["default"].Fragment,null,Kn["default"].createElement(P.Draggable,{nodeRef:e,onStart:function onStart(m){return l(m,"left");},onDrag:u,onStop:c},Kn["default"].createElement(cut,{ref:e,src:s})),Kn["default"].createElement(P.Draggable,{nodeRef:r,onStart:function onStart(m){return l(m,"right");},onDrag:u,onStop:c},Kn["default"].createElement(uut,{ref:r,src:a})));};wG=rt("sprite","config")(w(dut));});var pf,kG,IG,RI,OI,mut,DG;var EG=d(function(){pf=y(_("react"));B();kG=y(_("styled-components"));it();Xt();U();$e();IG=(0,kG["default"])(mt.Controls.Knob)(_templateObject224||(_templateObject224=_taggedTemplateLiteral(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(\n      50% - ","px\n    );\n  }\n"])),function(i){return i.url;},function(i){return i.theme.measurements.canvasControls.knob.size/2;});RI=new R(0,0);OI=new R(0,0);mut=function mut(_ref258){var i=_ref258.config,t=_ref258.sprite,e=_ref258.snapping;var r=(0,pf.useRef)(null);var o=t.rightBottomHandlePosition;var n=t.leftBottomHandlePosition;var s={x:(o.x+n.x)/2,y:(o.y+n.y)/2};var a=function a(_ref259){var p=_ref259.clientX,h=_ref259.clientY;RI=new R(p,h);OI=new R(s);t.setDragMode(true);t.clickableCanvas(false);};var l=function l(){t.clickableCanvas(true);t.setDragMode(false);t.spriteSnapshot("rotation");e.hideRotationGuides();RI=new R(0,0);OI=new R(0,0);};var c=function c(_ref260){var p=_ref260.clientX,h=_ref260.clientY;if(p!==void 0&&h!==void 0){var g=OI.subtract(RI.subtract(new R(p,h)));var x=t.position;var v=new R(x.x,x.y);var b=g.subtract(v);var T=Math.atan2(b.y,b.x)-Math.PI/2;var k=e.snapToRotation(T,b,t.currentRect);t.setRotation(k);}};var u=function u(p){c(p);};var m=i.assetProvider.getPath("controls","/".concat(UF()?"rotate-windows":"rotate-osx",".png"));return pf["default"].createElement(P.Draggable,{nodeRef:r,onStart:a,onDrag:u,onStop:l},pf["default"].createElement(IG,{ref:r,url:m}));};IG.defaultProps={theme:Hr};DG=rt("sprite","snapping","config")(w(mut));});var Xn,R0,FG,RG,OG,AI,BI,put,AG;var BG=d(function(){Xn=y(_("react"));B();R0=y(_("styled-components"));it();Xt();Zi();$e();FG=(0,R0["default"])(mt.Controls.Width)(_templateObject225||(_templateObject225=_taggedTemplateLiteral(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"])));RG=(0,R0["default"])(FG)(_templateObject226||(_templateObject226=_taggedTemplateLiteral(["\n  left: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),function(i){return i.theme.measurements.canvasControls.width.size/2;});OG=(0,R0["default"])(FG)(_templateObject227||(_templateObject227=_taggedTemplateLiteral(["\n  right: -3px;\n  top: calc(\n    50% - ","px\n  );\n"])),function(i){return i.theme.measurements.canvasControls.width.size/2;});AI=new R(0,0);BI=new R(0,0);put=function put(_ref261){var i=_ref261.sprite,t=_ref261.textTool;var e=(0,Xn.useRef)(null);var r=(0,Xn.useRef)(null);var o=i.leftMidPadPosition;var n=i.rightMidPadPosition;var s=function s(c,u){i.setDragMode(true);i.clickableCanvas(false);var m=c.clientX,p=c.clientY;AI=new R(m,p);BI=new R(u==="left"?o:n);};var a=function a(){i.clickableCanvas(true);i.setDragMode(false);i.addSnapshot("edit",i.textLocale.width);t.updateDefaultFontSize();AI=new R(0,0);BI=new R(0,0);};var l=function l(_ref262){var c=_ref262.clientX,u=_ref262.clientY;if(c!==void 0&&u!==void 0){var m=BI.subtract(AI.subtract(new R(c,u)));i.onWidthDrag(m);}};return Xn["default"].createElement(Xn["default"].Fragment,null,Xn["default"].createElement(P.Draggable,{nodeRef:e,onStart:function onStart(c){return s(c,"left");},onDrag:l,onStop:a},Xn["default"].createElement(RG,{ref:e})),Xn["default"].createElement(P.Draggable,{nodeRef:r,onStart:function onStart(c){return s(c,"right");},onDrag:l,onStop:a},Xn["default"].createElement(OG,{ref:r})));};RG.defaultProps={theme:Hr};OG.defaultProps={theme:Hr};AG=rt("sprite","textTool")(w(put));});var fo,hut,O0,PI,PG;var MG=d(function(){fo=y(_("react"));B();it();Xt();W();U();$e();vG();SG();TG();EG();BG();var _P4=P;hut=_P4.Draggable;O0=new R(0,0);PI=new R(0,0);PG=w(function(){var i=(0,fo.useRef)();var _D11=D(),t=_D11.active,e=_D11.config,r=_D11.snapping,o=_D11.sprite;var n=function n(_ref263){var b=_ref263.clientX,T=_ref263.clientY;var k=PI.subtract(O0.subtract(new R(b,T)));var _r$snapToPosition=r.snapToPosition({x:k.x,y:k.y},o.currentRect),E=_r$snapToPosition.x,A=_r$snapToPosition.y;o.setPosition({x:E,y:A});};var s=function s(b){var T=b.clientX,k=b.clientY;O0=new R(T,k);PI=new R(o.position);o.setDragMode(true);r.updateGuides();};var a=function a(b){var T=b.clientX,k=b.clientY;var _O2=O0,E=_O2.x,A=_O2.y;O0=new R(0,0);PI=new R(0,0);o.setDragMode(false);if(E!==T&&A!==k){o.spriteSnapshot("position");}r.hidePositionGuides();};var l=function l(b){b.preventDefault();b.stopPropagation();o.setEditMode(true);};var c=function c(){var b=t.tool;var T=o.tool;return o.isSpriteSelected&&b===T;};if(!c()){return null;}var u=o.isSpriteText;var m=o.isSpriteTextDesign&&o.textDesignToolStore.isInverted;var _o$size=o.size,p=_o$size.height,h=_o$size.width;var g=o.spritePosition;var x=o.rotationWRTOutputRotation;var v=e.measurements.canvasControls.sprite.controlPadding;return fo["default"].createElement(mt.Controls.Container,null,fo["default"].createElement(hut,{nodeRef:i,onStart:s,onDrag:n,onStop:a,rotation:x,position:g},fo["default"].createElement(mt.Controls.Sprite,{ref:i,"data-test":N.Sprite,onDoubleClick:l,height:p,width:h},u&&fo["default"].createElement(AG,null)||null,m&&fo["default"].createElement(wG,null)||null,fo["default"].createElement(CG,null),fo["default"].createElement(mt.Controls.RotateHandle,{x:h/2+v/2},fo["default"].createElement(DG,null)))),fo["default"].createElement(mf,null));});});var We,ia,A0,fut,hf,Tl,gut,but,yut,_ut,xut,LG;var zG=d(function(){We=y(_("react"));B();ia=y(_("styled-components"));it();U();Yk();$e();b1();A0=mt.Crop.GridLine;fut=mt.Crop.Mask;var _P5=P;hf=_P5.Draggable;Tl=3;gut=(0,ia["default"])(ec)(_templateObject228||(_templateObject228=_taggedTemplateLiteral(["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"])),Tl,Tl);but=(0,ia["default"])(ec)(function(i){var t=i.theme.measurements.canvasControls.corner.touchable.desktop;var e=t/4-i.borderWidth;return ia.css(_templateObject229||(_templateObject229=_taggedTemplateLiteral(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "])),e-t,Tl);});yut=(0,ia["default"])(ec)(function(i){var t=i.theme.measurements.canvasControls.corner.touchable.desktop;var e=t/4-i.borderWidth;return ia.css(_templateObject230||(_templateObject230=_taggedTemplateLiteral(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "])),e-t,e-t);});_ut=(0,ia["default"])(ec)(function(i){var t=i.theme.measurements.canvasControls.corner.touchable.desktop;var e=t/4-i.borderWidth;return ia.css(_templateObject231||(_templateObject231=_taggedTemplateLiteral(["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "])),e-t,Tl);});xut=function xut(_ref264){var i=_ref264.transformTool;var t=(0,We.useRef)(null);var e=(0,We.useRef)(null);var r=(0,We.useRef)(null);var o=(0,We.useRef)(null);var n=(0,We.useRef)(null);var s=i.leftTopRespectFlip,a=i.leftBottomRespectFlip,l=i.rightTopRespectFlip,c=i.rightBottomRespectFlip;var _i$cropMaskSize=i.cropMaskSize,u=_i$cropMaskSize.height,m=_i$cropMaskSize.width;var p=i.maxCropMaskSize,h=i.defaultCropMaskPosition;var g=i.isFlippedHorizontal,x=i.isFlippedVertical;var v=p.width/2;var b=p.height/2;var T=_objectSpread(_objectSpread({},p),{},{left:h.x,top:h.y});var k={height:u,width:m};var E=i.isDragMode?{transition:"unset"}:{};var A=function A(ie){return g?v*2-ie:ie;};var I=function I(ie){return x?b*2-ie:ie;};var F=function F(ie,Rt,Ot){var Bu=A(ie);var ag=I(Rt);switch(ze.getFlippedEdgeIndex(Ot,g,x)){case 0:i.onLeftTop({x:Bu,y:ag});break;case 1:i.onLeftBottom({x:Bu,y:ag});break;case 2:i.onRightTop({x:Bu,y:ag});break;case 3:i.onRightBottom({x:Bu,y:ag});break;default:break;}};var Z=function Z(ie,Rt,Ot){i.setDragMode(true);i.clickableCanvas(false);F(ie,Rt,Ot);};var et=function et(ie,Rt,Ot){F(ie,Rt,Ot);};var pt=function pt(ie,Rt,Ot){i.setDragMode(false);F(ie,Rt,Ot);i.clickableCanvas(true);i.trackChanges();};var yt=function yt(ie,_ref265){var Rt=_ref265.x,Ot=_ref265.y;Z(Rt,Ot,0);};var bt=function bt(ie,_ref266){var Rt=_ref266.x,Ot=_ref266.y;et(Rt,Ot,0);};var ht=function ht(ie,_ref267){var Rt=_ref267.x,Ot=_ref267.y;pt(Rt,Ot,0);};var Qt=function Qt(ie,_ref268){var Rt=_ref268.x,Ot=_ref268.y;Z(Rt,Ot,1);};var gi=function gi(ie,_ref269){var Rt=_ref269.x,Ot=_ref269.y;et(Rt,Ot,1);};var ii=function ii(ie,_ref270){var Rt=_ref270.x,Ot=_ref270.y;pt(Rt,Ot,1);};var Xr=function Xr(ie,_ref271){var Rt=_ref271.x,Ot=_ref271.y;Z(Rt,Ot,2);};var St=function St(ie,_ref272){var Rt=_ref272.x,Ot=_ref272.y;et(Rt,Ot,2);};var fe=function fe(ie,_ref273){var Rt=_ref273.x,Ot=_ref273.y;pt(Rt,Ot,2);};var se=function se(ie,_ref274){var Rt=_ref274.x,Ot=_ref274.y;Z(Rt,Ot,3);};var ee=function ee(ie,_ref275){var Rt=_ref275.x,Ot=_ref275.y;et(Rt,Ot,3);};var Et=function Et(ie,_ref276){var Rt=_ref276.x,Ot=_ref276.y;pt(Rt,Ot,3);};var ae=function ae(ie,Rt){var Ot=A(ie+m/2)-m/2;var Bu=I(Rt+u/2)-u/2;i.changePosition({x:Ot,y:Bu});};var ui=function ui(ie,_ref277){var Rt=_ref277.x,Ot=_ref277.y;i.setDragMode(true);i.clickableCanvas(false);ae(Rt,Ot);};var Qo=function Qo(ie,_ref278){var Rt=_ref278.x,Ot=_ref278.y;ae(Rt,Ot);};var tn=function tn(ie,_ref279){var Rt=_ref279.x,Ot=_ref279.y;i.setDragMode(false);ae(Rt,Ot);i.clickableCanvas(true);i.trackChanges();};return We["default"].createElement("div",{style:_objectSpread(_objectSpread({},T),{},{position:"absolute"})},We["default"].createElement(hf,{nodeRef:n,bounds:"parent",position:s,onStart:ui,onDrag:Qo,onStop:tn},We["default"].createElement(fut,{ref:n,style:_objectSpread(_objectSpread({},k),E)})),We["default"].createElement(A0,{style:_objectSpread({left:s.x+m/3,top:s.y,height:u,width:1},E)}),We["default"].createElement(A0,{style:_objectSpread({left:s.x+m/3*2,top:s.y,height:u,width:1},E)}),We["default"].createElement(A0,{style:_objectSpread({left:s.x,top:s.y+u/3,height:1,width:m},E)}),We["default"].createElement(A0,{style:_objectSpread({left:s.x,top:s.y+u/3*2,height:1,width:m},E)}),We["default"].createElement(hf,{nodeRef:t,bounds:"parent",position:_objectSpread({},s),onStart:yt,onDrag:bt,onStop:ht},We["default"].createElement(gut,{ref:t,"data-test":N.CropTopLeft,vertical:"top",horizontal:"left",borderWidth:Tl,style:E})),We["default"].createElement(hf,{nodeRef:r,bounds:"parent",position:a,onStart:Qt,onDrag:gi,onStop:ii},We["default"].createElement(_ut,{ref:r,"data-test":N.CropBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:Tl,style:E})),We["default"].createElement(hf,{nodeRef:e,bounds:"parent",position:l,onStart:Xr,onDrag:St,onStop:fe},We["default"].createElement(but,{ref:e,"data-test":N.CropTopRight,vertical:"top",horizontal:"right",borderWidth:Tl,style:E})),We["default"].createElement(hf,{nodeRef:o,bounds:"parent",position:c,onStart:se,onDrag:ee,onStop:Et},We["default"].createElement(yut,{ref:o,"data-test":N.CropBottomRight,vertical:"bottom",horizontal:"right",borderWidth:Tl,style:E})));};LG=rt("transformTool")(w(xut));});var qo,kl,UG,vut,Cut,Sut,NG,HG;var WG=d(function(){qo=y(_("react"));B();kl=y(_("styled-components"));it();we();U();UG=kl["default"].div(_templateObject232||(_templateObject232=_taggedTemplateLiteral(["\n  overflow: hidden;\n  display: none;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n  ","\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.isVisible&&kl.css(_templateObject233||(_templateObject233=_taggedTemplateLiteral(["\n      display: inline-block;\n    "])));},function(i){return i.theme.foreground;});vut=kl["default"].div(_templateObject234||(_templateObject234=_taggedTemplateLiteral(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"])));Cut=kl["default"].div(_templateObject235||(_templateObject235=_taggedTemplateLiteral(["\n  font-size: 15px;\n  display: none;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n  ","\n"])),function(i){return i.theme.foreground;},function(i){return i.isVisible&&kl.css(_templateObject236||(_templateObject236=_taggedTemplateLiteral(["\n      display: inline-block;\n    "])));});Sut=kl["default"].div(_templateObject237||(_templateObject237=_taggedTemplateLiteral(["\n  transform: translate(0, 0) !important;\n"])));NG=/*#__PURE__*/function(_qo$default$Component){_inherits(NG,_qo$default$Component);var _super244=_createSuper(NG);function NG(t){var _this386;_classCallCheck(this,NG);_this386=_super244.call(this,t);_this386.SLIDER_WIDTH=213;_this386.MAX_ROTATION=45;_this386.DEGREES_PER_PIXEL=_this386.MAX_ROTATION*2/_this386.SLIDER_WIDTH;_this386.drag=function(t,_ref280){var e=_ref280.x;var _this386$transformToo=_this386.transformTool.rotateFlipState,r=_this386$transformToo.flipHorizontally,o=_this386$transformToo.flipVertically;if(r!==o){e*=-1;}var n=_this386.transformTool.defaultAngle-e*_this386.DEGREES_PER_PIXEL;var s=Math.min(_this386.MAX_ROTATION,Math.max(n,_this386.MAX_ROTATION*-1));_this386.transformTool.setRotation(parseInt("".concat(s),10));};_this386.stop=function(){_this386.transformTool.setDefaultAngle(_this386.transformTool.rotationInDegrees);_this386.transformTool.trackChanges();};_this386.rotateRef=qo["default"].createRef();return _this386;}_createClass(NG,[{key:"transformTool",get:function get(){return this.props.transformTool;}},{key:"render",value:function render(){var _this$props17=this.props,t=_this$props17.config,e=_this$props17.canvasWidth,r=_this$props17.transformTool,o=_this$props17.className;var _this$transformTool$r=this.transformTool.rotateFlipState,n=_this$transformTool$r.flipHorizontally,s=_this$transformTool$r.flipVertically;var a=!t.isLayoutAdvanced||t.isLayoutAdvanced&&e>t.measurements.canvas.transform.minSliderWidth;var l=!t.isLayoutAdvanced||t.isLayoutAdvanced&&e>t.measurements.canvas.transform.minValueWidth;var c=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle;var u=n===s?c*-1:c;var m=n!==s?r.rotationInDegrees*-1:r.rotationInDegrees;return qo["default"].createElement(vut,{"data-test":N.RotateSlider,className:o},qo["default"].createElement(P.Draggable,{nodeRef:this.rotateRef,axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:true,disabled:!a},qo["default"].createElement(Sut,{ref:this.rotateRef},qo["default"].createElement(UG,{isVisible:a},qo["default"].createElement(Vt.dots,{width:90,height:15,x:u})),qo["default"].createElement(Cut,{isVisible:l},m,"\xB0"),qo["default"].createElement(UG,{isVisible:a},qo["default"].createElement(Vt.dots,{width:90,height:15,x:u})))));}}]);return NG;}(qo["default"].Component);HG=rt("transformTool","config")(w(NG));});var go,br,GG,wut,VG,Tut,jG,kut,Iut,Dut,Eut,Fut,$G,Rut,Out,ff;var MI=d(function(){go=y(_("react"));B();br=y(_("styled-components"));Sr();we();U();WG();GG=br.css(_templateObject238||(_templateObject238=_taggedTemplateLiteral(["\n  grid-column-start: span 2;\n"])));wut=(0,br["default"])(HG)(_templateObject239||(_templateObject239=_taggedTemplateLiteral(["\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&GG;},GG);VG=br.css(_templateObject240||(_templateObject240=_taggedTemplateLiteral(["\n  grid-column-start: 1;\n  grid-row-start: 2;\n"])));Tut=br["default"].div(_templateObject241||(_templateObject241=_taggedTemplateLiteral(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&VG;},VG);jG=br.css(_templateObject242||(_templateObject242=_taggedTemplateLiteral(["\n  justify-content: flex-end;\n  grid-column-start: 2;\n  grid-row-start: 2;\n"])));kut=br["default"].div(_templateObject243||(_templateObject243=_taggedTemplateLiteral(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&jG;},jG);Iut=(0,br["default"])(Vt.rotate)(_templateObject244||(_templateObject244=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"])));Dut=(0,br["default"])(Vt.rotate)(_templateObject245||(_templateObject245=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"])));Eut=(0,br["default"])(Vt.flipHorizontal)(_templateObject246||(_templateObject246=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"])));Fut=(0,br["default"])(Vt.flipVertical)(_templateObject247||(_templateObject247=_taggedTemplateLiteral(["\n  height: 16px;\n  width: 16px;\n"])));$G=br.css(_templateObject248||(_templateObject248=_taggedTemplateLiteral(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: 0.5rem;\n"])));Rut=br["default"].div(_templateObject249||(_templateObject249=_taggedTemplateLiteral(["\n  display: inline-flex;\n  gap: 5px;\n\n  svg {\n    color: ",";\n  }\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.theme.foreground;},function(i){return i.smallContainer&&$G;},$G);Out=function Out(_ref281){var i=_ref281.transformTool,t=_ref281.config,e=_ref281.custom,r=_ref281.canvas;var _ref282=(0,go.useContext)(Re),o=_ref282.rect;var n=i.locale.transformActions;var s=r.canvasSize.width;var a=!t.isLayoutAdvanced||t.isLayoutAdvanced&&s>t.measurements.canvas.transform.minFlipWidth;var l=function l(_ref283){var x=_ref283.customButtonKey,v=_ref283.onClick,b=_ref283.label,T=_ref283.icon;var k=e.getButton(x);return go["default"].createElement(k,{key:b,onClick:v,label:b,ariaLabel:b,icon:T});};var c=l({label:n.buttonFlipHorizontal,icon:go["default"].createElement(Eut,null),onClick:function onClick(){i.flipHorizontally();},customButtonKey:"transformActionFlipHorizontal"});var u=l({label:n.buttonFlipVertical,icon:go["default"].createElement(Fut,null),onClick:function onClick(){i.flipVertically();},customButtonKey:"transformActionFlipVertical"});var m=l({label:n.buttonRotateClockwise,icon:go["default"].createElement(Iut,null),onClick:i.rotateClockwise,customButtonKey:"transformActionRotateClockwise"});var p=l({label:n.buttonRotateAntiClockwise,icon:go["default"].createElement(Dut,null),onClick:i.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"});var h=!!o&&o.width<600;var g=t.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return go["default"].createElement(Rut,{style:g,"data-test":N.FlipRotateControls,smallContainer:h},i.config.enableFlip&&a&&go["default"].createElement(Tut,{smallContainer:h},c,u),i.config.enableRotation&&go["default"].createElement(wut,{canvasWidth:s,smallContainer:h}),i.config.enableRotation&&go["default"].createElement(kut,{smallContainer:h},p,m));};ff=rt("transformTool","config","custom","canvas")(w(Out));});var ra,Aut,B0,But,KG;var XG=d(function(){ra=y(_("react"));B();$e();zG();MI();Aut=mt.Bar.Index;B0=mt.Crop.Backdrop;But=function But(_ref284){var i=_ref284.transformTool,t=_ref284.canvas,e=_ref284.config;var r=i.leftTopRespectFlip,o=i.leftBottomRespectFlip,n=i.rightTopRespectFlip;var s=i.cropMaskSize.height;var _t$canvasSize=t.canvasSize,a=_t$canvasSize.height,l=_t$canvasSize.width;var c=i.defaultCropMaskPosition;var u=i.isDragMode?{transition:"unset"}:{};return ra["default"].createElement(mt.Controls.Container,null,ra["default"].createElement(B0,{style:_objectSpread({left:0,top:0,width:l,height:r.y+c.y},u)}),ra["default"].createElement(B0,{style:_objectSpread({left:0,top:r.y+c.y,width:c.x+r.x,height:s},u)}),ra["default"].createElement(B0,{style:_objectSpread({left:n.x+c.x,top:n.y+c.y,width:l-n.x-c.x,height:s},u)}),ra["default"].createElement(B0,{style:_objectSpread({left:0,top:o.y+c.y,width:l,height:a-o.y-c.y+e.measurements.basicUIToolControlBar.controlsBarHeight},u)}),ra["default"].createElement(LG,null),e.isLayoutAdvanced?ra["default"].createElement(Aut,{bottom:true},ra["default"].createElement(ff,null)):null);};KG=rt("transformTool","canvas","config")(w(But));});var P0,M0,Put,qG,YG;var JG=d(function(){P0=y(_("react"));B();M0=y(_("styled-components"));$e();Put=(0,M0["default"])(mt.Controls.Container)(_templateObject250||(_templateObject250=_taggedTemplateLiteral(["\n  ","\n  z-index: ",";\n"])),function(i){return i.activeCursor?M0.css(_templateObject251||(_templateObject251=_taggedTemplateLiteral(["\n          cursor: move;\n        "]))):"";},function(i){return i.theme.measurements.zIndex.canvas.crop.dragImage;});qG=/*#__PURE__*/function(_P0$default$Component){_inherits(qG,_P0$default$Component);var _super245=_createSuper(qG);function qG(t){var _this387;_classCallCheck(this,qG);_this387=_super245.call(this,t);_this387.INITIAL_POSITION={x:void 0,y:void 0};_this387.state=_objectSpread(_objectSpread({},_this387.INITIAL_POSITION),{},{isDragging:false});_this387.containerRef=null;_this387.getCursorCoordinates=function(t){var e=0;var r=0;if(t.type.indexOf("touch")!==-1){var a=t;if(!a.touches.length){return _this387.INITIAL_POSITION;}e=a.touches[0].clientX;r=a.touches[0].clientY;}else{var _a7=t;e=_a7.clientX;r=_a7.clientY;}var o=_this387.containerRef.current.getBoundingClientRect();var n=e-o.left;var s=r-o.top;return{x:n,y:s};};_this387.move=function(t){if(_this387.scale.canDrag){var _this387$getCursorCoo=_this387.getCursorCoordinates(t),e=_this387$getCursorCoo.x,r=_this387$getCursorCoo.y;if(e!==void 0&&r!==void 0){if(_this387.state.isDragging){var o={x:_this387.state.x-e,y:_this387.state.y-r};_this387.scale.setOffset(o);}}}};_this387.touchDrag=function(t){if(_this387.scale.canDrag){var _this387$getCursorCoo2=_this387.getCursorCoordinates(t),e=_this387$getCursorCoo2.x,r=_this387$getCursorCoo2.y;if(e!==void 0&&r!==void 0){_this387.setState({x:e,y:r,isDragging:true});}}};_this387.drag=function(t){t.preventDefault();_this387.touchDrag(t);};_this387.stop=function(){if(_this387.scale.canDrag){_this387.scale.savePosition();_this387.setState(_objectSpread(_objectSpread({},_this387.INITIAL_POSITION),{},{isDragging:false}));}};_this387.touchEnd=function(t){t.preventDefault();t.stopPropagation();var _this387$state=_this387.state,e=_this387$state.x,r=_this387$state.y;if(e&&r){_this387.setState(_objectSpread(_objectSpread({},_this387.INITIAL_POSITION),{},{isDragging:false}));}};_this387.containerRef=P0["default"].createRef();return _this387;}_createClass(qG,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("mouseup",this.stop,false);document.addEventListener("touchend",this.stop,{passive:true});}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("mouseup",this.stop,false);document.removeEventListener("touchend",this.stop,false);}},{key:"scale",get:function get(){return this.props.scale;}},{key:"render",value:function render(){return P0["default"].createElement(Put,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag});}}]);return qG;}(P0["default"].Component);YG=rt("scale")(w(qG));});var qn,ZG;var QG=d(function(){qn=y(_("react"));B();O();W();tG();$e();cG();MG();XG();JG();ZG=w(function(_ref285){var i=_ref285.children;var t=(0,qn.useRef)(null);var _D12=D(),e=_D12.active,r=_D12.sprite,o=_D12.canvas;var n=function n(){switch(e.tool){case"focus":return qn["default"].createElement(lG,null);case"text":case"textdesign":case"sticker":return qn["default"].createElement(PG,null);case"brush":return qn["default"].createElement(QW,null);case"transform":return qn["default"].createElement(KG,null);default:return qn["default"].createElement(mt.Controls.Container,null,qn["default"].createElement(YG,null));}};var s=function s(c){c.preventDefault();c.stopPropagation();if(o==null?void 0:o.isCanvasClickable){var u=c.clientX;var m=c.clientY;if(c.type.indexOf("touch")!==-1){var x=c;if(!x.touches.length){return;}u=x.touches[0].clientX;m=x.touches[0].clientY;}var p=t.current.getBoundingClientRect();var h=u-p.left;var g=m-p.top;o.getContainersAtPreviewPoint({x:h,y:g});}};var a=function a(c){if(c.code==="Tab"){r.selectLast();}};var l=o.canvasSize;return qn["default"].createElement(mt.Controls.Wrapper,{"aria-hidden":true,ref:t,onClick:s,onKeyDown:a,height:l.height,width:l.width},i,n());});});var tV,eV,Mut,Lut,LI;var iV=d(function(){tV=y(_("react"));eV=y(_("styled-components"));Mut=eV["default"].div(_templateObject252||(_templateObject252=_taggedTemplateLiteral(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"])),function(_ref286){var i=_ref286.isVisible;return i?"block":"none";},function(i){return i.theme.measurements.zIndex.canvas.snappingGuide;});Lut=function Lut(_ref287){var i=_ref287.isVisible,t=_ref287.className;return tV["default"].createElement(Mut,{isVisible:i,className:t});};LI=Lut;});var L0,_u,zut,Uut,Nut,Hut,rV;var oV=d(function(){L0=y(_("react"));B();_u=y(_("styled-components"));U();iV();zut=(0,_u["default"])(LI)(_templateObject253||(_templateObject253=_taggedTemplateLiteral(["\n  background: ",";\n  ","\n"])),function(i){return i.theme.snapping.positionGuideColor;},function(i){if(i.direction==="horizontal"){return _u.css(_templateObject254||(_templateObject254=_taggedTemplateLiteral(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),function(){return i.position;});}return _u.css(_templateObject255||(_templateObject255=_taggedTemplateLiteral(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),function(){return i.position;});});Uut=(0,_u["default"])(LI)(_templateObject256||(_templateObject256=_taggedTemplateLiteral(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),function(i){return i.theme.snapping.rotationGuideColor;},function(_ref288){var i=_ref288.position;return i.x;},function(_ref289){var i=_ref289.position;return i.y;},function(_ref290){var i=_ref290.rotation;return i;});Nut=_u["default"].div(_templateObject257||(_templateObject257=_taggedTemplateLiteral(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"])),function(_ref291){var i=_ref291.width;return i;},function(_ref292){var i=_ref292.height;return i;},function(_ref293){var i=_ref293.top;return i;},function(_ref294){var i=_ref294.left;return i;});Hut=function Hut(_ref295){var i=_ref295.snapping,t=_ref295.editor;var _t$getPreviewSize=t.getPreviewSize(),e=_t$getPreviewSize.width,r=_t$getPreviewSize.height;var _i$previewTopLeftPosi=i.previewTopLeftPosition,o=_i$previewTopLeftPosi.x,n=_i$previewTopLeftPosi.y;var s=i.positionGuides.map(function(_ref296,m){var l=_ref296.direction,c=_ref296.value,u=_ref296.isVisible;return L0["default"].createElement(zut,{key:"positionGuide-".concat(m),direction:l,position:c,isVisible:u});});var a=i.rotationGuides.find(function(_ref297){var l=_ref297.isVisible;return l;});return L0["default"].createElement(Nut,{"data-test":N.SnappingLine,width:e,height:r,left:o,top:n},s,L0["default"].createElement(Uut,{key:"rotationGuide",rotation:a?a.value:0,position:a?a.position:{x:0,y:0},isVisible:!!a}));};rV=rt("snapping","editor")(w(Hut));});var nV,sV,Wut,aV;var lV=d(function(){nV=y(_("react"));sV=y(_("styled-components"));U();Wut=sV["default"].img(_templateObject258||(_templateObject258=_taggedTemplateLiteral(["\n  z-index: 5;\n  position: absolute;\n  width: 100px;\n  bottom: 30px;\n  right: 30px;\n"])));aV=function aV(){return nV["default"].createElement(Wut,{alt:"watermark","data-test":N.Watermark,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAACMCAYAAAAzxN3aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABMZSURBVHgB7d1tbFTXmQfw4xTXJsZk4hc8LAYPNWDTxOvZJMITNSkInGaTdOUmRWsTdUsrJYvafsh+yDcUqft9VSkftlLYqMRqpJAVQbJ2SeRiU5NCPKAEm1rBr5BxYpKxwNjGJrZxovb+SaYi1Daee8+59zkz/59k0aoUv83c/32e89xzcl7av//XioiIKEA5OTnqLkVERCQAA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCTCCkWUhUYuXQoNJxJl45OToSuXL6+dn5/Pu379euiL+fn8mbm50EL/nxUrVszmfutbsytyc2dznY+CgoLJVYWF42vLypIlJSUTVVVVo4qIXGMgUVa4du1a/rsnT9YifJyPisVCZylffPFFPj7U3NzN/351fPzmn729vTf/RGCtLixMVkQifZsrKxMMKKL0WBFI//3b3+6d+fzztC8gi6n+7nfjP3zyydPL/ftnz56NHD9+vEEZdk8olHz+uefeVD5qa2ur7e7u3qEMa9qzp7l83boJ5aNUCDmVULUTHhFlGMIKnwcfXV1dauXKlROlxcWJWCwWz9ZwMvHe0fVa+v+3367rO38+pkzIyVEbv/Od7h8//fQJpZH296vzdZaWlib2/vSnLUoAKwLpuhNGcy7uaBczOzubr9I0o/HzL/o5RkdDuIiuXr16Vvnkk0uXIn58b35CO+7dP/2pbnh4OHqzognIzMxM6OORkejHhw9HC1etSt5fUxOv37nznMoyUl9f33/kkXM9PT07TL1GBgYGYs77+bTO93P/wEBU98/zusabfa841CAM7uiVj5LJZLXKEAiig83NDQdfe+2FCxcuxIIMo9tNTU+HOzs7f/Rfv/nNC23Hj/v6O6aFISgeevDBVmUIXn/H2tvrlCYjIyMhPyr9IDGQhEF7SfnkVGdnlaSLtluoKo8cObL996+/vs9500aVYKiaUsHU398fVhSox+rru1fm5RlrJX9dJWl5jznhtl1lOAaSMNempsK6XsB34rxZrK+OcFE/cODAvg97e3fYFK4Ipv89fHjfG4cOPe7X75sWVhuNal3nuRVek2fef79KeYTqyNTN1pYtW8S0kRlIwuh6AS+H7e26o0ePxnBRt3kNbMhpLR549dV9aDcqCoTxKqmvz3OQ9PX1VSgDMHjjrGt2KyEYSAL1a3gB3wmmn2xu16GyONvd/bjKAKiW0G48deqULzci9Pd27txpbMpszFn3wftNedBlaBJ248aNYsIIGEgC+dG2O9fTY+XCOn4ueAwAlYXKILg5ON7R0dTe3i56DSxTPfDAA4mie+9NKEPi8bjr9R+Mes8a6AKgOqrbtk3U1CcDSSA/2nZjly9HlGUQRr87eHBvJk8avRePNzCUgvFwLGZsLQlVktshFox6KwNQHfn9bOCdMJCEunjxorH1HbQPbFx3cdpajRifVhkOoeS1xUPpM10lfdDVlXZXwtSot8TqCBhIQo2NjUVMte1sbNdhzSjTn8G4VeuxY40cdPCfySoJD2qn+542NeotsToCBpJQaNsNDQ0ZqQZsa9e9deTIjkxbM7oT/P5bWlqMb1dF32SySkr3QVlTo95SqyNgIAnWY6CSsa1dhyrhfG9vxj8QuBBUhNzVwX8mq6R0HpQ1NeottToCBpJgnyaT1brbdja16/C9H3rjjb0qi2EjTT446y/TVdJyB5ZMjHpLro6Ax08Ilmrb4Q2iNLGpXXesrS3mZzWH4yNKSkqGCwoKxgsLCydX5uXNpP63iWvXQjdu3MgfHx8PX716NaJ8gmeUsL9hOrvTk3eoko6+805EGYAHZe+0ye7J996rMjHqLbk6AgaScGjb6QokjJ3a0q7zq1WHEKqoqOiu3rKlf7k/Z1Qsp8+cqT7X3b3dj5/n1/sbMpB8hNdCZzyeMDFIk3pQdqnXm/Pa0r5mKr06ArbshPtU4/Y+bsZOg+JUR8bDqLKyMv6rX/zi5WebmlrTCX3sEo3tZl588cWXY3V1LSa3nYGrGp70p/Q1NDQY271hqQdlTY16S6+OgIEkHNp2ui5Gn46MWLF3Hb5fk7t2407xqSeeaEYQeT2rBsGEA+PCa9b0K4MuJhJGFrhpcbh4l5eXG9laZ6kHZU2MettQHQEDyQJ9AwOed22wqV1ncvACb8ymxsZmnetyuHA9//zzh0w+VDmaTEYU+c654TA2cbdQxwLVkYlNj22ojoCBZAE8UKc8GhgaiigLYO3IVHWUCiNTb8x/+8lP3sSalDIA+xsq8h1eK2jtKgMWelAWo966Nz22pToCBpIFdLTtLly4YMX6EY4eV4aYDCNA+2/z5s1Ghg/wGuDODcH44ZNPnjBxo7HQg7ImRr1LS0oSNlRHwECyhJe2HS5kU5bcYZta59q6dWuHH2/KH9TXG7mbhuvT03weKQAmbzTwoGzqP5sa9d61a5extqNuHPu2xNdtu1blgnPXZcUwg6l1LrQsdj/zjC9vSly8Xtq//z8VZRTcaAwODtbpbqfh38NuHHguycSo94b1661YO0phhWQJL227j4eHrTj4refDD418nbW1tdbcIZJMJqskHMhpatTbpuoIGEgWcdO2Q7vOll2yTUySoTp6bNcuUadikp1QJZlYS8L78/BbbzUqzWyrjoCBFAC3L2o303Z9vb2unl/BhVz5zERwlhYXJxSRBiarJBPnfNlWHQEDKQBrw2FXD1G6adu5PW3S7wu5qZ0IampqrBh3JTuYqpJ0s7E6AgZSAMrXr//I7Ys6nSf23bbrCletShYUFvr6Yr702WdGpgB1PgBLZLJK0snG6ggYSAHBhp7KhUQiseyKx227bk1ZWUL5bGpq6h6lWVFRUUIRaSa9SrK1OgIGUkCwu7RyAccRLLe95bZd5/Zr82J6elr7uHdubq741grZR3qVZGt1BAykgGzatClpsm3ntl2HrymINtf8jRvaH/p0KqSkIjIAVZLpXd7dsLk6Aj4YGxDcZa0uLEy6CY2v23ZL3gW5bdcVBzSVdv3zz7VXSKFQSOsb88CrrzZem5gQt+MFjsFQ5Cu8f2uj0RPx06cblCA2V0fAQArQhoqKfjeBhLYdKqCl7oQufnWoW9o2btzoe7sOvvzyS/Hb4qCKs2XHdDIPR4/4dUjjctheHQFbdgHa/uijrh/YdO7MFt0sFTsIj46OugqkrdXVCRUA3VuyEPkBVZISwvbqCBhIAULZ7/YMnaV2NThz5oyrLXgw7m37HRaRn1AlmTwHa7kyoToCBlLAysLhYeUCWn2LHUfgtl0XxLg3ke0ejsUCr0wyoToCBlLAYnV12tt2Y2NjEeVCEOPeRLbDVGqQVVKmVEfAQAoYXkh5LsdHF2rbnersrHKzHhPUuHdKnoER2omJCQ4gkC+CrJIypToCBpIA5eXlfcoFtO1uPwJ5YGDAVbuuOAM3Ib0+NcVAIl8EVSVlUnUEDCQBvLTK3j158httu2QyadW4d0rB3Xdrf1Nddtm6JHIjFkCVlEnVETCQBMDdlesjKW4ZYMCWQm7Hp4Ma9065u6BAeyDhea3bK0giUx70uUrKtOoIGEhChMNhz227cz09tW7+DQnj3iUlJaPKgD/39EQUkU/8rJIyrToCBpIQtR7O7Um17cYuX44oFySMexcVFY0rA3p7e12FNJEbflVJmVgdAQNJCC+braJth3ad2y1MJIx7V2zYYKRCuuKsI7FtR37yo0rKxOoIGEhCpDZbVS6gbfdBV1edcgFHlUs4xM7L+PtSsKb2h7Y2Vz+b22GdCz+v5XyYOC8H/+ZCn0uRKKiSwmvWGLvJy9TqCLi5qiBuN1sFt9N1pYLGvUtLSxMjIyOuznBayuDgYMypkk4j9JUHP9+7t2W5f/dgc3OD7u/loYcean1s1y7XD1KTfyYmJ8uUIZlaHQErJEG8bLbq1j+Ul7vausiE9evWJZQBqJKOvv32duUTbOlkIlg3lJfzfCcLtLW11c4a2gE8k6sjYCAJ4mWzVbeCHve+1bZt2/pNHQ09dOFCrL29XXtILORYW5v28ENrrqqqykggYY0NIcq1Nj26urt3KEMyuToCtuyEwWarbtt26SoqKkpIutvycmjhcpx5//3Hy50qw9SFHU6dOlVlojrS3VrF13m+tzeKoY9bn13DDQF+B1XV1d31O3e6nvzMVqyOvGEgCYPNVnt7e31pL1VUVLh69skk7Al29J13IsoAXHj/7+jRxoJVq5pNvLFRZXR2dv6zMqDGw2MBt0IQ4WtcbCITPyPcEDh/J9Lt3OlHo9EOBtPysTryhi07YUxNmy1kc2WlmPWjFEz8rTT4/WP3ht+//vq+tuPHtT6fdLarqwL/ronTQ3VNQr5x6NDjxzs6mpb7NeJn5QTTj/4HR7eznXdHrI68Y4UkEDZbveCseSiDTK5JeIVTOOOnTzcoQ1AF4EJ76ZNPIrvq6094eaPjQo2BiSGDv6/a2lrPd8YII7dfY3J0tPp3Bw+G/uOFF15RArS0tGh5bfzql79sVhqxOvKOgSQQHlQ1HUiSxr1vh1M4z3V3b58xdLeZ8rGz1nPwtdeiG8rLu9ESS6cKQUWU+OijSP/gYMzk8eu4cfA6ePLWkSM7vAbm1PR0GKG2p6mpVQXMrzXWdLA60oOBJBAujK3Hjs2avNBVbtok+jC+2MMPt/6xo6NR+QDBhA/8zEucoL63qCiZn58/m//tb/9t4m/2xo18pxoKXZ+eDt0+CGBSJBLxdDHCutZ5TWuSCLWzZ8/2S3iQWhpWR3owkITCZqsmprVS/rGmJqEEe+R73+s7d+5cws+7YYQM2lP4UAKgOorV1XkaKNA9gt4Zj29nIH0TqyN9ONQg1JYtW4xNwGHc2+uuBX5oaGhoMfVckg2wduT1YuR2B4/FLHQoZLZjdaQPA0momvvuGzZ1MZY47r0QXIzvv//+rHpDpqA68rpNkJfzsZZy+6GQ2YzVkV4MJKG8bLZ6JxLHvRfzL089FS8vL8+q/dtwI9LU2Oh5AuzSZ5+FlQFYS1N0U//AgLG2erZVR8BAEgybrSrNJI97L+bHTz/dikMEVZZAVajjznhubi5PGTA/N8eWneMDpwI1tcaZjdURMJAEM7HZquRx78WgWty9e/ebK316YDhIW7du7UBVqEi8eDxubEeVbKyOgIEkmInNVqWPey8Gd4tNe/Y0Z3IoVVZWxnc/84y2C1FeXt6cMiA3Ly9rB01SWB2ZwUASDputKo2kj3svJZNDCetkz2p+6HTd2rVG2pylpaVGTve1CasjMxhIwtXcd5+2iThbxr2XkgqlTFpTQpsuncP/lmvTpk1JE5Oako4sCQKrI3MYSMJhAEHXZqu2jHvfCd6w2FcNLS5luWg02qqzTXcr3Hw4v3Ot65DSjiwJwp97eoyNvWdzdQQMJAtgs1WlgU3j3suBFlesrq7FxhYeph3/dffuV0wPMHz/0UdP66yS6nfuDHwvuyCNjIyETO2gUlxcnPVhz0CyADZbVR7ZOO69HNiIFS08m55Vclp0J/79uede8eP3ofPhYlSkmfgaSsex9nZja0exbduyujoCBpIFsHeY17tcG8e9lwsXXazBPPXEE6IHHtDu+vnPfvay06Lr8HMtT8fDxVize1bATt9BMl0dcY9Abq5qDa+brdo67p0OvKGdj5ePtbVFBwYHa69evRpRArg53kI3BPbhI0cm3ZxGjDDDw8kqy7E6Ms+KQCooKJi46y59xVy6z2c4n38WLS+lSb6L50M2O4EyNjYWUS6lO+6Nn5HO79lPaOPhA0cvYLfrscuXI6bPVrodqqGysrLhH9TXx6VMNqIyc34eE8s9awpVOdp9Xta5dL93gjI5OZmP95+J7+We1auTrI6+kvPS/v2/VkQZDhuN9g0MVI2Pj4dNVE64eK8Nh/uLS0qS/xSN9klfnEYVmRgerr5y5UrFrRuw4vtwAjS5YcOGfuwUYvtjAmSPnJwcBhJlHxyfMDQ0FMbmo1NTU/cgpObn5/NxYZ6ZmVmwcsCFOjc3dxZ/Onf9k7nOnwife0OhiUgkkrR5Ogo/j2tTU/mrCwtnGUAUFAQS15Ao6+Cie3O9SamEoq92lmcQkQCcsiMiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEiEFYqIKAvl5OQoEuUvfwUYvyPZHkPjVwAAAABJRU5ErkJggg=="});};});var $r,cV,Dm;var uV=d(function(){$r=y(_("react"));$g();cV=y(Ku());B();W();U();$e();QG();oV();lV();Dm=w(function i(){var t=(0,$r.useRef)(null);var _D13=D(),e=_D13.canvas,r=_D13.config;var o=function o(){var a=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t==null?void 0:t.current){var _t$current=t.current,l=_t$current.clientWidth,c=_t$current.clientHeight;var u=Eo();t.current.width=l*u;t.current.height=c*u;e.saveDimensions({width:l,height:c,render:a});}};var n=new Nl((0,cV["default"])(function(){return o();},100,{trailing:true}));(0,$r.useEffect)(function(){var a=t.current;e.setCanvasElement(a);return function(){n.disconnect();};},[]);(0,$r.useLayoutEffect)(function(){o(false);n.observe(t.current);});var s=r.licenseChecker;return $r["default"].createElement($r["default"].Fragment,null,s&&s.isWhiteLabel()?null:$r["default"].createElement(aV,null),$r["default"].createElement(mt.Element,{ref:t,"aria-label":"Canvas","data-test":N.Canvas}),$r["default"].createElement(ZG,null,$r["default"].createElement(rV,null)));});});var zI,z0;var dV=d(function(){zI=y(_("react"));z0=function z0(_ref298){var i=_ref298.children;return zI["default"].createElement(zI["default"].Fragment,null,i);};});var UI=d(function(){dV();});var Em;var mV=d(function(){it();Xt();$e();UI();Em=function Em(){var _this388=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Em);this.getAdvancedCategoryCard=function(){return _this388.components.advancedUICategoryCard;};this.getAdvancedItemCard=function(){return _this388.components.advancedUIItemCard;};this.getAdvancedToolbarItem=function(){return _this388.components.advancedUIToolbarItem;};this.getAdvancedToolbar=function(){return _this388.components.advancedUIToolbar;};this.getAdvancedToolControlBar=function(){return _this388.components.advancedUIToolControlBar;};this.getBasicToolbar=function(){return _this388.components.basicUIToolbar;};this.getBasicToolControlBar=function(){return _this388.components.basicUIToolControlBar;};this.getBasicToolItemsBar=function(){return _this388.components.basicUIToolItemsBar;};this.getDialog=function(){return _this388.components.dialog;};this.getButton=function(t){return _this388.components.buttons[t];};this.getColorItem=function(){return _this388.components.colorItem;};this.getCheckbox=function(){return _this388.components.checkbox;};this.getWindowContainer=function(){return _this388.components.windowContainer;};this.getSlider=function(){return _this388.components.slider;};var r={dialog:P.Dialog,colorItem:P.ColorItem,checkbox:P.Input.Checkbox,slider:P.Input.Slider,buttons:{mainCanvasActionUndo:mt.Button.TextSecondary,mainCanvasActionRedo:mt.Button.TextSecondary,mainCanvasActionExport:Up,mainCanvasActionClose:Da,canvasActionEdit:mt.Controls.SpriteActionButton,canvasActionBringToFront:mt.Controls.SpriteActionButton,canvasActionDuplicate:mt.Controls.SpriteActionButton,canvasActionDelete:mt.Controls.SpriteActionButton,canvasActionInvert:mt.Controls.SpriteActionButton,canvasActionFlip:mt.Controls.SpriteActionButton,transformActionFlipHorizontal:hs,transformActionFlipVertical:hs,transformActionRotateClockwise:hs,transformActionRotateAntiClockwise:hs,textAlignment:hs,toolControlBarPrimaryButton:zp,toolControlBarSecondaryButton:Da},windowContainer:z0};this.components=Oi([r,e,t]);};});var oa,Gut,Fm;var pV=d(function(){oa=y(_("react"));B();O();it();Xt();Gut=function Gut(_ref299){var i=_ref299.modal,t=_ref299.textTool,e=_ref299.textDesignTool,r=_ref299.custom;var o=i.type,n=i.identifier,s=i.isVisible,a=i.modalProps,l=i.positionOffset;var c=a.headerLabel,u=a.bodyLabel,m=a.confirmLabel,p=a.dismissLabel,h=a.handleClose,g=a.handleConfirm,x=a.handleDismiss;var v=r.getDialog();if(o==="info"){return oa["default"].createElement(P.InfoModal,{headerLabel:c,bodyLabel:u},oa["default"].createElement(v,{type:o,isVisible:s,identifier:n,position:l,handleClose:h,headerLabel:c,bodyLabel:u}));}if(o==="textEdit"){var _t$locale$canvasContr=t.locale.canvasControls,b=_t$locale$canvasContr.buttonSave,T=_t$locale$canvasContr.buttonClose;var k={type:o,isVisible:i.isVisible,confirmLabel:b,dismissLabel:T,headerLabel:t.locale.canvasControls.inputText};if(t.isTextSelected){return oa["default"].createElement(P.TextEditModal,_objectSpread(_objectSpread({},k),{},{defaultText:gt.defaultText(),handleConfirm:t.changeText,handleDismiss:t.setEditMode,text:t.text,maxLength:t.config.maxCharacterLimit,allowEmojis:t.config.allowEmojis}),oa["default"].createElement(v,{type:o,isVisible:s,identifier:n,position:l,handleClose:h,confirmLabel:b,dismissLabel:T,headerLabel:t.locale.canvasControls.inputText}));}if(e.isTextDesignSelected){return oa["default"].createElement(P.TextEditModal,_objectSpread(_objectSpread({},k),{},{defaultText:Mt.defaultText(),handleConfirm:e.changeText,handleDismiss:e.setEditMode,text:e.text,maxLength:e.config.maxCharacterLimit,allowEmojis:e.config.allowEmojis}),oa["default"].createElement(v,{type:o,isVisible:s,identifier:n,position:l,handleClose:h,confirmLabel:b,dismissLabel:T,headerLabel:t.locale.canvasControls.inputText}));}}return oa["default"].createElement(P.ActionModal,{type:o,headerLabel:c,bodyLabel:u,confirmLabel:m,dismissLabel:p,handleClose:h,handleConfirm:g,handleDismiss:x},oa["default"].createElement(v,{type:o,isVisible:s,identifier:n,position:l,confirmLabel:m,dismissLabel:p,headerLabel:c,bodyLabel:u,handleClose:h}));};Fm=rt("textTool","textDesignTool","modal","custom")(w(Gut));});var U0,hV,Vut,fV,NI;var gV=d(function(){U0=y(_("react"));hV=y(_("styled-components"));it();U();Vut=(0,hV["default"])(P.Input.Label)(_templateObject259||(_templateObject259=_taggedTemplateLiteral(["\n  padding: 0;\n  padding-left: 4px;\n"])));fV=/*#__PURE__*/function(_U0$default$Component){_inherits(fV,_U0$default$Component);var _super246=_createSuper(fV);function fV(t){var _this389;_classCallCheck(this,fV);_this389=_super246.call(this,t);_this389.onChange=function(t){_this389.setState({value:t.replace(/[^\d.,-]/g,""),isSubmitted:false});};_this389.onSubmit=function(){var t=_this389.props.getCorrectValue;var _this389$state=_this389.state,e=_this389$state.isSubmitted,r=_this389$state.value;if(!e){_this389.setState({value:t(parseInt(r,10)||0).toString(),isSubmitted:true});}};_this389.state={isSubmitted:false,value:t.value.toString()};return _this389;}_createClass(fV,[{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=this.props.value;if(t.value!==e){this.setState({value:e.toString()});}}},{key:"render",value:function render(){var _this$props18=this.props,t=_this$props18.id,e=_this$props18.isDisabled,r=_this$props18.label,o=_this$props18["aria-label"];var n=this.state.value;return U0["default"].createElement(P.Input.Text,{id:t,"aria-label":o,value:n,isDisabled:e,onChange:this.onChange,onBlur:this.onSubmit,onKeyUp:sA(this.onSubmit)},U0["default"].createElement(Vut,{label:r,htmlFor:t}));}}]);return fV;}(U0["default"].Component);NI=fV;});var xu,HI,jut,$ut,Kut,Xut,qut,gf;var bV=d(function(){xu=y(_("react"));HI=y(_("styled-components"));it();gV();jut=HI["default"].div(_templateObject260||(_templateObject260=_taggedTemplateLiteral(["\n  display: grid;\n  grid-template-columns: 1fr min-content 1fr;\n  gap: 1rem;\n  align-items: center;\n  max-width: ","px;\n"])),function(i){return i.theme.measurements.inputs.cropSize.maxWidth;});$ut=HI["default"].span(_templateObject261||(_templateObject261=_taggedTemplateLiteral(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),function(i){return i.theme.measurements.fontSystem.body.size;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body["case"];},function(i){return i.theme.textInput.foreground;});Kut="photoeditorsdk-transformScaleWidth";Xut="photoeditorsdk-transformScaleHeight";qut=function qut(_ref300){var _ref300$showLabel=_ref300.showLabel,i=_ref300$showLabel===void 0?true:_ref300$showLabel,t=_ref300.label,e=_ref300.isDisabled,r=_ref300.valueHeight,o=_ref300.valueWidth,n=_ref300.labelWidth,s=_ref300.labelHeight,a=_ref300.ariaLabelWidth,l=_ref300.ariaLabelHeight,c=_ref300.onSubmitWidth,u=_ref300.onSubmitHeight;return xu["default"].createElement("div",null,xu["default"].createElement(P.Input.Label,{id:"photoeditorsdk-crop-size-label",label:t,show:i}),xu["default"].createElement(jut,{"aria-labelledby":"photoeditorsdk-crop-size-label"},xu["default"].createElement(NI,{id:Kut,value:o,getCorrectValue:c,label:n,"aria-label":a,isDisabled:e}),xu["default"].createElement($ut,null,"x"),xu["default"].createElement(NI,{id:Xut,value:r,getCorrectValue:u,label:s,"aria-label":l,isDisabled:e})));};gf=qut;});var Ge=d(function(){yy();SW();JW();f1();uV();mV();pV();MI();bV();});var $V=Gt(function(lne,jV){"use strict";var udt=false;var VV=function VV(){};if(udt){GV=function i(t,e){var r=arguments.length;e=new Array(r>1?r-1:0);for(var o=1;o<r;o++){e[o-1]=arguments[o];}var n=0;var s="Warning: "+t.replace(/%s/g,function(){return e[n++];});if(typeof console!=="undefined"){console.error(s);}try{throw new Error(s);}catch(a){}};VV=function VV(i,t,e){var r=arguments.length;e=new Array(r>2?r-2:0);for(var o=2;o<r;o++){e[o-2]=arguments[o];}if(t===void 0){throw new Error("`warning(condition, format, ...args)` requires a warning message argument");}if(!i){GV.apply(null,[t].concat(e));}};}var GV;jV.exports=VV;});var ZV=Gt(function(yne,JV){"use strict";var hdt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";JV.exports=hdt;});var ij=Gt(function(_ne,ej){"use strict";var fdt=ZV();function QV(){}function tj(){}tj.resetWarningCache=QV;ej.exports=function(){function i(r,o,n,s,a,l){if(l===fdt){return;}var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");c.name="Invariant Violation";throw c;};i.isRequired=i;function t(){return i;};var e={array:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:t,element:i,elementType:i,instanceOf:t,node:i,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:tj,resetWarningCache:QV};e.PropTypes=e;return e;};});var oj=Gt(function(Cne,rj){if(false){xne=null;vne=true;rj.exports=null(xne.isElement,vne);}else{rj.exports=ij()();}var xne;var vne;});var wi,aj,ZI,Sf;var QI=d(function(){wi=y(_("react"));$g();aj=y(Ku());B();O();it();W();U();$e();ZI=24;Sf=w(function i(){var _D14=D(),t=_D14.active,e=_D14.modal,r=_D14.editor;var o=(0,wi.useRef)(null);var n=(0,wi.useRef)(null);var _ref301=(0,wi.useState)(0),_ref302=_slicedToArray(_ref301,2),s=_ref302[0],a=_ref302[1];var _ref303=(0,wi.useState)(null),_ref304=_slicedToArray(_ref303,2),l=_ref304[0],c=_ref304[1];var _ref305=(0,wi.useState)(0),_ref306=_slicedToArray(_ref305,2),u=_ref306[0],m=_ref306[1];var _ref307=(0,wi.useState)(0),_ref308=_slicedToArray(_ref307,2),p=_ref308[0],h=_ref308[1];(0,wi.useLayoutEffect)(function(){var b=function b(){var E=r.configStore.measurements;var _n$current$getBoundin2=n.current.getBoundingClientRect(),A=_n$current$getBoundin2.height,I=_n$current$getBoundin2.width;var F=A*.95;var Z=I*.95;var et=(A-F)/2;a(et<ZI+E.buttons["float"].size?A-ZI*2-E.buttons["float"].size/2:A-et+ZI);m(F);h(Z);};var T=new Nl((0,aj["default"])(function(){return b();},100,{trailing:true}));if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({video:true}).then(function(E){o.current.srcObject=E;})["catch"](function(){e.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function handleConfirm(){t.selectWebcam(false);}});});}else{e.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function handleConfirm(){t.selectWebcam(false);}});}b();T.observe(n.current);var k=document.createElement("canvas");c(k);return function(){$t(k);T.disconnect();};},[r,e,t]);var g=function g(){var b=o.current.srcObject;var T=b.getTracks();T.forEach(function(k){k.stop();});o.current.srcObject=null;t.selectWebcam(false);};var x=function x(){if(l){l.width=o.current.videoWidth;l.height=o.current.videoHeight;l.getContext("2d").drawImage(o.current,0,0);t.newImage(l.toDataURL("image/webp"));g();}};var v=t.webcamLabel;return wi["default"].createElement(mt.Wrapper,{ref:n},wi["default"].createElement(mt.Bar.Index,{transparentBackgound:true,style:{justifyContent:"flex-end"}},wi["default"].createElement(mt.Bar.ButtonGroup,null,wi["default"].createElement(Da,{ariaLabel:v,onClick:g},v))),wi["default"].createElement(mt.Webcam,{style:{height:u,width:p},autoPlay:true,ref:o}),wi["default"].createElement(mt.Button.Float,{ariaLabel:"Click and Save",style:{top:s},onClick:x}));});});var lj,wf;var tD=d(function(){lj=y(_("react"));U();$e();wf=function wf(_ref309){var i=_ref309.children;return lj["default"].createElement(mt.Container,{"data-test":N.CanvasContainer},i);};});var K0,Yj;var Jj=d(function(){K0=_("react");Yj=function Yj(){var _ref310=(0,K0.useState)([]),_ref311=_slicedToArray(_ref310,2),i=_ref311[0],t=_ref311[1];(0,K0.useEffect)(function(){var e;if((typeof window==="undefined"?"undefined":_typeof(window))!==void 0&&((e=window.navigator)==null?void 0:e.mediaDevices)){var r=true;var o=function o(){window.navigator.mediaDevices.enumerateDevices().then(function(n){if(r){t(n.map(function(_ref312){var s=_ref312.deviceId,a=_ref312.groupId,l=_ref312.kind,c=_ref312.label;return{deviceId:s,groupId:a,kind:l,label:c};}));}})["catch"](function(){return null;});};window.navigator.mediaDevices.addEventListener("devicechange",o);o();return function(){r=false;window.navigator.mediaDevices.removeEventListener("devicechange",o);};}return null;},[]);return i;};});var Zj,X0;var Qj=d(function(){Zj=y(_("react"));B();Jj();W();U();X0=w(function(_ref313){var i=_ref313.tool,_ref313$fullWidth=_ref313.fullWidth,t=_ref313$fullWidth===void 0?false:_ref313$fullWidth,e=_ref313.icon,r=_ref313.label,o=_ref313.onClick;var _D15=D(),n=_D15.custom;var s=Yj();if(!s.some(function(_ref314){var l=_ref314.kind;return l==="videoinput";})){return null;}var a=n.getButton("toolControlBarSecondaryButton");if(!a){return null;}return Zj["default"].createElement(a,{"data-test":N.LibraryWebcamButton,tool:i,label:r,ariaLabel:r,onClick:o,fullWidth:t,icon:e});});});var t$=d(function(){Qj();});var nD=d(function(){t$();});var cK,uK;var dK=d(function(){cK=y(_("styled-components"));it();uK=(0,cK["default"])(Dr)(_templateObject262||(_templateObject262=_taggedTemplateLiteral(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),function(i){return i.theme.measurements.basicCard.large.width;},function(i){return i.theme.measurements.basicCard.large.height;},function(i){return i.theme.card.foreground;});});var mK,pK;var hK=d(function(){mK=y(_("styled-components"));it();pK=(0,mK["default"])(Dr)(_templateObject263||(_templateObject263=_taggedTemplateLiteral(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"])),function(i){return i.theme.measurements.basicCard.medium.width;},function(i){return i.theme.measurements.basicCard.medium.height;},function(i){return i.theme.card.foreground;});});var fK,gK;var bK=d(function(){fK=y(_("react"));O();dK();hK();gK=function gK(_ref315){var _ref315$type=_ref315.type,i=_ref315$type===void 0?"medium":_ref315$type,t=_objectWithoutProperties(_ref315,_excluded8);var e=i==="large";var r=pK;if(e){r=uK;}return fK["default"].createElement(r,_objectSpread({type:i},t));};});var yK,_K;var xK=d(function(){yK=y(_("styled-components"));it();U();_K=(0,yK["default"])(Ro).attrs(function(){return{"data-test":N.CardContainer};})(_templateObject264||(_templateObject264=_taggedTemplateLiteral(["\n  transition-property: width;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n  height: ","px;\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.itemsBarHeight;});});var vK,CK;var SK=d(function(){vK=y(_("styled-components"));it();CK=(0,vK["default"])(Se)(_templateObject265||(_templateObject265=_taggedTemplateLiteral(["\n  &&& {\n    min-height: 32px;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n  }\n"])),function(i){return i.theme.measurements.fontSystem.basicUICardLabel.size;},function(i){return i.theme.measurements.fontSystem.basicUICardLabel.letterSpacing;},function(i){return i.theme.measurements.fontSystem.basicUICardLabel["case"];});});var wK=d(function(){bK();xK();SK();});var TK,kK;var IK=d(function(){TK=y(_("styled-components"));kK=TK["default"].div(_templateObject266||(_templateObject266=_taggedTemplateLiteral(["\n  display: flex;\n  /* This fixes an IE11 issue where the items are behind the category */\n  flex: 1 0 auto;\n"])));});var Hf,DK,EK;var FK=d(function(){Hf=y(_("styled-components"));U();DK=Hf["default"].div.attrs(function(){return{"data-test":N.BasicToolControlBar};})(_templateObject267||(_templateObject267=_taggedTemplateLiteral(["\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n  height: auto;\n  transition: max-height 0.4s ease-in-out;\n  ","\n"])),function(i){return i.show?Hf.css(_templateObject268||(_templateObject268=_taggedTemplateLiteral(["\n          max-height: 80px;\n        "]))):Hf.css(_templateObject269||(_templateObject269=_taggedTemplateLiteral(["\n          max-height: 0px;\n        "])));});EK=DK;DK.defaultProps={show:true};});var J0,Z0,RK,Bdt,OK;var AK=d(function(){J0=y(_("react"));Z0=y(_("styled-components"));Sr();RK=Z0.css(_templateObject270||(_templateObject270=_taggedTemplateLiteral(["\n  width: 100%;\n"])));Bdt=Z0["default"].div(_templateObject271||(_templateObject271=_taggedTemplateLiteral(["\n  position: relative;\n\n  text-align: -moz-center;\n  text-align: center;\n  text-align: -webkit-center;\n  align-self: flex-end;\n\n  height: auto;\n  box-shadow: ",";\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.theme.toolControlBar.shadow;},function(i){return i.smallContainer&&RK;},RK);OK=function OK(_ref316){var i=_ref316.children,t=_objectWithoutProperties(_ref316,_excluded9);var _ref317=(0,J0.useContext)(Re),e=_ref317.rect;return J0["default"].createElement(Bdt,_objectSpread(_objectSpread({},t),{},{smallContainer:!!e&&e.width<600}),i);};});var Wf,Ou,BK,Pdt,PK,Mdt,MK;var LK=d(function(){Wf=y(_("react"));Ou=y(_("styled-components"));Sr();U();BK=Ou.css(_templateObject272||(_templateObject272=_taggedTemplateLiteral(["\n  padding: 0 1rem;\n  height: unset;\n  min-height: ","px;\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.controlsBarHeight;});Pdt=Ou["default"].div(_templateObject273||(_templateObject273=_taggedTemplateLiteral(["\n  display: flex;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0%;\n  transform: translateY(0%) scaleY(0);\n  justify-content: center;\n  padding: 0 5vw;\n  width: 100%;\n  height: ","px;\n  align-items: center;\n  transition: transform 0.4s ease-in-out;\n  z-index: ",";\n  background: ",";\n  color: ",";\n\n  ","\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.controlsBarHeight;},function(i){return i.theme.measurements.zIndex.controlsBar;},function(i){return i.theme.toolControlBar.background;},function(i){return i.theme.toolControlBar.inputLabelForeground;},function(_ref318){var i=_ref318.show;return i&&Ou.css(_templateObject274||(_templateObject274=_taggedTemplateLiteral(["\n      transform: translateY(-100%) scaleY(1);\n    "])));},function(i){return i.smallContainer&&BK;},BK);PK=Ou.css(_templateObject275||(_templateObject275=_taggedTemplateLiteral(["\n  gap: 0 0.5rem;\n"])));Mdt=Ou["default"].div(_templateObject276||(_templateObject276=_taggedTemplateLiteral(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n\n  gap: 0 10vw;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&PK;},PK);MK=function MK(_ref319){var i=_ref319.children,t=_objectWithoutProperties(_ref319,_excluded10);var _ref320=(0,Wf.useContext)(Re),e=_ref320.rect;return Wf["default"].createElement(Pdt,_objectSpread(_objectSpread({},t),{},{"data-test":N.ToolControlBarExpandableControls,smallContainer:!!e&&e.width<600}),Wf["default"].createElement(Mdt,{smallContainer:!!e&&e.width<600},i));};});var zK,UK,Ldt,zdt,ca;var NK=d(function(){zK=y(_("react"));UK=y(_("styled-components"));Ldt=UK["default"].div(_templateObject277||(_templateObject277=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));zdt=function zdt(_ref321){var i=_ref321.label,t=_ref321.className,e=_ref321.children;return zK["default"].createElement(Ldt,{"aria-label":i,className:t},e);};ca=zdt;});var Q0,tv,HK,Udt,WK;var GK=d(function(){Q0=y(_("react"));tv=y(_("styled-components"));it();Sr();HK=tv.css(_templateObject278||(_templateObject278=_taggedTemplateLiteral(["\n  min-width: unset;\n  height: unset;\n  min-height: 40px;\n"])));Udt=tv["default"].div(_templateObject279||(_templateObject279=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.2s linear;\n  animation-fill-mode: both;\n  height: 40px;\n  min-width: 350px;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),J5.scale,function(i){return i.smallContainer&&HK;},HK);WK=function WK(_ref322){var i=_ref322.children,t=_objectWithoutProperties(_ref322,_excluded11);var _ref323=(0,Q0.useContext)(Re),e=_ref323.rect;return Q0["default"].createElement(Udt,_objectSpread(_objectSpread({},t),{},{smallContainer:!!e&&e.width<600}),i);};});var hD,ev,VK,Ndt,iv;var jK=d(function(){hD=y(_("react"));ev=y(_("styled-components"));Ge();VK=ev.css(_templateObject280||(_templateObject280=_taggedTemplateLiteral(["\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n"])),function(i){return i.theme.tabTitle.activeBackground;},function(i){return i.theme.tabTitle.activeForeground;},function(i){return i.theme.tabTitle.activeBorderColor;});Ndt=(0,ev["default"])(_n)(_templateObject281||(_templateObject281=_taggedTemplateLiteral(["\n  display: inline-flex;\n  align-items: center;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  border-radius: 0px;\n  padding: 1px 12px 2px;\n  background: ",";\n\n  ","\n\n  &:active {\n    ","\n  }\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    max-width: 150px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"])),function(i){return i.theme.measurements.fontSystem.basicUITabLabel.size;},function(i){return i.theme.measurements.fontSystem.basicUITabLabel.letterSpacing;},function(i){return i.theme.measurements.fontSystem.basicUITabLabel["case"];},function(i){return i.theme.tabTitle.foreground;},function(i){return i.theme.tabTitle.background;},function(_ref324){var i=_ref324.isActive;return i&&VK;},VK);iv=/*#__PURE__*/function(_hD$default$Component){_inherits(iv,_hD$default$Component);var _super247=_createSuper(iv);function iv(){var _this390;_classCallCheck(this,iv);_this390=_super247.apply(this,arguments);_this390.onClick=function(){var _this390$props=_this390.props,t=_this390$props.label,e=_this390$props.onClick;e(t);};return _this390;}_createClass(iv,[{key:"render",value:function render(){var _this$props19=this.props,t=_this$props19.activeTab,e=_this$props19.label;return hD["default"].createElement(Ndt,{ariaLabel:e,isActive:t===e,onClick:this.onClick},e);}}]);return iv;}(hD["default"].Component);});var Ii,zm,Hdt,Wdt,$K,Gdt,Gf;var KK=d(function(){Ii=y(_("react"));zm=y(_("styled-components"));Ge();it();Sr();GK();jK();Hdt=zm["default"].div(_templateObject282||(_templateObject282=_taggedTemplateLiteral([""])));Wdt=(0,zm["default"])(Oo)(_templateObject283||(_templateObject283=_taggedTemplateLiteral(["\n  display: inline-flex;\n  padding: 0 4px;\n  height: 20px;\n  font-size: 16px;\n"])));$K=zm.css(_templateObject284||(_templateObject284=_taggedTemplateLiteral(["\n  left: 0;\n  right: 0;\n  transform: translateY(-120%);\n  background: transparent;\n  button {\n    &:first-child {\n      border-bottom-right-radius: 0;\n      border-top-right-radius: 0;\n    }\n    &:last-child {\n      border-bottom-left-radius: 0;\n      border-top-left-radius: 0;\n    }\n    &:not(:first-child):not(:last-child) {\n      border-radius: 0;\n    }\n  }\n"])));Gdt=(0,zm["default"])(Wp)(_templateObject285||(_templateObject285=_taggedTemplateLiteral(["\n  display: inline-flex;\n  justify-content: center;\n  transform: translate(-100%, -100%);\n\n  ","\n  @media all and (min-width: 0) and (max-width: 499px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&$K;},$K);Gf=function Gf(_ref325){var i=_ref325.length,t=_ref325.children;var e=Ii["default"].Children.toArray(t);var r=Ii["default"].Children.count(t);var _ref326=(0,Ii.useState)((0,Ii.isValidElement)(e[0])&&e[0].props.label||""),_ref327=_slicedToArray(_ref326,2),o=_ref327[0],n=_ref327[1];var _ref328=(0,Ii.useState)(false),_ref329=_slicedToArray(_ref328,2),s=_ref329[0],a=_ref329[1];var _ref330=(0,Ii.useContext)(Re),l=_ref330.rect;var c=function c(g){n(g);a(false);};var u=function u(){a(function(g){return!g;});};var m=function m(){var g=e.slice(i,r);return Ii["default"].createElement(Gdt,{show:s,smallContainer:!!l&&l.width<500},g.map(function(x){var v=x.props.label||"";return Ii["default"].createElement(_n,{onClick:function onClick(){return c(v);},key:v,ariaLabel:"More Options"},v);}));};var p=e.slice(0,i);var h=r>i;return Ii["default"].createElement(Hdt,null,p.map(function(g){if(g){var x=g.props.label||"";return Ii["default"].createElement(iv,{activeTab:o,key:x,label:x,onClick:c});}return null;}),h&&Ii["default"].createElement(Wdt,{onClick:u,ariaLabel:"Select Next"},"..."),s&&m(),Ii["default"].Children.map(t,function(g){if(!g||g.props&&g.props.label!==o){return null;}return Ii["default"].createElement(WK,{key:g.props.label},g.props.children);}));};});var rv=d(function(){NK();KK();});var Jo,qK,YK,XK,Vdt,JK;var ZK=d(function(){Jo=y(_("react"));qK=y(Ku());YK=y(_("styled-components"));Sr();rv();XK=100;Vdt=YK["default"].div(_templateObject286||(_templateObject286=_taggedTemplateLiteral(["\n  position: relative;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.2s linear;\n"])));JK=function JK(_ref331){var i=_ref331.children;var _ref332=(0,Jo.useState)(Jo["default"].Children.count(i)),_ref333=_slicedToArray(_ref332,2),t=_ref333[0],e=_ref333[1];var _ref334=(0,Jo.useContext)(Re),r=_ref334.rect;(0,Jo.useEffect)(function(){window.addEventListener("resize",o);o();return function(){window.removeEventListener("resize",o);};},[r]);var o=(0,qK["default"])(function(){var n=(r==null?void 0:r.width)||0;var s=Jo["default"].Children.count(i);var a=n-32-64-s*XK;if(a<0){var l=Math.round(Math.abs(a/XK));e(s-l);}else{e(s);}},100);if(!t){return null;}return Jo["default"].createElement(Vdt,null,Jo["default"].createElement(Gf,{length:t},i));};});var ov,jdt,QK;var tX=d(function(){ov=y(_("styled-components"));jdt=ov["default"].div(_templateObject287||(_templateObject287=_taggedTemplateLiteral(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 1px solid ",";\n  }\n"])),function(i){return i.full?ov.css(_templateObject288||(_templateObject288=_taggedTemplateLiteral(["\n            left: -24px;\n            width: calc(100% + 48px);\n          "]))):"\n      left: 24px;\n      width: calc(100% - 48px);\n    ";},function(i){return i.theme.toolControlBar.separatorColor;});QK=jdt;});var Vf,nv,eX,$dt,iX;var rX=d(function(){Vf=y(_("react"));nv=y(_("styled-components"));Sr();W();eX=nv.css(_templateObject289||(_templateObject289=_taggedTemplateLiteral(["\n  width: 100%;\n"])));$dt=nv["default"].div(_templateObject290||(_templateObject290=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  > div {\n    position: relative;\n    width: 224px;\n\n    ","\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n    }\n  }\n"])),function(i){return i.smallContainer&&eX;},eX);iX=function iX(_ref335){var i=_ref335.children,t=_objectWithoutProperties(_ref335,_excluded12);var _D16=D(),e=_D16.custom;var _ref336=(0,Vf.useContext)(Re),r=_ref336.rect;var o=e.getSlider();if(!o){return null;}return Vf["default"].createElement($dt,{smallContainer:!!r&&r.width<600},Vf["default"].createElement(o,_objectSpread({centerSlider:true},t),i));};});var sv,Kdt,oX;var nX=d(function(){sv=y(_("styled-components"));U();Kdt=sv["default"].div.attrs(function(){return{"data-test":N.CategoryItemsContainer};})(_templateObject291||(_templateObject291=_taggedTemplateLiteral(["\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n\n  ","\n"])),function(_ref337){var i=_ref337.show;return i&&sv.css(_templateObject292||(_templateObject292=_taggedTemplateLiteral(["\n      opacity: 1;\n      visibility: visible;\n      display: flex;\n    "])));});oX=Kdt;});var jf,fD;var sX=d(function(){jf=y(_("styled-components"));U();fD=jf["default"].div.attrs(function(){return{"data-test":N.ToolControlBar};})(_templateObject293||(_templateObject293=_taggedTemplateLiteral(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  z-index: ",";\n\n  ","\n"])),function(i){return i.theme.measurements.zIndex.toolControlBar;},function(i){return i.show?jf.css(_templateObject294||(_templateObject294=_taggedTemplateLiteral(["\n          transition-timing-function: ease-in;\n          transition-duration: 0.3s;\n          transition-property: all;\n          padding: 2px 0px;\n          background: ",";\n          color: ",";\n        "])),i.theme.toolControlBar.background,i.theme.toolControlBar.inputLabelForeground):jf.css(_templateObject295||(_templateObject295=_taggedTemplateLiteral(["\n          max-height: 0px;\n        "])));});fD.defaultProps={show:true};});var aX,Xdt,lX;var cX=d(function(){aX=y(_("styled-components"));Xdt=aX["default"].div(_templateObject296||(_templateObject296=_taggedTemplateLiteral(["\n  height: ","px;\n  width: 2px;\n  margin: 0 10px;\n  display: inline-flex;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.itemsBarHeight;},function(i){return i.theme.toolControlBar.separatorColor;});lX=Xdt;});var ua,dX,uX,av,mX,lv;var gD=d(function(){ua=y(_("styled-components"));it();dX=ua["default"].span(_templateObject297||(_templateObject297=_taggedTemplateLiteral(["\n  display: flex;\n  cursor: pointer;\n  z-index: ",";\n  transition: bottom 0.3s linear;\n\n  color: ",";\n  letter-spacing: ",";\n  font-size: ","px;\n\n  ","\n\n  &:active {\n    color: ",";\n  }\n"])),function(i){return i.theme.measurements.zIndex.label;},function(i){return i.theme.toolbar.foreground;},function(i){return i.theme.measurements.fontSystem.body.letterSpacing;},function(i){return i.theme.measurements.fontSystem.body.size;},function(_ref338){var i=_ref338.isActive;return i&&ua.css(_templateObject298||(_templateObject298=_taggedTemplateLiteral(["\n      color: ",";\n    "])),function(t){return t.theme.toolbar.activeForeground;});},function(i){return i.theme.toolbar.activeForeground;});uX=ua.css(_templateObject299||(_templateObject299=_taggedTemplateLiteral(["\n  background-color: ",";\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.theme.toolbar.activeBackground;},function(i){return i.theme.toolbar.activeForeground;},function(i){return i.theme.toolbar.activeForeground;});av=(0,ua["default"])(yi)(_templateObject300||(_templateObject300=_taggedTemplateLiteral(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  border: unset;\n  box-shadow: unset;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: '","', sans-serif;\n\n  ","\n  ","\n\n  &:active {\n    ","\n  }\n\n  svg {\n    display: flex;\n    transition: visibility 0s, opacity 0.5s linear;\n    visibility: visible;\n    opacity: 1;\n  }\n"])),function(i){return i.theme.toolbar.foreground;},function(i){return i.theme.toolbar.background;},function(i){return i.theme.measurements.fontSystem.label.size;},function(i){return i.theme.measurements.fontSystem.label.letterSpacing;},function(i){return i.theme.measurements.fontSystem.label["case"];},function(i){return i.theme.typography.fontFamily;},function(_ref339){var i=_ref339.isActive;return i&&uX;},function(_ref340){var i=_ref340.isDisabled;return i&&ua.css(_templateObject301||(_templateObject301=_taggedTemplateLiteral(["\n      &:disabled {\n        cursor: default;\n        pointer-events: none;\n        opacity: ",";\n      }\n    "])),function(t){return t.theme.button.textInactiveOpacity;});},uX);mX=ua["default"].div(_templateObject302||(_templateObject302=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    color: ",";\n  }\n"])),function(i){return i.theme.toolbar.foreground;});lv=ua["default"].div.attrs({role:"none"})(_templateObject303||(_templateObject303=_taggedTemplateLiteral(["\n  display: flex;\n  height: ","px;\n  text-align: center;\n  min-width: 100px;\n  /* Allow the text to grow in this limit */\n  max-width: 150px;\n  position: relative;\n  /* Position inline-block box at the top of the line box */\n  vertical-align: top;\n  /* Allow text to wrap again, overwriting the Toolbar style */\n  white-space: normal;\n  margin: 1px;\n"])),function(i){return i.theme.measurements.basicUIToolbar.openHeight-2;});});var bD,$f,qdt,pX;var hX=d(function(){bD=y(_("react"));$f=y(_("styled-components"));it();U();gD();qdt=$f["default"].div(_templateObject304||(_templateObject304=_taggedTemplateLiteral(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  transition: height 0.2s ease-out, display 0.1s fade-out;\n  background-color: ",";\n  color: ",";\n  z-index: ",";\n\n  ","\n"])),function(i){return i.theme.toolbar.background;},function(i){return i.theme.toolbar.foreground;},function(i){return i.theme.measurements.zIndex.toolbar;},function(i){return i.show?$f.css(_templateObject305||(_templateObject305=_taggedTemplateLiteral(["\n          height: ","px;\n          "," {\n            svg {\n              visibility: hidden;\n              opacity: 0;\n              height: 0;\n            }\n          }\n          "," {\n            height: ","px;\n          }\n        "])),i.theme.measurements.basicUIToolbar.closeHeight,av,lv,i.theme.measurements.basicUIToolbar.closeHeight):$f.css(_templateObject306||(_templateObject306=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),i.theme.measurements.basicUIToolbar.openHeight);});pX=function pX(_ref341){var _ref341$show=_ref341.show,i=_ref341$show===void 0?false:_ref341$show,t=_ref341.className,e=_ref341.style,r=_ref341.children;return bD["default"].createElement(qdt,{"data-test":N.Toolbar,show:i,className:t,style:e},bD["default"].createElement(Ro,null,r));};});var Kf,fX;var gX=d(function(){Kf=y(_("react"));U();gD();fX=function fX(_ref342){var i=_ref342.children,t=_ref342.label,e=_ref342.isActive,r=_ref342.isDisabled,o=_ref342.onClick;return Kf["default"].createElement(lv,{"aria-haspopup":true,"aria-expanded":e},Kf["default"].createElement(av,{"data-test":N.ToolbarItem,ariaLabel:t,onClick:o,isActive:e,isDisabled:r},Kf["default"].createElement(mX,null,i,Kf["default"].createElement(dX,{isActive:e},t))));};});var Xf,Ydt,bX;var yX=d(function(){Xf=y(_("styled-components"));Ydt=Xf["default"].li.attrs({role:"none"})(_templateObject307||(_templateObject307=_taggedTemplateLiteral(["\n  ","\n  width: 2px;\n  display: inline-block;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"])),function(i){return!i.active?Xf.css(_templateObject308||(_templateObject308=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),i.theme.measurements.basicUIToolbar.openHeight):Xf.css(_templateObject309||(_templateObject309=_taggedTemplateLiteral(["\n          height: ","px;\n        "])),i.theme.measurements.basicUIToolbar.closeHeight);},function(i){return i.theme.toolControlBar.separatorColor;});bX=Ydt;});var M;var qt=d(function(){it();wK();IK();FK();AK();LK();ZK();tX();rX();rv();nX();sX();cX();hX();gX();yX();M={CardContainer:_K,ExpandableContainer:oX,CategoryContainer:kK,Card:gK,CardAvatar:Yl,CardLabel:CK,Toolbar:{Index:pX,Item:fX,Separator:bX},BarSeparator:QK,ItemsSeparator:lX,Itemsbar:fD,Controlsbar:EK,ControlsbarContainer:MK,ResponsiveTabWrapper:JK,Slider:iX,TabWrapper:Gf,Tab:ca,Other:{ControlsWrapper:OK}};});var Um,_X;var xX=d(function(){Um=y(_("react"));B();O();W();we();qt();_X=w(function i(){var _D17=D(),t=_D17.config,e=_D17.active,r=_D17.custom;var o=t.tools;var n=e.tool;var s=function s(u){var m=t.state.config[u];if("icon"in m){var h=m.icon;return Um["default"].createElement(h,null);}var p=vy[u];return Um["default"].createElement(p,null)||null;};var a=function a(u){return t.locale[u].title;};var l=function l(u,m){return u&&Um["default"].createElement(M.Toolbar.Item,{onClick:function onClick(){return e.selectTool(u);},key:u,label:a(u),isActive:n===u,isDisabled:!(e.image||u==="library"||u==="customTool")},s(u))||Um["default"].createElement(M.Toolbar.Separator,{key:u+m,active:!!n});};var c=r.getBasicToolbar();if(!c){return null;}return Um["default"].createElement(c,{show:!!n},o.map(l));});});var Yn,vX,Jdt,Zdt,CX;var SX=d(function(){Yn=y(_("react"));B();vX=y(_("styled-components"));O();it();we();qt();Jdt=(0,vX["default"])(M.ControlsbarContainer)(_templateObject310||(_templateObject310=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));Zdt=function Zdt(_ref343){var i=_ref343.adjustmentsTool,t=_ref343.custom;var e=i.selectedAdjustmentType.toLowerCase();var r=i[e];var o=t.getButton("toolControlBarSecondaryButton");return Yn["default"].createElement(Jdt,{show:Boolean(e)},o&&Yn["default"].createElement("div",null,Yn["default"].createElement(o,{tool:"adjustment",ariaLabel:i.locale.controls.buttonReset,onClick:i.reset,icon:Yn["default"].createElement(Oe.reset,null),label:i.locale.controls.buttonReset})),Yn["default"].createElement(M.Other.ControlsWrapper,null,Yn["default"].createElement(P.Spacer,{count:2}),Yn["default"].createElement(M.Slider,{identifier:i.selectedAdjustmentType,tool:"adjustment","aria-hidden":!e,adjust:true,label:i.selectedOptionLabel,value:r,onChange:function onChange(n){i.editAdjustments({type:e,value:n});},onMouseUp:function onMouseUp(){return i.toolSnapshot();},onTouchEnd:function onTouchEnd(){return i.toolSnapshot();},snap:0}),Yn["default"].createElement(P.Spacer,{count:2})),Yn["default"].createElement(M.BarSeparator,null));};CX=rt("adjustmentsTool","custom")(w(Zdt));});var qf,wX;var TX=d(function(){qf=y(_("react"));B();O();Ge();it();W();wX=w(function(){var _D18=D(),i=_D18.brushTool;var t=i.colorList,e=i.locale,r=i.localeColor;var o=e.controls;var n=r.colorPicker;return qf["default"].createElement(qf["default"].Fragment,null,qf["default"].createElement(P.Input.Selection,{showLabel:false,label:o.selectColor},qf["default"].createElement(De,{tool:"brush",activeColor:i.color,colors:t,labelsColor:n,colorPickerDirection:"top",onChange:i.changeColor})));});});var kX=d(function(){TX();});var IX,DX;var EX=d(function(){IX=y(_("react"));B();O();W();U();qt();DX=w(function(){var _D19=D(),i=_D19.brushTool;var t=i.locale;var e=t.controls;return IX["default"].createElement(M.Slider,{identifier:"brush-hardness",tool:"brush","data-test":N.BrushHardness,showLabel:false,label:e.sliderHardness,value:i.hardness,min:0,max:1,onChange:i.changeHardness});});});var FX=d(function(){EX();});var RX,OX;var AX=d(function(){RX=y(_("react"));B();O();W();U();qt();OX=w(function(){var _D20=D(),i=_D20.brushTool;var t=i.locale;var e=t.controls;return RX["default"].createElement(M.Slider,{identifier:"brush-size",tool:"brush","data-test":N.BrushSize,showLabel:false,label:e.sliderSize,value:i.relativeSize,min:1,max:100,divider:1,onChange:i.changeRelativeSize});});});var BX=d(function(){AX();});var yr,PX,Qdt,yD,tmt,MX;var LX=d(function(){yr=y(_("react"));B();PX=y(_("styled-components"));O();it();W();we();qt();kX();FX();BX();Qdt=M.ResponsiveTabWrapper;var _M2=M;yD=_M2.Tab;tmt=(0,PX["default"])(M.ControlsbarContainer)(_templateObject311||(_templateObject311=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));MX=w(function(){var _D21=D(),i=_D21.brushTool,t=_D21.custom;var e=i.locale,r=i.config;var o=r.basicUIToolControlBarTabsOrder;var n=e.controls;var s=t.getButton("toolControlBarSecondaryButton");var a=function a(l){switch(l){case"brushColor":return yr["default"].createElement(yD,{key:l,label:n.tabColor},yr["default"].createElement(wX,null));case"brushSize":return yr["default"].createElement(yD,{key:l,label:n.tabSize},yr["default"].createElement(OX,null));case"brushHardness":return yr["default"].createElement(yD,{key:l,label:n.tabHardness},yr["default"].createElement(DX,null));default:return null;}};return yr["default"].createElement(tmt,{style:{justifyContent:"center"},show:true},s&&yr["default"].createElement("div",null,yr["default"].createElement(s,{tool:"brush",ariaLabel:n.buttonReset,onClick:i.reset,icon:yr["default"].createElement(Oe.reset,null),isDisabled:!i.isDirty,label:n.buttonReset})),yr["default"].createElement(M.Other.ControlsWrapper,null,yr["default"].createElement(P.Input.Form,null,yr["default"].createElement(Qdt,null,o.map(function(l){return a(l);})))));});});var Yf,zX;var UX=d(function(){Yf=y(_("react"));B();O();it();W();qt();zX=w(function(){var _D22=D(),i=_D22.filterTool;var t=i.state;var e=i.locale.controls;var r=function r(){i.toolSnapshot();};return Yf["default"].createElement(M.Other.ControlsWrapper,null,Yf["default"].createElement(P.Spacer,{count:2}),Yf["default"].createElement(M.Slider,{identifier:"filter-intensity",tool:"filter","aria-hidden":!i.isOptionSelected,label:e.sliderIntensity,value:t.intensity,min:0,max:1,onMouseUp:r,onTouchEnd:r,onChange:i.changeIntensity,snap:t.isDuotone?.5:null}),Yf["default"].createElement(P.Spacer,{count:2}));});});var NX=d(function(){UX();});var Au,HX,emt,WX;var GX=d(function(){Au=y(_("react"));B();HX=y(_("styled-components"));O();W();we();qt();NX();emt=(0,HX["default"])(M.ControlsbarContainer)(_templateObject312||(_templateObject312=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));WX=w(function(){var _D23=D(),i=_D23.filterTool,t=_D23.custom;var e=i.config;var r=e.basicUIToolControlBarTabsOrder;var o=t.getButton("toolControlBarSecondaryButton");var n=function n(s){switch(s){case"filterIntensity":return Au["default"].createElement(zX,{key:s});default:return null;}};return Au["default"].createElement(emt,{show:i.isOptionSelected},o&&Au["default"].createElement("div",null,Au["default"].createElement(o,{tool:"filter",ariaLabel:i.locale.controls.buttonReset,onClick:i.reset,icon:Au["default"].createElement(Oe.reset,null),label:i.locale.controls.buttonReset})),r.map(function(s){return n(s);}),Au["default"].createElement(M.BarSeparator,null));});});var Jn,VX,imt,jX;var $X=d(function(){Jn=y(_("react"));B();VX=y(_("styled-components"));O();it();W();we();qt();imt=(0,VX["default"])(M.ControlsbarContainer)(_templateObject313||(_templateObject313=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));jX=w(function(){var _D24=D(),i=_D24.focusTool,t=_D24.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.toolSnapshot(e.sliderIntensity);};return Jn["default"].createElement(imt,{show:i.isOptionSelected},r&&Jn["default"].createElement("div",null,Jn["default"].createElement(r,{tool:"focus",ariaLabel:e.buttonReset,onClick:i.reset,icon:Jn["default"].createElement(Oe.reset,null),label:e.buttonReset})),Jn["default"].createElement(M.Other.ControlsWrapper,null,Jn["default"].createElement(P.Spacer,{count:2}),Jn["default"].createElement(M.Slider,{identifier:"focus-intensity",tool:"focus","aria-hidden":!i.isOptionSelected,label:e.sliderIntensity,value:i.relativeIntensity,min:0,max:100,divider:1,onChange:i.changeRelativeIntensity,onMouseUp:o,onTouchEnd:o}),Jn["default"].createElement(P.Spacer,{count:2})),Jn["default"].createElement(M.BarSeparator,null));});});var _D,KX;var XX=d(function(){_D=y(_("react"));B();O();Ge();it();W();KX=w(function(){var _D25=D(),i=_D25.frameTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.colorList;return _D["default"].createElement(P.Input.Selection,{label:t.selectColor,showLabel:false},_D["default"].createElement(De,{tool:"frame",activeColor:i.color,colors:r,labelsColor:e,colorPickerDirection:"top",onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}));});});var qX=d(function(){XX();});var YX,JX;var ZX=d(function(){YX=y(_("react"));B();O();W();qt();JX=w(function(){var _D26=D(),i=_D26.frameTool;var t=i.locale.controls;var e=function e(){i.toolSnapshot(t.sliderOpacity);};return YX["default"].createElement(M.Slider,{identifier:"frame-opacity",tool:"frame","aria-hidden":!i.isOptionSelected,showLabel:false,label:t.sliderOpacity,value:i.opacity,min:0,max:1,onChange:i.changeOpacity,onMouseUp:e,onTouchEnd:e});});});var QX=d(function(){ZX();});var tq,eq;var iq=d(function(){tq=y(_("react"));B();O();W();qt();eq=w(function(){var _D27=D(),i=_D27.frameTool;var t=i.locale.controls;var e=function e(){i.toolSnapshot(t.sliderSize);};return tq["default"].createElement(M.Slider,{identifier:"frame-size",tool:"frame","aria-hidden":!i.isOptionSelected,showLabel:false,label:t.sliderSize,value:i.size,min:i.minSize,max:i.maxSize,divider:1,onChange:i.changeWidth,onMouseUp:e,onTouchEnd:e});});});var rq=d(function(){iq();});var _r,oq,rmt,xD,omt,nq;var sq=d(function(){_r=y(_("react"));B();oq=y(_("styled-components"));O();W();we();qt();qX();QX();rq();rmt=M.TabWrapper;var _M3=M;xD=_M3.Tab;omt=(0,oq["default"])(M.ControlsbarContainer)(_templateObject314||(_templateObject314=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));nq=w(function(){var _D28=D(),i=_D28.frameTool,t=_D28.custom;var e=i.locale.controls;var r=i.tintable,o=i.config;var n=o.basicUIToolControlBarTabsOrder;var s=t.getButton("toolControlBarSecondaryButton");var a=function a(l){switch(l){case"frameOpacity":return _r["default"].createElement(xD,{key:l,label:e.tabOpacity},_r["default"].createElement(JX,null));case"frameSize":return _r["default"].createElement(xD,{key:l,label:e.tabSize},_r["default"].createElement(eq,null));case"frameColor":return r&&_r["default"].createElement(xD,{key:l,label:e.tabColor},_r["default"].createElement(KX,null));default:return null;}};return _r["default"].createElement(omt,{show:i.isOptionSelected},s&&_r["default"].createElement("div",null,_r["default"].createElement(s,{tool:"frame",ariaLabel:e.buttonReset,onClick:i.reset,icon:_r["default"].createElement(Oe.reset,null),label:e.buttonReset})),_r["default"].createElement(M.Other.ControlsWrapper,null,_r["default"].createElement(rmt,null,n.map(function(l){return a(l);}))),_r["default"].createElement(M.BarSeparator,null));});});var bo,Jf,nmt,smt,amt,aq;var lq=d(function(){bo=y(_("react"));B();Jf=y(_("styled-components"));O();it();we();U();nD();qt();nmt=(0,Jf["default"])(M.ControlsbarContainer)(_templateObject315||(_templateObject315=_taggedTemplateLiteral(["\n  ","\n"])),function(i){return i.firstChildMargin&&Jf.css(_templateObject316||(_templateObject316=_taggedTemplateLiteral(["\n      > :first-child {\n        margin-right: 16px;\n      }\n    "])));});smt=(0,Jf["default"])(M.Other.ControlsWrapper)(_templateObject317||(_templateObject317=_taggedTemplateLiteral(["\n  grid-column-start: 2;\n  align-self: center;\n"])));amt=function amt(_ref344){var i=_ref344.library,t=_ref344.active,e=_ref344.custom;var r=i.locale.controls.placeholderSearch;var o=i.config;var n=e.getButton("toolControlBarPrimaryButton");var s=function s(u){i.fetchImages(u);};var a=function a(u){var m=u.target.files;if(m.length){var p=new FileReader();p.onload=function(h){t.newImage(h.target.result);};p.readAsDataURL(m[0]);}};var l=function l(){t.selectWebcam(true);};var c=function c(){var u=document.getElementById("fileUpload");if(u){u.click();}};return bo["default"].createElement(nmt,{firstChildMargin:o.enableWebcam&&!i.libraryProvider,show:true},o.enableUpload&&n&&bo["default"].createElement("div",null,bo["default"].createElement(n,{tool:"library","data-test":N.LibraryUploadButton,ariaLabel:i.locale.controls.buttonUpload,onClick:c,icon:bo["default"].createElement(Oe.uploadImage,null),label:i.locale.controls.buttonUpload},bo["default"].createElement(P.Input.File,{onChange:a}))),i.libraryProvider&&bo["default"].createElement(smt,null,bo["default"].createElement(P.Input.Search,{onChange:s,placeholder:r})),o.enableWebcam&&bo["default"].createElement("div",null,bo["default"].createElement(X0,{tool:"library",onClick:l,icon:bo["default"].createElement(Oe.openWebcam,null),label:i.locale.controls.buttonWebcamOpen})),bo["default"].createElement(M.BarSeparator,null));};aq=rt("library","active","custom")(w(amt));});var cq,uq;var dq=d(function(){cq=y(_("react"));B();it();W();uq=w(function(){var _D29=D(),i=_D29.overlayTool;var t=i.locale.controls;var e=i.blendMode,r=i.allBlendModes;var o=function o(n){i.changeBlendMode(n);};return cq["default"].createElement(P.Input.CarouselSlider,{showLabel:false,label:t.carouselBlendMode,defaultIdentifier:e,onSelect:o,list:r});});});var mq=d(function(){dq();});var pq,hq;var fq=d(function(){pq=y(_("react"));B();O();W();qt();hq=w(function(){var _D30=D(),i=_D30.overlayTool;var t=i.locale.controls;var e=i.state;var r=function r(){i.toolSnapshot();};return pq["default"].createElement(M.Slider,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!i.isOptionSelected,showLabel:false,label:t.sliderOpacity,value:e.opacity,min:0,max:1,onChange:i.changeOpacity,onMouseUp:r,onTouchEnd:r});});});var gq=d(function(){fq();});var yo,lmt,bq,yq;var _q=d(function(){yo=y(_("react"));B();O();W();we();qt();mq();gq();lmt=M.TabWrapper;var _M4=M;bq=_M4.Tab;yq=w(function(){var _D31=D(),i=_D31.overlayTool,t=_D31.custom;var e=i.config;var r=e.basicUIToolControlBarTabsOrder;var o=i.locale.controls;var n=t.getButton("toolControlBarSecondaryButton");var s=function s(a){switch(a){case"overlayBlendMode":return yo["default"].createElement(bq,{key:a,label:o.tabBlendMode},yo["default"].createElement(uq,null));case"overlayOpacity":return yo["default"].createElement(bq,{key:a,label:o.tabOpacity},yo["default"].createElement(hq,null));default:return null;}};return yo["default"].createElement(M.ControlsbarContainer,{show:i.isOptionSelected},n&&yo["default"].createElement("div",null,yo["default"].createElement(n,{tool:"overlay",ariaLabel:o.buttonReset,onClick:i.reset,icon:yo["default"].createElement(Oe.reset,null),label:o.buttonReset})),yo["default"].createElement(M.Other.ControlsWrapper,null,yo["default"].createElement(lmt,null,r.map(function(a){return s(a);}))),yo["default"].createElement(M.BarSeparator,null));});});var Zf,xq;var vq=d(function(){Zf=y(_("react"));B();O();Ge();it();W();xq=w(function(){var _D32=D(),i=_D32.stickerTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.colorList;return Zf["default"].createElement(Zf["default"].Fragment,null,Zf["default"].createElement(P.Input.Selection,{isDisabled:!i.isStickerSelected,showLabel:false,label:t.selectColor},Zf["default"].createElement(De,{tool:"sticker",activeSprite:i.id,activeColor:i.tintColor,colors:r,labelsColor:e,isDisabled:!i.isStickerSelected,colorPickerDirection:"top",onChange:i.changeTintColor,onAddSnapshot:i.tintColorSnapshot})));});});var Cq=d(function(){vq();});var Sq,wq;var Tq=d(function(){Sq=y(_("react"));B();O();W();qt();wq=w(function(){var _D33=D(),i=_D33.stickerTool;var t=i.locale.controls;var e=function e(){i.toolSnapshot();};return Sq["default"].createElement(M.Slider,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!i.isStickerSelected,showLabel:false,label:t.sliderOpacity,value:i.opacity,min:0,max:1,onMouseUp:e,onTouchEnd:e,onChange:i.changeOpacity});});});var kq=d(function(){Tq();});var Kr,vD,cmt,Iq,umt,dmt,Dq;var Eq=d(function(){Kr=y(_("react"));B();vD=y(_("styled-components"));O();it();W();we();qt();Cq();kq();cmt=M.TabWrapper;var _M5=M;Iq=_M5.Tab;umt=vD["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})(_templateObject318||(_templateObject318=_taggedTemplateLiteral(["\n  ","\n"])),gy.VisuallyHidden);dmt=(0,vD["default"])(M.ControlsbarContainer)(_templateObject319||(_templateObject319=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));Dq=w(function(){var _D34=D(),i=_D34.stickerTool,t=_D34.custom;var e=i.config;var r=e.basicUIToolControlBarTabsOrder;var o=i.locale.controls;var n=t.getButton("toolControlBarPrimaryButton");var s=function s(){var u=document.getElementById("fileUpload");if(u){u.value=null;u.click();}};var a=function a(u){var m=u.target.files;i.addFiles(m);};var l=function l(u){switch(u){case"stickerColor":if(!i.tintable)return null;return Kr["default"].createElement(Iq,{key:u,label:o.tabColor},Kr["default"].createElement(xq,null));case"stickerOpacity":return Kr["default"].createElement(Iq,{key:u,label:o.tabOpacity},Kr["default"].createElement(wq,null));default:return null;}};var c=function c(){if(i.isCustomStickerEnabled&&n){return Kr["default"].createElement("div",null,Kr["default"].createElement(n,{tool:"sticker",ariaLabel:o.buttonUpload,onClick:s,icon:Kr["default"].createElement(Oe.uploadImage,null),label:o.buttonUpload},Kr["default"].createElement(umt,{onChange:a})));}return null;};return Kr["default"].createElement(dmt,{show:true},c(),Kr["default"].createElement(M.Other.ControlsWrapper,null,Kr["default"].createElement(cmt,null,r.map(function(u){return l(u);}))),Kr["default"].createElement(M.BarSeparator,null));});});var CD,Fq;var Rq=d(function(){CD=y(_("react"));B();O();Ge();it();W();Fq=w(function(){var _D35=D(),i=_D35.textTool;var t=i.backgroundColorList;var e=i.locale.controls;var r=i.localeColor.colorPicker;return CD["default"].createElement(P.Input.Selection,{isDisabled:!i.isTextSelected,showLabel:false,label:e.selectBackgroundColor},CD["default"].createElement(De,{tool:"text",activeSprite:i.id,activeColor:i.backgroundColor,colors:t,labelsColor:r,colorPickerDirection:"top",isDisabled:!i.isTextSelected,onChange:i.changeBackgroundColor,onAddSnapshot:i.backgroundColorSnapshot}));});});var Oq=d(function(){Rq();});var Aq,Bq,mmt,Pq;var Mq=d(function(){Aq=y(_("react"));B();Bq=y(_("styled-components"));it();W();mmt=(0,Bq["default"])(P.Input.NumericInput)(_templateObject320||(_templateObject320=_taggedTemplateLiteral(["\n  max-width: 55px;\n  > div > input {\n    text-align: center;\n  }\n"])));Pq=w(function(){var r;var _D36=D(),i=_D36.textTool;var t=i.locale;var e=function e(o){var n=o?parseFloat(o):0;i.setFontSize(Math.max(10,Math.min(690,n)));};return Aq["default"].createElement(mmt,{id:"photoeditorsdk-text-font-size-input",value:i.fontSize.toFixed(0),onSubmit:e,isDisabled:!i.isTextSelected,label:(r=t.controls)==null?void 0:r.textFontSize,showLabel:false});});});var Lq=d(function(){Mq();});var zq,Uq;var Nq=d(function(){zq=y(_("react"));B();O();W();qt();Uq=w(function(){var _D37=D(),i=_D37.textTool;var t=i.locale.controls;var e=function e(){i.toolSnapshot();};return zq["default"].createElement(M.Slider,{identifier:"text-line-spacing",tool:"text",isDisabled:!i.isTextSelected,showLabel:false,label:t.sliderLineSpacing,value:i.lineHeight,min:.5,max:3,onChange:i.changeLineHeight,onMouseUp:e,onTouchEnd:e,snap:1,divider:1,decimal:1});});});var Hq=d(function(){Nq();});var cv,Wq;var Gq=d(function(){cv=y(_("react"));B();it();W();we();U();Wq=w(function(){var _D38=D(),i=_D38.textTool,t=_D38.custom;var e=i.locale.controls;var r=["left","center","right"];var o=t.getButton("textAlignment");return cv["default"].createElement(P.Input.Selection,{isDisabled:!i.isTextSelected,showLabel:false,label:e.selectAlignment,"data-test":N.TextAlignment},r.map(function(n){var s=Cy[n];return cv["default"].createElement(o,{tool:n,isDisabled:!i.isTextSelected,ariaLabel:"Align ".concat(n),isActive:n===i.alignment,key:n,icon:cv["default"].createElement(s,null),onClick:function onClick(){return i.changeAlignment(n);}});}));});});var Vq=d(function(){Gq();});var SD,jq;var $q=d(function(){SD=y(_("react"));B();O();Ge();it();W();jq=w(function(){var _D39=D(),i=_D39.textTool;var t=i.colorList;var e=i.locale.controls;var r=i.localeColor.colorPicker;return SD["default"].createElement(P.Input.Selection,{isDisabled:!i.isTextSelected,showLabel:false,label:e.selectFontColor},SD["default"].createElement(De,{tool:"text",activeSprite:i.id,activeColor:i.textColor,colors:t,labelsColor:r,colorPickerDirection:"top",isDisabled:!i.isTextSelected,onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}));});});var Kq=d(function(){$q();});var fi,Xq,pmt,hmt,qq;var Yq=d(function(){fi=y(_("react"));B();Xq=y(_("styled-components"));O();W();we();qt();rv();Oq();Lq();Hq();Vq();Kq();pmt=M.ResponsiveTabWrapper;hmt=(0,Xq["default"])(M.ControlsbarContainer)(_templateObject321||(_templateObject321=_taggedTemplateLiteral(["\n  > div {\n    grid-template-columns: 1fr 5fr minmax(56px, 1fr);\n  }\n"])));qq=w(function(){var _D40=D(),i=_D40.textTool,t=_D40.custom;var e=i.config;var r=e.basicUIToolControlBarTabsOrder;var o=i.locale.controls;var n=t.getButton("toolControlBarPrimaryButton");var s=function s(a){switch(a){case"fontSize":return fi["default"].createElement(ca,{key:a,label:o.tabFontSize},fi["default"].createElement(Pq,null));case"textAlignment":return fi["default"].createElement(ca,{key:a,label:o.tabAlignment},fi["default"].createElement(Wq,null));case"textColor":return fi["default"].createElement(ca,{key:a,label:o.tabColor},fi["default"].createElement(jq,null));case"backgroundColor":return fi["default"].createElement(ca,{key:a,label:o.tabBgColor},fi["default"].createElement(Fq,null));case"lineSpacing":return fi["default"].createElement(ca,{key:a,label:o.tabLineHeight},fi["default"].createElement(Uq,null));default:return null;}};return fi["default"].createElement(hmt,{show:true},fi["default"].createElement("div",null,fi["default"].createElement(n,{tool:"text",ariaLabel:o.buttonNew,onClick:i.add,icon:fi["default"].createElement(Oe.addText,null),label:o.buttonNew})),fi["default"].createElement(M.Other.ControlsWrapper,null,fi["default"].createElement(pmt,null,r.map(function(a){return s(a);}))),fi["default"].createElement(M.BarSeparator,null));});});var _o,Jq,fmt,gmt,Zq;var Qq=d(function(){_o=y(_("react"));B();Jq=y(_("styled-components"));O();Ge();it();we();qt();fmt=(0,Jq["default"])(De)(_templateObject322||(_templateObject322=_taggedTemplateLiteral(["\n  height: 40px;\n"])));gmt=function gmt(_ref345){var i=_ref345.textDesignTool,t=_ref345.custom;var e=i.locale.controls;var r=i.localeColor.colorPicker;var o=i.colorList;var n=t.getButton("toolControlBarSecondaryButton");var s=t.getButton("toolControlBarPrimaryButton");return _o["default"].createElement(M.ControlsbarContainer,{show:true},s&&_o["default"].createElement("div",null,_o["default"].createElement(s,{tool:"textdesign",ariaLabel:e.buttonNew,onClick:i.add,icon:_o["default"].createElement(Oe.addText,null),label:e.buttonNew})),_o["default"].createElement(M.Other.ControlsWrapper,null,_o["default"].createElement(P.Input.Selection,{isDisabled:!i.isTextDesignSelected,label:e.selectColor},_o["default"].createElement(fmt,{tool:"textdesign",activeSprite:i.id,activeColor:i.color,colors:o,labelsColor:r,colorPickerDirection:"top",isDisabled:!i.isTextDesignSelected,onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}))),n&&_o["default"].createElement("div",null,_o["default"].createElement(n,{tool:"textdesign",ariaLabel:e.buttonShuffle,onClick:i.changeSeed,icon:_o["default"].createElement(Oe.shuffle,null),label:e.buttonShuffle})),_o["default"].createElement(M.BarSeparator,null));};Zq=rt("textDesignTool","custom")(w(gmt));});var tY,eY;var iY=d(function(){tY=y(_("react"));B();Ge();W();eY=w(function(){var _D41=D(),i=_D41.transformTool;var t=i.locale.controls;var e=i.forceDimensions;return tY["default"].createElement(gf,{isDisabled:e,showLabel:false,valueHeight:i.localOutputHeight,valueWidth:i.localOutputWidth,onSubmitWidth:i.onPixelWidth,onSubmitHeight:i.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel});});});var rY=d(function(){iY();});var oY,nY;var sY=d(function(){oY=y(_("react"));Ge();nY=function nY(){return oY["default"].createElement(ff,null);};});var aY=d(function(){sY();});var lY,cY;var uY=d(function(){lY=y(_("react"));B();O();W();cY=w(function(){var _D42=D(),i=_D42.transformTool,t=_D42.custom;var e=i.locale.controls;var r=i.forceDimensions;var o=t.getCheckbox();if(!o){return null;}return lY["default"].createElement(o,{tool:"transform",isDisabled:r,style:{paddingTop:"5px",justifyContent:"center"},value:i.lockResolution,checkMarkPosition:"left",label:e.checkboxKeepResolution,onClick:i.changeLockResolution});});});var dY=d(function(){uY();});var Mi,uv,bmt,wD,mY,ymt,pY;var hY=d(function(){Mi=y(_("react"));B();uv=y(_("styled-components"));O();Sr();W();we();qt();rY();aY();dY();bmt=M.ResponsiveTabWrapper;var _M6=M;wD=_M6.Tab;mY=uv.css(_templateObject323||(_templateObject323=_taggedTemplateLiteral(["\n  min-width: unset;\n"])));ymt=(0,uv["default"])(M.Other.ControlsWrapper)(_templateObject324||(_templateObject324=_taggedTemplateLiteral(["\n  min-width: 365px;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"])),function(i){return i.smallContainer&&mY;},mY);pY=w(function(){var _D43=D(),i=_D43.transformTool,t=_D43.custom;var _ref346=(0,Mi.useContext)(Re),e=_ref346.rect;var r=i.config;var o=r.basicUIToolControlBarTabsOrder;var n=i.locale.controls;var s=t.getButton("toolControlBarSecondaryButton");var a=function a(l){switch(l){case"flipRotate":return Mi["default"].createElement(wD,{key:l,label:n.tabFlipAndRotate},Mi["default"].createElement(nY,null));case"resolution":return Mi["default"].createElement(wD,{key:l,label:n.tabResolution},Mi["default"].createElement(cY,null));case"cropSize":return Mi["default"].createElement(wD,{key:l,label:n.tabCropSize},Mi["default"].createElement(eY,null));default:return null;}};return Mi["default"].createElement(M.ControlsbarContainer,{show:true},s&&Mi["default"].createElement("div",null,Mi["default"].createElement(s,{tool:"transform",ariaLabel:i.locale.controls.buttonReset,onClick:i.reset,icon:Mi["default"].createElement(Oe.reset,null),label:i.locale.controls.buttonReset})),Mi["default"].createElement(ymt,{smallContainer:!!e&&e.width<600},Mi["default"].createElement(bmt,null,o.map(function(l){return a(l);}))),Mi["default"].createElement(M.BarSeparator,null));});});var Ee,fY;var gY=d(function(){Ee=y(_("react"));B();O();it();W();SX();LX();GX();$X();sq();lq();_q();Eq();Yq();Qq();hY();fY=w(function i(){var _D44=D(),t=_D44.active,e=_D44.custom;var r=t.tool;var o=e.getBasicToolControlBar();if(!o){return null;}return Ee["default"].createElement(o,{show:!!r,tool:r},Ee["default"].createElement(P.Switch.Index,{type:r},Ee["default"].createElement(P.Switch.Case,{value:"filter"},Ee["default"].createElement(WX,null)),Ee["default"].createElement(P.Switch.Case,{value:"focus"},Ee["default"].createElement(jX,null)),Ee["default"].createElement(P.Switch.Case,{value:"adjustment"},Ee["default"].createElement(CX,null)),Ee["default"].createElement(P.Switch.Case,{value:"overlay"},Ee["default"].createElement(yq,null)),Ee["default"].createElement(P.Switch.Case,{value:"sticker"},Ee["default"].createElement(Dq,null)),Ee["default"].createElement(P.Switch.Case,{value:"text"},Ee["default"].createElement(qq,null)),Ee["default"].createElement(P.Switch.Case,{value:"textdesign"},Ee["default"].createElement(Zq,null)),Ee["default"].createElement(P.Switch.Case,{value:"library"},Ee["default"].createElement(aq,null)),Ee["default"].createElement(P.Switch.Case,{value:"frame"},Ee["default"].createElement(nq,null)),Ee["default"].createElement(P.Switch.Case,{value:"brush"},Ee["default"].createElement(MX,null)),Ee["default"].createElement(P.Switch.Case,{value:"transform"},Ee["default"].createElement(pY,null))));});});var Nm,bY,_mt,xmt,yY;var _Y=d(function(){Nm=y(_("react"));B();bY=y(_("styled-components"));O();we();U();qt();_mt=bY["default"].div(_templateObject325||(_templateObject325=_taggedTemplateLiteral(["\n  position: relative;\n  top: -8px;\n  color: ",";\n"])),function(i){return i.theme.card.foreground;});xmt=function xmt(_ref347){var i=_ref347.adjustmentsTool;var t=function t(e,r){var o=wL[e.identifier];return Nm["default"].createElement(M.Card,{"data-test":e.identifier,tool:"adjustment",type:"medium",onClick:function onClick(){return i.toggleOptionSelection(e.identifier);},isActive:e.identifier===i.selectedAdjustmentType,key:"".concat(e.identifier,"-").concat(r),label:e.name,style:{animationDelay:"".concat(kt(r),"s")}},Nm["default"].createElement(_mt,null,Nm["default"].createElement(o,null)),Nm["default"].createElement(M.CardLabel,null,i.locale.items[e.identifier]||e.name));};return Nm["default"].createElement(M.CardContainer,null,i.items.map(t));};yY=rt("adjustmentsTool")(w(xmt));});var xY,vY;var CY=d(function(){xY=y(_("react"));O();W();vY=function vY(){var _D45=D(),i=_D45.config;var t=i.state.config["customTool"].toolControlBar;return xY["default"].createElement(t,{language:i.state.locale["customTool"]});};});var SY=d(function(){CY();});var Zn,Qf;var wY=d(function(){Zn=y(_("react"));B();O();U();qt();Qf=/*#__PURE__*/function(_Zn$default$Component){_inherits(Qf,_Zn$default$Component);var _super248=_createSuper(Qf);function Qf(){var _this391;_classCallCheck(this,Qf);_this391=_super248.apply(this,arguments);_this391.onCategoryClick=function(t){var e=_this391.props.filterTool;e.toggleCategorySelection(t);};_this391.renderItem=function(t,e){var n,s;var r=_this391.props.filterTool;var o=(s=(n=r.locale)==null?void 0:n.controls)==null?void 0:s.itemAriaLabel;return Zn["default"].createElement(M.Card,{tool:"filter",type:"medium",onClick:function onClick(){return r.selectFilter(t.identifier,t.defaultIntensity);},isActive:r.identifier===t.identifier,key:"".concat(t.identifier,"-").concat(e),image:t.thumbnailURI,label:t.name,"aria-label":o==null?void 0:o.replace("${label}",t.name),style:{animationDelay:"".concat(kt(e),"s")}},Zn["default"].createElement(M.CardLabel,{withBackground:true},r.locale.categories[t.identifier]||r.locale.items[t.identifier]||t.name));};_this391.renderCategory=function(t,e){var l;var r=_this391.props.filterTool;var o=r.selectedCategoryIdentifier,n=r.locale;var s=(l=n.controls)==null?void 0:l.categoryAriaLabel;var a=o===t.identifier;if(!t.items)return null;return Zn["default"].createElement(M.CategoryContainer,{key:t.identifier},Zn["default"].createElement(M.Card,{role:"button","aria-expanded":a,"aria-label":s==null?void 0:s.replace("${label}",t.name),tool:"filter",type:"large",onClick:function onClick(){return _this391.onCategoryClick(t.identifier);},image:t.thumbnailURI,label:t.name,style:{animationDelay:"".concat(kt(e),"s")}},Zn["default"].createElement(M.CardLabel,{withBackground:true},t.name)),Zn["default"].createElement(M.ExpandableContainer,{show:a},t.items.map(_this391.renderItem)));};return _this391;}_createClass(Qf,[{key:"render",value:function render(){var t=this.props.filterTool;var e=t.categories,r=t.config,o=t.items;if(r.flattenCategories)return Zn["default"].createElement(M.CardContainer,null,o.map(this.renderItem));return Zn["default"].createElement(M.CardContainer,null,e.map(this.renderCategory));}}]);return Qf;}(Zn["default"].Component);Qf=f([rt("filterTool","active"),w],Qf);});var dv,vmt,TY;var kY=d(function(){dv=y(_("react"));B();O();U();qt();vmt=function vmt(_ref348){var i=_ref348.focusTool;var o,n;var t=(n=(o=i.locale)==null?void 0:o.controls)==null?void 0:n.itemAriaLabel;var e=function e(s){i.selectFocus(s);};var r=function r(s,a){return dv["default"].createElement(M.Card,{isActive:s.identifier===i.identifier,tool:"focus",type:"medium",onClick:function onClick(){return e(s.identifier);},key:"".concat(s.identifier,"-").concat(a),image:s.thumbnailURI,label:s.name,"aria-label":t==null?void 0:t.replace("${label}",s.name),style:{animationDelay:"".concat(kt(a),"s")}},dv["default"].createElement(M.CardLabel,{withBackground:true},i.locale.items[s.identifier]||s.name));};return dv["default"].createElement(M.CardContainer,null,i.items.map(r));};TY=rt("focusTool")(w(vmt));});var mv,Cmt,IY;var DY=d(function(){mv=y(_("react"));B();O();U();qt();Cmt=function Cmt(_ref349){var i=_ref349.frameTool;var o,n;var t=i.identifier;var e=(n=(o=i.locale)==null?void 0:o.controls)==null?void 0:n.itemAriaLabel;var r=function r(s,a){return mv["default"].createElement(M.Card,{tool:"frame",type:"medium",onClick:function onClick(){return i.selectFrame(s.identifier);},isActive:s.identifier===t,key:"".concat(s.identifier,"-").concat(a),image:s.thumbnailURI,label:s.name,"aria-label":e==null?void 0:e.replace("${label}",s.name),style:{animationDelay:"".concat(kt(a),"s"),backgroundSize:"60%"}}," ",mv["default"].createElement(M.CardLabel,{hidden:true},i.locale.items[s.identifier]||s.name));};return mv["default"].createElement(M.CardContainer,null,i.items.map(r));};IY=rt("frameTool")(w(Cmt));});var EY,FY;var RY=d(function(){EY=y(_("styled-components"));FY=EY["default"].p(_templateObject326||(_templateObject326=_taggedTemplateLiteral(["\n  height: ","px;\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.itemsBarHeight;});});var OY=d(function(){RY();});var Zo,tg;var AY=d(function(){Zo=y(_("react"));B();O();U();qt();OY();tg=/*#__PURE__*/function(_Zo$default$Component){_inherits(tg,_Zo$default$Component);var _super249=_createSuper(tg);function tg(){var _this392;_classCallCheck(this,tg);_this392=_super249.apply(this,arguments);_this392.onCategoryClick=function(t){var e=_this392.props.library;e.toggleCategorySelection(t);};_this392.renderItem=function(t,e){var s,a;var _this392$props=_this392.props,r=_this392$props.active,o=_this392$props.library;var n=(a=(s=o.locale)==null?void 0:s.controls)==null?void 0:a.itemAriaLabel;return Zo["default"].createElement(M.Card,{tool:"library",type:"medium",onClick:function onClick(){return r.newImage(t.rawUrl);},key:"".concat(t.identifier,"-").concat(e),image:t.thumbnailURI,label:t.name,"aria-label":n==null?void 0:n.replace("${label}",t.name),style:{animationDelay:"".concat(kt(e),"s")}});};_this392.renderCategory=function(t,e){var l;var r=_this392.props.library;var o=r.selectedCategoryIdentifier,n=r.locale;var s=(l=n.controls)==null?void 0:l.categoryAriaLabel;var a=o===t.identifier;if(!t.items)return null;return Zo["default"].createElement(M.CategoryContainer,{key:t.identifier},Zo["default"].createElement(M.Card,{role:"button","aria-expanded":a,"aria-label":s==null?void 0:s.replace("${label}",t.name),tool:"library",type:"large",onClick:function onClick(){return _this392.onCategoryClick(t.identifier);},image:t.thumbnailURI,label:t.name,style:{animationDelay:"".concat(kt(e),"s")}},Zo["default"].createElement(M.CardLabel,{withBackground:true},t.name)),Zo["default"].createElement(M.ExpandableContainer,{show:a},t.items.map(_this392.renderItem)));};return _this392;}_createClass(tg,[{key:"render",value:function render(){var t=this.props.library;var e=t.query,r=t.categories,o=t.items,n=t.locale,s=t.config;if(e){return o.length?Zo["default"].createElement(M.CardContainer,null,o.map(this.renderItem)):Zo["default"].createElement(FY,{"data-test":N.NoResult},n.controls.noResults);}if(s.flattenCategories)return Zo["default"].createElement(M.CardContainer,null,o.map(this.renderItem));return Zo["default"].createElement(M.CardContainer,null,r.map(this.renderCategory));}}]);return tg;}(Zo["default"].Component);tg=f([rt("library","active"),w],tg);});var pv,Smt,BY;var PY=d(function(){pv=y(_("react"));B();O();U();qt();Smt=function Smt(_ref350){var i=_ref350.overlayTool;var a;var t=i.identifier,e=i.items,r=i.selectOverlay,o=i.locale;var n=(a=o.controls)==null?void 0:a.itemAriaLabel;var s=function s(l,c){return pv["default"].createElement(M.Card,{tool:"overlay",type:"medium",onClick:function onClick(){return r(l.identifier);},isActive:l.identifier===t,key:"".concat(l.identifier,"-").concat(c),image:l.thumbnailURI,label:l.name,"aria-label":n==null?void 0:n.replace("${label}",l.name),style:{animationDelay:"".concat(kt(c),"s")}},pv["default"].createElement(M.CardLabel,{withBackground:true},o.items[l.identifier]||l.name));};return pv["default"].createElement(M.CardContainer,null,e.map(s));};BY=rt("overlayTool")(w(Smt));});var Qn,eg;var MY=d(function(){Qn=y(_("react"));B();O();U();qt();eg=/*#__PURE__*/function(_Qn$default$Component){_inherits(eg,_Qn$default$Component);var _super250=_createSuper(eg);function eg(){var _this393;_classCallCheck(this,eg);_this393=_super250.apply(this,arguments);_this393.onCategoryClick=function(t){var e=_this393.props.stickerTool;e.toggleCategorySelection(t);};_this393.renderItem=function(t,e){var n,s;var r=_this393.props.stickerTool;var o=(s=(n=r.locale)==null?void 0:n.controls)==null?void 0:s.itemAriaLabel;return Qn["default"].createElement(M.Card,{tool:"sticker",type:"medium",onClick:function onClick(){return r.add(t.identifier);},key:"".concat(t.identifier,"-").concat(e),image:t.thumbnailURI,label:t.name,"aria-label":o==null?void 0:o.replace("${label}",t.name),style:{backgroundSize:"55%",animationDelay:"".concat(yb(e),"s")}},Qn["default"].createElement(M.CardLabel,{hidden:true},r.locale.items[t.identifier]||t.name));};_this393.renderCategory=function(t,e){var l;var r=_this393.props.stickerTool;var o=r.selectedCategoryIdentifier,n=r.locale;var s=(l=n.controls)==null?void 0:l.categoryAriaLabel;var a=o===t.identifier;if(!t.items)return null;return Qn["default"].createElement(M.CategoryContainer,{key:t.identifier},Qn["default"].createElement(M.Card,{role:"button","aria-expanded":a,"aria-label":s==null?void 0:s.replace("${label}",t.name),tool:"sticker",type:"large",onClick:function onClick(){return _this393.onCategoryClick(t.identifier);},image:t.thumbnailURI,label:t.name,style:{animationDelay:"".concat(kt(e),"s")}},Qn["default"].createElement(M.CardLabel,{withBackground:true},n.categories[t.identifier]||t.name)),Qn["default"].createElement(M.ExpandableContainer,{show:a},t.items.map(_this393.renderItem)));};return _this393;}_createClass(eg,[{key:"render",value:function render(){var t=this.props.stickerTool;var e=t.categories,r=t.items,o=t.config;if(o.flattenCategories)return Qn["default"].createElement(M.CardContainer,null,r.map(this.renderItem));return Qn["default"].createElement(M.CardContainer,null,e.map(this.renderCategory));}}]);return eg;}(Qn["default"].Component);eg=f([rt("stickerTool","active"),w],eg);});var ig,LY,wmt,zY,UY;var NY=d(function(){ig=y(_("react"));B();LY=y(_("styled-components"));O();Xt();U();qt();wmt=LY["default"].div(_templateObject327||(_templateObject327=_taggedTemplateLiteral(["\n  font-size: 20px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform-origin: left top;\n"])));zY=/*#__PURE__*/function(_ig$default$Component){_inherits(zY,_ig$default$Component);var _super251=_createSuper(zY);function zY(){var _this394;_classCallCheck(this,zY);_this394=_super251.apply(this,arguments);_this394.getWidth=function(_ref351,o){var t=_ref351.fontFamily,e=_ref351.fontStyle,r=_ref351.fontWeight;var n=document.createElement("canvas");var s=n.getContext("2d");s.font="".concat(e," ").concat(r," 20px ").concat(t);s.fillText(o,0,0);return s.measureText(o).width;};_this394.renderItem=function(t,e){var _this394$props=_this394.props,r=_this394$props.config,o=_this394$props.textTool;var n=t.fontFamily,s=t.fontWeight,a=t.fontStyle,l=t.identifier;var c="".concat(t.fontFamily," ").concat(gt.getDisplayFontStyle(t));var u=_this394.getWidth(t,c);var m=(r.measurements.basicCard.medium.width-20)/u;return ig["default"].createElement(M.Card,{tool:"text",type:"medium",onClick:function onClick(){return o.changeFont(l);},isDisabled:!_this394.textTool.isTextSelected,isActive:o.identifier===l,key:"".concat(t.identifier,"-").concat(e),label:c,style:{animationDelay:"".concat(kt(e),"s")}},ig["default"].createElement(wmt,{style:{transform:"scale(".concat(m,") translate(-50%, -50%)"),fontFamily:n,fontStyle:a,fontWeight:s}},c));};return _this394;}_createClass(zY,[{key:"textTool",get:function get(){return this.props.textTool;}},{key:"render",value:function render(){var t=this.props.textTool;var e=t.fontsLoaded,r=t.fontFamilies;if(!e)return null;return ig["default"].createElement(M.CardContainer,null,r.map(this.renderItem));}}]);return zY;}(ig["default"].Component);UY=rt("textTool","config")(w(zY));});var hv,Tmt,HY;var WY=d(function(){hv=y(_("react"));B();O();U();qt();Tmt=function Tmt(_ref352){var i=_ref352.textDesignTool;var l;var t=i.items,e=i.changeIdentifier,r=i.isTextDesignSelected,o=i.identifier,n=i.locale;var s=(l=n.controls)==null?void 0:l.itemAriaLabel;var a=function a(c,u){return hv["default"].createElement(M.Card,{tool:"textdesign",type:"medium",onClick:function onClick(){return e(c.identifier);},isDisabled:!r,isActive:o===c.identifier,key:"".concat(c.identifier,"-").concat(u),image:c.thumbnailURI,label:c.name,"aria-label":s==null?void 0:s.replace("${label}",c.name),style:{animationDelay:"".concat(kt(u),"s"),backgroundSize:"60%"}},hv["default"].createElement(M.CardLabel,{hidden:true},c.name));};return hv["default"].createElement(M.CardContainer,null,t.map(a));};HY=rt("textDesignTool")(w(Tmt));});var xr,TD,kmt,Imt,rg;var GY=d(function(){xr=y(_("react"));B();TD=y(_("styled-components"));O();we();U();qt();kmt=TD["default"].div(_templateObject328||(_templateObject328=_taggedTemplateLiteral(["\n  svg {\n    margin-bottom: 12px;\n  }\n"])));Imt=TD["default"].div(_templateObject329||(_templateObject329=_taggedTemplateLiteral(["\n  svg {\n    width: ","px;\n    height: ","px;\n  }\n\n  "," {\n    width: ","px;\n    height: ","px;\n    padding: 6px 0px 24px;\n  }\n"])),function(i){return i.theme.measurements.basicCard.medium.height;},function(i){return i.theme.measurements.basicCard.medium.height;},Ni,function(i){return i.theme.measurements.basicCard.medium.width-32;},function(i){return i.theme.measurements.basicCard.medium.height-32;});rg=/*#__PURE__*/function(_xr$default$Component){_inherits(rg,_xr$default$Component);var _super252=_createSuper(rg);function rg(){var _this395;_classCallCheck(this,rg);_this395=_super252.apply(this,arguments);_this395.onCategoryClick=function(t){var e=_this395.props.transformTool;e.toggleCategorySelection(t);};_this395.renderItem=function(t,e){var p;var _this395$props=_this395.props,r=_this395$props.transformTool,o=_this395$props.config;var n=r.locale,s=r.identifier;var a=(p=n.controls)==null?void 0:p.itemAriaLabel;var l=r.checkIfTransformThumbnailExits(t.thumbnailURI);var c=Vt.crops[t.identifier]||Vt.crops.imgly_transform_common_custom;var u=xr["default"].createElement(M.CardLabel,null,n.items[t.identifier]||t.name);var m=l?u:xr["default"].createElement(Imt,null,xr["default"].createElement(c,{main:o.theme.transform.crops.main,highlight:o.theme.transform.crops.highlight,shadow:o.theme.transform.crops.shadow}),u);return xr["default"].createElement(M.Card,{tool:"transform",type:"medium",onClick:function onClick(){return r.changeIdentifier(t.identifier,true);},key:"".concat(t.identifier,"-").concat(e),image:t.thumbnailURI,label:t.name,"aria-label":a==null?void 0:a.replace("${label}",t.name),isActive:t.identifier===s,style:{backgroundSize:"55%",animationDelay:"".concat(kt(e),"s")}},m);};_this395.renderCategory=function(t,e){var m;var r=_this395.props.transformTool;var o=r.selectedCategoryIdentifier,n=r.locale;var s=(m=n.controls)==null?void 0:m.categoryAriaLabel;var a=o===t.identifier;if(!t.items)return null;var l=r.checkIfTransformThumbnailExits(t.thumbnailURI);var c=xr["default"].createElement(M.CardLabel,null,n.categories[t.identifier]||t.name);var u=l?c:xr["default"].createElement(kmt,null,Vt.categories[t.identifier]&&xr["default"].createElement(Vt.categories[t.identifier]),c);return xr["default"].createElement(M.CategoryContainer,{key:t.identifier},xr["default"].createElement(M.Card,{role:"button","aria-expanded":a,"aria-label":s==null?void 0:s.replace("${label}",t.name),tool:"transform",type:"large",onClick:function onClick(){return _this395.onCategoryClick(t.identifier);},image:l?t.thumbnailURI:"",label:t.name,style:{animationDelay:"".concat(kt(e),"s")}},u),xr["default"].createElement(M.ExpandableContainer,{show:a},t.items.map(_this395.renderItem)));};return _this395;}_createClass(rg,[{key:"render",value:function render(){var t=this.props.transformTool;var e=t.categories,r=t.config,o=t.items;if(r.flattenCategories)return xr["default"].createElement(M.CardContainer,null,o.map(this.renderItem));return xr["default"].createElement(M.CardContainer,null,e.map(this.renderCategory));}}]);return rg;}(xr["default"].Component);rg=f([rt("transformTool","config"),w],rg);});var er,VY;var jY=d(function(){er=y(_("react"));B();O();W();_Y();SY();wY();kY();DY();AY();PY();MY();NY();WY();GY();VY=w(function i(){var _D46=D(),t=_D46.active,e=_D46.library,r=_D46.custom;var o=t.tool;var n=(0,er.useMemo)(function(){switch(o){case"library":return er["default"].createElement(tg,null);case"filter":return er["default"].createElement(Qf,null);case"focus":return er["default"].createElement(TY,null);case"adjustment":return er["default"].createElement(yY,null);case"overlay":return er["default"].createElement(BY,null);case"sticker":return er["default"].createElement(eg,null);case"text":return er["default"].createElement(UY,null);case"textdesign":return er["default"].createElement(HY,null);case"frame":return er["default"].createElement(IY,null);case"transform":return er["default"].createElement(rg,null);case"customTool":return er["default"].createElement(vY,null);default:return null;}},[o]);var s=r.getBasicToolItemsBar();if(!s||o==="brush"||o==="library"&&!e.libraryProvider){return null;}return er["default"].createElement(s,{show:!!o},n);});});var vr,$Y,Dmt,og;var KY=d(function(){vr=y(_("react"));B();$Y=y(_("styled-components"));Ge();QI();tD();it();U();xX();gY();jY();Dmt=$Y["default"].div(_templateObject330||(_templateObject330=_taggedTemplateLiteral(["\n  position: absolute;\n  width: 100%;\n  height: ","px;\n  bottom: 0;\n  left: 0;\n  background: ",";\n  z-index: ",";\n"])),function(i){return i.theme.measurements.basicUIToolControlBar.maxHeight;},function(i){return i.theme.webcam.backdrop;},function(i){return i.theme.measurements.zIndex.disable;});og=/*#__PURE__*/function(_vr$default$Component){_inherits(og,_vr$default$Component);var _super253=_createSuper(og);function og(){_classCallCheck(this,og);return _super253.apply(this,arguments);}_createClass(og,[{key:"render",value:function render(){var _this$props20=this.props,t=_this$props20.active,e=_this$props20.custom;var r=e.getWindowContainer();return vr["default"].createElement(P.Container,{"data-test":N.EditorContainer},t.isWebcam?vr["default"].createElement(Dmt,null):null,vr["default"].createElement(Fm,null),vr["default"].createElement(Va,null,vr["default"].createElement(vm,null),r&&vr["default"].createElement(r,{tool:t.tool},vr["default"].createElement(wf,null,t.isWebcam?vr["default"].createElement(Sf,null):null,t.image&&vr["default"].createElement(Dm,null))),vr["default"].createElement(fY,null),vr["default"].createElement(VY,null),vr["default"].createElement(_X,null)));}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(t){console.error(t);return{hasError:true};}}]);return og;}(vr["default"].Component);og=f([rt("active","custom"),w],og);});var ng,XY,kD;var qY=d(function(){ng=y(_("react"));B();XY=_("styled-components");Ge();qt();KY();kD=/*#__PURE__*/function(_ng$default$Component){_inherits(kD,_ng$default$Component);var _super254=_createSuper(kD);function kD(){var _this396;_classCallCheck(this,kD);_this396=_super254.apply(this,arguments);_this396.componentWillUnmount=function(){_this396.editor.cleanUpCanvasMemory();};return _this396;}_createClass(kD,[{key:"componentDidMount",value:function componentDidMount(){var _this$props21=this.props,t=_this$props21.editor,e=_this$props21.storeProps;this.editor=t;this.storeProps=e;var r=new Em(this.editor.configStore.config.custom.components,{basicUIToolbar:M.Toolbar.Index,basicUIToolControlBar:M.Controlsbar,basicUIToolItemsBar:M.Itemsbar});var o={getDialog:r.getDialog,getButton:r.getButton,getColorItem:r.getColorItem,getCheckbox:r.getCheckbox,getSlider:r.getSlider,getBasicToolbar:r.getBasicToolbar,getBasicToolControlBar:r.getBasicToolControlBar,getBasicToolItemsBar:r.getBasicToolItemsBar,getWindowContainer:r.getWindowContainer};this.storeProps.custom=o;this.forceUpdate();}},{key:"render",value:function render(){return this.storeProps?ng["default"].createElement(ep,_objectSpread({},this.storeProps),ng["default"].createElement(XY.ThemeProvider,{theme:_objectSpread(_objectSpread({},this.editor.configStore.theme),{},{measurements:this.editor.configStore.measurements})},ng["default"].createElement(og,null))):null;}}]);return kD;}(ng["default"].Component);});var YY={};de(YY,{"default":function _default(){return kD;}});var JY=d(function(){qY();});var ypt={};de(ypt,{AdjustmentConfiguration:function AdjustmentConfiguration(){return qg;},AdjustmentIdentifier:function AdjustmentIdentifier(){return qu;},AdjustmentIdentifierKeys:function AdjustmentIdentifierKeys(){return xC;},AdvancedAdjustmentControlBarItem:function AdvancedAdjustmentControlBarItem(){return vC;},AdvancedBrushControlBarItem:function AdvancedBrushControlBarItem(){return HC;},AdvancedFilterControlBarItem:function AdvancedFilterControlBarItem(){return CC;},AdvancedFocusControlBarItem:function AdvancedFocusControlBarItem(){return TC;},AdvancedFrameControlBarItem:function AdvancedFrameControlBarItem(){return kC;},AdvancedLibraryControlBarItem:function AdvancedLibraryControlBarItem(){return OC;},AdvancedOverlayControlBarItem:function AdvancedOverlayControlBarItem(){return AC;},AdvancedStickerControlBarItem:function AdvancedStickerControlBarItem(){return PC;},AdvancedTextControlBarItem:function AdvancedTextControlBarItem(){return LC;},AdvancedTextDesignControlBarItem:function AdvancedTextDesignControlBarItem(){return GC;},AdvancedTransformControlBarItem:function AdvancedTransformControlBarItem(){return VC;},AdvancedUICardLabel:function AdvancedUICardLabel(){return Se;},AdvancedUICategoryCard:function AdvancedUICategoryCard(){return cpt;},AdvancedUIControlsBarSection:function AdvancedUIControlsBarSection(){return hpt;},AdvancedUIItemCard:function AdvancedUIItemCard(){return upt;},AdvancedUIToolControlBar:function AdvancedUIToolControlBar(){return ppt;},AdvancedUIToolbar:function AdvancedUIToolbar(){return mpt;},AdvancedUIToolbarItem:function AdvancedUIToolbarItem(){return Uf;},AlignmentMode:function AlignmentMode(){return RR;},BasicBrushControlBarTabs:function BasicBrushControlBarTabs(){return WC;},BasicFilterControlBarTabs:function BasicFilterControlBarTabs(){return SC;},BasicFocusControlBarTabs:function BasicFocusControlBarTabs(){return iO;},BasicFrameControlBarTabs:function BasicFrameControlBarTabs(){return IC;},BasicOverlayControlBarTabs:function BasicOverlayControlBarTabs(){return BC;},BasicStickerControlBarTabs:function BasicStickerControlBarTabs(){return MC;},BasicTextControlBarTabs:function BasicTextControlBarTabs(){return zC;},BasicTransformControlBarTabs:function BasicTransformControlBarTabs(){return jC;},BasicUIToolControlBar:function BasicUIToolControlBar(){return gpt;},BasicUIToolItemsBar:function BasicUIToolItemsBar(){return bpt;},BasicUIToolbar:function BasicUIToolbar(){return fpt;},BlendMode:function BlendMode(){return pn;},BrushConfiguration:function BrushConfiguration(){return ab;},CanvasAction:function CanvasAction(){return ko;},CanvasBarTextSecondaryButton:function CanvasBarTextSecondaryButton(){return by;},CardAvatar:function CardAvatar(){return Yl;},CardType:function CardType(){return Ue;},CategoryHeaderType:function CategoryHeaderType(){return un;},Checkbox:function Checkbox(){return Zmt;},CheckboxBase:function CheckboxBase(){return Qmt;},CheckboxCheckMark:function CheckboxCheckMark(){return ept;},CheckboxInput:function CheckboxInput(){return tpt;},ColorItem:function ColorItem(){return Lmt;},ColorItemActiveOverlay:function ColorItemActiveOverlay(){return Hmt;},ColorItemBackground:function ColorItemBackground(){return Umt;},ColorItemBase:function ColorItemBase(){return zmt;},ColorItemTiledBackground:function ColorItemTiledBackground(){return Nmt;},Configuration:function Configuration(){return GR;},ContainedPrimaryButton:function ContainedPrimaryButton(){return Up;},Container:function Container(){return Pmt;},CustomToolConfiguration:function CustomToolConfiguration(){return YR;},Dialog:function Dialog(){return Wmt;},DialogBackdrop:function DialogBackdrop(){return jmt;},DialogBase:function DialogBase(){return Gmt;},DialogBody:function DialogBody(){return Kmt;},DialogContainer:function DialogContainer(){return Vmt;},DialogFooter:function DialogFooter(){return Xmt;},DialogHeader:function DialogHeader(){return $mt;},DialogSpinner:function DialogSpinner(){return qmt;},Dropdown:function Dropdown(){return ipt;},DropdownCaret:function DropdownCaret(){return Jb;},EventEmitter:function EventEmitter(){return Tr;},ExportConfiguration:function ExportConfiguration(){return BR;},ExportFormat:function ExportFormat(){return Hl;},FilterCategoryIdentifier:function FilterCategoryIdentifier(){return cp;},FilterConfiguration:function FilterConfiguration(){return Yg;},FilterIdentifier:function FilterIdentifier(){return lp;},FocusConfiguration:function FocusConfiguration(){return Jg;},FocusIdentifier:function FocusIdentifier(){return cs;},FrameConfiguration:function FrameConfiguration(){return Zg;},IconButton:function IconButton(){return hs;},ImageFormat:function ImageFormat(){return mn;},ImageMimeType:function ImageMimeType(){return ap;},Label:function Label(){return Jmt;},LibraryCategory:function LibraryCategory(){return Qg;},LibraryConfiguration:function LibraryConfiguration(){return rb;},LibraryImage:function LibraryImage(){return tb;},LibraryProvider:function LibraryProvider(){return ib;},ModalType:function ModalType(){return dn;},OutlinedPrimaryButton:function OutlinedPrimaryButton(){return zp;},OutlinedSecondaryButton:function OutlinedSecondaryButton(){return Da;},OverlayConfiguration:function OverlayConfiguration(){return ob;},OverlayIdentifier:function OverlayIdentifier(){return up;},PhotoEditorSDKUI:function PhotoEditorSDKUI(){return tJ;},PhotoEditorSDKUIComponent:function PhotoEditorSDKUIComponent(){return iJ;},SearchField:function SearchField(){return dpt;},SerializationExportType:function SerializationExportType(){return AR;},Slider:function Slider(){return rpt;},SliderBase:function SliderBase(){return opt;},SliderContainer:function SliderContainer(){return npt;},SliderIdentifier:function SliderIdentifier(){return qe;},SliderInput:function SliderInput(){return spt;},SliderLabel:function SliderLabel(){return lpt;},SliderTrack:function SliderTrack(){return apt;},SnappingConfiguration:function SnappingConfiguration(){return Kg;},SpriteActionButton:function SpriteActionButton(){return _n;},StickerConfiguration:function StickerConfiguration(){return nb;},TextConfiguration:function TextConfiguration(){return sb;},TextDesignConfiguration:function TextDesignConfiguration(){return lb;},TextPrimaryButton:function TextPrimaryButton(){return Kl;},TextSecondaryButton:function TextSecondaryButton(){return Oo;},Tool:function Tool(){return H;},TransformConfiguration:function TransformConfiguration(){return cb;},TransformIdentifier:function TransformIdentifier(){return $C;},UIEvent:function UIEvent(){return dp;},WatermarkConfiguration:function WatermarkConfiguration(){return Xg;},WindowContainer:function WindowContainer(){return z0;},calculateAdvancedUIToolControlBarMeasurements:function calculateAdvancedUIToolControlBarMeasurements(){return Mk;},deepmergeAll:function deepmergeAll(){return Oi;},defaultConfig:function defaultConfig(){return yl;},isDuoToneFilterAsset:function isDuoToneFilterAsset(){return Yu;},isExistingCategory:function isExistingCategory(){return vQ;},isExistingItem:function isExistingItem(){return xQ;},isGoogleFontAsset:function isGoogleFontAsset(){return NC;},isLUTFilterAsset:function isLUTFilterAsset(){return wC;},isWebFontAsset:function isWebFontAsset(){return UC;},useGetImage:function useGetImage(){return Amt;},useIsLayoutAdvanced:function useIsLayoutAdvanced(){return Bmt;},useSetImage:function useSetImage(){return Omt;}});var RD={react:"React","react-dom":"ReactDOM","react-dom/server":"ReactDOMServer","styled-components":"styled"};window.require=function(i){if(Object.hasOwnProperty.call(RD,i)){var t=RD[i];if(Object.hasOwnProperty.call(window,t)){return window[t];}console.log("Cannot find umd script for ".concat(i));}return void 0;};Tt();var Nf=y(_("react"));B();var lK=_("styled-components");Ge();var TV=y(_("react"));O();var yV=y(_("react"));var _V=y(_("styled-components"));it();var Yut=(0,_V["default"])(Dr)(_templateObject331||(_templateObject331=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"])),function(i){return i.theme.measurements.advancedUICard.large.width;},function(i){return i.theme.measurements.advancedUICard.large.height;},function(i){return i.theme.measurements.advancedUISpacer;},function(i){return i.theme.card.foreground;});var Jut=function Jut(_ref353){var i=_ref353.isActive,t=_objectWithoutProperties(_ref353,_excluded13);return yV["default"].createElement(Yut,_objectSpread({},t));};var xV=Jut;var vV=y(_("styled-components"));it();var CV=(0,vV["default"])(Dr)(_templateObject332||(_templateObject332=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"])),function(i){return i.theme.measurements.advancedUICard.medium.width;},function(i){return i.theme.measurements.advancedUICard.medium.height;},function(i){return i.theme.measurements.advancedUISpacer;},function(i){return i.theme.card.foreground;},function(i){return i.theme.measurements.advancedUISpacer;});var SV=y(_("styled-components"));it();var wV=(0,SV["default"])(Dr)(_templateObject333||(_templateObject333=_taggedTemplateLiteral(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"])),function(i){return i.theme.measurements.advancedUICard.small.width;},function(i){return i.theme.measurements.advancedUICard.small.height;},function(i){return i.theme.measurements.advancedUISpacer;},function(i){return i.theme.card.foreground;},function(i){return i.theme.measurements.advancedUISpacer;});var bf=function bf(_ref354){var i=_ref354.type,t=_objectWithoutProperties(_ref354,_excluded14);var e=i==="large";var r=i==="small";var o=CV;if(e){o=xV;}else if(r){o=wV;}return TV["default"].createElement(o,_objectSpread({type:i},t));};var kV=y(_("styled-components"));U();var N0=kV["default"].div.attrs(function(i){return{"data-test":i["data-test"]||N.CardContainer};})(_templateObject334||(_templateObject334=_taggedTemplateLiteral(["\n  display: flex;\n  flex-wrap: wrap;\n  /* width - padding on both sides */\n  width: ","px;\n"])),function(i){return i.theme.measurements.advancedUIToolControlBar.width-48;});var IV=y(_("react"));var yf=y(_("styled-components"));U();var Zut=yf["default"].div(_templateObject335||(_templateObject335=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n\n  position: relative;\n  width: ","px;\n  /* for Firefox */\n  min-height: 0;\n  margin-bottom: ","px;\n\n  z-index: ",";\n\n  background: ",";\n  transition: width 0.4s ease-in;\n  ","\n"])),function(i){return i.theme.measurements.advancedUIToolControlBar.width;},function(i){return i.theme.measurements.advancedUIToolControlBar.marginBottom;},function(i){return i.theme.measurements.zIndex.toolControlBar;},function(i){return i.theme.toolControlBar.background;},function(i){return!i.reverse?yf.css(_templateObject336||(_templateObject336=_taggedTemplateLiteral(["\n          border-right: 1px solid ",";\n        "])),i.theme.toolControlBar.borderColor):yf.css(_templateObject337||(_templateObject337=_taggedTemplateLiteral(["\n          border-left: 1px solid ",";\n        "])),i.theme.toolControlBar.borderColor);});var DV=function DV(_ref355){var _ref355$reverse=_ref355.reverse,i=_ref355$reverse===void 0?false:_ref355$reverse,t=_ref355.style,e=_ref355.className,r=_ref355.children;return IV["default"].createElement(Zut,{"data-test":N.ToolControlBar,reverse:i,className:e,style:t},r);};var Rm=y(_("styled-components"));U();var EV=Rm["default"].div.attrs(function(){return{"data-test":N.CategoryItemsContainer};})(_templateObject338||(_templateObject338=_taggedTemplateLiteral(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),function(i){return i.theme.toolControlBar.background;},function(_ref356){var i=_ref356.show;return i&&Rm.css(_templateObject339||(_templateObject339=_taggedTemplateLiteral(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),ve()?Rm.css(_templateObject340||(_templateObject340=_taggedTemplateLiteral(["\n            display: block;\n          "]))):Rm.css(_templateObject341||(_templateObject341=_taggedTemplateLiteral(["\n            display: flex;\n          "]))));});var WI=y(_("react"));var GI=y(_("styled-components"));it();U();var Qut=(0,GI["default"])(c1)(_templateObject342||(_templateObject342=_taggedTemplateLiteral(["\n  color: ",";\n\n  /* the padding and margin should only be applied to the children */\n  margin: 0 !important;\n  padding: 0 !important;\n"])),function(i){return i.theme.toolControlBar.inputLabelForeground;});var tdt=GI["default"].div(_templateObject343||(_templateObject343=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n    margin-bottom: ","px;\n  }\n"])),function(i){return i.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingRight;},function(i){return i.theme.measurements.advancedUIToolControlBar.controls.gutter;});var FV=function FV(_ref357){var i=_ref357.show,t=_ref357.children;return WI["default"].createElement(Qut,{duration:300,height:i?"auto":0,easing:"ease-in-out",animateOpacity:true},WI["default"].createElement(tdt,{"data-test":N.ToolControlBarExpandableControls},t));};var H0=y(_("styled-components"));it();U();var _f=(0,H0["default"])(Ro)(_templateObject344||(_templateObject344=_taggedTemplateLiteral(["\n  position: relative;\n\n  box-sizing: border-box;\n\n  /* for Firefox */\n  min-height: 0;\n\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  color: ",";\n\n  /* compensate the padding in IE and Edge */\n  ","\n"])),function(i){return i.theme.toolControlBar.inputLabelForeground;},function(){if(ve()||wr()){return H0.css(_templateObject345||(_templateObject345=_taggedTemplateLiteral(["\n        > ul {\n          padding-right: 34px;\n          margin-right: -34px;\n        }\n      "])));}return"";});_f.defaultProps={direction:"vertical"};var W0=y(_("styled-components"));var edt=W0["default"].div(_templateObject346||(_templateObject346=_taggedTemplateLiteral(["\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"])),function(i){return i.full?W0.css(_templateObject347||(_templateObject347=_taggedTemplateLiteral(["\n            left: -","px;\n            width: calc(\n              100% + ","px\n            );\n          "])),3*i.theme.measurements.advancedUISpacer/2,3*i.theme.measurements.advancedUISpacer):"\n      left: ".concat(3*i.theme.measurements.advancedUISpacer/2,"px;\n      width: calc(100% - ").concat(3*i.theme.measurements.advancedUISpacer,"px);\n    ");},function(i){return i.theme.toolControlBar.separatorColor;});var G0=edt;var RV=y(_("styled-components"));var idt=RV["default"].h2(_templateObject348||(_templateObject348=_taggedTemplateLiteral(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  min-height: ","px;\n  margin-top: 0;\n"])),function(i){return i.theme.toolControlBar.titleForeground;},function(i){return i.theme.measurements.fontSystem.headline2.size;},function(i){return i.theme.measurements.fontSystem.headline2.letterSpacing;},function(i){return i.theme.measurements.fontSystem.headline2["case"];},function(i){return 2*i.theme.measurements.advancedUISpacer;});var V0=idt;var na=y(_("react"));var OV=y(_("styled-components"));it();U();var rdt=OV["default"].div(_templateObject349||(_templateObject349=_taggedTemplateLiteral(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  flex: 1 0 auto;\n"])));var AV=function AV(_ref358){var i=_ref358.name,t=_ref358.isFirstCategory,e=_ref358.isLastCategory,r=_ref358.children;return na["default"].createElement(rdt,null,!t&&na["default"].createElement(P.Spacer,{count:2}),na["default"].createElement(V0,{"data-test":i},i),na["default"].createElement(N0,{"data-test":N.CategoryItemsContainer},r),!e&&na["default"].createElement(na["default"].Fragment,null,na["default"].createElement(P.Spacer,{count:2}),na["default"].createElement(G0,{full:true})));};var BV=y(_("styled-components"));var odt=BV["default"].h1(_templateObject350||(_templateObject350=_taggedTemplateLiteral(["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n  /* prevent the padding from leaving the width of the parent  */\n  box-sizing: border-box;\n"])),function(i){return i.theme.measurements.mainCanvasActionBar.height-2;},function(i){return i.theme.measurements.fontSystem.headline1.size;},function(i){return i.theme.measurements.fontSystem.headline1.letterSpacing;},function(i){return i.theme.measurements.fontSystem.headline1["case"];},function(i){return i.theme.toolControlBar.background;},function(i){return i.theme.toolControlBar.titleForeground;},function(i){return i.theme.toolControlBar.separatorColor;});var PV=odt;var MV=y(_("react"));var LV=y(_("styled-components"));W();var ndt=LV["default"].div(_templateObject351||(_templateObject351=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  /* calculate the max-height based on the padding and if the heading is used */\n  max-height: calc(\n    100% -\n      ","px -\n      ","px\n  );\n\n  padding-top: ","px;\n  padding-bottom: ","px;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n  }\n\n  /* The scrollable content needs a padding for the scrollbar position */\n  > "," {\n    margin-left: 0px;\n    margin-right: 0px;\n    padding-left: ","px;\n    padding-right: ","px;\n  }\n\n  > :not(:last-child) {\n    margin-bottom: ","px;\n  }\n"])),function(i){return i.theme.measurements.advancedUIToolControlBar.paddingBottom+i.theme.measurements.advancedUIToolControlBar.paddingTop;},function(i){return i.displayTitle?i.theme.measurements.mainCanvasActionBar.height-2:"0";},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingTop;},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingBottom;},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingRight;},_f,function(i){return i.theme.measurements.advancedUIToolControlBar.paddingLeft;},function(i){return i.theme.measurements.advancedUIToolControlBar.paddingRight;},function(i){return i.theme.measurements.advancedUIToolControlBar.controls.gutter;});var zV=function zV(_ref359){var i=_ref359.children;var _D47=D(),t=_D47.config;var e=t.config.displayToolControlBarTitle;return MV["default"].createElement(ndt,{displayTitle:e},i);};var VI=y(_("react"));var Om=y(_("styled-components"));it();U();var sdt=Om["default"].div(_templateObject352||(_templateObject352=_taggedTemplateLiteral(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: ","px;\n\n  z-index: ",";\n\n  background-color: ",";\n  color: ",";\n  ","\n  margin-bottom: ","px;\n"])),function(i){return i.theme.measurements.advancedUIToolbar.width;},function(i){return i.theme.measurements.zIndex.toolbar;},function(i){return i.theme.toolbar.background;},function(i){return i.theme.toolbar.foreground;},function(i){var t=i.theme.toolbar.border?i.theme.toolbar.border:Om.css(_templateObject353||(_templateObject353=_taggedTemplateLiteral(["\n          1px solid ",";\n        "])),i.theme.toolbar.borderColor);return!i.reverse?Om.css(_templateObject354||(_templateObject354=_taggedTemplateLiteral(["\n          border-right: ",";\n        "])),t):Om.css(_templateObject355||(_templateObject355=_taggedTemplateLiteral(["\n          border-left: ",";\n        "])),t);},function(i){return i.theme.measurements.advancedUIToolbar.marginBottom;});var UV=function UV(_ref360){var i=_ref360.reverse,t=_ref360.style,e=_ref360.className,r=_ref360.children;return VI["default"].createElement(sdt,{reverse:i,"data-test":N.Toolbar,className:e,style:t},VI["default"].createElement(Ro,{direction:"vertical"},r));};var jI=y(_("react"));var vu=y(_("styled-components"));it();U();var adt=(0,vu["default"])(Oo)(_templateObject356||(_templateObject356=_taggedTemplateLiteral(["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"])),ve()?vu.css(_templateObject357||(_templateObject357=_taggedTemplateLiteral(["\n        background-color: transparent;\n      "]))):vu.css(_templateObject358||(_templateObject358=_taggedTemplateLiteral(["\n        background-color: inherit;\n      "]))),function(i){return i.isActive&&vu.css(_templateObject359||(_templateObject359=_taggedTemplateLiteral(["\n      background-color: ",";\n      color: ",";\n\n      svg {\n        color: ",";\n      }\n    "])),i.theme.toolbar.activeBackground,i.theme.toolbar.activeForeground,i.theme.toolbar.activeForeground);});var ldt=vu["default"].li.attrs({"aria-haspopup":true,"aria-hidden":true,role:"menuitem"})(_templateObject360||(_templateObject360=_taggedTemplateLiteral(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),function(i){return i.theme.measurements.advancedUIToolbar.itemHeight;});var NV=function NV(i){return jI["default"].createElement(ldt,null,jI["default"].createElement(adt,_objectSpread(_objectSpread({},i),{},{"data-test":N.ToolbarItem})));};var HV=y(_("styled-components"));var cdt=HV["default"].li.attrs({role:"none"})(_templateObject361||(_templateObject361=_taggedTemplateLiteral(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),function(i){return i.theme.measurements.advancedUIToolbar.separatorHeight;});var WV=cdt;var wu=y(_("react"));var xf=_("react");var cne=y(_("react"));var tr=_("react");var ddt=y($V());var KV=mdt()?tr.useLayoutEffect:tr.useEffect;if(false){une=typeof process!=="undefined"?process:{env:{NODE_ENV:"development"}},dne=une.env;checkStyles=function i(t){if(checkedPkgs[t])return;checkedPkgs[t]=true;if(dne.NODE_ENV!=="test"&&parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-"+t),10)!==1){console.warn("@reach/"+t+' styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import "@reach/'+t+"/styles.css\";\n\n  Otherwise you'll need to include them some other way:\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"node_modules/@reach/"+t+'/styles.css" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ');}};}var une;var dne;var mne=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function mdt(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement);}if(false){useControlledSwitchWarning=function i(t,e,r){var o=(0,tr.useRef)(t!=null);var n=(0,tr.useRef)({componentName:r,controlledPropName:e});(0,tr.useEffect)(function(){n.current={componentName:r,controlledPropName:e};},[r,e]);(0,tr.useEffect)(function(){var s=o.current;var a=n.current,l=a.componentName,c=a.controlledPropName;var u=t!=null;if(s!==u){console.error("A component is changing an "+(s?"":"un")+"controlled `"+c+"` state of "+l+" to be "+(s?"un":"")+"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled "+l+" element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components");}},[t]);};}if(false){useCheckStyles=function i(t){var e=(0,tr.useRef)(t);(0,tr.useEffect)(function(){return void(e.current=t);},[t]);(0,tr.useEffect)(function(){return checkStyles(e.current);},[]);};}function XV(){var i=(0,tr.useState)(Object.create(null)),t=i[1];return(0,tr.useCallback)(function(){t(Object.create(null));},[]);}if(false){useStateLogger=function i(t,e){if(e===void 0){e=false;}var r=(0,tr.useRef)(e);(0,tr.useEffect)(function(){r.current=e;},[e]);(0,tr.useEffect)(function(){if(r.current){console.group("State Updated");console.log("%c"+t,"font-weight: normal; font-size: 120%; font-style: italic;");console.groupEnd();}},[t]);};}var qV=_("react-dom");var pdt=function i(t){var e=t.children,r=t.type,o=r===void 0?"reach-portal":r;var n=(0,xf.useRef)(null);var s=(0,xf.useRef)(null);var a=XV();KV(function(){if(!n.current)return;var l=n.current.ownerDocument;s.current=l===null||l===void 0?void 0:l.createElement(o);l.body.appendChild(s.current);a();return function(){if(s.current&&s.current.ownerDocument){s.current.ownerDocument.body.removeChild(s.current);}};},[o,a]);return s.current?(0,qV.createPortal)(e,s.current):(0,xf.createElement)("span",{ref:n});};if(false){pdt.displayName="Portal";}var YV=pdt;function $I(i,t){if(i==null)return{};var e={};var r=Object.keys(i);var o,n;for(n=0;n<r.length;n++){o=r[n];if(t.indexOf(o)>=0)continue;e[o]=i[o];}return e;}function KI(i,t){i.prototype=Object.create(t.prototype);i.prototype.constructor=i;i.__proto__=t;}var gdt=y(oj());var vf=y(_("react"));var j0=y(_("react-dom"));var XI={disabled:false};var nj=y(_("react"));var qI=nj["default"].createContext(null);var Cf="unmounted";var Cu="exited";var Su="entering";var Bm="entered";var YI="exiting";var sa=function(i){KI(t,i);function t(r,o){var n;n=i.call(this,r,o)||this;var s=o;var a=s&&!s.isMounting?r.enter:r.appear;var l;n.appearStatus=null;if(r["in"]){if(a){l=Cu;n.appearStatus=Su;}else{l=Bm;}}else{if(r.unmountOnExit||r.mountOnEnter){l=Cf;}else{l=Cu;}}n.state={status:l};n.nextCallback=null;return n;}t.getDerivedStateFromProps=function r(o,n){var s=o["in"];if(s&&n.status===Cf){return{status:Cu};}return null;};var e=t.prototype;e.componentDidMount=function r(){this.updateStatus(true,this.appearStatus);};e.componentDidUpdate=function r(o){var n=null;if(o!==this.props){var s=this.state.status;if(this.props["in"]){if(s!==Su&&s!==Bm){n=Su;}}else{if(s===Su||s===Bm){n=YI;}}}this.updateStatus(false,n);};e.componentWillUnmount=function r(){this.cancelNextCallback();};e.getTimeouts=function r(){var o=this.props.timeout;var n,s,a;n=s=a=o;if(o!=null&&typeof o!=="number"){n=o.exit;s=o.enter;a=o.appear!==void 0?o.appear:s;}return{exit:n,enter:s,appear:a};};e.updateStatus=function r(o,n){if(o===void 0){o=false;}if(n!==null){this.cancelNextCallback();if(n===Su){this.performEnter(o);}else{this.performExit();}}else if(this.props.unmountOnExit&&this.state.status===Cu){this.setState({status:Cf});}};e.performEnter=function r(o){var n=this;var s=this.props.enter;var a=this.context?this.context.isMounting:o;var l=this.props.nodeRef?[a]:[j0["default"].findDOMNode(this),a],c=l[0],u=l[1];var m=this.getTimeouts();var p=a?m.appear:m.enter;if(!o&&!s||XI.disabled){this.safeSetState({status:Bm},function(){n.props.onEntered(c);});return;}this.props.onEnter(c,u);this.safeSetState({status:Su},function(){n.props.onEntering(c,u);n.onTransitionEnd(p,function(){n.safeSetState({status:Bm},function(){n.props.onEntered(c,u);});});});};e.performExit=function r(){var o=this;var n=this.props.exit;var s=this.getTimeouts();var a=this.props.nodeRef?void 0:j0["default"].findDOMNode(this);if(!n||XI.disabled){this.safeSetState({status:Cu},function(){o.props.onExited(a);});return;}this.props.onExit(a);this.safeSetState({status:YI},function(){o.props.onExiting(a);o.onTransitionEnd(s.exit,function(){o.safeSetState({status:Cu},function(){o.props.onExited(a);});});});};e.cancelNextCallback=function r(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null;}};e.safeSetState=function r(o,n){n=this.setNextCallback(n);this.setState(o,n);};e.setNextCallback=function r(o){var n=this;var s=true;this.nextCallback=function(a){if(s){s=false;n.nextCallback=null;o(a);}};this.nextCallback.cancel=function(){s=false;};return this.nextCallback;};e.onTransitionEnd=function r(o,n){this.setNextCallback(n);var s=this.props.nodeRef?this.props.nodeRef.current:j0["default"].findDOMNode(this);var a=o==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return;}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u);}if(o!=null){setTimeout(this.nextCallback,o);}};e.render=function r(){var o=this.state.status;if(o===Cf){return null;}var n=this.props,s=n.children,a=n["in"],l=n.mountOnEnter,c=n.unmountOnExit,u=n.appear,m=n.enter,p=n.exit,h=n.timeout,g=n.addEndListener,x=n.onEnter,v=n.onEntering,b=n.onEntered,T=n.onExit,k=n.onExiting,E=n.onExited,A=n.nodeRef,I=$I(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return vf["default"].createElement(qI.Provider,{value:null},typeof s==="function"?s(o,I):vf["default"].cloneElement(vf["default"].Children.only(s),I));};return t;}(vf["default"].Component);sa.contextType=qI;sa.propTypes=false?{nodeRef:gdt["default"].shape({current:typeof Element==="undefined"?gdt["default"].any:gdt["default"].instanceOf(Element)}),children:gdt["default"].oneOfType([gdt["default"].func.isRequired,gdt["default"].element.isRequired]).isRequired,"in":gdt["default"].bool,mountOnEnter:gdt["default"].bool,unmountOnExit:gdt["default"].bool,appear:gdt["default"].bool,enter:gdt["default"].bool,exit:gdt["default"].bool,timeout:function i(t){var e=timeoutsShape;if(!t.addEndListener)e=e.isRequired;for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++){o[n-1]=arguments[n];}return e.apply(void 0,[t].concat(o));},addEndListener:gdt["default"].func,onEnter:gdt["default"].func,onEntering:gdt["default"].func,onEntered:gdt["default"].func,onExit:gdt["default"].func,onExiting:gdt["default"].func,onExited:gdt["default"].func}:{};function Am(){}sa.defaultProps={"in":false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:Am,onEntering:Am,onEntered:Am,onExit:Am,onExiting:Am,onExited:Am};sa.UNMOUNTED=Cf;sa.EXITED=Cu;sa.ENTERING=Su;sa.ENTERED=Bm;sa.EXITING=YI;var JI=sa;var Tu=y(_("styled-components"));W();U();var bdt=Tu["default"].div(_templateObject362||(_templateObject362=_taggedTemplateLiteral(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* added line-height reset from appContainer */\n  font-family: '","', sans-serif;\n\n  ","\n  top: ","px;\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,\n    right 0.25s ease-in-out;\n  z-index: ",";\n  pointer-events: none;\n  cursor: pointer;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n"])),function(i){return i.theme.typography.fontFamily;},ve()?Tu.css(_templateObject363||(_templateObject363=_taggedTemplateLiteral(["\n        position: -ms-device-fixed;\n      "]))):Tu.css(_templateObject364||(_templateObject364=_taggedTemplateLiteral(["\n        position: fixed;\n      "]))),function(i){return i.position.y-5;},function(i){return i.theme.measurements.zIndex.toolbar;},function(i){return i.theme.tooltip.background;},function(i){return i.label;},function(i){return i.theme.tooltip.foreground;},function(i){return i.theme.tooltip.background;},function(i){return i.theme.measurements.fontSystem.label.size;},function(i){return i.theme.measurements.fontSystem.label.letterSpacing;},function(i){return i.theme.measurements.fontSystem.label["case"];},function(i){return i.theme.shape.radiusSmall;},function(i){return i.reverse&&Tu.css(_templateObject365||(_templateObject365=_taggedTemplateLiteral(["\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: none;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "])),i.theme.tooltip.background);});var ydt=Tu["default"].span(_templateObject366||(_templateObject366=_taggedTemplateLiteral(["\n  display: none;\n"])));var sj=function sj(_ref361){var _ref361$show=_ref361.show,i=_ref361$show===void 0?true:_ref361$show,t=_ref361.reverse,e=_ref361.position,r=_ref361.children;var o=(0,wu.useRef)(null);var _D48=D(),n=_D48.config;var s=n.measurements;var a=typeof r==="string"?r:"";var l=e.x+s.advancedUIToolbar.width-10;var c=e.x+s.advancedUIToolbar.width+16;var u=t?"right":"left";var m={entering:_defineProperty({opacity:0},u,"".concat(l,"px")),entered:_defineProperty({opacity:1},u,"".concat(c,"px")),exiting:_defineProperty({opacity:0},u,"".concat(l,"px")),exited:_defineProperty({opacity:0},u,"".concat(l,"px"))};return wu["default"].createElement(JI,{nodeRef:o,"in":i,timeout:{exit:500}},function(p){return p!=="exited"&&wu["default"].createElement(YV,null,wu["default"].createElement(bdt,{ref:o,style:m[p],"data-test":N.Tooltip,reverse:t,position:e,label:a},wu["default"].createElement(ydt,null,a)));});};var j={Card:bf,CardContainer:N0,Toolbar:{Index:UV,Item:NV,Separator:WV,Tooltip:sj},Itemsbar:_f,BarSeparator:"",ItemsSeparator:G0,Controlsbar:FV,ToolControlBarItems:zV,Sidebar:{Index:DV,Heading:PV,SubHeading:V0,TextCategory:AV,ExpandableContainer:EV}};var Pe=y(_("react"));B();var nK=y(_("styled-components"));Ge();QI();tD();it();var eD=y(_("react"));B();O();W();var Pm=y(_("react"));B();we();var $0=/*#__PURE__*/function(_Pm$default$Component){_inherits($0,_Pm$default$Component);var _super255=_createSuper($0);function $0(){var _this397;_classCallCheck(this,$0);_this397=_super255.apply(this,arguments);_this397.renderIcon=function(t){var _this397$props=_this397.props,e=_this397$props.tool,r=_this397$props.config;var o=r.state.config[e];if("icon"in o){var s=o.icon;return Pm["default"].createElement(s,null);}var n=vy[t];return Pm["default"].createElement(n,null)||null;};_this397.update=function(t){var e=_this397.props.active;e.selectTool(t);};return _this397;}_createClass($0,[{key:"getToolTitle",value:function getToolTitle(t){var e=this.props.config;return e.locale[t].title;}},{key:"render",value:function render(){var _this398=this;var _this$props22=this.props,t=_this$props22.tool,e=_this$props22.disabled,r=_this$props22.custom,o=_this$props22.active,n=_this$props22.isReverse;var s=o.tool;if(t){var a=r.getAdvancedToolbarItem();if(!a){return null;}return Pm["default"].createElement(a,{key:t,isDisabled:e,isActive:t===s,isReverse:n,icon:this.renderIcon(t),onClick:function onClick(){return _this398.update(t);},tool:t,label:this.getToolTitle(t)});}return Pm["default"].createElement(j.Toolbar.Separator,null);}}]);return $0;}(Pm["default"].Component);$0=f([rt("active","config","custom"),w],$0);var cj=$0;var iD=w(function i(){var _D49=D(),t=_D49.custom,e=_D49.config,r=_D49.active;var o=e.config.order==="reverse";var n=t.getAdvancedToolbar();if(!n){return null;}return eD["default"].createElement(n,{reverse:o},e.tools.map(function(s,a){return eD["default"].createElement(cj,{key:s||a,tool:s,isReverse:o,disabled:!(r.image||s==="library"||s==="customTool")});}));});var he=y(_("react"));B();O();it();W();var Tf=y(_("react"));B();W();var Mm=y(_("react"));B();O();Xt();W();var aa=y(_("react"));B();O();W();var _dt=w(function(){var _D50=D(),i=_D50.adjustmentsTool,t=_D50.custom;var e=i.categories,r=i.items,o=i.config,n=i.locale;var s=function s(l){var c=i[l.identifier];var u=i.locale.categories[l.identifier]||l.name;var m=t.getSlider();if(!m){return null;}return aa["default"].createElement(m,{tool:"adjustment",identifier:l.identifier,adjust:true,key:l.identifier,label:u,value:c,onChange:function onChange(p){i.editAdjustments({type:l.identifier,value:p});},onMouseUp:function onMouseUp(){return i.toolSnapshot();},onTouchEnd:function onTouchEnd(){return i.toolSnapshot();},snap:0,style:{paddingBottom:"16px",width:"100%"}});};var a=function a(l,c){var u=n.categories[l.identifier]||l.name;if(!l.items)return null;return aa["default"].createElement(j.Sidebar.TextCategory,{key:l.identifier,name:u,isFirstCategory:c===0,isLastCategory:c===e.length-1},l.items.map(s));};if(o.flattenCategories)return aa["default"].createElement(aa["default"].Fragment,null,r.map(s));return aa["default"].createElement(aa["default"].Fragment,null,e.map(a));});var uj=function uj(){return aa["default"].createElement(j.Itemsbar,null,aa["default"].createElement(_dt,null));};var dj=y(_("react"));B();O();W();var mj=w(function(){var _D51=D(),i=_D51.adjustmentsTool,t=_D51.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return dj["default"].createElement(r,{tool:"adjustment",label:e.buttonReset,ariaLabel:e.buttonReset,isDisabled:!i.isDirty,onClick:o});});var pj=w(function(){var _D52=D(),i=_D52.adjustmentsTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"items":return Mm["default"].createElement(uj,{key:o});case"separator":return Mm["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"removeAdjustmentButton":return Mm["default"].createElement(mj,{key:o});default:return null;}}else if(_typeof(o)==="object"){return Mm["default"].createElement(j.Controlsbar,{key:o.type,show:i.isDirty},o.children.map(function(n){return r(n);}));}return null;};return Mm["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var hj=w(function(_ref362){var i=_ref362.displayTitle;var _D53=D(),t=_D53.adjustmentsTool;return Tf["default"].createElement(Tf["default"].Fragment,null,i&&Tf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Tf["default"].createElement(pj,null));});var kf=y(_("react"));B();var Il=y(_("react"));B();O();Xt();W();var rD=y(_("react"));B();O();Ge();it();W();var fj=w(function(){var _D54=D(),i=_D54.brushTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.colorList;return rD["default"].createElement(P.Input.Selection,{label:t.selectColor},rD["default"].createElement(De,{tool:"brush",activeColor:i.color,colors:r,labelsColor:e,onChange:i.changeColor}));});var gj=y(_("react"));B();O();W();U();var bj=w(function(){var _D55=D(),i=_D55.brushTool,t=_D55.custom;var e=i.locale.controls;var r=t.getSlider();if(!r){return null;}return gj["default"].createElement(r,{identifier:"brush-hardness",tool:"brush","data-test":N.BrushHardness,label:e.sliderHardness,value:i.hardness,min:0,max:1,onChange:i.changeHardness});});var yj=y(_("react"));B();O();W();U();var _j=w(function(){var _D56=D(),i=_D56.brushTool,t=_D56.custom;var e=i.locale.controls;var r=t.getSlider();if(!r){return null;}return yj["default"].createElement(r,{identifier:"brush-size",tool:"brush","data-test":N.BrushSize,label:e.sliderSize,value:i.relativeSize,min:1,max:100,divider:1,onChange:i.changeRelativeSize});});var xj=y(_("react"));B();O();W();var vj=w(function(){var _D57=D(),i=_D57.brushTool,t=_D57.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return xj["default"].createElement(r,{tool:"brush",label:e.buttonReset,ariaLabel:e.buttonReset,isDisabled:!i.isDirty,onClick:o});});var Cj=w(function(){var _D58=D(),i=_D58.brushTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"brushColorList":return Il["default"].createElement(fj,{key:o});case"brushHardnessSlider":return Il["default"].createElement(bj,{key:o});case"brushSizeSlider":return Il["default"].createElement(_j,{key:o});case"separator":return Il["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"removeBrushButton":return Il["default"].createElement(vj,{key:o});default:return null;}}else if(_typeof(o)==="object"){return Il["default"].createElement(j.Controlsbar,{key:o.type,show:i.isDirty},o.children.map(function(n){return r(n);}));}return null;};return Il["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var xdt=function xdt(_ref363){var i=_ref363.brushTool,t=_ref363.displayTitle;return kf["default"].createElement(kf["default"].Fragment,null,t&&kf["default"].createElement(j.Sidebar.Heading,null,i.locale.title),kf["default"].createElement(Cj,null));};var Sj=rt("brushTool")(w(xdt));var If=y(_("react"));O();W();var wj=function wj(_ref364){var i=_ref364.displayTitle;var _D59=D(),t=_D59.config;var e=t.state.config["customTool"].toolControlBar;var r=t.state.locale["customTool"].title;return If["default"].createElement(If["default"].Fragment,null,i&&If["default"].createElement(j.Sidebar.Heading,null,r),If["default"].createElement(e,{language:t.state.locale["customTool"]}));};var Df=y(_("react"));B();W();var ku=y(_("react"));B();O();Xt();W();var Tj=y(_("react"));B();O();W();var kj=w(function(){var _D60=D(),i=_D60.filterTool,t=_D60.custom;var e=i.locale.controls;var r=i.state;var o=function o(){i.toolSnapshot();};var n=t.getSlider();if(!n){return null;}return Tj["default"].createElement(n,{identifier:"filter-intensity",tool:"filter","aria-hidden":!i.isOptionSelected,label:e.sliderIntensity,value:r.intensity,min:0,max:1,onChange:i.changeIntensity,onMouseUp:o,onTouchEnd:o,snap:r.isDuotone?.5:null,isDisabled:!i.isOptionSelected});});var Ti=y(_("react"));B();O();it();W();U();var vdt=w(function(){var _D61=D(),i=_D61.filterTool,t=_D61.custom;var e=i.categories,r=i.config,o=i.items,n=i.locale;var s=t.getAdvancedItemCard();var a=t.getAdvancedCategoryCard();var l=function l(m,p){var x;var h=n.items[m.identifier]||m.name;var g=(x=n.controls)==null?void 0:x.itemAriaLabel;if(!s){return null;}return Ti["default"].createElement(s,{tool:"filter",type:"medium",onClick:function onClick(){return i.selectFilter(m.identifier,m.defaultIntensity);},key:m.identifier,image:m.thumbnailURI,label:h,"aria-label":g==null?void 0:g.replace("${label}",h),style:{animationDelay:"".concat(kt(p),"s")},isActive:i.identifier===m.identifier},Ti["default"].createElement(Se,{withBackground:true},h));};var c=function c(m,p){var b;var h=i.selectedCategoryIdentifier;var g=h===m.identifier;var x=n.categories[m.identifier]||m.name;var v=(b=n.controls)==null?void 0:b.categoryAriaLabel;if(!m.items||!a){return null;}return Ti["default"].createElement("div",{key:m.identifier},Ti["default"].createElement(a,{role:"button","aria-expanded":g,"aria-label":v==null?void 0:v.replace("${label}",x),isActive:g,tool:"filter",type:"large",onClick:function onClick(){return i.toggleCategorySelection(m.identifier);},image:m.thumbnailURI,label:x,style:{animationDelay:"".concat(kt(p),"s")}},Ti["default"].createElement(Se,{withBackground:true,caret:true,isActive:g},x)),Ti["default"].createElement(j.Sidebar.ExpandableContainer,{show:g},m.items.map(l)));};var u=function u(m,p){var h=n.categories[m.identifier]||m.name;if(!m.items)return null;return Ti["default"].createElement(j.Sidebar.TextCategory,{key:m.identifier,name:h,isFirstCategory:p===0,isLastCategory:p===e.length-1},m.items.map(l));};if(r.flattenCategories)return Ti["default"].createElement(Ti["default"].Fragment,null,o.map(l));if(r.categoryHeaderType==="card")return Ti["default"].createElement(Ti["default"].Fragment,null,e.map(c));if(r.categoryHeaderType==="text")return Ti["default"].createElement(Ti["default"].Fragment,null,e.map(u));return null;});var Ij=function Ij(){return Ti["default"].createElement(j.Itemsbar,null,Ti["default"].createElement(j.CardContainer,null,Ti["default"].createElement(vdt,null)));};var Dj=y(_("react"));B();O();W();var Ej=w(function(){var _D62=D(),i=_D62.filterTool,t=_D62.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return Dj["default"].createElement(r,{tool:"filter",label:e.buttonReset,ariaLabel:e.buttonReset,isDisabled:!i.isOptionSelected,onClick:o});});var Fj=w(function(){var _D63=D(),i=_D63.filterTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"items":return ku["default"].createElement(Ij,{key:o});case"separator":return ku["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"removeFilterButton":return ku["default"].createElement(Ej,{key:o});case"filterIntensitySlider":return ku["default"].createElement(kj,{key:o});default:return null;}}else if(_typeof(o)==="object"){return ku["default"].createElement(j.Controlsbar,{key:o.type,show:i.isOptionSelected},o.children.map(function(n){return r(n);}));}return null;};return ku["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var Rj=w(function(_ref365){var i=_ref365.displayTitle;var _D64=D(),t=_D64.filterTool;return Df["default"].createElement(Df["default"].Fragment,null,i&&Df["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Df["default"].createElement(Fj,null));});var Ef=y(_("react"));B();W();var Iu=y(_("react"));B();O();Xt();W();var Oj=y(_("react"));B();O();W();var Aj=w(function(){var _D65=D(),i=_D65.focusTool,t=_D65.custom;var e=i.locale.controls;var r=function r(){i.toolSnapshot(e.sliderIntensity);};var o=t.getSlider();if(!o){return null;}return Oj["default"].createElement(o,{identifier:"focus-intensity",tool:"focus","aria-hidden":!i.isOptionSelected,label:e.sliderIntensity,value:i.relativeIntensity,min:0,max:100,divider:1,onChange:i.changeRelativeIntensity,onMouseUp:r,onTouchEnd:r,isDisabled:!i.isOptionSelected});});var Dl=y(_("react"));B();O();it();W();U();var Cdt=w(function(){var _D66=D(),i=_D66.focusTool,t=_D66.custom;var e=i.items,r=i.locale;var o=function o(n,s){var u;var a=r.items[n.identifier]||n.name;var l=(u=r.controls)==null?void 0:u.itemAriaLabel;var c=t.getAdvancedItemCard();if(!c){return null;}return Dl["default"].createElement(c,{tool:"focus",type:"large",onClick:function onClick(){return i.selectFocus(n.identifier);},key:n.identifier,image:n.thumbnailURI,label:a,"aria-label":l==null?void 0:l.replace("${label}",a),style:{animationDelay:"".concat(kt(s),"s")},isActive:n.identifier===i.identifier},Dl["default"].createElement(Se,{withBackground:true},a));};return Dl["default"].createElement(Dl["default"].Fragment,null,e.map(o));});var Bj=function Bj(){return Dl["default"].createElement(j.Itemsbar,null,Dl["default"].createElement(j.CardContainer,null,Dl["default"].createElement(Cdt,null)));};var Pj=y(_("react"));B();O();W();var Mj=w(function(){var _D67=D(),i=_D67.focusTool,t=_D67.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return Pj["default"].createElement(r,{tool:"focus",label:e.buttonReset,ariaLabel:e.buttonReset,isDisabled:!i.isOptionSelected,onClick:o});});var Lj=w(function(){var _D68=D(),i=_D68.focusTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"separator":return Iu["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"removeFocusButton":return Iu["default"].createElement(Mj,{key:o});case"focusIntensitySlider":return Iu["default"].createElement(Aj,{key:o});case"items":return Iu["default"].createElement(Bj,{key:o});default:return null;}}else if(_typeof(o)==="object"){return Iu["default"].createElement(j.Controlsbar,{key:o.type,show:i.isOptionSelected},o.children.map(function(n){return r(n);}));}return null;};return Iu["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var zj=w(function(_ref366){var i=_ref366.displayTitle;var _D69=D(),t=_D69.focusTool;return Ef["default"].createElement(Ef["default"].Fragment,null,i&&Ef["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Ef["default"].createElement(Lj,null));});var Rf=y(_("react"));B();W();var la=y(_("react"));B();O();Xt();W();var oD=y(_("react"));B();O();Ge();it();W();var Uj=w(function(){var _D70=D(),i=_D70.frameTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.colorList,o=i.tintable;return oD["default"].createElement(P.Input.Selection,{isDisabled:!o,label:t.selectColor},oD["default"].createElement(De,{tool:"frame",activeColor:i.color,colors:r,labelsColor:e,isDisabled:!o,onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}));});var Ff=y(_("react"));B();O();it();W();U();var Nj=w(function(){var _D71=D(),i=_D71.frameTool,t=_D71.custom;var e=i.items,r=i.locale;var o=i.state?i.state.identifier:null;var n=function n(s,a){var m;var l=r.items[s.identifier]||s.name;var c=(m=r.controls)==null?void 0:m.itemAriaLabel;var u=t.getAdvancedItemCard();if(!u){return null;}return Ff["default"].createElement(u,{tool:"frame",type:"medium",onClick:function onClick(){return i.selectFrame(s.identifier);},key:s.identifier,image:s.thumbnailURI,label:l,"aria-label":c==null?void 0:c.replace("${label}",l),style:{backgroundSize:"75%",animationDelay:"".concat(kt(a),"s")},isActive:s.identifier===o},Ff["default"].createElement(Se,{hidden:true},l));};return Ff["default"].createElement(j.Itemsbar,null,Ff["default"].createElement(j.CardContainer,null,e.map(n)));});var Hj=y(_("react"));B();O();W();var Wj=w(function(){var _D72=D(),i=_D72.frameTool,t=_D72.custom;var e=i.locale.controls;var r=function r(n){i.toolSnapshot(n);};var o=t.getSlider();if(!o){return null;}return Hj["default"].createElement(o,{identifier:"frame-opacity",tool:"frame","aria-hidden":!i.isOptionSelected,label:e.sliderOpacity,value:i.opacity,min:0,max:1,onChange:i.changeOpacity,onMouseUp:function onMouseUp(){r(e.sliderOpacity);},onTouchEnd:function onTouchEnd(){r(e.sliderOpacity);},isDisabled:!i.isOptionSelected});});var Gj=y(_("react"));B();O();W();var Vj=w(function(){var _D73=D(),i=_D73.frameTool,t=_D73.custom;var e=i.locale.controls;var r=function r(n){i.toolSnapshot(n);};var o=t.getSlider();if(!o){return null;}return Gj["default"].createElement(o,{identifier:"frame-size",tool:"frame","aria-hidden":!i.isOptionSelected,label:e.sliderSize,value:i.size,min:i.minSize,max:i.maxSize,divider:1,onChange:i.changeWidth,onMouseUp:function onMouseUp(){r(e.sliderSize);},onTouchEnd:function onTouchEnd(){r(e.sliderSize);},isDisabled:!i.isOptionSelected});});var jj=y(_("react"));B();O();W();var $j=w(function(){var _D74=D(),i=_D74.frameTool,t=_D74.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return jj["default"].createElement(r,{tool:"frame",ariaLabel:e.buttonReset,onClick:o,isDisabled:!i.isOptionSelected,label:e.buttonReset});});var Kj=w(function(){var _D75=D(),i=_D75.frameTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"items":return la["default"].createElement(Nj,{key:o});case"separator":return la["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"frameOpacitySlider":return la["default"].createElement(Wj,{key:o});case"frameSizeSlider":return la["default"].createElement(Vj,{key:o});case"frameColorList":return la["default"].createElement(Uj,{key:o});case"removeFrameButton":return la["default"].createElement($j,{key:o});default:return null;}}else if(_typeof(o)==="object"){return la["default"].createElement(j.Controlsbar,{key:o.type,show:i.isOptionSelected},o.children.map(function(n){return r(n);}));}return null;};return la["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var Xj=w(function(_ref367){var i=_ref367.displayTitle;var _D76=D(),t=_D76.frameTool;return Rf["default"].createElement(Rf["default"].Fragment,null,i&&Rf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Rf["default"].createElement(Kj,null));});var Of=y(_("react"));B();W();var Du=y(_("react"));B();O();Xt();W();var Xe=y(_("react"));B();O();it();W();U();var Sdt=w(function(){var _D77=D(),i=_D77.active,t=_D77.library,e=_D77.custom;var r=t.query,o=t.config,n=t.selectedCategoryIdentifier,s=t.categories,a=t.items,l=t.locale;var c=e.getAdvancedCategoryCard();var u=e.getAdvancedItemCard();var m=function m(g,x){var b;var v=(b=l.controls)==null?void 0:b.itemAriaLabel;if(!u){return null;}return Xe["default"].createElement(u,{tool:"library",type:"medium",onClick:function onClick(){return i.newImage(g.rawUrl);},key:"".concat(g.identifier,"-").concat(x),image:g.thumbnailURI,label:g.name,"aria-label":v==null?void 0:v.replace("${label}",g.name),style:{animationDelay:"".concat(kt(x),"s")},authorAvatar:g.authorAvatar,authorName:g.authorName},g.authorAvatar&&Xe["default"].createElement(Yl,{url:g.authorAvatar}),g.authorName&&Xe["default"].createElement(Se,{withBackground:true},g.authorName));};var p=function p(g,x){var T;var v=n===g.identifier;var b=(T=l.controls)==null?void 0:T.categoryAriaLabel;if(!g.items||!c){return null;}return Xe["default"].createElement("div",{key:g.identifier},Xe["default"].createElement(c,{role:"button","aria-expanded":v,"aria-label":b==null?void 0:b.replace("${label}",g.name),isActive:v,tool:"library",type:"large",onClick:function onClick(){return t.toggleCategorySelection(g.identifier);},image:g.thumbnailURI,label:g.name,style:{animationDelay:"".concat(kt(x),"s")}},Xe["default"].createElement(Se,{withBackground:true,caret:true,isActive:v},g.name)),Xe["default"].createElement(j.Sidebar.ExpandableContainer,{show:v},g.items.map(m)));};var h=function h(g,x){if(!g.items)return null;return Xe["default"].createElement(j.Sidebar.TextCategory,{key:g.identifier,name:g.name,isFirstCategory:x===0,isLastCategory:x===s.length-1},g.items.map(m));};if(r)return a.length?Xe["default"].createElement(Xe["default"].Fragment,null,a.map(m)):Xe["default"].createElement("p",{"data-test":N.NoResult},t.locale.controls.noResults);if(o.flattenCategories)return Xe["default"].createElement(Xe["default"].Fragment,null,a.map(m));if(o.categoryHeaderType==="card")return Xe["default"].createElement(Xe["default"].Fragment,null,s.map(p));if(o.categoryHeaderType==="text")return Xe["default"].createElement(Xe["default"].Fragment,null,s.map(h));return null;});var qj=function qj(){return Xe["default"].createElement(j.Itemsbar,null,Xe["default"].createElement(j.CardContainer,null,Xe["default"].createElement(Sdt,null)));};var e$=y(_("react"));B();O();W();nD();var i$=w(function(){var _D78=D(),i=_D78.library,t=_D78.active;var e=i.config;var r=i.locale.controls;var o=function o(){t.selectWebcam(true);};if(e.enableWebcam){return e$["default"].createElement(X0,{tool:"library",onClick:o,label:r.buttonWebcamOpen});}return null;});var r$=y(_("react"));B();it();W();var o$=w(function(){var _D79=D(),i=_D79.library;var t=i.libraryProvider;var e=i.locale.controls;var r=function r(o){i.fetchImages(o);};if(t){return r$["default"].createElement(P.Input.Search,{onChange:r,placeholder:e.placeholderSearch});}return null;});var sD=y(_("react"));B();O();it();W();U();var n$=w(function(){var _D80=D(),i=_D80.library,t=_D80.active,e=_D80.custom;var r=i.config;var o=i.locale.controls;var n=e.getButton("toolControlBarPrimaryButton");var s=function s(l){var c=l.target.files;if(c.length){var u=new FileReader();u.onload=function(m){t.newImage(m.target.result);};u.readAsDataURL(c[0]);}};var a=function a(){var l=document.getElementById("fileUpload");if(l){l.click();}};if(r.enableUpload){if(!n){return null;}return sD["default"].createElement(n,{"data-test":N.LibraryUploadButton,tool:"library",ariaLabel:o.buttonUpload,onClick:a,label:o.buttonUpload},sD["default"].createElement(P.Input.File,{onChange:s}));}return null;});var s$=w(function(){var _D81=D(),i=_D81.library;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){switch(o){case"items":return Du["default"].createElement(qj,{key:o});case"openWebcamButton":return Du["default"].createElement(i$,{key:o});case"searchFieldInput":return Du["default"].createElement(o$,{key:o});case"separator":return Du["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"uploadImageButton":return Du["default"].createElement(n$,{key:o});default:return null;}};return Du["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var a$=w(function(_ref368){var i=_ref368.displayTitle;var _D82=D(),t=_D82.library;return Of["default"].createElement(Of["default"].Fragment,null,i&&Of["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Of["default"].createElement(s$,null));});var Af=y(_("react"));B();W();var Fl=y(_("react"));B();O();Xt();W();var l$=y(_("react"));B();it();W();var c$=w(function(){var _D83=D(),i=_D83.overlayTool;var t=i.allBlendModes,e=i.blendMode;var r=i.locale.controls;var o=function o(n){i.changeBlendMode(n);};return l$["default"].createElement(P.Input.CarouselSlider,{label:r.carouselBlendMode,defaultIdentifier:e,onSelect:o,list:t});});var El=y(_("react"));B();O();it();W();U();var wdt=w(function(){var _D84=D(),i=_D84.overlayTool,t=_D84.custom;var e=i.items,r=i.locale,o=i.identifier,n=i.selectOverlay;var s=function s(a,l){var p;var c=r.items[a.identifier]||a.name;var u=(p=r.controls)==null?void 0:p.itemAriaLabel;var m=t.getAdvancedItemCard();if(!m){return null;}return El["default"].createElement(m,{tool:"overlay",type:"medium",onClick:function onClick(){return n(a.identifier);},key:a.identifier,image:a.thumbnailURI,label:c,"aria-label":u==null?void 0:u.replace("${label}",c),style:{animationDelay:"".concat(kt(l),"s")},isActive:a.identifier===o},El["default"].createElement(Se,{withBackground:true},c));};return El["default"].createElement(El["default"].Fragment,null,e.map(s));});var u$=function u$(){return El["default"].createElement(j.Itemsbar,null,El["default"].createElement(j.CardContainer,null,El["default"].createElement(wdt,null)));};var d$=y(_("react"));B();O();W();var m$=w(function(){var _D85=D(),i=_D85.overlayTool,t=_D85.custom;var e=i.locale.controls;var r=function r(){i.toolSnapshot();};var o=t.getSlider();if(!o){return null;}return d$["default"].createElement(o,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!i.isOptionSelected,label:e.sliderOpacity,value:i.opacity,min:0,max:1,onChange:i.changeOpacity,onMouseUp:r,onTouchEnd:r,isDisabled:!i.isOptionSelected});});var p$=y(_("react"));B();O();W();var h$=w(function(){var _D86=D(),i=_D86.overlayTool,t=_D86.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return p$["default"].createElement(r,{tool:"overlay",label:e.buttonReset,ariaLabel:e.buttonReset,isDisabled:!i.isOptionSelected,onClick:o});});var f$=w(function(){var _D87=D(),i=_D87.overlayTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"items":return Fl["default"].createElement(u$,{key:o});case"separator":return Fl["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"overlayBlendModeCarousel":return Fl["default"].createElement(c$,{key:o});case"overlayOpacitySlider":return Fl["default"].createElement(m$,{key:o});case"removeOverlayButton":return Fl["default"].createElement(h$,{key:o});default:return null;}}else if(_typeof(o)==="object"){return Fl["default"].createElement(j.Controlsbar,{key:o.type,show:i.isOptionSelected},o.children.map(function(n){return r(n);}));}return null;};return Fl["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var g$=w(function(_ref369){var i=_ref369.displayTitle;var _D88=D(),t=_D88.overlayTool;return Af["default"].createElement(Af["default"].Fragment,null,i&&Af["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Af["default"].createElement(f$,null));});var Bf=y(_("react"));B();W();var Eu=y(_("react"));B();O();Xt();W();var aD=y(_("react"));B();O();Ge();it();W();var b$=w(function(){var _D89=D(),i=_D89.stickerTool;var t=i.colorList;var e=i.locale.controls;var r=i.localeColor.colorPicker;var o=!i.isStickerSelected||!i.tintable&&i.isStickerSelected;return aD["default"].createElement(P.Input.Selection,{isDisabled:o,label:e.selectColor},aD["default"].createElement(De,{tool:"sticker",activeSprite:i.id,activeColor:i.tintColor,colors:t,labelsColor:r,isDisabled:o,onChange:i.changeTintColor,onAddSnapshot:i.tintColorSnapshot}));});var ki=y(_("react"));B();O();it();W();U();var Tdt=w(function(){var _D90=D(),i=_D90.stickerTool,t=_D90.custom;var e=i.categories,r=i.selectedCategoryIdentifier,o=i.config,n=i.items,s=i.locale;var a=t.getAdvancedCategoryCard();var l=t.getAdvancedItemCard();var c=function c(p,h){var v;var g=s.items[p.identifier]||p.name;var x=(v=s.controls)==null?void 0:v.itemAriaLabel;if(!l){return null;}return ki["default"].createElement(l,{key:p.identifier,tool:"sticker",type:"small",onClick:function onClick(){return i.add(p.identifier);},image:p.thumbnailURI,label:g,"aria-label":x==null?void 0:x.replace("${label}",g),style:{backgroundSize:"75%",animationDelay:"".concat(yb(h),"s")}},ki["default"].createElement(Se,{hidden:true},g));};var u=function u(p,h){var b;var g=r===p.identifier;var x=s.categories[p.identifier]||p.name;var v=(b=s.controls)==null?void 0:b.categoryAriaLabel;if(!p.items||!a){return null;}return ki["default"].createElement("div",{key:p.identifier},ki["default"].createElement(a,{role:"button","aria-expanded":g,"aria-label":v==null?void 0:v.replace("${label}",x),isActive:g,tool:"sticker",type:"large",onClick:function onClick(){return i.toggleCategorySelection(p.identifier);},image:p.thumbnailURI,label:x,style:{animationDelay:"".concat(kt(h),"s")}},ki["default"].createElement(Se,{withBackground:true,caret:true,isActive:g},x)),ki["default"].createElement(j.Sidebar.ExpandableContainer,{show:g,key:"".concat(p.identifier,"-items")},p.items.map(c)));};var m=function m(p,h){var g=s.categories[p.identifier]||p.name;if(!p.items)return null;return ki["default"].createElement(j.Sidebar.TextCategory,{key:p.identifier,name:g,isFirstCategory:h===0,isLastCategory:h===e.length-1},p.items.map(c));};if(o.flattenCategories)return ki["default"].createElement(ki["default"].Fragment,null,n.map(c));if(o.categoryHeaderType==="card")return ki["default"].createElement(ki["default"].Fragment,null,e.map(u));if(o.categoryHeaderType==="text")return ki["default"].createElement(ki["default"].Fragment,null,e.map(m));return null;});var y$=function y$(){return ki["default"].createElement(j.Itemsbar,null,ki["default"].createElement(j.CardContainer,null,ki["default"].createElement(Tdt,null)));};var _$=y(_("react"));B();O();W();var x$=w(function(){var _D91=D(),i=_D91.stickerTool,t=_D91.custom;var e=i.locale.controls;var r=function r(){i.toolSnapshot();};var o=t.getSlider();if(!o){return null;}return _$["default"].createElement(o,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!i.isStickerSelected,label:e.sliderOpacity,value:i.opacity,min:0,max:1,onChange:i.changeOpacity,onMouseUp:r,onTouchEnd:r});});var lD=y(_("react"));B();var v$=y(_("styled-components"));O();it();W();var kdt=v$["default"].input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})(_templateObject367||(_templateObject367=_taggedTemplateLiteral(["\n  ","\n"])),gy.VisuallyHidden);var C$=w(function(){var _D92=D(),i=_D92.stickerTool,t=_D92.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarPrimaryButton");var o=function o(){var s=document.getElementById("fileUpload");if(s){s.value=null;s.click();}};var n=function n(s){var a=s.target.files;i.addFiles(a);};if(i.isCustomStickerEnabled){if(!r){return null;}return lD["default"].createElement(r,{tool:"sticker",ariaLabel:e.buttonUpload,onClick:o,label:e.buttonUpload},lD["default"].createElement(kdt,{onChange:n}));}return null;});var S$=w(function(){var _D93=D(),i=_D93.stickerTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){switch(o){case"items":return Eu["default"].createElement(y$,{key:o});case"separator":return Eu["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"uploadStickerButton":return Eu["default"].createElement(C$,{key:o});case"stickerColorList":return Eu["default"].createElement(b$,{key:o});case"stickerOpacitySlider":return Eu["default"].createElement(x$,{key:o});default:return null;}};return Eu["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var w$=w(function(_ref370){var i=_ref370.displayTitle;var _D94=D(),t=_D94.stickerTool;return Bf["default"].createElement(Bf["default"].Fragment,null,i&&Bf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Bf["default"].createElement(S$,null));});var Pf=y(_("react"));B();W();var Yo=y(_("react"));B();var z$=y(_("styled-components"));O();Xt();var cD=y(_("react"));B();O();Ge();it();W();var T$=w(function(){var _D95=D(),i=_D95.textTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.isTextSelected,o=i.backgroundColorList;return cD["default"].createElement(P.Input.Selection,{isDisabled:!r,label:t.selectBackgroundColor},cD["default"].createElement(De,{tool:"text",activeSprite:i.id,activeColor:i.backgroundColor,colors:o,labelsColor:e,isDisabled:!r,onChange:i.changeBackgroundColor,onAddSnapshot:i.backgroundColorSnapshot}));});var k$=y(_("react"));B();it();Xt();W();var I$=w(function(){var _D96=D(),i=_D96.textTool;var t=i.locale.controls;var e=i.fontFamily,r=i.fontStyle,o=i.fontWeight,n=i.fontFamilies,s=i.isTextSelected;var a=n.map(function(c){return{label:"".concat(c.fontFamily," ").concat(gt.getDisplayFontStyle(c)),fontWeight:c.fontWeight,fontStyle:c.fontStyle,fontFamily:c.fontFamily,value:c.identifier};});var l=a.filter(function(_ref371){var c=_ref371.value;return c===i.identifier;})[0];return k$["default"].createElement(P.Input.Dropdown,{isDisabled:!s,style:{fontFamily:e,fontStyle:r,fontWeight:o},itemStyle:function itemStyle(c){return{fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight};},label:t.dropdownFontFamily,list:a,onSelect:i.changeFont,selectedItem:l.label});});var D$=y(_("react"));B();var E$=y(_("styled-components"));it();W();var Idt=(0,E$["default"])(P.Input.NumericInput)(_templateObject368||(_templateObject368=_taggedTemplateLiteral(["\n  max-width: 50%;\n  margin-right: 16px;\n"])));var F$=w(function(){var _D97=D(),i=_D97.textTool;var t=i.locale.controls;var e=i.isTextSelected;var r=function r(o){var n=o?parseFloat(o):0;i.setFontSize(Math.max(10,Math.min(690,n)));};return D$["default"].createElement(Idt,{id:"photoeditorsdk-text-font-size-input",value:i.fontSize.toFixed(0),onSubmit:r,label:t.textFontSize,isDisabled:!e});});var R$=y(_("react"));B();O();W();var O$=w(function(){var _D98=D(),i=_D98.textTool,t=_D98.custom;var e=i.locale.controls;var r=i.isTextSelected;var o=function o(){i.toolSnapshot();};var n=t.getSlider();if(!n){return null;}return R$["default"].createElement(n,{identifier:"text-line-spacing",tool:"text",isDisabled:!r,label:e.sliderLineSpacing,value:i.lineHeight,min:.5,max:3,onChange:i.changeLineHeight,onMouseUp:o,onTouchEnd:o,snap:1,divider:1,decimal:1});});var A$=y(_("react"));B();O();W();var B$=w(function(){var _D99=D(),i=_D99.textTool,t=_D99.custom;var e=i.locale.controls;var r=function r(){i.add();};var o=t.getButton("toolControlBarPrimaryButton");if(!o){return null;}return A$["default"].createElement(o,{tool:"text",ariaLabel:e.buttonNew,onClick:r,label:e.buttonNew});});var q0=y(_("react"));B();var P$=y(_("styled-components"));it();W();we();U();var Ddt=(0,P$["default"])(P.Input.Selection)(_templateObject369||(_templateObject369=_taggedTemplateLiteral(["\n  width: 50%;\n"])));var M$=w(function(){var _D100=D(),i=_D100.textTool,t=_D100.custom;var e=i.locale.controls;var r=i.isTextSelected,o=i.alignment;var n=["left","center","right"];var s=t.getButton("textAlignment");return q0["default"].createElement(Ddt,{isDisabled:!r,inline:true,label:e.selectAlignment,"data-test":N.TextAlignment},n.map(function(a){var l=Cy[a];return q0["default"].createElement(s,{tool:a,isDisabled:!r,ariaLabel:"Align ".concat(a),isActive:a===o,key:a,style:{padding:"1px 3px 2px"},icon:q0["default"].createElement(l,null),onClick:function onClick(){return i.changeAlignment(a);}});}));});var uD=y(_("react"));B();O();Ge();it();W();var L$=w(function(){var _D101=D(),i=_D101.textTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.isTextSelected,o=i.colorList;return uD["default"].createElement(P.Input.Selection,{isDisabled:!r,label:t.selectFontColor},uD["default"].createElement(De,{tool:"text",activeSprite:i.id,activeColor:i.textColor,colors:o,labelsColor:e,isDisabled:!r,onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}));});var Edt=z$["default"].div(_templateObject370||(_templateObject370=_taggedTemplateLiteral(["\n  display: flex;\n  justify-content: space-between;\n"])));var Fdt=function Fdt(_ref372){var i=_ref372.textTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){if(typeof o==="string"){switch(o){case"newTextButton":return Yo["default"].createElement(B$,{key:o});case"fontFamilyDropdown":return Yo["default"].createElement(I$,{key:o});case"separator":return Yo["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"textColorList":return Yo["default"].createElement(L$,{key:o});case"backgroundColorList":return Yo["default"].createElement(T$,{key:o});case"lineSpacingSlider":return Yo["default"].createElement(O$,{key:o});case"textAlignmentList":return Yo["default"].createElement(M$,{key:o});case"fontSizeInput":return Yo["default"].createElement(F$,{key:o});default:return null;}}else if(_typeof(o)==="object"){return Yo["default"].createElement(Edt,{key:o.type},o.children.map(function(n){return r(n);}));}return null;};return Yo["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));};var U$=rt("textTool")(w(Fdt));var N$=w(function(_ref373){var i=_ref373.displayTitle;var _D102=D(),t=_D102.textTool;return Pf["default"].createElement(Pf["default"].Fragment,null,i&&Pf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Pf["default"].createElement(U$,null));});var Mf=y(_("react"));B();W();var Fu=y(_("react"));B();O();Xt();W();var H$=y(_("react"));B();O();W();var W$=w(function(){var _D103=D(),i=_D103.textDesignTool,t=_D103.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarPrimaryButton");var o=function o(){i.add();};if(!r){return null;}return H$["default"].createElement(r,{tool:"textdesign",ariaLabel:e.buttonNew,onClick:o,label:e.buttonNew});});var G$=y(_("react"));B();O();W();var V$=w(function(){var _D104=D(),i=_D104.textDesignTool,t=_D104.custom;var e=i.locale.controls;var r=i.isTextDesignSelected;var o=t.getButton("toolControlBarSecondaryButton");var n=function n(){i.changeSeed();};if(!o){return null;}return G$["default"].createElement(o,{tool:"textdesign",ariaLabel:e.buttonShuffle,isDisabled:!r,onClick:n,label:e.buttonShuffle});});var dD=y(_("react"));B();O();Ge();it();W();var j$=w(function(){var _D105=D(),i=_D105.textDesignTool;var t=i.locale.controls;var e=i.localeColor.colorPicker;var r=i.isTextDesignSelected,o=i.colorList;return dD["default"].createElement(P.Input.Selection,{isDisabled:!r,label:t.selectColor},dD["default"].createElement(De,{tool:"textdesign",activeSprite:i.id,activeColor:i.color,colors:o,labelsColor:e,isDisabled:!r,onChange:i.changeColor,onAddSnapshot:i.colorSnapshot}));});var Rl=y(_("react"));B();O();it();W();U();var Rdt=w(function(){var _D106=D(),i=_D106.textDesignTool,t=_D106.custom;var e=i.items,r=i.identifier,o=i.locale;var n=function n(a){i.changeIdentifier(a);};var s=function s(a,l){var m;var c=(m=o.controls)==null?void 0:m.itemAriaLabel;var u=t.getAdvancedItemCard();if(!u){return null;}return Rl["default"].createElement(u,{key:a.identifier,tool:"textdesign",type:"medium",onClick:function onClick(){return n(a.identifier);},image:a.thumbnailURI,label:a.name||"","aria-label":c==null?void 0:c.replace("${label}",a.name),style:{animationDelay:"".concat(kt(l),"s"),backgroundSize:"60%"},isDisabled:!i.isTextDesignSelected,isActive:r===a.identifier},Rl["default"].createElement(Se,{hidden:true},a.name));};return Rl["default"].createElement(Rl["default"].Fragment,null,e.map(s));});var $$=function $$(){return Rl["default"].createElement(j.Itemsbar,null,Rl["default"].createElement(j.CardContainer,null,Rl["default"].createElement(Rdt,null)));};var K$=w(function(){var _D107=D(),i=_D107.textDesignTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){switch(o){case"items":return Fu["default"].createElement($$,{key:o});case"separator":return Fu["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"newTextDesignButton":return Fu["default"].createElement(W$,{key:o});case"shuffleLayoutButton":return Fu["default"].createElement(V$,{key:o});case"textDesignColorList":return Fu["default"].createElement(j$,{key:o});default:return null;}};return Fu["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var X$=w(function(_ref374){var i=_ref374.displayTitle;var _D108=D(),t=_D108.textDesignTool;return Mf["default"].createElement(Mf["default"].Fragment,null,i&&Mf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Mf["default"].createElement(K$,null));});var Lf=y(_("react"));B();W();var Ru=y(_("react"));B();O();Xt();W();var q$=y(_("react"));B();Ge();W();var Y$=w(function(){var _D109=D(),i=_D109.transformTool;var t=i.locale.controls;var e=i.forceDimensions,r=i.localOutputHeight,o=i.localOutputWidth;return q$["default"].createElement(gf,{isDisabled:e,showLabel:true,valueHeight:r,valueWidth:o,onSubmitWidth:i.onPixelWidth,onSubmitHeight:i.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel});});var J$=y(_("react"));B();O();W();var Z$=w(function(){var _D110=D(),i=_D110.transformTool,t=_D110.custom;var e=i.locale.controls;var r=i.forceDimensions,o=i.lockResolution;var n=t.getCheckbox();if(!n){return null;}return J$["default"].createElement(n,{tool:"transform",isDisabled:r,value:o,label:e.checkboxKeepResolution,checkMarkPosition:"right",onClick:i.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}});});var Q$=y(_("react"));B();O();W();var tK=w(function(){var _D111=D(),i=_D111.transformTool,t=_D111.custom;var e=i.locale.controls;var r=t.getButton("toolControlBarSecondaryButton");var o=function o(){i.reset();};if(!r){return null;}return Q$["default"].createElement(r,{tool:"transform",ariaLabel:e.buttonReset,onClick:o,label:e.buttonReset});});var ci=y(_("react"));B();var mD=_("react-dom/server");O();it();W();we();U();var Odt=w(function(){var _D112=D(),i=_D112.transformTool,t=_D112.custom,e=_D112.editor;var r=i.categories,o=i.items,n=i.identifier,s=i.config,a=i.locale;var l=t.getAdvancedItemCard();var c=t.getAdvancedCategoryCard();var u=function u(h,g){var A;var _e$configStore=e.configStore,x=_e$configStore.theme,v=_e$configStore.measurements;var b=a.items[h.identifier]||h.name;var T=(A=a.controls)==null?void 0:A.itemAriaLabel;var k=h.thumbnailURI||"";var E="80%";if(!i.checkIfTransformThumbnailExits(h.thumbnailURI)){var I=h.identifier.includes("imgly_transform_common");var F=Vt.crops[h.identifier]||Vt.crops.imgly_transform_common_custom;var Z=ci["default"].createElement(F,{width:v.advancedUICard.medium.width-(I?42:0),height:v.advancedUICard.medium.height-(I?42:0),main:x.transform.crops.main,highlight:x.transform.crops.highlight,shadow:x.transform.crops.shadow});k="'data:image/svg+xml,".concat(encodeURIComponent((0,mD.renderToStaticMarkup)(Z)),"'");E=ve()||wr()?"auto":"unset";}if(!l){return null;}return ci["default"].createElement(l,{key:h.identifier,tool:"transform",type:"medium",onClick:function onClick(){return i.changeIdentifier(h.identifier,true);},image:k,label:b,"aria-label":T==null?void 0:T.replace("${label}",b),style:{backgroundSize:E,animationDelay:"".concat(kt(g),"s")},isActive:h.identifier===n},ci["default"].createElement(Se,null,b));};var m=function m(h,g){var A;var _e$configStore2=e.configStore,x=_e$configStore2.theme,v=_e$configStore2.measurements;var b=i.selectedCategoryIdentifier===h.identifier;var T=a.categories[h.identifier]||h.name;var k=(A=a.controls)==null?void 0:A.categoryAriaLabel;var E=h.thumbnailURI||"";if(!h.items||!c){return null;}if(!i.checkIfTransformThumbnailExits(h.thumbnailURI)){var I=Vt.categories[h.identifier]||Vt.crops.imgly_transform_common_custom;var F=ci["default"].createElement(I,{width:v.advancedUICard.large.width-42,height:v.advancedUICard.large.height-42,main:x.transform.crops.main,highlight:x.transform.crops.highlight,shadow:x.transform.crops.shadow});E="'data:image/svg+xml,".concat(encodeURIComponent((0,mD.renderToStaticMarkup)(F)),"'");}return ci["default"].createElement("div",{key:h.identifier},ci["default"].createElement(c,{role:"button","aria-expanded":b,"aria-label":k==null?void 0:k.replace("${label}",T),isActive:b,type:"large",onClick:function onClick(){return i.toggleCategorySelection(h.identifier);},key:h.identifier,image:E,style:{animationDelay:"".concat(kt(g),"s")},label:h.name,tool:"transform"},ci["default"].createElement(Se,{caret:true,isActive:b},T)),ci["default"].createElement(j.Sidebar.ExpandableContainer,{show:b},h.items.map(u)));};var p=function p(h,g){var x=a.categories[h.identifier]||h.name;if(!h.items)return null;return ci["default"].createElement(j.Sidebar.TextCategory,{key:h.identifier,name:x,isFirstCategory:g===0,isLastCategory:g===r.length-1},h.items.map(u));};if(s.flattenCategories)return ci["default"].createElement(ci["default"].Fragment,null,o.map(u));if(s.categoryHeaderType==="card")return ci["default"].createElement(ci["default"].Fragment,null,r.map(m));if(s.categoryHeaderType==="text")return ci["default"].createElement(ci["default"].Fragment,null,r.map(p));return null;});var eK=function eK(){return ci["default"].createElement(j.Itemsbar,null,ci["default"].createElement(j.CardContainer,null,ci["default"].createElement(Odt,null)));};var iK=w(function(){var _D113=D(),i=_D113.transformTool;var t=i.config;var e=t.advancedUIToolControlBarOrder;var r=function r(o){switch(o){case"items":return Ru["default"].createElement(eK,{key:o});case"separator":return Ru["default"].createElement(j.ItemsSeparator,{full:true,key:At()});case"resetTransformButton":return Ru["default"].createElement(tK,{key:o});case"keepResolutionCheckbox":return Ru["default"].createElement(Z$,{key:o});case"cropSizeInput":return Ru["default"].createElement(Y$,{key:o});default:return null;}};return Ru["default"].createElement(j.ToolControlBarItems,null,e.map(function(o){return r(o);}));});var rK=w(function(_ref375){var i=_ref375.displayTitle;var _D114=D(),t=_D114.transformTool;return Lf["default"].createElement(Lf["default"].Fragment,null,i&&Lf["default"].createElement(j.Sidebar.Heading,null,t.locale.title),Lf["default"].createElement(iK,null));});var pD=w(function i(){var _D115=D(),t=_D115.active,e=_D115.config,r=_D115.custom;var o=t.tool;var n=e.config.displayToolControlBarTitle;var s=r.getAdvancedToolControlBar();if(!s){return null;}return he["default"].createElement(s,{reverse:e.config.order==="reverse",tool:o},he["default"].createElement(P.Switch.Index,{type:o},he["default"].createElement(P.Switch.Case,{value:"library"},he["default"].createElement(a$,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"filter"},he["default"].createElement(Rj,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"focus"},he["default"].createElement(zj,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"adjustment"},he["default"].createElement(hj,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"overlay"},he["default"].createElement(g$,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"sticker"},he["default"].createElement(w$,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"text"},he["default"].createElement(N$,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"textdesign"},he["default"].createElement(X$,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"frame"},he["default"].createElement(Xj,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"brush"},he["default"].createElement(Sj,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"transform"},he["default"].createElement(rK,{displayTitle:n})),he["default"].createElement(P.Switch.Case,{value:"customTool"},he["default"].createElement(wj,{displayTitle:n}))));});var oK=nK["default"].div(_templateObject371||(_templateObject371=_taggedTemplateLiteral(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"])),function(i){return i.theme.measurements.advancedUIToolbar.width+i.theme.measurements.advancedUIToolControlBar.width;},function(i){return i.theme.webcam.backdrop;},function(i){return i.theme.measurements.zIndex.disable;});var zf=/*#__PURE__*/function(_Pe$default$Component){_inherits(zf,_Pe$default$Component);var _super256=_createSuper(zf);function zf(){_classCallCheck(this,zf);return _super256.apply(this,arguments);}_createClass(zf,[{key:"render",value:function render(){var _this$props23=this.props,t=_this$props23.config,e=_this$props23.active,r=_this$props23.canvas,o=_this$props23.custom;var n=o.getWindowContainer();return t.isOrderDefault?Pe["default"].createElement(P.Container,null,e.isWebcam?Pe["default"].createElement(oK,{style:{left:0}}):null,Pe["default"].createElement(Fm,null),Pe["default"].createElement(iD,null),Pe["default"].createElement(pD,null),Pe["default"].createElement(Va,null,Pe["default"].createElement(vm,null),n&&Pe["default"].createElement(n,{tool:e.tool},Pe["default"].createElement(wf,null,e.isWebcam?Pe["default"].createElement(Sf,null):null,e.image&&r&&Pe["default"].createElement(Dm,null))))):Pe["default"].createElement(P.Container,null,e.isWebcam?Pe["default"].createElement(oK,{style:{right:0}}):null,Pe["default"].createElement(Fm,null),Pe["default"].createElement(Va,null,Pe["default"].createElement(vm,null),n&&Pe["default"].createElement(n,{tool:e.tool},Pe["default"].createElement(wf,null,e.isWebcam?Pe["default"].createElement(Sf,null):null,e.image&&r&&Pe["default"].createElement(Dm,null)))),Pe["default"].createElement(pD,null),Pe["default"].createElement(iD,null));}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(t){console.error(t);return{hasError:true};}}]);return zf;}(Pe["default"].Component);zf=f([rt("config","active","canvas","custom"),w],zf);var Lm=y(_("react"));var sK=y(_("styled-components"));var aK=/*#__PURE__*/function(_Lm$default$Component){_inherits(aK,_Lm$default$Component);var _super257=_createSuper(aK);function aK(t){var _this399;_classCallCheck(this,aK);_this399=_super257.call(this,t);_this399.ref=null;_this399.updatePosition=function(){var t=_this399.props.isReverse;var e={x:0,y:0};if(_this399.ref.current){var _this399$ref$current$=_this399.ref.current.getBoundingClientRect(),r=_this399$ref$current$.top,o=_this399$ref$current$.height,n=_this399$ref$current$.left,s=_this399$ref$current$.right;e.y=r+o/4;e.x=t?window.innerWidth-s:n;}_this399.setState({tooltipPosition:e});};_this399.mouseOver=function(t){_this399.updatePosition();_this399.setState({hoverTool:t});};_this399.mouseOut=function(){_this399.setState({hoverTool:null});};_this399.state={hoverTool:null,tooltipPosition:{x:0,y:0}};_this399.ref=Lm["default"].createRef();return _this399;}_createClass(aK,[{key:"componentDidMount",value:function componentDidMount(){this.updatePosition();}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var e=this.props.isReverse;if(e!==t.isReverse){this.updatePosition();}}},{key:"render",value:function render(){var _this400=this;var _this$props24=this.props,t=_this$props24.tool,e=_this$props24.isActive,r=_this$props24.isReverse,o=_this$props24.isDisabled,n=_this$props24.icon,s=_this$props24.label,a=_this$props24.onClick,l=_this$props24.className,c=_this$props24.children;var _this$state10=this.state,u=_this$state10.hoverTool,m=_this$state10.tooltipPosition;return Lm["default"].createElement(Adt,{ref:this.ref,onMouseOver:function onMouseOver(){return _this400.mouseOver(t);},onMouseOut:function onMouseOut(){return _this400.mouseOut();},onFocus:function onFocus(){return _this400.mouseOver(t);},onBlur:function onBlur(){return _this400.mouseOut();},className:l},Lm["default"].createElement(j.Toolbar.Item,{ariaLabel:s,isActive:e,isDisabled:o,onClick:function onClick(){return a(t);}},n,c),Lm["default"].createElement(j.Toolbar.Tooltip,{position:m,reverse:r,show:u===t},s));}}]);return aK;}(Lm["default"].Component);var Uf=aK;var Adt=sK["default"].div(_templateObject372||(_templateObject372=_taggedTemplateLiteral(["\n  position: relative;\n"])));var Y0=/*#__PURE__*/function(_Nf$default$Component){_inherits(Y0,_Nf$default$Component);var _super258=_createSuper(Y0);function Y0(){var _this401;_classCallCheck(this,Y0);_this401=_super258.apply(this,arguments);_this401.componentWillUnmount=function(){_this401.editor.cleanUpCanvasMemory();};return _this401;}_createClass(Y0,[{key:"componentDidMount",value:function componentDidMount(){var _this$props25=this.props,t=_this$props25.editor,e=_this$props25.storeProps;this.editor=t;this.storeProps=e;var r=new Em(this.editor.configStore.config.custom.components,{advancedUICategoryCard:j.Card,advancedUIItemCard:j.Card,advancedUIToolbarItem:Uf,advancedUIToolbar:j.Toolbar.Index,advancedUIToolControlBar:j.Sidebar.Index});var o={getAdvancedCategoryCard:r.getAdvancedCategoryCard,getAdvancedItemCard:r.getAdvancedItemCard,getAdvancedToolbarItem:r.getAdvancedToolbarItem,getAdvancedToolbar:r.getAdvancedToolbar,getAdvancedToolControlBar:r.getAdvancedToolControlBar,getDialog:r.getDialog,getButton:r.getButton,getColorItem:r.getColorItem,getCheckbox:r.getCheckbox,getWindowContainer:r.getWindowContainer,getSlider:r.getSlider};this.storeProps.custom=o;this.forceUpdate();}},{key:"render",value:function render(){return this.storeProps?Nf["default"].createElement(ep,_objectSpread({},this.storeProps),Nf["default"].createElement(lK.ThemeProvider,{theme:_objectSpread(_objectSpread({},this.editor.configStore.theme),{},{measurements:this.editor.configStore.measurements})},Nf["default"].createElement(zf,null))):null;}}]);return Y0;}(Nf["default"].Component);qt();UI();it();LS();yy();var sg=y(_("react"));var ID=y(_("react-dom"));O();Xt();var ts=y(_("react"));var Emt=ts["default"].lazy(function(){return Promise.resolve().then(function(){return JY(),YY;});});var Fmt=function Fmt(i){return{filterTool:i.filterToolStore,focusTool:i.focusToolStore,adjustmentsTool:i.adjustmentsToolStore,overlayTool:i.overlayToolStore,frameTool:i.frameToolStore,brushTool:i.brushToolStore,transformTool:i.transformToolStore,scale:i.scale,sprite:i.spriteStore,stickerTool:i.spriteStore.stickerToolStore,textTool:i.spriteStore.textToolStore,textDesignTool:i.spriteStore.textDesignToolStore,library:i.libraryStore,modal:i.modalStore,snapping:i.snappingStore,config:i.configStore,active:i.activeStore,canvas:i.canvasStore,history:i.historyStore,editor:i};};var fv=function fv(_ref376){var i=_ref376.editor;var t=(0,ts.useMemo)(function(){return Fmt(i);},[i]);if(i.configStore.config.layout==="basic"){return ts["default"].createElement(ts.Suspense,{fallback:ts["default"].createElement("div",null)},ts["default"].createElement(Emt,{editor:i,storeProps:t}));}return ts["default"].createElement(Y0,{editor:i,storeProps:t});};var ZY=/*#__PURE__*/function(_Tr4){_inherits(ZY,_Tr4);var _super259=_createSuper(ZY);function ZY(t,e,r){var _o12;var _this402;_classCallCheck(this,ZY);_this402=_super259.call(this);_this402.dispose=function(){if(_this402.container){ID["default"].unmountComponentAtNode(_this402.container);_this402.removeAllListeners("export");_this402.removeAllListeners("historyUndo");_this402.removeAllListeners("historyRedo");_this402.removeAllListeners("historyChange");_this402.removeAllListeners("editorReady");_this402.removeAllListeners("errorImageLoading");_this402.removeAllListeners("imageLoad");_this402.removeAllListeners("toolEnter");_this402.removeAllListeners("stickerUploadAdd");_this402.removeAllListeners("errorWebGLContextLost");_this402.removeAllListeners("cropDimensionsChange");if(_this402.editor){_this402.editor.dispose();}}};_this402.serialize=function(t){return _this402.editor.serialize(t);};_this402.deserialize=function(t){return _this402.editor.deserialize(t);};_this402["export"]=function(t){return _this402.editor["export"](t);};_this402.close=function(){return _this402.editor.close();};_this402.setImage=function(t){return _this402.editor.setImage(t,true);};_this402.getImageDimensions=function(){return _this402.editor.getImageDimensions();};_this402.getImageMimeType=function(){return _this402.editor.getImageMimeType();};_this402.reset=function(){_this402.editor.resetToolStates();_this402.editor.resize();};_this402.container=e;var o=(_o12={},_defineProperty(_o12,"export",function _export(n){_this402.emit("export",n);}),_defineProperty(_o12,"close",function close(){_this402.emit("close");_this402.dispose();}),_defineProperty(_o12,"historyUndo",function historyUndo(){_this402.emit("historyUndo");}),_defineProperty(_o12,"historyRedo",function historyRedo(){_this402.emit("historyRedo");}),_defineProperty(_o12,"historyChange",function historyChange(){_this402.emit("historyChange");}),_defineProperty(_o12,"stickerUploadAdd",function stickerUploadAdd(n){_this402.emit("stickerUploadAdd",n);}),_defineProperty(_o12,"cropDimensionsChange",function cropDimensionsChange(n){_this402.emit("cropDimensionsChange",n);}),_o12);if(r){Object.entries(r).forEach(function(_ref377){var _ref378=_slicedToArray(_ref377,2),n=_ref378[0],s=_ref378[1];o[n]=s(_assertThisInitialized(_this402));});}_this402.editor=new Cl(_objectSpread({},t),o);return _this402;}_createClass(ZY,[{key:"hasChanges",value:function hasChanges(){return this.editor.hasChanges();}}]);return ZY;}(Tr);var QY=/*#__PURE__*/function(){function QY(){_classCallCheck(this,QY);this.container=null;}_createClass(QY,[{key:"init",value:function init(t){var _this403=this;return new Promise(function(e,r){if(typeof window==="undefined"){e();return;}_this403.container=typeof t.container==="string"?document.querySelector(t.container):t.container;if(_this403.container){var _ZY;_this403.editorApi=new ZY(t,_this403.container,(_ZY={},_defineProperty(_ZY,"editorReady",function editorReady(o){return function(){setTimeout(function(){o.emit("editorReady");},0);e(o);};}),_defineProperty(_ZY,"errorImageLoading",function errorImageLoading(o){return function(n){setTimeout(function(){o.emit("errorImageLoading",n);},0);e(o);};}),_defineProperty(_ZY,"errorWebGLContextLost",function errorWebGLContextLost(o){return function(n){setTimeout(function(){o.emit("errorWebGLContextLost",n);},0);e(o);};}),_defineProperty(_ZY,"imageLoad",function imageLoad(o){return function(){setTimeout(function(){o.emit("imageLoad");},0);e(o);};}),_defineProperty(_ZY,"toolEnter",function toolEnter(o){return function(n){setTimeout(function(){o.emit("toolEnter",n);},0);e(o);};}),_ZY));ID["default"].render(sg["default"].createElement(Rmt,{editor:_this403.editorApi.editor}),_this403.container);}else{r(new Error("Provide a container"));}});}}]);return QY;}();var Rmt=function Rmt(_ref379){var i=_ref379.editor;(0,sg.useEffect)(function(){return function(){var t;if((t=i==null?void 0:i.configStore)==null?void 0:t.events){i.configStore.events.removeAllListeners("export");i.configStore.events.removeAllListeners("close");i.configStore.events.removeAllListeners("historyUndo");i.configStore.events.removeAllListeners("historyRedo");i.configStore.events.removeAllListeners("historyChange");i.configStore.events.removeAllListeners("editorReady");i.configStore.events.removeAllListeners("errorImageLoading");i.configStore.events.removeAllListeners("imageLoad");i.configStore.events.removeAllListeners("toolEnter");i.configStore.events.removeAllListeners("stickerUploadAdd");i.configStore.events.removeAllListeners("errorWebGLContextLost");i.configStore.events.removeAllListeners("cropDimensionsChange");}};},[]);return sg["default"].createElement(fv,{editor:i});};var tJ={init:function init(i){var t=new QY();return t.init(i);}};O();var gv=y(_("react"));O();Xt();var eJ=/*#__PURE__*/function(_gv$default$Component){_inherits(eJ,_gv$default$Component);var _super260=_createSuper(eJ);function eJ(t){var _Cl;var _this404;_classCallCheck(this,eJ);_this404=_super260.call(this,t);_this404.ui=new Tr();_this404.serialize=function(t){return _this404.editor.serialize(t);};_this404.deserialize=function(t){return _this404.editor.deserialize(t);};_this404["export"]=function(t){return _this404.editor["export"](t);};_this404.close=function(){return _this404.editor.close();};_this404.setImage=function(t){return _this404.editor.setImage(t,true);};_this404.getImageDimensions=function(){return _this404.editor.getImageDimensions();};_this404.dispose=function(){_this404.ui.removeAllListeners("export");_this404.ui.removeAllListeners("historyUndo");_this404.ui.removeAllListeners("historyRedo");_this404.ui.removeAllListeners("historyChange");_this404.ui.removeAllListeners("editorReady");_this404.ui.removeAllListeners("errorImageLoading");_this404.ui.removeAllListeners("imageLoad");_this404.ui.removeAllListeners("toolEnter");_this404.ui.removeAllListeners("stickerUploadAdd");_this404.ui.removeAllListeners("errorWebGLContextLost");_this404.ui.removeAllListeners("cropDimensionsChange");if(_this404.editor){_this404.editor.dispose();}};_this404.reset=function(){_this404.editor.resetToolStates();_this404.editor.resize();};_this404.editor=new Cl(_objectSpread({},t),(_Cl={},_defineProperty(_Cl,"export",function _export(e){_this404.ui.emit("export",e);}),_defineProperty(_Cl,"close",function close(){_this404.componentWillUnmount();_this404.ui.emit("close");}),_defineProperty(_Cl,"historyUndo",function historyUndo(){_this404.ui.emit("historyUndo");}),_defineProperty(_Cl,"historyRedo",function historyRedo(){_this404.ui.emit("historyRedo");}),_defineProperty(_Cl,"historyChange",function historyChange(){_this404.ui.emit("historyChange");}),_defineProperty(_Cl,"editorReady",function editorReady(){_this404.ui.emit("editorReady");}),_defineProperty(_Cl,"errorImageLoading",function errorImageLoading(e){_this404.ui.emit("errorImageLoading",e);}),_defineProperty(_Cl,"imageLoad",function imageLoad(){_this404.ui.emit("imageLoad");}),_defineProperty(_Cl,"toolEnter",function toolEnter(e){_this404.ui.emit("toolEnter",e);}),_defineProperty(_Cl,"stickerUploadAdd",function stickerUploadAdd(e){_this404.ui.emit("stickerUploadAdd",e);}),_defineProperty(_Cl,"cropDimensionsChange",function cropDimensionsChange(e){_this404.ui.emit("cropDimensionsChange",e);}),_defineProperty(_Cl,"errorWebGLContextLost",function errorWebGLContextLost(){_this404.ui.emit("errorWebGLContextLost");}),_Cl));return _this404;}_createClass(eJ,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.dispose();}},{key:"hasChanges",value:function hasChanges(){return this.editor.hasChanges();}},{key:"render",value:function render(){return gv["default"].createElement(fv,{editor:this.editor});}}]);return eJ;}(gv["default"].Component);var iJ=function iJ(i){if(typeof window==="undefined"){return null;}return gv["default"].createElement(eJ,_objectSpread({},i));};Xt();W();var Omt=function Omt(){var _D116=D(),i=_D116.active;return i.newImage;};W();var Amt=function Amt(){var _D117=D(),i=_D117.active;return i.image;};W();var Bmt=function Bmt(){var i=D();return i.config.isLayoutAdvanced;};wg({isolateGlobalState:true});var _P6=P,Pmt=_P6.Container,Mmt=_P6.Input,Lmt=_P6.ColorItem,zmt=_P6.ColorItemBase,Umt=_P6.ColorItemBackground,Nmt=_P6.ColorItemTiledBackground,Hmt=_P6.ColorItemActiveOverlay,Wmt=_P6.Dialog,Gmt=_P6.DialogBase,Vmt=_P6.DialogContainer,jmt=_P6.DialogBackdrop,$mt=_P6.DialogHeader,Kmt=_P6.DialogBody,Xmt=_P6.DialogFooter,qmt=_P6.DialogSpinner;var Ymt=Mmt.Search,Jmt=Mmt.Label,Zmt=Mmt.Checkbox,Qmt=Mmt.CheckboxBase,tpt=Mmt.CheckboxInput,ept=Mmt.CheckboxCheckMark,ipt=Mmt.Dropdown,rpt=Mmt.Slider,opt=Mmt.SliderBase,npt=Mmt.SliderContainer,spt=Mmt.SliderInput,apt=Mmt.SliderTrack,lpt=Mmt.SliderLabel;var cpt=bf;var upt=bf;var dpt=Ymt;var mpt=j.Toolbar.Index;var ppt=j.Sidebar.Index;var hpt=j.Controlsbar;var fpt=M.Toolbar.Index;var gpt=M.Controlsbar;var bpt=M.Itemsbar;return Li(ypt);}();/*
 * Based on https://github.com/exif-js/exif-js by Jacob Seidelin
 * Licensed under MIT
 * @license
 */ /*
 * Extracted from MinifyJpeg (Copyright (c) 2014 Hiroaki Matoba, MIT License):
 * https://github.com/hMatoba/MinifyJpeg
 * @license
 */ /*
 * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
 * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating
 * requestAnimationFrame polyfill by Erik Mller. fixes from Paul Irish and Tino Zijdel
 * MIT license
 * @license
 */ /*!
 *  Secure Hash Algorithm (SHA256)
 *  http://www.webtoolkit.info/
 *
 *  Original code by Angel Marin, Paul Johnston.
 */ /*!
 * Copyright (c) 2003-2005  Tom Wu
 * All Rights Reserved.
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS-IS" AND WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY
 * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
 *
 * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,
 * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF
 * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT
 * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * In addition, the following condition applies:
 *
 * All redistributions must retain an intact copy of this copyright notice
 * and disclaimer.
 */ /*!
StackBlur - a fast almost Gaussian Blur For Canvas

Version:  0.5
Author:   Mario Klingemann
Contact:  mario@quasimondo.com
Website:  http://www.quasimondo.com/StackBlurForCanvas
Twitter:  @quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr:
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
@license
*/ /*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */