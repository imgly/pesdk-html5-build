import e,{forwardRef as t,Component as n,PureComponent as i,createElement as o,Children as r}from"react";import a,{unstable_batchedUpdates as s,findDOMNode as l}from"react-dom";import{isRGBAArray as c,isRGBAObject as u,isRGBArray as d,isRGBObject as p,LegacyEngineAdapter as h,ConversionUtils as f,ExportFormat as m,EngineEvent as g}from"./engine.production.min.js";import y,{css as b,keyframes as v,ThemeProvider as _}from"styled-components";import{renderToStaticMarkup as x}from"react-dom/server";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function S(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var k,E,C=function(){return(C=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function T(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function O(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function I(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function s(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}function R(e,t){var n,i,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1],o=r;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(r);break}o[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function M(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function D(e){return!Object.prototype.hasOwnProperty.call(e,"name")}function L(e){return!Object.prototype.hasOwnProperty.call(e,"name")}!function(e){e.UNDO="undo",e.REDO="redo",e.DELETE="delete",e.BRING_TO_FRONT="bringtofront",e.EDIT="edit",e.DUPLICATE="duplicate",e.ADD="add",e.FLIP="flip",e.INVERT="invert",e.CLOSE="close",e.EXPORT="export"}(k||(k={})),function(e){e.LIBRARY="library",e.ART_FILTER="artFilter",e.TRANSFORM="transform",e.FILTER="filter",e.ADJUSTMENT="adjustment",e.FOCUS="focus",e.STICKER="sticker",e.TEXT="text",e.TEXT_DESIGN="textdesign",e.OVERLAY="overlay",e.FRAME="frame",e.BRUSH="brush"}(E||(E={}));var F,B,j,U=function(){this.enabled=!0,this.threshold=20,this.snapToHorizontalCenter=!0,this.snapToVerticalCenter=!0,this.snapToLeft=.1,this.snapToRight=.1,this.snapToTop=.1,this.snapToBottom=.1},N=function(){this.enabled=!0,this.threshold=20,this.angles=[0,45,90,135,180,225,270,315]},H=function(){this.position=new U,this.rotation=new N};!function(e){e.MP4="video/mp4",e.MOV="video/quicktime"}(F||(F={})),function(e){e.H264="h264",e.HEVC="hevc"}(B||(B={})),function(e){e.OBJECT="object"}(j||(j={}));var W,V,G=function(){};!function(e){e.IMAGE="image",e.DATA_URL="data-url",e.BLOB="blob",e.MSBLOB="ms-blob"}(W||(W={})),function(e){e.PNG="image/png",e.JPEG="image/jpeg",e.RAW="raw"}(V||(V={}));var K,X=function(){this.order="default",this.language="en",this.theme="dark",this.assetBaseUrl="assets/",this.displayResizeWarning=!0,this.displayCloseWarning=!0,this.forceCrop=!1,this.enableZoom=!0,this.defaultTool=E.FILTER};E.FILTER,E.FOCUS,E.ADJUSTMENT,E.LIBRARY,E.OVERLAY,E.STICKER,E.TEXT,E.TEXT_DESIGN,E.FRAME,E.BRUSH,E.TRANSFORM,function(e){e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.SATURATION="saturation",e.CLARITY="clarity",e.SHADOWS="shadows",e.HIGHLIGHTS="highlights",e.EXPOSURE="exposure",e.GAMMA="gamma",e.BLACKS="blacks",e.WHITES="whites",e.TEMPERATURE="temperature",e.SHARPNESS="sharpness"}(K||(K={}));var Y=function(){this.categories=[]},q=function(){this.categories=[],this.flattenCategories=!1,this.enablePreviewThumbnails=!1};function $(e){return void 0!==e.lightColor}function Z(e){return void 0!==e.lutURI}var J,Q=function(){this.items=[]};!function(e){e.RADIAL="radial",e.LINEAR="linear",e.MIRRORED="mirrored",e.GAUSSIAN="gaussian"}(J||(J={}));var ee,te=function(){this.items=[]},ne=function(){function e(e){this.name=e.name,this.coverImageUrl=e.coverImageUrl}return e.prototype.loadCoverImage=function(e){var t=this;return void 0===e&&(e="anonymous"),new Promise((function(n,i){var o=new Image;o.addEventListener("load",(function(){n(o)})),o.addEventListener("error",(function(){i(new Error("Failed to load image at "+t.coverImage))})),o.crossOrigin=e,o.src=t.coverImageUrl,t.coverImage=o}))},e}(),ie=function(){function e(e){this.category=e.title,this.thumbUrl=e.thumbUrl,this.rawUrl=e.rawUrl}return e.prototype.loadThumbImage=function(e){var t=this;return void 0===e&&(e="anonymous"),new Promise((function(n,i){var o=new Image;o.addEventListener("load",(function(){n(o)})),o.addEventListener("error",(function(){i(new Error("Failed to load image at "+t.thumbUrl))})),o.crossOrigin=e,o.src=t.thumbUrl,t.thumbImage=o}))},e.prototype.getThumbImage=function(){return this.thumbUrl},e}(),oe=function(){this.enableWebcam=!1,this.enableUpload=!1},re=function(){function e(){}return e.prototype.getData=function(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.onload=function(){var e=i.status;200===e?t(i.response):n(new Error("HTTP Status "+e))},i.send()}))},e}(),ae=function(){function e(e){this.data={},this.data=e}return e.prototype.loadJSON=function(e){return(new re).getData(e)},e.prototype.getCategories=function(){return Promise.resolve([])},e.prototype.searchImages=function(e){return Promise.resolve([])},e}(),se=function(){this.items=[]};!function(e){e.NORMAL="normal",e.OVERLAY="overlay",e.SOFT_LIGHT="softLight",e.HARD_LIGHT="hardLight",e.MULTIPLY="multiply",e.DARKEN="darken",e.COLOR_BURN="colorBurn",e.SCREEN="screen",e.LIGHTEN="lighten"}(ee||(ee={}));var le=function(){this.categories=[],this.canvasActions=[k.BRING_TO_FRONT,k.FLIP,k.DUPLICATE,k.DELETE],this.enableCustomUpload=!0,this.customStickerTintMode="none"};function ce(e){return void 0!==e.sticker}function ue(e){return void 0!==e.thumbnail}var de=function(){this.fonts=[],this.canvasActions=[k.EDIT,k.BRING_TO_FRONT,k.DUPLICATE,k.DELETE]};function pe(e){return void 0===e.provider||"file"===e.provider}function he(e){return"google"===e.provider}var fe,me,ge=function(){},ye=function(){this.items=[],this.canvasActions=[k.EDIT,k.BRING_TO_FRONT,k.INVERT,k.DUPLICATE,k.DELETE]},be=function(){this.categories=[],this.enableRotation=!0,this.enableFlip=!0};!function(e){e.CommonCategory="imgly_transforms_common",e.FacebookCategory="imgly_transforms_facebook",e.TwitterCategory="imgly_transforms_twitter",e.InstagramCategory="imgly_transforms_instagram",e.Custom="imgly_transform_common_custom",e.Square="imgly_transform_common_square",e.ThreeByFour="imgly_transform_common_3",e.FourByThree="imgly_transform_common_4",e.NineBySixteen="imgly_transform_common_9",e.SixteenByNine="imgly_transform_common_16",e.FacebookPost="imgly_transform_facebook_post",e.FacebookProfile="imgly_transform_facebook_profile",e.FacebookTitle="imgly_transform_facebook_title",e.InstagramLandscape="imgly_transform_instagram_landscape",e.InstagramPortrait="imgly_transform_instagram_portrait",e.InstagramSquare="imgly_transform_instagram_square",e.InstagramStory="imgly_transform_instagram_story",e.TwitterPost="imgly_transform_twitter_post",e.TwitterProfile="imgly_transform_twitter_profile",e.TwitterTitle="imgly_transform_twitter_title"}(fe||(fe={})),function(e){e.EXPORT="export",e.CLOSE="close",e.HISTORY_CHANGE="historyChange",e.EDITOR_READY="editorReady"}(me||(me={}));var ve=function(){function e(){this.events={}}return e.prototype.addListener=function(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this},e.prototype.removeListener=function(e,t){var n=this.events[e];if(!n)return this;var i=n.lastIndexOf(t);return-1===i||n.splice(i,1),this},e.prototype.removeAllListeners=function(e){return this.events[e]=void 0,this},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.off=function(e,t){return this.removeListener(e,t)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this.events[e];return!(!i||!i.length)&&(i.slice(0).forEach((function(e){return e.apply(null,t)})),!0)},e}(),_e=function(){function e(e,t,n){void 0===t&&(t={x:1,y:1}),void 0===n&&(n=0),this.position=e,this.scale=t,this.rotation=n}return Object.defineProperty(e,"IDENTITY",{get:function(){return new e({x:0,y:0})},enumerable:!0,configurable:!0}),e}(),xe=function(){function e(e,t){"number"==typeof e?(this.x=e,this.y=t):(this.x=e.x,this.y=e.y)}return e.fromSize=function(t){return new e(t.width,t.height)},e.distance=function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.lerp=function(t,n,i){var o=Math.min(Math.max(i,0),1);return new e(t.x*o+n.x*(1-o),t.y*o+n.y*(1-o))},e.lerpUnclamped=function(t,n,i){return new e(t.x*i+n.x*(1-i),t.y*i+n.y*(1-i))},e.proportionalFit=function(e,t){return e.x/e.y>t.x/t.y?t.multiply(e.y/t.y):t.multiply(e.x/t.x)},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalized",{get:function(){var t=this.magnitude;return new e(this.x/t,this.y/t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floored",{get:function(){return new e(Math.floor(this.x),Math.floor(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return Math.min(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return Math.max(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"abs",{get:function(){return new e(Math.abs(this.x),Math.abs(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swapped",{get:function(){return new e(this.y,this.x)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.add=function(t,n){return"number"==typeof t?new e(this.x+t,this.y+n):new e(this.x+t.x,this.y+t.y)},e.prototype.subtract=function(t,n){return"number"==typeof t?new e(this.x-t,this.y-n):new e(this.x-t.x,this.y-t.y)},e.prototype.multiply=function(t,n){return"number"==typeof t?new e(this.x*t,this.y*(void 0===n?t:n)):new e(this.x*t.x,this.y*t.y)},e.prototype.divide=function(t,n){return"number"==typeof t?new e(this.x/t,this.y/(void 0===n?t:n)):new e(this.x/t.x,this.y/t.y)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.ZERO=new e(0,0),e.ONE=new e(1,1),e.UP=new e(0,1),e.DOWN=new e(0,-1),e.RIGHT=new e(1,0),e.LEFT=new e(-1,0),e}();(function(){function e(e,t,n,i){if("number"==typeof e){if("number"!=typeof t||void 0===n||void 0===i)throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");this.origin={x:e,y:t},this.size={width:n||0,height:i||0}}else{if(this.origin=e,"number"==typeof t)throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");this.size=t}}e.contains=function(e,t){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY},Object.defineProperty(e.prototype,"minX",{get:function(){return this.origin.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.origin.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midX",{get:function(){return this.origin.x+.5*this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midY",{get:function(){return this.origin.y+.5*this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.origin.x+this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.origin.y+this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),e.ZERO=new e({x:0,y:0},{width:0,height:0})})(),function(){function e(e,t,n,i,o,r){this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=r}e.fromScale=function(t,n){return new e(t,0,0,n,0,0)},e.fromRotation=function(t){var n=Math.cos(t),i=Math.sin(t);return new e(n,-i,i,n,0,0)},e.fromRotationDeg=function(e){var t=Math.PI*e/180;return this.fromRotation(t)},e.fromTranslation=function(t,n){return new e(1,0,0,1,t,n)},e.fromTRS=function(t,n,i,o,r){var a=Math.cos(i),s=Math.sin(i);return new e(o*a,-r*s,o*s,r*a,t,n)},e.multiply=function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.a*n.tx+t.b*n.ty+t.tx,t.c*n.tx+t.d*n.ty+t.ty)},e.transformPoint=function(e,t){return{x:e.a*t.x+e.b*t.y+e.tx,y:e.c*t.x+e.d*t.y+e.ty}},e.getInverted=function(t){var n=t.a*t.d-t.b*t.c;if(0===n)return t;var i=1/n;return new e(i*t.d,-i*t.b,-i*t.c,i*t.a,i*(t.b*t.ty-t.d*t.tx),i*(t.c*t.tx-t.a*t.ty))},e.IDENTITY=e.fromScale(1,1)}();function we(e){return"number"==typeof e}function Se(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}window.performance.now.bind(window.performance);var ke,Ee=function(){function e(e){this.text=e,this.lastOffsetWidth=-1;var t="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(e)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.collapsible.style.cssText=t,this.expandable.style.cssText=t,this.expandableInner.style.cssText=t,this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable)}return e.prototype.getElement=function(){return this.element},e.prototype.setFont=function(e){this.element.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(e){this.element.style.width=e+"px"},e.prototype.onResize=function(e){var t=this,n=function(){t.onScroll(e)};this.collapsible.addEventListener("scroll",n),this.expandable.addEventListener("scroll",n),this.reset()},e.prototype.reset=function(){var e=this.getWidth(),t=e+100;return this.expandableInner.style.width=t+"px",this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e&&(this.lastOffsetWidth=e,!0)},e.prototype.onScroll=function(e){this.reset()&&null!==this.element.parentNode&&e(this.lastOffsetWidth)},e}(),Ce=function(){function e(e){this.font=C({fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal"},e)}return e.getUserAgent=function(){return window.navigator.userAgent},e.getNavigatorVendor=function(){return window.navigator.vendor},e.hasWebKitFallbackBug=function(){if(null===e.HAS_WEBKIT_FALLBACK_BUG){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_WEBKIT_FALLBACK_BUG=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return e.HAS_WEBKIT_FALLBACK_BUG},e.hasSafari10Bug=function(){if(null===e.HAS_SAFARI_10_BUG)if(e.supportsNativeFontLoading()&&/Apple/.test(e.getNavigatorVendor())){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_SAFARI_10_BUG=!!t&&parseInt(t[1],10)<603}else e.HAS_SAFARI_10_BUG=!1;return e.HAS_SAFARI_10_BUG},e.supportsNativeFontLoading=function(){return null===e.SUPPORTS_NATIVE_FONT_LOADING&&(e.SUPPORTS_NATIVE_FONT_LOADING=!!document.fonts),e.SUPPORTS_NATIVE_FONT_LOADING},e.supportsStretch=function(){if(null===e.SUPPORTS_STRETCH){var t=document.createElement("div");try{t.style.font="condensend 100px sans-serif"}catch(t){e.SUPPORTS_STRETCH=!1}e.SUPPORTS_STRETCH=""!==t.style.font}return e.SUPPORTS_STRETCH},e.prototype.load=function(t,n){var i=this,o=null,r=n||e.DEFAULT_TIMEOUT,a=this.getTime();return new Promise((function(t,n){if(e.supportsNativeFontLoading()&&!e.hasSafari10Bug()){var s=new Promise((function(e,t){var o=function(){i.getTime()-a>=r?t(new Error(r+"ms timeout exceeded")):document.fonts.load(i.getStyle('"'+i.font.fontFamily+'"'),"BESbswy").then((function(t){t.length>=1?e():setTimeout(o,25)}),n)};o()})),l=new Promise((function(e,t){o=setTimeout((function(){t(new Error(r+" ms timeout exceeded"))}),r)}));Promise.race([l,s]).then((function(){clearTimeout(o),t(i)}),n)}else{var c=new Ee("BESbswy"),u=new Ee("BESbswy"),d=new Ee("BESbswy"),p=-1,h=-1,f=-1,m=-1,g=-1,y=-1,b=document.createElement("div"),v=function(){null!==b.parentNode&&b.parentNode.removeChild(b)},_=function(){if((-1!==p&&-1!==h||-1!==p&&-1!==f||-1!==h&&-1!==f)&&(p===h||p===f||h===f)){if(e.hasWebKitFallbackBug()&&(p===m&&h===m&&f===m||p===g&&h===g&&f===g||p===y&&h===y&&f===y))return;v(),clearTimeout(o),t(i)}};b.dir="ltr",c.setFont(i.getStyle("sans-serif")),u.setFont(i.getStyle("serif")),d.setFont(i.getStyle("monospace")),b.appendChild(c.getElement()),b.appendChild(u.getElement()),b.appendChild(d.getElement()),document.body.appendChild(b),m=c.getWidth(),g=u.getWidth(),y=d.getWidth();var x=function(){if(i.getTime()-a>=r)v(),n(new Error(r+" ms timeout exceeded"));else{var e=document.hidden;!0!==e&&void 0!==e||(p=c.getWidth(),h=u.getWidth(),f=d.getWidth(),_()),o=setTimeout(x,50)}};x(),c.onResize((function(e){p=e,_()})),c.setFont(i.getStyle('"'+i.font.fontFamily+'",sans-serif')),u.onResize((function(e){h=e,_()})),u.setFont(i.getStyle('"'+i.font.fontFamily+'",serif')),d.onResize((function(e){f=e,_()})),d.setFont(i.getStyle('"'+i.font.fontFamily+'",monospace'))}}))},e.prototype.getStyle=function(t){return[this.font.fontStyle,this.font.fontWeight,e.supportsStretch()?this.font.fontStretch:"","100px",t].join(" ")},e.prototype.getTime=function(){return(new Date).getTime()},e.HAS_WEBKIT_FALLBACK_BUG=null,e.HAS_SAFARI_10_BUG=null,e.SUPPORTS_STRETCH=null,e.SUPPORTS_NATIVE_FONT_LOADING=null,e.DEFAULT_TIMEOUT=3e3,e}();!function(e){e.BEGAN_IMAGE_DOWNSCALING="beganImageDownscaling",e.IMAGE_DOWNSCALED="imageDownscaled"}(ke||(ke={}));!function(e){function t(t,n){var i=e.call(this)||this;return i.image=t,i.options=n,i}S(t,e),t.prototype.needsResize=function(){var e=this.resizedDimensions();return e.x<this.image.width||e.y<this.image.height},t.prototype.resizedDimensions=function(){var e=this.options,t={width:this.image.width,height:this.image.height},n=xe.fromSize(t),i=xe.fromSize(t),o=e.maxMegaPixels;if(o){var r=1e6*(function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}()?o.mobile:o.desktop),a=t.width/t.height,s=t.height/t.width,l=new xe(Math.floor(Math.sqrt(r*a)),Math.floor(Math.sqrt(r*s)));l.x<=t.width&&l.y<=t.height&&(n=l)}var c=e.maxDimensions;c&&(c.height<t.height||c.width<t.width)&&(i=new xe(c.width,c.height));var u=new xe(Math.min(n.x,i.x),Math.min(n.y,i.y));return xe.proportionalFit(u,xe.fromSize(t)).floored},t.prototype.downscaleIfNecessary=function(){var e=this.resizedDimensions();if(!(e.x<this.image.width||e.y<this.image.height))return this.image;this.emit(ke.BEGAN_IMAGE_DOWNSCALING,this.image);var t=document.createElement("canvas");t.width=e.x,t.height=e.y;var n=t.getContext("2d"),i=this.image;return n.drawImage(i,0,0,i.width,i.height,0,0,e.x,e.y),this.emit(ke.IMAGE_DOWNSCALED),t},t.prototype.downscaleImageIfNecessary=function(){var e=this.image,t=this.resizedDimensions();if(!(t.x<this.image.width||t.y<this.image.height))return e;this.emit(ke.BEGAN_IMAGE_DOWNSCALING,e);var n=new Image;return n.width=t.x,n.height=t.y,n.src=e.src,this.emit(ke.IMAGE_DOWNSCALED),n}}(ve);function Te(e,t){for(var n=0,i=e.length-1;i>=0;i--){var o=e[i];"."===o?e.splice(i,1):".."===o?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Oe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Ie=function(e){return Oe.exec(e).slice(1)};function Re(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var i=n>=0?arguments[n]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i.charAt(0))}return(t?"/":"")+(e=Te(Ae(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function Me(e){var t=Pe(e),n="/"===Be(e,-1);return(e=Te(Ae(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Pe(e){return"/"===e.charAt(0)}var ze={extname:function(e){return Ie(e)[3]},basename:function(e,t){var n=Ie(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},dirname:function(e){var t=Ie(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},sep:"/",delimiter:":",relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Re(e).substr(1),t=Re(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),r=Math.min(i.length,o.length),a=r,s=0;s<r;s++)if(i[s]!==o[s]){a=s;break}var l=[];for(s=a;s<i.length;s++)l.push("..");return(l=l.concat(o.slice(a))).join("/")},join:function(){var e=Array.prototype.slice.call(arguments,0);return Me(Ae(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},isAbsolute:Pe,normalize:Me,resolve:Re};function Ae(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var De,Le,Fe,Be="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},je=[{identifier:"imgly_overlay_golden",name:"Golden",defaultBlendMode:ee.LIGHTEN,overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:"imgly_overlay_lightleak1",name:"Lightleak",defaultBlendMode:ee.SCREEN,overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:"imgly_overlay_rain",name:"Rain",defaultBlendMode:ee.OVERLAY,overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:"imgly_overlay_mosaic",name:"Mosaic",defaultBlendMode:ee.MULTIPLY,overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:"imgly_overlay_vintage",name:"Vintage",defaultBlendMode:ee.DARKEN,overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:"imgly_overlay_paper",name:"Paper",defaultBlendMode:ee.MULTIPLY,overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:"imgly_overlay_bokeh",name:"Bokeh",defaultBlendMode:ee.LIGHTEN,overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:"imgly_overlay_hearts",name:"Hearts",defaultBlendMode:ee.SCREEN,overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:"imgly_overlay_lightleak2",name:"Lightleak 2",defaultBlendMode:ee.LIGHTEN,overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:"imgly_overlay_wood",name:"Wood",defaultBlendMode:ee.MULTIPLY,overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:"imgly_overlay_chop",name:"Chop",defaultBlendMode:ee.MULTIPLY,overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:"imgly_overlay_metal",name:"Metal",defaultBlendMode:ee.OVERLAY,overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:"imgly_overlay_painting",name:"Painting",defaultBlendMode:ee.OVERLAY,overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:"imgly_overlay_grain",name:"Grain",defaultBlendMode:ee.OVERLAY,overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:"imgly_overlay_clouds",name:"Clouds",defaultBlendMode:ee.SOFT_LIGHT,overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:"imgly_overlay_wall1",name:"Wall",defaultBlendMode:ee.LIGHTEN,overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:"imgly_overlay_wall2",name:"Wall 2",defaultBlendMode:ee.OVERLAY,overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}],Ue=[{identifier:"imgly_filter_category_duotone",name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:"imgly_duotone_desert",name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:"imgly_duotone_peach",name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:"imgly_duotone_clash",name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_plum",name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_breezy",name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:"imgly_duotone_deepblue",name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:"imgly_duotone_frog",name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:"imgly_duotone_sunset",name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:"imgly_filter_category_bw",name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:"imgly_lut_ad1920",name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bw",name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_x400",name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_litho",name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sepiahigh",name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_plate",name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sin",name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filter_category_vintage",name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:"imgly_lut_blues",name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_front",name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_smooth",name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:"imgly_lut_chest",name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_kdynamic",name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fall",name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lenin",name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pola669",name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_cold",name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:"imgly_lut_elder",name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_orchid",name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleached",name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleachedblue",name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_breeze",name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_blueshadows",name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_warm",name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:"imgly_lut_sunset",name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_eighties",name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_evening",name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k2",name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_legacy",name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:"imgly_lut_ancient",name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_cottoncandy",name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_classic",name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_colorful",name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_creamy",name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fixie",name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fridge",name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_gobblin",name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcontrast",name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcarb",name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k1",name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k6",name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_keen",name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lomo",name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lucid",name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_mellow",name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pale",name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pitched",name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_polasx",name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pro400",name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_quozi",name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_settled",name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_seventies",name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_soft",name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_steel",name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_summer",name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_tender",name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_twilight",name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}],Ne=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-640}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1919,descender:-409}},{identifier:"imgly_font_amaticsc",fontFamily:"Amaticsc",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2332,descender:-583}},{identifier:"imgly_font_bernier_regular",fontFamily:"Bernier",fontWeight:"normal",fontURI:"./fonts/imgly_font_bernier_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2007,descender:-552}},{identifier:"imgly_font_cheque_regular",fontFamily:"Cheque",fontWeight:"normal",fontURI:"./fonts/imgly_font_cheque_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2007,descender:-552}},{identifier:"imgly_font_gagalin_regular",fontFamily:"Gagalin",fontWeight:"normal",fontURI:"./fonts/imgly_font_gagalin_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1987,descender:-628}},{identifier:"imgly_font_hagin_caps_thin",fontFamily:"Hagin Caps",fontWeight:200,fontURI:"./fonts/imgly_font_hagin_caps_thin.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1964,descender:-482}},{identifier:"imgly_font_intro_inline",fontFamily:"Intro Inline",fontWeight:"normal",fontURI:"./fonts/imgly_font_intro_inline.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1944,descender:-548}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2048,descender:-552}},{identifier:"imgly_font_nexa_script",fontFamily:"Nexa Script",fontWeight:"normal",fontURI:"./fonts/imgly_font_nexa_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1835,descender:-663}},{identifier:"imgly_font_panton_blackitalic_caps",fontFamily:"Panton",fontWeight:800,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_blackitalic_caps.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-572}},{identifier:"imgly_font_panton_lightitalic_caps",fontFamily:"Panton",fontWeight:200,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_lightitalic_caps.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1961,descender:-556}},{identifier:"imgly_font_perfograma",fontFamily:"Perfograma",fontWeight:"normal",fontURI:"./fonts/imgly_font_perfograma.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1982,descender:-842}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1554,descender:-663}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_wolesbro",fontFamily:"Wolesbro",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_wolesbro.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1849,descender:-1123}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2272,descender:-686}},{identifier:"imgly_font_panton_light_italic_caps",fontFamily:"Panton Caps",fontWeight:"lighter",fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_light_italic_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_black_italic_caps",fontFamily:"Panton Caps",fontWeight:800,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_black_italic_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_light_caps",fontFamily:"Panton Caps",fontWeight:"lighter",fontStyle:"normal",fontURI:"./fonts/imgly_font_panton_light_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_black_caps",fontFamily:"Panton Caps",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_panton_black_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_amberlight",fontFamily:"Amberlight",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_amberlight.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:750,descender:-250}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_galano_grotesque_bold",fontFamily:"Galano Grotesque",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_galano_grotesque_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_summer_font_light",fontFamily:"Summer Font",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_summer_font_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_campton_bold",fontFamily:"Campton Book",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_campton_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:770,descender:-294}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}],He=[{identifier:J.RADIAL,thumbnailURI:"./items/radial.png"},{identifier:J.MIRRORED,thumbnailURI:"./items/mirrored.png"},{identifier:J.LINEAR,thumbnailURI:"./items/linear.png"},{identifier:J.GAUSSIAN,thumbnailURI:"./items/gaussian.png"}],We=[{identifier:"basics",name:"Basics",items:[{identifier:K.BRIGHTNESS},{identifier:K.CONTRAST},{identifier:K.SATURATION},{identifier:K.GAMMA}]},{identifier:"refinements",name:"Refinements",items:[{identifier:K.CLARITY},{identifier:K.SHADOWS},{identifier:K.HIGHLIGHTS},{identifier:K.EXPOSURE},{identifier:K.BLACKS},{identifier:K.WHITES},{identifier:K.TEMPERATURE},{identifier:K.SHARPNESS}]}],Ve=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}],Ge=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],Ke=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],Xe=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}],Ye=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:1.33},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:1.77},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:.75},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:.56}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:!0,lockDimensions:!0}]}],qe=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_bernier_regular","imgly_font_cheque_regular","imgly_font_gagalin_regular","imgly_font_hagin_caps_thin","imgly_font_intro_inline","imgly_font_lobster","imgly_font_nexa_script","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_panton_blackitalic_caps","imgly_font_panton_lightitalic_caps","imgly_font_perfograma","imgly_font_trash_hand"],$e=["imgly_font_abril_fatface_regular","imgly_font_montserrat_light","imgly_font_wolesbro","imgly_font_permanent_marker","imgly_font_panton_light_italic_caps","imgly_font_panton_black_italic_caps","imgly_font_panton_light_caps","imgly_font_panton_black_caps","imgly_font_amberlight","imgly_font_ultra","imgly_font_galano_grotesque_bold","imgly_font_bungee_inline","imgly_font_petit_formal_script","imgly_font_summer_font_light","imgly_font_handycheera_regular","imgly_font_rasa_regular","imgly_font_rasa_500","imgly_font_campton_bold","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy"],Ze=function(){function e(e){this.assetManager=e,this.injectedFonts={},this.loadedFonts={}}return e.createFontFacesCSS=function(e,t){return e.map((function(e){var n=t(e.fontURI);return'@font-face {\n        font-family: "'+e.fontFamily+"\";\n        src: url('"+n+"') format('"+(e.format||"woff")+"');\n        font-weight: "+(e.fontWeight||"normal")+";\n        font-style: "+(e.fontStyle||"normal")+";\n      }"}))},e.prototype.getFontWithId=function(e){var t=this.assetManager.getFontAsset(e);if(!t)throw new Error("The requested font does not exist as an asset.");return t},e.prototype.isFontLoaded=function(e){return void 0!==this.loadedFonts[e]},e.prototype.injectAllFonts=function(){var e=this.assetManager.getFontAssets();this.injectFonts(e)},e.prototype.loadAllFonts=function(){return I(this,void 0,void 0,(function(){var e;return R(this,(function(t){return e=this.assetManager.getFontAssets(),[2,this.loadFonts(e)]}))}))},e.prototype.loadFontsWithIdentifiers=function(e){return I(this,void 0,void 0,(function(){var t,n=this;return R(this,(function(i){return t=e.map((function(e){return n.getFontWithId(e)})),[2,this.loadFonts(t)]}))}))},e.prototype.loadFonts=function(e){return I(this,void 0,void 0,(function(){var t,n=this;return R(this,(function(i){return this.injectFonts(e),t=new Array,e.forEach((function(e){t.push(n.loadFont(e,!1))})),[2,new Promise((function(e,n){Promise.all(t).then((function(){return e()})).catch((function(e){return n(e)}))}))]}))}))},e.prototype.loadFont=function(e,t){return void 0===t&&(t=!0),I(this,void 0,void 0,(function(){var n=this;return R(this,(function(i){return[2,new Promise((function(i,o){n.isFontLoaded(e.identifier)&&i(),t&&n.injectFonts([e]),new Ce(e).load().then((function(){n.loadedFonts[e.identifier]=e,i()})).catch((function(e){o(e)}))}))]}))}))},e.prototype.loadFontWithIdentifier=function(e,t){return void 0===t&&(t=!0),I(this,void 0,void 0,(function(){var n;return R(this,(function(i){if(!(n=this.assetManager.getFontAsset(e)))throw new Error("The requested font asset with identifier "+e+" does not exist!");return[2,this.loadFont(n,t)]}))}))},e.prototype.injectFonts=function(e,t){void 0===t&&(t=this.assetManager.getAbsolutePathForCategory("font"));var n=e.filter(he),i=e.filter(pe);n.length>0&&this.addGoogleFontLinks(n),i.length>0&&this.addWebFontCSS(i,t)},e.prototype.addGoogleFontLinks=function(e){var t=this,n=e.filter((function(e){return!t.injectedFonts[e.identifier]}));if(0!==n.length){var i=document.createElement("link");i.rel="stylesheet",i.href="https://fonts.googleapis.com/css?family="+n.map((function(e){return e.fontFamily})).join(","),document.getElementsByTagName("head")[0].appendChild(i),e.forEach((function(e){t.injectedFonts[e.identifier]=e}))}},e.prototype.addWebFontCSS=function(t,n){var i=this,o=t.filter((function(e){return!i.injectedFonts[e.identifier]}));if(0!==o.length){var r="\n      /* Injected by PhotoEditorSDK */\n      "+e.createFontFacesCSS(o,n).join("\n")+"\n    ",a=document.createElement("style");a.innerHTML=r,document.head.appendChild(a),t.forEach((function(e){i.injectedFonts[e.identifier]=e}))}},e}(),Je=function(){function e(e){var t=this;this.basePath="assets/",this.getAssets=function(e){switch(e){case"overlay":return t.overlayAssets;case"filter":return t.filterCategories;case"font":return t.fontAssets;case"focus":return t.focusAssets;case"adjustment":return t.adjustmentCategories;case"sticker":return t.stickerCategories;case"textdesign":return t.textDesignAssets;case"frame":return t.frameAssets;case"transform":return t.transformCategories}return[]},this.getAbsolutePath=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=ze.join.apply(ze,z(e));if(t.basePath.match(/(ftp|http|https):\/\//)){var o=t.basePath.length;return"/"!==t.basePath[o-1]&&(t.basePath=t.basePath+"/"),t.basePath+i}return ze.join(t.basePath,i)},this.getAbsolutePathForCategory=function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.getAbsolutePath.apply(t,z([e],n))}},this.addCustomStickerAsset=function(e,n,i){e.forEach((function(e){var o=e.thumbnailURI,r=e.name,a=e.sticker,s=e.identifier,l=e.tintMode,c=e.resizeMode,u=t.stickerCategories.find((function(e){return e.identifier===n})),d={identifier:s,name:r,thumbnailURI:o,sticker:a,tintMode:l,resizeMode:c};if(u&&ue(u))u.items.push(d);else{var p={identifier:n,name:i,thumbnail:o,items:[d]};t.stickerCategories=z([p],t.stickerCategories)}})),t.stickerAssets=t.stickerCategories.reduce(t.allOptions,[])},this.getPath=function(e,t,n){var i=e.find((function(e){return e.identifier===t}));return i&&(i[n]||i.path)||""},this.isNonExistingFont=function(e){return!Ne.find((function(t){return t.identifier===e.identifier}))},e&&e.basePath&&(this.basePath=e.basePath);var n=Ue.reduce(this.allOptions,[]);e&&e.filter?this.filterCategories=this.configuredCategory(Ue,e.filter,n):this.filterCategories=Ue,this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return Z(e)})),this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return $(e)}));var i=We.reduce(this.allOptions,[]);e&&e.adjustment?this.adjustmentCategories=this.configuredCategory(We,e.adjustment,i):this.adjustmentCategories=We,this.fontAssets=Ne.reduce(this.allOptions,[]);var o=qe.map((function(e){return t.getFontAsset(e)}));if(e&&e.text&&e.text.fonts){var r=e.text.fonts.filter(this.isNonExistingFont);o=e.text.fonts?z(o,r):o,this.fontAssets=e.text.fonts?z(this.fontAssets,r):this.fontAssets}this.textToolFontAssets=o;var a=e&&e.focus&&e.focus.items&&e.focus.items.length?e.focus.items.map((function(e){return He.find((function(t){return t.identifier===e.identifier}))})):He;this.focusAssets=a,e&&e.overlay&&e.overlay.items?this.overlayAssets=this.configuredItem(e.overlay.items,je,je):this.overlayAssets=je,e&&e.frame&&e.frame.items?this.frameAssets=this.configuredItem(e.frame.items,Xe,Xe):this.frameAssets=Xe;var s=Ve.reduce(this.allOptions,[]);e&&e.sticker?this.stickerCategories=this.configuredCategory(Ve,e.sticker,s):this.stickerCategories=Ve,this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);var l=Ge;e&&"light"===e.theme&&(l=Ke),this.textDesignAssets=e&&e.textdesign&&e.textdesign.items&&e.textdesign.items.length?e.textdesign.items.map((function(e){return l.find((function(t){return t.identifier===e.identifier}))})):l,this.textDesignToolFontAssets=$e.map((function(e){return t.getFontAsset(e)}));var c=Ye.reduce(this.allOptions,[]);e&&e.transform?this.transformCategories=this.configuredCategory(Ye,e.transform,c):this.transformCategories=Ye,this.transformAssets=this.transformCategories.reduce(this.allOptions,[]),this.fontManager=new Ze(this)}return e.prototype.getFontManager=function(){return this.fontManager},e.prototype.getAssetSource=function(e,t){switch(e){case"filter":if(this.getLUTFilterAsset(t))return this.getAbsolutePath(e,this.getPath(this.lutFilterAssets,t,"lutURI"));break;case"overlay":return this.getAbsolutePath(e,this.getPath(this.overlayAssets,t,"overlayURI"));case"font":return this.getAbsolutePath(e,this.getPath(this.fontAssets,t,"fontURI"));case"sticker":var n=this.stickerAssets.find((function(e){return e.identifier===t}));if(n)return ce(n)?n.sticker:this.getAbsolutePath(e,this.getPath(this.stickerAssets,t,"stickerURI"));throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getAbsolutePath(e,"engine",t);case"frame":return this.getAbsolutePath(e,t)}throw new Error("Cannot resolve this type of asset yet")},e.prototype.getDuotoneFilterAsset=function(e){return this.duoToneFilterAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getLUTFilterAsset=function(e){return this.lutFilterAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getOverlayAsset=function(e){return this.overlayAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getStickerAsset=function(e){return this.stickerAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFontAsset=function(e){return this.fontAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getTextDesignAssets=function(e){return this.textDesignAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFrameAsset=function(e){return this.frameAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFontAssets=function(){return this.fontAssets},e.prototype.getFontAssetsForText=function(){return this.textToolFontAssets},e.prototype.getFontAssetsForTextDesign=function(){return this.textDesignToolFontAssets},e.prototype.getFrameAssets=function(){return this.frameAssets},e.prototype.allOptions=function(e,t){return t.hasOwnProperty("items")?z(e,t.items):z(e,[t])},e.prototype.configuredCategory=function(e,t,n){var i=this;return t.categories&&t.categories.length?t.categories.map((function(t){var o=e.find((function(e){return e.identifier===t.identifier}));return o?C({},o,t,{items:i.configuredItem(t.items,n,o.items).filter(Boolean)}):C({},t,{items:i.configuredItem(t.items,n,t.items).filter(Boolean)})})):e},e.prototype.configuredItem=function(e,t,n){return e&&e.length?e.map((function(e){var n=t.find((function(t){return t.identifier===e.identifier}));return n?C({},n,e):e})).filter(Boolean):n},e}(),Qe=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},et=function(e,t,n){return"#"+Qe(255*e)+Qe(255*t)+Qe(255*n)},tt=function(e){if(c(e)){var t=P(e,4);return"rgba("+255*(i=t[0])+", "+255*(o=t[1])+", "+255*(r=t[2])+", "+t[3]+")"}if(u(e))return"rgba("+255*(i=e.r)+", "+255*(o=e.g)+", "+255*(r=e.b)+", "+e.a+")";if(d(e)){var n=P(e,3),i=n[0],o=n[1],r=n[2];return et(i,o,r)}if(p(e)){i=e.r,o=e.g,r=e.b;return et(i,o,r)}return e},nt={black:[0,0,0,1],white:[1,1,1,1],gray:[191/255,191/255,191/255,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},it={transparent:[0,0,0,0],black:[0,0,0,1],white:[1,1,1,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},ot=[E.LIBRARY,[E.TRANSFORM,E.FILTER,E.ADJUSTMENT],[E.FOCUS,E.FRAME,E.OVERLAY],[E.TEXT,E.TEXT_DESIGN,E.STICKER,E.BRUSH]],rt={license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:[k.UNDO,k.REDO,k.EXPORT,k.CLOSE],displayResizeWarning:!0,displayCloseWarning:!0,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}}},enableZoom:!0,forceCrop:!1,assetBaseUrl:"assets/",defaultTool:E.FILTER,tools:ot,snapping:new H,filter:new q,focus:new Q,adjustment:new Y,library:new oe,overlay:new se,sticker:new le,text:new de,textdesign:new ye,frame:new te,brush:new ge,transform:new be,export:{image:{exportType:W.IMAGE,format:V.PNG,quality:.9,enableDownload:!0},filename:"photoeditorsdk-export"},custom:{}};!function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(De||(De={})),function(e){e.ERROR="error",e.WARNING="warning",e.INFO="info",e.TEXT_EDIT="textEdit"}(Le||(Le={}));var at=((Fe={})[K.BRIGHTNESS]=0,Fe[K.SATURATION]=0,Fe[K.CONTRAST]=0,Fe[K.GAMMA]=0,Fe[K.CLARITY]=0,Fe[K.EXPOSURE]=0,Fe[K.SHADOWS]=0,Fe[K.HIGHLIGHTS]=0,Fe[K.WHITES]=0,Fe[K.BLACKS]=0,Fe[K.TEMPERATURE]=0,Fe[K.SHARPNESS]=0,Fe),st=function(e,t){return(st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lt(e,t){function n(){this.constructor=e}st(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ct=function(){return(ct=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ut(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function dt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ut(arguments[t]));return e}var pt=[];Object.freeze(pt);var ht={};Object.freeze(ht);var ft={};function mt(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:ft}function gt(){return++Vn.mobxGuid}function yt(e){throw bt(!1,e),"X"}function bt(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}var vt=[];function _t(e,t){return"production"!==process.env.NODE_ENV&&(t?_t("'"+e+"', use '"+t+"' instead."):-1===vt.indexOf(e)&&(vt.push(e),console.error("[mobx] Deprecated: "+e),!0))}function xt(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var wt=function(){};function St(e){return null!==e&&"object"==typeof e}function kt(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function Et(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ct(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Tt(e,t){"production"===process.env.NODE_ENV||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t)||yt("Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function Ot(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return St(e)&&!0===e[n]}}function It(e){return void 0!==mt().Map&&e instanceof mt().Map}function Rt(e){return e instanceof Set}function Mt(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function Pt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function zt(e){return null===e?null:"object"==typeof e?""+e:e}function At(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Dt(e,t){Ct(e,At(),t)}function Lt(e){return e[At()]=Bt,e}function Ft(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function Bt(){return this}var jt=function(){function e(e){void 0===e&&(e="Atom@"+gt()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=pn.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return $n(this)},e.prototype.reportChanged=function(){Yn(),function(e){if(e.lowestObserverState===pn.STALE)return;e.lowestObserverState=pn.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===pn.UP_TO_DATE&&(i.isTracing!==hn.NONE&&Zn(i,e),i.onBecomeStale()),i.dependenciesState=pn.STALE}}(this),qn()},e.prototype.toString=function(){return this.name},e}(),Ut=Ot("Atom",jt);function Nt(e,t,n){void 0===t&&(t=wt),void 0===n&&(n=wt);var i,o=new jt(e);return bi("onBecomeObserved",o,t,i),yi(o,n),o}function Ht(e,t){return e===t}var Wt={identity:Ht,structural:function(e,t){return go(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||Ht(e,t)},shallow:function(e,t){return go(e,t,1)}},Vt={},Gt={};function Kt(e,t){var n=t?Vt:Gt;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return Xt(this),this[e]},set:function(t){Xt(this),this[e]=t}})}function Xt(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in Et(e,"__mobxDidRunLazyInitializers",!0),t){var i=t[n];i.propertyCreator(e,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function Yt(e,t){return function(){var n,i=function(i,o,r,a){if(!0===a)return t(i,o,r,i,n),null;if("production"===process.env.NODE_ENV||qt(arguments)||yt("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")){var s=i.__mobxDecorators;Et(i,"__mobxDecorators",ct({},s))}return i.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:r,decoratorTarget:i,decoratorArguments:n},Kt(o,e)};return qt(arguments)?(n=pt,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function qt(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function $t(e,t,n){return ki(e)?e:Array.isArray(e)?un.array(e,{name:n}):kt(e)?un.object(e,void 0,{name:n}):It(e)?un.map(e,{name:n}):Rt(e)?un.set(e,{name:n}):e}function Zt(e){return e}function Jt(e){bt(e);var t=Yt(!0,(function(t,n,i,o,r){"production"!==process.env.NODE_ENV&&bt(!i||!i.get,'@observable cannot be used on getter (property "'+n+'"), use @computed instead.'),function(e,t,n,i){var o=ao(e);if(Tt(e,t),Mi(o)){var r=zi(o,{object:e,name:t,type:"add",newValue:n});if(!r)return;n=r.newValue}var a=o.values[t]=new Fn(n,i,o.name+"."+t,!1);n=a.value,Object.defineProperty(e,t,function(e){return so[e]||(so[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t);!function(e,t,n,i){var o=Ai(e),r=oi(),a=o||r?{type:"add",object:t,name:n,newValue:i}:null;r&&ai(ct(ct({},a),{name:e.name,key:n}));o&&Li(e,a);r&&li()}(o,e,t,n)}(t,n,i?i.initializer?i.initializer.call(t):i.value:void 0,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?yt("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var Qt={deep:!0,name:void 0,defaultDecorator:void 0},en={deep:!1,name:void 0,defaultDecorator:void 0};function tn(e){/^(deep|name|equals|defaultDecorator)$/.test(e)||yt("invalid option for (extend)observable: "+e)}function nn(e){if(null==e)return Qt;if("string"==typeof e)return{name:e,deep:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return yt("expected options object");Object.keys(e).forEach(tn)}return e}function on(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?Zt:$t}Object.freeze(Qt),Object.freeze(en);var rn=Jt($t),an=Jt((function(e,t,n){return null==e||po(e)||Zi(e)||to(e)||oo(e)?e:Array.isArray(e)?un.array(e,{name:n,deep:!1}):kt(e)?un.object(e,void 0,{name:n,deep:!1}):It(e)?un.map(e,{name:n,deep:!1}):Rt(e)?un.set(e,{name:n,deep:!1}):yt("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),sn=Jt(Zt),ln=Jt((function(e,t,n){if("production"!==process.env.NODE_ENV&&ki(e))throw"observable.struct should not be used with observable values";return go(e,t)?t:e}));var cn={box:function(e,t){arguments.length>2&&dn("box");var n=nn(t);return new Fn(e,on(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&dn("shallowBox"),_t("observable.shallowBox","observable.box(value, { deep: false })"),un.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&dn("array");var n=nn(t);return new Gi(e,on(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&dn("shallowArray"),_t("observable.shallowArray","observable.array(values, { deep: false })"),un.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&dn("map");var n=nn(t);return new Qi(e,on(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&dn("shallowMap"),_t("observable.shallowMap","observable.map(values, { deep: false })"),un.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&dn("set");var n=nn(t);return new io(e,on(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&dn("object");var i=nn(n);return vi({},e,t,i)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&dn("shallowObject"),_t("observable.shallowObject","observable.object(values, {}, { deep: false })"),un.object(e,{},{name:t,deep:!1})},ref:sn,shallow:an,deep:rn,struct:ln},un=function(e,t,n){if("string"==typeof arguments[1])return rn.apply(null,arguments);if(ki(e))return e;var i=kt(e)?un.object(e,t,n):Array.isArray(e)?un.array(e,t):It(e)?un.map(e,t):Rt(e)?un.set(e,t):e;if(i!==e)return i;yt("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function dn(e){yt("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(cn).forEach((function(e){return un[e]=cn[e]}));var pn,hn,fn=Yt(!1,(function(e,t,n,i,o){var r=n.get,a=n.set,s=o[0]||{};!function(e,t,n){var i=ao(e);n.name=i.name+"."+t,n.context=e,i.values[t]=new jn(n),Object.defineProperty(e,t,function(e){return lo[e]||(lo[e]={configurable:Vn.computedConfigurable,enumerable:!1,get:function(){return co(this).read(this,e)},set:function(t){co(this).write(this,e,t)}})}(t))}(e,t,ct({get:r,set:a},s))})),mn=fn({equals:Wt.structural}),gn=function(e,t,n){if("string"==typeof t)return fn.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return fn.apply(null,arguments);"production"!==process.env.NODE_ENV&&(bt("function"==typeof e,"First argument to `computed` should be an expression."),bt(arguments.length<3,"Computed takes one or two arguments if used as function"));var i="object"==typeof t?t:{};return i.get=e,i.set="function"==typeof t?t:i.set,i.name=i.name||e.name||"",new jn(i)};gn.struct=mn,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(pn||(pn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(hn||(hn={}));var yn=function(e){this.cause=e};function bn(e){return e instanceof yn}function vn(e){switch(e.dependenciesState){case pn.UP_TO_DATE:return!1;case pn.NOT_TRACKING:case pn.STALE:return!0;case pn.POSSIBLY_STALE:for(var t=Cn(!0),n=kn(),i=e.observing,o=i.length,r=0;r<o;r++){var a=i[r];if(Un(a)){if(Vn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return En(n),Tn(t),!0}if(e.dependenciesState===pn.STALE)return En(n),Tn(t),!0}}return On(e),En(n),Tn(t),!1}}function _n(e){var t=e.observers.length>0;Vn.computationDepth>0&&t&&yt("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Vn.allowStateChanges||!t&&"strict"!==Vn.enforceActions||yt("production"!==process.env.NODE_ENV&&(Vn.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function xn(e,t,n){var i=Cn(!0);On(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Vn.runId;var o,r=Vn.trackingDerivation;if(Vn.trackingDerivation=e,!0===Vn.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new yn(e)}return Vn.trackingDerivation=r,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=pn.UP_TO_DATE,o=0,r=e.unboundDepsCount,a=0;a<r;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>i&&(i=s.dependenciesState)}n.length=o,e.newObserving=null,r=t.length;for(;r--;){0===(s=t[r]).diffValue&&Kn(s,e),s.diffValue=0}for(;o--;){var s;1===(s=n[o]).diffValue&&(s.diffValue=0,Gn(s,e))}i!==pn.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),0===e.observing.length&&function(e){if("production"===process.env.NODE_ENV)return;(Vn.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),Tn(i),o}function wn(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Kn(t[n],e);e.dependenciesState=pn.NOT_TRACKING}function Sn(e){var t=kn(),n=e();return En(t),n}function kn(){var e=Vn.trackingDerivation;return Vn.trackingDerivation=null,e}function En(e){Vn.trackingDerivation=e}function Cn(e){var t=Vn.allowStateReads;return Vn.allowStateReads=e,t}function Tn(e){Vn.allowStateReads=e}function On(e){if(e.dependenciesState!==pn.UP_TO_DATE){e.dependenciesState=pn.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=pn.UP_TO_DATE}}var In=0,Rn=1,Mn=Object.getOwnPropertyDescriptor((function(){}),"name"),Pn=Mn&&Mn.configurable;function zn(e,t){"production"!==process.env.NODE_ENV&&(bt("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||yt("actions should have valid names, got: '"+e+"'"));var n=function(){return An(e,t,this,arguments)};return"production"!==process.env.NODE_ENV&&Pn&&Object.defineProperty(n,"name",{value:e}),n.isMobxAction=!0,n}function An(e,t,n,i){var o=function(e,t,n){var i=oi()&&!!e,o=0;if(i){o=Date.now();var r=n&&n.length||0,a=new Array(r);if(r>0)for(var s=0;s<r;s++)a[s]=n[s];ai({type:"action",name:e,object:t,arguments:a})}var l=kn();Yn();var c=Dn(!0),u=Cn(!0),d={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:i,startTime:o,actionId:Rn++,parentActionId:In};return In=d.actionId,d}(e,n,i);try{return t.apply(n,i)}catch(e){throw o.error=e,e}finally{!function(e){In!==e.actionId&&yt("invalid action stack. did you forget to finish an action?");In=e.parentActionId,void 0!==e.error&&(Vn.suppressReactionErrors=!0);Ln(e.prevAllowStateChanges),Tn(e.prevAllowStateReads),qn(),En(e.prevDerivation),e.notifySpy&&li({time:Date.now()-e.startTime});Vn.suppressReactionErrors=!1}(o)}}function Dn(e){var t=Vn.allowStateChanges;return Vn.allowStateChanges=e,t}function Ln(e){Vn.allowStateChanges=e}var Fn=function(e){function t(t,n,i,o,r){void 0===i&&(i="ObservableValue@"+gt()),void 0===o&&(o=!0),void 0===r&&(r=Wt.default);var a=e.call(this,i)||this;return a.enhancer=n,a.name=i,a.equals=r,a.hasUnreportedChange=!1,a.value=n(t,void 0,i),o&&oi()&&ri({type:"create",name:a.name,newValue:""+a.value}),a}return lt(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Vn.UNCHANGED){var n=oi();n&&ai({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&li()}},t.prototype.prepareNewValue=function(e){if(_n(this),Mi(this)){var t=zi(this,{object:this,type:"update",newValue:e});if(!t)return Vn.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Vn.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Ai(this)&&Li(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Pi(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Di(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return zt(this.get())},t}(jt);Fn.prototype[Pt()]=Fn.prototype.valueOf;var Bn=Ot("ObservableValue",Fn),jn=function(){function e(e){this.dependenciesState=pn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=pn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+gt(),this.value=new yn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=hn.NONE,bt(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+gt(),e.set&&(this.setter=zn(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Wt.structural:Wt.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==pn.UP_TO_DATE)return;e.lowestObserverState=pn.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===pn.UP_TO_DATE&&(i.dependenciesState=pn.POSSIBLY_STALE,i.isTracing!==hn.NONE&&Zn(i,e),i.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&yt("Cycle detected in computation "+this.name+": "+this.derivation),0!==Vn.inBatch||0!==this.observers.length||this.keepAlive?($n(this),vn(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===pn.STALE)return;e.lowestObserverState=pn.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===pn.POSSIBLY_STALE?i.dependenciesState=pn.STALE:i.dependenciesState===pn.UP_TO_DATE&&(e.lowestObserverState=pn.UP_TO_DATE)}}(this)):vn(this)&&(this.warnAboutUntrackedRead(),Yn(),this.value=this.computeValue(!1),qn());var e=this.value;if(bn(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(bn(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){bt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else bt(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){oi()&&ri({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===pn.NOT_TRACKING,n=this.computeValue(!0),i=t||bn(e)||bn(n)||!this.equals(e,n);return i&&(this.value=n),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Vn.computationDepth++,e)t=xn(this,this.derivation,this.scope);else if(!0===Vn.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new yn(e)}return Vn.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(wn(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,i=!0,o=void 0;return function(e,t){void 0===t&&(t=ht);"production"!==process.env.NODE_ENV&&(bt("function"==typeof e,"Autorun expects a function as first argument"),bt(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var n;var i,o=t&&t.name||e.name||"Autorun@"+gt();if(t.scheduler||t.delay){var r=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:gi}(t),a=!1;i=new Jn(o,(function(){a||(a=!0,r((function(){a=!1,i.isDisposed||i.track(s)})))}),t.onError,t.requiresObservable)}else i=new Jn(o,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(i)}return i.schedule(),i.getDisposer()}((function(){var r=n.get();if(!i||t){var a=kn();e({type:"update",object:n,newValue:r,oldValue:o}),En(a)}i=!1,o=r}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&yt("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==hn.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Vn.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return zt(this.get())},e}();jn.prototype[Pt()]=jn.prototype.valueOf;var Un=Ot("ComputedValue",jn),Nn=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Hn=!0,Wn=!1,Vn=function(){var e=mt();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Hn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Nn).version&&(Hn=!1),Hn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Nn):(setTimeout((function(){Wn||yt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Nn)}();function Gn(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Kn(e,t){if(1===e.observers.length)e.observers.length=0,Xn(e);else{var n=e.observers,i=e.observersIndexes,o=n.pop();if(o!==t){var r=i[t.__mapid]||0;r?i[o.__mapid]=r:delete i[o.__mapid],n[r]=o}delete i[t.__mapid]}}function Xn(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Vn.pendingUnobservations.push(e))}function Yn(){Vn.inBatch++}function qn(){if(0==--Vn.inBatch){ei();for(var e=Vn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof jn&&n.suspend())}Vn.pendingUnobservations=[]}}function $n(e){!function(e){"production"!==process.env.NODE_ENV&&!Vn.allowStateReads&&Vn.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=Vn.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Vn.inBatch>0&&Xn(e),!1)}function Zn(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===hn.BREAK){var n=[];!function e(t,n,i){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(i).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,i+1)}))}((i=e,_i(ho(i,o))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof jn?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var i,o}var Jn=function(){function e(e,t,n,i){void 0===e&&(e="Reaction@"+gt()),void 0===i&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=pn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+gt(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=hn.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Vn.pendingReactions.push(this),ei())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Yn(),this._isScheduled=!1,vn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&oi()&&ri({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}qn()}},e.prototype.track=function(e){Yn();var t,n=oi();n&&(t=Date.now(),ai({name:this.name,type:"reaction"})),this._isRunning=!0;var i=xn(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&wn(this),bn(i)&&this.reportExceptionInDerivation(i.cause),n&&li({time:Date.now()-t}),qn()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Vn.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Vn.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),oi()&&ri({type:"error",name:this.name,message:n,error:""+e}),Vn.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Yn(),wn(this),qn()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var i=Ii(e);if(!i)return yt("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");i.isTracing===hn.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled");i.isTracing=n?hn.BREAK:hn.LOG}(this,e)},e}(),Qn=function(e){return e()};function ei(){Vn.inBatch>0||Vn.isRunningReactions||Qn(ti)}function ti(){Vn.isRunningReactions=!0;for(var e=Vn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,o=n.length;i<o;i++)n[i].runReaction()}Vn.isRunningReactions=!1}var ni=Ot("Reaction",Jn);function ii(e){var t=Qn;Qn=function(n){return e((function(){return t(n)}))}}function oi(){return!!Vn.spyListeners.length}function ri(e){if(Vn.spyListeners.length)for(var t=Vn.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function ai(e){ri(ct(ct({},e),{spyReportStart:!0}))}var si={spyReportEnd:!0};function li(e){ri(e?ct(ct({},e),{spyReportEnd:!0}):si)}function ci(e){return Vn.spyListeners.push(e),xt((function(){Vn.spyListeners=Vn.spyListeners.filter((function(t){return t!==e}))}))}function ui(){yt("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function di(e){return function(t,n,i){if(i){if("production"!==process.env.NODE_ENV&&void 0!==i.get)return yt("@action cannot be used with getters");if(i.value)return{value:zn(e,i.value),enumerable:!1,configurable:!0,writable:!0};var o=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return zn(e,o.call(this))}}}return pi(e).apply(this,arguments)}}function pi(e){return function(t,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){Et(this,n,hi(e,t))}})}}var hi=function(e,t,n,i){return 1===arguments.length&&"function"==typeof e?zn(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?zn(e,t):1===arguments.length&&"string"==typeof e?di(e):!0!==i?di(t).apply(null,arguments):void(e[t]=zn(e.name||t,n.value))};function fi(e,t){var n="string"==typeof e?e:e.name||"<unnamed action>",i="function"==typeof e?e:t;return"production"!==process.env.NODE_ENV&&(bt("function"==typeof i&&0===i.length,"`runInAction` expects a function without arguments"),"string"==typeof n&&n||yt("actions should have valid names, got: '"+n+"'")),An(n,i,this,void 0)}function mi(e,t,n){Et(e,t,zn(t,n.bind(e)))}hi.bound=function(e,t,n,i){return!0===i?(mi(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return mi(this,t,n.value||n.initializer.call(this)),this[t]},set:ui}:{enumerable:!1,configurable:!0,set:function(e){mi(this,t,e)},get:function(){}}};var gi=function(e){return e()};function yi(e,t,n){return bi("onBecomeUnobserved",e,t,n)}function bi(e,t,n,i){var o="function"==typeof i?ho(t,n):ho(t),r="function"==typeof i?i:n,a=o[e];return"function"!=typeof a?yt("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):(o[e]=function(){a.call(this),r.call(this)},function(){o[e]=a})}function vi(e,t,n,i){if("production"!==process.env.NODE_ENV&&(bt(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),bt("object"==typeof e,"'extendObservable' expects an object as first argument"),bt(!to(e),"'extendObservable' should not be used on maps, use map.merge instead"),bt(!ki(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n))for(var o in n)o in t||yt("Trying to declare a decorator for unspecified property '"+o+"'");var r=(i=nn(i)).defaultDecorator||(!1===i.deep?sn:rn);Xt(e),ao(e,i.name,r.enhancer),Yn();try{for(var o in t){var a=Object.getOwnPropertyDescriptor(t,o);"production"!==process.env.NODE_ENV&&wi(a.value)&&yt("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead");var s=n&&o in n?n[o]:a.get?fn:r;if("production"!==process.env.NODE_ENV&&"function"!=typeof s)return yt("Not a valid decorator for '"+o+"', got: "+s);var l=s(e,o,a,!0);l&&Object.defineProperty(e,o,l)}}finally{qn()}return e}function _i(e){var t,n,i={name:e.name};return e.observing&&e.observing.length>0&&(i.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(_i)),i}function xi(e,t){if(null==e)return!1;if(void 0!==t){if(!1===po(e))return!1;if(!e.$mobx.values[t])return!1;var n=ho(e,t);return Un(n)}return Un(e)}function wi(e){return arguments.length>1?yt("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):xi(e)}function Si(e,t){if(null==e)return!1;if(void 0!==t){if("production"!==process.env.NODE_ENV&&(to(e)||Zi(e)))return yt("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");if(po(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return po(e)||!!e.$mobx||Ut(e)||ni(e)||Un(e)}function ki(e){return 1!==arguments.length&&yt("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Si(e)}var Ei={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ci(e,t,n,i){return i.detectCycles&&e.set(t,n),n}function Ti(e,t,n){if(!t.recurseEverything&&!ki(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Bn(e))return Ti(e.get(),t,n);var i;if(ki(e)&&(po(i=e)?i.$mobx.getKeys():to(i)?i._keys.slice():oo(i)?Mt(i.keys()):Zi(i)?i.map((function(e,t){return t})):yt("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(Zi(e)||Array.isArray(e)){var o=Ci(n,e,[],t),r=e.map((function(e){return Ti(e,t,n)}));o.length=r.length;for(var a=0,s=r.length;a<s;a++)o[a]=r[a];return o}if(oo(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var l=Ci(n,e,new Set,t);return e.forEach((function(e){l.add(Ti(e,t,n))})),l}var c=Ci(n,e,[],t);return e.forEach((function(e){c.push(Ti(e,t,n))})),c}if(to(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var u=Ci(n,e,new Map,t);return e.forEach((function(e,i){u.set(i,Ti(e,t,n))})),u}var d=Ci(n,e,{},t);return e.forEach((function(e,i){d[i]=Ti(e,t,n)})),d}var p=Ci(n,e,{},t);for(var h in e)p[h]=Ti(e[h],t,n);return p}function Oi(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ei),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Ti(e,t,n)}function Ii(e){switch(e.length){case 0:return Vn.trackingDerivation;case 1:return ho(e[0]);case 2:return ho(e[0],e[1])}}function Ri(e,t){void 0===t&&(t=void 0),Yn();try{return e.apply(t)}finally{qn()}}function Mi(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Pi(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),xt((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function zi(e,t){var n=kn();try{var i=e.interceptors;if(i)for(var o=0,r=i.length;o<r&&(bt(!(t=i[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{En(n)}}function Ai(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Di(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),xt((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Li(e,t){var n=kn(),i=e.changeListeners;if(i){for(var o=0,r=(i=i.slice()).length;o<r;o++)i[o](t);En(n)}}var Fi,Bi,ji,Ui,Ni=(Fi=!1,Bi={},Object.defineProperty(Bi,"0",{set:function(){Fi=!0}}),Object.create(Bi)[0]=1,!1===Fi),Hi=0,Wi=function(){};ji=Wi,Ui=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(ji.prototype,Ui):void 0!==ji.prototype.__proto__?ji.prototype.__proto__=Ui:ji.prototype=Ui,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Wi.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Vi=function(){function e(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new jt(e||"ObservableArray@"+gt()),this.enhancer=function(n,i){return t(n,i,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Pi(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Di(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Hi&&qi(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;_n(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=pt),Mi(this)){var r=zi(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!r)return pt;t=r.removedCount,n=r.added}var a=(n=0===n.length?n:n.map((function(e){return i.enhancer(e,void 0)}))).length-t;this.updateArrayLength(o,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,dt([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&oi(),o=Ai(this),r=o||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&ai(ct(ct({},r),{name:this.atom.name})),this.atom.reportChanged(),o&&Li(this,r),i&&li()},e.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&oi(),o=Ai(this),r=o||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&ai(ct(ct({},r),{name:this.atom.name})),this.atom.reportChanged(),o&&Li(this,r),i&&li()},e}(),Gi=function(e){function t(t,n,i,o){void 0===i&&(i="ObservableArray@"+gt()),void 0===o&&(o=!1);var r=e.call(this)||this,a=new Vi(i,n,r,o);if(Ct(r,"$mobx",a),t&&t.length){var s=Dn(!0);r.spliceWithArray(0,0,t),Ln(s)}return Ni&&Object.defineProperty(a.array,"0",Ki),r}return lt(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return Zi(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&_t("The array.find fromIndex argument to find will not be supported anymore in the next major");var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&_t("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var i=this.peek(),o=i.length,r=n;r<o;r++)if(e.call(t,i[r],r,this))return r;return-1},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(_t("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,e),n.call(this,t),e!==t){var i,o=this.$mobx.values;i=e<t?dt(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):dt(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(i)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){_n(n.atom);var o=i[e];if(Mi(n)){var r=zi(n,{type:"update",object:this,index:e,newValue:t});if(!r)return;t=r.newValue}(t=n.enhancer(t,o))!==o&&(i[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},t}(Wi);Dt(Gi.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return Lt({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(Gi.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),Et(Gi.prototype,Ft(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];bt("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),Et(Gi.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)Et(e,t[n],e[t[n]])}(Gi.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Ki=Xi(0);function Xi(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Yi(e){Object.defineProperty(Gi.prototype,""+e,Xi(e))}function qi(e){for(var t=Hi;t<e;t++)Yi(t);Hi=e}qi(1e3);var $i=Ot("ObservableArrayAdministration",Vi);function Zi(e){return St(e)&&$i(e.$mobx)}var Ji={},Qi=function(){function e(e,t,n){if(void 0===t&&(t=$t),void 0===n&&(n="ObservableMap@"+gt()),this.enhancer=t,this.name=n,this.$mobx=Ji,this._keys=new Gi(void 0,Zt,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Vn.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var i=n=new Fn(this._has(e),Zt,this.name+"."+eo(e)+"?",!1);this._hasMap.set(e,i),yi(i,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Mi(this)){var i=zi(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(Mi(this)&&!(o=zi(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=oi(),i=Ai(this),o=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&ai(ct(ct({},o),{name:this.name,key:e})),Ri((function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),i&&Li(this,o),n&&li(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Vn.UNCHANGED){var i=oi(),o=Ai(this),r=o||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&ai(ct(ct({},r),{name:this.name,key:e})),n.setNewValue(t),o&&Li(this,r),i&&li()}},e.prototype._addValue=function(e,t){var n=this;Ri((function(){var i=new Fn(t,n.enhancer,n.name+"."+eo(e),!1);n._data.set(e,i),t=i.value,n._updateHasMapEntry(e,!0),n._keys.push(e)}));var i=oi(),o=Ai(this),r=o||i?{type:"add",object:this,name:e,newValue:t}:null;i&&ai(ct(ct({},r),{name:this.name,key:e})),o&&Li(this,r),i&&li()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[At()]()},e.prototype.values=function(){var e=this,t=0;return Lt({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return Lt({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach((function(i){return e.call(t,n.get(i),i,n)}))},e.prototype.merge=function(e){var t=this;return to(e)&&(e=e.toJS()),Ri((function(){kt(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=ut(e,2),i=n[0],o=n[1];return t.set(i,o)})):It(e)?e.constructor!==Map?yt("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&yt("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;Ri((function(){Sn((function(){e._keys.slice().forEach((function(t){return e.delete(t)}))}))}))},e.prototype.replace=function(e){var t=this;return Ri((function(){for(var n,i=It(n=e)||to(n)?n:Array.isArray(n)?new Map(n):kt(n)?new Map(Object.entries(n)):yt("Cannot convert to map from '"+n+"'"),o=t._keys,r=Array.from(i.keys()),a=!1,s=0;s<o.length;s++){var l=o[s];o.length===r.length&&l!==r[s]&&(a=!0),i.has(l)||(a=!0,t.delete(l))}i.forEach((function(e,n){t._data.has(n)||(a=!0),t.set(n,e)})),a&&t._keys.replace(r)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach((function(n){return t["symbol"==typeof n?n:eo(n)]=e.get(n)})),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach((function(n){return t.set(n,e.get(n))})),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map((function(t){return eo(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&bt(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),Di(this,e)},e.prototype.intercept=function(e){return Pi(this,e)},e}();function eo(e){return e&&e.toString?e.toString():new String(e).toString()}Dt(Qi.prototype,(function(){return this.entries()})),Ct(Qi.prototype,Ft(),"Map");var to=Ot("ObservableMap",Qi),no={},io=function(){function e(e,t,n){if(void 0===t&&(t=$t),void 0===n&&(n="ObservableSet@"+gt()),this.name=n,this.$mobx=no,this._data=new Set,this._atom=Nt(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,i){return t(e,i,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Ri((function(){Sn((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._data.forEach((function(i){e.call(t,i,i,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((_n(this._atom),Mi(this))&&!(o=zi(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Ri((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=oi(),i=Ai(this),o=i||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&ai(o),i&&Li(this,o),n&&"production"!==process.env.NODE_ENV&&li()}return this},e.prototype.delete=function(e){var t=this;if(Mi(this)&&!(o=zi(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=oi(),i=Ai(this),o=i||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&ai(ct(ct({},o),{name:this.name})),Ri((function(){t._atom.reportChanged(),t._data.delete(e)})),i&&Li(this,o),n&&"production"!==process.env.NODE_ENV&&li(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Mt(this.keys()),n=Mt(this.values());return Lt({next:function(){var i=e;return e+=1,i<n.length?{value:[t[i],n[i]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=Mt(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),Lt({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return oo(e)&&(e=e.toJS()),Ri((function(){Array.isArray(e)||Rt(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&yt("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&bt(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),Di(this,e)},e.prototype.intercept=function(e){return Pi(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Mt(this.keys()).join(", ")+" ]"},e}();Dt(io.prototype,(function(){return this.values()})),Ct(io.prototype,Ft(),"Set");var oo=Ot("ObservableSet",io),ro=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if("production"!==process.env.NODE_ENV||this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var i=this.target;"production"===process.env.NODE_ENV&&i!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof jn)o.set(n);else{if(Mi(this)){if(!(s=zi(this,{type:"update",object:i,name:t,newValue:n})))return;n=s.newValue}if((n=o.prepareNewValue(n))!==Vn.UNCHANGED){var r=Ai(this),a=oi(),s=r||a?{type:"update",object:i,oldValue:o.value,name:t,newValue:n}:null;a&&ai(ct(ct({},s),{name:this.name,key:t})),o.setNewValue(n),r&&Li(this,s),a&&li()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Mi(this))if(!(r=zi(this,{object:t,name:e,type:"remove"})))return;try{Yn();var n=Ai(this),i=oi(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var r=n||i?{type:"remove",object:t,oldValue:o,name:e}:null;i&&ai(ct(ct({},r),{name:this.name,key:e})),n&&Li(this,r),i&&li()}finally{qn()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&bt(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),Di(this,e)},e.prototype.intercept=function(e){return Pi(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new Gi(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Fn})),Zt,"keys("+this.name+")",!0)),this.keys.slice()},e}();function ao(e,t,n){void 0===t&&(t=""),void 0===n&&(n=$t);var i=e.$mobx;return i||("production"!==process.env.NODE_ENV&&bt(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),kt(e)||(t=(e.constructor.name||"ObservableObject")+"@"+gt()),t||(t="ObservableObject@"+gt()),Ct(e,"$mobx",i=new ro(e,t,n)),i)}var so=Object.create(null),lo=Object.create(null);function co(e){var t=e.$mobx;return t||(Xt(e),e.$mobx)}var uo=Ot("ObservableObjectAdministration",ro);function po(e){return!!St(e)&&(Xt(e),uo(e.$mobx))}function ho(e,t){if("object"==typeof e&&null!==e){if(Zi(e))return void 0!==t&&yt("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e.$mobx.atom;if(oo(e))return e.$mobx;if(to(e)){var n=e;return void 0===t?ho(n._keys):((i=n._data.get(t)||n._hasMap.get(t))||yt("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+fo(e)+"'"),i)}var i;if(Xt(e),t&&!e.$mobx&&e[t],po(e))return t?((i=e.$mobx.values[t])||yt("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+fo(e)+"'"),i):yt("production"!==process.env.NODE_ENV&&"please specify a property");if(Ut(e)||Un(e)||ni(e))return e}else if("function"==typeof e&&ni(e.$mobx))return e.$mobx;return yt("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function fo(e,t){return(void 0!==t?ho(e,t):po(e)||to(e)||oo(e)?function e(t,n){return t||yt("Expecting some object"),void 0!==n?e(ho(t,n)):Ut(t)||Un(t)||ni(t)||to(t)||oo(t)?t:(Xt(t),t.$mobx?t.$mobx:void yt("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+t))}(e):ho(e)).name}var mo=Object.prototype.toString;function go(e,t,n){return void 0===n&&(n=-1),function e(t,n,i,o,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=yo(t),n=yo(n);var s=mo.call(t);if(s!==mo.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1);r=r||[];var d=(o=o||[]).length;for(;d--;)if(o[d]===t)return r[d]===n;if(o.push(t),r.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],i-1,o,r))return!1}else{var p=Object.keys(t),h=void 0;if(d=p.length,Object.keys(n).length!==d)return!1;for(;d--;)if(h=p[d],!bo(n,h)||!e(t[h],n[h],i-1,o,r))return!1}return o.pop(),r.pop(),!0}(e,t,n)}function yo(e){return Zi(e)?e.peek():It(e)||to(e)||Rt(e)||oo(e)?Mt(e.entries()):e}function bo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}try{process.env.NODE_ENV}catch(e){var vo=mt();"undefined"==typeof process&&(vo.process={}),vo.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}();if("object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ci,extras:{getDebugName:fo},$mobx:"$mobx"}),"production"!==process.env.NODE_ENV&&"undefined"!=typeof module&&void 0!==module.exports){var _o=!1;Object.defineProperty(module.exports,"default",{enumerable:!1,get:function(){_o||(_o=!0,console.warn('The MobX package does not have a default export. Use \'import { thing } from "mobx"\' (recommended) or \'import * as mobx from "mobx"\' instead."'))}}),["extras","Atom","BaseAtom","asFlat","asMap","asReference","asStructure","autorunAsync","createTranformer","expr","isModifierDescriptor","isStrictModeEnabled","map","useStrict","whyRun"].forEach((function(e){Object.defineProperty(module.exports,e,{enumerable:!1,get:function(){yt("'"+e+"' is no longer part of the public MobX api. Please consult the changelog to find out where this functionality went")},set:function(){}})}))}var xo=function(){function e(e,t){this.from=e,this.to=t}return e.prototype.contains=function(e){return this.from<=e&&e<=this.to},e.prototype.clamp=function(e){return Math.min(Math.max(this.from,e),this.to)},e}(),wo=new xo(-1,1),So=function(){function e(e){this.engineMediator=e,this.state=at}return e.prototype.editAdjustments=function(e){var t=e.type,n=e.value,i=wo.clamp(n);this.state[t]=i},e.prototype.reset=function(){var e=this;fi((function(){-1===e.indexInContainer&&(Object.keys(at).forEach((function(t){e.state[t]=at[t]})),e.orderHelper.removeIndex(E.ADJUSTMENT))}))},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderHelper",{get:function(){return this.engineMediator.orderHelper},enumerable:!0,configurable:!0}),e.prototype.setAdjustmentEffect=function(e){var t=this.orderHelper.addIndex(E.ADJUSTMENT);return this.effect?this.effect.setProperties(e):this.effect=this.engineMediator.engine.addAdjustments(e,this.engineMediator.image.container,t),this.effect.getProperties()},e.prototype.removeAdjustmentEffect=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},O([un],e.prototype,"state",void 0),O([hi],e.prototype,"editAdjustments",null),O([hi],e.prototype,"reset",null),e}(),ko=function(){function e(t,n){var i=this;this.assets=[],this.withoutItems=function(e){e.items;return T(e,["items"])},this.entityMapper=function(t,n){return e.isCategory(t)?i.categoryMapper(t,n):i.itemMapper(t,n)},this.categoryMapper=function(e,t){return e?C({},e,{thumbnailURI:i.getCategoryPath(e),type:De.LARGE,delay:.08*t,name:i.config.locale[e.identifier]||e.name,items:e.items.map(i.itemMapper)}):null},this.itemMapper=function(e,t){return e?C({},e,{thumbnailURI:i.getItemPath(e),type:De.MEDIUM,delay:.08*t,name:i.config.locale[e.identifier]||e.name}):null},this.getCategoryPath=function(e){return ue(e)&&i.config.categoryDynamicKey?e[i.config.categoryDynamicKey]:i.config.getAssetPath(e[i.config.categoryKey]||"")},this.getItemPath=function(e){return ce(e)&&i.config.itemDynamicKey?e[i.config.itemDynamicKey]:i.config.getAssetPath(e[i.config.itemKey]||"")},this.config=n,this.assets=t.map(this.entityMapper).filter(Boolean)}return e.isCategory=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},Object.defineProperty(e.prototype,"categories",{get:function(){return this.assets.reduce((function(t,n){if(e.isCategory(n))return z(t,[n])}),[]).filter(Boolean)},enumerable:!0,configurable:!0}),e.prototype.getCategories=function(e){this.assets.findIndex((function(t){return t.identifier===e}));return this.categories},Object.defineProperty(e.prototype,"items",{get:function(){return this.assets.reduce((function(t,n){return e.isCategory(n)?z(t,n.items):z(t,[n])}),[]).filter(Boolean)},enumerable:!0,configurable:!0}),e.prototype.itemsOfCategory=function(e){var t=this.assets.findIndex((function(t){return t.identifier===e}));return-1!==t?this.categories[t].items:[]},e.prototype.getEntities=function(e){if(this.config.flattenCategories)return this.items;if(e){var t=this.assets.findIndex((function(t){return t.identifier===e}));if(-1!==t){var n=this.categories[t].items;return z(this.categories.slice(0,t+1),n,this.categories.slice(t+1)).map(this.withoutItems)}}return this.categories.map(this.withoutItems)},e}(),Eo=function(){function e(e){var t=this;this.dirty=un.box(!1),this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.adjustmentsStore=new So(this.editor.engineMediator),this.selectedOption="";var n=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new ko(n,C({},this.config,{flattenCategories:!1,categoryKey:"",itemKey:"thumbnailURI",locale:C({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("adjustment")}))}return e.prototype.editAdjustments=function(e){var t=e.type,n=e.value;this.pureSetAdjustment({type:t,value:n}),this.editor.render()},e.prototype.toolSnapshot=function(){this.dirty.set(!0),this.addSnapshot("edit",E.ADJUSTMENT)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.toggleOptionSelection=function(e){this.selectedOption=e},e.prototype.pureSetAdjustment=function(e){var t,n=e.type,i=e.value,o=this.adjustmentsStore.setAdjustmentEffect(((t={})[n]=i,t));this.adjustmentsStore.editAdjustments({type:n,value:o[n]})},e.prototype.pureReset=function(){this.dirty.set(!1),this.adjustmentsStore.removeAdjustmentEffect(),this.adjustmentsStore.reset(),this.selectedOption=""},e.prototype.updateStateFromHistory=function(e){var t=this;fi((function(){Object.keys(e).forEach((function(n){t.pureSetAdjustment({type:n,value:e[n]})}))}))},e.prototype.updateStateFromSerialization=function(e){this.updateStateFromHistory(e)},Object.defineProperty(e.prototype,"selectedAdjustmentType",{get:function(){return this.selectedOption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.dirty.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.adjustmentsStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptionLabel",{get:function(){var e=this,t=this.items.find((function(t){return!!t&&t.identifier===e.selectedOption}));return t?t.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.state.brightness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saturation",{get:function(){return this.state.saturation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contrast",{get:function(){return this.state.contrast},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gamma",{get:function(){return this.state.gamma},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clarity",{get:function(){return this.state.clarity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exposure",{get:function(){return this.state.exposure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadows",{get:function(){return this.state.shadows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlights",{get:function(){return this.state.highlights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whites",{get:function(){return this.state.whites},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blacks",{get:function(){return this.state.blacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"temperature",{get:function(){return this.state.temperature},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharpness",{get:function(){return this.state.sharpness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.entityManager.categories.reduce((function(e,t){return z(e,ko.isCategory(t)?t.items:[t])}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.ADJUSTMENT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.ADJUSTMENT]},enumerable:!0,configurable:!0}),O([un],e.prototype,"selectedOption",void 0),O([un],e.prototype,"dirty",void 0),O([hi],e.prototype,"editAdjustments",null),O([hi],e.prototype,"toggleOptionSelection",null),O([hi],e.prototype,"pureSetAdjustment",null),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"updateStateFromSerialization",null),O([gn],e.prototype,"selectedAdjustmentType",null),O([gn],e.prototype,"isDirty",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"selectedOptionLabel",null),O([gn],e.prototype,"brightness",null),O([gn],e.prototype,"saturation",null),O([gn],e.prototype,"contrast",null),O([gn],e.prototype,"gamma",null),O([gn],e.prototype,"clarity",null),O([gn],e.prototype,"exposure",null),O([gn],e.prototype,"shadows",null),O([gn],e.prototype,"highlights",null),O([gn],e.prototype,"whites",null),O([gn],e.prototype,"blacks",null),O([gn],e.prototype,"temperature",null),O([gn],e.prototype,"sharpness",null),O([gn],e.prototype,"categories",null),O([gn],e.prototype,"items",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),e}(),Co={identifier:"identity",intensity:1,isDuotone:!1},To=new xo(0,1),Oo=function(){function e(e){var t=this;this.setEffectProperties=function(e){var n=e.intensity;return t.effect?(t.state.isDuotone?t.effect.setProperties({colorIntensity:n}):t.effect.setProperties({intensity:n}),t.effect.getProperties()):null},this.engineMediator=e,this.state=Co}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeIfDuotone=function(e){this.state.isDuotone=e},e.prototype.changeIntensity=function(e){var t=To.clamp(e);this.state.intensity=t},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Co.identifier,this.state.intensity=Co.intensity,this.removeIndex())},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.setFilterEffect=function(e){var t=this,n=e.identifier,i=e.intensity,o=e.isDuotone,r=this.state;this.changeIdentifier(n),this.changeIntensity(i),this.changeIfDuotone(o),this.removeFilterEffect();var a=this.engineMediator.orderHelper.addIndex(E.FILTER);return new Promise(o?function(e,o){t.engineMediator.engine.addDuoToneFilterFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({colorIntensity:i}),e()})).catch((function(e){t.fallbackOnError(r),o(e)}))}:function(e,o){t.engineMediator.engine.addLUTFilterFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({intensity:i}),e()})).catch((function(e){t.fallbackOnError(r),o(e)}))})},e.prototype.removeFilterEffect=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeIndex(E.FILTER)},e.prototype.fallbackOnError=function(e){this.changeIdentifier(e.identifier),this.changeIntensity(e.intensity),"identity"===e.identifier&&this.removeIndex()},O([un],e.prototype,"state",void 0),O([hi],e.prototype,"changeIdentifier",null),O([hi],e.prototype,"changeIfDuotone",null),O([hi],e.prototype,"changeIntensity",null),O([hi],e.prototype,"reset",null),e}(),Io=function(){function e(e){var t=this;this.changeIntensity=function(e){var n=t.isOptionDuoTone(t.identifier),i=t.filterStore.setEffectProperties({intensity:e});if(i){var o=n?i.colorIntensity:i.intensity;t.filterStore.changeIntensity(o),t.editor.render()}},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.selectedCategory="identity",this.filterStore=new Oo(this.editor.engineMediator);var n=this.config,i=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new ko(i,C({},n,{categoryKey:"thumbnailURI",itemKey:"thumbnailURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}))}return e.prototype.selectFilter=function(e,t){return void 0===t&&(t=1),I(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:[4,this.filterStore.setFilterEffect({identifier:e,intensity:t,isDuotone:this.isOptionDuoTone(e)})];case 1:n.sent(),this.editor.render(),this.addSnapshot("add",E.FILTER),n.label=2;case 2:return[2]}}))}))},e.prototype.setImageAndGetPreviews=function(){return I(this,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return this.config.enablePreviewThumbnails?(e=this.editor.activeStore.state.image,[4,this.editor.previewThumbnails.addImageToContainer(e)]):[3,3];case 1:return t.sent(),[4,this.getAllFilterPreview()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.getAllFilterPreview=function(){return I(this,void 0,void 0,(function(){var e,t,n,i,o,r=this;return R(this,(function(a){switch(a.label){case 0:return e=this.entityManager.items.map((function(e){return{identifier:e.identifier,isDuotone:r.isOptionDuoTone(e.identifier)}})),[4,this.editor.previewThumbnails.getAllFilterPreviewThumbnails(e)];case 1:return t=a.sent(),[4,this.editor.wait()];case 2:return a.sent(),n=this.config,i=this.editor.configStore.assetProvider.getAssets("filter").map((function(e){return C({},e,{items:e.items.map((function(e){return C({},e,{thumbnail:t[e.identifier]})}))})})),this.entityManager=new ko(i,C({},n,{categoryKey:"thumbnailURI",itemDynamicKey:"thumbnail",itemKey:"thumbnailURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")})),o=this.editor.activeStore.tool,this.editor.activeStore.selectTool(E.LIBRARY),this.editor.activeStore.selectTool(o),[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.controls.sliderIntensity)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.pureReset=function(){this.selectedCategory="identity",this.filterStore.removeFilterEffect(),this.filterStore.reset()},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.updateStateFromSerialization=function(e){var t=e.identifier,n=e.intensity,i=this.doesFilterAssetExist(t);if(i){var o=$(i);return this.filterStore.setFilterEffect({identifier:t,intensity:n,isDuotone:o})}return new Promise((function(e,n){n(new Error("Filter Asset "+t+" doesn't exist"))}))},e.prototype.updateStateFromHistory=function(e){return I(this,void 0,void 0,(function(){return R(this,(function(t){return"identity"===e.identifier?(this.pureReset(),[2,new Promise((function(e){e()}))]):[2,this.filterStore.setFilterEffect(e)]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.filterStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return this.state.intensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDuotone",{get:function(){return this.state.isDuotone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.FILTER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.FILTER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.getCategories(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenCategories",{get:function(){return this.config.flattenCategories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),e.prototype.doesFilterAssetExist=function(e){return this.entityManager.items.find((function(t){return e===t.identifier}))},e.prototype.isOptionDuoTone=function(e){var t=this.doesFilterAssetExist(e);return!!t&&$(t)},O([un],e.prototype,"selectedCategory",void 0),O([hi],e.prototype,"selectFilter",null),O([hi],e.prototype,"changeIntensity",void 0),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"toggleCategorySelection",null),O([hi],e.prototype,"updateStateFromSerialization",null),O([hi],e.prototype,"updateStateFromHistory",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"intensity",null),O([gn],e.prototype,"isDuotone",null),O([gn],e.prototype,"selectedCategoryIdentifier",null),O([gn],e.prototype,"isOptionSelected",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"categories",null),O([gn],e.prototype,"flattenCategories",null),O([gn],e.prototype,"entities",null),e}(),Ro={blurRadius:40,gradientSize:.2},Mo={identifier:"identity",linear:C({start:{x:0,y:0},end:{x:0,y:0}},Ro),radial:C({center:{x:0,y:0},radius:0},Ro),mirrored:C({origin:{x:0,y:0},rotation:0,size:0},Ro),gaussian:Ro},Po=function(){function e(e){this.engineMediator=e,this.state=Mo}return e.prototype.selectFocus=function(e,t){var n=this;fi((function(){n.state.identifier=e,t&&(n.state[e].blurRadius=t)}))},e.prototype.changeBlurRadius=function(e,t){"identity"!==e&&(this.state[e].blurRadius=t)},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Mo.identifier,"identity"!==this.state.identifier&&(this.state[this.state.identifier].blurRadius=Mo[this.state.identifier].blurRadius))},e.prototype.setLinear=function(e){var t=e.start,n=e.end;this.state.linear.start.x=t.x,this.state.linear.start.y=t.y,this.state.linear.end.x=n.x,this.state.linear.end.y=n.y},e.prototype.setLinearStart=function(e){this.state.linear.start.x=e.x,this.state.linear.start.y=e.y},e.prototype.setLinearEnd=function(e){this.state.linear.end.x=e.x,this.state.linear.end.y=e.y},e.prototype.setRadialCenter=function(e){this.state.radial.center.x=e.x,this.state.radial.center.y=e.y},e.prototype.setRadialRadius=function(e){this.state.radial.radius=e},e.prototype.setMirroredOrigin=function(e){this.state.mirrored.origin.x=e.x,this.state.mirrored.origin.y=e.y},e.prototype.setMirroredRotation=function(e){this.state.mirrored.rotation=e},e.prototype.setMirroredSize=function(e){this.state.mirrored.size=e},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.engineMediator.orderHelper.addIndex(E.FOCUS)},enumerable:!0,configurable:!0}),e.prototype.setLinearFocus=function(e){return this.effect=this.engineMediator.engine.addLinearBlur(e,this.imageContainer,this.order),this.effect.getProperties()},e.prototype.getEffectProperties=function(){return this.effect?this.effect.getProperties():null},e.prototype.setGaussianFocus=function(e){return this.effect=this.engineMediator.engine.addGaussianBlur(e,this.imageContainer,this.order),this.effect.getProperties()},e.prototype.setRadialFocus=function(e){return this.effect=this.engineMediator.engine.addRadialBlur(e,this.imageContainer,this.order),this.effect.getProperties()},e.prototype.setMirroredFocus=function(e){return this.effect=this.engineMediator.engine.addMirroredBlur(e,this.imageContainer,this.order),this.effect.getProperties()},e.prototype.setEffectProperties=function(e){return this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.removeFocus=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),this.engineMediator.orderHelper.removeIndex(E.FOCUS))},Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),O([un],e.prototype,"state",void 0),O([hi],e.prototype,"selectFocus",null),O([hi],e.prototype,"changeBlurRadius",null),O([hi],e.prototype,"reset",null),O([hi],e.prototype,"setLinear",null),O([hi],e.prototype,"setLinearStart",null),O([hi],e.prototype,"setLinearEnd",null),O([hi],e.prototype,"setRadialCenter",null),O([hi],e.prototype,"setRadialRadius",null),O([hi],e.prototype,"setMirroredOrigin",null),O([hi],e.prototype,"setMirroredRotation",null),O([hi],e.prototype,"setMirroredSize",null),e}(),zo=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=3);var i=Math.tan(t),o=Math.sqrt(Math.pow(i,2)+1);return{x:e.x+n/o,y:e.y+n*i/o}},Ao=function(e){return 2*Math.PI-e},Do=function(e){var t=e.rotation,n=e.flipHorizontally,i=e.flipVertically,o=t;return n&&(o=Ao(o)),i&&(o=function(e){return Math.PI-e}(o)),o},Lo=function(){function e(e){var t=this;this.changeIntensity=function(e){var n=t.focusStore.setEffectProperties({blurRadius:e});n&&(t.focusStore.changeBlurRadius(t.identifier,n.blurRadius),t.editor.render())},this.reset=function(){t.pureReset(),t.editor.render(),t.addSnapshot("delete",t.locale.controls.buttonReset)},this.editor=e,this.focusStore=new Po(this.editor.engineMediator);var n=this.editor.assetProvider.getAssets("focus");this.entityManager=new ko([{identifier:"",name:"",items:n}],C({},this.config,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")}))}return Object.defineProperty(e,"minIntensity",{get:function(){return 0},enumerable:!0,configurable:!0}),e.doesFocusIdentifierExist=function(e){return-1!==Object.keys(J).map((function(e){return J[e]})).findIndex((function(t){return t===e}))},e.prototype.selectFocus=function(e){if(e!==this.identifier){this.focusStore.removeFocus();var t=.2*this.maxIntensity,n=this.editor.engine.getOutputContainer().getBounds().width,i=.2*this.editor.shortestOutputSide;switch(e){case J.LINEAR:var o=this.editor.outputToWorld({x:-n/2,y:0}),r=this.editor.outputToWorld({x:n/2,y:0});this.setLinearFocus({start:o,end:r,blurRadius:t});break;case J.RADIAL:var a=this.editor.outputToWorld({x:0,y:0});this.setRadialFocus({center:a,radius:i,blurRadius:t});break;case J.MIRRORED:var s=this.editor.outputToWorld({x:0,y:0}),l=i,c=this.editor.outputToWorld(zo({x:0,y:0},0));this.setMirroredFocus({mirrorAxisOrigin:s,clearAreaWidth:l,blurRadius:t,mirrorAxisDirection:c});break;case J.GAUSSIAN:this.setGaussianFocus({blurRadius:t})}this.focusStore.selectFocus(e,t),this.editor.render(),this.addSnapshot("add",E.FOCUS)}},e.prototype.toolSnapshot=function(e){this.addSnapshot("edit",e)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.pureReset=function(){this.focusStore.removeFocus(),this.focusStore.reset()},e.prototype.setStart=function(e){var t=this.focusStore.setEffectProperties({start:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearStart(this.editor.worldToPreview(t.start)),this.editor.render())},e.prototype.setEnd=function(e){var t=this.focusStore.setEffectProperties({end:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearEnd(this.editor.worldToPreview(t.end)),this.editor.render())},e.prototype.setCenter=function(e){var t=this.focusStore.setEffectProperties({center:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialCenter(this.editor.worldToPreview(t.center)),this.editor.render())},e.prototype.setRadius=function(e){var t=this.focusStore.setEffectProperties({radius:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialRadius(this.editor.worldToPreview(t.radius)),this.editor.render())},e.prototype.setOrigin=function(e){var t=this.focusStore.setEffectProperties({mirrorAxisOrigin:this.editor.previewToWorld(e),mirrorAxisDirection:this.editor.previewToWorld(zo(e,this.rotation))});t&&(this.focusStore.setMirroredOrigin(this.editor.worldToPreview(t.mirrorAxisOrigin)),this.editor.render())},e.prototype.setSize=function(e){var t=this.focusStore.setEffectProperties({clearAreaWidth:this.editor.previewToWorld(e)});t&&(this.focusStore.setMirroredSize(this.editor.worldToPreview(t.clearAreaWidth)),this.editor.render())},e.prototype.setRotation=function(e){var t=this.editor.outputContainer.getData(),n=t.flipHorizontally,i=t.flipVertically;if(this.focusStore.setEffectProperties({mirrorAxisDirection:this.editor.previewToWorld(zo(this.origin,e))})){var o=Do({rotation:e,flipHorizontally:n,flipVertically:i});this.focusStore.setMirroredRotation(o),this.editor.render()}},e.prototype.updateStateFromHistory=function(e,t){var n=this;this.focusStore.removeFocus();var i=t.magnitude;fi((function(){switch(e.identifier){case J.LINEAR:n.focusStore.selectFocus(J.LINEAR),n.setLinearFocus({start:n.editor.previewToWorld(new xe(e.linear.start).multiply(t)),end:n.editor.previewToWorld(new xe(e.linear.end).multiply(t)),blurRadius:e.linear.blurRadius});break;case J.GAUSSIAN:n.focusStore.selectFocus(J.GAUSSIAN),n.setGaussianFocus({blurRadius:e.gaussian.blurRadius});break;case J.RADIAL:n.focusStore.selectFocus(J.RADIAL),n.setRadialFocus({center:n.editor.previewToWorld(new xe(e.radial.center).multiply(t)),radius:n.editor.previewToWorld(e.radial.radius*i),blurRadius:e.radial.blurRadius});break;case J.MIRRORED:n.focusStore.selectFocus(J.MIRRORED),n.setMirroredFocus({mirrorAxisOrigin:n.editor.previewToWorld(new xe(e.mirrored.origin).multiply(t)),clearAreaWidth:n.editor.previewToWorld(e.mirrored.size*i),blurRadius:e.mirrored.blurRadius,mirrorAxisDirection:n.editor.previewToWorld(zo(e.mirrored.origin,e.mirrored.rotation))});break;case"identity":n.pureReset()}}))},e.prototype.updateStateFromSerialization=function(t){return I(this,void 0,void 0,(function(){return R(this,(function(n){if(!e.doesFocusIdentifierExist(t.identifier))throw new Error("Focus identifier "+t.identifier+" doesn't exist");return this.updateStateFromHistory(t,xe.ONE),[2]}))}))},e.prototype.updateCanvasControls=function(){var e=this.focusStore.getEffectProperties();if(e&&"identity"!==this.identifier)switch(this.identifier){case J.LINEAR:this.updateLinearState(e);break;case J.RADIAL:this.updateRadialState(e);break;case J.MIRRORED:this.updateMirroredState(e)}},Object.defineProperty(e.prototype,"state",{get:function(){return this.focusStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serializableState",{get:function(){return{identifier:this.identifier,linear:{start:Oi(this.state.linear.start),end:Oi(this.state.linear.end),blurRadius:Oi(this.state.linear.blurRadius)},radial:{center:Oi(this.state.radial.center),radius:Oi(this.state.radial.radius),blurRadius:Oi(this.state.radial.blurRadius)},mirrored:{origin:Oi(this.state.mirrored.origin),rotation:Oi(this.state.mirrored.rotation),size:Oi(this.state.mirrored.size),blurRadius:Oi(this.state.mirrored.blurRadius)},gaussian:{blurRadius:Oi(this.state.gaussian.blurRadius)}}},enumerable:!0,configurable:!0}),e.prototype.getFocusStateForHistory=function(){var e=this.editor.canvasStore.sizeVector,t=this.focusStore.state.linear,n=this.focusStore.state.radial,i=this.focusStore.state.mirrored,o=e,r=o.magnitude;return C({},this.focusStore.state,{linear:C({},t,{start:new xe(t.start).divide(o),end:new xe(t.end).divide(o)}),radial:C({},n,{center:new xe(n.center).divide(o),radius:n.radius/r}),mirrored:C({},i,{origin:new xe(i.origin).divide(o),size:i.size/r}),gaussian:C({},this.focusStore.state.gaussian)})},Object.defineProperty(e.prototype,"start",{get:function(){return this.focusStore.state.linear.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startOnPreview",{get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(e.x),y:Math.abs(e.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.focusStore.state.linear.end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endOnPreview",{get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(e.x),y:Math.abs(e.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.focusStore.state.radial.center},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.focusStore.state.radial.radius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.focusStore.state.mirrored.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.focusStore.state.mirrored.rotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationOnPreview",{get:function(){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically;return Do({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:t,flipVertically:n})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.focusStore.state.mirrored.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mirroredAreaWidth",{get:function(){var e=this.editor.canvasStore.canvasSize,t=e.width,n=e.height;return 2*Math.sqrt(Math.pow(t,2)+Math.pow(n,2))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return"identity"===this.identifier?Mo.gaussian.blurRadius:this.state[this.identifier].blurRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxIntensity",{get:function(){return this.editor.shortestOutputSide/10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.FOCUS]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.FOCUS]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.items},enumerable:!0,configurable:!0}),e.prototype.setLinearFocus=function(e){var t=e.start,n=e.end,i=e.blurRadius,o=this.focusStore.setLinearFocus({start:t,end:n,blurRadius:i});this.updateLinearState(o)},e.prototype.updateLinearState=function(e){this.focusStore.setLinearStart(this.editor.worldToPreview(e.start)),this.focusStore.setLinearEnd(this.editor.worldToPreview(e.end)),this.focusStore.changeBlurRadius(this.identifier,e.blurRadius)},e.prototype.setRadialFocus=function(e){var t=e.center,n=e.radius,i=e.blurRadius,o=this.focusStore.setRadialFocus({center:t,radius:n,blurRadius:i});this.updateRadialState(o)},e.prototype.updateRadialState=function(e){this.focusStore.setRadialCenter(this.editor.worldToPreview(e.center)),this.focusStore.setRadialRadius(this.editor.worldToPreview(e.radius)),this.focusStore.changeBlurRadius(this.identifier,e.blurRadius)},e.prototype.setMirroredFocus=function(e){var t=e.mirrorAxisOrigin,n=e.clearAreaWidth,i=e.blurRadius,o=e.mirrorAxisDirection,r=this.focusStore.setMirroredFocus({mirrorAxisOrigin:t,clearAreaWidth:n,blurRadius:i,mirrorAxisDirection:o});this.updateMirroredState(r)},e.prototype.updateMirroredState=function(e){var t=new xe(e.mirrorAxisOrigin),n=new xe(e.mirrorAxisDirection).subtract(t),i=Math.atan2(n.y,n.x);this.focusStore.setMirroredOrigin(this.editor.worldToPreview(e.mirrorAxisOrigin)),this.focusStore.setMirroredRotation(i),this.focusStore.setMirroredSize(this.editor.worldToPreview(e.clearAreaWidth)),this.focusStore.changeBlurRadius(this.identifier,e.blurRadius)},e.prototype.setGaussianFocus=function(e){var t=e.blurRadius,n=this.focusStore.setGaussianFocus({blurRadius:t});this.focusStore.changeBlurRadius(this.identifier,n.blurRadius)},O([hi],e.prototype,"selectFocus",null),O([hi],e.prototype,"changeIntensity",void 0),O([hi],e.prototype,"clickableCanvas",null),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"setStart",null),O([hi],e.prototype,"setEnd",null),O([hi],e.prototype,"setCenter",null),O([hi],e.prototype,"setRadius",null),O([hi],e.prototype,"setOrigin",null),O([hi],e.prototype,"setSize",null),O([hi],e.prototype,"setRotation",null),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"updateStateFromSerialization",null),O([hi],e.prototype,"updateCanvasControls",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"start",null),O([gn],e.prototype,"startOnPreview",null),O([gn],e.prototype,"end",null),O([gn],e.prototype,"endOnPreview",null),O([gn],e.prototype,"center",null),O([gn],e.prototype,"radius",null),O([gn],e.prototype,"origin",null),O([gn],e.prototype,"rotation",null),O([gn],e.prototype,"rotationOnPreview",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"mirroredAreaWidth",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"intensity",null),O([gn],e.prototype,"maxIntensity",null),O([gn],e.prototype,"isOptionSelected",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"entities",null),e}(),Fo={identifier:"identity",opacity:1,blendMode:ee.LIGHTEN},Bo=new xo(0,1),jo=function(){function e(e){this.engineMediator=e,this.state=Fo}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeOpacity=function(e){var t=Bo.clamp(e);this.state.opacity=t},e.prototype.changeBlendMode=function(e){this.state.blendMode=e},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Fo.identifier,this.state.opacity=Fo.opacity,this.state.blendMode=Fo.blendMode,this.removeIndex())},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.removeOverlayEffect=function(){this.effect&&(this.removeIndex(),this.engineMediator.engine.removeEffect(this.effect),this.effect=void 0)},e.prototype.setEffectProperties=function(e){return this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.setOverlayEffect=function(e){var t=this,n=e.identifier,i=e.blendMode,o=e.opacity,r=C({},this.state);this.changeIdentifier(n),this.changeOpacity(o),this.changeBlendMode(i),this.removeOverlayEffect();var a=this.engineMediator.orderHelper.addIndex(E.OVERLAY);return new Promise((function(e,s){t.engineMediator.engine.addOverlayFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({blendMode:i,opacity:o}),e()})).catch((function(e){t.changeIdentifier(r.identifier),t.changeOpacity(r.opacity),t.changeBlendMode(r.blendMode),"identity"===r.identifier&&t.removeIndex(),s(e)}))}))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeIndex(E.OVERLAY)},O([un],e.prototype,"state",void 0),O([hi],e.prototype,"changeIdentifier",null),O([hi],e.prototype,"changeOpacity",null),O([hi],e.prototype,"changeBlendMode",null),O([hi],e.prototype,"reset",null),e}(),Uo=function(){function e(e){var t=this;this.changeOpacity=function(e){var n=t.overlayStore.setEffectProperties({opacity:e});n&&(t.overlayStore.changeOpacity(n.opacity),t.editor.render())},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.overlayStore=new jo(this.editor.engineMediator);var n=this.editor.assetProvider.getAssets("overlay"),i=this.config;this.entityManager=new ko([{identifier:"",name:"",items:n}],C({},i,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")}))}return e.prototype.selectOverlay=function(e){return I(this,void 0,void 0,(function(){var t;return R(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:(t=this.defaultBlendModeForIdentifier(e),[4,this.overlayStore.setOverlayEffect({identifier:e,opacity:1,blendMode:t})]);case 1:n.sent(),this.addSnapshot("add",E.OVERLAY),this.editor.render(),n.label=2;case 2:return[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.controls.sliderOpacity)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.changeBlendMode=function(e){var t=this.overlayStore.setEffectProperties({blendMode:e});t&&(this.overlayStore.changeBlendMode(t.blendMode),this.addSnapshot("edit",this.locale.controls.carouselBlendMode),this.editor.render())},e.prototype.pureReset=function(){this.overlayStore.removeOverlayEffect(),this.overlayStore.reset()},e.prototype.updateStateFromSerialization=function(e){return I(this,void 0,void 0,(function(){return R(this,(function(t){return this.entityManager.items.find((function(t){return t.identifier===e.identifier}))?[2,this.overlayStore.setOverlayEffect(e)]:[2,new Promise((function(t,n){n(new Error("Overlay Asset "+e.identifier+" doesn't exist"))}))]}))}))},e.prototype.updateStateFromHistory=function(e){return I(this,void 0,void 0,(function(){return R(this,(function(t){return"identity"===e.identifier?(this.pureReset(),[2,new Promise((function(e){e()}))]):[2,this.overlayStore.setOverlayEffect(e)]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.overlayStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.overlayStore.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.overlayStore.state.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.overlayStore.state.blendMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.OVERLAY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.OVERLAY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allBlendModes",{get:function(){var e=this.locale.controls;return Object.keys(ee).map((function(t){var n=ee[t],i="blendMode"+n.charAt(0).toUpperCase()+n.slice(1);return{identifier:n,value:e[i]}}))},enumerable:!0,configurable:!0}),e.prototype.defaultBlendModeForIdentifier=function(e){var t=this.entityManager.items.findIndex((function(t){return t.identifier===e}));return-1!==t?this.entityManager.items[t].defaultBlendMode:ee.LIGHTEN},O([hi],e.prototype,"selectOverlay",null),O([hi],e.prototype,"changeOpacity",void 0),O([hi],e.prototype,"changeBlendMode",null),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"updateStateFromSerialization",null),O([hi],e.prototype,"updateStateFromHistory",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"opacity",null),O([gn],e.prototype,"blendMode",null),O([gn],e.prototype,"isOptionSelected",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"entities",null),O([gn],e.prototype,"allBlendModes",null),e}(),No={identifier:"identity",opacity:1,tintColor:nt.white,tintMode:"none",resizeMode:"keepAspect"},Ho={},Wo=function(){function e(e){var t=e.license,n=e.assetProvider,i=e.crossOrigin;this.crossOrigin=i,this.engine=new h({license:t,crossOrigin:i,assetProvider:n,downscaleOptions:{maxDimensions:{width:100,height:100}}})}return e.isImageElement=function(e){return e instanceof HTMLImageElement},e.prototype.getAllFilterPreviewThumbnails=function(e){var t=this;return new Promise((function(n,i){var o={};e.reduce((function(e,n){return I(t,void 0,void 0,(function(){var t;return R(this,(function(i){switch(i.label){case 0:return[4,e];case 1:return(t=i.sent()).identifier&&(o[t.identifier]=t.imageData),[2,this.getFilterPreviewThumbnail(n)]}}))}))}),Promise.resolve({identifier:"",imageData:""})).then((function(e){o[e.identifier]=e.imageData,n(o)})).catch((function(e){i(e)}))}))},e.prototype.getFilterPreviewThumbnail=function(e){var t=this,n=e.identifier,i=e.isDuotone;return""!==n?(this.effect&&(this.engine.removeEffect(this.effect),this.effect.getIndexInParent()||(this.effect=void 0)),new Promise(i?function(e,i){t.engine.addDuoToneFilterFromAssets(n,t.container).then((function(o){o.setProperties({colorIntensity:.5}),t.effect=o,t.engine.export(W.DATA_URL,V.PNG,.2).then((function(t){e({identifier:n,imageData:t})})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}:function(e,i){t.engine.addLUTFilterFromAssets(n,t.container).then((function(o){o.setProperties({intensity:1}),t.effect=o,t.engine.export(W.DATA_URL,V.PNG,.2).then((function(t){e({identifier:n,imageData:t})})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))})):new Promise((function(e){return e({identifier:"",imageData:""})}))},e.prototype.addImageToContainer=function(t){var n=this;return new Promise((function(i,o){var r;e.isImageElement(t)?(r=t,n.setBackgroundImage(r),i()):n.getImageElement(t).then((function(e){r=e,n.setBackgroundImage(r),i()})).catch((function(e){o({identifier:"imageLoading",message:e.message})}))}))},e.prototype.getImageElement=function(e){var t=this;return new Promise((function(n,i){var o=new Image;o.addEventListener("load",(function(){n(o)})),o.addEventListener("error",(function(e){i(e)})),o.crossOrigin=t.crossOrigin,o.src=e}))},e.prototype.setBackgroundImage=function(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:ee.NORMAL,opacity:1});var t=this.container.getBounds().size;this.engine.getOutputContainer().setResolution(t)},e}(),Vo={identifier:"identity",opacity:1,width:0,color:nt.white},Go=new xo(0,1),Ko=function(){function e(e){this.engineMediator=e,this.state=Vo}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeOpacity=function(e){var t=Go.clamp(e);this.state.opacity=t},e.prototype.changeWidth=function(e){this.state.width=e},e.prototype.changeColor=function(e){this.state.color=e},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Vo.identifier,this.state.opacity=Vo.opacity,this.state.width=Vo.width,this.state.color=Vo.color,this.removeIndex())},Object.defineProperty(e.prototype,"engine",{get:function(){return this.engineMediator.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.removeFrameEffect=function(){this.effect&&(this.engine.removeEffect(this.effect),this.effect=void 0)},e.prototype.setEffectProperties=function(e){return this.effect?(this.removeIndex(),this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.setFrameEffect=function(e){var t=this,n=e.identifier,i=e.width,o=e.opacity,r=e.color,a=C({},this.state);this.changeIdentifier(n),this.changeWidth(i),this.changeOpacity(o),this.changeColor(r),this.removeFrameEffect();var s=this.engineMediator.orderHelper.addSprite(n);return new Promise((function(e,l){t.engine.addFrameFromAssets(n,t.engineMediator.image.container,s).then((function(n){t.effect=n,t.effect.setProperties({tintColor:r,opacity:o,width:i}),e()})).catch((function(e){t.changeIdentifier(a.identifier),t.changeOpacity(a.opacity),t.changeWidth(a.width),t.changeColor(a.color),"identity"===a.identifier&&t.removeIndex(),l(e)}))}))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeSprite(this.state.identifier)},O([un],e.prototype,"state",void 0),O([hi],e.prototype,"changeIdentifier",null),O([hi],e.prototype,"changeOpacity",null),O([hi],e.prototype,"changeWidth",null),O([hi],e.prototype,"changeColor",null),O([hi],e.prototype,"reset",null),e}(),Xo=function(){function e(e){var t=this;this.activeColorId=un.box("white"),this.changeOpacity=function(e){var n=t.frameStore.setEffectProperties({opacity:e});n&&(t.frameStore.changeOpacity(n.opacity),t.editor.render())},this.changeWidth=function(e){var n=t.frameStore.setEffectProperties({width:e});n&&(t.frameStore.changeWidth(n.width),t.editor.render())},this.changeColor=function(e,n){var i=t.frameStore.setEffectProperties({tintColor:e});i&&(t.frameStore.changeColor(i.tintColor),t.activeColorId.set(n),t.editor.render())},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.controls.selectColor)},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.frameStore=new Ko(this.editor.engineMediator);var n=this.editor.assetProvider.getAssets("frame"),i=this.config;this.entityManager=new ko([{identifier:"",name:"",items:n}],C({},i,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")}))}return Object.defineProperty(e,"colors",{get:function(){return Us.defaultColors},enumerable:!0,configurable:!0}),e.prototype.selectFrame=function(e){return I(this,void 0,void 0,(function(){var t;return R(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:(t=.1*this.editor.shortestOutputSide,[4,this.frameStore.setFrameEffect({identifier:e,width:t,opacity:1,color:Vo.color})]);case 1:n.sent(),this.editor.render(),this.addSnapshot("add",E.FRAME),n.label=2;case 2:return[2]}}))}))},e.prototype.toolSnapshot=function(e){this.addSnapshot("edit",e)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.pureReset=function(){this.frameStore.removeFrameEffect(),this.frameStore.reset()},e.prototype.updateStateFromHistory=function(e){return"identity"===e.identifier?(this.pureReset(),new Promise((function(e){e()}))):this.frameStore.setFrameEffect(e)},e.prototype.updateStateFromSerialization=function(e){return I(this,void 0,void 0,(function(){return R(this,(function(t){return this.entityManager.items.find((function(t){return t.identifier===e.identifier}))?[2,this.frameStore.setFrameEffect(e)]:[2,new Promise((function(e,t){t(new Error("Frame Asset doesn't exist"))}))]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.frameStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeColor",{get:function(){return this.activeColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.state.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintable",{get:function(){var e=this,t=this.entityManager.items.find((function(t){return t.identifier===e.identifier}));return t&&t.tintable||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.state.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minSize",{get:function(){return.05*this.editor.shortestOutputSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSize",{get:function(){return.3*this.editor.shortestOutputSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.FRAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.FRAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),O([hi],e.prototype,"selectFrame",null),O([hi],e.prototype,"changeOpacity",void 0),O([hi],e.prototype,"changeWidth",void 0),O([hi],e.prototype,"changeColor",void 0),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"updateStateFromSerialization",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"color",null),O([gn],e.prototype,"activeColor",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"tintable",null),O([gn],e.prototype,"opacity",null),O([gn],e.prototype,"minSize",null),O([gn],e.prototype,"maxSize",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"localeColor",null),O([gn],e.prototype,"entities",null),O([gn],e.prototype,"isOptionSelected",null),e}(),Yo={size:10,color:nt.white,hardness:.5},qo=function(){function e(e){var t=this;this.dirty=un.box(!1),this.id="",this.activeColorId=un.box("white"),this.containerId=function(){return t.id},this.changeColor=function(e,n){t.state.color=e,t.activeColorId.set(n)},this.changeSize=function(e){t.state.size=e},this.changeHardness=function(e){t.state.hardness=e},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.state=Yo}return Object.defineProperty(e,"colors",{get:function(){return Us.defaultColors},enumerable:!0,configurable:!0}),e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.beginStroke=function(e){if(void 0===e&&(e=[]),!this.drawingContainer){var t=this.editor.orderHelper.addSprite(E.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e},this.editor.imageContainer,t)}this.id=this.drawingContainer.getID(),this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:Oi(this.state.color),size:this.state.size,hardness:this.state.hardness})},e.prototype.strokePosition=function(e){if(this.drawingContainer){var t=this.editor.previewToWorld(e,!1);this.drawingContainer.addPointToCurrentStroke(t),this.editor.render()}},e.prototype.endStroke=function(){this.drawingContainer&&(this.drawingContainer.endStroke(),this.editor.render(),this.strokes=this.drawingContainer.getData(),this.addSnapshot("edit",""),this.dirty.set(!0))},e.prototype.updateStateFromHistory=function(e){if(e=e||{strokes:[]},this.drawingContainer)this.strokes=e,this.drawingContainer.setData(this.strokes),0!==e.strokes.length&&this.dirty.set(!0);else{var t=this.editor.orderHelper.addSprite(E.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e.strokes},this.editor.imageContainer,t),this.strokes=this.drawingContainer.getData()}this.id=this.drawingContainer.getID()},e.prototype.pureReset=function(){this.dirty.set(!1),this.strokes={strokes:[]},this.drawingContainer&&(this.editor.engine.removeContainer(this.drawingContainer),this.drawingContainer=void 0)},Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.BRUSH]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.BRUSH]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeColor",{get:function(){return this.activeColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.state.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeOnScreenSpace",{get:function(){return this.editor.worldToPreview(this.state.size)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hardness",{get:function(){return this.state.hardness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.dirty.get()},enumerable:!0,configurable:!0}),O([un],e.prototype,"state",void 0),O([un],e.prototype,"dirty",void 0),O([hi],e.prototype,"changeColor",void 0),O([hi],e.prototype,"changeSize",void 0),O([hi],e.prototype,"changeHardness",void 0),O([hi],e.prototype,"clickableCanvas",null),O([hi],e.prototype,"beginStroke",null),O([hi],e.prototype,"strokePosition",null),O([hi],e.prototype,"endStroke",null),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"reset",void 0),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"localeColor",null),O([gn],e.prototype,"color",null),O([gn],e.prototype,"activeColor",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"sizeOnScreenSpace",null),O([gn],e.prototype,"hardness",null),O([gn],e.prototype,"isDirty",null),e}(),$o={position:{x:0,y:0},size:{height:0,width:0},lockResolution:!1,forceDimensions:!1,ratio:"*",isRatioFlipped:!1},Zo={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:!1,flipVertically:!1,cropState:un.map({})},Jo=function(){function e(e){this.minCropSize=0,this.state=Zo,this.configStore=e.configStore,this.minCropSize=this.configStore.measurements.crop.minSize}return e.prototype.changeIdentifier=function(e){this.state.identifier=e,this.state.cropState.get(e)||this.state.cropState.set(e,C({},$o))},e.prototype.changeRatio=function(e){var t=this.state.cropState.get(this.identifier);t&&this.state.cropState.set(this.identifier,C({},t,{ratio:e}))},e.prototype.flipRatio=function(){var e=this.state.cropState.get(this.identifier);e&&this.state.cropState.set(this.identifier,C({},e,{isRatioFlipped:!e.isRatioFlipped}))},e.prototype.changeSize=function(e){var t=this.state.cropState.get(this.identifier);t&&(e.width&&e.width>0&&(t.size.width=Math.floor(e.width)),e.height&&e.height>0&&(t.size.height=Math.floor(e.height)),this.state.cropState.set(this.identifier,t))},e.prototype.changeHeight=function(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.height=Math.floor(e),this.state.cropState.set(this.identifier,t))},e.prototype.changeWidth=function(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.width=Math.floor(e),this.state.cropState.set(this.identifier,t))},e.prototype.changePositionX=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.x=Math.floor(e),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changePositionY=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.y=Math.floor(e),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changePosition=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e.x<=t.width-this.minCropSize&&e.x>=0&&e.y<=t.height-this.minCropSize&&e.y>=0)&&(n.position.x=Math.floor(e.x),n.position.y=Math.floor(e.y),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changeLockResolution=function(e){var t=this.state.cropState.get(this.identifier);t&&(t.lockResolution=void 0!==e?e:!t.lockResolution,this.state.cropState.set(this.identifier,t))},e.prototype.changeForceDimensions=function(e){var t=this.state.cropState.get(this.identifier);t&&(t.forceDimensions=e,this.state.cropState.set(this.identifier,t))},e.prototype.setRotation=function(e){this.state.rotationInDegrees=e},e.prototype.resetRotation=function(){this.state.rotationInDegrees=0},e.prototype.resetOutputRotation=function(){this.state.outputRotation=0},e.prototype.resetFlip=function(){this.state.flipHorizontally=!1,this.state.flipVertically=!1},e.prototype.updateFlip=function(e){var t=e.flipHorizontally,n=e.flipVertically;this.state.flipHorizontally=t,this.state.flipVertically=n},e.prototype.setOutputRotation=function(e){this.state.outputRotation=e},e.prototype.flipHorizontally=function(){this.state.flipHorizontally=!this.state.flipHorizontally},e.prototype.flipVertically=function(){this.state.flipVertically=!this.state.flipVertically},Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.selectedCrop?this.selectedCrop.size.height:$o.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.selectedCrop?this.selectedCrop.size.width:$o.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.selectedCrop?this.selectedCrop.position:$o.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.selectedCrop?this.selectedCrop.ratio:$o.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRatioFlipped",{get:function(){return this.selectedCrop?this.selectedCrop.isRatioFlipped:$o.isRatioFlipped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.selectedCrop?this.selectedCrop.size:$o.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.selectedCrop?this.selectedCrop.position.x:$o.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.selectedCrop?this.selectedCrop.position.y:$o.position.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lockResolution",{get:function(){return this.selectedCrop?this.selectedCrop.lockResolution:$o.lockResolution},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceDimensions",{get:function(){return this.selectedCrop?this.selectedCrop.forceDimensions:$o.forceDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCrop",{get:function(){return this.state.cropState.get(this.identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationInDegrees",{get:function(){return this.state.rotationInDegrees},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputRotation",{get:function(){return this.state.outputRotation},enumerable:!0,configurable:!0}),O([un],e.prototype,"state",void 0),O([hi],e.prototype,"changeIdentifier",null),O([hi],e.prototype,"changeRatio",null),O([hi],e.prototype,"flipRatio",null),O([hi],e.prototype,"changeSize",null),O([hi],e.prototype,"changeHeight",null),O([hi],e.prototype,"changeWidth",null),O([hi],e.prototype,"changePositionX",null),O([hi],e.prototype,"changePositionY",null),O([hi],e.prototype,"changePosition",null),O([hi],e.prototype,"changeLockResolution",null),O([hi],e.prototype,"changeForceDimensions",null),O([hi],e.prototype,"setRotation",null),O([hi],e.prototype,"resetRotation",null),O([hi],e.prototype,"resetOutputRotation",null),O([hi],e.prototype,"resetFlip",null),O([hi],e.prototype,"updateFlip",null),O([hi],e.prototype,"setOutputRotation",null),O([hi],e.prototype,"flipHorizontally",null),O([hi],e.prototype,"flipVertically",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"height",null),O([gn],e.prototype,"width",null),O([gn],e.prototype,"position",null),O([gn],e.prototype,"ratio",null),O([gn],e.prototype,"isRatioFlipped",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"x",null),O([gn],e.prototype,"y",null),O([gn],e.prototype,"lockResolution",null),O([gn],e.prototype,"forceDimensions",null),O([gn],e.prototype,"selectedCrop",null),O([gn],e.prototype,"rotationInDegrees",null),O([gn],e.prototype,"outputRotation",null),e}();function Qo(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function er(e,t){var n;return t&&!0===t.clone&&Qo(e)?tr((n=e,Array.isArray(n)?[]:{}),e,t):e}function tr(e,t,n){return Array.isArray(t)?Array.isArray(e)?t:er(t,n):function(e,t,n){var i={};return Qo(e)&&Object.keys(e).forEach((function(t){i[t]=er(e[t],n)})),Object.keys(t).forEach((function(o){var r=Qo(t[o])&&e[o];i[o]=r?tr(e[o],t[o],n):er(t[o],n)})),i}(e,t,n)}function nr(e,t){if(void 0===t&&(t=null),!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return tr(e,n,t)}))}var ir=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.onExport=function(e){this.emit(me.EXPORT,e)},t.prototype.onClose=function(){this.emit(me.CLOSE)},t.prototype.onHistoryChange=function(){this.emit(me.HISTORY_CHANGE)},t.prototype.onEditorReady=function(){this.emit(me.EDITOR_READY)},t}(ve),or={common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."}},errorModals:{imageLoading:{body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Reload"},rendering:{body:"An error has occurred while rendering the image",buttonYes:"Reload"},fontLoading:{heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{body:"Unable to load the sticker",buttonNo:"Close"},unsupportedSerializationVersion:{body:"Serialization version is not supported",buttonNo:"Close"},unexpectedError:{body:"An unexpected error has occured ${error}",buttonYes:"Reload"}},warningModals:{imageResized:{heading:"Image resized",body:"Your image has been resized to ${width}x${height} pixels"},discardChanges:{body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Schlieen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size",selectFlipRatio:"Flip Crop Ratio"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landcape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Anticlockwise"}}},rr={common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Intransparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"Rckgngig machen",buttonRedo:"Wiederholen",buttonClose:"Schlieen"},infoModals:{exporting:{heading:"Exportieren...",body:"Just a few seconds..."},saving:{heading:"Speichere...",body:"Just a few seconds..."},loading:{heading:"Lade...",body:"Just a few seconds..."},resizing:{heading:"Bild wird bearbeitet...",body:"Just a few seconds..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Just a few seconds..."}},errorModals:{imageLoading:{body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Grnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht untersttzt",buttonYes:"Neu Laden"},rendering:{body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden"},fontLoading:{heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schlieen"},webcamUnavailable:{body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schlieen"},stickerLoading:{body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schlieen"},unsupportedSerializationVersion:{body:"Serialization version ist nicht untersttzt",buttonNo:"Schlieen"},unexpectedError:{body:"Ein erwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden"}},warningModals:{imageResized:{heading:"Bild verkleinert",body:"Das Bild wurde es auf ${width}x${height} Pixel verkleinert"},discardChanges:{body:"Sind Sie sicher, dass Sie die nderungen verwerfen wollen?",buttonYes:"nderungen verwerfen?",buttonNo:"nderungen beibehalten"},unsavedChanges:{body:"Sind Sie sicher, dass Sie die nderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schlieen"}},library:{title:"Bibliothek",controls:{buttonUpload:"Hochladen",buttonWebcamOpen:"Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse"}},filter:{title:"Filters",controls:{buttonReset:"Zurcksetzen",sliderIntensity:"Filter Intensitt"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zurcksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"Sttigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Schrfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Wei",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zurcksetzen",sliderIntensity:"Focus Intensitt"},items:{radial:"Kreisfrmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gausch"},history:{focusPosition:"Focus Position",focusSize:"Focus Gre"}},overlay:{title:"Overlays",controls:{buttonReset:"Zurcksetzen",sliderOpacity:"Overlay Intransparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Intransparenz",tabBlendMode:"Blend Mode"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Stickers",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Form Farbe",tabColor:"Farbe",tabOpacity:"Intransparenz"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Lschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgre",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrund Color",sliderLineSpacing:"Zeile",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeile",tabFontSize:"Schriftgre"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Text Input"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"Lschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Farbe",tabColor:"Color",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Done",buttonClose:"Schlieen",inputText:"Text Input"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"Lschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zurcksetzen",sliderOpacity:"Rahmen Intransparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Intransparenz",tabSize:"Dicke"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zurcksetzen",sliderSize:"Dicke",sliderHardness:"Hrte",selectColor:"Farbe",tabColor:"Farbe",tabSize:"Dicke",tabHardness:"Hrte"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zurcksetzen",checkboxKeepResolution:"Fixiere Auflsung",inputCropSize:"Bildgre",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Auflsung",tabCropSize:"Bildgre",selectFlipRatio:"Flip Crop Ratio"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landcape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Anticlockwise"}}},ar=function(e){return"de"===e?rr:or},sr=function(){function e(){}return e.addScrollStyles=function(t){void 0===t&&(t="rgba(255, 255, 255, 0.2)");var n="\n    /* Injected by PhotoEditorSDK */\n    "+e.styles(t)+"\n  ",i=document.createElement("style");i.innerHTML=n,document.head.appendChild(i)},e.styles=function(e){return"\n    [data-simplebar] {\n      position: relative;\n      flex-direction: column;\n      flex-wrap: wrap;\n      justify-content: flex-start;\n      align-content: flex-start;\n      align-items: flex-start;\n    }\n\n    .simplebar-wrapper {\n      overflow: hidden;\n      width: inherit;\n      height: inherit;\n      max-width: inherit;\n      max-height: inherit;\n    }\n\n    .simplebar-mask {\n      direction: inherit;\n      position: absolute;\n      padding: 0;\n      margin: 0;\n      left: 0;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      width: auto !important;\n      height: auto !important;\n      z-index: 0;\n    }\n\n    .simplebar-offset {\n      direction: inherit !important;\n      box-sizing: inherit !important;\n      resize: none !important;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      padding: 0;\n      margin: 0;\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .simplebar-content-wrapper {\n      direction: inherit;\n      box-sizing: border-box !important;\n      position: relative;\n      display: block;\n      height: 100%; /* Required for horizontal native scrollbar to not appear if parent is taller than natural height */\n      width: auto;\n      visibility: visible;\n      overflow: auto; /* Scroll on this element otherwise element can't have a padding applied properly */\n      max-width: 100%; /* Not required for horizontal scroll to trigger */\n      max-height: 100%; /* Needed for vertical scroll to trigger */\n    }\n\n    .simplebar-content:before,\n    .simplebar-content:after {\n      content: ' ';\n      display: table;\n    }\n\n    .simplebar-placeholder {\n      max-height: 100%;\n      max-width: 100%;\n      width: 100%;\n      pointer-events: none;\n    }\n\n    .simplebar-height-auto-observer-wrapper {\n      box-sizing: inherit !important;\n      height: 100%;\n      width: 100%;\n      max-width: 1px;\n      position: relative;\n      float: left;\n      max-height: 1px;\n      overflow: hidden;\n      z-index: -1;\n      padding: 0;\n      margin: 0;\n      pointer-events: none;\n      flex-grow: inherit;\n      flex-shrink: 0;\n      flex-basis: 0;\n    }\n\n    .simplebar-height-auto-observer {\n      box-sizing: inherit;\n      display: block;\n      opacity: 0;\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 1000%;\n      width: 1000%;\n      min-height: 1px;\n      min-width: 1px;\n      overflow: hidden;\n      pointer-events: none;\n      z-index: -1;\n    }\n\n    .simplebar-track {\n      z-index: 1;\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      pointer-events: none;\n      overflow: hidden;\n    }\n\n    [data-simplebar].simplebar-dragging .simplebar-track {\n      pointer-events: all;\n    }\n\n    .simplebar-scrollbar {\n      position: absolute;\n      right: 2px;\n      width: 7px;\n      min-height: 10px;\n    }\n\n    .simplebar-scrollbar:before {\n      position: absolute;\n      content: '';\n      background: "+e+";\n      border-radius: 7px;\n      left: 0;\n      right: 0;\n      opacity: 0;\n      transition: opacity 0.2s linear;\n    }\n\n    .simplebar-track .simplebar-scrollbar.simplebar-visible:before {\n      /* When hovered, remove all transitions from drag handle */\n      opacity: 0.5;\n      transition: opacity 0s linear;\n    }\n\n    .simplebar-track.simplebar-vertical {\n      top: 0;\n      width: 11px;\n    }\n\n    .simplebar-track.simplebar-vertical .simplebar-scrollbar:before {\n      top: 2px;\n      bottom: 2px;\n    }\n\n    .simplebar-track.simplebar-vertical .simplebar-scrollbar {\n      right: 0px;\n      width: 4px;\n    }\n\n    .simplebar-track.simplebar-horizontal {\n      left: 0;\n      height: 11px;\n    }\n\n    .simplebar-track.simplebar-horizontal .simplebar-scrollbar:before {\n      height: 100%;\n      left: 2px;\n      right: 2px;\n    }\n\n    .simplebar-track.simplebar-horizontal .simplebar-scrollbar {\n      right: auto;\n      left: 0;\n      min-height: 0;\n      min-width: 10px;\n      width: auto;\n      top: 7px;\n      height: 4px;\n    }\n\n    /* Rtl support */\n    [data-simplebar-direction='rtl'] .simplebar-track.simplebar-vertical {\n      right: auto;\n      left: 0;\n    }\n\n    .hs-dummy-scrollbar-size {\n      direction: rtl;\n      position: fixed;\n      opacity: 0;\n      visibility: hidden;\n      height: 500px;\n      width: 500px;\n      overflow-y: hidden;\n      overflow-x: scroll;\n    }\n  "},e}(),lr=function(e){var t=void 0===e?{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"}:e,n=t.primary,i=void 0===n?"#365afc":n,o=t.background,r=void 0===o?"#0B0B0B":o,a=t.foreground,s=void 0===a?"#FFFFFF":a,l="rgba(255, 255, 255, 0.90)",c="rgba(255, 255, 255, 0.60)",u="rgba(255, 255, 255, 0.38)";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:r,foreground:s,primary:i,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:"#333333",activeForeground:i,containedPrimaryBackground:i,containedPrimaryForeground:l,outlinedPrimaryBackground:"#242424",outlinedPrimaryForeground:l,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:c,textPrimaryForeground:i,textSecondaryForeground:c,outlinedInactiveOverlayColor:"rgba(0, 0, 0, 0.3)",textInactiveOpacity:"0.5",hoverOverlayColor:"rgba(255, 255, 255, 0.08)"},checkbox:{background:"#333333",foreground:s,activeForeground:s,activeBackground:i,inactiveOpacity:"0.3",hoverOpacity:"0.8"},modal:{background:"#242424",bodyForeground:l,headerForeground:c,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:"#333333",foreground:l,activeBorderColor:i,activeOverlayColor:"rgba(89, 121, 252, 0.20)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:l,inactiveOverlayColor:"rgba(0, 0, 0, 0.3)",hoverOverlayColor:"rgba(255, 255, 255, 0.08)"},tabTitle:{foreground:c,background:"transparent",activeBackground:"transparent",activeBorderColor:i,activeForeground:l},dropdown:{background:"transparent",foreground:l,hoverBorderColor:c,borderColor:"#333333",caretColor:u,listBackground:"#333333",listBorderColor:"#333333",listItemHoverBackground:"#424242",listForeground:c,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:"0.3"},textInput:{foreground:l,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:"#333333",inactiveOpacity:"0.3"},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:i,thumbBackground:"#171717",thumbBorderColor:i,inactiveOpacity:"0.3",hoverOpacity:"0.7"},selectColor:{activeBorderColor:i,inactiveOpacity:"0.3"},toolbar:{foreground:l,background:"#242424",activeBackground:"transparent",activeForeground:i,borderColor:"transparent"},tooltip:{background:"#424242",foreground:l},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:"#333333",titleForeground:c,inputLabelForeground:c,inputLabelInactiveOpacity:"0.3"},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:l,borderColor:"none"},canvasActionBar:{background:"#424242",foreground:l,separatorColor:u},canvas:{background:"#0B0B0B",controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:"#333333",listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:"#424242"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:s,background:"#0B0B0B"},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}}},cr=function(e){var t=void 0===e?{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"}:e,n=t.primary,i=void 0===n?"#1e47fb":n,o=t.background,r=void 0===o?"#FBFBFB":o,a=t.foreground,s=void 0===a?"#000000":a,l="rgba(0, 0, 0, 0.90)",c="rgba(0, 0, 0, 0.60)",u="rgba(0, 0, 0, 0.38)";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:r,foreground:s,primary:i,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:"#D4D4D4",activeForeground:i,containedPrimaryBackground:i,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:"#E6E6E6",outlinedPrimaryForeground:l,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:c,textPrimaryForeground:i,textSecondaryForeground:c,outlinedInactiveOverlayColor:"rgba(0, 0, 0, 0.3)",textInactiveOpacity:"0.5",hoverOverlayColor:"rgba(125, 125, 125, 0.12)"},checkbox:{background:"#D4D4D4",foreground:s,activeForeground:s,activeBackground:i,inactiveOpacity:"0.3",hoverOpacity:"0.8"},modal:{background:"#E6E6E6",bodyForeground:l,headerForeground:c,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:"#D4D4D4",foreground:l,activeBorderColor:i,activeOverlayColor:"rgba(30, 71, 251, 0.2)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:"rgba(0, 0, 0, 0.3)",hoverOverlayColor:"rgba(125, 125, 125, 0.12)"},tabTitle:{foreground:c,background:"transparent",activeBackground:"transparent",activeBorderColor:i,activeForeground:l},dropdown:{background:"transparent",foreground:l,hoverBorderColor:c,borderColor:"#D4D4D4",listBackground:"#D4D4D4",caretColor:u,listForeground:c,listBorderColor:"#D4D4D4",listItemHoverBackground:"#CCCCCC",listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:"0.3"},textInput:{foreground:l,hoverBorderColor:l,background:"transparent",borderColor:"#D4D4D4",inactiveOpacity:"0.3"},slider:{trackColor:"#CCCCCC",activeTrackColor:i,thumbBackground:"#EEEEEE",thumbBorderColor:i,inactiveOpacity:"0.3",hoverOpacity:"0.7"},selectColor:{activeBorderColor:i,inactiveOpacity:"0.3"},toolbar:{foreground:l,background:"#D4D4D4",activeBackground:"transparent",activeForeground:i,borderColor:"transparent"},tooltip:{background:"#CCCCCC",foreground:l},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:"#EEEEEE",shadow:"none",separatorColor:"#D4D4D4",titleForeground:c,inputLabelForeground:c,inputLabelInactiveOpacity:"0.3"},mainCanvasActionBar:{background:"transparent",foreground:l,borderColor:"none"},canvasActionBar:{background:"#CCCCCC",foreground:l,separatorColor:u},canvas:{background:"#FBFBFB",controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:"#D4D4D4",listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:"#CCCCCC"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:s,background:"#FBFBFB"},snapping:{positionGuideColor:"",rotationGuideColor:""},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}}},ur={headline1:{size:16,letterSpacing:1.5,case:"uppercase"},headline2:{size:14,letterSpacing:.8,case:"uppercase"},body:{size:13,letterSpacing:0,case:"none"},label:{size:13,letterSpacing:0,case:"capitalize"},label2:{size:12,letterSpacing:0,case:"capitalize"},button1:{size:12,letterSpacing:1.2,case:"uppercase"},button2:{size:14,letterSpacing:0,case:"capitalize"}},dr={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:6,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{float:5},modal:{backdrop:100}},pr=function(){return{advancedUIToolbar:{width:55,itemHeight:48,seperatorHeight:20},advancedToolControlBar:{width:230,padding:"16px 24px"},advancedCard:{small:{height:166/3,width:166/3},medium:{height:87,width:87},large:{height:86,width:182}},advancedSpacer:8,basicCanvasOffset:23,basicUIToolbar:{openHeight:88,closeHeight:35},basicToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:111,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:50,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:32,mobile:48},borderWidth:4},width:{size:14}},buttons:{float:{size:56}},color:{colorItem:{button:{size:20}},colorPicker:{width:214,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:ur,zIndex:dr}},hr=lr(),fr=pr(),mr=C({},hr,{measurements:fr}),gr=function(e,t){var n=function(e){return"light"===e?cr:lr}(e);if(t&&t[e]){var i=t[e],o={primary:i.primary,background:i.background,foreground:i.foreground};return nr([n(Object.keys(o).reduce((function(e,t){var n;return o[t]?C({},e,((n={})[t]=o[t],n)):e}),{})),t[e]])}return n()||hr},yr=["canvas","advancedUIToolbar","basicUIToolbar","mainCanvasActionBar"],br={config:rt,locale:or,theme:hr,measurements:fr},vr=function(){function e(){this.checkDefaultToolAvailability=function(e,t){return-1!==t.indexOf(e)},this.state=un(br),this.events=new ir}return e.prototype.saveConfig=function(e){e.mainCanvasActions&&4!==e.mainCanvasActions.length&&(e.mainCanvasActions.length=4);var t,n,i=nr([rt,e]),o=(t=i.language,(n=i.custom.languages)&&n[t]?nr([ar(t),n[t]]):ar(t)||or),r=gr(i.theme,i.custom.themes),a=function(e){var t=pr();if(e){var n={};return Object.keys(e).forEach((function(t){-1!==yr.indexOf(t)&&(n[t]=e[t])})),nr([t,n])}return t}(i.custom.measurements),s=i.library.provider;delete i.language,delete i.custom.languages,delete i.custom.themes,delete i.library.provider;var l=i.tools.reduce((function(e,t){return z(e,"object"==typeof t?t:[t])}),[]);l.length||(console.error("Empty list input for tools"),l=ot.reduce((function(e,t){return z(e,"object"==typeof t?t:[t])}),[])),this.checkDefaultToolAvailability(i.defaultTool,l)||(console.warn("Configured default tool "+i.defaultTool+" is not a part of configured list of tools: "+l.join(" ")+", using fallback default Tool "+l[0]+" is being used, pls change config.defaultTool to change the fallback tool")[i.defaultTool]=l),this.state.config=i,this.state.locale=o,this.state.theme=r,this.state.measurements=a,sr.addScrollStyles(this.state.theme.scrollbar.handleColor);var c=this.buildCustomAssetsConfig();return this.assetProvider=new Je(c),this.loadThemeFont(),s},Object.defineProperty(e.prototype,"config",{get:function(){return this.state.config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.state.locale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this.state.theme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measurements",{get:function(){return this.state.measurements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tools",{get:function(){return this.config.tools.reduce((function(e,t){return"string"==typeof t?z(e,[t]):z(e,[""],t)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTool",{get:function(){return this.config.defaultTool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOrderDefault",{get:function(){return"default"===this.config.order},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLayoutAdvanced",{get:function(){return"advanced"===this.config.layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayCloseButton",{get:function(){return-1!==this.config.mainCanvasActions.indexOf(k.CLOSE)},enumerable:!0,configurable:!0}),e.prototype.loadThemeFont=function(){var e=this.theme.typography;e.skipLoading||this.assetProvider.getFontManager().injectFonts([e])},e.prototype.buildCustomAssetsConfig=function(){var e=this.tools,t=Oi(this.state.config),n=this.state.config.assetBaseUrl,i=this.state.theme,o=-1!==e.indexOf(E.FILTER)?t[E.FILTER]:void 0,r=-1!==e.indexOf(E.FOCUS)?t[E.FOCUS]:void 0,a=-1!==e.indexOf(E.ADJUSTMENT)?t[E.ADJUSTMENT]:void 0;return{basePath:n,theme:i,filter:o,focus:r,sticker:-1!==e.indexOf(E.STICKER)?t[E.STICKER]:void 0,frame:-1!==e.indexOf(E.FRAME)?t[E.FRAME]:void 0,overlay:-1!==e.indexOf(E.OVERLAY)?t[E.OVERLAY]:void 0,transform:-1!==e.indexOf(E.TRANSFORM)?t[E.TRANSFORM]:void 0,text:-1!==e.indexOf(E.TEXT)?t[E.TEXT]:void 0,adjustment:a,textdesign:-1!==e.indexOf(E.TEXT_DESIGN)?t[E.TEXT_DESIGN]:void 0}},O([hi],e.prototype,"saveConfig",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"theme",null),O([gn],e.prototype,"measurements",null),O([gn],e.prototype,"tools",null),O([gn],e.prototype,"defaultTool",null),O([gn],e.prototype,"isOrderDefault",null),O([gn],e.prototype,"isLayoutAdvanced",null),O([gn],e.prototype,"displayCloseButton",null),e}(),_r={tool:null,isWebcam:!1,image:""},xr=function(){function e(e){var t=this;this.newImage=function(e){t.editor.init(e)},this.editor=e,this.state=un(_r)}return e.isValidURL=function(e){try{return new URL(e),!0}catch(e){return!1}},e.isImageElement=function(e){return e instanceof HTMLImageElement},e.prototype.selectTool=function(e,t){void 0===t&&(t=!1),e=this.state.tool===e&&t?null:e,this.editor.onToolChange(this.state.tool,e),this.state.tool=e;var n=this.editor.engineMediator.engine.getOutputDimensions(),i=Math.max(.05*Math.min(n.width,n.height),1);switch(e){case E.TEXT:this.editor.spriteStore.textToolStore.addOrselect();break;case E.TEXT_DESIGN:this.editor.spriteStore.textDesignToolStore.addOrselect();break;case E.BRUSH:this.editor.brushToolStore.changeSize(i);break;case E.TRANSFORM:this.editor.transformToolStore.applyDefaultCrop(!0),this.editor.historyStore.saveTransformLocalSnapshotIndex()}},e.prototype.selectWebcam=function(e){this.state.isWebcam=e},e.prototype.setImage=function(t){"string"!=typeof t||e.isValidURL(t)?this.state.image=t:this.state.image=this.editor.assetProvider.getAbsolutePath(t),this.isWebcam&&(this.state.isWebcam=!1)},Object.defineProperty(e.prototype,"webcamLabel",{get:function(){return this.editor.libraryStore.locale.controls.buttonWebcamClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tool",{get:function(){return this.state.tool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWebcam",{get:function(){return this.state.isWebcam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this.state.image},enumerable:!0,configurable:!0}),O([hi],e.prototype,"selectTool",null),O([hi],e.prototype,"selectWebcam",null),O([hi],e.prototype,"setImage",null),O([hi],e.prototype,"newImage",void 0),O([gn],e.prototype,"webcamLabel",null),O([gn],e.prototype,"tool",null),O([gn],e.prototype,"isWebcam",null),O([gn],e.prototype,"image",null),e}(),wr=function(){function e(e){this.editor=e}return e.prototype.setBackgroundImage=function(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:ee.NORMAL,opacity:1})},e.prototype.getchildren=function(){return this.container.getChildren()},e.prototype.addImageToContainer=function(){var e=this;return new Promise((function(t,n){var i,o=e.editor.activeStore.image;if(xr.isImageElement(o))i=o,e.setBackgroundImage(i),t();else{var r=e.editor.libraryStore.getRawUrl(o);e.getImageElement(r).then((function(n){i=n,e.setBackgroundImage(i),t()})).catch((function(e){n({identifier:"imageLoading",message:e.message})}))}}))},e.prototype.getImageElement=function(e){var t=this;return new Promise((function(n,i){var o=new Image;o.addEventListener("load",(function(){n(o)})),o.addEventListener("error",(function(e){i(e)})),o.crossOrigin=t.editor.configStore.config.engine.crossOrigin,o.src=e}))},e.prototype.getImgageContainerId=function(){return this.container?this.container.getID():""},Object.defineProperty(e.prototype,"engine",{get:function(){return this.editor.engine},enumerable:!0,configurable:!0}),e}(),Sr=function(){function e(e){var t=this;this.applyNewImageTransform=function(){var e=t.editor.engineMediator.image.container.getBounds(),n=e.size,i=e.width,o=e.height,r=t.container;r.setTransform(_e.IDENTITY),r.setResolution(n),r.setPivot(.5,.5),r.setPosition({x:i/2,y:o/2})},this.editor=e}return Object.defineProperty(e.prototype,"engine",{get:function(){return this.editor.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this.engine.getOutputContainer()},enumerable:!0,configurable:!0}),e}();function kr(e,t){return e.width/e.height>t.width/t.height?e.height/t.height:e.width/t.width}var Er,Cr={transform:_e.IDENTITY},Tr=function(){function e(e){this.initialTransform=_e.IDENTITY,this.editor=e,this.state=un(Cr)}return e.prototype.createPreview=function(e){this.container=this.editor.engine.createPreview(e)},e.prototype.updateTransform=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!0);var n=this.calculateTransform(e);return!!n.scale.x&&(t?this.saveInitialTransform(n):this.savePreviewTransform(n),this.container.setTransform(this.state.transform),!0)},e.prototype.saveInitialTransform=function(e){this.initialTransform=e,this.savePreviewTransform(e)},e.prototype.savePreviewTransform=function(e){var t=this;fi((function(){t.state.transform.position=e.position,t.state.transform.scale=e.scale,t.state.transform.rotation=e.rotation;var n=Us.devicePixelRatio;t.previewTransformWithoutDpr={position:new xe(e.position).divide(n),scale:new xe(e.scale).divide(n),rotation:e.rotation}}))},Object.defineProperty(e.prototype,"transform",{get:function(){return this.state.transform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.state.transform.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.state.transform.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.state.transform.rotation},enumerable:!0,configurable:!0}),e.prototype.calculateTransform=function(e){void 0===e&&(e=0);var t=Us.devicePixelRatio,n=this.editor.canvasStore.canvasSize,i=n.width,o=n.height,r=this.editor.engine.getOutputDimensions(),a=kr({width:i,height:o},r),s=.95;window.innerWidth<600&&(s=.98),a*=s;var l=o-r.height*a;return l<2*this.editor.configStore.measurements.mainCanvasActionBar.height&&(a=kr({width:i,height:o-2*l},r),a*=s),a*=t,a=parseFloat(a.toFixed(2)),new _e({x:i*t/2,y:o*t/2},{x:a,y:a},e)},O([hi],e.prototype,"updateTransform",null),O([hi],e.prototype,"savePreviewTransform",null),O([gn],e.prototype,"transform",null),O([gn],e.prototype,"position",null),O([gn],e.prototype,"scale",null),O([gn],e.prototype,"rotation",null),e}(),Or=function(){function e(){this.imageContainerOrder=[],this.spriteContainerOrder=[]}return e.checkTool=function(e){if(-1!==[E.STICKER,E.TEXT,E.TEXT_DESIGN,E.BRUSH,E.FRAME].indexOf(e))throw new Error("addIndex is used for non sprites, for sprites use addSprite")},e.remove=function(e,t){var n=t.findIndex((function(t){return t===e}));-1!==n&&t.splice(n,1)},e.indexForOrder=function(e,t,n){var i=e[n],o=t.findIndex((function(e){return e===n}));if(-1!==o)return{index:o,order:t};var r=t.length;if(r){var a=void 0;for(a=0;a<r;a+=1){if(i<e[t[a]])return{index:a,order:t=z(t.slice(0,a),[n],t.slice(a))}}}return t.push(n),{index:t.length-1,order:t}},e.prototype.addIndex=function(t){e.checkTool(t);var n=e.indexForOrder(e.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,t),i=n.index,o=n.order;return this.imageContainerOrder=o,i},e.prototype.removeIndex=function(t){e.checkTool(t),e.remove(t,this.imageContainerOrder)},e.prototype.getSpriteIndex=function(e){return this.spriteContainerOrder.findIndex((function(t){return t===e}))+this.imageContainerOrder.length-1},e.prototype.addSprite=function(e){return this.spriteContainerOrder.push(e),this.imageContainerOrder.length+this.spriteContainerOrder.length-1},e.prototype.removeSprite=function(t){e.remove(t,this.spriteContainerOrder)},e.prototype.renameSprite=function(e,t){var n=this.spriteContainerOrder.findIndex((function(t){return t===e}));-1!==n&&(this.spriteContainerOrder[n]=t)},e.prototype.getLastSpriteId=function(){var e=this.spriteContainerOrder.length;return this.spriteContainerOrder[e-1]},e.prototype.bringToFront=function(e){var t=this.spriteContainerOrder.findIndex((function(t){return t===e}));return-1!==t&&(this.spriteContainerOrder.splice(t,1),this.spriteContainerOrder.push(e)),this.getLastSpriteIndex()},e.prototype.getLastSpriteIndex=function(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1},e.IMAGE_CONTAINER_INDEX=((Er={})[E.ART_FILTER]=0,Er[E.FILTER]=1,Er[E.ADJUSTMENT]=2,Er[E.FOCUS]=3,Er[E.OVERLAY]=4,Er),e}(),Ir=function(){function e(e){this.orderHelper=new Or;var t=e.configStore.config.engine;this.engine=new h(C({},t,{license:e.configStore.config.license,assetProvider:e.configStore.assetProvider})),this.image=new wr(e),this.output=new Sr(e),this.preview=new Tr(e),this.editor=e}return e.prototype.render=function(e){return this.engine.render(e)},e.prototype.previewSpaceToWorldSpace=function(e,t){var n=this.preview.previewTransformWithoutDpr;if(we(e)){var i=this.editor.engine.convertPointFromPreviewIntoWorldSpace(xe.ZERO,n,t),o=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:e,y:0},n,t);return xe.distance(new xe(i),new xe(o))}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(e,n,t)},e.prototype.worldSpaceToPreviewSpace=function(e){var t=this.preview.previewTransformWithoutDpr;if(we(e)){var n=this.editor.engine.convertPointFromWorldIntoPreviewSpace(xe.ZERO,t),i=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:e,y:0},t);return xe.distance(new xe(n),new xe(i))}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(e,t)},e.prototype.outputSpaceToWorldSpace=function(e){return we(e)?f.getScalarInWorldSpace(e,this.editor.engine.getOutputContainer()):f.getPointInWorldSpace(e,this.editor.engine.getOutputContainer())},e.prototype.previewSpaceToOutputSpace=function(e){var t=this.preview.previewTransformWithoutDpr;if(we(e)){var n=this.editor.engine.convertPointFromPreviewIntoOutputSpace(xe.ZERO,t),i=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:e,y:0},t);return xe.distance(new xe(n),new xe(i))}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(e,t)},e.prototype.previewSpaceToFlippedPreviewSpace=function(e){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(e)},e}(),Rr=function(){function e(){this.snapshots=[],this.observeIndex=un.box(-1)}return e.prototype.addSnapshot=function(e){this.index===this.snapshots.length-1?this.snapshots=this.snapshots.concat(JSON.stringify(e)):this.snapshots=z(this.snapshots.slice(0,this.index+1),[JSON.stringify(e)]),this.observeIndex.set(this.snapshots.length-1)},e.prototype.getCurrentState=function(){return this.snapshots[this.index]},e.prototype.reset=function(){this.snapshots=[],this.observeIndex.set(-1)},e.prototype.undo=function(){return this.canUndo?(this.observeIndex.set(this.index-1),JSON.parse(this.getCurrentState())):null},e.prototype.redo=function(){return this.canRedo?(this.observeIndex.set(this.index+1),JSON.parse(this.getCurrentState())):null},e.prototype.discardSnapshotsfromIndex=function(e){e>0&&e<this.snapshots.length-1&&(this.snapshots=this.snapshots.slice(0,e),this.observeIndex.set(this.snapshots.length-1))},Object.defineProperty(e.prototype,"index",{get:function(){return this.observeIndex.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return this.index>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this.snapshots.length-1>this.index},enumerable:!0,configurable:!0}),O([gn],e.prototype,"index",null),O([gn],e.prototype,"canUndo",null),O([gn],e.prototype,"canRedo",null),e}(),Mr=function(){function e(e){var t=this;this.localTransformStartIndex=null,this.undo=function(){var e=t.appHistoryManager.undo();t.applyState(e)},this.redo=function(){var e=t.appHistoryManager.redo();t.applyState(e)},this.editor=e,this.appHistoryManager=new Rr}return Object.defineProperty(e.prototype,"canUndo",{get:function(){return this.appHistoryManager.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this.appHistoryManager.canRedo},enumerable:!0,configurable:!0}),e.prototype.getAppState=function(){var e,t=Oi(this.editor.adjustmentsToolStore.state),n=Oi(this.editor.filterToolStore.state),i=this.editor.focusToolStore.getFocusStateForHistory(),o=Oi(this.editor.overlayToolStore.state),r=Oi(this.editor.frameToolStore.state),a=this.editor.brushToolStore.strokes||{strokes:[]};return(e={})[E.ADJUSTMENT]=t,e[E.FILTER]=n,e[E.FOCUS]=i,e[E.OVERLAY]=o,e[E.FRAME]=r,e[E.BRUSH]=a,e.sprite={spriteIdList:[]},e},e.prototype.addInitialSnapshot=function(){var e=this.getAppState();this.appHistoryManager.addSnapshot({state:e,type:"add",description:"Initial State"})},e.prototype.addSnapshot=function(e,t,n){void 0===e&&(e=this.getAppState()),e&&((e.sprite||e.transform)&&(e=C({},this.getAppState(),e)),this.appHistoryManager.addSnapshot({state:e,type:t,description:n}),this.editor.configStore.events.onHistoryChange())},e.prototype.saveTransformLocalSnapshotIndex=function(){null===this.localTransformStartIndex&&(this.localTransformStartIndex=this.appHistoryManager.index)},e.prototype.removeTransformLocalSnapshots=function(){null!==this.localTransformStartIndex&&(this.appHistoryManager.discardSnapshotsfromIndex(this.localTransformStartIndex),this.localTransformStartIndex=null)},e.prototype.applyState=function(e){var t=e.state;return I(this,void 0,void 0,(function(){var e,n,i,o,r,a,s,l;return R(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,23,,24]),!t)return[3,22];i=Object.keys(t),c.label=1;case 1:c.trys.push([1,18,19,20]),o=M(i),r=o.next(),c.label=2;case 2:if(r.done)return[3,17];switch(a=r.value,a){case E.FILTER:return[3,3];case E.ADJUSTMENT:return[3,5];case E.OVERLAY:return[3,6];case E.FRAME:return[3,8];case E.FOCUS:return[3,10];case E.BRUSH:return[3,11];case"sprite":return[3,12];case"localTransform":return[3,14];case E.TRANSFORM:return[3,15]}return[3,16];case 3:return[4,this.editor.filterToolStore.updateStateFromHistory(t[a])];case 4:return c.sent(),[3,16];case 5:return this.editor.adjustmentsToolStore.updateStateFromHistory(t[a]),[3,16];case 6:return[4,this.editor.overlayToolStore.updateStateFromHistory(t[a])];case 7:return c.sent(),[3,16];case 8:return[4,this.editor.frameToolStore.updateStateFromHistory(t[a])];case 9:return c.sent(),[3,16];case 10:return this.editor.focusToolStore.updateStateFromHistory(t[a],this.editor.canvasStore.sizeVector),[3,16];case 11:return this.editor.brushToolStore.updateStateFromHistory(t[a]),[3,16];case 12:return[4,this.editor.spriteStore.updateStateFromHistory(t[a],this.editor.canvasStore.sizeVector)];case 13:return c.sent(),[3,16];case 14:return this.editor.transformToolStore.updateLocalStateFromHistory(t.localTransform),[3,16];case 15:return this.editor.transformToolStore.updateStateFromHistory(t[a]),[3,16];case 16:return r=o.next(),[3,2];case 17:return[3,20];case 18:return s=c.sent(),e={error:s},[3,20];case 19:try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}return[7];case 20:return[4,this.editor.renderPromise()];case 21:c.sent(),c.label=22;case 22:return[3,24];case 23:return l=c.sent(),console.error(l),this.editor.modalStore.showActionModal({identifier:"unexpectedError",error:l,handlers:{buttonYes:function(){window.location.reload()}}}),[3,24];case 24:return[2]}}))}))},e.prototype.isDirty=function(){return this.appHistoryManager.snapshots.length>1},e.prototype.reset=function(){this.appHistoryManager.reset()},O([hi],e.prototype,"undo",void 0),O([hi],e.prototype,"redo",void 0),O([gn],e.prototype,"canUndo",null),O([gn],e.prototype,"canRedo",null),e}(),Pr={canvasSize:{height:0,width:0}},zr=function(){function e(e){this.canvasClickDisabled=un.box(!1),this.editor=e,this.state=un(Pr)}return e.prototype.setCanvasElement=function(e){this.canvas=e,this.editor.engineMediator.preview.createPreview(e),this.updateCanvasDimensions(),this.editor.init(this.editor.configStore.config.image)},e.prototype.updateCanvasDimensions=function(){var e=Us.devicePixelRatio;this.canvas.width=this.canvasSize.width*e,this.canvas.height=this.canvasSize.height*e,this.canvas.style.width=this.canvasSize.width+"px",this.canvas.style.height=this.canvasSize.height+"px"},e.prototype.saveDimensions=function(e){var t=e.height,n=e.width,i=e.render,o=this.editor.configStore.isLayoutAdvanced?0:this.editor.configStore.measurements.basicCanvasOffset;this.state.canvasSize.height=t-o,this.state.canvasSize.width=n,i&&this.editor.resize()},e.prototype.disableCanvasClick=function(){this.canvasClickDisabled.set(!0)},e.prototype.enableCanvasClick=function(){this.canvasClickDisabled.set(!1)},Object.defineProperty(e.prototype,"isCanvasClickable",{get:function(){return!this.canvasClickDisabled.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasSize",{get:function(){return this.state.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeVector",{get:function(){return xe.fromSize(this.state.canvasSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeVectorMagnitude",{get:function(){return this.sizeVector.magnitude},enumerable:!0,configurable:!0}),e.prototype.getContainersAtPreviewPoint=function(e){var t=this,n=this.editor.engine.getContainersAtPreviewPoint(e,this.editor.engineMediator.preview.previewTransformWithoutDpr).map((function(e){return e.getID()})).filter((function(e){return e!==t.editor.engineMediator.image.getImgageContainerId()}));this.editor.spriteStore.onCanvasClick(n)},O([hi],e.prototype,"setCanvasElement",null),O([hi],e.prototype,"updateCanvasDimensions",null),O([hi],e.prototype,"saveDimensions",null),O([hi],e.prototype,"disableCanvasClick",null),O([hi],e.prototype,"enableCanvasClick",null),O([gn],e.prototype,"isCanvasClickable",null),O([gn],e.prototype,"canvasSize",null),O([gn],e.prototype,"sizeVector",null),O([gn],e.prototype,"sizeVectorMagnitude",null),e}(),Ar={type:null,modalIdentifier:null,show:!1},Dr=function(){function e(e){var t=this;this.errorMessage="",this.showActionModal=function(e){var n=e.identifier,i=e.error,o=e.handlers;t.state.show=!0,t.state.modalIdentifier=n,t.handlers=C({},o||{},{close:t.hideModal}),t.errorMessage=i||""},this.hideModal=function(){t.state.show=!1,t.state.type=null},this.configStore=e.configStore,this.state=un(Ar)}return e.prototype.showInfoModal=function(e){this.state.type=Le.INFO,this.state.modalIdentifier=e,this.state.show=!0},e.prototype.showModalOfType=function(e){this.state.type=e,this.state.show=!0},Object.defineProperty(e.prototype,"infoModalProps",{get:function(){if(this.state.modalIdentifier){var e=this.configStore.locale.infoModals[this.state.modalIdentifier];return{show:this.state.show,heading:e?e.heading:"",body:e?e.body:""}}return{show:!1,heading:"",body:""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modalProps",{get:function(){var e=this.configStore.locale,t=this.getProps(Le.WARNING)||this.getProps(Le.ERROR),n={error:e.common.error,warning:e.common.warning};if(this.show&&t&&t.message){var i=t.type,o=t.message,r=this.errorMessage;return o.body=o.body?o.body.replace("${error}",r):"",{type:i,message:o,show:this.show,handlers:this.handlers,preHeadingLocale:n}}return{show:Ar.show,handlers:this.handlers,preHeadingLocale:n}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.modalIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionOffset",{get:function(){var e=this.configStore,t=e.isLayoutAdvanced,n=e.measurements,i=n.advancedToolControlBar.width+n.advancedUIToolbar.width,o=n.basicCanvasOffset;return t?{x:i/2,y:0}:{x:0,y:-o}},enumerable:!0,configurable:!0}),e.prototype.getProps=function(e){var t=this.state.modalIdentifier,n=this.configStore.locale;return e&&Object.prototype.hasOwnProperty.call(n[e+"Modals"],t)?{type:e,message:n[e+"Modals"][t]}:null},O([hi],e.prototype,"showActionModal",void 0),O([hi],e.prototype,"showInfoModal",null),O([hi],e.prototype,"showModalOfType",null),O([gn],e.prototype,"infoModalProps",null),O([hi],e.prototype,"hideModal",void 0),O([gn],e.prototype,"modalProps",null),O([gn],e.prototype,"show",null),O([gn],e.prototype,"type",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"positionOffset",null),e}(),Lr=function(){function e(e){var t=this;this.defaultScale=1,this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map((function(e){return e/100})),this.state={position:{x:0,y:0},scaleIndex:-1},this.offset={x:0,y:0},this.in=function(){t.canZoomIn&&(t.state.scaleIndex+=1,t.scaleRender())},this.out=function(){if(t.canZoomOut){t.state.scaleIndex-=1;var e=t.checkOffset({x:0,y:0}),n=e.canDragX,i=e.canDragY,o=e.maxOffsetX,r=e.maxOffsetY;i||(t.offset.y=r),n||(t.offset.x=o),t.savePosition(),t.scaleRender()}},this.setOffset=function(e){var n=t.checkOffset(e),i=n.canDragX,o=n.canDragY;i&&(t.offset.x=e.x),o&&(t.offset.y=e.y),t.scaleRender()},this.editor=e}return e.prototype.setInitialTransform=function(e){var t=this;void 0===e&&(e=0);var n=this.editor.engineMediator.preview.transform;fi((function(){t.setDefaultScale(Math.abs(e||n.scale.x)),t.setPosition(n.position)}))},e.prototype.resetScale=function(){this.state.scaleIndex=-1},e.prototype.resetPosition=function(){var e=this.editor.canvasStore.canvas,t=e.width,n=e.height;this.setPosition({x:t/2,y:n/2})},e.prototype.resetOffset=function(){this.offset={x:0,y:0}},e.prototype.setPosition=function(e){this.state.position.x=e.x,this.state.position.y=e.y},e.prototype.savePosition=function(){this.setPosition(this.getPositionWithOffset()),this.offset={x:0,y:0}},e.prototype.setDefaultScale=function(e){var t=this;1!==this.defaultScale&&(-1!==(n=this.SCALE_LEVELS.findIndex((function(e){return e===t.defaultScale})))&&(this.SCALE_LEVELS=z(this.SCALE_LEVELS.slice(0,n),this.SCALE_LEVELS.slice(n+1))));e=parseFloat(e.toFixed(2));var n,i=this.SCALE_LEVELS.findIndex((function(n,i){return 0===i?e<n:i===t.SCALE_LEVELS.length-1?n<e:t.SCALE_LEVELS[i-1]<e&&e<n}));-1!==i?(this.SCALE_LEVELS=z(this.SCALE_LEVELS.slice(0,i),[e],this.SCALE_LEVELS.slice(i)),i===this.state.scaleIndex&&this.resetScale(),this.state.scaleIndex=i,this.defaultScale=e):((n=this.SCALE_LEVELS.findIndex((function(t){return t===e})))===this.state.scaleIndex&&this.resetScale(),-1!==n&&(this.state.scaleIndex=n,this.defaultScale=e))},e.prototype.setScaleToDefault=function(){this.state.scaleIndex=this.defaultIndex},e.prototype.checkOffset=function(e){var t=window.devicePixelRatio||1,n=this.scaledSize,i=this.previewSize,o=this.editor.engineMediator.preview.initialTransform.position,r=this.getPositionWithOffset(e),a=(n.width-i.width)*t/2,s=(n.height-i.height)*t/2,l=o.x-r.x,c=o.y-r.y,u=Math.abs(l)-a,d=Math.abs(c)-s;return{canDragX:u<0,canDragY:d<0,maxOffsetX:l>0?-u:u,maxOffsetY:c>0?-d:d}},e.prototype.calculateScale=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=this.previewSize),void 0===n&&(n=this.defaultScale);var i=t.width,o=t.height,r=new xe({x:i,y:o}),a=new xe(Math.abs(r.x*Math.cos(e))+Math.abs(r.y*Math.sin(e)),Math.abs(r.x*Math.sin(e))+Math.abs(r.y*Math.cos(e))),s=r.subtract(a).divide(2).multiply(n).abs;return s.y>s.x?2*s.y/r.y+n:2*s.x/r.x+n},Object.defineProperty(e.prototype,"defaultIndex",{get:function(){var e=this;return this.SCALE_LEVELS.findIndex((function(t){return t===e.defaultScale}))},enumerable:!0,configurable:!0}),e.prototype.getPositionWithOffset=function(e){void 0===e&&(e=this.offset);var t=this.position;return{x:t.x-e.x,y:t.y-e.y}},e.prototype.scaleRender=function(e){void 0===e&&(e=!1);var t=this.editor.scale.getPositionWithOffset(),n=e?this.defaultScale:this.scale,i={x:n,y:n};this.editor.engineMediator.preview.container.setScale(i),this.editor.engineMediator.preview.container.setPosition(t),this.editor.engineMediator.preview.savePreviewTransform({scale:i,position:t,rotation:0}),e||this.editor.render()},Object.defineProperty(e.prototype,"scale",{get:function(){var e=this.state.scaleIndex;return-1!==e?this.SCALE_LEVELS[e]:this.defaultScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){var e=window.devicePixelRatio||1;return(this.scale/e*100).toFixed(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canDrag",{get:function(){return this.defaultScale<this.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomOut",{get:function(){return this.state.scaleIndex>this.defaultIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomIn",{get:function(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.state.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaledSize",{get:function(){var e=this.state.scaleIndex,t=-1!==e?this.SCALE_LEVELS[e]:this.defaultScale,n=this.previewSize;return{width:n.width*t/this.defaultScale,height:n.height*t/this.defaultScale}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewSize",{get:function(){return this.editor.getPreviewSize()},enumerable:!0,configurable:!0}),O([un],e.prototype,"state",void 0),O([hi],e.prototype,"in",void 0),O([hi],e.prototype,"out",void 0),O([hi],e.prototype,"setInitialTransform",null),O([hi],e.prototype,"resetScale",null),O([hi],e.prototype,"resetPosition",null),O([hi],e.prototype,"setPosition",null),O([hi],e.prototype,"savePosition",null),O([hi],e.prototype,"setDefaultScale",null),O([hi],e.prototype,"setScaleToDefault",null),O([gn],e.prototype,"scale",null),O([gn],e.prototype,"zoomLevel",null),O([gn],e.prototype,"canDrag",null),O([gn],e.prototype,"canZoomOut",null),O([gn],e.prototype,"canZoomIn",null),O([gn],e.prototype,"position",null),O([gn],e.prototype,"scaledSize",null),e}(),Fr=[[0,0],[0,1],[1,0],[1,1]],Br=function(){function e(t,n,i,o){void 0===i&&(i="center"),void 0===o&&(o=!0),this.considerRotation=!0,this.store=n,this.m="center"===i?e.movePivotTo([.5,.5]):Fr,this.considerRotation=o,this.configStore=t.configStore}return e.floor=function(e){return Math.floor(e)},e.movePivotTo=function(e){return Fr.map((function(t){return[t[0]-e[0],t[1]-e[1]]}))},Object.defineProperty(e.prototype,"position",{get:function(){return this.store.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.store.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.considerRotation?this.store.rotationWRTOutputRotation:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTop",{get:function(){var t=this.m[0][0]*this.size.width,n=this.m[0][1]*this.size.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottom",{get:function(){var t=this.m[1][0]*this.size.width,n=this.m[1][1]*this.size.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTop",{get:function(){var t=this.m[2][0]*this.size.width,n=this.m[2][1]*this.size.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottom",{get:function(){var t=this.m[3][0]*this.size.width,n=this.m[3][1]*this.size.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomHandle",{get:function(){var t=this.m[1][0]*this.size.width,n=this.m[1][1]*this.size.height+this.configStore.measurements.canvasControls.sprite.rotateHandle.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomHandle",{get:function(){var t=this.m[3][0]*this.size.width,n=this.m[3][1]*this.size.height+this.configStore.measurements.canvasControls.sprite.rotateHandle.height,i=this.position;return e.coordinatesWithRotation({width:t,height:n},this.rotation,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMid",{get:function(){var e=new xe(this.leftTop),t=new xe(this.leftBottom);return e.add(t).divide(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMid",{get:function(){var e=new xe(this.rightTop),t=new xe(this.rightBottom);return e.add(t).divide(2)},enumerable:!0,configurable:!0}),e.coordinatesWithRotation=function(e,t,n){var i=e.width,o=e.height;return new xe({x:i*Math.cos(t)-o*Math.sin(t)+n.x,y:i*Math.sin(t)+o*Math.cos(t)+n.y}).floored},O([gn],e.prototype,"position",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"rotation",null),O([gn],e.prototype,"leftTop",null),O([gn],e.prototype,"leftBottom",null),O([gn],e.prototype,"rightTop",null),O([gn],e.prototype,"rightBottom",null),O([gn],e.prototype,"leftBottomHandle",null),O([gn],e.prototype,"rightBottomHandle",null),O([gn],e.prototype,"leftMid",null),O([gn],e.prototype,"rightMid",null),e}(),jr=function(){function e(e){this.transforms={output:JSON.stringify(_e.IDENTITY),preview:JSON.stringify(_e.IDENTITY)},this.editor=e}return e.rotateOutput=function(e,t){switch(e%=360){case 90:case-270:return t.swapped.multiply(-1,1);case 180:case-180:return t.multiply(-1);case 270:case-90:return t.swapped.multiply(1,-1);default:return t}},e.prototype.onLeave=function(){var t=Us.devicePixelRatio,n=this.transformToolStore.rotateFlipState,i=n.flipHorizontally,o=n.flipVertically,r=n.rotation,a=n.outputRotation,s=this.engineMediator.preview.container,l=this.editor.outputContainer;l.setResolution(Oi(this.transformToolStore.localOutputImageSize)),l.setData({flipVertically:o,flipHorizontally:i});var c=s.getScale();this.saveTransforms();var u=1;if(this.transformToolStore.lockResolution){var d=this.transformToolStore,p=d.cropMaskSize,h=d.defaultImageSize,f=this.transformToolStore.defaultCropMaskSize;u={height:p.height*h.height/f.height,width:p.width*h.width/f.width}.width/this.transformToolStore.localOutputImageSize.width}var m=u/(Math.abs(c.x)/this.transformToolStore.defaultScale),g={x:m,y:m},y=-(r-a),b=this.editor.previewToOutput(new xe(this.engineMediator.preview.initialTransform.position).divide(t)),v=this.editor.previewToOutput(new xe(this.transformToolStore.leftTop).add(new xe(this.transformToolStore.rightBottom)).divide(2).add(new xe(this.transformToolStore.unRotatedDefaults.cropMaskPosition))),_=new xe(b).multiply(u),x=e.rotateOutput(180*this.transformToolStore.outputRotation/Math.PI,new xe(v)).subtract(_),w=new xe(l.getPosition()).add(x);l.setTransform({scale:g,position:w,rotation:y}),this.editor.engineMediator.preview.updateTransform(0,!1),this.editor.scale.setInitialTransform(),this.editor.spriteStore.updateCanvasControls(),this.editor.focusToolStore.updateCanvasControls()},e.prototype.onEnter=function(){this.editor.scale.setScaleToDefault();var e=this.engineMediator.preview.container,t=this.editor.outputContainer,n=JSON.parse(this.transforms.preview);t.setResolution(Oi(this.transformToolStore.defaultImageSize)),e.setTransform(n),t.setTransform(JSON.parse(this.transforms.output));var i=n.scale;this.editor.outputContainer.setData({flipVertically:!1,flipHorizontally:!1}),this.transformToolStore.transformStore.updateFlip({flipVertically:i.y<0,flipHorizontally:i.x<0}),this.engineMediator.preview.savePreviewTransform(n);var o=this.engineMediator.preview.calculateTransform().scale;this.editor.scale.setInitialTransform(o.x)},e.prototype.rotateOutputContainer=function(e){var t=this;void 0===e&&(e=!1),this.editor.outputContainer.rotate90(e),this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());var n=this.transformToolStore.rotateFlipState.rotation;this.engineMediator.preview.updateTransform(n),fi((function(){t.editor.scale.setInitialTransform();var e=t.getScaleWithFlip(n);t.engineMediator.preview.container.setScale(e),t.transformToolStore.setCropDefaults(!0),t.transformToolStore.updateCropMask()})),this.editor.render()},e.prototype.applyPreviewTransform=function(){var e=this.transformToolStore.rotateFlipState,t=e.rotation,n=e.flipHorizontally,i=e.flipVertically,o=this.editor.scale.getPositionWithOffset(),r=this.getScaleWithFlip(),a=t;n&&(a=Ao(a)),i&&(a=Ao(a));var s={position:o,rotation:a,scale:r};this.engineMediator.preview.savePreviewTransform(s),this.engineMediator.preview.container.setTransform(s)},e.prototype.getScaleWithFlip=function(e){void 0===e&&(e=this.transformToolStore.rotateFlipState.rotation);var t=this.transformToolStore.rotateFlipState,n=t.flipHorizontally?-1:1,i=t.flipVertically?-1:1,o=this.editor.scale.calculateScale(e);return{x:o*n,y:o*i}},e.prototype.saveTransforms=function(){var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:e,output:t}},e.prototype.saveTransformsBasedOnFlip=function(){var e=this.engineMediator.preview.container.getTransform(),t=e.scale,n=this.editor.outputContainer.getData(),i=n.flipVertically,o=n.flipHorizontally,r=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify(C({},e,{scale:{x:o?-t.x:t.x,y:i?-t.y:t.y}})),output:r}},Object.defineProperty(e.prototype,"engineMediator",{get:function(){return this.editor.engineMediator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformToolStore",{get:function(){return this.editor.transformToolStore},enumerable:!0,configurable:!0}),e}(),Ur=function(){function e(t){var n=this;this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1},this.defaultAngle=0,this.dragMode=un.box(!1),this.minCropSize=0,this.defaults={cropMaskPosition:{x:0,y:0},cropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1},this.localOutputSize={width:0,height:0},this.defaultIdentifier="imgly_transform_common_custom",this.checkImage=function(e){var t=n.editor.configStore.config.assetBaseUrl;if("/"!==t[t.length-1]&&(t+="/"),t+"transform"===e)return!1;var i=new Image;try{return i.src=e,!0}catch(e){return!1}},this.flipRatio=function(){n.transformStore.flipRatio(),n.changeIdentifier(n.identifier,!0)},this.reset=function(){n.transformStore.resetRotation(),n.transformStore.resetOutputRotation(),n.transformStore.resetFlip(),n.setDefaultAngle(0),0!==n.editor.outputContainer.getRotation()&&n.engineMediator.output.applyNewImageTransform(),n.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),n.engineMediator.preview.updateTransform(),n.editor.scale.setInitialTransform(),n.setCropDefaults(),n.applyInitialCrop(),n.editor.render()},this.changeLocalOutputSize=function(e){n.localOutputSize.height=Math.floor(e.height),n.localOutputSize.width=Math.floor(e.width)},this.changeDefaultScale=function(e){n.defaults.scale=e},this.changeLocalOutputHeight=function(e){n.localOutputSize.height=Math.floor(e)},this.changeLocalOutputWidth=function(e){n.localOutputSize.width=Math.floor(e)},this.changeLockResolution=function(){n.transformStore.changeLockResolution(),n.addSnapshot()},this.rotateClockwise=function(){n.rotateOutputContainer(!1)},this.rotateAntiClockwise=function(){n.rotateOutputContainer(!0)},this.flipHorizontally=function(e){void 0===e&&(e=!0),n.transformStore.flipHorizontally(),n.editor.spriteStore.reverseTextHorizontally(),n.transformRender(e),e&&n.addSnapshot()},this.flipVertically=function(e){void 0===e&&(e=!0),n.transformStore.flipVertically(),n.editor.spriteStore.reverseTextVertically(),n.transformRender(e),e&&n.addSnapshot()},this.applyDefaultCrop=function(e){void 0===e&&(e=!1),"identity"===n.identifier&&n.changeIdentifier(n.defaultIdentifier,e)},this.updateCropMask=function(){n.changeIdentifier(n.identifier,!0)},this.onLeftTop=function(e){var t=e.x,i=e.y,o=n.getRatio(),r={width:n.rightTop.x-t,height:n.leftBottom.y-i};if("*"===o)n.changeCropAndOutputSize(r),n.changePosition({x:t,y:i});else{var a=new xe(n.leftTop.x,n.leftTop.y),s=n.proportionalSize(o,r),l=new xe(t,i).subtract(a);n.changePosition(a.add(new xe(l.y*o,l.y)))&&n.changeCropAndOutputSize(s)}},this.onLeftBottom=function(e){var t=e.x,i=e.y,o=n.getRatio(),r={width:n.rightBottom.x-t,height:i-n.leftTop.y};if("*"===o){n.changeCropAndOutputSize(r)&&n.changePositionX(t)}else{var a=new xe(n.leftBottom.x,n.leftBottom.y),s=n.proportionalSize(o,r),l=new xe(t,i),c=a.subtract(l),u=a.add(new xe(c.y*o,c.y));n.changePositionX(u.x)&&n.changeCropAndOutputSize(s)}},this.onRightTop=function(e){var t=e.x,i=e.y,o=n.getRatio(),r={width:t-n.leftTop.x,height:n.rightBottom.y-i};if("*"===o)n.changeCropAndOutputSize(r),n.changePositionY(i);else{var a=new xe(n.rightTop.x,n.rightTop.y),s=n.proportionalSize(o,r),l=new xe(t,i).subtract(a),c=a.add(new xe(l.y*o,l.y));if(n.changePositionY(c.y)){var u={x:n.leftTop.x+s.width,y:n.leftTop.y},d=n.defaults.cropMaskSize;u.x<=d.width&&u.y>=0&&n.changeCropAndOutputSize(s)}}},this.onRightBottom=function(e){var t=e.x,i=e.y,o=n.getRatio(),r={width:t-n.leftBottom.x,height:i-n.rightTop.y};if("*"===o)n.changeCropAndOutputSize(r);else{var a=n.proportionalSize(o,r),s={x:n.leftTop.x+a.width,y:n.leftTop.y+a.height},l=n.defaults.cropMaskSize;s.x<=l.width&&s.y<=l.height&&n.changeCropAndOutputSize(a)}},this.onBlurWidth=function(){var t=n.localOutputSize.width||n.minCropSize,i=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(i&&i.ratio){var r=Math.max(t>o.width?o.width:t,n.minCropSize),a=n.localOutputSize.height;if("*"===i.ratio)n.changeLocalOutputWidth(r);else{var s=e.placeCropMask(i.ratio,o);a=(r=Math.min(r,s.width))/i.ratio,n.changeLocalOutputSize({height:a,width:r})}n.updatePreviewSizeWRTImageSize(),n.addSnapshot()}},this.onBlurHeight=function(){var t=n.localOutputSize.height||n.minCropSize,i=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(i&&i.ratio){var r=Math.max(t>o.height?o.height:t,n.minCropSize),a=n.localOutputSize.width;if("*"===i.ratio)n.changeLocalOutputHeight(r);else{var s=e.placeCropMask(i.ratio,o);a=(r=Math.min(r,s.height))*i.ratio,n.changeLocalOutputSize({height:r,width:a})}n.updatePreviewSizeWRTImageSize(),n.addSnapshot()}},this.editor=t,this.selectedCategory="identity",this.transformStore=new Jo(t),this.transformations=new jr(t);var i=this.config,o=(i.enableRotation,i.enableFlip,T(i,["enableRotation","enableFlip"])),r=this.editor.assetProvider.getAssets("transform");this.entityManager=new ko(r,C({},o,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!1,locale:C({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("transform")})),this.rect=new Br(this.editor,this.transformStore,"topLeft",!1),this.defaultIdentifier=this.entityManager.items[0].identifier,this.minCropSize=this.editor.configStore.measurements.crop.minSize}return e.inRadians=function(e){return e*Math.PI/180},e.placeCropMask=function(e,t){if(t.height*e>t.width)return{height:t.width/e,width:t.width,yChanged:!0};var n=t.height*e;return{height:t.height,width:n,yChanged:!1}},e.prototype.changeIdentifier=function(e,t){void 0===t&&(t=!1),this.transformStore.changeIdentifier(e);var n=this.getCropMask(e,this.defaults.imageSize);n&&(this.transformStore.changeRatio(n.ratio),this.changeLocalOutputSize(n),this.updatePreviewSizeWRTImageSize(),void 0!==n.yChanged&&this.updateInitialCropMaskPosition(n.yChanged),t&&this.addSnapshot())},e.prototype.setDragMode=function(e){this.dragMode.set(e)},e.prototype.getCropMask=function(t,n){var i=this.getTransform(t);if(i){if(!i.ratio){this.transformStore.changeForceDimensions(i.forceDimensions),this.transformStore.changeLockResolution(i.lockDimensions);var o=i.dimensions,r=o.x,a=o.y;return C({},e.placeCropMask(r/a,n),{ratio:null})}var s=this.isRatioFlipped?1/i.ratio:i.ratio;switch(i.ratio){case"*":return this.changePosition({x:0,y:0}),C({},n,{yChanged:void 0,ratio:"*"});default:return C({},e.placeCropMask(s,n),{ratio:i.ratio})}}return null},e.prototype.setCropDefaults=function(e){void 0===e&&(e=!1);var t=this.editor.outputContainer.getResolution();this.setDefaultImageSize(t);var n=this.editor.getPreviewSize(),i=this.editor.engineMediator.preview.previewTransformWithoutDpr.position;this.setDefaultCropSize(n),this.setDefaultCropPosition({x:i.x-n.width/2,y:i.y-n.height/2}),this.changeDefaultScale(this.editor.scale.defaultScale),e||(this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition,this.unRotatedDefaults.scale=this.defaultScale)},e.prototype.setDefaultImageSize=function(e){this.defaults.imageSize=e,this.localOutputSize=e},e.prototype.setDefaultCropSize=function(e){this.defaults.cropMaskSize.height=e.height,this.defaults.cropMaskSize.width=e.width},e.prototype.setDefaultCropPosition=function(e){this.defaults.cropMaskPosition.x=e.x,this.defaults.cropMaskPosition.y=e.y},e.prototype.resetCrop=function(){this.state.cropState=un.map({}),this.state.identifier="identity"},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.pureReset=function(){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.resetCrop()},e.prototype.changePosition=function(e){return this.transformStore.changePosition(e,this.defaults.cropMaskSize)},e.prototype.changePositionX=function(e){return this.transformStore.changePositionX(e,this.defaults.cropMaskSize.width)},e.prototype.changePositionY=function(e){return this.transformStore.changePositionY(e,this.defaults.cropMaskSize.height)},e.prototype.changeCropAndOutputHeight=function(e){return!!(e&&e>=this.minCropSize)&&(this.transformStore.changeHeight(e),this.lockResolution||this.changeLocalOutputHeight(e*this.defaults.imageSize.height/this.defaults.cropMaskSize.height),!0)},e.prototype.changeCropAndOutputWidth=function(e){return!!(e&&e>=this.minCropSize)&&(this.transformStore.changeWidth(e),this.lockResolution||this.changeLocalOutputWidth(e*this.defaults.imageSize.width/this.defaults.cropMaskSize.width),!0)},e.prototype.changeCropAndOutputSize=function(e){return{widthChanged:this.changeCropAndOutputHeight(e.height),heightChanged:this.changeCropAndOutputWidth(e.width)}},e.prototype.transformRender=function(e){void 0===e&&(e=!0),this.transformations.applyPreviewTransform(),e&&this.editor.render()},e.prototype.addSnapshot=function(e){if(void 0===e&&(e=""),"identity"!==this.state.identifier){var t=this.state,n=(t.cropState,T(t,["cropState"]));this.editor.addLocalTransformSnapshot(C({},n,this.cropState,{localOutputSize:Oi(this.localOutputSize),outputSize:this.engineMediator.output.container.getResolution(),defaults:Oi(this.defaults),previewTransform:this.engineMediator.preview.container.getTransform(),outputTransform:this.engineMediator.output.container.getTransform()}),e)}},e.prototype.updateLocalStateFromHistory=function(e){this.editor.activeStore.tool===E.TRANSFORM&&(this.transformStore.changeLockResolution(e.lockResolution),this.transformStore.changeForceDimensions(e.forceDimensions),this.transformStore.changeIdentifier(e.identifier),this.transformStore.setRotation(e.rotationInDegrees),this.setDefaultAngle(e.rotationInDegrees),this.transformStore.setOutputRotation(e.outputRotation),this.transformStore.updateFlip(e),this.engineMediator.output.container.setRotation(e.outputRotation),this.setDefaultImageSize(e.defaults.imageSize),this.changeLocalOutputSize(e.localOutputSize),this.transformStore.changeSize(e.size),this.changePosition(e.position),this.setDefaultCropSize(e.defaults.cropMaskSize),this.setDefaultCropPosition(e.defaults.cropMaskPosition),this.changeDefaultScale(e.defaults.scale),this.engineMediator.output.container.setResolution(e.outputSize),this.engineMediator.output.container.setTransform(e.outputTransform),this.engineMediator.preview.container.setTransform(e.previewTransform))},e.prototype.updateStateFromHistory=function(e){this.editor.activeStore.tool!==E.TRANSFORM&&(this.engineMediator.output.container.setTransform(e.outputTransform),this.engineMediator.preview.container.setTransform(e.previewTransform),this.engineMediator.output.container.setResolution(e.outputSize),this.changeLocalOutputSize(e.outputSize))},Object.defineProperty(e.prototype,"serializableState",{get:function(){var e=this.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,i=180*this.editor.engineMediator.output.container.getRotation()/Math.PI%360,o=i<0?i+360:i,r=this,a=r.leftTop,s=r.leftBottom,l=r.rightTop,c=r.rightBottom,u=r.identifier,d=r.defaultCropMaskSize,p=r.rotationInDegrees*Math.PI/180,h=a,f=c;if(-1!==[0,90,180,270].indexOf(o)){switch(o){case 90:h={x:d.height-s.y,y:s.x},f={x:d.height-l.y,y:l.x};break;case 180:h={x:d.width-c.x,y:d.height-c.y},f={x:d.width-a.x,y:d.height-a.y};break;case 270:h={x:l.y,y:d.width-l.x},f={x:s.y,y:d.width-s.x}}90===o?o=270:270===o&&(o=90)}else o=0;return{flipHorizontally:t,flipVertically:n,rotation:p,start:h,end:f,identifier:u,outputRotation:o}},enumerable:!0,configurable:!0}),e.prototype.updateStateFromSerialization=function(e){var t=[0!==e.start.x,0!==e.start.y,1!==e.end.x,1!==e.end.y],n=Math.round(180*e.rotation/Math.PI);this.transformStore.setRotation(n>180?n-360:n);var i=this.applyOutputRotation(e),o=i.height,r=i.width,a=i.centerPosition,s={x:a.x-r/2,y:a.y-o/2};if(t.some((function(e){return e}))){this.changePosition(s),this.transformStore.changeSize({width:r,height:o});var l=this.defaults,c=l.cropMaskSize,u=l.imageSize,d={height:o*u.height/c.height,width:r*u.width/c.width};this.changeLocalOutputSize(d)}this.editor.outputContainer.setData({flipHorizontally:e.flipHorizontally,flipVertically:e.flipVertically}),e.flipHorizontally&&this.flipHorizontally(!1),e.flipVertically&&this.flipVertically(!1)},e.prototype.applyOutputRotation=function(e){var t=e.start,n=e.end,i=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y),r=this.defaults.cropMaskSize,a={x:(t.x+n.x)/2,y:(t.y+n.y)/2};if(void 0!==e.outputRotation)switch(e.outputRotation){case 90:return this.transformations.rotateOutputContainer(),{height:o,width:i,centerPosition:{x:r.width-a.y,y:a.x}};case 180:return this.transformations.rotateOutputContainer(),this.transformations.rotateOutputContainer(),{height:o,width:i,centerPosition:{x:r.width-a.x,y:r.height-a.y}};case 270:return this.transformations.rotateOutputContainer(!0),{height:i,width:o,centerPosition:{x:a.y,y:r.height-a.x}}}return this.transformations.rotateOutputContainer(!0),this.transformations.rotateOutputContainer(),{height:o,width:i,centerPosition:a}},e.prototype.setDefaultAngle=function(e){this.defaultAngle=e},e.prototype.updateCanvasControls=function(e){var t=Oi(this.cropMaskPosition),n=Oi(this.cropMaskSize),i=Oi(this.defaults.cropMaskSize);this.changeCropAndOutputSize({height:i.height*n.height/e.height,width:i.width*n.width/e.width}),this.changePosition({y:i.height*t.y/e.height,x:i.width*t.x/e.width})},e.prototype.onLeave=function(){this.transformations.onLeave()},e.prototype.onEnter=function(){this.transformations.onEnter()},e.prototype.saveTransforms=function(){this.transformations.saveTransforms()},e.prototype.saveTransformsBasedOnFlip=function(){this.transformations.saveTransformsBasedOnFlip()},e.prototype.setRotation=function(e){this.transformStore.setRotation(e),this.transformRender()},e.prototype.rotateOutputContainer=function(e){return void 0===e&&(e=!1),I(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return this.setDragMode(!0),this.transformations.rotateOutputContainer(e),[4,this.editor.wait()];case 1:return t.sent(),this.setDragMode(!1),[2]}}))}))},e.prototype.applyInitialCrop=function(){this.changeIdentifier(this.defaultIdentifier,!1)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.proportionalSize=function(e,t,n){return void 0===n&&(n=this.defaults.cropMaskSize),t.height*e>n.width?{height:t.width/e,width:t.width}:{height:t.height,width:t.height*e}},e.prototype.updateInitialCropMaskPosition=function(e){var t=this.cropMaskSize,n=this.defaults.cropMaskSize;e?this.changePosition({x:0,y:Math.abs(n.height-t.height)/2}):this.changePosition({x:Math.abs(n.width-t.width)/2,y:0})},e.prototype.updatePreviewSizeWRTImageSize=function(){var e=Oi(this.localOutputSize),t=Oi(this.defaults.imageSize),n=Oi(this.defaults.cropMaskSize),i={height:n.height*e.height/t.height,width:n.width*e.width/t.width};this.transformStore.changeSize(i)},e.prototype.getScaleWithFlip=function(e){return void 0===e&&(e=this.rotateFlipState.rotation),this.transformations.getScaleWithFlip(e)},Object.defineProperty(e.prototype,"cropState",{get:function(){return this.transformStore.selectedCrop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.transformStore.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.transformStore.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRatioFlipped",{get:function(){return this.transformStore.isRatioFlipped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.transformStore.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.transformStore.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputImageSize",{get:function(){return this.localOutputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputHeight",{get:function(){return this.localOutputSize.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputWidth",{get:function(){return this.localOutputSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lockResolution",{get:function(){return this.transformStore.lockResolution},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceDimensions",{get:function(){return this.transformStore.forceDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationInDegrees",{get:function(){return this.transformStore.rotationInDegrees},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputRotation",{get:function(){return this.transformStore.outputRotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragMode",{get:function(){return this.dragMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateFlipState",{get:function(){var t=this.transformStore.state,n=t.flipHorizontally,i=t.flipVertically,o=t.rotationInDegrees,r=t.outputRotation;return{flipHorizontally:n,flipVertically:i,rotation:e.inRadians(o),outputRotation:r}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.entityManager.categories.reduce((function(e,t){return z(e,ko.isCategory(t)?t.items:[t])}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.TRANSFORM]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.TRANSFORM]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTop",{get:function(){return this.rect.leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottom",{get:function(){return this.rect.leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTop",{get:function(){return this.rect.rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottom",{get:function(){return this.rect.rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMaskPosition",{get:function(){return this.transformStore.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMaskSize",{get:function(){return this.transformStore.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.transformStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultImageSize",{get:function(){return this.defaults.imageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMaskSize",{get:function(){return this.defaults.cropMaskSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMaskPosition",{get:function(){return this.defaults.cropMaskPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultScale",{get:function(){return this.defaults.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engineMediator",{get:function(){return this.editor.engineMediator},enumerable:!0,configurable:!0}),e.prototype.getRatio=function(){var e=this.getTransform(this.identifier);if(e){if(Object.prototype.hasOwnProperty.call(e,"ratio"))return this.lockResolution?this.localOutputWidth/this.localOutputHeight:e.ratio;var t=e.dimensions;return t.x/t.y}return"*"},e.prototype.getTransform=function(e){return this.entityManager.items.find((function(t){return t.identifier===e}))},O([un],e.prototype,"selectedCategory",void 0),O([un],e.prototype,"defaults",void 0),O([un],e.prototype,"localOutputSize",void 0),O([hi],e.prototype,"changeIdentifier",null),O([hi],e.prototype,"setDragMode",null),O([hi],e.prototype,"setCropDefaults",null),O([hi],e.prototype,"setDefaultImageSize",null),O([hi],e.prototype,"setDefaultCropSize",null),O([hi],e.prototype,"setDefaultCropPosition",null),O([hi],e.prototype,"flipRatio",void 0),O([hi],e.prototype,"resetCrop",null),O([hi],e.prototype,"toggleCategorySelection",null),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"reset",void 0),O([hi],e.prototype,"changePosition",null),O([hi],e.prototype,"changePositionX",null),O([hi],e.prototype,"changePositionY",null),O([hi],e.prototype,"changeCropAndOutputHeight",null),O([hi],e.prototype,"changeCropAndOutputWidth",null),O([hi],e.prototype,"changeCropAndOutputSize",null),O([hi],e.prototype,"onLeave",null),O([hi],e.prototype,"onEnter",null),O([hi],e.prototype,"changeLocalOutputSize",void 0),O([hi],e.prototype,"changeDefaultScale",void 0),O([hi],e.prototype,"changeLocalOutputHeight",void 0),O([hi],e.prototype,"changeLocalOutputWidth",void 0),O([hi],e.prototype,"changeLockResolution",void 0),O([hi],e.prototype,"setRotation",null),O([hi],e.prototype,"rotateClockwise",void 0),O([hi],e.prototype,"rotateAntiClockwise",void 0),O([hi],e.prototype,"rotateOutputContainer",null),O([hi],e.prototype,"flipHorizontally",void 0),O([hi],e.prototype,"flipVertically",void 0),O([hi],e.prototype,"applyDefaultCrop",void 0),O([hi],e.prototype,"applyInitialCrop",null),O([hi],e.prototype,"updateCropMask",void 0),O([hi],e.prototype,"clickableCanvas",null),O([hi],e.prototype,"onLeftTop",void 0),O([hi],e.prototype,"onLeftBottom",void 0),O([hi],e.prototype,"onRightTop",void 0),O([hi],e.prototype,"onRightBottom",void 0),O([hi],e.prototype,"proportionalSize",null),O([hi],e.prototype,"onBlurWidth",void 0),O([hi],e.prototype,"onBlurHeight",void 0),O([hi],e.prototype,"updateInitialCropMaskPosition",null),O([hi],e.prototype,"updatePreviewSizeWRTImageSize",null),O([gn],e.prototype,"cropState",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"ratio",null),O([gn],e.prototype,"isRatioFlipped",null),O([gn],e.prototype,"height",null),O([gn],e.prototype,"width",null),O([gn],e.prototype,"localOutputImageSize",null),O([gn],e.prototype,"localOutputHeight",null),O([gn],e.prototype,"localOutputWidth",null),O([gn],e.prototype,"lockResolution",null),O([gn],e.prototype,"forceDimensions",null),O([gn],e.prototype,"rotationInDegrees",null),O([gn],e.prototype,"outputRotation",null),O([gn],e.prototype,"isDragMode",null),O([gn],e.prototype,"rotateFlipState",null),O([gn],e.prototype,"selectedCategoryIdentifier",null),O([gn],e.prototype,"categories",null),O([gn],e.prototype,"entities",null),O([gn],e.prototype,"items",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"isOptionSelected",null),O([gn],e.prototype,"leftTop",null),O([gn],e.prototype,"leftBottom",null),O([gn],e.prototype,"rightTop",null),O([gn],e.prototype,"rightBottom",null),O([gn],e.prototype,"cropMaskPosition",null),O([gn],e.prototype,"cropMaskSize",null),O([gn],e.prototype,"state",null),O([gn],e.prototype,"defaultImageSize",null),O([gn],e.prototype,"defaultCropMaskSize",null),O([gn],e.prototype,"defaultCropMaskPosition",null),O([gn],e.prototype,"defaultScale",null),e}(),Nr={text:"Write Something",identifier:"imgly_font_open_sans_bold",fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:nt.white,backgroundColor:nt.transparent||[0,0,0,0],width:0},Hr={},Wr={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"},Vr=function(){function e(e){var t=this;this.state=un.map(Hr),this.loadingObservable=un.box(!1),this.activeBackgroundColorId=un.box("transparent"),this.activeTextColorId=un.box("white"),this.add=function(){t.loadfonts((function(){t.editor.spriteStore.addText({state:{identifier:Nr.identifier,text:Nr.text,textColor:Nr.textColor,backgroundColor:Nr.backgroundColor,textColorId:"white",backgroundColorId:"transparent",lineHeight:Nr.lineHeight,alignment:Nr.alignment,fontSize:0}})}))},this.setEditMode=function(e){t.editor.spriteStore.setEditMode(e)},this.changeFont=function(e){var n=t.fonts.find((function(t){return t.identifier===e}));t.changeIdentifier(n,t.id),t.id&&t.addSnapshot("edit",t.locale.history.fontFamily)},this.changeIdentifier=function(e,n){fi((function(){if(e&&n){var i=t.state.get(n);if(i){t.editor.spriteStore.setContainerProperties(n,{fontIdentifier:e.identifier},!0);var o=t.editor.spriteStore.getContainerProperties(n);i.identifier=o.fontIdentifier,i.fontFamily=e.fontFamily,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=o.fontSize,i.width=o.width,i.defaultFontSize=i.fontSize,t.editor.spriteStore.setDefaultSize(n),t.state.set(n,i)}}}))},this.changeFontSize=function(e,n){if(void 0===n&&(n=!1),t.id){var i=t.state.get(t.id);i&&(i.fontSize=e,n&&(i.defaultFontSize=e),t.state.set(t.id,i))}},this.updateDefaultFontSize=function(){if(t.id){var e=t.state.get(t.id);e&&(e.defaultFontSize=e.fontSize,t.state.set(t.id,e))}},this.changeSize=function(e,n){var i=t.state.get(e);i&&(i.width=n.width,i.fontSize=n.fontSize,i.defaultFontSize=n.fontSize,t.state.set(e,i))},this.changeWidth=function(e){if(t.id){var n=t.state.get(t.id);n&&(n.width=e,t.state.set(t.id,n),t.editor.spriteStore.setDefaultSize(t.id))}},this.changeText=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{text:e},!0);var i=t.editor.spriteStore.getContainerProperties(t.id);n.text=i.text,n.fontSize=i.fontSize,n.defaultFontSize=i.fontSize,t.editor.spriteStore.setDefaultSize(t.id),t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.edit)}}},this.changeLineHeight=function(e){if(t.id){var n=t.state.get(t.id);if(n&&e){t.editor.spriteStore.setContainerProperties(t.id,{lineHeight:e},!0);var i=t.editor.spriteStore.getContainerProperties(t.id);n.lineHeight=i.lineHeight,t.state.set(t.id,n)}}},this.changeColor=function(e,n){if(t.id){var i=t.state.get(t.id);if(i){t.editor.spriteStore.setContainerProperties(t.id,{textColor:e});var o=t.editor.spriteStore.getContainerProperties(t.id);i.textColor=o.textColor,t.activeTextColorId.set(n),t.state.set(t.id,i)}}},this.changeBackgroundColor=function(e,n){if(t.id){var i=t.state.get(t.id);if(i){t.editor.spriteStore.setContainerProperties(t.id,{backgroundColor:e});var o=t.editor.spriteStore.getContainerProperties(t.id);i.backgroundColor=o.backgroundColor,t.activeBackgroundColorId.set(n),t.state.set(t.id,i)}}},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.history.textColor)},this.backgroundColorSnapshot=function(){t.addSnapshot("edit",t.locale.history.backgroundColor)},this.changeAlignment=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{alignment:e});var i=t.editor.spriteStore.getContainerProperties(t.id);n.alignment=i.alignment,t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.alignment)}}},this.setFontSize=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{fontSize:e},!0);var i=t.editor.spriteStore.getContainerProperties(t.id);n.fontSize=i.fontSize,n.defaultFontSize=i.fontSize,t.editor.spriteStore.setDefaultSize(t.id),t.state.set(t.id,n)}}},this.editor=e,this.fonts.find((function(e){return e.identifier===Nr.identifier}))||(Nr.identifier=this.fonts[0].identifier),Nr.text=this.locale.canvasControls.placeholderText}return e.defaultText=function(){return Nr.text},Object.defineProperty(e,"defaultColors",{get:function(){return Us.defaultColors},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultBackgroundColors",{get:function(){return Us.defaultBackgroundColors},enumerable:!0,configurable:!0}),e.getDisplayFontStyle=function(e){return((e.fontWeight&&"regular"!==Wr[e.fontWeight].toLowerCase()?Wr[e.fontWeight]:"")+" "+(e.fontStyle&&"normal"!==e.fontStyle.toLowerCase()?e.fontStyle:"")).trim()},e.prototype.loadfonts=function(e){var t=this;if(this.fontsLoaded)e();else{var n=this.editor.assetProvider.getFontManager(),i=this.editor.assetProvider.getFontAssets().map((function(e){return e.identifier}));n.loadFontsWithIdentifiers(i).then((function(){t.loadingObservable.set(!0),e()})).catch((function(){t.editor.modalStore.showActionModal({identifier:"fontLoading",handlers:{},error:i[0]})}))}},e.prototype.doesTextAssetExist=function(e){return-1!==this.editor.assetProvider.getFontAssets().findIndex((function(t){return t.identifier===e}))},e.prototype.addOrselect=function(){this.state.size?this.selectLast():this.add()},e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addText({state:{identifier:this.identifier,text:this.text,textColor:Oi(this.textColor),lineHeight:this.lineHeight,alignment:this.alignment,fontSize:this.fontSize,backgroundColor:Oi(this.backgroundColor),textColorId:this.activeTextColor,backgroundColorId:this.activeBackgroundColor,width:this.width},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.delete=function(){if(this.id){var e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.history.lineSpacing)},e.prototype.addSnapshot=function(e,t){this.currentText&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.updateStateFromHistory=function(e,t){this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)},e.prototype.setState=function(e,t){var n=this.state.get(e);if(n)t.alignment&&(n.alignment=t.alignment),t.text&&(n.text=t.text),t.lineHeight&&(n.lineHeight=t.lineHeight),t.textColor&&(n.textColor=t.textColor,t.textColorId&&this.activeTextColorId.set(t.textColorId)),t.backgroundColor&&(n.backgroundColor=t.backgroundColor,t.backgroundColorId&&this.activeBackgroundColorId.set(t.backgroundColorId)),t.fontIdentifier&&(n.identifier=t.fontIdentifier),t.fontSize&&(n.fontSize=t.fontSize,n.defaultFontSize=t.fontSize),t.width&&(n.width=t.width);else{var i=this.fonts.find((function(e){return e.identifier===t.fontIdentifier}));this.state.set(e,{text:t.text,identifier:t.fontIdentifier,alignment:t.alignment,textColor:t.textColor?t.textColor:Nr.textColor,backgroundColor:t.backgroundColor?t.backgroundColor:Nr.backgroundColor,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontSize:t.fontSize,fontWeight:i.fontWeight,lineHeight:t.lineHeight,width:t.width,defaultFontSize:t.fontSize}),t.textColorId&&this.activeTextColorId.set(t.textColorId),t.backgroundColorId&&this.activeBackgroundColorId.set(t.backgroundColorId)}this.editor.spriteStore.setDefaultSize()},e.prototype.pureReset=function(){this.state=un.map(Hr)},Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editor.spriteStore.isEditMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTextSelected",{get:function(){return this.editor.spriteStore.isSpriteText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontsLoaded",{get:function(){return this.loadingObservable.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeTextColor",{get:function(){return this.activeTextColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeBackgroundColor",{get:function(){return this.activeBackgroundColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentText",{get:function(){if(this.isTextSelected){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.currentText?this.currentText.text:Nr.text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.currentText?this.currentText.fontSize:Nr.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFontSize",{get:function(){return this.currentText?this.currentText.defaultFontSize:Nr.defaultFontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.currentText?this.currentText.width:Nr.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.currentText?this.currentText.fontFamily:Nr.fontFamily},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.currentText?this.currentText.fontStyle:Nr.fontStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.currentText?this.currentText.fontWeight:Nr.fontWeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this.currentText?this.currentText.lineHeight:Nr.lineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.currentText?this.currentText.identifier:Nr.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isTextSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.currentText?this.currentText.alignment:Nr.alignment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this.currentText?this.currentText.textColor:Nr.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.currentText?this.currentText.backgroundColor:Nr.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.TEXT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.TEXT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawOptions",{get:function(){return this.editor.assetProvider.getFontAssetsForText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableOptions",{get:function(){return this.config.fonts.length?this.config.fonts.map((function(e){return e.identifier})):this.rawOptions.map((function(e){return e.identifier}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fonts",{get:function(){var e=this;return this.rawOptions.reduce((function(t,n){return-1!==e.availableOptions.indexOf(n.identifier)?z(t,[{identifier:n.identifier,fontFamily:n.fontFamily,fontStyle:n.fontStyle||"",fontWeight:n.fontWeight||""}]):t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamilies",{get:function(){return z(new Set(this.fonts))},enumerable:!0,configurable:!0}),O([hi],e.prototype,"addOrselect",null),O([hi],e.prototype,"selectLast",null),O([hi],e.prototype,"add",void 0),O([hi],e.prototype,"duplicate",null),O([hi],e.prototype,"bringToFront",null),O([hi],e.prototype,"delete",null),O([hi],e.prototype,"setEditMode",void 0),O([hi],e.prototype,"changeFont",void 0),O([hi],e.prototype,"changeIdentifier",void 0),O([hi],e.prototype,"changeFontSize",void 0),O([hi],e.prototype,"updateDefaultFontSize",void 0),O([hi],e.prototype,"changeSize",void 0),O([hi],e.prototype,"changeWidth",void 0),O([hi],e.prototype,"changeText",void 0),O([hi],e.prototype,"changeLineHeight",void 0),O([hi],e.prototype,"changeColor",void 0),O([hi],e.prototype,"changeBackgroundColor",void 0),O([hi],e.prototype,"changeAlignment",void 0),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"setState",null),O([hi],e.prototype,"setFontSize",void 0),O([hi],e.prototype,"pureReset",null),O([gn],e.prototype,"isEditMode",null),O([gn],e.prototype,"isTextSelected",null),O([gn],e.prototype,"fontsLoaded",null),O([gn],e.prototype,"activeTextColor",null),O([gn],e.prototype,"activeBackgroundColor",null),O([gn],e.prototype,"currentText",null),O([gn],e.prototype,"text",null),O([gn],e.prototype,"fontSize",null),O([gn],e.prototype,"defaultFontSize",null),O([gn],e.prototype,"width",null),O([gn],e.prototype,"fontFamily",null),O([gn],e.prototype,"fontStyle",null),O([gn],e.prototype,"fontWeight",null),O([gn],e.prototype,"lineHeight",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"id",null),O([gn],e.prototype,"alignment",null),O([gn],e.prototype,"textColor",null),O([gn],e.prototype,"backgroundColor",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"localeColor",null),O([gn],e.prototype,"rawOptions",null),O([gn],e.prototype,"availableOptions",null),O([gn],e.prototype,"fonts",null),O([gn],e.prototype,"fontFamilies",null),e}(),Gr={identifier:"imgly_text_design_blocks",color:nt.white,isInverted:!1,text:"Write Something",seed:0,padding:0,width:0},Kr={},Xr=function(){function e(e){var t=this;this.state=un.map(Kr),this.fontsLoaded=!1,this.activeTextColorId=un.box("white"),this.add=function(){t.loadfonts((function(){t.editor.spriteStore.addTextDesign({state:{identifier:Gr.identifier,text:Gr.text,color:Gr.color,isInverted:Gr.isInverted,seed:Gr.seed,textColorId:"white",padding:0}})}))},this.changeText=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{text:e},!0);var i=t.editor.spriteStore.getContainerProperties(t.id);n.text=i.text,t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.edit)}}},this.setEditMode=function(e){t.editor.spriteStore.setEditMode(e)},this.changeSeed=function(){if(t.id){var e=t.state.get(t.id);if(e){t.editor.spriteStore.setContainerProperties(t.id,{seed:Math.floor(1e3*Math.random())},!0);var n=t.editor.spriteStore.getContainerProperties(t.id);e.seed=n.seed,t.state.set(t.id,e),t.addSnapshot("edit",t.locale.history.shuffle)}}},this.changeIdentifier=function(e,n){if(void 0===n&&(n=!0),t.id&&e!==t.identifier){var i=t.id,o=t.state.get(i),r=t.editor.spriteStore.getContainerTransform(i);t.editor.spriteStore.addTextDesign({spriteId:i,state:{identifier:e,text:o.text,color:Oi(o.color),isInverted:o.isInverted,seed:o.seed,padding:o.padding,width:o.width,textColorId:"white"},transform:r},n,!0)}},this.changeColor=function(e,n){if(t.id){var i=t.state.get(t.id);if(i){t.editor.spriteStore.setContainerProperties(t.id,{color:e});var o=t.editor.spriteStore.getContainerProperties(t.id);i.color=o.color,t.activeTextColorId.set(n),t.state.set(t.id,i)}}},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.history.color)},this.invertBackground=function(){if(t.id){var e=t.state.get(t.id);if(e){t.editor.spriteStore.setContainerProperties(t.id,{inverted:!e.isInverted},!0);var n=t.editor.spriteStore.getContainerProperties(t.id);e.isInverted=n.inverted,t.state.set(t.id,e),t.addSnapshot("edit",t.locale.history.invert)}}},this.changeWidth=function(e){if(t.id){var n=t.state.get(t.id);n&&(n.width=e,t.state.set(t.id,n),t.editor.spriteStore.setDefaultSize(t.id))}},this.editor=e,this.entityManager=new ko([{identifier:"",name:"",items:this.editor.assetProvider.getAssets("textdesign")}],C({},this.config,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")})),this.entityManager.items.find((function(e){return e.identifier===Gr.identifier}))||(Gr.identifier=this.entityManager.items[0].identifier),Gr.text=this.locale.canvasControls.placeholderText}return Object.defineProperty(e,"colors",{get:function(){return Us.defaultColors},enumerable:!0,configurable:!0}),e.defaultText=function(){return Gr.text},e.prototype.loadfonts=function(e){var t=this;if(this.fontsLoaded)e();else{var n=this.editor.assetProvider.getFontManager(),i=this.editor.assetProvider.getFontAssetsForTextDesign().map((function(e){return e.identifier}));n.loadFontsWithIdentifiers(i).then((function(){t.fontsLoaded=!0,e()})).catch((function(){t.editor.modalStore.showActionModal({identifier:"fontLoading",handlers:{},error:i[0]})}))}},e.prototype.doesTextDesignAssetExist=function(e){return-1!==this.entityManager.items.findIndex((function(t){return t.identifier===e}))},e.prototype.addOrselect=function(){this.state.size?this.selectLast():this.add()},e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.updateStateFromHistory=function(e,t){var n=this.state.get(e);t.identifier===n.identifier?(this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)):this.changeIdentifier(t.identifier,!1)},e.prototype.setState=function(e,t){var n=this.state.get(e);n?(t.inverted&&(n.isInverted=t.inverted),t.seed&&(n.seed=t.seed),t.color&&(n.color=t.color,t.textColorId&&this.activeTextColorId.set(t.textColorId)),t.padding&&(n.padding=t.padding),t.width&&(n.width=t.width)):(this.state.set(e,{text:t.text,isInverted:t.inverted,identifier:t.identifier,seed:t.seed,color:t.color?t.color:Gr.color,padding:t.padding,width:t.width}),t.textColorId&&this.activeTextColorId.set(t.textColorId))},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addTextDesign({state:{identifier:this.identifier,text:this.text,color:Oi(this.color),isInverted:this.isInverted,seed:this.seed,padding:this.padding,width:this.width,textColorId:this.activeTextColor},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.addSnapshot=function(e,t){this.currentTextDesign&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.delete=function(e){void 0===e&&(e=this.id),e&&(this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast())},e.prototype.pureReset=function(){this.state=un.map(Kr)},Object.defineProperty(e.prototype,"isTextDesignSelected",{get:function(){return this.editor.spriteStore.isSpriteTextDesign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editor.spriteStore.isEditMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeTextColor",{get:function(){return this.activeTextColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTextDesign",{get:function(){if(this.isTextDesignSelected&&this.id){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isTextDesignSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.currentTextDesign?this.currentTextDesign.text:Gr.text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.currentTextDesign?this.currentTextDesign.seed:Gr.seed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.currentTextDesign?this.currentTextDesign.padding:Gr.padding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.currentTextDesign?this.currentTextDesign.width:Gr.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.currentTextDesign?this.currentTextDesign.identifier:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInverted",{get:function(){return this.currentTextDesign?this.currentTextDesign.isInverted:Gr.isInverted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.currentTextDesign?this.currentTextDesign.color:Gr.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.TEXT_DESIGN]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.TEXT_DESIGN]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),O([hi],e.prototype,"addOrselect",null),O([hi],e.prototype,"selectLast",null),O([hi],e.prototype,"add",void 0),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"setState",null),O([hi],e.prototype,"changeText",void 0),O([hi],e.prototype,"setEditMode",void 0),O([hi],e.prototype,"duplicate",null),O([hi],e.prototype,"bringToFront",null),O([hi],e.prototype,"delete",null),O([hi],e.prototype,"changeSeed",void 0),O([hi],e.prototype,"changeIdentifier",void 0),O([hi],e.prototype,"changeColor",void 0),O([hi],e.prototype,"invertBackground",void 0),O([hi],e.prototype,"changeWidth",void 0),O([hi],e.prototype,"pureReset",null),O([gn],e.prototype,"isTextDesignSelected",null),O([gn],e.prototype,"isEditMode",null),O([gn],e.prototype,"activeTextColor",null),O([gn],e.prototype,"currentTextDesign",null),O([gn],e.prototype,"id",null),O([gn],e.prototype,"text",null),O([gn],e.prototype,"seed",null),O([gn],e.prototype,"padding",null),O([gn],e.prototype,"width",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"isInverted",null),O([gn],e.prototype,"color",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"localeColor",null),O([gn],e.prototype,"entities",null),e}();function Yr(e,t){return void 0===t&&(t=!1),new Promise((function(n,i){var o=new Image;o.addEventListener("load",(function(){var i=null;if(t){var r=document.createElement("canvas"),a=r.getContext("2d"),s=150*o.height/o.width;r.width=150,r.height=s,a.drawImage(o,0,0,150,s),i=r.toDataURL()}n({image:e,smallImage:i})})),o.addEventListener("error",(function(){i()})),o.src=e}))}function qr(e,t){var n=this;return void 0===t&&(t=!1),new Promise((function(i,o){var r=new FileReader;r.onload=function(r){return I(n,void 0,void 0,(function(){return R(this,(function(n){return Yr(r.target.result,t).then((function(t){i(C({},t,{name:e.name||"",type:e.type,id:Se()}))})).catch((function(e){o(e)})),[2]}))}))},r.readAsDataURL(e)}))}var $r,Zr=function(e){return{height:e.y,width:e.x}},Jr={},Qr={x:0,y:0},ea=function(){function e(e){var t=this;this.state=un.map(Jr),this.selectedId=un.box("none"),this.editMode=un.box(!1),this.dragMode=un.box(!1),this.minLength=0,this.setEditMode=function(e){t.currentSprite&&-1!==[E.TEXT,E.TEXT_DESIGN].indexOf(t.tool)&&(e?t.editor.modalStore.showModalOfType(Le.TEXT_EDIT):t.editor.modalStore.hideModal(),t.editMode.set(e))},this.onWidthDrag=function(e){var n=e.x,i=e.y,o=new xe(t.currentSprite.position),r=new xe(n,i).subtract(o).magnitude,a=t.editor.previewToWorld(2*r);if(a>t.minLength&&(t.setContainerProperties(t.id,{width:a},!0),t.isSpriteText)){var s=t.getContainerProperties(t.id);t.textToolStore.changeWidth(s.width)}},this.onPaddingDrag=function(e){var n=e.x,i=e.y,o=new xe(t.currentSprite.position),r=new xe(n,i).subtract(o).floored.abs.x-t.defaultSize.width/2;r>=0&&t.setContainerProperties(t.id,{padding:t.editor.previewToWorld(r)},!0)},this.reverseTextHorizontally=function(){Object.values(t.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||e.setFlipHorizontally(!e.getFlipHorizontally())}))},this.reverseTextVertically=function(){Object.values(t.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||e.setFlipVertically(!e.getFlipVertically())}))},this.updatePositionAndSize=function(e,n){void 0===e&&(e=t.id),void 0===n&&(n=!1);var i=t.getSizePositionFromContainer(e),o=i.position,r=i.size,a=t.state.get(e);if(a){if(a.position.x=o.x,a.position.y=o.y,a.size.width=r.width,a.size.height=r.height,n){var s=t.container[e].getRotation();t.container[e].setRotation(s),a.rotation=t.container[e].getRotation()}t.state.set(e,a)}},this.getDefaultSize=function(e){void 0===e&&(e=t.id);var n=t.container[e];if(n){var i=n.getSizeInWorldSpace();return{width:Math.floor(t.editor.worldToPreview(i.width)),height:Math.floor(t.editor.worldToPreview(i.height))}}return{width:0,height:0}},this.editor=e,this.container={},this.stickerToolStore=new Ns(e),this.textToolStore=new Vr(e),this.textDesignToolStore=new Xr(e),this.rect=new Br(this.editor,this),this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2)}return e.magnitude=function(e,t){return new xe(e,t||e).magnitude},e.sizeMagnitude=function(e){return xe.fromSize(e).magnitude},e.prototype.addSticker=function(e,t){return void 0===t&&(t=!0),I(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return[4,this.addStickerAsync(e,t)];case 1:return n.sent(),[2]}}))}))},e.prototype.addStickerAsync=function(t,n){var i=t.spriteId,o=t.state,r=t.transform;return void 0===n&&(n=!0),I(this,void 0,void 0,(function(){var t=this;return R(this,(function(a){return[2,new Promise((function(a,s){r=t.getTransform(r);var l=o.identifier,c=t.editor.orderHelper.addSprite(l);t.editor.engine.addStickerFromAssets(l,t.editor.engineMediator.image.container,c).then((function(s){return I(t,void 0,void 0,(function(){var t,c,u,d,p,h,f,m,g;return R(this,(function(y){switch(y.label){case 0:return i&&s.setData({id:i}),t=s.getID(),this.container[t]=s,this.editor.orderHelper.renameSprite(l,t),c=this.getDefaultSize(t),s.setPivot(.5,.5),r.scale?u=r.scale:r.size?u={x:r.size.width/c.width,y:r.size.height/c.height}:(d=.4*this.editor.shortestOutputSide,p=e.magnitude(d)/e.sizeMagnitude(s.getSizeInWorldSpace()),u={x:p,y:p}),h=this.editor.outputContainer.getData(),f=h.flipHorizontally,m=h.flipVertically,s.setFlipHorizontally(f),s.setFlipVertically(m),s.setTransform({position:r.position,scale:u,rotation:r.rotation}),void 0!==o.flipHorizontally&&s.setFlipHorizontally(o.flipHorizontally),this.setContainerProperties(t,C({},o)),g=s.getData(),this.setInitialSpriteState(t,E.STICKER,c),this.stickerToolStore.setState(t,C({},g,{identifier:l})),[4,this.editor.renderPromise()];case 1:return y.sent(),n&&(this.selectedId.set(t),this.addSnapshot("add",this.stickerLocale.add)),a(),[2]}}))}))})).catch((function(e){console.error(e),s()}))}))]}))}))},e.prototype.addText=function(e,t){return void 0===t&&(t=!0),I(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return[4,this.addTextAsync(e,t)];case 1:return n.sent(),[2]}}))}))},e.prototype.addTextAsync=function(e,t){var n=this,i=e.spriteId,o=e.state,r=e.transform;return void 0===t&&(t=!0),new Promise((function(e,a){r=n.getTransform(r);var s=n.editor.orderHelper.addSprite(o.identifier),l=n.editor.shortestOutputSide,c={fontIdentifier:o.identifier,text:o.text,width:o.width||.6*l,fontSize:o.fontSize||.1*l,lineHeight:o.lineHeight,alignment:o.alignment,textColor:o.textColor,backgroundColor:o.backgroundColor};o.backgroundColor===Nr.backgroundColor&&delete c.backgroundColor,n.editor.engine.addTextWithFontLoading(c,n.editor.engineMediator.image.container,s).then((function(a){return I(n,void 0,void 0,(function(){var n,s,l,c,u,d;return R(this,(function(p){switch(p.label){case 0:return i&&a.setData({id:i}),n=a.getID(),this.container[n]=a,this.editor.orderHelper.renameSprite(o.identifier,this.id),s=this.editor.outputContainer.getData(),l=s.flipHorizontally,c=s.flipVertically,a.setFlipHorizontally(l),a.setFlipVertically(c),u=this.getDefaultSize(n),a.setPivot(.5,.5),a.setPosition(r.position),a.setRotation(r.rotation),this.setInitialSpriteState(n,E.TEXT,u),d=a.getData(),this.textToolStore.setState(n,C({},d,{backgroundColorId:o.backgroundColorId,textColorId:o.textColorId})),[4,this.editor.renderPromise()];case 1:return p.sent(),t&&(this.selectedId.set(n),this.addSnapshot("add",this.textLocale.add)),e(),[2]}}))}))})).catch((function(e){console.error(e),a()}))}))},e.prototype.addTextDesign=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!1),I(this,void 0,void 0,(function(){return R(this,(function(i){switch(i.label){case 0:return[4,this.addTextDesignAsync(e,t,n)];case 1:return i.sent(),[2]}}))}))},e.prototype.addTextDesignAsync=function(e,t,n){var i=this,o=e.spriteId,r=e.state,a=e.transform;return void 0===t&&(t=!0),void 0===n&&(n=!1),new Promise((function(e,s){a=i.getTransform(a);var l=i.editor.orderHelper.addSprite(r.identifier),c=i.editor.shortestOutputSide,u={width:r.width||.6*c,text:r.text,color:r.color,inverted:r.isInverted,seed:r.seed,padding:r.padding};i.editor.engine.addTextDesignAsync(r.identifier,u,i.editor.engineMediator.image.container,l).then((function(s){return I(i,void 0,void 0,(function(){var i,l,c,u,d,p;return R(this,(function(h){switch(h.label){case 0:return o&&(n&&(this.pureRemoveSprite(o),this.textDesignToolStore.state.delete(o)),s.setData({id:o})),i=s.getID(),this.container[i]=s,this.editor.orderHelper.renameSprite(r.identifier,this.id),l=this.editor.outputContainer.getData(),c=l.flipHorizontally,u=l.flipVertically,s.setFlipHorizontally(c),s.setFlipVertically(u),s.setPivot(.5,.5),s.setPosition(a.position),s.setRotation(a.rotation),d=this.getDefaultSize(i),this.setInitialSpriteState(i,E.TEXT_DESIGN,d),p=s.getData(),this.textDesignToolStore.setState(i,C({},p,{identifier:r.identifier,textColorId:r.textColorId})),[4,this.editor.renderPromise()];case 1:return h.sent(),t&&(this.selectedId.set(i),this.addSnapshot("add",this.textDesignLocale.add)),e(),[2]}}))}))})).catch((function(e){console.error(e),s()}))}))},e.prototype.spriteLocalTransform=function(){return{position:this.editor.previewToOutput(this.position),size:this.size,rotation:this.rotation}},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.setContainerProperties=function(e,t,n){void 0===n&&(n=!1),this.container[e].setData(t),n&&this.updatePositionAndSize(),this.editor.render()},e.prototype.setContainerPosition=function(e,t){this.container[e].setPosition(t)},e.prototype.pureRemoveSprite=function(e){return this.editor.engine.removeContainer(this.container[e]),-1===this.container[e].getIndexInParent()&&(delete this.container[e],this.state.delete(e),this.editor.orderHelper.removeSprite(e),!0)},e.prototype.deleteSprite=function(e){void 0===e&&(e=this.id);var t=this.state.get(e);t.tool===E.STICKER?this.stickerToolStore.delete():t.tool===E.TEXT?this.textToolStore.delete():t.tool===E.TEXT_DESIGN&&this.textDesignToolStore.delete()},e.prototype.removeSprite=function(e){this.pureRemoveSprite(e)&&(this.selectLast(),this.spriteSnapshot("delete"),this.editor.render())},e.prototype.addSnapshot=function(e,t){var n=this.getSpriteState(),i=this.editor.canvasStore.sizeVector;Object.keys(n.common).forEach((function(e){n.common[e].position=new xe(n.common[e].position).divide(i),n.common[e].size=Zr(xe.fromSize(n.common[e].size).divide(i))})),this.editor.addSnapshot({sprite:n},e,t)},e.prototype.spriteSnapshot=function(e){this.addSnapshot("edit",this.historyLocale[e])},e.prototype.updateStateFromHistory=function(e,t){return I(this,void 0,void 0,(function(){var n,i,o,r,a,s,l,c,u,d;return R(this,(function(p){switch(p.label){case 0:return n=Object.keys(this.container),(i=e.spriteIdList).length===n.length?[3,7]:(o=n.filter((function(e){return-1===i.indexOf(e)})),r=i.filter((function(e){return-1===n.indexOf(e)})),o.length&&this.pureRemoveSprite(o[0]),r.length?(a=r[0],s=e.common?e.common[a]:void 0,l=e.sticker?e.sticker[a]:void 0,c=e.text?e.text[a]:void 0,u=e.textdesign?e.textdesign[a]:void 0,s?(d={spriteId:a,transform:{size:s.size?Zr(xe.fromSize(s.size).multiply(t)):void 0,position:this.editor.previewToWorld(new xe(s.position).multiply(t)),rotation:s.rotation}},c?[4,this.addNewText(d,c)]:[3,2]):[3,6]):[3,6]);case 1:return p.sent(),[3,6];case 2:return u?[4,this.addNewTextDesign(d,u)]:[3,4];case 3:return p.sent(),[3,6];case 4:return l?[4,this.addNewSticker(d,l)]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:this.upateSpriteStateFromHistory(e,t),p.label=8;case 8:return[2]}}))}))},e.prototype.addNewText=function(e,t){return I(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return this.textToolStore.doesTextAssetExist(t.identifier)?[4,this.addTextAsync(C({},e,{state:t}),!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:throw new Error("Text identifier "+t.identifier+" doesn't exist");case 3:return[2]}}))}))},e.prototype.addNewTextDesign=function(e,t){return I(this,void 0,void 0,(function(){return R(this,(function(n){if(!this.textDesignToolStore.doesTextDesignAssetExist(t.identifier))throw new Error("Text identifier "+t.identifier+" doesn't exist");return this.addTextDesignAsync(C({},e,{state:t}),!1),[2]}))}))},e.prototype.addNewSticker=function(e,t){return I(this,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return this.stickerToolStore.doesStickerAssetExist(t.identifier)?[4,this.addStickerAsync(C({},e,{state:t}),!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:throw new Error("Text identifier "+t.identifier+" doesn't exist");case 3:return[2]}}))}))},e.prototype.upateSpriteStateFromHistory=function(t,n){return I(this,void 0,void 0,(function(){var i=this;return R(this,(function(o){return Object.keys(this.container).forEach((function(o){var r=t.common?t.common[o]:void 0,a=t.sticker?t.sticker[o]:void 0,s=t.text?t.text[o]:void 0,l=t.textdesign?t.textdesign[o]:void 0,c=i.state.get(o);if(c&&r){i.state.set(o,c);var u=i.editor.previewToWorld(new xe(r.position).multiply(n));if(i.container[o].setPosition(u),i.container[o].setRotation(r.rotation),c.rotation=i.container[o].getRotation(),a){var d=e.sizeMagnitude(Zr(xe.fromSize(r.size).multiply(n)))/e.sizeMagnitude(r.defaultSize);i.container[o].setScale({x:d,y:d}),i.stickerToolStore.updateStateFromHistory(o,a)}else s?i.textToolStore.updateStateFromHistory(o,C({},s,{fontIdentifier:s.identifier})):l&&i.textDesignToolStore.updateStateFromHistory(o,C({},l,{inverted:l.isInverted}));i.updatePositionAndSize(o),s&&i.setDefaultSize(o)}})),[2]}))}))},e.prototype.getSpriteState=function(){var e,t=Oi(this.state),n=Oi(this.textToolStore.state),i=Oi(this.textDesignToolStore.state);return(e={common:t})[E.STICKER]=Oi(this.stickerToolStore.state),e[E.TEXT]=n,e[E.TEXT_DESIGN]=i,e.spriteIdList=Object.keys(this.container),e},e.prototype.updateStateFromSerialization=function(e,t){return I(this,void 0,void 0,(function(){var n,i,o,r,a,s,l,c,u,d,p,h,f,m,g,y,b;return R(this,(function(v){switch(v.label){case 0:if(!t||!t.length)return[3,4];v.label=1;case 1:return v.trys.push([1,3,,4]),n=t.map((function(e){return Yr(e.raster.data,!0)})),[4,Promise.all(n)];case 2:return i=v.sent(),this.stickerToolStore.addCustomStickerAsset(t.map((function(e,t){return{image:i[t].image,smallImage:i[t].smallImage,name:e.name,type:e.raster.type,id:e.identifier}}))),[3,4];case 3:return v.sent(),this.editor.modalStore.hideModal(),this.editor.modalStore.showActionModal({identifier:"stickerLoading"}),[3,4];case 4:o=0,v.label=5;case 5:return o<e.spriteIdList.length?(r=e.spriteIdList[o],a=e.common?e.common[r]:void 0,s=e.sticker?e.sticker[r]:void 0,l=e.text?e.text[r]:void 0,c=e.textdesign?e.textdesign[r]:void 0,a?(u=a.size,a.size&&(d=this.editor.worldToPreview({x:0,y:0}),p=this.editor.worldToPreview({x:a.size.width,y:a.size.height}),u={height:Math.abs(p.y-d.y),width:Math.abs(p.x-d.x)}),h=this.editor.outputContainer.getData(),f=h.flipHorizontally,m=h.flipVertically,g=this.editor.outputContainer.getRotation(),y=Do({rotation:a.rotation+g,flipHorizontally:f,flipVertically:m}),b={spriteId:r,transform:{size:u,position:a.position,rotation:y}},l?[4,this.addNewText(b,l)]:[3,7]):[3,11]):[3,12];case 6:return v.sent(),[3,11];case 7:return c?[4,this.addNewTextDesign(b,c)]:[3,9];case 8:return v.sent(),[3,11];case 9:return s?[4,this.addNewSticker(b,s)]:[3,11];case 10:v.sent(),v.label=11;case 11:return o+=1,[3,5];case 12:return[2]}}))}))},Object.defineProperty(e.prototype,"serializableState",{get:function(){var e=this,t=this.editor.spriteStore.getSpriteState();Object.keys(t.common).forEach((function(n){t.common[n].size=e.container[n].getSizeInWorldSpace(),t.common[n].position=e.container[n].getPosition(),t.common[n].order=e.container[n].getIndexInParent();var i=e.editor.outputContainer.getData(),o=i.flipHorizontally,r=i.flipVertically,a=e.editor.outputContainer.getRotation();t.common[n].rotation=Do({rotation:t.common[n].rotation-a,flipHorizontally:o,flipVertically:r})}));var n=this.editor.spriteStore.stickerToolStore.customStickerIds.map((function(t){var n=t.identifier,i=t.type,o=e.editor.spriteStore.stickerToolStore.entities.find((function(e){return n===e.identifier}));if(o){var r=e.editor.assetProvider.getStickerAsset(o.identifier);if(ce(r))return{identifier:n,raster:{type:i,name:o.name,data:r.sticker}}}})).filter(Boolean);return{sprite:t,customStickers:n}},enumerable:!0,configurable:!0}),e.prototype.updateCanvasControls=function(){var e=this;Object.keys(this.container).forEach((function(t){e.updatePositionAndSize(t,!0);var n=e.state.get(t);if(n)if(n.tool===E.TEXT){var i=e.getContainerProperties(t);e.textToolStore.changeSize(t,i),e.setDefaultSize(t)}else if(n.tool===E.TEXT_DESIGN){i=e.getContainerProperties(t);e.textToolStore.changeWidth(i.width)}}))},e.prototype.setDragMode=function(e){this.dragMode.set(e)},e.prototype.setPosition=function(e){var t=this.currentSprite,n=this.container[this.id];if(t&&n){n.setPosition(this.editor.previewToWorld(e));var i=this.getSizePositionFromContainer().position;t.position.x=i.x,t.position.y=i.y,this.state.set(this.id,t),this.editor.render()}},e.prototype.setSize=function(e){var t=this.currentSprite;t&&(t.size.width=e.width,t.size.height=e.height,this.state.set(this.id,t))},e.prototype.setDefaultSize=function(e){void 0===e&&(e=this.id);var t=this.state.get(e);if(t){var n=this.getDefaultSize(e);t.defaultSize.width=n.width,t.defaultSize.height=n.height,this.state.set(e,t)}},e.prototype.setRotation=function(e){var t=this.currentSprite;if(t){var n=this.editor.outputContainer.getData(),i=n.flipHorizontally,o=n.flipVertically,r=this.editor.outputContainer.getRotation(),a=Do({rotation:e+r,flipHorizontally:i,flipVertically:o});this.container[this.id].setRotation(a),t.rotation=this.container[this.id].getRotation(),this.state.set(this.id,t),this.editor.render()}},e.prototype.onCanvasClick=function(e){this.isEditMode||this.selectHighestOrderSprite(e)},e.prototype.select=function(e){var t=this.state.get(e);t&&(this.editor.activeStore.tool!==t.tool&&this.editor.activeStore.selectTool(t.tool),this.selectedId.set(e))},e.prototype.selectLast=function(){var e=this.editor.orderHelper.getLastSpriteId();e&&this.select(e)},e.prototype.selectNext=function(){var e=this;if(this.currentSprite){var t=this.container[this.id].getIndexInParent();if(t){var n=Object.keys(this.container).find((function(n){return e.container[n].getIndexInParent()===t-1}));n&&this.select(n)}}},e.prototype.deselect=function(){this.selectedId.set("none")},e.prototype.bringToFront=function(e){var t=this.editor.orderHelper.bringToFront(e);this.container[e].setIndexInParent(t),this.spriteSnapshot("order"),this.editor.render()},e.prototype.flipHorizontally=function(e){var t=this.container[e];t.setFlipHorizontally(!t.getFlipHorizontally()),this.spriteSnapshot("flip"),this.editor.render()},e.prototype.pureReset=function(){var e=this;this.selectedId.set("none"),Array.from(this.state.keys()).forEach((function(t){e.pureRemoveSprite(t)})),this.stickerToolStore.pureReset(),this.textToolStore.pureReset(),this.textDesignToolStore.pureReset()},e.prototype.selectHighestOrderSprite=function(e){var t=this,n=this.editor.brushToolStore.containerId();if((e=e.filter((function(e){return e!==n}))).length<1)this.deselect();else{var i="",o=0;e.forEach((function(e){var n=t.container[e],r=n&&n.getIndexInParent()||0;r>=o&&(o=r,i=e)})),this.select(i)}},e.prototype.onCornerDrag=function(e){var t=e.x,n=e.y;if(this.currentSprite){var i=new xe(this.currentSprite.position),o=new xe(t,n),r=o.subtract(i).magnitude,a=2*r/this.defaultLength;if(r>this.minLength)if(this.isSpriteSticker){var s=this.editor.engineMediator.preview.container.getScale(),l=this.editor.transformToolStore.defaultScale/s.x;if("unrestricted"!==this.stickerToolStore.resizeMode)this.setScaleInContainer({x:a*l,y:a*l});else{var c=this.rotationWRTOutputRotation,u=this.defaultSize,d=u.width,p=u.height,h=o.subtract(i),f=Math.cos(c),m=Math.sin(c),g=Math.max(Math.abs(h.x*f*2+h.y*m*2),this.minLength)*l,y=Math.max(Math.abs(h.x*-m*2+h.y*f*2),this.minLength)*l;this.setScaleInContainer({x:g/d,y:y/p})}}else this.setFontSizeInContainer(a);this.editor.render()}},Object.defineProperty(e.prototype,"currentSprite",{get:function(){if(this.isSpriteSelected)return this.state.get(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.textDesignToolStore.padding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragMode",{get:function(){return this.dragMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.selectedId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteSelected",{get:function(){return"none"!==this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){if(this.currentSprite)return this.currentSprite.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tool",{get:function(){if(this.currentSprite)return this.currentSprite.tool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(this.currentSprite)return this.currentSprite.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){if(this.currentSprite)return this.currentSprite.rotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationInQuadrant",{get:function(){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically,i=this.editor.outputContainer.getRotation();if(this.currentSprite){var o=(180*Do({rotation:this.rotation+i,flipHorizontally:t,flipVertically:n})/Math.PI+360)%360;return o>=0&&o<90?"q1":o>=90&&o<180?"q2":o>=180&&o<270?"q3":"q4"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationWRTOutputRotation",{get:function(){if(this.currentSprite){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically,i=this.editor.outputContainer.getRotation();return Do({rotation:this.currentSprite.rotation-i,flipHorizontally:t,flipVertically:n})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipHorizontal",{get:function(){if(this.currentSprite)return this.currentSprite.flipHorizontally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultSize",{get:function(){if(this.currentSprite)return this.currentSprite.defaultSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLength",{get:function(){if(this.currentSprite)return e.sizeMagnitude(this.currentSprite.defaultSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteSticker",{get:function(){return this.tool===E.STICKER},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteText",{get:function(){return this.tool===E.TEXT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteTextDesign",{get:function(){return this.tool===E.TEXT_DESIGN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spritePosition",{get:function(){if(this.currentSprite){var e=this.currentSprite.position,t=e.x,n=e.y,i=this.currentSprite.size,o=i.height,r=i.width;return{x:Br.floor(t-r/2),y:Br.floor(n-o/2)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRect",{get:function(){if(this.currentSprite)return this.rect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTopPosition",{get:function(){if(this.currentSprite)return this.rect.leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomPosition",{get:function(){if(this.currentSprite)return this.rect.leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMidPosition",{get:function(){if(this.currentSprite)return this.rect.leftMid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMidPadPosition",{get:function(){if(this.currentSprite){var e=this.rect.leftMid;return{x:e.x-this.padding,y:e.y}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTopPosition",{get:function(){if(this.currentSprite)return this.rect.rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomPosition",{get:function(){if(this.currentSprite)return this.rect.rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMidPosition",{get:function(){if(this.currentSprite)return this.rect.rightMid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMidPadPosition",{get:function(){if(this.currentSprite){var e=this.rect.rightMid;return{x:e.x+this.padding,y:e.y}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomHandlePosition",{get:function(){if(this.currentSprite)return this.rect.leftBottomHandle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomHandlePosition",{get:function(){if(this.currentSprite)return this.rect.rightBottomHandle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"historyLocale",{get:function(){return this.isSpriteSticker?this.stickerLocale:this.isSpriteText?this.textDesignLocale:this.textLocale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stickerLocale",{get:function(){return this.editor.configStore.locale[E.STICKER].history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textLocale",{get:function(){return this.editor.configStore.locale[E.TEXT].history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDesignLocale",{get:function(){return this.editor.configStore.locale[E.TEXT_DESIGN].history},enumerable:!0,configurable:!0}),e.prototype.getOutputProperties=function(){return this.editor.outputContainer.getData()},e.prototype.getContainerProperties=function(e){return this.container[e].getData()},e.prototype.getContainerTransform=function(e){return this.container[e].getTransform()},e.prototype.getDuplicateContainerTransform=function(e){var t=this.container[e].getTransform(),n=.1*this.editor.shortestOutputSide,i=new xe(t.position).add(new xe(n,n));return C({},t,{position:i})},e.prototype.getDuplicateContainerFlip=function(e){return this.container[e].getFlipHorizontally()},e.prototype.getTransform=function(e){var t=this.editor.outputToWorld(Qr);return e?C({position:t},e):{rotation:this.editor.outputContainer.getRotation(),position:t}},e.prototype.setInitialSpriteState=function(e,t,n){void 0===n&&(n={height:0,width:0});var i=this.container[e],o=this.getSizePositionFromContainer(e),r=o.position,a=o.size,s=i.getRotation();this.state.set(e,{tool:t,position:r,rotation:s,size:a,defaultSize:n,flipHorizontally:!1})},e.prototype.setScaleInContainer=function(e){this.container[this.id].setScale(e);var t=this.currentSprite;if(t){var n=this.getSizePositionFromContainer().size;t.size=n,this.state.set(this.id,t)}},e.prototype.setFontSizeInContainer=function(e){var t=this.currentSprite,n=this.textToolStore.currentText,i=this.textDesignToolStore.currentTextDesign;if(t)if(n){var o={fontSize:Math.floor(this.textToolStore.defaultFontSize*e)},r={width:this.editor.previewToWorld(this.defaultSize.width*e)},a=this.isSpriteText?C({},r,o):r;if(r.width>this.minLength&&o.fontSize){this.setContainerProperties(this.id,a,!0);var s=this.getContainerProperties(this.id),l=s.fontSize,c=s.width;this.textToolStore.changeFontSize(l,!0),this.textToolStore.changeWidth(c)}}else if(i){if((c=this.editor.previewToWorld(this.defaultSize.width*e))>this.minLength){this.setContainerProperties(this.id,{width:c},!0);var u=this.getContainerProperties(this.id).width;this.textDesignToolStore.changeWidth(u)}}},e.prototype.getSizePositionFromContainer=function(e){void 0===e&&(e=this.id);var t=this.container[e];if(t){var n=this.editor.worldToPreview(t.getPosition()),i=t.getSizeInWorldSpace();return{position:n,size:{width:Math.floor(this.editor.worldToPreview(i.width)),height:Math.floor(this.editor.worldToPreview(i.height))}}}return{position:{x:0,y:0},size:{height:1,width:1}}},O([hi],e.prototype,"addSticker",null),O([hi],e.prototype,"addStickerAsync",null),O([hi],e.prototype,"addText",null),O([hi],e.prototype,"addTextAsync",null),O([hi],e.prototype,"addTextDesign",null),O([hi],e.prototype,"addTextDesignAsync",null),O([hi],e.prototype,"clickableCanvas",null),O([hi],e.prototype,"setContainerProperties",null),O([hi],e.prototype,"setContainerPosition",null),O([hi],e.prototype,"pureRemoveSprite",null),O([hi],e.prototype,"deleteSprite",null),O([hi],e.prototype,"removeSprite",null),O([hi],e.prototype,"addSnapshot",null),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"addNewText",null),O([hi],e.prototype,"addNewTextDesign",null),O([hi],e.prototype,"addNewSticker",null),O([hi],e.prototype,"upateSpriteStateFromHistory",null),O([hi],e.prototype,"updateStateFromSerialization",null),O([hi],e.prototype,"updateCanvasControls",null),O([hi],e.prototype,"setEditMode",void 0),O([hi],e.prototype,"setDragMode",null),O([hi],e.prototype,"setPosition",null),O([hi],e.prototype,"setSize",null),O([hi],e.prototype,"setDefaultSize",null),O([hi],e.prototype,"setRotation",null),O([hi],e.prototype,"onCanvasClick",null),O([hi],e.prototype,"select",null),O([hi],e.prototype,"selectLast",null),O([hi],e.prototype,"selectNext",null),O([hi],e.prototype,"deselect",null),O([hi],e.prototype,"bringToFront",null),O([hi],e.prototype,"flipHorizontally",null),O([hi],e.prototype,"pureReset",null),O([hi],e.prototype,"onCornerDrag",null),O([hi],e.prototype,"onWidthDrag",void 0),O([hi],e.prototype,"onPaddingDrag",void 0),O([hi],e.prototype,"reverseTextHorizontally",void 0),O([hi],e.prototype,"reverseTextVertically",void 0),O([gn],e.prototype,"currentSprite",null),O([gn],e.prototype,"padding",null),O([gn],e.prototype,"isEditMode",null),O([gn],e.prototype,"isDragMode",null),O([gn],e.prototype,"id",null),O([gn],e.prototype,"isSpriteSelected",null),O([gn],e.prototype,"position",null),O([gn],e.prototype,"tool",null),O([gn],e.prototype,"size",null),O([gn],e.prototype,"rotation",null),O([gn],e.prototype,"rotationInQuadrant",null),O([gn],e.prototype,"rotationWRTOutputRotation",null),O([gn],e.prototype,"flipHorizontal",null),O([gn],e.prototype,"defaultSize",null),O([gn],e.prototype,"defaultLength",null),O([gn],e.prototype,"isSpriteSticker",null),O([gn],e.prototype,"isSpriteText",null),O([gn],e.prototype,"isSpriteTextDesign",null),O([gn],e.prototype,"spritePosition",null),O([gn],e.prototype,"currentRect",null),O([gn],e.prototype,"leftTopPosition",null),O([gn],e.prototype,"leftBottomPosition",null),O([gn],e.prototype,"leftMidPosition",null),O([gn],e.prototype,"leftMidPadPosition",null),O([gn],e.prototype,"rightTopPosition",null),O([gn],e.prototype,"rightBottomPosition",null),O([gn],e.prototype,"rightMidPosition",null),O([gn],e.prototype,"rightMidPadPosition",null),O([gn],e.prototype,"leftBottomHandlePosition",null),O([gn],e.prototype,"rightBottomHandlePosition",null),O([gn],e.prototype,"historyLocale",null),O([gn],e.prototype,"stickerLocale",null),O([gn],e.prototype,"textLocale",null),O([gn],e.prototype,"textDesignLocale",null),e}(),ta={options:[],query:""},na=function(){function e(e){var t=this;this.initProvider=function(e){e&&(t.libraryProvider=new e)},this.addOptionsToSelectedCategory=function(e,t,n){var i=e.findIndex((function(e){return e.identifier===t}));return-1!==i?z(e.slice(0,i+1),n,e.slice(i+1)):e},this.configStore=e.configStore,this.state=un(ta),this.selectedCategory=""}return e.prototype.saveScrollbar=function(e){this.scrollbar=e},e.prototype.recalculateScrollContainer=function(){var e=this;setTimeout((function(){return e.scrollbar.recalculate()}),0)},e.prototype.fetchImages=function(e){return void 0===e&&(e=""),I(this,void 0,void 0,(function(){var t,n,i,o,r,a=this;return R(this,(function(s){switch(s.label){case 0:return this.libraryProvider?(t=[this.libraryProvider.getCategories(),this.libraryProvider.searchImages(e)],[4,Promise.all(t)]):[3,2];case 1:n=P.apply(void 0,[s.sent(),2]),i=n[0],o=n[1],r=i.map((function(e){var t=o.filter((function(t){return t.category===e.name}));return{identifier:e.name,defaultName:e.name,coverImage:e.coverImageUrl,options:t.map((function(e,t){return{defaultName:"image"+t,identifier:e.thumbUrl,coverImage:e.thumbUrl,rawUrl:e.rawUrl}}))}})).filter((function(e){return e.options.length})),fi((function(){a.state.query=e,a.state.options=r})),s.label=2;case 2:return[2]}}))}))},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory!==e?e:""},Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"images",{get:function(){return this.state.options.map((function(e){return e.options})).reduce((function(e,t){return z(e,t)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this.state.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.configStore.config[E.LIBRARY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.configStore.locale[E.LIBRARY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.state.options.map((function(e,t){return{type:De.LARGE,identifier:e.defaultName,defaultName:e.defaultName,coverImage:e.coverImage,delay:.08*t,items:e.options.map((function(e,t){return C({type:De.MEDIUM,delay:.08*t},e)}))}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e=this.selectedCategory,t=this.state.options.findIndex((function(t){return t.defaultName===e}));return-1!==t?this.state.options[t].options.map((function(e,t){return C({type:De.MEDIUM,delay:.08*t},e)})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoriesAndOptions",{get:function(){return this.addOptionsToSelectedCategory(this.categories,this.selectedCategory,this.options)},enumerable:!0,configurable:!0}),e.prototype.getRawUrl=function(e){var t=this.images.findIndex((function(t){return t.identifier===e}));return-1!==t?this.images[t].rawUrl:e},O([un],e.prototype,"selectedCategory",void 0),O([hi],e.prototype,"saveScrollbar",null),O([hi],e.prototype,"recalculateScrollContainer",null),O([hi],e.prototype,"initProvider",void 0),O([hi],e.prototype,"fetchImages",null),O([hi],e.prototype,"toggleCategorySelection",null),O([gn],e.prototype,"selectedCategoryIdentifier",null),O([gn],e.prototype,"images",null),O([gn],e.prototype,"query",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"categories",null),O([gn],e.prototype,"options",null),O([gn],e.prototype,"categoriesAndOptions",null),e}();!function(e){e.LEADING="leading",e.CENTER="center",e.TRAILING="trailing"}($r||($r={}));var ia={horizontalGuides:[],verticalGuides:[],rotationGuides:[]},oa=function(){function e(e){var t=this;this.previewTopLeftPosition={x:0,y:0},this.getGuideValue=function(e,n){var i=t.editor.getPreviewSize(),o=i.height,r=i.width,a=t.configStore.config.snapping.position,s=a.snapToLeft,l=a.snapToRight,c=a.snapToTop,u=a.snapToBottom,d=Math.min(o,r),p=0;return"bottom"===n?p=Math.round(o-d*u):"top"===n?p=Math.round(d*c):"right"===n?p=Math.round(r-d*l):"left"===n?p=Math.round(d*s):"vertical"===e&&"center"===n?p=Math.round(r/2):"horizontal"===e&&"center"===n&&(p=Math.round(o/2)),p},this.getVerticalGuidesFromConfig=function(){var e=t.configStore.config.snapping.position,n=e.snapToVerticalCenter,i=e.snapToLeft,o=e.snapToRight,r=[];return n&&r.push({value:t.getGuideValue("vertical","center"),edge:$r.CENTER,isVisible:!1,direction:"vertical"}),i&&r.push({value:t.getGuideValue("vertical","left"),edge:$r.LEADING,isVisible:!1,direction:"vertical"}),o&&r.push({value:t.getGuideValue("vertical","right"),edge:$r.TRAILING,isVisible:!1,direction:"vertical"}),r},this.getHorizontalGuidesFromConfig=function(){var e=t.configStore.config.snapping.position,n=e.snapToHorizontalCenter,i=e.snapToTop,o=e.snapToBottom,r=[];return n&&r.push({value:t.getGuideValue("horizontal","center"),edge:$r.CENTER,isVisible:!1,direction:"horizontal"}),i&&r.push({value:t.getGuideValue("horizontal","top"),edge:$r.LEADING,isVisible:!1,direction:"horizontal"}),o&&r.push({value:t.getGuideValue("horizontal","bottom"),edge:$r.TRAILING,isVisible:!1,direction:"horizontal"}),r},this.getRotationGuidesFromConfig=function(){var e=t.configStore.config.snapping.rotation.angles,n=[];return e.forEach((function(e){n.push(e),n.push(e+360),n.push(e-360)})),n.filter((function(e,t){return n.indexOf(e)===t})).map((function(e){return{value:e*Math.PI/180,edge:$r.CENTER,isVisible:!1,position:{x:0,y:0}}}))},this.getSpriteDimensions=function(e){var t=e.leftTop,n=e.leftBottom,i=e.rightTop,o=e.rightBottom,r=Math.min(t.y,i.y,n.y,o.y),a=Math.max(t.y,i.y,n.y,o.y),s=Math.min(t.x,i.x,n.x,o.x),l=Math.max(t.x,i.x,n.x,o.x);return{height:Math.round(a-r),width:Math.round(l-s)}},this.mapRange=function(e){var t=e.value,n=e.fromMin,i=e.fromLength,o=e.toMin;return(t-n)*e.toLength/i+o},this.updateGuides=function(){t.state.horizontalGuides=t.getHorizontalGuidesFromConfig(),t.state.verticalGuides=t.getVerticalGuidesFromConfig()},this.mapToSnapSystem=function(e,n,i,o){if(0===n.length)return e;if(n[0]>e)return e-i;for(var r=0;r<n.length-1;r+=1){var a=n[r],s=n[r+1],l=a+i,c=s-i,u=0;o&&(l+=u=r*i*2,c+=u+2*i);if(a<=e&&e<=s)return e<=a+1e-5?a+u:e>=s-1e-5?s+u+(o?2*i:0):t.mapRange({value:e,fromMin:a,fromLength:s-a,toMin:l,toLength:c-l})}return o?e+(n.length-1)*i*2+i:e},this.mapFromSnapSystem=function(e,n,i,o){if(0===n.length)return e;if(n[0]>e)return e>=n[0]-i?n[0]:e+i;for(var r=e,a=0;a<n.length-1;a+=1){var s=n[a],l=n[a+1],c=s+i,u=l-i,d=l;if(o&&(u+=2*i,d+=2*i,r=e-a*i*2),s<=r&&r<=d)return c<=r&&r<=u?t.mapRange({value:r,fromMin:c,fromLength:u-c,toMin:s,toLength:l-s}):r<c?s:l}r-=3*i;var p=n[n.length-1];return r<=p?p:r},this.centerSnapValue=function(e,t){var n=.5*t,i=e.value,o=e.edge,r=i;return o===$r.LEADING?r+=n:o===$r.TRAILING&&(r-=n),r},this.mapSnappingGuidesToCenter=function(e,n){var i=[];return e.forEach((function(e){i.push(t.centerSnapValue(e,n))})),i},this.calcSnapThresholdInRadians=function(e,t){return 0===e?0:t/e},this.calculatePreviewTopLeftPosition=function(){var e=t.editor.engineMediator.preview.container.getPosition(),n=t.editor.getPreviewSize(),i=Us.devicePixelRatio;t.previewTopLeftPosition={x:e.x/i-n.width/2,y:e.y/i-n.height/2}},this.snapToRotation=function(e,n,i){var o=t.state.rotationGuides,r=t.configStore.config.snapping.rotation,a=r.enabled,s=r.threshold,l=t.previewTopLeftPosition,c=l.x,u=l.y,d=t.editor.getPreviewSize().width,p=(e+2*Math.PI)%(2*Math.PI);if(a){var h=new xe(n).magnitude,f=o.map((function(e){return e.value})).sort((function(e,t){return e-t})),m=t.calcSnapThresholdInRadians(h,s);if(!t.rotationOffset){var g=t.mapToSnapSystem(e,f,m,!1);t.rotationOffset=g-p}p=t.mapFromSnapSystem(p+t.rotationOffset,f,m,!1);var y={x:i.position.x-c-d,y:i.position.y-u};return o.forEach((function(e){e.isVisible=e.value===p,e.position=y})),p}return e},this.snapToPosition=function(e,n){var i=t.state,o=i.horizontalGuides,r=i.verticalGuides,a=t.configStore.config.snapping.position,s=a.enabled,l=a.threshold,c=new xe(t.previewTopLeftPosition),u=t.getSpriteDimensions(n),d=u.height,p=u.width,h=new xe(e).subtract(c),f=h.x,m=h.y;if(s){var g=t.mapSnappingGuidesToCenter(o,d).sort((function(e,t){return e-t})),y=t.mapSnappingGuidesToCenter(r,p).sort((function(e,t){return e-t}));if(!t.positionOffset){var b=t.mapToSnapSystem(f,y,l,!0),v=t.mapToSnapSystem(m,g,l,!0);t.positionOffset=new xe(b,v).subtract(new xe(f,m))}var _=t.mapFromSnapSystem(f+t.positionOffset.x,y,l,!0),x=t.mapFromSnapSystem(m+t.positionOffset.y,g,l,!0);return _=Math.round(_),x=Math.round(x),o.forEach((function(e){var n=Math.round(t.centerSnapValue(e,d));e.isVisible=n===x})),r.forEach((function(e){var n=Math.round(t.centerSnapValue(e,p));e.isVisible=n===_})),new xe(_,x).add(c)}return{x:f,y:m}},this.editor=e,this.configStore=e.configStore,this.state=un(ia),this.rotationOffset=null,this.positionOffset=null,this.state.horizontalGuides=this.getHorizontalGuidesFromConfig(),this.state.verticalGuides=this.getVerticalGuidesFromConfig(),this.state.rotationGuides=this.getRotationGuidesFromConfig()}return e.prototype.hidePositionGuides=function(){this.positionOffset=null,this.state.verticalGuides=this.state.verticalGuides.map((function(e){return C({},e,{isVisible:!1})})),this.state.horizontalGuides=this.state.horizontalGuides.map((function(e){return C({},e,{isVisible:!1})}))},e.prototype.hideRotationGuides=function(){this.rotationOffset=null,this.state.rotationGuides=this.state.rotationGuides.map((function(e){return C({},e,{isVisible:!1})}))},Object.defineProperty(e.prototype,"positionGuides",{get:function(){var e=this.state;return z(e.verticalGuides,e.horizontalGuides)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationGuides",{get:function(){return this.state.rotationGuides},enumerable:!0,configurable:!0}),O([un],e.prototype,"state",void 0),O([hi],e.prototype,"snapToRotation",void 0),O([hi],e.prototype,"snapToPosition",void 0),O([hi],e.prototype,"hidePositionGuides",null),O([hi],e.prototype,"hideRotationGuides",null),O([gn],e.prototype,"positionGuides",null),O([gn],e.prototype,"rotationGuides",null),e}(),ra=function(){function e(e){this.editor=e}return e.prototype.serialize=function(e){var t=this,n=(void 0===e?{image:!1}:e).image;return this.editor.modalStore.showInfoModal("saving"),new Promise((function(e,i){import("./index-1c1dd652.js").then((function(o){var r=o.Serializer;return I(t,void 0,void 0,(function(){var t,o,a,s,l,c,u,d,p,h;return R(this,(function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),this.editor.transformToolStore.applyDefaultCrop(!1),o=this.editor.engineMediator.output.container.getResolution(),a=this.editor.engineMediator.image.container.getBounds().size,s=new r(this.editor.transformToolStore.defaultCropMaskPosition,this.editor.transformToolStore.defaultCropMaskSize,o,a),(t={})[E.ADJUSTMENT]=Oi(this.editor.adjustmentsToolStore.state),t[E.FILTER]=Oi(this.editor.filterToolStore.state),t[E.FOCUS]=Oi(this.editor.focusToolStore.serializableState),t[E.OVERLAY]=Oi(this.editor.overlayToolStore.state),t[E.FRAME]=Oi(this.editor.frameToolStore.state),t[E.BRUSH]=this.editor.brushToolStore.strokes||{strokes:[]},l=t,c=this.editor.spriteStore.serializableState,u=c.sprite,d=c.customStickers,u.spriteIdList=u.spriteIdList.sort((function(e,t){return u.common[e].order-u.common[t].order})),l.sprite=u,l.customStickers=d,l.transform=this.editor.transformToolStore.serializableState,p=null,n?[4,this.editor.engineMediator.engine.export(m.DATA_URL)]:[3,2];case 1:p=f.sent(),f.label=2;case 2:return this.editor.modalStore.hideModal(),e(s.serialise(l,p)),[3,4];case 3:return h=f.sent(),this.editor.modalStore.hideModal(),i(h),[3,4];case 4:return[2]}}))}))}))}))},e.prototype.deserialize=function(e){var t=this;this.editor.modalStore.showInfoModal("loading"),this.editor.resetToolStates();var n=this.editor.activeStore.tool===E.TRANSFORM;return n||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.reset(),n||this.editor.transformToolStore.onLeave(),new Promise((function(n,i){try{import("./index-1c1dd652.js").then((function(o){var r=o.Deserializer;return I(t,void 0,void 0,(function(){var t,o,a,s,l,c,u=this;return R(this,(function(d){switch(d.label){case 0:return t=this.editor.engineMediator.output.container.getResolution(),o=this.editor.engineMediator.image.container.getBounds().size,a=new r(this.editor.transformToolStore.defaultCropMaskPosition,this.editor.transformToolStore.defaultCropMaskSize,t,o),s="Unexpected error occured",(l=a.deserialise(e,(function(e){"unsupportedVersion"===e.identifier&&(u.editor.modalStore.hideModal(),u.editor.modalStore.showActionModal({identifier:"unsupportedSerializationVersion"}),s=u.editor.modalStore.modalProps.message.body)})))?l.image&&l.image.data?(c=l.image.data,this.editor.setImage(c),this.editor.scale.defaultScale=1,this.editor.scale.resetOffset(),this.editor.transformToolStore.reset(),this.editor.activeStore.setImage(c),[4,this.editor.engineMediator.image.addImageToContainer()]):[3,2]:[3,5];case 1:d.sent(),this.editor.engineMediator.output.applyNewImageTransform(),this.editor.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.editor.transformToolStore.setCropDefaults(),this.editor.historyStore.addInitialSnapshot(),this.editor.transformToolStore.saveTransforms(),d.label=2;case 2:return[4,this.applyUIstate(l)];case 3:return d.sent(),[4,this.editor.render()];case 4:return d.sent(),this.editor.modalStore.hideModal(),n(),[3,6];case 5:i(s),d.label=6;case 6:return[2]}}))}))}))}catch(e){"loading"===t.editor.modalStore.identifier&&t.editor.modalStore.hideModal(),i(e)}}))},e.prototype.applyUIstate=function(e){return I(this,void 0,void 0,(function(){var t,n;return R(this,(function(i){switch(i.label){case 0:t=this.editor.activeStore.tool===E.TRANSFORM,i.label=1;case 1:return i.trys.push([1,12,,13]),e.transform?(t||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(e.transform),[4,this.editor.wait()]):[3,3];case 2:i.sent(),t||this.editor.transformToolStore.onLeave(),i.label=3;case 3:return e.filter?[4,this.editor.filterToolStore.updateStateFromSerialization(e.filter)]:[3,5];case 4:i.sent(),i.label=5;case 5:return e.adjustment&&this.editor.adjustmentsToolStore.updateStateFromSerialization(e.adjustment),e.focus&&this.editor.focusToolStore.updateStateFromSerialization(e.focus),e.frame?[4,this.editor.frameToolStore.updateStateFromSerialization(e.frame)]:[3,7];case 6:i.sent(),i.label=7;case 7:return e.overlay?[4,this.editor.overlayToolStore.updateStateFromSerialization(e.overlay)]:[3,9];case 8:i.sent(),i.label=9;case 9:return e.sprite?(e.sprite.spriteIdList=e.sprite.spriteIdList.sort((function(t,n){return e.sprite.common[t].order-e.sprite.common[n].order})),[4,this.editor.spriteStore.updateStateFromSerialization(e.sprite,e.customStickers)]):[3,11];case 10:i.sent(),i.label=11;case 11:return e.brush&&this.editor.brushToolStore.updateStateFromHistory(e.brush),[3,13];case 12:return n=i.sent(),console.error(n),this.editor.modalStore.showActionModal({identifier:"unexpectedError",error:n,handlers:{buttonYes:function(){window.location.reload()}}}),[3,13];case 13:return[2]}}))}))},e}(),aa=function(){return window&&window.navigator&&window.navigator.userAgent||""},sa=function(e){return void 0===e&&(e=aa()),-1!==e.indexOf("Edge")},la=function(e){return void 0===e&&(e=aa()),!!e.match(/msie|trident/i)},ca=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),r=0;r<t.length;r+=1)o[r]=t.charCodeAt(r);return new Blob([i],{type:n})},ua="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},da=/^\s+|\s+$/g,pa=/^[-+]0x[0-9a-f]+$/i,ha=/^0b[01]+$/i,fa=/^0o[0-7]+$/i,ma=parseInt,ga="object"==typeof ua&&ua&&ua.Object===Object&&ua,ya="object"==typeof self&&self&&self.Object===Object&&self,ba=ga||ya||Function("return this")(),va=Object.prototype.toString,_a=Math.max,xa=Math.min,wa=function(){return ba.Date.now()};function Sa(e,t,n){var i,o,r,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,r=o;return i=o=void 0,c=t,a=e.apply(r,n)}function f(e){return c=e,s=setTimeout(g,t),u?h(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function g(){var e=wa();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?xa(n,r-(e-c)):n}(e))}function y(e){return s=void 0,p&&i?h(e):(i=o=void 0,a)}function b(){var e=wa(),n=m(e);if(i=arguments,o=this,l=e,n){if(void 0===s)return f(l);if(d)return s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Ea(t)||0,ka(n)&&(u=!!n.leading,r=(d="maxWait"in n)?_a(Ea(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=o=s=void 0},b.flush=function(){return void 0===s?a:y(wa())},b}function ka(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ea(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==va.call(e)}(e))return NaN;if(ka(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ka(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(da,"");var n=ha.test(e);return n||fa.test(e)?ma(e.slice(2),n?2:8):pa.test(e)?NaN:+e}var Ca=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ka(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Sa(e,t,{leading:i,maxWait:t,trailing:o})},Ta=/^\s+|\s+$/g,Oa=/^[-+]0x[0-9a-f]+$/i,Ia=/^0b[01]+$/i,Ra=/^0o[0-7]+$/i,Ma=parseInt,Pa="object"==typeof ua&&ua&&ua.Object===Object&&ua,za="object"==typeof self&&self&&self.Object===Object&&self,Aa=Pa||za||Function("return this")(),Da=Object.prototype.toString,La=Math.max,Fa=Math.min,Ba=function(){return Aa.Date.now()};function ja(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ua(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Da.call(e)}(e))return NaN;if(ja(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ja(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ta,"");var n=Ia.test(e);return n||Ra.test(e)?Ma(e.slice(2),n?2:8):Oa.test(e)?NaN:+e}var Na=function(e,t,n){var i,o,r,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,r=o;return i=o=void 0,c=t,a=e.apply(r,n)}function f(e){return c=e,s=setTimeout(g,t),u?h(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function g(){var e=Ba();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?Fa(n,r-(e-c)):n}(e))}function y(e){return s=void 0,p&&i?h(e):(i=o=void 0,a)}function b(){var e=Ba(),n=m(e);if(i=arguments,o=this,l=e,n){if(void 0===s)return f(l);if(d)return s=setTimeout(g,t),h(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Ua(t)||0,ja(n)&&(u=!!n.leading,r=(d="maxWait"in n)?La(Ua(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=o=s=void 0},b.flush=function(){return void 0===s?a:y(Ba())},b},Ha=/^\[object .+?Constructor\]$/,Wa="object"==typeof ua&&ua&&ua.Object===Object&&ua,Va="object"==typeof self&&self&&self.Object===Object&&self,Ga=Wa||Va||Function("return this")();var Ka,Xa=Array.prototype,Ya=Function.prototype,qa=Object.prototype,$a=Ga["__core-js_shared__"],Za=(Ka=/[^.]+$/.exec($a&&$a.keys&&$a.keys.IE_PROTO||""))?"Symbol(src)_1."+Ka:"",Ja=Ya.toString,Qa=qa.hasOwnProperty,es=qa.toString,ts=RegExp("^"+Ja.call(Qa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ns=Xa.splice,is=ds(Ga,"Map"),os=ds(Object,"create");function rs(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function as(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ss(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ls(e,t){for(var n,i,o=e.length;o--;)if((n=e[o][0])===(i=t)||n!=n&&i!=i)return o;return-1}function cs(e){return!(!hs(e)||(t=e,Za&&Za in t))&&(function(e){var t=hs(e)?es.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?ts:Ha).test(function(e){if(null!=e){try{return Ja.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function us(e,t){var n,i,o=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ds(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return cs(n)?n:void 0}function ps(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var a=e.apply(this,i);return n.cache=r.set(o,a),a};return n.cache=new(ps.Cache||ss),n}function hs(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}rs.prototype.clear=function(){this.__data__=os?os(null):{}},rs.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},rs.prototype.get=function(e){var t=this.__data__;if(os){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qa.call(t,e)?t[e]:void 0},rs.prototype.has=function(e){var t=this.__data__;return os?void 0!==t[e]:Qa.call(t,e)},rs.prototype.set=function(e,t){return this.__data__[e]=os&&void 0===t?"__lodash_hash_undefined__":t,this},as.prototype.clear=function(){this.__data__=[]},as.prototype.delete=function(e){var t=this.__data__,n=ls(t,e);return!(n<0)&&(n==t.length-1?t.pop():ns.call(t,n,1),!0)},as.prototype.get=function(e){var t=this.__data__,n=ls(t,e);return n<0?void 0:t[n][1]},as.prototype.has=function(e){return ls(this.__data__,e)>-1},as.prototype.set=function(e,t){var n=this.__data__,i=ls(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},ss.prototype.clear=function(){this.__data__={hash:new rs,map:new(is||as),string:new rs}},ss.prototype.delete=function(e){return us(this,e).delete(e)},ss.prototype.get=function(e){return us(this,e).get(e)},ss.prototype.has=function(e){return us(this,e).has(e)},ss.prototype.set=function(e,t){return us(this,e).set(e,t),this},ps.Cache=ss;var fs=ps,ms=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var o=i[n];e.call(t,o[1],o[0])}},t}())}(),gs="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ys="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),bs="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ys):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var vs=["top","right","bottom","left","width","height","size","weight"],_s="undefined"!=typeof MutationObserver,xs=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,o=0;function r(){n&&(n=!1,e()),i&&s()}function a(){bs(r)}function s(){var e=Date.now();if(n){if(e-o<2)return;i=!0}else n=!0,i=!1,setTimeout(a,t);o=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){gs&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){gs&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;vs.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),ws=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Ss=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ys},ks=Rs(0,0,0,0);function Es(e){return parseFloat(e)||0}function Cs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Es(e["border-"+n+"-width"])}),0)}function Ts(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return ks;var i=Ss(e).getComputedStyle(e),o=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var o=i[n],r=e["padding-"+o];t[o]=Es(r)}return t}(i),r=o.left+o.right,a=o.top+o.bottom,s=Es(i.width),l=Es(i.height);if("border-box"===i.boxSizing&&(Math.round(s+r)!==t&&(s-=Cs(i,"left","right")+r),Math.round(l+a)!==n&&(l-=Cs(i,"top","bottom")+a)),!function(e){return e===Ss(e).document.documentElement}(e)){var c=Math.round(s+r)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Rs(o.left,o.top,s,l)}var Os="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ss(e).SVGGraphicsElement}:function(e){return e instanceof Ss(e).SVGElement&&"function"==typeof e.getBBox};function Is(e){return gs?Os(e)?function(e){var t=e.getBBox();return Rs(0,0,t.width,t.height)}(e):Ts(e):ks}function Rs(e,t,n,i){return{x:e,y:t,width:n,height:i}}var Ms=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Rs(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Is(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ps=function(e,t){var n=function(e){var t=e.x,n=e.y,i=e.width,o=e.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(r.prototype);return ws(a,{x:t,y:n,width:i,height:o,top:n,right:t+i,bottom:o+n,left:t}),a}(t);ws(this,{target:e,contentRect:n})},zs=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new ms,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ss(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ms(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ss(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ps(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),As="undefined"!=typeof WeakMap?new WeakMap:new ms,Ds=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=xs.getInstance(),i=new zs(t,n,this);As.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){Ds.prototype[e]=function(){var t;return(t=As.get(this))[e].apply(t,arguments)}}));var Ls=void 0!==ys.ResizeObserver?ys.ResizeObserver:Ds,Fs=!("undefined"==typeof window||!window.document||!window.document.createElement),Bs=function(){if("undefined"==typeof document)return 0;if(la())return window.innerWidth-document.documentElement.clientWidth;var e=document.body,t=document.createElement("div"),n=t.style;n.position="fixed",n.left="0",n.visibility="hidden",n.overflowY="scroll",e.appendChild(t);var i=t.getBoundingClientRect().right;return e.removeChild(t),i},js=function(){function e(t,n){var i=this;this.minScrollbarWidth=20,this.initDOM=function(){if(Array.prototype.filter.call(i.el.children,(function(e){return e.classList.contains(i.classNames.wrapper)})).length)i.wrapperEl=i.el.querySelector("."+i.classNames.wrapper),i.contentWrapperEl=i.el.querySelector("."+i.classNames.contentWrapper),i.offsetEl=i.el.querySelector("."+i.classNames.offset),i.maskEl=i.el.querySelector("."+i.classNames.mask),i.contentEl=i.el.querySelector("."+i.classNames.contentEl),i.placeholderEl=i.el.querySelector("."+i.classNames.placeholder),i.heightAutoObserverWrapperEl=i.el.querySelector("."+i.classNames.heightAutoObserverWrapperEl),i.heightAutoObserverEl=i.el.querySelector("."+i.classNames.heightAutoObserverEl),i.axis.x.track.el=i.el.querySelector("."+i.classNames.track+"."+i.classNames.horizontal),i.axis.y.track.el=i.el.querySelector("."+i.classNames.track+"."+i.classNames.vertical);else{for(i.wrapperEl=document.createElement("div"),i.contentWrapperEl=document.createElement("div"),i.offsetEl=document.createElement("div"),i.maskEl=document.createElement("div"),i.contentEl=document.createElement("div"),i.placeholderEl=document.createElement("div"),i.heightAutoObserverWrapperEl=document.createElement("div"),i.heightAutoObserverEl=document.createElement("div"),i.wrapperEl.classList.add(i.classNames.wrapper),i.contentWrapperEl.classList.add(i.classNames.contentWrapper),i.offsetEl.classList.add(i.classNames.offset),i.maskEl.classList.add(i.classNames.mask),i.contentEl.classList.add(i.classNames.contentEl),i.placeholderEl.classList.add(i.classNames.placeholder),i.heightAutoObserverWrapperEl.classList.add(i.classNames.heightAutoObserverWrapperEl),i.heightAutoObserverEl.classList.add(i.classNames.heightAutoObserverEl);i.el.firstChild;)i.contentEl.appendChild(i.el.firstChild);i.contentWrapperEl.appendChild(i.contentEl),i.offsetEl.appendChild(i.contentWrapperEl),i.maskEl.appendChild(i.offsetEl),i.heightAutoObserverWrapperEl.appendChild(i.heightAutoObserverEl),i.wrapperEl.appendChild(i.heightAutoObserverWrapperEl),i.wrapperEl.appendChild(i.maskEl),i.wrapperEl.appendChild(i.placeholderEl),i.el.appendChild(i.wrapperEl)}if(!i.axis.x.track.el||!i.axis.y.track.el){var e=document.createElement("div"),t=document.createElement("div");e.classList.add(i.classNames.track),t.classList.add(i.classNames.scrollbar),e.appendChild(t),i.axis.x.track.el=e.cloneNode(!0),i.axis.x.track.el.classList.add(i.classNames.horizontal),i.axis.y.track.el=e.cloneNode(!0),i.axis.y.track.el.classList.add(i.classNames.vertical),i.el.appendChild(i.axis.x.track.el),i.el.appendChild(i.axis.y.track.el)}i.axis.x.scrollbar.el=i.axis.x.track.el.querySelector("."+i.classNames.scrollbar),i.axis.y.scrollbar.el=i.axis.y.track.el.querySelector("."+i.classNames.scrollbar),i.options.autoHide||(i.axis.x.scrollbar.el.classList.add(i.classNames.visible),i.axis.y.scrollbar.el.classList.add(i.classNames.visible)),i.el.setAttribute("data-simplebar","init")},this.initListeners=function(){i.options.autoHide&&i.el.addEventListener("mouseenter",i.onMouseEnter),["mousedown","click","dblclick","touchstart","touchend","touchmove"].forEach((function(e){i.el.addEventListener(e,i.onPointerEvent,{capture:!0,passive:!0})})),i.el.addEventListener("mousemove",i.onMouseMove),i.el.addEventListener("mouseleave",i.onMouseLeave),i.contentWrapperEl.addEventListener("scroll",i.onScroll),window.addEventListener("resize",i.onWindowResize),i.resizeObserver=new Ls(i.recalculate),i.resizeObserver.observe(i.el),i.resizeObserver.observe(i.contentEl)},this.recalculate=function(){var e=i.heightAutoObserverEl.offsetHeight<=1,t=i.heightAutoObserverEl.offsetWidth<=1;i.elStyles=window.getComputedStyle(i.el),i.isRtl="rtl"===i.elStyles.direction,i.contentEl.style.padding=i.elStyles.paddingTop+" "+i.elStyles.paddingRight+" "+i.elStyles.paddingBottom+" "+i.elStyles.paddingLeft,i.wrapperEl.style.margin="-"+i.elStyles.paddingTop+" -"+i.elStyles.paddingRight+" -"+i.elStyles.paddingBottom+" -"+i.elStyles.paddingLeft,i.contentWrapperEl.style.height=e?"auto":"100%",i.placeholderEl.style.width=t?i.contentEl.offsetWidth+"px":"auto",i.placeholderEl.style.height=i.contentEl.scrollHeight+"px",i.axis.x.isOverflowing=i.contentWrapperEl.scrollWidth>i.contentWrapperEl.offsetWidth,i.axis.y.isOverflowing=i.contentWrapperEl.scrollHeight>i.contentWrapperEl.offsetHeight,i.axis.x.isOverflowing="hidden"!==i.elStyles.overflowX&&i.axis.x.isOverflowing,i.axis.y.isOverflowing="hidden"!==i.elStyles.overflowY&&i.axis.y.isOverflowing,i.axis.x.forceVisible="x"===i.options.forceVisible||!0===i.options.forceVisible,i.axis.y.forceVisible="y"===i.options.forceVisible||!0===i.options.forceVisible,i.hideNativeScrollbar(),i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.axis.x.scrollbar.size=i.getScrollbarSize("x"),i.axis.y.scrollbar.size=i.getScrollbarSize("y"),i.axis.x.scrollbar.el.style.width=i.axis.x.scrollbar.size+"px",i.axis.y.scrollbar.el.style.height=i.axis.y.scrollbar.size+"px",i.positionScrollbar("x"),i.positionScrollbar("y"),i.toggleTrackVisibility("x"),i.toggleTrackVisibility("y")},this.getScrollbarSize=function(e){void 0===e&&(e="y");var t,n=i.scrollbarWidth?i.contentWrapperEl[i.axis[e].scrollSizeAttr]:i.contentWrapperEl[i.axis[e].scrollSizeAttr]-i.minScrollbarWidth,o=i.axis[e].track.rect[i.axis[e].sizeAttr];if(i.axis[e].isOverflowing){var r=o/n;return t=Math.max(~~(r*o),i.options.scrollbarMinSize),i.options.scrollbarMaxSize&&(t=Math.min(t,i.options.scrollbarMaxSize)),t}},this.positionScrollbar=function(t){void 0===t&&(t="y");var n=i.contentWrapperEl[i.axis[t].scrollSizeAttr],o=i.axis[t].track.rect[i.axis[t].sizeAttr],r=parseInt(i.elStyles[i.axis[t].sizeAttr],10),a=i.axis[t].scrollbar,s=i.contentWrapperEl[i.axis[t].scrollOffsetAttr],l=(s="x"===t&&i.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-s:s)/(n-r),c=~~((o-a.size)*l);c="x"===t&&i.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?c+(o-a.size):c,a.el.style.transform="x"===t?"translate3d("+c+"px, 0, 0)":"translate3d(0, "+c+"px, 0)"},this.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=i.axis[e].track.el,n=i.axis[e].scrollbar.el;i.axis[e].isOverflowing||i.axis[e].forceVisible?(t.style.visibility="visible",i.contentWrapperEl.style[i.axis[e].overflowAttr]="scroll"):(t.style.visibility="hidden",i.contentWrapperEl.style[i.axis[e].overflowAttr]="hidden"),n.style.display=i.axis[e].isOverflowing?"block":"none"},this.onScroll=function(){i.scrollXTicking||(window.requestAnimationFrame(i.scrollX),i.scrollXTicking=!0),i.scrollYTicking||(window.requestAnimationFrame(i.scrollY),i.scrollYTicking=!0)},this.scrollX=function(){i.axis.x.isOverflowing&&(i.showScrollbar("x"),i.positionScrollbar("x")),i.scrollXTicking=!1},this.scrollY=function(){i.axis.y.isOverflowing&&(i.showScrollbar("y"),i.positionScrollbar("y")),i.scrollYTicking=!1},this.onMouseEnter=function(){i.showScrollbar("x"),i.showScrollbar("y")},this.onMouseMove=function(e){i.mouseX=e.clientX,i.mouseY=e.clientY,(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseMoveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseMoveForAxis("y")},this.onMouseMoveForAxis=function(e){void 0===e&&(e="y"),i.axis[e].track.rect=i.axis[e].track.el.getBoundingClientRect(),i.axis[e].scrollbar.rect=i.axis[e].scrollbar.el.getBoundingClientRect(),i.isWithinBounds(i.axis[e].scrollbar.rect)?i.axis[e].scrollbar.el.classList.add(i.classNames.hover):i.axis[e].scrollbar.el.classList.remove(i.classNames.hover),i.isWithinBounds(i.axis[e].track.rect)?(i.showScrollbar(e),i.axis[e].track.el.classList.add(i.classNames.hover)):i.axis[e].track.el.classList.remove(i.classNames.hover)},this.onMouseLeave=function(){i.onMouseMove.cancel(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&i.onMouseLeaveForAxis("x"),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&i.onMouseLeaveForAxis("y"),i.mouseX=-1,i.mouseY=-1},this.onWindowResize=function(){i.scrollbarWidth=Bs(),i.hideNativeScrollbar()},this.hideScrollbars=function(){i.axis.x.track.rect=i.axis.x.track.el.getBoundingClientRect(),i.axis.y.track.rect=i.axis.y.track.el.getBoundingClientRect(),i.isWithinBounds(i.axis.y.track.rect)||(i.axis.y.scrollbar.el.classList.remove(i.classNames.visible),i.axis.y.isVisible=!1),i.isWithinBounds(i.axis.x.track.rect)||(i.axis.x.scrollbar.el.classList.remove(i.classNames.visible),i.axis.x.isVisible=!1)},this.onPointerEvent=function(e){var t,n;i.axis.x.scrollbar.rect=i.axis.x.scrollbar.el.getBoundingClientRect(),i.axis.y.scrollbar.rect=i.axis.y.scrollbar.el.getBoundingClientRect(),(i.axis.x.isOverflowing||i.axis.x.forceVisible)&&(n=i.isWithinBounds(i.axis.x.scrollbar.rect)),(i.axis.y.isOverflowing||i.axis.y.forceVisible)&&(t=i.isWithinBounds(i.axis.y.scrollbar.rect)),(t||n)&&(e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&(t&&i.onDragStart(e,"y"),n&&i.onDragStart(e,"x")))},this.drag=function(t){var n=i.axis[i.draggedAxis],o=n.track,r=n.scrollbar,a=o.rect[i.axis[i.draggedAxis].sizeAttr];t.preventDefault(),t.stopPropagation();var s=(("y"===i.draggedAxis?t.pageY:t.pageX)-o.rect[i.axis[i.draggedAxis].offsetAttr]-i.axis[i.draggedAxis].dragOffset)/o.rect[i.axis[i.draggedAxis].sizeAttr]*i.contentWrapperEl[i.axis[i.draggedAxis].scrollSizeAttr];"x"===i.draggedAxis&&(s=i.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?s-(a+r.size):s,s=i.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-s:s),i.contentWrapperEl[i.axis[i.draggedAxis].scrollOffsetAttr]=s},this.onEndDrag=function(e){e.preventDefault(),e.stopPropagation(),i.el.classList.remove(i.classNames.dragging),document.removeEventListener("mousemove",i.drag,!0),document.removeEventListener("mouseup",i.onEndDrag,!0),i.removePreventClickId=window.setTimeout((function(){document.removeEventListener("click",i.preventClick,!0),document.removeEventListener("dblclick",i.preventClick,!0),i.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=C({},e.defaultOptions,n),this.classNames=C({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,this.el.SimpleBar||(this.recalculate=Ca(this.recalculate,64),this.onMouseMove=Ca(this.onMouseMove,64),this.hideScrollbars=Na(this.hideScrollbars,this.options.timeout),this.onWindowResize=Na(this.onWindowResize,64,{leading:!0}),e.getRtlHelpers=fs(e.getRtlHelpers),this.init())}return e.getRtlHelpers=function(){var t=document.createElement("div");t.innerHTML='<div class="hs-dummy-scrollbar-size"><div style="height: 200% width: 200% margin: 10px 0"></div></div>';var n=t.firstElementChild;document.body.appendChild(n);var i=n.firstElementChild;n.scrollLeft=0;var o=e.getOffset(n),r=e.getOffset(i);n.scrollLeft=999;var a=e.getOffset(i);return{isRtlScrollingInverted:o.left!==r.left&&r.left-a.left!=0,isRtlScrollbarInverted:o.left!==r.left}},e.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver((function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")&&!t.SimpleBar?new e(t,e.getElOptions(t)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),(function(t){t.SimpleBar||new e(t,e.getElOptions(t))})))})),Array.prototype.forEach.call(t.removedNodes,(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")&&e.SimpleBar?e.SimpleBar.unMount():Array.prototype.forEach.call(e.querySelectorAll("[data-simplebar]"),(function(e){e.SimpleBar&&e.SimpleBar.unMount()})))}))}))})),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.scroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},e.getElOptions=function(e){return Array.prototype.reduce.call(e.attributes,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var i=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[i]=!0;break;case"false":e[i]=!1;break;case void 0:e[i]=!0;break;default:e[i]=t.value}}return e}),{})},e.removeObserver=function(){this.globalObserver.disconnect()},e.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){t.SimpleBar||new e(t,e.getElOptions(t))}))},e.getOffset=function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft)}},e.prototype.init=function(){this.el.SimpleBar=this,Fs&&(this.initDOM(),this.scrollbarWidth=Bs(),this.recalculate(),this.initListeners())},e.prototype.hideNativeScrollbar=function(){if(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,!this.scrollbarWidth){var e=this.isRtl?"paddingLeft":"paddingRight";this.contentWrapperEl.style[e]=this.axis.y.isOverflowing||this.axis.y.forceVisible?this.minScrollbarWidth+"px":0,this.contentWrapperEl.style.paddingBottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?this.minScrollbarWidth+"px":0}},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)},e.prototype.showScrollbar=function(e){void 0===e&&(e="y");var t=this.axis[e].scrollbar.el;this.axis[e].isVisible||(t.classList.add(this.classNames.visible),this.axis[e].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y");var n=this.axis[t].scrollbar.el,i="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=i-n.getBoundingClientRect()[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),document.addEventListener("mousemove",this.drag,!0),document.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(document.addEventListener("click",this.preventClick,!0),document.addEventListener("dblclick",this.preventClick,!0)):(window.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=this;this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick","touchstart","touchend","touchmove"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.prototype.unMount=function(){this.removeListeners(),this.el.SimpleBar=null},e.prototype.isChildNode=function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.defaultOptions={autoHide:!0,forceVisible:!1,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},e}();Fs&&js.initHtmlApi();var Us=function(){function e(e){var t=this;this.checkImageResize=function(){t.engine.on(g.BEGAN_IMAGE_DOWNSCALING,(function(){t.modalStore.showInfoModal("resizing")})),t.engine.on(g.IMAGE_DOWNSCALED,(function(){}))},this.onToolChange=function(e,n,i){if(void 0===n&&(n=null),void 0===i&&(i=!0),e!==n&&t.engineMediator.preview.container){if(-1!==[e,n].indexOf(E.TRANSFORM)){var o=t.canvasStore.canvasSize,r=t.configStore.measurements.basicToolControlBar.controlsBarHeight;if(e===E.TRANSFORM){t.configStore.isLayoutAdvanced||(t.canvasStore.state.canvasSize.height=o.height+r,t.resize()),t.transformToolStore.onLeave(),t.historyStore.removeTransformLocalSnapshots();var a=t.engineMediator.preview.container.getScale().x,s=t.engineMediator.output.container.getResolution(),l=t.transformToolStore.defaultImageSize;(1!==a||l.width!==s.width||l.height!==s.height)&&t.addSnapshot({transform:{outputSize:t.engineMediator.output.container.getResolution(),previewTransform:t.engineMediator.preview.container.getTransform(),outputTransform:t.engineMediator.output.container.getTransform()}},"edit",""),t.snappingStore.calculatePreviewTopLeftPosition()}else n===E.TRANSFORM&&(t.configStore.isLayoutAdvanced||(t.canvasStore.state.canvasSize.height=o.height-r,t.resize()),t.transformToolStore.onEnter(),t.transformToolStore.addSnapshot())}else t.scale.resetOffset(),t.scale.resetPosition(),t.scale.setScaleToDefault(),t.scale.scaleRender(!0);i&&t.render()}},this.resize=function(){try{t.transformToolStore.applyDefaultCrop(!1),t.canvasStore.updateCanvasDimensions();var e=Oi(t.transformToolStore.defaultCropMaskSize),n=t.activeStore.tool===E.TRANSFORM;n||t.transformToolStore.onEnter();var i=t.engineMediator.preview.container.getRotation();if(t.engineMediator.preview.updateTransform(i)){t.scale.setInitialTransform(),t.transformToolStore.setCropDefaults(),t.transformToolStore.updateCanvasControls(e),t.focusToolStore.updateCanvasControls(),t.spriteStore.updateCanvasControls();var o=t.transformToolStore.getScaleWithFlip(i);t.engineMediator.preview.container.setScale(o),n||t.transformToolStore.onLeave(),t.snappingStore.calculatePreviewTopLeftPosition(),t.render()}}catch(e){t.modalStore.showActionModal({identifier:"rendering",handlers:{buttonYes:function(){window.location.reload()}}})}},this.export=function(e){return new Promise((function(n,i){t.modalStore.showInfoModal("exporting");var o=t.activeStore.tool===E.TRANSFORM;o&&t.transformToolStore.onLeave();var r=t.configStore.config,a=void 0===e?r.export.image:C({},r.export.image,e),s=a.enableDownload;t.engineMediator.engine.export(a.exportType,a.format,a.quality).then((function(e){if(s){var i=-1!==a.format.indexOf("jpeg")?".jpeg":".png",l=r.export.filename+i;if(e.src)if(sa()&&navigator.msSaveBlob){var c=ca(e.src);navigator.msSaveBlob(c,l)}else{var u=document.createElement("a"),d=URL.createObjectURL(ca(e.src));document.body.appendChild(u),u.href=d,u.download=l,u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(d)}}t.configStore.events.onExport(e.src),n(e.src),o&&t.transformToolStore.onEnter(),t.modalStore.hideModal()})).catch((function(e){i(e),o&&t.transformToolStore.onEnter(),t.modalStore.hideModal()}))}))},this.wait=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},this.getAssetPath=function(e){return t.assetProvider.getAbsolutePathForCategory(e)},this.getPreviewSize=function(){var e=t.engine.getOutputDimensions(),n=e.width,i=e.height;return n&&i?{width:Math.floor(t.worldToPreview(t.outputToWorld(n))),height:Math.floor(t.worldToPreview(t.outputToWorld(i)))}:{height:i,width:n}},this.configStore=new vr;var n=this.configStore.saveConfig(e);if(this.engineMediator=new Ir(this),this.serializationMediator=new ra(this),this.spriteStore=new ea(this),this.scale=new Lr(this),this.filterToolStore=new Io(this),this.adjustmentsToolStore=new Eo(this),this.focusToolStore=new Lo(this),this.overlayToolStore=new Uo(this),this.frameToolStore=new Xo(this),this.brushToolStore=new qo(this),this.transformToolStore=new Ur(this),this.libraryStore=new na(this),this.modalStore=new Dr(this),this.snappingStore=new oa(this),this.activeStore=new xr(this),this.canvasStore=new zr(this),this.historyStore=new Mr(this),this.modalStore.showInfoModal("loading"),this.libraryStore.initProvider(n),this.configStore.config.displayResizeWarning&&this.checkImageResize(),this.configStore.config.filter.enablePreviewThumbnails){var i=this.configStore.config.engine;this.previewThumbnails=new Wo(C({},i,{license:this.configStore.config.license,assetProvider:this.configStore.assetProvider}))}}return Object.defineProperty(e,"defaultColors",{get:function(){return Object.keys(nt).map((function(e){var t=nt[e];return{identifier:e,color:t,colorString:tt(t)}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultBackgroundColors",{get:function(){return Object.keys(it).map((function(e){var t=it[e];return{identifier:e,color:t,colorString:tt(t)}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"devicePixelRatio",{get:function(){return window.devicePixelRatio||1},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.historyStore.isDirty()?this.modalStore.showActionModal({identifier:"discardChanges",handlers:{buttonYes:function(){t.setImage(e),t.resetToolStates()},buttonNo:function(){t.setImage(e,!0)}}}):(this.setImage(e),this.historyStore.reset()),this.libraryStore.fetchImages()},e.prototype.setImage=function(e,t){return void 0===t&&(t=!1),I(this,void 0,void 0,(function(){var n,i,o,r;return R(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),this.modalStore.showInfoModal(this.configStore.config.displayResizeWarning?"resizing":"loading"),this.scale.defaultScale=1,this.scale.resetOffset(),this.activeStore.setImage(e),[4,this.engineMediator.image.addImageToContainer()];case 1:return a.sent(),this.engineMediator.output.applyNewImageTransform(),this.engineMediator.preview.updateTransform(),[4,this.filterToolStore.setImageAndGetPreviews()];case 2:return a.sent(),this.scale.setInitialTransform(),this.transformToolStore.setCropDefaults(),this.historyStore.addInitialSnapshot(),n=this.transformToolStore.rotateFlipState,i=n.flipHorizontally,o=n.flipVertically,this.outputContainer.setData({flipVertically:o,flipHorizontally:i}),t?(this.focusToolStore.updateCanvasControls(),this.spriteStore.updateCanvasControls(),this.transformToolStore.resetCrop(),this.transformToolStore.applyDefaultCrop(),this.transformToolStore.saveTransformsBasedOnFlip(),this.transformToolStore.onEnter(),this.transformToolStore.setRotation(this.transformToolStore.rotationInDegrees),this.transformToolStore.onLeave()):this.transformToolStore.saveTransforms(),this.snappingStore.calculatePreviewTopLeftPosition(),[4,this.renderPromise()];case 3:return a.sent(),this.activeStore.tool||this.onReady(),this.configStore.config.filter.enablePreviewThumbnails||this.modalStore.hideModal(),[3,5];case 4:return r=a.sent(),this.modalStore.hideModal(),this.modalStore.showActionModal({identifier:r.identifier?r.identifier:"rendering",error:r,handlers:{buttonYes:function(){window.location.reload()}}}),[3,5];case 5:return[2]}}))}))},e.prototype.serialize=function(e){var t=(void 0===e?{image:!0}:e).image;return this.serializationMediator.serialize({image:t})},e.prototype.deserialize=function(e){return this.serializationMediator.deserialize(e)},e.prototype.close=function(){var e=this;this.historyStore.isDirty()&&this.configStore.config.displayCloseWarning?this.modalStore.showActionModal({identifier:"unsavedChanges",handlers:{buttonYes:function(){e.configStore.events.onClose()}}}):this.configStore.events.onClose()},e.prototype.clickableCanvas=function(e){return I(this,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return e?[4,new Promise((function(e){return setTimeout(e,0)}))]:[3,2];case 1:return t.sent(),this.canvasStore.enableCanvasClick(),[3,3];case 2:this.canvasStore.disableCanvasClick(),t.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"shortestOutputSide",{get:function(){var e=this.outputContainer.getBounds();return Math.min(e.width,e.height)},enumerable:!0,configurable:!0}),e.prototype.onReady=function(){return I(this,void 0,void 0,(function(){var e,t,n,i,o,r;return R(this,(function(a){return e=this.configStore.config,t=e.layout,n=e.forceCrop,"advanced"===t&&this.activeStore.selectTool(this.configStore.defaultTool),n&&(i=this.transformToolStore.localOutputImageSize,o=i.width/i.height,-1!==(r=this.transformToolStore.entityManager.items.map((function(e){return"*"===e.ratio?e.ratio:e.ratio?e.ratio.toFixed(2):(e.dimensions.x/e.dimensions.y).toFixed(2)}))).indexOf("*")?console.error('ForceCrop will not work if "*" is one of the ratios'):-1===r.indexOf(o.toFixed(2))&&this.activeStore.selectTool(E.TRANSFORM)),this.configStore.events.onEditorReady(),[2]}))}))},e.prototype.addSnapshot=function(e,t,n){this.historyStore.addSnapshot(e,t,n)},e.prototype.addLocalTransformSnapshot=function(e,t,n){void 0===n&&(n="edit"),this.historyStore.addSnapshot({localTransform:e},n,t)},e.prototype.resetToolStates=function(){this.filterToolStore.pureReset(),this.focusToolStore.pureReset(),this.adjustmentsToolStore.pureReset(),this.overlayToolStore.pureReset(),this.frameToolStore.pureReset(),this.brushToolStore.pureReset(),this.spriteStore.pureReset(),this.transformToolStore.pureReset(),this.historyStore.reset(),this.render()},Object.defineProperty(e.prototype,"assetProvider",{get:function(){return this.configStore.assetProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engine",{get:function(){return this.engineMediator.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderHelper",{get:function(){return this.engineMediator.orderHelper},enumerable:!0,configurable:!0}),e.prototype.render=function(){return I(this,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,this.renderPromise()];case 1:return e.sent(),[2]}}))}))},e.prototype.renderPromise=function(){return this.engineMediator.render(this.engineMediator.preview.container)},e.prototype.previewToWorld=function(e,t){return we(e),this.engineMediator.previewSpaceToWorldSpace(e,t)},e.prototype.worldToPreview=function(e){return we(e),this.engineMediator.worldSpaceToPreviewSpace(e)},e.prototype.outputToWorld=function(e){return we(e),this.engineMediator.outputSpaceToWorldSpace(e)},e.prototype.previewToOutput=function(e){return we(e),this.engineMediator.previewSpaceToOutputSpace(e)},e.prototype.applyFlipToPreview=function(e){return this.engineMediator.previewSpaceToFlippedPreviewSpace(e)},Object.defineProperty(e.prototype,"outputContainer",{get:function(){return this.engineMediator.output.container},enumerable:!0,configurable:!0}),O([hi],e.prototype,"resize",void 0),O([hi],e.prototype,"export",void 0),O([hi],e.prototype,"clickableCanvas",null),e}(),Ns=function(){function e(e){var t=this;this.state=un.map(Ho),this.customStickerIds=[],this.activeTintColorId=un.box("white"),this.changeOpacity=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{opacity:e});var i=t.editor.spriteStore.getContainerProperties(t.id);n.opacity=i.opacity,t.state.set(t.id,n)}}},this.changeTintColor=function(e,n){if(t.id){var i=t.state.get(t.id);if(i){var o=t.entityManager.items.find((function(e){return e.identifier===t.identifier})).tintMode;t.editor.spriteStore.setContainerProperties(t.id,{tintColor:e,tintMode:o});var r=t.editor.spriteStore.getContainerProperties(t.id);i.tintColor=r.tintColor,t.activeTintColorId.set(n),i.tintMode=r.tintMode||No.tintMode,t.state.set(t.id,i)}}},this.tintColorSnapshot=function(){t.addSnapshot("edit",t.locale.history.color)},this.editor=e,this.selectedCategory="identity";var n=this.config,i=this.editor.assetProvider.getAssets("sticker");this.entityManager=new ko(i,C({},n,{categoryKey:"thumbnailURI",categoryDynamicKey:"thumbnail",itemKey:"stickerURI",itemDynamicKey:"sticker",locale:C({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("sticker")}))}return Object.defineProperty(e,"defaultColors",{get:function(){return Us.defaultColors},enumerable:!0,configurable:!0}),e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.doesStickerAssetExist=function(e){return-1!==this.entityManager.items.findIndex((function(t){return t.identifier===e}))},e.prototype.add=function(e){var t=this.entities.find((function(t){return t.identifier===e})),n=t?t.tintMode:No.tintMode,i=t?t.resizeMode:No.resizeMode;this.editor.spriteStore.addSticker({state:{identifier:e,tintMode:n,tintColor:No.tintColor,opacity:No.opacity,tintColorId:"white",resizeMode:i}})},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id),t=this.editor.spriteStore.getDuplicateContainerFlip(this.id);this.editor.spriteStore.addSticker({state:{identifier:this.identifier,tintColor:Oi(this.tintColor),tintMode:this.tintMode,resizeMode:this.resizeMode,opacity:this.opacity,tintColorId:this.activeTintColor,flipHorizontally:t},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.flipHorizontally=function(){this.id&&this.editor.spriteStore.flipHorizontally(this.id)},e.prototype.delete=function(){if(this.id){var e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},e.prototype.updateStateFromHistory=function(e,t){this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)},e.prototype.setState=function(e,t){var n=this.state.get(e);n?("opacity"in t&&(n.opacity=t.opacity),t.tintColor&&(n.tintColor=t.tintColor,t.tintColorId&&this.activeTintColorId.set(t.tintColorId)),t.tintMode&&(n.tintMode=t.tintMode),t.resizeMode&&(n.resizeMode=t.resizeMode),this.state.set(e,n)):(this.state.set(e,{identifier:t.identifier,opacity:t.opacity,tintMode:t.tintMode,resizeMode:t.resizeMode,tintColor:t.tintColor?t.tintColor:No.tintColor}),t.tintColorId&&this.activeTintColorId.set(t.tintColorId))},e.prototype.addFiles=function(e){return I(this,void 0,void 0,(function(){var t,n,i;return R(this,(function(o){switch(o.label){case 0:if(this.editor.modalStore.showInfoModal("loading"),!e.length)return[3,4];for(t=0,n=[],t=0;t<e.length;t+=1)n.push(qr(e[t],!0));o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return i=o.sent(),this.addCustomStickerAsset(i),[3,4];case 3:return o.sent(),this.editor.modalStore.hideModal(),this.editor.modalStore.showActionModal({identifier:"stickerLoading"}),[3,4];case 4:return[2]}}))}))},e.prototype.addCustomStickerAsset=function(e){return I(this,void 0,void 0,(function(){var t,n,i,o,r=this;return R(this,(function(a){switch(a.label){case 0:return t=e.map((function(e){return{sticker:e.image,thumbnailURI:e.smallImage,name:e.name,tintMode:r.customStickerTintMode,resizeMode:"keepAspect",identifier:e.id,type:e.type}})),this.customStickerIds=this.customStickerIds.concat(t.map((function(e){return{identifier:e.identifier,type:e.type}}))),n=this.locale.categories.imgly_sticker_custom,this.editor.assetProvider.addCustomStickerAsset(t,"imgly_sticker_custom",n),i=this.editor.assetProvider.getAssets("sticker"),o=this.config,this.entityManager=new ko(i,C({},o,{categoryKey:"thumbnailURI",categoryDynamicKey:"thumbnail",itemDynamicKey:"thumbnailURI",itemKey:"stickerURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("sticker")})),this.selectedCategory=No.identifier,[4,this.editor.wait()];case 1:return a.sent(),this.selectedCategory="imgly_sticker_custom",this.editor.modalStore.hideModal(),[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.history.opacity)},e.prototype.addSnapshot=function(e,t){this.currentSticker&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.pureReset=function(){this.state=un.map(Ho)},Object.defineProperty(e.prototype,"isStickerSelected",{get:function(){return this.editor.spriteStore.isSpriteSticker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeTintColor",{get:function(){return this.activeTintColorId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCustomStickerEnabled",{get:function(){return this.config.enableCustomUpload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStickerTintMode",{get:function(){return this.config.customStickerTintMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSticker",{get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e.identifier}return"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isStickerSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.currentSticker?this.currentSticker.opacity:No.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintMode",{get:function(){return this.currentSticker?this.currentSticker.tintMode:No.tintMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizeMode",{get:function(){return this.currentSticker?this.currentSticker.resizeMode:No.resizeMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintable",{get:function(){return!!this.currentSticker&&"solid"===this.currentSticker.tintMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintColor",{get:function(){return this.currentSticker?this.currentSticker.tintColor:No.tintColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[E.STICKER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[E.STICKER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.getCategories(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenCategories",{get:function(){return this.config.flattenCategories},enumerable:!0,configurable:!0}),O([un],e.prototype,"selectedCategory",void 0),O([hi],e.prototype,"selectLast",null),O([hi],e.prototype,"add",null),O([hi],e.prototype,"duplicate",null),O([hi],e.prototype,"bringToFront",null),O([hi],e.prototype,"flipHorizontally",null),O([hi],e.prototype,"delete",null),O([hi],e.prototype,"updateStateFromHistory",null),O([hi],e.prototype,"setState",null),O([hi],e.prototype,"changeOpacity",void 0),O([hi],e.prototype,"changeTintColor",void 0),O([hi],e.prototype,"addFiles",null),O([hi],e.prototype,"addCustomStickerAsset",null),O([hi],e.prototype,"toggleCategorySelection",null),O([hi],e.prototype,"pureReset",null),O([gn],e.prototype,"isStickerSelected",null),O([gn],e.prototype,"activeTintColor",null),O([gn],e.prototype,"isCustomStickerEnabled",null),O([gn],e.prototype,"customStickerTintMode",null),O([gn],e.prototype,"currentSticker",null),O([gn],e.prototype,"identifier",null),O([gn],e.prototype,"id",null),O([gn],e.prototype,"opacity",null),O([gn],e.prototype,"tintMode",null),O([gn],e.prototype,"resizeMode",null),O([gn],e.prototype,"tintable",null),O([gn],e.prototype,"tintColor",null),O([gn],e.prototype,"config",null),O([gn],e.prototype,"locale",null),O([gn],e.prototype,"localeColor",null),O([gn],e.prototype,"selectedCategoryIdentifier",null),O([gn],e.prototype,"entities",null),O([gn],e.prototype,"categories",null),O([gn],e.prototype,"flattenCategories",null),e}();document.onkeydown=function(e){13===e.keyCode&&document.activeElement&&document.activeElement.click()};var Hs=function(e){function t(t,n){var i=e.call(this)||this;return i.dispose=function(){i.container&&(a.unmountComponentAtNode(i.container),i.removeAllListeners(me.EXPORT),i.removeAllListeners(me.HISTORY_CHANGE),i.removeAllListeners(me.EDITOR_READY))},i.serialize=function(e){return i.editor.serialize(e)},i.deserialize=function(e){return i.editor.deserialize(e)},i.export=function(e){return i.editor.export(e)},i.close=function(){return i.editor.close()},i.setImage=function(e){return i.editor.setImage(e)},i.container=n,i.editor=new Us(C({},t)),i.editor.configStore.events.on(me.EXPORT,(function(e){i.emit(me.EXPORT,e)})),i.editor.configStore.events.on(me.CLOSE,(function(){i.dispose(),i.emit(me.CLOSE)})),i.editor.configStore.events.on(me.HISTORY_CHANGE,(function(){i.emit(me.HISTORY_CHANGE)})),i}return S(t,e),t}(ve),Ws=function(){function t(){this.container=null}return t.prototype.init=function(t){var n=this;return new Promise((function(i,o){n.container="string"==typeof t.container?document.querySelector(t.container):t.container,n.container?(n.editorApi=new Hs(t,n.container),a.render(e.createElement(Vs,{editor:n.editorApi.editor}),n.container),n.editorApi.editor.configStore.events.on(me.EDITOR_READY,(function(){setTimeout((function(){n.editorApi.emit(me.EDITOR_READY)}),0),i(n.editorApi)}))):o(new Error("Provide a container"))}))},t}(),Vs=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.UIComponent=null,e}return S(n,t),n.prototype.componentDidMount=function(){var e=this;this.editor=this.props.editor,this.storeProps={filterTool:this.editor.filterToolStore,focusTool:this.editor.focusToolStore,adjustmentsTool:this.editor.adjustmentsToolStore,overlayTool:this.editor.overlayToolStore,frameTool:this.editor.frameToolStore,brushTool:this.editor.brushToolStore,transformTool:this.editor.transformToolStore,scale:this.editor.scale,sprite:this.editor.spriteStore,stickerTool:this.editor.spriteStore.stickerToolStore,textTool:this.editor.spriteStore.textToolStore,textDesignTool:this.editor.spriteStore.textDesignToolStore,library:this.editor.libraryStore,modal:this.editor.modalStore,snapping:this.editor.snappingStore,config:this.editor.configStore,active:this.editor.activeStore,canvas:this.editor.canvasStore,history:this.editor.historyStore,editor:this.editor},"basic"===this.editor.configStore.config.layout?import("./index-1427f247.js").then((function(t){var n=t.BasicUI;e.UIComponent=n,e.forceUpdate()})):Promise.resolve().then((function(){return Yv})).then((function(t){var n=t.AdvancedUI;e.UIComponent=n,e.forceUpdate()}))},n.prototype.componentWillUnmount=function(){this.editor.engine.dispose(),this.editor.configStore.events.removeAllListeners(me.EXPORT),this.editor.configStore.events.removeAllListeners(me.CLOSE),this.editor.configStore.events.removeAllListeners(me.HISTORY_CHANGE),this.editor.configStore.events.removeAllListeners(me.EDITOR_READY)},n.prototype.render=function(){if(this.editor){var t=this.UIComponent;return this.storeProps&&t?e.createElement(t,{editor:this.editor,storeProps:this.storeProps}):null}return null},n}(e.Component),Gs={init:function(e){return(new Ws).init(e)}},Ks=function(t){function n(e){var n=t.call(this,e)||this;return n.ui=new ve,n.serialize=function(e){return n.editor.serialize(e)},n.deserialize=function(e){return n.editor.deserialize(e)},n.export=function(e){return n.editor.export(e)},n.close=function(){return n.editor.close()},n.setImage=function(e){return n.editor.setImage(e)},n.editor=new Us(C({},e)),n.editor.configStore.events.on(me.EXPORT,(function(e){n.ui.emit(me.EXPORT,e)})),n.editor.configStore.events.on(me.CLOSE,(function(){n.componentWillUnmount(),n.ui.emit(me.CLOSE)})),n.editor.configStore.events.on(me.HISTORY_CHANGE,(function(){n.ui.emit(me.HISTORY_CHANGE)})),n.editor.configStore.events.on(me.EDITOR_READY,(function(){n.ui.emit(me.EDITOR_READY)})),n.storeProps={filterTool:n.editor.filterToolStore,focusTool:n.editor.focusToolStore,adjustmentsTool:n.editor.adjustmentsToolStore,overlayTool:n.editor.overlayToolStore,frameTool:n.editor.frameToolStore,brushTool:n.editor.brushToolStore,transformTool:n.editor.transformToolStore,scale:n.editor.scale,sprite:n.editor.spriteStore,stickerTool:n.editor.spriteStore.stickerToolStore,textTool:n.editor.spriteStore.textToolStore,textDesignTool:n.editor.spriteStore.textDesignToolStore,library:n.editor.libraryStore,modal:n.editor.modalStore,snapping:n.editor.snappingStore,config:n.editor.configStore,active:n.editor.activeStore,canvas:n.editor.canvasStore,history:n.editor.historyStore,editor:n.editor},"basic"===n.editor.configStore.config.layout?import("./index-1427f247.js").then((function(e){var t=e.BasicUI;n.UIComponent=t,n.forceUpdate()})):Promise.resolve().then((function(){return Yv})).then((function(e){var t=e.AdvancedUI;n.UIComponent=t,n.forceUpdate()})),n}return S(n,t),n.prototype.componentWillUnmount=function(){this.ui.removeAllListeners(me.EXPORT),this.ui.removeAllListeners(me.HISTORY_CHANGE),this.ui.removeAllListeners(me.EDITOR_READY)},n.prototype.render=function(){if(this.editor){var t=this.UIComponent;return this.storeProps&&t?e.createElement(t,{editor:this.editor,storeProps:this.storeProps}):null}return null},n}(e.Component);
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function Xs(e){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ys(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qs(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $s(e,t,n){return t&&qs(e.prototype,t),n&&qs(e,n),e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&el(e,t)}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function el(e,t){return(el=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tl(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nl(e,t){return e(t={exports:{}},t.exports),t.exports}var il,ol=nl((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case r:case s:case a:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case o:return t}}}function y(e){return g(e)===d}t.typeOf=g,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Profiler=s,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===d||e===s||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||g(e)===u},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===s},t.isPortal=function(e){return g(e)===o},t.isStrictMode=function(e){return g(e)===a}}));(il=ol)&&il.__esModule&&Object.prototype.hasOwnProperty.call(il,"default")&&il.default;ol.typeOf,ol.AsyncMode,ol.ConcurrentMode,ol.ContextConsumer,ol.ContextProvider,ol.Element,ol.ForwardRef,ol.Fragment,ol.Profiler,ol.Portal,ol.StrictMode,ol.isValidElementType,ol.isAsyncMode,ol.isConcurrentMode,ol.isContextConsumer,ol.isContextProvider,ol.isElement,ol.isForwardRef,ol.isFragment,ol.isProfiler,ol.isPortal,ol.isStrictMode;var rl=nl((function(e){e.exports=ol})),al={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sl={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ll={};ll[rl.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var cl=Object.defineProperty,ul=Object.getOwnPropertyNames,dl=Object.getOwnPropertySymbols,pl=Object.getOwnPropertyDescriptor,hl=Object.getPrototypeOf,fl=Object.prototype;var ml=function e(t,n,i){if("string"!=typeof n){if(fl){var o=hl(n);o&&o!==fl&&e(t,o,i)}var r=ul(n);dl&&(r=r.concat(dl(n)));for(var a=ll[t.$$typeof]||al,s=ll[n.$$typeof]||al,l=0;l<r.length;++l){var c=r[l];if(!(sl[c]||i&&i[c]||s&&s[c]||a&&a[c])){var u=pl(n,c);try{cl(t,c,u)}catch(e){}}}return t}return t},gl=function(){function e(){Ys(this,e),this.listeners=[]}return $s(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function yl(e){function t(t,n,i,o,r,a){for(var s=arguments.length,l=new Array(s>6?s-6:0),c=6;c<s;c++)l[c-6]=arguments[c];return Sn((function(){if(o=o||"<<anonymous>>",a=a||i,null==n[i]){if(t){var s=null===n[i]?"null":"undefined";return new Error("The "+r+" `"+a+"` is marked as required in `"+o+"`, but its value is `"+s+"`.")}return null}return e.apply(void 0,[n,i,o,r,a].concat(l))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function bl(e){var t=Xs(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function vl(e,t){return yl((function(n,i,o,r,a){return Sn((function(){if(e&&bl(n[i])===t.toLowerCase())return null;var r;switch(t){case"Array":r=Zi;break;case"Object":r=po;break;case"Map":r=to;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var s=n[i];if(!r(s)){var l=function(e){var t=bl(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+l+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+c+".")}return null}))}))}function _l(e,t){return yl((function(n,i,o,r,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];return Sn((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+o+"` has invalid PropType notation.");var s=vl(e,"Array")(n,i,o);if(s instanceof Error)return s;for(var c=n[i],u=0;u<c.length;u++)if((s=t.apply(void 0,[c,u,o,r,a+"["+u+"]"].concat(l)))instanceof Error)return s;return null}))}))}vl(!1,"Array"),_l.bind(null,!1),vl(!1,"Map"),vl(!1,"Object"),vl(!0,"Array"),_l.bind(null,!0);var xl=vl(!0,"Object");var wl=0;var Sl={};function kl(e){return Sl[e]||(Sl[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(wl,")");return wl++,t}(e)),Sl[e]}var El=kl("patchMixins"),Cl=kl("patchedDefinition");function Tl(e,t){var n=e[El]=e[El]||{},i=n[t]=n[t]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}function Ol(e,t){for(var n=this,i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function Il(e,t){return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];Ol.call.apply(Ol,[this,e,t].concat(i))}}function Rl(e,t,n,i,o){var r,a=Il(o,i);return Zs(r={},Cl,!0),Zs(r,"get",(function(){return a})),Zs(r,"set",(function(o){if(this===e)a=Il(o,i);else{var r=Rl(this,t,n,i,o);Object.defineProperty(this,t,r)}})),Zs(r,"configurable",!0),Zs(r,"enumerable",n),r}var Ml={mobxStores:xl};Object.seal(Ml);var Pl={contextTypes:{get:function(){return Ml},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function zl(e,t,i){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");i&&(r+="-with-"+i);var a=function(i){function r(){var e,t;Ys(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=tl(this,(e=Qs(r)).call.apply(e,[this].concat(i)))).storeRef=function(e){t.wrappedInstance=e},t}return Js(r,n),$s(r,[{key:"render",value:function(){var n={};for(var i in this.props)this.props.hasOwnProperty(i)&&(n[i]=this.props[i]);var r=e(this.context.mobxStores||{},n,this.context)||{};for(var a in r)n[a]=r[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),o(t,n)}}]),r}();return a.displayName=r,ml(a,t),a.wrappedComponent=t,Object.defineProperties(a,Pl),a}function Al(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function Dl(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=zl(e,t);return n.isMobxInjector=!1,(n=ec(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=Al(t),function(n){return zl(e,n,t.join("-"))}}var Ll=kl("isUnmounted"),Fl=!1,Bl=!1,jl="undefined"!=typeof WeakMap?new WeakMap:void 0,Ul=new gl,Nl=kl("skipRender"),Hl=kl("isForcingUpdate"),Wl="function"==typeof t&&t((function(e,t){})).$$typeof;function Vl(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function Gl(e){if(l)try{return l(e)}catch(e){return null}return null}function Kl(e){var t=Gl(e);t&&jl&&jl.set(t,e),Ul.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var Xl=new gl;function Yl(e,t){!function(e,t){for(var n=Tl(e,t),i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];for(var a=0;a<o.length;a++){var s=o[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[Cl]){var c=e[t],u=Rl(e,t,l?l.enumerable:void 0,n,c);Object.defineProperty(e,t,u)}}(e,t,Jl[t])}function ql(e,t){if($l(e,t))return!0;if("object"!==Xs(e)||null===e||"object"!==Xs(t)||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!$l(e[n[o]],t[n[o]]))return!1;return!0}function $l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Zl(e){var t=this;function i(){var e=this;s=!1;var t=void 0,n=void 0;if(l.track((function(){Fl&&(e.__$mobRenderStart=Date.now());try{n=function(e,t){var n,i=Dn(e);try{n=t()}finally{Ln(i)}return n}(!1,a)}catch(e){t=e}Fl&&(e.__$mobRenderEnd=Date.now())})),t)throw Xl.emit(t),t;return n}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Vl(this,Nl,!1),Vl(this,Hl,!1);var a=e.bind(this),s=!1,l=new Jn("".concat(o,"#").concat(r,".render()"),(function(){if(!s&&(s=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[Ll])){var e=!0;try{Vl(t,Hl,!0),t[Nl]||n.prototype.forceUpdate.call(t),e=!1}finally{Vl(t,Hl,!1),e&&l.dispose()}}}));return l.reactComponent=this,i.$mobx=l,this.render=i,i.call(this)}var Jl={componentWillUnmount:function(){if(this.render.$mobx&&this.render.$mobx.dispose(),this[Ll]=!0,Fl){var e=Gl(this);e&&jl&&jl.delete(e),Ul.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Fl&&Kl(this)},componentDidUpdate:function(){Fl&&Kl(this)},shouldComponentUpdate:function(e,t){return this.state!==t||!ql(this.props,e)}};function Ql(e,t){var n=kl("reactProp_".concat(t,"_valueHolder")),i=kl("reactProp_".concat(t,"_atomHolder"));function o(){return this[i]||Vl(this,i,Nt("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[Hl]||ql(this[n],e)?Vl(this,n,e):(Vl(this,n,e),Vl(this,Nl,!0),o.call(this).reportChanged(),Vl(this,Nl,!1))}})}function ec(o,r){if("string"==typeof o)throw new Error("Store names should be provided as array");if(Array.isArray(o))return Bl||(Bl=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),r?Dl.apply(null,o)(ec(r)):function(e){return ec(o,e)};var a=o;if(!0===a.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),a.__proto__===i&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Wl&&a.$$typeof===Wl){var s=a.render;if("function"!=typeof s)throw new Error("render property of ForwardRef was not a function");return t((function(){var t=arguments;return e.createElement(tc,null,(function(){return s.apply(void 0,t)}))}))}if(!("function"!=typeof a||a.prototype&&a.prototype.render||a.isReactClass||n.isPrototypeOf(a))){var l,c,u=ec((c=l=function(e){function t(){return Ys(this,t),tl(this,Qs(t).apply(this,arguments))}return Js(t,n),$s(t,[{key:"render",value:function(){return a.call(this,this.props,this.context)}}]),t}(),l.displayName=a.displayName||a.name,l.contextTypes=a.contextTypes,l.propTypes=a.propTypes,l.defaultProps=a.defaultProps,c));return ml(u,a),u}if(!a)throw new Error("Please pass a valid component to 'observer'");var d=a.prototype||a;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){Yl(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==Jl.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Jl.shouldComponentUpdate}(d),a.isMobXReactObserver=!0,Ql(d,"props"),Ql(d,"state");var p=d.render;return d.render=function(){return Zl.call(this,p)},a}var tc=ec((function(t){var n=t.children,i=t.inject,o=t.render,r=n||o;if(void 0===r)return null;if(!i)return r();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=Dl(i)(r);return e.createElement(a,null)}));tc.displayName="Observer";var nc=function(e,t,n,i,o){var r="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[r]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[r]?new Error("Invalid prop `"+o+"` of type `"+Xs(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function ic(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function oc(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function rc(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}tc.propTypes={render:nc,children:nc},ic.__suppressDeprecationWarning=!0,oc.__suppressDeprecationWarning=!0,rc.__suppressDeprecationWarning=!0;var ac={children:!0,key:!0,ref:!0},sc=function(e){function t(e,n){var i;return Ys(this,t),(i=tl(this,Qs(t).call(this,e,n))).state={},lc(e,i.state),i}return Js(t,n),$s(t,[{key:"render",value:function(){return r.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return lc(this.context.mobxStores,e),lc(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(cc).length!==Object.keys(t).filter(cc).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)cc(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}();function lc(e,t){if(e)for(var n in e)cc(n)&&(t[n]=e[n])}function cc(e){return!ac[e]&&"suppressChangedStoreWarning"!==e}sc.contextTypes={mobxStores:xl},sc.childContextTypes={mobxStores:xl.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==o){var r=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+r+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=ic,t.componentWillReceiveProps=oc),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=rc;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,i)}}}(sc);kl("disposeOnUnmount");if(!n)throw new Error("mobx-react requires React to be available");if(!ci)throw new Error("mobx-react requires mobx to be available");if("function"==typeof s&&function(e){var t=e.enforceActions,n=e.computedRequiresReaction,i=e.computedConfigurable,o=e.disableErrorBoundaries,r=e.arrayBuffer,a=e.reactionScheduler,s=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Vn.pendingReactions.length||Vn.inBatch||Vn.isRunningReactions)&&yt("isolateGlobalState should be called before MobX is running any reactions"),Wn=!0,Hn&&(0==--mt().__mobxInstanceCount&&(mt().__mobxGlobals=void 0),Vn=new Nn)),void 0!==t){"boolean"!=typeof t&&"strict"!==t||_t("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:yt("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Vn.enforceActions=c,Vn.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Vn.computedRequiresReaction=!!n),void 0!==s&&(Vn.reactionRequiresObservable=!!s),void 0!==l&&(Vn.observableRequiresReaction=!!l,Vn.allowStateReads=!Vn.observableRequiresReaction),void 0!==i&&(Vn.computedConfigurable=!!i),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Vn.disableErrorBoundaries=!!o),"number"==typeof r&&qi(r),a&&ii(a)}({reactionScheduler:s}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":Xs(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var uc={spy:ci,extras:{getDebugName:fo}},dc={renderReporter:Ul,componentByNodeRegistry:jl,componentByNodeRegistery:jl,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Fl||(Fl=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(dc,uc)}var pc,hc,fc,mc,gc,yc,bc,vc,_c,xc,wc,Sc,kc,Ec=b(pc||(pc=A(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"],["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"])),(function(e){return e.theme.focusOutlineColor}),(function(e){return e.theme.focusOutlineColor})),Cc=b(hc||(hc=A(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"],["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"]))),Tc=b(fc||(fc=A(["\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n    /* Safari */\n    -webkit-appearance: none; /* stylelint-disable-line */\n    width: 0;\n    height: 0;\n  }\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n"],["\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n    /* Safari */\n    -webkit-appearance: none; /* stylelint-disable-line */\n    width: 0;\n    height: 0;\n  }\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n"]))),Oc=v(mc||(mc=A(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"],["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"]))),Ic=v(gc||(gc=A(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"],["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),Rc=v(yc||(yc=A(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"],["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"]))),Mc=b(bc||(bc=A(["\n  animation: "," 1.2s;\n"],["\n  animation: "," 1.2s;\n"])),Oc),Pc=y.button(vc||(vc=A(["\n  text-align: center;\n  /** the childeren spans are used for pressed and active state are absolutely positioned  */\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  ","\n\n  /** Presssed state styles */\n  overflow: hidden;\n  span.ripple {\n    position: absolute;\n    pointer-events: none;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.12);\n    ",";\n    width: 100px;\n    height: 100px;\n    margin-top: -50px;\n    margin-left: -50px;\n    opacity: 0;\n  }\n\n  span.disabled,\n  span.hover {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  /** Active **/\n  &.active,\n  &:active {\n    color: ",";\n  }\n\n  /** Disabled **/\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n    span.disabled {\n      background-color: ",";\n    }\n  }\n  /** Hover **/\n  &:hover,\n  &.hover {\n    span.hover {\n      background-color: ",";\n    }\n  }\n"],["\n  text-align: center;\n  /** the childeren spans are used for pressed and active state are absolutely positioned  */\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  ","\n\n  /** Presssed state styles */\n  overflow: hidden;\n  span.ripple {\n    position: absolute;\n    pointer-events: none;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.12);\n    ",";\n    width: 100px;\n    height: 100px;\n    margin-top: -50px;\n    margin-left: -50px;\n    opacity: 0;\n  }\n\n  span.disabled,\n  span.hover {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  /** Active **/\n  &.active,\n  &:active {\n    color: ",";\n  }\n\n  /** Disabled **/\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n    span.disabled {\n      background-color: ",";\n    }\n  }\n  /** Hover **/\n  &:hover,\n  &.hover {\n    span.hover {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.measurements.fontSystem.button1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button1.case}),(function(e){return e.theme.typography.fontFamily}),Ec,Mc,(function(e){return e.theme.button.activeForeground}),(function(e){return e.theme.button.outlinedInactiveOverlayColor}),(function(e){return e.theme.button.hoverOverlayColor})),zc=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={display:"none",left:0,top:0},e.timeout=null,e.onClick=function(t){var n=t.currentTarget.getBoundingClientRect(),i=t.pageX-n.left,o=t.pageY-n.top;"block"===e.state.display?e.setState({display:"none"},(function(){e.setRippleState(i,o)})):e.setRippleState(i,o),e.props.onClick(t)},e.setRippleState=function(t,n){e.setState({left:t,top:n,display:"block"}),e.timeout=setTimeout((function(){e.setState({display:"none"})}),1200)},e}return S(n,t),n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.render=function(){var t=this.props,n=t.isActive,i=t.isDisabled,o=t.ariaLabel,r=t.children,a=t.className,s=T(t,["isActive","isDisabled","ariaLabel","children","className"]),l=this.state,c=l.left,u=l.top,d=l.display;return e.createElement(Pc,C({"data-test-id":o,className:[a,n?"active":""].join(" "),disabled:i,"aria-label":o},s,{onClick:this.onClick}),r,e.createElement("span",{className:"ripple",style:{left:c,top:u,display:d}}),e.createElement("span",{className:"disabled"}),e.createElement("span",{className:"hover"}))},n.defaultProps={type:"button",isDisabled:!1,isActive:!1},n}(e.Component),Ac=y.div(xc||(xc=A(["\n  &:focus: {\n    outline: none;\n  }\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: flex;\n  }\n  ","\n"],["\n  &:focus: {\n    outline: none;\n  }\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: flex;\n  }\n  ","\n"])),(function(e){return e.hasIcon?b(_c||(_c=A(["\n          display: none;\n          @media all and (min-width: 0) and (max-width: 599px) {\n            display: flex;\n          }\n        "],["\n          display: none;\n          @media all and (min-width: 0) and (max-width: 599px) {\n            display: flex;\n          }\n        "]))):"display: flex;"})),Dc=y.div(Sc||(Sc=A(["\n  &:focus: {\n    outline: none;\n  }\n  ","\n"],["\n  &:focus: {\n    outline: none;\n  }\n  ","\n"])),(function(e){return e.hasIcon?b(wc||(wc=A(["\n          display: flex;\n          @media all and (min-width: 0) and (max-width: 599px) {\n            display: none;\n          }\n        "],["\n          display: flex;\n          @media all and (min-width: 0) and (max-width: 599px) {\n            display: none;\n          }\n        "]))):"display: flex;"})),Lc=function(t){var n=t.children,i=t.icon,o=T(t,["children","icon"]),r=e.createElement(Dc,{hasIcon:!!i},n);return e.createElement(zc,C({},o),i&&e.createElement(Ac,{hasIcon:!!i},i),n&&r)};!function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(kc||(kc={}));var Fc,Bc,jc,Uc,Nc,Hc,Wc,Vc,Gc,Kc,Xc,Yc,qc,$c,Zc,Jc,Qc,eu,tu,nu,iu,ou,ru,au,su=b(Fc||(Fc=A(["\n  animation: "," 1.2s;\n"],["\n  animation: "," 1.2s;\n"])),Oc),lu=y.button(jc||(jc=A(["\n  padding: 0;\n  cursor: pointer;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n  border-radius: ","px;\n\n  /** Pressed state styles **/\n  overflow: hidden;\n  span.ripple {\n    position: absolute;\n    pointer-events: none;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.12);\n\n    width: 100px;\n    height: 100px;\n    margin-top: -50px;\n    margin-left: -50px;\n\n    ",";\n    opacity: 0;\n  }\n\n  /** Active, Hover and Disabled state base styles **/\n  span.active,\n  span.disabled,\n  span.hover {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  /** Active **/\n  &.active {\n    border: 1px solid ",";\n    span.active {\n      background-color: ",";\n    }\n  }\n  /** Disabled **/\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n    span.disabled {\n      background-color: ",";\n    }\n  }\n  /** Hover **/\n  &:hover,\n  &.hover {\n    span.hover {\n      background-color: ",";\n    }\n  }\n  ","\n  ",";\n  animation-fill-mode: both;\n"],["\n  padding: 0;\n  cursor: pointer;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n  border-radius: ","px;\n\n  /** Pressed state styles **/\n  overflow: hidden;\n  span.ripple {\n    position: absolute;\n    pointer-events: none;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.12);\n\n    width: 100px;\n    height: 100px;\n    margin-top: -50px;\n    margin-left: -50px;\n\n    ",";\n    opacity: 0;\n  }\n\n  /** Active, Hover and Disabled state base styles **/\n  span.active,\n  span.disabled,\n  span.hover {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  /** Active **/\n  &.active {\n    border: 1px solid ",";\n    span.active {\n      background-color: ",";\n    }\n  }\n  /** Disabled **/\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n    span.disabled {\n      background-color: ",";\n    }\n  }\n  /** Hover **/\n  &:hover,\n  &.hover {\n    span.hover {\n      background-color: ",";\n    }\n  }\n  ","\n  ",";\n  animation-fill-mode: both;\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.shape.radiusMedium}),su,(function(e){return e.theme.card.activeBorderColor}),(function(e){return e.theme.card.activeOverlayColor}),(function(e){return e.theme.card.inactiveOverlayColor}),(function(e){return e.theme.card.hoverOverlayColor}),Ec,(function(){return b(Bc||(Bc=A(["\n    animation: "," 0.2s linear;\n  "],["\n    animation: "," 0.2s linear;\n  "])),Rc)})),cu=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeout=null,e.state={display:"none",left:0,top:0},e.onKeyDown=function(t){"Space"!==t.key&&"Enter"!==t.key||e.props.onClick&&e.props.onClick()},e.onClick=function(t){var n=t.currentTarget.getBoundingClientRect(),i=t.pageX-n.left,o=t.pageY-n.top;"block"===e.state.display?e.setState({display:"none"},(function(){e.setRippleState(i,o)})):e.setRippleState(i,o),e.props.onClick(t)},e.setRippleState=function(t,n){e.setState({left:t,top:n,display:"block"}),e.timeout=setTimeout((function(){e.setState({display:"none"})}),1200)},e}return S(n,t),n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.render=function(){var t=this.props,n=t.children,i=t.label,o=t.isActive,r=t.isDisabled,a=t.image,s=t.style,l=t.className,c=this.state,u=c.left,d=c.top,p=c.display,h=a?{backgroundImage:"url("+a+")"}:void 0,f={onClick:this.onClick,onKeyDown:this.onKeyDown,style:C({},h,s),className:[l,o?"active":""].join(" ")};return e.createElement(lu,C({"data-test-id":i,"aria-label":i,disabled:r},f),n,e.createElement("span",{className:"ripple",style:{left:u,top:d,display:p}}),e.createElement("span",{className:"active"}),e.createElement("span",{className:"disabled"}),e.createElement("span",{className:"hover"}))},n}(e.Component),uu=y.div(Hc||(Hc=A(["\n &&& {\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n  .label {\n    font-size: ","px;\n    left: 50%;\n    position: absolute;\n    transform: translateX(-50%);\n    top: 13px;\n    width: 100%;\n  }\n }\n"],["\n &&& {\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n  .label {\n    font-size: ","px;\n    left: 50%;\n    position: absolute;\n    transform: translateX(-50%);\n    top: 13px;\n    width: 100%;\n  }\n }\n"])),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.withBackground?b(Uc||(Uc=A(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "],["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "])),e.theme.card.labelForeground,e.theme.card.labelBackground):b(Nc||(Nc=A(["\n          color: ",";\n          height: 32px;\n        "],["\n          color: ",";\n          height: 32px;\n        "])),e.theme.card.foreground)}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.measurements.fontSystem.label.size})),du=y.div(Wc||(Wc=A(["\n  position: absolute;\n  top: 6px;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"],["\n  position: absolute;\n  top: 6px;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"])),(function(e){return e.theme.card.labelForeground}),(function(e){return e.rotation||0})),pu=y.span(Vc||(Vc=A(["\n  position: relative;\n  padding-left: 10px;\n"],["\n  position: relative;\n  padding-left: 10px;\n"]))),hu=y.div(Gc||(Gc=A(["\n  ","\n"],["\n  ","\n"])),Cc),fu=function(t){var n=t.children,i=t.className,o=t.caret,r=t.isActive,a=t.style,s=t.withBackground;if(t.hidden)return e.createElement(hu,null,n);return e.createElement(uu,{className:i,withBackground:s,style:a},e.createElement("span",{className:"label"},n,o&&e.createElement(pu,null,e.createElement(du,{"aria-hidden":!0,rotation:r?180:0}))))},mu={Focused:Ec,HiddenScrollbar:Tc,VisuallyHidden:Cc},gu={ripple:Oc,scale:Ic,slide:Rc},yu=y(Lc)(Kc||(Kc=A(["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n    margin-top: 3px;\n    margin-right: 10px;\n    &.active,\n    &:active {\n      color: ",";\n    }\n  }\n"],["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n    margin-top: 3px;\n    margin-right: 10px;\n    &.active,\n    &:active {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.button.containedPrimaryForeground}),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.button.containedPrimaryForeground})),bu=y(Lc)(Xc||(Xc=A(["\n  &&& {\n    margin-top: 3px;\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n    height: 32px;\n  }\n"],["\n  &&& {\n    margin-top: 3px;\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n    height: 32px;\n  }\n"])),(function(e){return e.theme.button.outlinedSecondaryBackground}),(function(e){return e.theme.button.outlinedSecondaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.measurements.fontSystem.button1.size})),vu=y(Lc)(Yc||(Yc=A(["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0 5px;\n    span.disabled {\n      display: none;\n    }\n    &:disabled,\n    &.disabled {\n      opacity: ",";\n    }\n  }\n"],["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0 5px;\n    span.disabled {\n      display: none;\n    }\n    &:disabled,\n    &.disabled {\n      opacity: ",";\n    }\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.theme.button.textInactiveOpacity})),_u=y(zc)(qc||(qc=A(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  font-size: ","px;\n  padding: 2px;\n"],["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  font-size: ","px;\n  padding: 2px;\n"])),(function(e){return e.theme.measurements.zIndex.button.float}),(function(e){return e.theme.measurements.fontSystem.button1.size})),xu=y.div($c||($c=A(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"],["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"])),(function(e){return e.theme.webcam.floatButton})),wu=y.div(Zc||(Zc=A(["\n  display: inline-flex;\n"],["\n  display: inline-flex;\n"]))),Su=y(Lc)(Jc||(Jc=A(["\n  &&& {\n    font-size: ","px;\n    background: ",";\n    color: ",";\n    letter-spacing: ","px;\n    text-transform: ",";\n    padding: 4px 10px;\n    position: relative;\n    height: 32px;\n    /* for safari */\n    margin: 0;\n    &:last-child:after {\n      opacity: 0;\n    }\n  }\n"],["\n  &&& {\n    font-size: ","px;\n    background: ",";\n    color: ",";\n    letter-spacing: ","px;\n    text-transform: ",";\n    padding: 4px 10px;\n    position: relative;\n    height: 32px;\n    /* for safari */\n    margin: 0;\n    &:last-child:after {\n      opacity: 0;\n    }\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case})),ku=y.div(tu||(tu=A(["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"],["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),(function(e){return e.show?b(Qc||(Qc=A(["\n          opacity: 1;\n        "],["\n          opacity: 1;\n        "]))):b(eu||(eu=A(["\n          opacity: 0;\n        "],["\n          opacity: 0;\n        "])))}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.buttonGroup}),Su,(function(e){return e.theme.canvasActionBar.separatorColor})),Eu=y.div(nu||(nu=A(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"],["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),Cu=y.canvas(iu||(iu=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Tu=y.div(au||(au=A(["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  border-bottom: 1px solid ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: ",";\n  background: ",";\n  ","\n"],["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  border-bottom: 1px solid ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: ",";\n  background: ",";\n  ","\n"])),(function(e){return e.hide?"none":"flex"}),(function(e){return e.theme.measurements.mainCanvasActionBar.height}),(function(e){return e.theme.mainCanvasActionBar.foreground}),(function(e){return e.theme.mainCanvasActionBar.borderColor}),(function(e){return e.theme.measurements.zIndex.canvas.bar}),(function(e){return e.transparentBackgound?"transparent":e.theme.mainCanvasActionBar.background}),(function(e){return e.bottom?b(ou||(ou=A(["\n          justify-content: space-around;\n          bottom: 0;\n          transform: rotate(180deg);\n        "],["\n          justify-content: space-around;\n          bottom: 0;\n          transform: rotate(180deg);\n        "]))):b(ru||(ru=A(["\n          justify-content: space-between;\n        "],["\n          justify-content: space-between;\n        "])))}));Tu.defaultProps={theme:mr};var Ou,Iu,Ru,Mu=y.div.attrs({role:"main"})(Ou||(Ou=A(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"],["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"])),(function(e){return e.theme.canvas.background}),(function(e){return e.theme.measurements.canvas.marginTop})),Pu=y.canvas(Iu||(Iu=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),zu=y.div(Ru||(Ru=A(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"],["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.measurements.zIndex.canvas.webcam.backdrop}),(function(e){return e.theme.webcam.background}));zu.defaultProps={theme:mr};var Au,Du,Lu=y.video(Au||(Au=A(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),Fu=y.div.attrs((function(e){var t=e.radius;return{style:{height:2*t+"px",width:2*t+"px"}}}))(Du||(Du=A(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"],["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"])),(function(e){return e.theme.canvas.controlsOutline}));Fu.defaultProps={theme:mr};var Bu,ju=y.div(Bu||(Bu=A(["\n  position: absolute;\n  color: ",";\n"],["\n  position: absolute;\n  color: ",";\n"])),(function(e){return e.theme.canvas.controlsOutline}));ju.defaultProps={theme:mr};var Uu,Nu=y.div(Uu||(Uu=A(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.zIndex.canvas.knob}),(function(e){return e.theme.canvas.controlsColor}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size/4}),(function(e){return e.theme.measurements.canvasControls.knob.size/4}));Nu.defaultProps={theme:mr};var Hu,Wu,Vu,Gu,Ku,Xu,Yu,qu,$u,Zu,Ju,Qu,ed,td,nd,id,od,rd,ad,sd,ld,cd,ud=y.div((function(e){var t=e.theme.measurements.canvasControls.corner.touchable,n=t.desktop,i=t.mobile,o=n/4,r=i/2;return b(ed||(ed=A(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"])),n,n,(function(e){return"top"===e.vertical?b(Hu||(Hu=A(["\n          top: 0px;\n        "],["\n          top: 0px;\n        "]))):b(Wu||(Wu=A(["\n          bottom: 0px;\n        "],["\n          bottom: 0px;\n        "])))}),(function(e){return"left"===e.horizontal?b(Vu||(Vu=A(["\n          left: 0px;\n        "],["\n          left: 0px;\n        "]))):b(Gu||(Gu=A(["\n          right: 0px;\n        "],["\n          right: 0px;\n        "])))}),(function(e){return"top"===e.vertical?b(Ku||(Ku=A(["\n          margin-top: -","px;\n        "],["\n          margin-top: -","px;\n        "])),o):b(Xu||(Xu=A(["\n          margin-bottom: -","px;\n        "],["\n          margin-bottom: -","px;\n        "])),o)}),(function(e){return"left"===e.horizontal?b(Yu||(Yu=A(["\n          margin-left: -","px;\n        "],["\n          margin-left: -","px;\n        "])),o):b(qu||(qu=A(["\n          margin-right: -","px;\n        "],["\n          margin-right: -","px;\n        "])),o)}),i,i,(function(e){return"top"===e.vertical?b($u||($u=A(["\n            margin-top: -","px;\n          "],["\n            margin-top: -","px;\n          "])),r):b(Zu||(Zu=A(["\n            margin-bottom: -","px;\n          "],["\n            margin-bottom: -","px;\n          "])),r)}),(function(e){return"left"===e.horizontal?b(Ju||(Ju=A(["\n            margin-left: -","px;\n          "],["\n            margin-left: -","px;\n          "])),r):b(Qu||(Qu=A(["\n            margin-right: -","px;\n          "],["\n            margin-right: -","px;\n          "])),r)}))})),dd=y(ud)((function(e){var t="right"===e.horizontal?e.borderWidth:0,n="bottom"===e.vertical?e.borderWidth:0,i="left"===e.horizontal?e.borderWidth:0,o=("top"===e.vertical?e.borderWidth:0)+"px "+t+"px "+n+"px "+i+"px",r="left"===e.horizontal&&"bottom"===e.vertical||"right"===e.horizontal&&"top"===e.vertical?"nesw-resize":"nwse-resize",a=e.theme.measurements.canvasControls.corner.touchable.desktop/4-e.borderWidth,s=e.theme.measurements.canvasControls.corner.touchable.mobile/4+e.borderWidth;return b(cd||(cd=A(['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: ",";\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n      ","\n    }\n  }"],['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: ",";\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n      ","\n    }\n  }"])),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor}),o,"top"===e.vertical?b(td||(td=A(["\n            top: ","px;\n          "],["\n            top: ","px;\n          "])),a):b(nd||(nd=A(["\n            bottom: ","px;\n          "],["\n            bottom: ","px;\n          "])),a),"left"===e.horizontal?b(id||(id=A(["\n            left: ","px;\n          "],["\n            left: ","px;\n          "])),a):b(od||(od=A(["\n            right: ","px;\n          "],["\n            right: ","px;\n          "])),a),r,"top"===e.vertical?b(rd||(rd=A(["\n              margin-top: ","px;\n            "],["\n              margin-top: ","px;\n            "])),s):b(ad||(ad=A(["\n              margin-bottom: ","px;\n            "],["\n              margin-bottom: ","px;\n            "])),s),"left"===e.horizontal?b(sd||(sd=A(["\n              margin-left: ","px;\n            "],["\n              margin-left: ","px;\n            "])),s):b(ld||(ld=A(["\n              margin-right: ","px;\n            "],["\n              margin-right: ","px;\n            "])),s))}));dd.defaultProps={theme:mr};var pd,hd=y.div(pd||(pd=A(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"],["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.measurements.canvasControls.width.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor}));hd.defaultProps={theme:mr};var fd,md=y.div.attrs((function(e){return{style:{height:e.height+"px",width:e.width+"px"}}}))(fd||(fd=A(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2), inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"],["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2), inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"])),(function(e){return e.theme.canvas.controlsOutline}));md.defaultProps={theme:mr};var gd,yd=y.div.attrs((function(e){var t=e.height,n=e.width,i=e.theme;return{style:{height:t+i.measurements.canvasControls.sprite.controlPadding+"px",width:n+i.measurements.canvasControls.sprite.controlPadding+"px"}}}))(gd||(gd=A(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"],["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.canvas.controlsColor}));yd.defaultProps={theme:mr};var bd,vd,_d,xd,wd,Sd,kd,Ed,Cd,Td,Od,Id=y.div.attrs((function(e){return{style:{left:e.x+"px"}}}))(bd||(bd=A(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"],["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.canvas.controlsOutline})),Rd=y.div(vd||(vd=A(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]))),Md=y.div.attrs({tabIndex:0})(_d||(_d=A(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),(function(e){return e.height}),(function(e){return e.width})),Pd=(void 0===xd&&(xd=aa()),-1!==xd.indexOf("Safari")&&-1===xd.indexOf("Chrome")?b(wd||(wd=A(["\n      transition: unset;\n    "],["\n      transition: unset;\n    "]))):b(Sd||(Sd=A(["\n      transition: all 0.4s ease-in-out;\n    "],["\n      transition: all 0.4s ease-in-out;\n    "])))),zd=y.div(kd||(kd=A(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"],["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(function(e){return e.theme.canvas.cropBackdrop}),(function(e){return e.theme.measurements.zIndex.canvas.crop.backdrop}),Pd),Ad=y.div.attrs({"data-test-id":"CropMask"})(Ed||(Ed=A(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"],["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"])),(function(e){return e.theme.canvas.controlsOutline}),Pd),Dd=y.div(Cd||(Cd=A(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"],["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(function(e){return e.theme.canvas.controlsOutline}),(function(e){return e.theme.measurements.zIndex.canvas.crop.grid}),Pd),Ld=y(dd)(Td||(Td=A(["\n  z-index: ",";\n  ",";\n"],["\n  z-index: ",";\n  ",";\n"])),(function(e){return e.theme.measurements.zIndex.canvas.controls}),Pd),Fd={Index:Cu,Area:Eu,Bar:{Index:Tu,ButtonGroup:wu},Button:{ContainedPrimary:yu,OutlinedSecondary:bu,TextSecondary:vu,Float:function(t){return e.createElement(_u,C({},t),e.createElement(xu,null))}},Container:Mu,Element:Pu,Wrapper:zu,Webcam:Lu,Controls:{Knob:Nu,Circle:Fu,Corner:dd,Line:ju,Area:md,Sprite:yd,RotateHandle:Id,Container:Rd,Wrapper:Md,SpriteActionsWrapper:ku,SpriteActionButton:Su,Width:hd},Crop:{Mask:Ad,GridLine:Dd,Backdrop:zd,Control:Ld}},Bd=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.init=function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){e.video.srcObject=t})).catch((function(t){e.props.modal.showActionModal({identifier:"webcamUnavailable",error:t,handlers:e.modalHandler})})):e.props.modal.showActionModal({identifier:"webcamUnavailable",error:"Webcam not supported",handlers:e.modalHandler})},e.stop=function(){e.video.srcObject.getTracks().forEach((function(e){e.stop()})),e.video.srcObject=null,e.props.active.selectWebcam(!1)},e.capture=function(){e.canvas.width=e.video.videoWidth,e.canvas.height=e.video.videoHeight,e.canvas.getContext("2d").drawImage(e.video,0,0),e.props.active.newImage(e.canvas.toDataURL("image/webp"))},e}return S(n,t),n.prototype.componentDidMount=function(){var e=this;this.canvas=document.createElement("canvas"),this.video=document.getElementById("video"),this.modalHandler={buttonYes:function(){e.props.active.selectWebcam(!1)}},this.init()},n.prototype.render=function(){var t=this.props.editor,n=t.getPreviewSize(),i=n.height,o=n.width,r=t.configStore.measurements,a=this.props.canvas.canvasSize.height,s=(a-i)/2,l=s<24+r.buttons.float.size?a-48-r.buttons.float.size/2:a-s+24,c=this.props.active.webcamLabel;return e.createElement(Fd.Wrapper,null,e.createElement(Fd.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},e.createElement(Fd.Bar.ButtonGroup,null,e.createElement(Fd.Button.OutlinedSecondary,{ariaLabel:c,onClick:this.stop},c))),e.createElement(Fd.Webcam,{style:{height:i,width:o},autoPlay:!0,id:"video"}),e.createElement(Fd.Button.Float,{ariaLabel:"Click and Save",style:{top:l},onClick:this.capture}))},n}(e.Component),jd=Dl("active","canvas","modal","editor")(ec(Bd)),Ud=function(t){function n(n){var i=t.call(this,n)||this;return i.wrapperElementRef=null,i.timeout=null,i.updateDimensions=function(e){void 0===e&&(e=!0),e?(clearTimeout(i.timeout),i.timeout=setTimeout((function(){i.update(e)}),100)):i.update(e)},i.update=function(e){void 0===e&&(e=!0);var t=i.wrapperElementRef.current;i.props.canvas.saveDimensions({width:t&&t.clientWidth||0,height:t&&t.clientHeight||0,render:e})},i.wrapperElementRef=e.createRef(),i}return S(n,t),n.prototype.componentDidMount=function(){var e=this;this.updateDimensions(!1),window.addEventListener("resize",(function(){return e.updateDimensions(!0)}))},n.prototype.componentWillUnmount=function(){var e=this;window.removeEventListener("resize",(function(){return e.updateDimensions(!0)})),this.timeout&&clearTimeout(this.timeout)},n.prototype.render=function(){return e.createElement(Fd.Container,{id:"CanvasContainer",ref:this.wrapperElementRef},this.props.children)},n}(n),Nd=Dl("canvas")(ec(Ud)),Hd=y.div(Od||(Od=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    font-size: inherit;\n    line-height: normal;\n    color: inherit;\n  }\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    font-size: inherit;\n    line-height: normal;\n    color: inherit;\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.foreground}),(function(e){return e.theme.typography.fontFamily}));Hd.defaultProps={theme:mr};var Wd,Vd,Gd,Kd,Xd,Yd,qd,$d,Zd,Jd=v(Wd||(Wd=A(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"],["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"]))),Qd=b(Vd||(Vd=A(["\n  animation: "," 0.5s, fadeout 0.5s 2.5s;\n"],["\n  animation: "," 0.5s, fadeout 0.5s 2.5s;\n"])),Jd),ep=y.div(Gd||(Gd=A(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n  &.show {\n    visibility: visible;\n    ",";\n  }\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n  &.show {\n    visibility: visible;\n    ",";\n  }\n"])),(function(e){return e.position.y}),(function(e){return e.position.x}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.toast}),Qd),tp=y.button.attrs({type:"button"})(Kd||(Kd=A(["\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: 1px;\n  padding: 0;\n  cursor: pointer;\n  border-radius: ","px;\n  &:hover,\n  &.hover {\n    opacity: 0.7;\n  }\n  ","\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"],["\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: 1px;\n  padding: 0;\n  cursor: pointer;\n  border-radius: ","px;\n  &:hover,\n  &.hover {\n    opacity: 0.7;\n  }\n  ","\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"])),(function(e){return e.theme.measurements.color.colorItem.button.size}),(function(e){return e.theme.measurements.color.colorItem.button.size}),(function(e){return e.theme.shape.radiusSmall}),mu.Focused,(function(e){return e.theme.selectColor.inactiveOpacity})),np=b(Xd||(Xd=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  box-sizing: border-box;\n  pointer-events: none;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  box-sizing: border-box;\n  pointer-events: none;\n"])),(function(e){return e.theme.measurements.color.colorItem.button.size}),(function(e){return e.theme.measurements.color.colorItem.button.size})),ip=y.div.attrs((function(e){return{style:{background:e.backgroundColor}}}))(Yd||(Yd=A(["\n  ","\n  border-radius: ","px;\n  border: 2px solid transparent;\n  transition: border-color 300ms ease-in-out;\n  &.active {\n    border-color: ",";\n  }\n"],["\n  ","\n  border-radius: ","px;\n  border: 2px solid transparent;\n  transition: border-color 300ms ease-in-out;\n  &.active {\n    border-color: ",";\n  }\n"])),np,(function(e){return e.theme.shape.radiusSmall}),(function(e){return e.theme.selectColor.activeBorderColor})),op=y.div(qd||(qd=A(["\n  ","\n  border-radius: ","px;\n  background-image: url(",");\n"],["\n  ","\n  border-radius: ","px;\n  background-image: url(",");\n"])),np,(function(e){return e.theme.shape.radiusSmall+1}),(function(e){return e.url})),rp=y.div($d||($d=A(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  height: ","px;\n  width: ","px;\n  content: ' ';\n  pointer-events: none;\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  height: ","px;\n  width: ","px;\n  content: ' ';\n  pointer-events: none;\n"])),(function(e){return e.theme.measurements.color.colorItem.button.size}),(function(e){return e.theme.measurements.color.colorItem.button.size})),ap=y.span(Zd||(Zd=A(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"],["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"]))),sp=Dl("config")(ec((function(t){var n=t.isActive,i=t.onClick,o=t.color,r=t.label,a=t.isDisabled,s=t.config.assetProvider.getAbsolutePath("controls/tiled-background.png");return e.createElement(tp,{className:n?"active":"",disabled:a,onClick:function(e){i(e)},onKeyDown:function(e){"Space"!==e.code&&"Enter"!==e.code||i(e)},"aria-label":r},e.createElement(op,{url:s}),e.createElement(ip,{className:n?"active":"",backgroundColor:o}),n&&e.createElement(rp,null,e.createElement(ap,null),e.createElement(ap,null),e.createElement(ap,null)))})));ip.defaultProps={theme:mr},op.defaultProps={theme:mr},tp.defaultProps={theme:mr};var lp,cp,up=b(lp||(lp=A(["\n  opacity: 1;\n  visibility: visible;\n  display: block;\n"],["\n  opacity: 1;\n  visibility: visible;\n  display: block;\n"]))),dp=y.div(cp||(cp=A(["\n  opacity: 0;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  transition: opacity 0.25s ease;\n  display: none;\n  height: 100%;\n  width: 100%;\n  ","\n"],["\n  opacity: 0;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  transition: opacity 0.25s ease;\n  display: none;\n  height: 100%;\n  width: 100%;\n  ","\n"])),(function(e){return e.theme.measurements.zIndex.modal.backdrop}),(function(e){return e.theme.modal.backdrop}),(function(e){return e.show&&up}));dp.defaultProps={theme:mr};var pp,hp,fp,mp=y.div(pp||(pp=A(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]))),gp=y.div.attrs((function(e){return{role:"dialog","aria-hidden":!1,"aria-labelledby":e.heading}}))(hp||(hp=A(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: ",";\n  left: ",";\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n"],["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: ",";\n  left: ",";\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n"])),(function(e){return e.y}),(function(e){return e.x}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.shape.radiusLarge}),(function(e){return e.theme.modal.background}),(function(e){return e.theme.modal.bodyForeground})),yp=y.div(fp||(fp=A(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  overflow: hidden;\n  width: inherit;\n  padding: 11px 20px;\n  box-sizing: border-box;\n"],["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: row;\n  overflow: hidden;\n  width: inherit;\n  padding: 11px 20px;\n  box-sizing: border-box;\n"]))),bp=function(t){var n=t.show,i=t.height,o=t.width,r=t.position,a=t.children,s=t.footer,l=t.heading,c=r?{x:"calc(50% + "+r.x+"px)",y:"calc(50% + "+r.y+"px)"}:{x:"50%",y:"50%"},u=c.x,d=c.y;return e.createElement(dp,{show:n},e.createElement(mp,null,e.createElement(gp,{heading:l,x:u,y:d,height:i,width:o},e.createElement(yp,null,a),s())))};gp.defaultProps={theme:mr,className:""};var vp,_p,xp,wp,Sp,kp,Ep,Cp=v(vp||(vp=A(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"],["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Tp=b(_p||(_p=A(["\n  animation: "," 2s infinite ease 1.5s;\n"],["\n  animation: "," 2s infinite ease 1.5s;\n"])),Cp),Op=b(xp||(xp=A(["\n  animation: "," 2s infinite ease;\n"],["\n  animation: "," 2s infinite ease;\n"])),Cp),Ip=y.div(wp||(wp=A(["\n  margin-left: 30px;\n  h3 {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n  p {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n"],["\n  margin-left: 30px;\n  h3 {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n  p {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.modal.headerForeground}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.modal.bodyForeground})),Rp=y.div(Sp||(Sp=A(["\n  height: 4px;\n  padding: 0;\n  margin: 0;\n  background: rgba(54, 90, 252, 0.5);\n  &:after {\n    position: absolute;\n    bottom: 0px;\n    content: '';\n    width: ","%;\n    border-bottom: 4px solid ",";\n  }\n"],["\n  height: 4px;\n  padding: 0;\n  margin: 0;\n  background: rgba(54, 90, 252, 0.5);\n  &:after {\n    position: absolute;\n    bottom: 0px;\n    content: '';\n    width: ","%;\n    border-bottom: 4px solid ",";\n  }\n"])),(function(e){return e.percentage}),(function(e){return e.theme.primary})),Mp=y.div(kp||(kp=A(["\n  color: ",";\n  margin: 12px 0;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  box-shadow: inset 0 0 0 2px;\n  transform: translateZ(0);\n  border-radius: 50%;\n  &:before,\n  &:after {\n    border-radius: 50%;\n    position: absolute;\n    content: '';\n  }\n  &:before {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 45px 0 0 45px;\n    top: -2.5px;\n    left: -2.5px;\n    transform-origin: 25px 25px;\n    ",";\n  }\n  &:after {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 0 45px 45px 0;\n    top: -2.5px;\n    left: 25px;\n    transform-origin: 0px 25px;\n    ",";\n  }\n"],["\n  color: ",";\n  margin: 12px 0;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  box-shadow: inset 0 0 0 2px;\n  transform: translateZ(0);\n  border-radius: 50%;\n  &:before,\n  &:after {\n    border-radius: 50%;\n    position: absolute;\n    content: '';\n  }\n  &:before {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 45px 0 0 45px;\n    top: -2.5px;\n    left: -2.5px;\n    transform-origin: 25px 25px;\n    ",";\n  }\n  &:after {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 0 45px 45px 0;\n    top: -2.5px;\n    left: 25px;\n    transform-origin: 0px 25px;\n    ",";\n  }\n"])),(function(e){return e.theme.primary}),(function(e){return e.theme.modal.background}),Tp,(function(e){return e.theme.modal.background}),Op),Pp=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.footer=function(){return n.props.progress?e.createElement(Rp,{percentage:n.props.percentage||0}):null},n}return S(n,t),n.prototype.render=function(){var t=this.props,n=t.show,i=t.heading,o=t.body,r=t.position;return e.createElement(bp,{show:n,position:r,height:"90px",width:"350px",footer:this.footer},e.createElement(Mp,null),e.createElement(Ip,null,e.createElement("h3",null,i),e.createElement("p",null,o)))},n}(e.PureComponent),zp=y.div(Ep||(Ep=A(["\n  padding-bottom: ","px;\n"],["\n  padding-bottom: ","px;\n"])),(function(e){return 8*(e.count||1)}));zp.defaultProps={count:1};var Ap,Dp,Lp=y.label(Ap||(Ap=A(["\n  ","\n"],["\n  ","\n"])),mu.VisuallyHidden),Fp=y.label(Dp||(Dp=A(["\n  &&& {\n    display: block;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0;\n    &.disabled {\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    }\n  }\n"],["\n  &&& {\n    display: block;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0;\n    &.disabled {\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    }\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),(function(e){return e.theme.toolControlBar.inputLabelInactiveOpacity})),Bp=function(t){var n=t.name,i=t.show,o=t.styles,r=t.isDisabled,a=t.className,s=i?Fp:Lp,l=r?"label disabled":"label";return e.createElement(s,{style:o||{},className:a+" "+l,htmlFor:n?n.replace(" ","-"):""},n)};Bp.defaultProps={show:!0},Fp.defaultProps={theme:mr};var jp,Up,Np,Hp=b(jp||(jp=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  height: 26px;\n  color: ",";\n  padding-bottom: 7px;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n  &.disabled, &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    border-color: ",";\n  }\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  height: 26px;\n  color: ",";\n  padding-bottom: 7px;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n  &.disabled, &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    border-color: ",";\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.textInput.foreground}),(function(e){return e.theme.textInput.borderColor}),(function(e){return e.theme.textInput.background}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.inactiveOpacity}),(function(e){return e.theme.textInput.hoverBorderColor})),Wp=y.input(Up||(Up=A(["\n  ","\n  /* override user agent style */\n  padding: 0;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"],["\n  ","\n  /* override user agent style */\n  padding: 0;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"])),Hp,(function(e){return e.theme.textInput.inactiveOpacity})),Vp=y.div(Np||(Np=A(["\n  position: relative;\n  &:first-child {\n    margin-right: 15px;\n  }\n"],["\n  position: relative;\n  &:first-child {\n    margin-right: 15px;\n  }\n"]))),Gp=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onChange=function(t){var n=e.props.onChange;n&&n(t.target.value)},e}return S(n,t),n.prototype.render=function(){var t=this.props,n=t.id,i=t.value,o=t.type,r=t.min,a=t.max,s=t.onBlur,l=t.onFocus,c=t.onKeyUp,u=t.onKeyDown,d=t.onMouseUp,p=t.onTouchEnd,h=t.isDisabled,f=t.className,m=t.inputClassName,g=t.children,y=h?"disabled":"";return e.createElement(Vp,{className:f+" "+y},e.createElement(Wp,{id:n,"aria-hidden":h,disabled:h,value:i,type:o,min:r,max:a,onChange:this.onChange,onBlur:s,onFocus:l,onKeyUp:c,onKeyDown:u,onMouseUp:d,onTouchEnd:p,className:m}),g)},n.defaultProps={type:"text"},n}(e.Component);Wp.defaultProps={theme:mr};var Kp,Xp,Yp,qp,$p,Zp,Jp,Qp,eh,th=y.div(Yp||(Yp=A(["\n  ","\n"],["\n  ","\n"])),la()?b(Kp||(Kp=A([""],[""]))):b(Xp||(Xp=A(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "],["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "])))),nh=function(t){function n(i){var o=t.call(this,i)||this;return o.node=null,o.handleOutsideClick=function(e){var t=o.props.value;o.node&&o.node.current&&o.node.current.contains(e.target)||o.setState({isActive:!1,value:t})},o.onSubmit=function(){var e=o.props.onSubmit,t=o.state.value;if(e){var i=parseFloat(n.cleanValue(t));Number.isNaN(i)||e(""+i)}o.setState({isActive:!1})},o.onFocus=function(){o.setState({isActive:!0})},o.onKeyDown=function(e){var t=o.state.value;if("Enter"===e.key)o.onSubmit();else if("ArrowUp"===e.key){"number"==typeof(i=parseFloat(n.cleanValue(t)))&&o.setState({value:(i+1).toString(),isActive:!0})}else if("ArrowDown"===e.key){var i;"number"==typeof(i=parseFloat(n.cleanValue(t)))&&o.setState({value:(i-1).toString(),isActive:!0})}},o.onChange=function(e){o.setState({value:e,isActive:!0})},o.state={value:o.props.value||"",isActive:!1},o.node=e.createRef(),document.addEventListener("mousedown",o.handleOutsideClick,!1),document.addEventListener("touchstart",o.handleOutsideClick,!1),o}return S(n,t),n.getDerivedStateFromProps=function(e,t){var n=e.value,i=t.value,o=t.isActive;return n===i||o?null:{value:n}},n.cleanValue=function(e){return e?e.replace(",",".").replace(/[a-zA-Z]/g,"").trim():""},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1)},n.prototype.render=function(){var t=this.props,n=t.label,i=t.isDisabled,o=t.ariaHidden,r=t.onMouseUp,a=t.onTouchEnd,s=t.className,l=this.state.value;return e.createElement(th,{ref:this.node,className:s},e.createElement(Bp,{name:n,show:!!n,isDisabled:i}),!!n&&e.createElement(zp,null),e.createElement(Gp,{inputClassName:"nummericInput",value:l,isDisabled:i,"aria-hidden":o,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.handleOutsideClick,onFocus:this.onFocus,onMouseUp:r,onTouchEnd:a}))},n.defaultProps={showLabel:!0},n}(e.Component),ih=b(qp||(qp=A(["\n  width: 20px;\n  height: 20px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"],["\n  width: 20px;\n  height: 20px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),(function(e){return e.theme.slider.thumbBackground}),(function(e){return e.theme.slider.thumbBorderColor})),oh=y.input(Jp||(Jp=A(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  max-width: calc(100% - 50px);\n  outline: none;\n  border-radius: 0; /* iOS */\n  ","\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  ","\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 5px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 200px;\n  }\n"],["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  max-width: calc(100% - 50px);\n  outline: none;\n  border-radius: 0; /* iOS */\n  ","\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  ","\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 5px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 200px;\n  }\n"])),sa()||la()?b($p||($p=A(["\n        margin-top: 10px;\n        height: 24px;\n      "],["\n        margin-top: 10px;\n        height: 24px;\n      "]))):b(Zp||(Zp=A(["\n        height: 2px;\n        background: ",";\n      "],["\n        height: 2px;\n        background: ",";\n      "])),(function(e){return"linear-gradient(to right, "+function(e){var t=100*(e.value-e.min)/(e.max-e.min);return e.adjust?e.value>0?(t=e.value*(e.max/2)*100,e.theme.slider.trackColor+" 0%,\n      "+e.theme.slider.trackColor+" 50%,\n      "+e.theme.slider.activeTrackColor+" 50%,\n      "+e.theme.slider.activeTrackColor+" "+(50+t)+"%,\n      "+e.theme.slider.trackColor+" "+(50+t)+"%,\n      "+e.theme.slider.trackColor+" 100%\n      "):e.value<0?(t=e.value*(e.min/2)*100,e.theme.slider.trackColor+" 0%,\n      "+e.theme.slider.trackColor+" "+(50-t)+"%,\n      "+e.theme.slider.activeTrackColor+" "+(50-t)+"%,\n      "+e.theme.slider.activeTrackColor+" 50%,\n      "+e.theme.slider.trackColor+" 50%,\n      "+e.theme.slider.trackColor+" 100%\n      "):e.theme.slider.trackColor+" 0%,\n    "+e.theme.slider.trackColor+" 100%":e.theme.slider.activeTrackColor+" 0%,\n    "+e.theme.slider.activeTrackColor+" "+t+"%,\n    "+e.theme.slider.trackColor+" "+t+"%,\n    "+e.theme.slider.trackColor+" 100%"}(e)+")"})),(function(e){return e.theme.slider.inactiveOpacity}),mu.Focused,(function(e){return e.theme.slider.hoverOpacity}),ih,ih,ih,(function(e){return""+e.theme.slider.activeTrackColor}),(function(e){return""+e.theme.slider.trackColor})),rh=y.div(Qp||(Qp=A(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n"],["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n"])),(function(e){return e.centerSlider?-56:0})),ah=y(nh)(eh||(eh=A(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"],["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"]))),sh=Se(),lh=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onSubmit=function(t){var n=e.props,i=n.onChange,o=n.suffix,r=n.divider,a=n.min,s=n.max,l=n.value,c=t.replace(o,""),u=c?parseFloat(c)/r:l,d=Math.max(a,Math.min(s,u));Number.isNaN(d)||(i(d),e.props.onMouseUp?e.props.onMouseUp():e.props.onTouchEnd&&e.props.onTouchEnd())},e.onSliderChange=function(t){(0,e.props.onChange)(parseFloat(t.target.value))},e}return S(n,t),n.prototype.render=function(){var t=this.props,n=t.value,i=t.snap,o=t.min,r=t.max,a=t.divider,s=t.suffix,l=t.decimal,c=t.showLabel,u=t.showInput,d=t.style,p=t.centerSlider,h=t.adjust,f=t.name,m=t.isDisabled,g=t.step,y=t["aria-hidden"],b=t.onMouseUp,v=t.onTouchEnd,_=t.className,x=f.replace(" ","-")+sh,w="number"==typeof i&&e.createElement("datalist",{id:x+"-list"},e.createElement("option",{value:i})),S=""+(n*a).toFixed(l)+s,k=u&&e.createElement(ah,{value:S,isDisabled:m,"aria-hidden":y,onSubmit:this.onSubmit});return e.createElement("div",{className:_},e.createElement(Bp,{isDisabled:m,name:f,show:c}),e.createElement(zp,{count:.25}),e.createElement(rh,{centerSlider:u&&p},e.createElement(oh,{type:"range",role:"slider","aria-hidden":y,tabIndex:0,value:n,min:o,max:r,step:g,style:d,disabled:m,id:x,list:x+"-list",onChange:this.onSliderChange,adjust:h,name:f,onKeyUp:this.onSliderChange,onKeyDown:this.onSliderChange,onMouseUp:b,onTouchEnd:v}),w,k))},n.defaultProps={showLabel:!0,showInput:!0,adjust:!1,centerSlider:!1,min:-1,max:1,value:0,step:.01,decimal:0,divider:100,suffix:""},n}(e.Component);oh.defaultProps={theme:mr};var ch,uh=y.input.attrs({type:"search"})(ch||(ch=A(["\n  ","\n"],["\n  ","\n"])),Hp);uh.defaultProps={theme:mr};var dh,ph,hh,fh,mh,gh,yh,bh,vh=y(zc)(dh||(dh=A(["\n  height: inherit;\n  background: transparent;\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n"],["\n  height: inherit;\n  background: transparent;\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n"])),(function(e){return e.theme.button.textPrimaryForeground}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case})),_h=y(zc)(ph||(ph=A(["\n  height: inherit;\n  background: transparent;\n  font-size: ","px;\n  color: ",";\n  letter-spacing: ","px;\n  text-transform: ",";\n"],["\n  height: inherit;\n  background: transparent;\n  font-size: ","px;\n  color: ",";\n  letter-spacing: ","px;\n  text-transform: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case})),xh=y.div(hh||(hh=A(["\n  display: flex;\n  justify-content: flex-end;\n  width: inherit;\n  text-align: right;\n  height: 40px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  width: inherit;\n  text-align: right;\n  height: 40px;\n"]))),wh=y.div(fh||(fh=A(["\n  textarea {\n    caret-color: ",";\n    ","\n    height: 44px;\n    outline-offset: -8px;\n    color: ",";\n    resize: none;\n    font-family: '","', sans-serif;\n    &:selection, &:-moz-selection {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"],["\n  textarea {\n    caret-color: ",";\n    ","\n    height: 44px;\n    outline-offset: -8px;\n    color: ",";\n    resize: none;\n    font-family: '","', sans-serif;\n    &:selection, &:-moz-selection {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.primary}),Hp,(function(e){return e.theme.modal.bodyForeground}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.primary}),(function(e){return e.theme.foreground})),Sh=y.label(mh||(mh=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.modal.headerForeground})),kh=function(t){function n(e){var n=t.call(this,e)||this;return n.state={value:""},n.handleKeydown=function(e){switch(e.key){case"Escape":n.close()}},n.close=function(){n.props.close(!1)},n.save=function(){var e=n.input.value;n.input.value&&(n.props.save(e),n.close())},n.onChange=function(e){n.setState({value:e.target.value})},n.onSubmit=function(e){e.preventDefault()},n.inputRef=function(e){n.input=e},n}return S(n,t),n.prototype.componentDidMount=function(){var e=this.props,t=e.text,n=e.defaultText;this.input.focus(),this.input.value=t||n||"",this.setState({value:this.input.value}),document.addEventListener("keydown",this.handleKeydown,!1),t===n&&this.input.select()},n.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeydown,!1)},n.prototype.componentDidUpdate=function(e){e.show!==this.props.show&&this.props.show&&this.input.focus()},n.prototype.render=function(){var t=this,n=this.props,i=n.show,o=n.position;return e.createElement(bp,{show:i||!1,height:"fit-content",width:"350px",position:o,footer:function(){return e.createElement(xh,null,e.createElement(_h,{ariaLabel:t.props.closeLabel,onClick:t.close},t.props.closeLabel||"Cancel"),e.createElement(vh,{ariaLabel:t.props.saveLabel,isDisabled:!t.state.value,onClick:t.save},t.props.saveLabel||"Done"))},"aria-describedby":"Edit the selected text content"},e.createElement("form",{style:{width:"inherit"},onSubmit:this.onSubmit},e.createElement(Sh,{htmlFor:"TextInput"},this.props.editLabel||"Text Input"),e.createElement(zp,null),e.createElement(wh,null,e.createElement("textarea",{id:"TextInput",placeholder:"Write Something",rows:3,autoFocus:!0,onChange:this.onChange,ref:this.inputRef}))))},n.defaultProps={defaultText:"Write Something"},n}(e.Component),Eh=y.input.attrs({type:"file",id:"fileUpload",accept:"image/png, image/jpeg"})(gh||(gh=A(["\n  display: none;\n"],["\n  display: none;\n"]))),Ch=b(yh||(yh=A(["\n  visibility: visible;\n  opacity: 1;\n  display: block;\n"],["\n  visibility: visible;\n  opacity: 1;\n  display: block;\n"]))),Th=y.div(bh||(bh=A(["\n  color: ",";\n  background-color: ",";\n  display: block;\n  position: relative;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n  &:focus a,\n  &.toggle a {\n    outline: none;\n  }\n  &.toggle > ul {\n    ","\n  }\n  &:hover {\n    color: ",";\n  }\n  &:disabled,\n  &.disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n"],["\n  color: ",";\n  background-color: ",";\n  display: block;\n  position: relative;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n  &:focus a,\n  &.toggle a {\n    outline: none;\n  }\n  &.toggle > ul {\n    ","\n  }\n  &:hover {\n    color: ",";\n  }\n  &:disabled,\n  &.disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n"])),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),Ch,(function(e){return e.theme.dropdown.hoverBorderColor}),(function(e){return e.theme.dropdown.inactiveOpacity}));Th.defaultProps={theme:mr};var Oh,Ih=y.li(Oh||(Oh=A(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n  &:hover,\n  &.hover {\n    cursor: pointer;\n    background: ",";\n  }\n  &.active {\n    border-left: 2px solid ",";\n  }\n  ","\n"],["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n  &:hover,\n  &.hover {\n    cursor: pointer;\n    background: ",";\n  }\n  &.active {\n    border-left: 2px solid ",";\n  }\n  ","\n"])),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.listItemHoverBackground}),(function(e){return e.theme.primary}),mu.Focused);Ih.defaultProps={theme:mr};var Rh,Mh=y.ul.attrs((function(e){var t=e.scrollable;return{"data-simplebar":t?"init":null,"data-simplebar-auto-hide":t?"false":null}}))(Rh||(Rh=A(["\n  list-style: none;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n  visibility: hidden;\n  opacity: 0;\n  min-width: 5rem;\n  position: absolute;\n  transition: all 0.5s ease;\n  left: -1px;\n  display: none;\n  padding: unset;\n  width: 100%;\n  z-index: ",";\n  max-height: 160px;\n  overflow-x: hidden;\n  margin: 5px 0;\n  border-radius: 0 0 ","px ","px;\n  &[data-simplebar] {\n    position: absolute;\n  }\n"],["\n  list-style: none;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n  visibility: hidden;\n  opacity: 0;\n  min-width: 5rem;\n  position: absolute;\n  transition: all 0.5s ease;\n  left: -1px;\n  display: none;\n  padding: unset;\n  width: 100%;\n  z-index: ",";\n  max-height: 160px;\n  overflow-x: hidden;\n  margin: 5px 0;\n  border-radius: 0 0 ","px ","px;\n  &[data-simplebar] {\n    position: absolute;\n  }\n"])),(function(e){return e.theme.dropdown.listBackground}),(function(e){return e.theme.dropdown.listForeground}),(function(e){return e.theme.dropdown.listBorderColor}),(function(e){return e.theme.dropdown.listShadow}),(function(e){return e.theme.measurements.zIndex.input.list}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.shape.radiusMedium}));Mh.defaultProps={theme:mr,scrollable:!0};var Ph,zh,Ah,Dh,Lh,Fh=y.div(Ph||(Ph=A(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"])),(function(e){return e.theme.dropdown.caretColor}),(function(e){return e.rotation||0})),Bh=y.div(zh||(zh=A(["\n  line-height: 17px;\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  &:hover {\n    border-color: ",";\n  }\n  transition: border-color 0.4s ease-in-out;\n  ","\n"],["\n  line-height: 17px;\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  &:hover {\n    border-color: ",";\n  }\n  transition: border-color 0.4s ease-in-out;\n  ","\n"])),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.background}),(function(e){return e.theme.dropdown.borderColor}),(function(e){return e.showList?"pointer":"default"}),(function(e){return e.theme.dropdown.hoverBorderColor}),mu.Focused),jh=function(t){function n(n){var i=t.call(this,n)||this;return i.state={isOpen:!1},i.handleOutsideClick=function(e){i.node&&i.node.contains(e.target)||i.setState({isOpen:!1})},i.onSelect=function(e){i.props.onSelect(e),i.setState({isOpen:!1})},i.onClick=function(){i.setState((function(e){return{isOpen:!e.isOpen}}))},i.listItem=function(t){var n=i.props,o=n.itemStyle,r=n.selectedItem,a=t.value,s=t.label,l={};"function"==typeof o?l=o(t):null!==o&&"object"==typeof o&&(l=o);var c=r===a?"active":"";return e.createElement(Ih,{"aria-hidden":!i.state.isOpen,tabIndex:0,style:l,onClick:function(){return i.onSelect(a)},key:a,className:c},s)},i.onKeyDown=function(e){"Space"!==e.code&&"Enter"!==e.code||i.onClick()},i.nodeRef=function(e){i.node=e},i}return S(n,t),n.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick,!1)},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1)},n.prototype.render=function(){var t=this.props,n=t.selectedItem,i=t.list,o=t.label,r=t.style,a=t.isDisabled,s=this.state.isOpen,l=i.length>1,c=a?"disabled":s?"toggle":"",u=a?{}:{tabIndex:0};return e.createElement("div",{className:"dropdown"},e.createElement(Bp,{isDisabled:a,styles:{paddingLeft:0},name:o}),e.createElement(zp,null),e.createElement("div",{ref:this.nodeRef},e.createElement(Th,{id:o.replace(" ","-"),className:c},e.createElement(Bh,C({"aria-hidden":a},u,{showList:l,style:r,onClick:l?this.onClick:void 0,onKeyDown:this.onKeyDown}),n,l&&e.createElement(Fh,{rotation:s?180:0})),e.createElement(Mh,{scrollable:i.length>4},l&&i.map(this.listItem)))))},n}(e.PureComponent),Uh=y.div.attrs({tabIndex:0})(Ah||(Ah=A(["\n  position: absolute;\n  top: 5px;\n  right: 0;\n  height: 16px;\n  width: 16px;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    top: 1px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n  ","\n"],["\n  position: absolute;\n  top: 5px;\n  right: 0;\n  height: 16px;\n  width: 16px;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    top: 1px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n  ","\n"])),(function(e){return e.theme.checkbox.background}),(function(e){return e.theme.shape.radiusSmall}),mu.Focused),Nh=y.div(Dh||(Dh=A(["\n  display: block;\n  position: relative;\n  margin-bottom: 12px;\n  cursor: pointer;\n  max-width: ","px;\n  label {\n    padding-top: 5px;\n  }\n"],["\n  display: block;\n  position: relative;\n  margin-bottom: 12px;\n  cursor: pointer;\n  max-width: ","px;\n  label {\n    padding-top: 5px;\n  }\n"])),(function(e){return e.theme.measurements.basicToolControlBar.maxWidth})),Hh=y.input.attrs({type:"checkbox",tabIndex:0})(Lh||(Lh=A(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  ","\n\n  &:hover ~ "," {\n    opacity: ",";\n  }\n\n  &:checked ~ "," {\n    background-color: ",";\n    &::after {\n      color: ",";\n      border-color: ",";\n    }\n    &:hover {\n      background-color: ",";\n      opacity: 0.80;\n    }\n  }\n\n  &:disabled ~ "," {\n    opacity: 0.5;\n    cursor: default;\n    pointer-events: none;\n  }\n"],["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  ","\n\n  &:hover ~ "," {\n    opacity: ",";\n  }\n\n  &:checked ~ "," {\n    background-color: ",";\n    &::after {\n      color: ",";\n      border-color: ",";\n    }\n    &:hover {\n      background-color: ",";\n      opacity: 0.80;\n    }\n  }\n\n  &:disabled ~ "," {\n    opacity: 0.5;\n    cursor: default;\n    pointer-events: none;\n  }\n"])),mu.Focused,Uh,(function(e){return e.theme.checkbox.hoverOpacity}),Uh,(function(e){return e.theme.checkbox.activeBackground}),(function(e){return e.theme.checkbox.activeForeground}),(function(e){return e.theme.checkbox.foreground}),(function(e){return e.theme.checkbox.activeBackground}),Uh),Wh=function(t){var n=t.label,i=t.value,o=t.onChange,r=t.style,a=t.isDisabled;return e.createElement(Nh,null,e.createElement(Bp,{isDisabled:a,name:n}),e.createElement(Hh,{id:n.replace(" ","-"),onChange:o,disabled:a,checked:i,onKeyUp:o}),e.createElement(Uh,{style:r||{},onClick:o}))};Wh.defaultProps={value:!1};var Vh,Gh,Kh,Xh,Yh,qh,$h,Zh,Jh=y(zc)(Vh||(Vh=A(["\n  color: ",";\n  height: 32px;\n  padding: 1px 7px 2px;\n"],["\n  color: ",";\n  height: 32px;\n  padding: 1px 7px 2px;\n"])),(function(e){return e.theme.button.textSecondaryForeground})),Qh=y.div(Gh||(Gh=A(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"],["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"])),(function(e){return e.theme.measurements.advancedToolControlBar.width-48})),ef=y.article(Kh||(Kh=A(["\n  width: ","px;\n  font-size: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 9px;\n  display: inline-block;\n  color: ",";\n"],["\n  width: ","px;\n  font-size: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 9px;\n  display: inline-block;\n  color: ",";\n"])),(function(e){return.6*e.theme.measurements.advancedToolControlBar.width}),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground})),tf=y.div(Xh||(Xh=A(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"],["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"])),(function(e){return.6*e.theme.measurements.advancedToolControlBar.width})),nf=y.span(Yh||(Yh=A(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"],["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"])),(function(e){return.6*e.length*e.theme.measurements.advancedToolControlBar.width}),(function(e){return.6*e.activeIndex*e.theme.measurements.advancedToolControlBar.width}),(function(e){return e.theme.typography.fontFamily})),of=y.div(qh||(qh=A(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n  &.left {\n    margin-left: 2px;\n    transform: rotate(135deg);\n  }\n  &.right {\n    margin-right: 2px;\n    transform: rotate(-45deg);\n  }\n"],["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n  &.left {\n    margin-left: 2px;\n    transform: rotate(135deg);\n  }\n  &.right {\n    margin-right: 2px;\n    transform: rotate(-45deg);\n  }\n"])),(function(e){return e.theme.card.foreground})),rf=function(t){function n(e){var n=t.call(this,e)||this;return n.updateIndex=function(e,t){void 0===t&&(t=!1);var i=e+(t?-1:1),o=n.props.list.length-1;i>o&&(i=0),i<0&&(i=o),n.props.onSelect(n.props.list[i].identifier)},n.getActiveIndex=function(e){var t=n.props.list.findIndex((function(t){return t.identifier===e}));return-1!==t?t:0},n.throttledUpdateIndex=Ca(n.updateIndex,600),n}return S(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.list,o=n.label,r=n.showLabel,a=void 0===r||r,s=this.getActiveIndex(this.props.defaultIdentifier),l=i.length<=1;return e.createElement("div",null,e.createElement(Bp,{show:a,name:o}),a?e.createElement(zp,null):null,e.createElement(Qh,{id:o.replace(" ","-")},e.createElement(Jh,{ariaLabel:"Select Previous",isDisabled:l,onClick:function(){return t.throttledUpdateIndex(s,!0)}},e.createElement(of,{className:"left"})),e.createElement(tf,null,e.createElement(nf,{activeIndex:s,length:i.length},i.map((function(t){return e.createElement(ef,{key:t.identifier},t.value)})))),e.createElement(Jh,{ariaLabel:"Select Next",isDisabled:l,onClick:function(){return t.throttledUpdateIndex(s)}},e.createElement(of,{className:"right"}))))},n.defaultProps={showLabel:!0},n}(e.PureComponent),af=function(t){var n=t.label,i=t.children,o=t.inline,r=t.showLabel,a=t.isDisabled;return e.createElement("div",{className:"selection"},e.createElement(Bp,{isDisabled:a,name:n,show:r}),r&&e.createElement(zp,null)||null,e.createElement(sf,{id:n.replace(" ","-"),inline:!!o},i))},sf=y.div(Zh||(Zh=A(["\n  display: inline-flex;\n  ","\n"],["\n  display: inline-flex;\n  ","\n"])),(function(e){return!e.inline&&b($h||($h=A(["\n        flex-wrap: wrap;\n      "],["\n        flex-wrap: wrap;\n      "])))||""}));function lf(e,t){for(var n=0,i=e.length;n<i;n+=1)if(t.apply(t,[e[n],n,e]))return e[n];return null}function cf(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function uf(e){return"number"==typeof e&&!Number.isNaN(e)}function df(e){return parseInt(e,10)}af.defaultProps={showLabel:!0};var pf=["Moz","Webkit","O","ms"];function hf(e,t){return t?""+t+function(e){var t,n="",i=!0;for(t=0;t<e.length;t+=1)i?(n+=e[t].toUpperCase(),i=!1):"-"===e[t]?i=!0:n+=e[t];return n}(e):e}var ff=function(e){if(void 0===e&&(e="transform"),"undefined"==typeof window||void 0===window.document)return"";var t,n=window.document.documentElement.style;if(e in n)return"";for(t=0;t<pf.length;t+=1)if(hf(e,pf[t])in n)return pf[t];return""}(),mf="";function gf(e,t){return mf||(mf=lf(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return cf(e[t])}))),!!cf(e[mf])&&e[mf](t)}function yf(e,t,n){var i=e;do{if(gf(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function bf(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function vf(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function _f(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=df(n.borderTopWidth),t+=df(n.borderBottomWidth)}function xf(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=df(n.borderLeftWidth),t+=df(n.borderRightWidth)}function wf(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=df(n.paddingTop),t-=df(n.paddingBottom)}function Sf(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=df(n.paddingLeft),t-=df(n.paddingRight)}function kf(e,t){var n=null;return e.targetTouches&&(n=lf(e.targetTouches,(function(e){return t===e.identifier}))),e.changedTouches&&!n&&(n=lf(e.changedTouches,(function(e){return t===e.identifier}))),n}function Ef(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:null}function Cf(e){var t=a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function Tf(e,t,n){var i=e.state,o=!uf(i.lastX),r=Cf(e);return o?{node:r,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:r,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}}function Of(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function If(e){return"both"===e.props.axis||"x"===e.props.axis}function Rf(e){return"both"===e.props.axis||"y"===e.props.axis}function Mf(e,t){var n=Cf(t),i=t.props.offsetParent;return!i&&n instanceof HTMLElement&&(i=n.offsetParent||n.ownerDocument.body),function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(e,i)}var Pf,zf,Af,Df,Lf={start:"touchstart",move:"touchmove",stop:"touchend"},Ff={start:"mousedown",move:"mousemove",stop:"mouseup"},Bf=Ff,jf={cancel:null,disabled:!1,offsetParent:null,handle:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},Uf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:void 0},e.getTouchFromEvent=function(t){var n=Ef(t);return e.setState({touchIdentifier:n}),kf(t,n)},e.preventDefault=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},e.handleDragStart=function(t){var n=a.findDOMNode(e);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var i=n.ownerDocument;if(e.props.disabled||!(t.target instanceof Node)||e.props.handle&&!yf(t.target,e.props.handle,n)||e.props.cancel&&yf(t.target,e.props.cancel,n))return!1;var o=Mf(t,e);if(null==o)return!1;var r=o.x,s=o.y,l=Tf(e,r,s);if(!1===e.props.onStart(t,l))return!1;e.setState({dragging:!0,lastX:r,lastY:s}),"touchmove"===Bf.move?bf(i,Bf.move,e.onTouchDrag):bf(i,Bf.move,e.onMouseDrag),bf(i,Bf.stop,e.handleDragStop)},e.handleDrag=function(t){var n=Mf(t,e);if(null!=n){var i=n.x,o=n.y,r=Tf(e,i,o);if(!1!==e.props.onDrag(t,r))e.setState({lastX:i,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(a)}}},e.handleDragStop=function(t){if(e.state.dragging){var n=Mf(t,e);if(null!=n){var i=n.x,o=n.y,r=Tf(e,i,o),s=a.findDOMNode(e);e.setState({dragging:!1,lastX:NaN,lastY:NaN}),e.props.onStop(t,r),s&&("touchmove"===Bf.move?vf(s.ownerDocument,Bf.move,e.onTouchDrag):vf(s.ownerDocument,Bf.move,e.onMouseDrag),vf(s.ownerDocument,Bf.stop,e.handleDragStop))}}},e.onMouseDown=function(t){return e.preventDefault(t),Bf=Ff,e.props.onMouseDown(t),(!t.button||"number"!=typeof t.button||0===t.button)&&e.handleDragStart(t)},e.onMouseDrag=function(t){return e.preventDefault(t),e.handleDrag(t)},e.onMouseUp=function(t){return e.preventDefault(t),Bf=Ff,e.handleDragStop(t)},e.onTouchStart=function(t){e.preventDefault(t),Bf=Lf;var n=e.getTouchFromEvent(t);return e.handleDragStart(n)},e.onTouchDrag=function(t){e.preventDefault(t),Bf=Lf;var n=e.getTouchFromEvent(t);return e.handleDrag(n)},e.onTouchEnd=function(t){e.preventDefault(t),Bf=Lf;var n=e.getTouchFromEvent(t);return e.handleDragStop(n)},e}return S(n,t),n.prototype.componentWillUnmount=function(){var e=a.findDOMNode(this);if(e){var t=e.ownerDocument;vf(t,Ff.move,this.onMouseDrag),vf(t,Lf.move,this.onTouchDrag),vf(t,Ff.stop,this.handleDragStop),vf(t,Lf.stop,this.handleDragStop)}},n.prototype.render=function(){return e.cloneElement(e.Children.only(this.props.children),{style:C({touchAction:"none"},this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})},n.defaultProps=jf,n.displayName="DraggableCore",n}(e.Component),Nf=C({},jf,{axis:"both",bounds:!1,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:!1}),Hf=function(t){function n(e){var n=t.call(this,e)||this;return n.onDragStart=function(e,t){if(!1===n.props.onStart(e,Of(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){var i=n.props,o=i.position,r=i.defaultPosition,a=i.onDrag,s=i.bounds;if(!n.state.dragging)return!1;var l=Of(n,t),c=Boolean(o),u={x:c?l.x:r.x,y:c?l.y:r.y,slackX:0,slackY:0};if(s){var d=u.x,p=u.y;u.x+=n.state.slackX,u.y+=n.state.slackY;var h=P(function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:C({},i);var o=Cf(e);if("string"==typeof i){var r=o.ownerDocument,a=r.defaultView,s="parent"===i?o.parentNode:r.querySelector(i);if(!(s instanceof HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');if(o instanceof HTMLElement){var l=a.getComputedStyle(o),c=a.getComputedStyle(s);i={left:-o.offsetLeft+df(c.paddingLeft)+df(l.marginLeft),top:-o.offsetTop+df(c.paddingTop)+df(l.marginTop),right:Sf(s)-xf(o)-o.offsetLeft+df(c.paddingRight)-df(l.marginRight),bottom:wf(s)-_f(o)-o.offsetTop+df(c.paddingBottom)-df(l.marginBottom)}}}return uf((i=i).right)&&(t=Math.min(t,i.right)),uf(i.bottom)&&(n=Math.min(n,i.bottom)),uf(i.left)&&(t=Math.max(t,i.left)),uf(i.top)&&(n=Math.max(n,i.top)),[t,n]}(n,u.x,u.y),2),f=h[0],m=h[1];u.x=f,u.y=m,u.slackX=n.state.slackX+(d-u.x),u.slackY=n.state.slackY+(p-u.y),l.x=u.x,l.y=u.y,l.deltaX=u.x-n.state.x,l.deltaY=u.y-n.state.y}if(!1===a(e,l))return!1;n.setState(u)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,Of(n,t)))return!1;var i={dragging:!1,slackX:0,slackY:0,x:0,y:0};if(Boolean(n.props.position)){var o=n.props.position,r=o.x,a=o.y;i.x=r,i.y=a}n.setState(i)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0},n}return S(n,t),n.prototype.componentDidUpdate=function(e){Boolean(this.props.position)&&(this.props.updateOnPosition?(e.position&&e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}):(e.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}))},n.prototype.componentWillUnmount=function(){this.setState({dragging:!1})},n.prototype.render=function(){var t,n=this.props,i=n.position,o=n.defaultPosition,r=n.rotation,a=n.defaultClassName,s=n.defaultClassNameDragging,l=n.defaultClassNameDragged,c=T(n,["position","defaultPosition","rotation","defaultClassName","defaultClassNameDragging","defaultClassNameDragged"]),u=this.state,d=u.x,p=u.y,h=u.dragging,f=u.dragged,m=!Boolean(i)||h,g=i||o;t=function(e){var t,n="translate("+e.x+"px,"+e.y+"px) rotate("+e.rotation+"rad)";return(t={})[hf("transform",ff)]=n,t}({x:If(this)&&m?d:g.x,y:Rf(this)&&m?p:g.y,rotation:r});var y=e.Children.only(this.props.children),b=[y.props.className||"",a,h?s:"",f?l:""].join(" ").trim(),v=e.cloneElement(y,{className:b,style:C({},y.props.style,t)});return e.createElement(Uf,C({},c,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),v)},n.defaultProps=Nf,n.displayName="Draggable",n}(e.Component),Wf=y(xh)(Pf||(Pf=A(["\n  border-top: 2px solid ",";\n"],["\n  border-top: 2px solid ",";\n"])),(function(e){return"error"===e.type?e.theme.error:e.theme.warning})),Vf=y.div(zf||(zf=A(["\n  display: block;\n"],["\n  display: block;\n"]))),Gf=y.h3(Af||(Af=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return e.theme.modal.headerForeground})),Kf=y.p(Df||(Df=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.modal.bodyForeground})),Xf=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeModal=function(t){e.props.handlers.close&&e.props.handlers.close(),t&&t()},e}return S(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.type,o=n.handlers,r=n.message,a=n.show,s=n.position,l=n.preHeadingLocale,c="error"===i?l.error:l.warning;return e.createElement(bp,{heading:r?r.heading:"",show:a||!1,width:"350px",height:"fit-content",position:s,footer:function(){return o&&r?e.createElement(Wf,{type:i},r.buttonNo&&e.createElement(_h,{ariaLabel:r.buttonNo,onClick:function(){return t.closeModal(o.buttonNo)}},r.buttonNo),r.buttonYes&&e.createElement(vh,{ariaLabel:r.buttonYes,onClick:function(){return t.closeModal(o.buttonYes)}},r.buttonYes)):null}},e.createElement(Vf,null,r?e.createElement(Gf,null,c,": ",r.heading||""):null,r&&r.body?e.createElement(Kf,null,r.body):null))},n.defaultProps={preHeadingLocale:{error:"Error",warning:"Warning"}},n}(e.PureComponent),Yf=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return S(n,t),n.prototype.getChildren=function(){var t=this,n=[],i=[];return e.Children.forEach(this.props.children,(function(e){switch(e.type.componentName){case"case":t.props.type===e.props.value&&n.push(e);break;case"default":i.push(e)}})),n.length>0?n:i},n.prototype.render=function(){var t=this.getChildren();return 0===t.length?null:e.createElement(e.Fragment,null,t)},n}(e.Component),qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){return this.props.children},t.componentName="case",t}(e.Component),$f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){return this.props.children},t.componentName="default",t}(e.Component),Zf={Container:Hd,ColorItem:sp,Loader:Pp,Spacer:zp,Modal:Xf,Draggable:Hf,DraggableCore:Uf,Toast:ep,Input:{Label:Bp,File:Eh,Search:function(t){return e.createElement("div",null,e.createElement(Bp,{show:!1,name:"Search"}),e.createElement(uh,{id:"Search",onChange:function(e){t.onChange(e.target.value)},placeholder:t.placeholder}))},Slider:lh,CarouselSlider:rf,Selection:af,Checkbox:Wh,Dropdown:jh,Text:Gp,NummericInput:nh,TextEdit:kh,Form:function(t){var n=t.children;return e.createElement("form",{onSubmit:function(e){e.preventDefault()}},n)}},Switch:{Index:Yf,Case:qf,Default:$f}},Jf=function(e,t){return void 0!==e&&void 0!==t&&!Number.isNaN(e)&&!Number.isNaN(t)},Qf=y(Fd.Controls.Knob)(nm||(nm=A(["\n  margin-top: -","px;\n  margin-left: -","px;\n"],["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2})),em=y(Fd.Controls.Container)(im||(im=A(["\n  overflow: unset;\n"],["\n  overflow: unset;\n"]))),tm=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.start=function(e,t){var i=t.x,o=t.y;Jf(i,o)&&n.focusTool.setStart({x:i,y:o})},n.end=function(e,t){var i=t.x,o=t.y;Jf(i,o)&&n.focusTool.setEnd({x:i,y:o})},n.onKnob1DragStart=function(e,t){n.focusTool.clickableCanvas(!1),n.start(e,t)},n.onKnob1DragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusPosition),n.start(e,t),n.focusTool.clickableCanvas(!0)},n.onKnob2DragStart=function(e,t){n.focusTool.clickableCanvas(!1),n.end(e,t)},n.onKnob2DragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusPosition),n.end(e,t),n.focusTool.clickableCanvas(!0)},n.addSnapshot=function(e,t){var i=e.x,o=e.y;Jf(i,o)&&n.focusTool.toolSnapshot(t)},n.getLine=function(){var t=n.props.canvas.canvasSize,i=t.height,o=t.width,r=n.focusTool.startOnPreview,a=n.focusTool.endOnPreview;return e.createElement("svg",{focusable:"false",height:i,width:o},e.createElement("line",{x1:r.x,y1:r.y,x2:a.x,y2:a.y,strokeWidth:"2",stroke:"currentColor"}))},n}return S(n,t),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),n.prototype.render=function(){return e.createElement(em,null,e.createElement(Fd.Controls.Line,null,this.getLine()),e.createElement(Zf.Draggable,{bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},e.createElement(Qf,null)),e.createElement(Zf.Draggable,{bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},e.createElement(Qf,null)))},n}(e.Component);Qf.defaultProps={theme:mr};var nm,im,om,rm,am=Dl("canvas","focusTool")(ec(tm)),sm=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={knobAngle:2.35},e.onCircle=function(t,n){var i=n.x,o=n.y;if(Jf(i,o)){var r=e.focusTool.radius;e.focusTool.setCenter({x:i+r,y:o+r})}},e.onKnob=function(t,n){var i=n.x,o=n.y;if(Jf(i,o)){var r=e.focusTool.center,a=new xe(i,o),s=new xe(r.x,r.y).subtract(a),l=s.magnitude,c=-Math.atan2(s.y,s.x);e.setState({knobAngle:c}),e.focusTool.setRadius(l)}},e.onCircleDragStart=function(t,n){e.focusTool.clickableCanvas(!1),e.onCircle(t,n)},e.onCircleDragStop=function(t,n){e.addSnapshot(n,e.historyLocale.focusPosition),e.onCircle(t,n),e.focusTool.clickableCanvas(!0)},e.onKnobDragStart=function(t,n){e.focusTool.clickableCanvas(!1),e.onKnob(t,n)},e.onKnobDragStop=function(t,n){e.addSnapshot(n,e.historyLocale.focusSize),e.onKnob(t,n),e.focusTool.clickableCanvas(!0)},e.addSnapshot=function(t,n){var i=t.x,o=t.y;Jf(i,o)&&e.focusTool.toolSnapshot(n)},e}return S(n,t),n.prototype.componentDidMount=function(){this.setState({knobAngle:2.35})},Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.focusTool,n=t.center,i=t.radius,o={x:n.x-i,y:n.y-i},r=Math.PI-this.state.knobAngle,a={x:n.x+i*Math.cos(r),y:n.y+i*Math.sin(r)};return e.createElement(Fd.Controls.Container,null,e.createElement(Zf.Draggable,{bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:a},e.createElement(Fd.Controls.Knob,null)),e.createElement(Zf.Draggable,{onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:o},e.createElement(Fd.Controls.Circle,{radius:i})))},n}(e.Component),lm=Dl("focusTool","canvas")(ec(sm)),cm=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getKnobPosition=function(){var t=e.focusTool.origin,n=e.focusTool.size/2,i=Math.PI/2+e.focusTool.rotationOnPreview;return{x:t.x+n*Math.cos(i),y:t.y+n*Math.sin(i)}},e.onArea=function(t,n){var i=n.x,o=n.y,r=e.props.editor.configStore.measurements.canvasControls.knob.size;if(Jf(i,o)){var a=e.props.canvas,s=e.focusTool,l=s.size,c=i+s.mirroredAreaWidth/2,u=o+l/2,d=new xe(e.getKnobPosition()),p=new xe({x:i,y:o}).subtract(new xe(e.areaPosition)),h=d.add(p);h.x>r&&h.x<a.canvasSize.width-r&&h.y>r&&h.y<a.canvasSize.height-r&&e.focusTool.setOrigin({x:c,y:u})}},e.onKnob=function(t,n){var i=n.x,o=n.y;if(Jf(i,o)){var r=new xe(e.focusTool.origin),a=new xe(i,o),s=r.subtract(a),l=s.magnitude,c=Math.PI/2+Math.atan2(s.y,s.x);e.focusTool.setSize(2*l),e.focusTool.setRotation(c)}},e.onAreaDragStop=function(t,n){e.addSnapshot(n,e.historyLocale.focusPosition),e.onArea(t,n)},e.onKnobDragStop=function(t,n){e.addSnapshot(n,e.historyLocale.focusSize),e.onKnob(t,n)},e.addSnapshot=function(t,n){var i=t.x,o=t.y;Jf(i,o)&&e.focusTool.toolSnapshot(n)},e}return S(n,t),Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"areaPosition",{get:function(){var e=this.focusTool,t=e.origin,n=e.size,i=e.mirroredAreaWidth;return{x:t.x-i/2,y:t.y-n/2}},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.areaPosition,n=t.x,i=t.y;return e.createElement(Fd.Controls.Container,null,e.createElement(Zf.Draggable,{bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},e.createElement(Fd.Controls.Knob,null)),e.createElement(Zf.Draggable,{onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:n,y:i},rotation:this.focusTool.rotationOnPreview},e.createElement(Fd.Controls.Area,{height:this.focusTool.size,width:this.focusTool.mirroredAreaWidth})))},n}(e.Component),um=Dl("focusTool","canvas","editor")(ec(cm)),dm=Dl("focusTool")(ec((function(t){var n=t.focusTool,i=n.state,o=function(){switch(i.identifier){case J.LINEAR:return am;case J.RADIAL:return lm;case J.MIRRORED:return um}return null}();return n.isOptionSelected&&o?e.createElement(o,null):null}))),pm=y(Fd.Controls.Container)(om||(om=A(["\n  cursor: none;\n"],["\n  cursor: none;\n"]))),hm=y.div(rm||(rm=A(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n"],["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n"]))),fm=function(t){function n(n){var i=t.call(this,n)||this;return i.INITIAL_POSITION={x:void 0,y:void 0},i.state=C({},i.INITIAL_POSITION,{isDrawing:!1}),i.containerElementRef=null,i.getCursorCoordinates=function(e){var t=0,n=0;if(-1!==e.type.indexOf("touch")){if(!(o=e).touches.length)return C({},i.INITIAL_POSITION,{height:0,width:0});t=o.touches[0].clientX,n=o.touches[0].clientY}else{var o;t=(o=e).clientX,n=o.clientY}var r=i.containerElementRef.current.getBoundingClientRect();return{x:t-r.left,y:n-r.top,height:r.height,width:r.width}},i.draw=function(e){e.preventDefault(),e.stopPropagation(),i.touchDraw(e)},i.touchDraw=function(e){var t=i.getCursorCoordinates(e),n=t.x,o=t.y;void 0!==n&&void 0!==o&&(i.setState({x:n,y:o}),i.state.isDrawing&&i.brushTool.strokePosition({x:n,y:o}))},i.start=function(){i.brushTool.clickableCanvas(!1),i.setState({isDrawing:!0}),i.brushTool.beginStroke()},i.stop=function(e){i.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),i.setState({isDrawing:!1}),i.brushTool.endStroke(),i.brushTool.clickableCanvas(!0))},i.setInitialPosition=function(){i.setState(C({},i.INITIAL_POSITION))},i.mouseOut=function(e){var t=i.props.config;e.preventDefault(),e.stopPropagation();var n=i.brushTool.sizeOnScreenSpace/2,o=i.getCursorCoordinates(e),r=o.x,a=o.y,s=o.height,l=o.width;r&&a&&(r<0||a<0||r>l-n||a>s-n||a<t.measurements.mainCanvasActionBar.height)&&i.setInitialPosition()},i.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=i.state,n=t.x,o=t.y;n&&o&&i.setInitialPosition()},i.getCursor=function(){var t=i.state,n=t.x,o=t.y;if(n&&o){var r=tt(i.brushTool.color),a=i.brushTool.sizeOnScreenSpace+"px",s={left:i.state.x+"px",top:i.state.y+"px",borderColor:r,height:a,width:a};return e.createElement(hm,{style:s})}return null},i.containerElementRef=e.createRef(),i}return S(n,t),n.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})},n.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(n.prototype,"brushTool",{get:function(){return this.props.brushTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){return e.createElement(pm,{ref:this.containerElementRef,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.start,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())},n}(e.Component),mm=Dl("brushTool","config")(ec(fm));var gm=function(t){var n=t.height,i=t.width,o=t.x,r=t.className,a=t.style;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:n,viewBox:"0 0 102 3",className:r,style:a},e.createElement("pattern",{id:"slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},e.createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),e.createElement("rect",{fill:"url(#slider-dots)",x:1.5*-i,y:"0",width:4*i,height:"3",transform:"translate("+o+", 0)"}))};gm.defaultProps={height:3,width:102,x:-102};var ym=function(t){var n=t.alt,i=t.className;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:i},e.createElement("title",null,n),e.createElement("defs",null,e.createElement("path",{id:"rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},e.createElement("mask",{fill:"none"},e.createElement("use",{xlinkHref:"#rotate-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#rotate-icon"})))};ym.defaultProps={alt:"Rotate"};var bm,vm,_m,xm,wm,Sm,km,Em,Cm,Tm,Om,Im,Rm,Mm,Pm,zm,Am,Dm,Lm,Fm,Bm,jm={adjustment:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"icon/fidelity/adjust",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ic_adjust"},e.createElement("g",{fill:"#D8D8D8",opacity:"0"},e.createElement("rect",{width:"48",height:"48"})),e.createElement("g",{transform:"translate(12 12)"},e.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),e.createElement("g",{transform:"translate(2 13)",fill:"currentColor"},e.createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),e.createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),e.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),e.createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},e.createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),e.createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},e.createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),e.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))))},filter:function(){return e.createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"icon/fidelity/filter",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ic_filter"},e.createElement("g",{fill:"#D8D8D8",opacity:"0"},e.createElement("rect",{width:"48",height:"48"})),e.createElement("g",{transform:"translate(16 14)",fill:"currentColor"},e.createElement("g",null,e.createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),e.createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),e.createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"}))))))},library:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"icon/fidelity/library",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ic_library",transform:"translate(15 15)",fill:"currentColor"},e.createElement("g",null,e.createElement("polygon",{id:"Rectangle-5",fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),e.createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",id:"Rectangle-11",fillOpacity:"0.87"}),e.createElement("polygon",{id:"Path-5",fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),e.createElement("circle",{id:"Oval-4",fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),e.createElement("rect",{id:"Rectangle-13",fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),e.createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},e.createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),e.createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z",id:"Rectangle-12"}))))))},overlay:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"icon/fidelity/overlay",fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},e.createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),e.createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",id:"Rectangle-27",fillOpacity:"0.87"}))))},focus:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{id:"icon/fidelity/blur",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ic_blur"},e.createElement("g",{fill:"#D8D8D8",opacity:"0"},e.createElement("rect",{width:"48",height:"48"})),e.createElement("g",{id:"icon",transform:"translate(12 12)"},e.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),e.createElement("g",{transform:"translate(4 2)",fill:"currentColor"},e.createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),e.createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),e.createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",id:"Oval-7",fillOpacity:"0.87"}))))))},sticker:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},e.createElement("g",{id:"icon/fidelity/sticker",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ic_sticker"},e.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},e.createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},e.createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),e.createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),e.createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),e.createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"})))))},text:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),e.createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),e.createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"})))},textdesign:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),e.createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),e.createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})))},frame:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},e.createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),e.createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),e.createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),e.createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"})))},transform:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},e.createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),e.createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),e.createElement("g",{fillOpacity:"0.2"},e.createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),e.createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))))},brush:function(){return e.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),e.createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),e.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),e.createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),e.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})))}},Um={left:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},e.createElement("defs",null,e.createElement("path",{id:"align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"#fff"},e.createElement("use",{xlinkHref:"#align-left-icon"})),e.createElement("use",{fill:"currentColor",xlinkHref:"#align-left-icon"})))},right:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},e.createElement("defs",null,e.createElement("path",{id:"align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"#fff"},e.createElement("use",{xlinkHref:"#align-right-icon"})),e.createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#align-right-icon"})))},center:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},e.createElement("defs",null,e.createElement("path",{id:"align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"#fff"},e.createElement("use",{xlinkHref:"#align-center-icon"})),e.createElement("use",{fill:"currentColor",xlinkHref:"#align-center-icon"})))}},Nm={addText:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#icon-add-text"})),e.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#icon-add-text"})))},openWebcam:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"}))},reset:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}))},shuffle:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"a",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#a"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#a"})))},uploadImage:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#upload-icon"})),e.createElement("use",{fill:"currentColor",xlinkHref:"#upload-icon"})))}},Hm=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},e.createElement("defs",null,e.createElement("path",{id:"undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#undo-icon"})),e.createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#undo-icon"})))},Wm=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},e.createElement("defs",null,e.createElement("path",{id:"redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#redo-icon"})),e.createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#redo-icon"})))},Vm=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#close-icon"})),e.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#close-icon"})))},Gm=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"#fff"},e.createElement("use",{xlinkHref:"#export-icon"})),e.createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#export-icon"})))},Km={categories:(bm={},bm[fe.CommonCategory]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:"currentColor",transform:"translate(13 13)"},e.createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),e.createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),e.createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),e.createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),e.createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),e.createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),e.createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),e.createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),e.createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),e.createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),e.createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),e.createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),e.createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),e.createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),e.createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),e.createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))))},bm[fe.FacebookCategory]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{fill:"currentColor",d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})))},bm[fe.TwitterCategory]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{fill:"currentColor",d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})))},bm[fe.InstagramCategory]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:"currentColor",transform:"translate(13 13)"},e.createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),e.createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),e.createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))))},bm),crops:(vm={},vm[fe.Custom]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.width,r=void 0===o?"32px":o,a=t.height,s=void 0===a?"32px":a;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 32 32"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:i,transform:"translate(-8 -8)"},e.createElement("g",{transform:"translate(8 8)"},e.createElement("g",null,e.createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),e.createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),e.createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),e.createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),e.createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),e.createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),e.createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),e.createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),e.createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),e.createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),e.createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),e.createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),e.createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),e.createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),e.createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),e.createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),e.createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),e.createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),e.createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),e.createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),e.createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),e.createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),e.createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),e.createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))))},vm[fe.Square]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.mask,r=void 0===o?"#fff":o,a=t.width,s=void 0===a?"32px":a,l=t.height,c=void 0===l?"32px":l;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:s,height:c,viewBox:"0 0 32 32"},e.createElement("defs",null,e.createElement("rect",{id:"square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{transform:"translate(-8 -8)"},e.createElement("g",{transform:"translate(7.08 7.293)"},e.createElement("mask",{fill:r},e.createElement("use",{xlinkHref:"#square-icon"})),e.createElement("use",{fill:i,xlinkHref:"#square-icon"})))))},vm[fe.ThreeByFour]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.width,r=void 0===o?"32px":o,a=t.height,s=void 0===a?"42px":a;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 32 42"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:i,transform:"translate(-8 -3)"},e.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))))},vm[fe.FourByThree]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.width,r=void 0===o?"32px":o,a=t.height,s=void 0===a?"48px":a;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 42 32"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:i,transform:"translate(-3 -8)"},e.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))))},vm[fe.NineBySixteen]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.width,r=void 0===o?"26px":o,a=t.height,s=void 0===a?"46px":a;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 26 46"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:i,transform:"translate(-11 -1)"},e.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))))},vm[fe.SixteenByNine]=function(t){var n=t.highlight,i=void 0===n?"#565656":n,o=t.width,r=void 0===o?"26px":o,a=t.height,s=void 0===a?"46px":a;return e.createElement("svg",{className:"common-crop-thumbnail",xmlns:"http://www.w3.org/2000/svg",width:r,height:s,viewBox:"0 0 26 46"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{fill:i,transform:"translate(-11 -1)"},e.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))))},vm[fe.FacebookPost]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),e.createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:r,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),e.createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),e.createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),e.createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),e.createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:i,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),e.createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})))},vm[fe.FacebookProfile]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",null,e.createElement("path",{fill:i,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),e.createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:i,rx:"1"}),e.createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:i,rx:"1"}),e.createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:i,rx:"1"}),e.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"}),e.createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:i,rx:"1"}))))},vm[fe.FacebookTitle]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("g",{transform:"translate(5 5)"},e.createElement("path",{fill:r,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),e.createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:i,rx:"1"}),e.createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:i,rx:"1"}),e.createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:i,rx:"1"}),e.createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:i,rx:"1"}),e.createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:i,rx:"1"}))))},vm[fe.InstagramLandscape]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:i,rx:"1"}),e.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),e.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),e.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:r,rx:"1"})))},vm[fe.InstagramPortrait]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:r,rx:"1"}),e.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),e.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),e.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:i,rx:"1"})))},vm[fe.InstagramSquare]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:r,rx:"1"}),e.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:i,rx:"1"}),e.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:i,rx:"1"}),e.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:i,rx:"1"}),e.createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:i,rx:"1"})))},vm[fe.InstagramStory]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:r,rx:"1.5"}),e.createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:i,rx:"1"})))},vm[fe.TwitterPost]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.shadow,s=void 0===a?"#333333":a,l=t.width,c=void 0===l?"48px":l,u=t.height,d=void 0===u?"48px":u;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:d,viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("filter",{id:"twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},e.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:r,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),e.createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:s,filter:"url(#twitter-post-icon)",rx:"1"}),e.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})))},vm[fe.TwitterProfile]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),e.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"})))},vm[fe.TwitterTitle]=function(t){var n=t.main,i=void 0===n?"#424242":n,o=t.highlight,r=void 0===o?"#565656":o,a=t.width,s=void 0===a?"48px":a,l=t.height,c=void 0===l?"48px":l;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:s,height:c,viewBox:"0 0 48 48"},e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:r,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:i,rx:"0.5"}),e.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:i,rx:"0.5"}),e.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:i,rx:"0.5"}),e.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})))},vm),dots:gm,duplicate:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#duplicate-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#duplicate-icon"})))},edit:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"}))},bringToFront:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H24V24H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#bring-to-front-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#bring-to-front-icon"})))},delete:function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},e.createElement("defs",null,e.createElement("path",{id:"delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#delete-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#delete-icon"})))},flipHorizontal:function(t){var n=t.className;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:n},e.createElement("title",null,"Flip Horizontal"),e.createElement("defs",null,e.createElement("path",{id:"flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},e.createElement("mask",{fill:"none"},e.createElement("use",{xlinkHref:"#flip-horizontal-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#flip-horizontal-icon"})))},flipVertical:function(t){var n=t.className;return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:n},e.createElement("title",null,"Flip Vertical"),e.createElement("defs",null,e.createElement("path",{id:"flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},e.createElement("mask",{fill:"none"},e.createElement("use",{xlinkHref:"#flip-vertical-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#flip-vertical-icon"})))},rotate:ym},Xm=((_m={})[K.BRIGHTNESS]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),e.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("mask",null,e.createElement("use",{xlinkHref:"#brightness-icon"})),e.createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#brightness-icon"})))},_m[K.CONTRAST]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#contrast-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#contrast-icon"})))},_m[K.SATURATION]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#saturation-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#saturation-icon"})))},_m[K.CLARITY]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#clarity-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#clarity-icon"})))},_m[K.SHADOWS]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#shadows-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#shadows-icon"})))},_m[K.HIGHLIGHTS]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#highlights-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#highlights-icon"})))},_m[K.EXPOSURE]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#exposure-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#exposure-icon"})))},_m[K.GAMMA]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"#fff"},e.createElement("use",{xlinkHref:"#gamma-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#gamma-icon"})))},_m[K.BLACKS]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"blacks-icon",d:"M24 12c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12m0 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10m4 12c0 2.788-2.326 3.879-7 3V18.5c4.148-.459 6.516.226 6.516 2.623 0 1.207-.492 1.998-1.512 2.474C27.504 23.999 28 24.619 28 26zm-5-6v3c2.244.068 2.775-.719 2.775-1.536 0-1.22-.531-1.812-2.775-1.464zm0 7.5c2.19.193 3.038-.04 3.038-1.484 0-1.37-1.096-1.695-3.038-1.516v3z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#blacks-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#blacks-icon"})))},_m[K.WHITES]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"whites-icon",d:"M24 12c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12zm-2 6.46h-2c.221 4.539.762 9.051 1 11.04h1.5l1.5-5.52 1.5 5.52H27c.238-1.989.779-6.501 1-11.04h-2c-.051 1.071-.432 7.446-.5 7.973-.459-1.717-.541-3.111-1-4.811h-1c-.442 1.7-.541 2.975-1 4.811-.051-.527-.466-6.902-.5-7.973z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#whites-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#whites-icon"})))},_m[K.TEMPERATURE]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#temperature-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#temperature-icon"})))},_m[K.SHARPNESS]=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},e.createElement("defs",null,e.createElement("path",{id:"sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),e.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},e.createElement("path",{d:"M0 0H48V48H0z"}),e.createElement("mask",{fill:"currentColor"},e.createElement("use",{xlinkHref:"#sharpness-icon"})),e.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#sharpness-icon"})))},_m),Ym=y.div(xm||(xm=A(["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"],["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"]))),qm=y.div(wm||(wm=A(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"],["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"]))),$m=y.div(Sm||(Sm=A(["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n"],["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n"])),(function(e){return e.theme.foreground})),Zm=y.div(km||(km=A(["\n  transform: translate(0, 0) !important;\n"],["\n  transform: translate(0, 0) !important;\n"]))),Jm=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.SLIDER_WIDTH=213,e.MAX_ROTATION=45,e.DEGREES_PER_PIXEL=2*e.MAX_ROTATION/e.SLIDER_WIDTH,e.drag=function(t,n){var i=n.x,o=e.transformTool.defaultAngle+i*e.DEGREES_PER_PIXEL,r=Math.min(e.MAX_ROTATION,Math.max(o,-1*e.MAX_ROTATION));e.transformTool.setRotation(parseInt(""+r,10))},e.stop=function(){e.transformTool.setDefaultAngle(e.transformTool.rotationInDegrees),e.transformTool.addSnapshot()},e}return S(n,t),Object.defineProperty(n.prototype,"transformTool",{get:function(){return this.props.transformTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle;return e.createElement(qm,null,e.createElement(Zf.Draggable,{axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0},e.createElement(Zm,null,e.createElement(Ym,null,e.createElement(Km.dots,{width:90,height:15,x:2*t})),e.createElement($m,null,this.props.transformTool.rotationInDegrees,""),e.createElement(Ym,null,e.createElement(Km.dots,{width:90,height:15,x:2*t})))))},n}(e.Component),Qm=Dl("transformTool")(ec(Jm)),eg=y(vu)(Em||(Em=A(["\n  align-self: center;\n  color: ",";\n"],["\n  align-self: center;\n  color: ",";\n"])),(function(e){return e.theme.foreground})),tg=y(Fd.Bar.ButtonGroup)(Cm||(Cm=A(["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"],["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"]))),ng=Dl("transformTool","config","custom")(ec((function(t){var n=t.transformTool,i=t.config,o=t.custom,r=n.locale.transformActions,a=function(e){var t=e.customButtonKey,n=e.onClick,i=e.label,r=e.icon;return o.getButton(t)({key:i,label:i,onClick:n,icon:r})},s=a({label:r.buttonFlipHorizontal,icon:e.createElement(rg,null),onClick:function(){n.flipHorizontally()},customButtonKey:"transformActionFlipHorizontal"})||e.createElement(eg,{ariaLabel:r.buttonFlipHorizontal,onClick:function(){n.flipHorizontally()}},e.createElement(rg,null)),l=a({label:r.buttonFlipVertical,icon:e.createElement(ag,null),onClick:function(){n.flipVertically()},customButtonKey:"transformActionFlipVertical"})||e.createElement(eg,{ariaLabel:r.buttonFlipVertical,onClick:function(){n.flipVertically()}},e.createElement(ag,null)),c=a({label:r.buttonRotateClockwise,icon:e.createElement(ig,null),onClick:n.rotateClockwise,customButtonKey:"transformActionRotateClockwise"})||e.createElement(eg,{ariaLabel:r.buttonRotateClockwise,onClick:n.rotateClockwise},e.createElement(ig,null)),u=a({label:r.buttonRotateAntiClockwise,icon:e.createElement(og,null),onClick:n.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"})||e.createElement(eg,{ariaLabel:r.buttonRotateAntiClockwise,onClick:n.rotateAntiClockwise},e.createElement(og,null)),d=i.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return e.createElement(tg,{style:d},n.config.enableFlip&&s||null,n.config.enableFlip&&l||null,n.config.enableRotation&&e.createElement(Qm,null)||null,n.config.enableRotation&&u||null,n.config.enableRotation&&c||null)}))),ig=y(Km.rotate)(Tm||(Tm=A(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"],["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),og=y(Km.rotate)(Om||(Om=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),rg=y(Km.flipHorizontal)(Im||(Im=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),ag=y(Km.flipVertical)(Rm||(Rm=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),sg=Fd.Crop.GridLine,lg=Fd.Crop.Mask,cg=Zf.Draggable,ug=y(Ld)(Mm||(Mm=A(["\n  left: 3px;\n  top: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 4px;\n    top: 4px;\n  }\n"],["\n  left: 3px;\n  top: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 4px;\n    top: 4px;\n  }\n"]))),dg=y(Ld)(Pm||(Pm=A(["\n  left: -27px;\n  top: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: -28px;\n    top: 4px;\n  }\n"],["\n  left: -27px;\n  top: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: -28px;\n    top: 4px;\n  }\n"]))),pg=y(Ld)(zm||(zm=A(["\n  left: -27px;\n  top: -27px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: -28px;\n    top: -28px;\n  }\n"],["\n  left: -27px;\n  top: -27px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: -28px;\n    top: -28px;\n  }\n"]))),hg=y(Ld)(Am||(Am=A(["\n  top: -27px;\n  left: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    top: -28px;\n    left: 4px;\n  }\n"],["\n  top: -27px;\n  left: 3px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    top: -28px;\n    left: 4px;\n  }\n"]))),fg=Dl("transformTool")(ec((function(t){var n=t.transformTool,i=n,o=i.leftTop,r=i.leftBottom,a=i.rightTop,s=i.rightBottom,l=n.cropMaskSize,c=l.height,u=l.width,d=n,p=d.defaultCropMaskSize,h=d.defaultCropMaskPosition,f=C({},p,{left:h.x,top:h.y}),m={height:c,width:u},g=n.isDragMode?{transition:"unset"}:{};return e.createElement("div",{style:C({},f,{position:"absolute"})},e.createElement(cg,{bounds:"parent",position:o,onStart:function(e,t){var i=t.x,o=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.changePosition({x:i,y:o})},onDrag:function(e,t){var i=t.x,o=t.y;n.changePosition({x:i,y:o})},onStop:function(e,t){var i=t.x,o=t.y;n.setDragMode(!1),n.changePosition({x:i,y:o}),n.clickableCanvas(!0),n.addSnapshot()}},e.createElement(lg,{style:C({},m,g)})),e.createElement(sg,{style:C({left:o.x+u/3,top:o.y,height:c,width:1},g)}),e.createElement(sg,{style:C({left:o.x+u/3*2,top:o.y,height:c,width:1},g)}),e.createElement(sg,{style:C({left:o.x,top:o.y+c/3,height:1,width:u},g)}),e.createElement(sg,{style:C({left:o.x,top:o.y+c/3*2,height:1,width:u},g)}),e.createElement(cg,{bounds:"parent",position:C({},o),onStart:function(e,t){var i=t.x,o=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftTop({x:i,y:o})},onDrag:function(e,t){var i=t.x,o=t.y;n.onLeftTop({x:i,y:o})},onStop:function(e,t){var i=t.x,o=t.y;n.setDragMode(!1),n.onLeftTop({x:i,y:o}),n.clickableCanvas(!0),n.addSnapshot()}},e.createElement(ug,{vertical:"top",horizontal:"left",borderWidth:3,style:g})),e.createElement(cg,{bounds:"parent",position:r,onStart:function(e,t){var i=t.x,o=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftBottom({x:i,y:o})},onDrag:function(e,t){var i=t.x,o=t.y;n.onLeftBottom({x:i,y:o})},onStop:function(e,t){var i=t.x,o=t.y;n.setDragMode(!1),n.onLeftBottom({x:i,y:o}),n.clickableCanvas(!0),n.addSnapshot()}},e.createElement(hg,{vertical:"bottom",horizontal:"left",borderWidth:3,style:g})),e.createElement(cg,{bounds:"parent",position:a,onStart:function(e,t){var i=t.x,o=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightTop({x:i,y:o})},onDrag:function(e,t){var i=t.x,o=t.y;n.onRightTop({x:i,y:o})},onStop:function(e,t){var i=t.x,o=t.y;n.setDragMode(!1),n.onRightTop({x:i,y:o}),n.clickableCanvas(!0),n.addSnapshot()}},e.createElement(dg,{vertical:"top",horizontal:"right",borderWidth:3,style:g})),e.createElement(cg,{bounds:"parent",position:s,onStart:function(e,t){var i=t.x,o=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightBottom({x:i,y:o})},onDrag:function(e,t){var i=t.x,o=t.y;n.onRightBottom({x:i,y:o})},onStop:function(e,t){var i=t.x,o=t.y;n.setDragMode(!1),n.onRightBottom({x:i,y:o}),n.clickableCanvas(!0),n.addSnapshot()}},e.createElement(pg,{vertical:"bottom",horizontal:"right",borderWidth:3,style:g})))}))),mg=Fd.Bar.Index,gg=Fd.Crop.Backdrop,yg=Dl("transformTool","canvas","config")(ec((function(t){var n=t.transformTool,i=t.canvas,o=t.config,r=n,a=r.leftTop,s=r.leftBottom,l=r.rightTop,c=n.cropMaskSize.height,u=i.canvasSize,d=u.height,p=u.width,h=n.defaultCropMaskPosition,f=n.isDragMode?{transition:"unset"}:{};return e.createElement(Fd.Controls.Container,null,e.createElement(gg,{style:C({left:0,top:0,width:p,height:a.y+h.y},f)}),e.createElement(gg,{style:C({left:0,top:a.y+h.y,width:h.x+a.x,height:c},f)}),e.createElement(gg,{style:C({left:l.x+h.x,top:l.y+h.y,width:p-l.x-h.x,height:c},f)}),e.createElement(gg,{style:C({left:0,top:s.y+h.y,width:p,height:d-s.y-h.y+o.measurements.basicToolControlBar.controlsBarHeight},f)}),e.createElement(fg,null),o.isLayoutAdvanced?e.createElement(mg,{bottom:!0},e.createElement(ng,null)):null)}))),bg=y(Fd.Controls.Container)(Lm||(Lm=A(["\n  ","\n  z-index: ",";\n"],["\n  ","\n  z-index: ",";\n"])),(function(e){return e.activeCursor?b(Dm||(Dm=A(["\n          cursor: move;\n        "],["\n          cursor: move;\n        "]))):""}),(function(e){return e.theme.measurements.zIndex.canvas.crop.dragImage})),vg=function(t){function n(n){var i=t.call(this,n)||this;return i.INITIAL_POSITION={x:void 0,y:void 0},i.state=C({},i.INITIAL_POSITION,{isDragging:!1}),i.containerRef=null,i.getCursorCoordinates=function(e){var t=0,n=0;if(-1!==e.type.indexOf("touch")){if(!(o=e).touches.length)return i.INITIAL_POSITION;t=o.touches[0].clientX,n=o.touches[0].clientY}else{var o;t=(o=e).clientX,n=o.clientY}var r=i.containerRef.current.getBoundingClientRect();return{x:t-r.left,y:n-r.top}},i.move=function(e){if(i.scale.canDrag){var t=i.getCursorCoordinates(e),n=t.x,o=t.y;if(void 0!==n&&void 0!==o&&i.state.isDragging){var r={x:i.state.x-n,y:i.state.y-o};i.scale.setOffset(r)}}},i.touchDrag=function(e){if(i.scale.canDrag){var t=i.getCursorCoordinates(e),n=t.x,o=t.y;void 0!==n&&void 0!==o&&i.setState({x:n,y:o,isDragging:!0})}},i.drag=function(e){e.preventDefault(),i.touchDrag(e)},i.stop=function(){i.scale.canDrag&&(i.scale.savePosition(),i.setState(C({},i.INITIAL_POSITION,{isDragging:!1})))},i.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=i.state,n=t.x,o=t.y;n&&o&&i.setState(C({},i.INITIAL_POSITION,{isDragging:!1}))},i.containerRef=e.createRef(),i}return S(n,t),n.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})},n.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(n.prototype,"scale",{get:function(){return this.props.scale},enumerable:!0,configurable:!0}),n.prototype.render=function(){return e.createElement(bg,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})},n}(e.Component),_g=Dl("scale")(ec(vg)),xg=y.img(Fm||(Fm=A(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),wg=y.img(Bm||(Bm=A(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Sg=new xe(0,0),kg=new xe(0,0),Eg=Dl("sprite")(ec((function(t){var n=t.sprite,i=n.leftMidPadPosition,o=n.rightMidPadPosition,r=function(e,t){n.setDragMode(!0),n.clickableCanvas(!1);var r=e.clientX,a=e.clientY;Sg=new xe(r,a),kg=new xe("left"===t?i:o)},a=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textDesignLocale.padding),Sg=new xe(0,0),kg=new xe(0,0)},s=function(e){var t=e.clientX,i=e.clientY;if(void 0!==t&&void 0!==i){var o=kg.subtract(Sg.subtract(new xe(t,i)));n.onPaddingDrag(o)}};return e.createElement(e.Fragment,null,e.createElement(Zf.Draggable,{onStart:function(e){return r(e,"left")},onDrag:s,onStop:a},e.createElement(xg,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANJJREFUSA3tlEsKwjAURUv9Vq3gBlyjKxF/c0EQxIEgggjiwP/ILbgU6ykYuLMGeRlp4JJH+3JOEmij6D9C3UCWZTWSBOEDbpM7eZCOqQRgSm7EjZ6ZAGIOvzoycz8kfGAJb7Hbi+x8aA0/C3xkCW8CPgl8bA0/CnzyDTwuWPSS9wmyon5p9ygBNshBTjGlNpfkO9+LZBZCUge6E8mcuuRxCf4tAPOf21YkC+qyP8Gj8yPZiGQZQlIFuhaJ3VftDgm8QlbkSbruuekMOCapKfQ3YW/1Myhh/78bMQAAAABJRU5ErkJggg=="})),e.createElement(Zf.Draggable,{onStart:function(e){return r(e,"right")},onDrag:s,onStop:a},e.createElement(wg,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPhJREFUSA3tlLkKwlAQRYOVnXZ+gEshIiJ+hAgiCBJc8Sf8XgsVFBVLt2g8UwhBMomZtLlwIMxy3uMVcZwsaV/A9/1iWoe6j3wFV+iqQ9YG0hJcQHKDntWl7iHtwPeQO999ddjaQNqGM0geMLC61D2kLTiBRA4ZqsPWBtImHEHyhJHVpe4hbcABJHKIqw5bG0jrsAeJB5MoVy6qqfQ86u9AL/gdKBs+uW0NdiCR248NmvAVZFUIyiOfJtyiVBFXYAuSF0yV0eRlZL/yWXKLsoG8DBuQyM3nymjyMrI8rEEi8kVyS8wGUhfkJ7eMGbW3kRfs29nmHy/wAUVpDIFPWLFFAAAAAElFTkSuQmCC"})))}))),Cg=y(Fd.Controls.Width)(Mg||(Mg=A(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"],["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),Tg=y(Cg)(Pg||(Pg=A(["\n  left: -3px;\n  top: calc(50% - ","px);\n"],["\n  left: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Og=y(Cg)(zg||(zg=A(["\n  right: -3px;\n  top: calc(50% - ","px);\n"],["\n  right: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Ig=new xe(0,0),Rg=new xe(0,0);Tg.defaultProps={theme:mr},Og.defaultProps={theme:mr};var Mg,Pg,zg,Ag=Dl("sprite","textTool")(ec((function(t){var n=t.sprite,i=t.textTool,o=n.leftMidPadPosition,r=n.rightMidPadPosition,a=function(e,t){n.setDragMode(!0),n.clickableCanvas(!1);var i=e.clientX,a=e.clientY;Ig=new xe(i,a),Rg=new xe("left"===t?o:r)},s=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textLocale.width),n.setDefaultSize(),i.updateDefaultFontSize(),Ig=new xe(0,0),Rg=new xe(0,0)},l=function(e){var t=e.clientX,i=e.clientY;if(void 0!==t&&void 0!==i){var o=Rg.subtract(Ig.subtract(new xe(t,i)));n.onWidthDrag(o)}};return e.createElement(e.Fragment,null,e.createElement(Zf.Draggable,{onStart:function(e){return a(e,"left")},onDrag:l,onStop:s},e.createElement(Tg,null)),e.createElement(Zf.Draggable,{onStart:function(e){return a(e,"right")},onDrag:l,onStop:s},e.createElement(Og,null)))}))),Dg=Dl("textTool","sprite","custom")(ec((function(t){var n,i=t.textTool,o=t.sprite,r=t.custom,a=i.locale.canvasActions,s=((n={})[k.EDIT]={key:k.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return i.setEditMode(!0)},label:a.buttonEdit,icon:e.createElement(Km.edit,null)},n[k.BRING_TO_FRONT]={key:k.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),i.bringToFront()},label:a.buttonBringToFront,icon:e.createElement(Km.bringToFront,null)},n[k.DUPLICATE]={key:k.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return i.duplicate()},label:a.buttonDuplicate,icon:e.createElement(Km.duplicate,null)},n[k.DELETE]={key:k.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),i.delete()},label:a.buttonDelete,icon:e.createElement(Km.delete,null)},n),l=i.config.canvasActions.map((function(t){return s[t]?function(t){var n=t.key,i=t.customButtonKey,o=t.onClick,a=t.label,s=t.icon,l=e.createElement(Fd.Controls.SpriteActionButton,{ariaLabel:a,key:n,onClick:o,icon:s},a);return r.getButton(i)({key:n,label:a,onClick:o,icon:s})||l}(s[t]):null}));return o.isSpriteText?e.createElement(Fd.Bar.ButtonGroup,null,l):null}))),Lg=Dl("stickerTool","custom")(ec((function(t){var n,i=t.stickerTool,o=t.custom,r=i.locale.canvasActions,a=((n={})[k.BRING_TO_FRONT]={key:k.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),i.bringToFront()},label:r.buttonBringToFront,icon:e.createElement(Km.bringToFront,null)},n[k.FLIP]={key:k.FLIP,customButtonKey:"canvasActionFlip",onClick:function(e){e.stopPropagation(),i.flipHorizontally()},label:r.buttonFlipHorizontal,icon:e.createElement(Km.flipHorizontal,null)},n[k.DUPLICATE]={key:k.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return i.duplicate()},label:r.buttonDuplicate,icon:e.createElement(Km.duplicate,null)},n[k.DELETE]={key:k.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),i.delete()},label:r.buttonDelete,icon:e.createElement(Km.delete,null)},n),s=i.config.canvasActions.map((function(t){return a[t]?function(t){var n=t.key,i=t.customButtonKey,r=t.onClick,a=t.label,s=t.icon,l=e.createElement(Fd.Controls.SpriteActionButton,{ariaLabel:a,key:n,onClick:r,icon:s},a);return o.getButton(i)({key:n,label:a,onClick:r,icon:s})||l}(a[t]):null}));return i.isStickerSelected?e.createElement(Fd.Bar.ButtonGroup,null,s):null}))),Fg=Dl("textDesignTool","custom")(ec((function(t){var n,i=t.textDesignTool,o=t.custom,r=i.locale.canvasActions,a=((n={})[k.EDIT]={key:k.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return i.setEditMode(!0)},label:r.buttonEdit,icon:e.createElement(Km.edit,null)},n[k.BRING_TO_FRONT]={key:k.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),i.bringToFront()},label:r.buttonBringToFront,icon:e.createElement(Km.bringToFront,null)},n[k.INVERT]={key:k.INVERT,customButtonKey:"canvasActionInvert",onClick:function(e){e.stopPropagation(),i.invertBackground()},label:r.buttonInvert,icon:e.createElement(Km.flipHorizontal,null)},n[k.DUPLICATE]={key:k.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return i.duplicate()},label:r.buttonDuplicate,icon:e.createElement(Km.duplicate,null)},n[k.DELETE]={key:k.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),i.delete()},label:r.buttonDelete,icon:e.createElement(Km.delete,null)},n),s=i.config.canvasActions.map((function(t){return a[t]?function(t){var n=t.key,i=t.customButtonKey,r=t.onClick,a=t.label,s=t.icon,l=e.createElement(Fd.Controls.SpriteActionButton,{ariaLabel:a,key:n,onClick:r,icon:s},a);return o.getButton(i)({key:n,label:a,onClick:r,icon:s})||l}(a[t]):null}));return i.isTextDesignSelected?e.createElement(Fd.Bar.ButtonGroup,null,s):null}))),Bg=function(t){function n(n){var i=t.call(this,n)||this;return i.actionsRef=null,i.spriteControlPosition=function(){var e=i.props,t=e.config,n=e.sprite,o=t.measurements,r=n,a=r.position,s=r.size.height,l=r.rotationWRTOutputRotation,c=o.canvasControls.sprite.controlOffset,u=o.canvasControls.sprite.rotateHandle.height,d=o.mainCanvasActionBar.height,p=o.canvasControls.sprite.controlPadding,h=i.actionsRef.current,f=i.props.spriteRef.current,m=document.getElementById("CanvasContainer");if(h&&f&&m){var g=f.getBoundingClientRect(),y=h.getBoundingClientRect(),b=m.getBoundingClientRect(),v={top:g.top-b.top,left:g.left-b.left,right:b.right-g.right,bottom:b.bottom-g.bottom},_=Math.abs(g.left-g.right),x=Math.abs(g.top-g.bottom),w=c,S=c,k=c+d+y.height,E=v.left<w,C=v.right<S,T=v.top<k,O=v.left+_/2,I={x:O,y:v.top-c},R={x:-50,y:-100};T&&(I.y=v.top+x+c+u,R.y=0),E&&(I.x=w,R.x=0),C&&(I.x=b.width-c,R.x=-100);var M=v.left<c&&v.right>b.width-c,P=T&&v.bottom>b.height;if(M&&(I.x=O),P&&(I.y=v.top+x/2),T||E||C||M||P||l)return{transform:"translate("+R.x+"%, "+R.y+"%)",left:I.x+"px",top:I.y-p/2+"px"}}return{left:a.x+"px",top:a.y-c-s/2-p/2+"px"}},i.getSpriteControls=function(){switch(i.props.sprite.tool){case E.TEXT:return e.createElement(Dg,null);case E.TEXT_DESIGN:return e.createElement(Fg,null);case E.STICKER:return e.createElement(Lg,null)}return null},i.actionsRef=e.createRef(),i}return S(n,t),n.prototype.render=function(){var t=this.props.sprite,n=!t.isDragMode&&!t.isEditMode;if(t.isSpriteSelected){var i=this.spriteControlPosition();return e.createElement(Fd.Controls.SpriteActionsWrapper,{ref:this.actionsRef,show:n,style:i},this.getSpriteControls())}return null},n}(e.Component),jg=Dl("sprite","config")(ec(Bg)),Ug=y(Fd.Controls.Knob)(Wg||(Wg=A(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"],["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"])),(function(e){return e.url}),(function(e){return e.theme.measurements.canvasControls.knob.size/2})),Ng=new xe(0,0),Hg=new xe(0,0);Ug.defaultProps={theme:mr};var Wg,Vg,Gg=Dl("sprite","snapping","config")(ec((function(t){var n=t.config,i=t.sprite,o=t.snapping,r=i.rightBottomHandlePosition,a=i.leftBottomHandlePosition,s={x:(r.x+a.x)/2,y:(r.y+a.y)/2},l=n.assetProvider.getAbsolutePath("controls/"+(function(e){return void 0===e&&(e=aa()),!!e.match(/windows/i)}()?"rotate-windows":"rotate-osx")+".png");return e.createElement(Zf.Draggable,{onStart:function(e){var t=e.clientX,n=e.clientY;Ng=new xe(t,n),Hg=new xe(s),i.setDragMode(!0),i.clickableCanvas(!1)},onDrag:function(e){!function(e){var t=e.clientX,n=e.clientY;if(void 0!==t&&void 0!==n){var r=Hg.subtract(Ng.subtract(new xe(t,n))),a=i.position,s=new xe(a.x,a.y),l=r.subtract(s),c=Math.atan2(l.y,l.x)-Math.PI/2,u=o.snapToRotation(c,l,i.currentRect);i.setRotation(u)}}(e)},onStop:function(){i.clickableCanvas(!0),i.setDragMode(!1),i.spriteSnapshot("rotation"),o.hideRotationGuides(),Ng=new xe(0,0),Hg=new xe(0,0)}},e.createElement(Ug,{url:l}))}))),Kg=Fd.Controls.Corner,Xg=Zf.Draggable,Yg=new xe(0,0),qg=new xe(0,0),$g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return S(n,t),Object.defineProperty(n.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.props,n=t.sprite,i=t.config,o=n,r=o.leftTopPosition,a=o.leftBottomPosition,s=o.rightTopPosition,l=o.rightBottomPosition,c=i.measurements.canvasControls.corner.borderWidth,u=function(e){var t=e.clientX,i=e.clientY;if(void 0!==t&&void 0!==i){var o=qg.subtract(Yg.subtract(new xe(t,i)));n.onCornerDrag(o)}},d=function(e,t){var i=e.clientX,o=e.clientY;Yg=new xe(i,o),qg=new xe(function(e){switch(e){case"leftTop":return r;case"leftBottom":return a;case"rightTop":return s;case"rightBottom":return l;default:return r}}(t)),n.clickableCanvas(!1),n.setDragMode(!0)},p=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("size"),Yg=new xe(0,0),qg=new xe(0,0)};return e.createElement(e.Fragment,null,e.createElement(Xg,{onStop:p,onDrag:u,onStart:function(e){return d(e,"leftTop")}},e.createElement(Kg,{vertical:"top",horizontal:"left",borderWidth:c})),e.createElement(Xg,{onStop:p,onDrag:u,onStart:function(e){return d(e,"leftBottom")}},e.createElement(Kg,{vertical:"bottom",horizontal:"left",borderWidth:c})),e.createElement(Xg,{onStop:p,onDrag:u,onStart:function(e){return d(e,"rightTop")}},e.createElement(Kg,{vertical:"top",horizontal:"right",borderWidth:c})),e.createElement(Xg,{onStop:p,onDrag:u,onStart:function(e){return d(e,"rightBottom")}},e.createElement(Kg,{vertical:"bottom",horizontal:"right",borderWidth:c})))},n}(e.Component),Zg=Dl("sprite","config")(ec($g)),Jg=Zf.Draggable,Qg=new xe(0,0),ey=new xe(0,0),ty=function(t){function n(n){var i=t.call(this,n)||this;return i.spriteRef=null,i.onAreaDrag=function(e){var t=e.clientX,n=e.clientY,o=i.props.snapping,r=ey.subtract(Qg.subtract(new xe(t,n))),a=o.snapToPosition({x:r.x,y:r.y},i.sprite.currentRect),s=a.x,l=a.y;i.sprite.setPosition({x:s,y:l})},i.onAreaDragStart=function(e){var t=i.props.snapping,n=e.clientX,o=e.clientY;Qg=new xe(n,o),ey=new xe(i.sprite.position),i.sprite.setDragMode(!0),t.updateGuides()},i.onAreaDragStop=function(){var e=i.props.snapping;Qg=new xe(0,0),ey=new xe(0,0),i.sprite.setDragMode(!1),i.sprite.spriteSnapshot("position"),e.hidePositionGuides()},i.onDoubleClick=function(e){e.preventDefault(),e.stopPropagation(),i.sprite.setEditMode(!0)},i.isSpriteSelected=function(){var e=i.props.active.tool,t=i.sprite.tool;return i.sprite.isSpriteSelected&&e===t},i.spriteRef=e.createRef(),i}return S(n,t),Object.defineProperty(n.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.props,n=t.sprite,i=t.config;if(!this.isSpriteSelected())return null;var o=this.sprite.isSpriteText,r=this.sprite.isSpriteTextDesign&&this.sprite.textDesignToolStore.isInverted,a=n.size,s=a.height,l=a.width,c=n.spritePosition,u=n.rotationWRTOutputRotation,d=i.measurements.canvasControls.sprite.controlPadding;return e.createElement(Fd.Controls.Container,null,e.createElement(Jg,{onStart:this.onAreaDragStart,onDrag:this.onAreaDrag,onStop:this.onAreaDragStop,rotation:u,position:c},e.createElement(Fd.Controls.Sprite,{ref:this.spriteRef,onDoubleClick:this.onDoubleClick,height:s,width:l},o&&e.createElement(Ag,null)||null,r&&e.createElement(Eg,null)||null,e.createElement(Zg,null),e.createElement(Fd.Controls.RotateHandle,{x:l/2+d/2},e.createElement(Gg,null)))),e.createElement(jg,{spriteRef:this.spriteRef}))},n}(e.Component),ny=Dl("sprite","active","snapping","config")(ec(ty)),iy=function(t){function n(n){var i=t.call(this,n)||this;return i.containerElementRef=null,i.getControls=function(t){switch(i.props.active.tool){case E.FOCUS:return e.createElement(dm,null);case E.TEXT:case E.TEXT_DESIGN:case E.STICKER:return e.createElement(ny,null);case E.BRUSH:return e.createElement(mm,null);case E.TRANSFORM:return e.createElement(yg,null);default:return e.createElement(Fd.Controls.Container,null,t)}},i.canvasClicked=function(e){if(e.preventDefault(),e.stopPropagation(),i.props.canvas.isCanvasClickable){var t=e.clientX,n=e.clientY;if(-1!==e.type.indexOf("touch")){var o=e;if(!o.touches.length)return;t=o.touches[0].clientX,n=o.touches[0].clientY}var r=i.containerElementRef.current.getBoundingClientRect(),a=t-r.left,s=n-r.top;i.props.canvas.getContainersAtPreviewPoint({x:a,y:s})}},i.onKeyDown=function(e){"Tab"===e.code&&i.props.sprite.selectLast()},i.containerElementRef=e.createRef(),i}return S(n,t),n.prototype.render=function(){var t=this.props.children,n=this.props.canvas.canvasSize,i={height:n.height,width:n.width};return e.createElement(Fd.Controls.Wrapper,C({"aria-hidden":!0,ref:this.containerElementRef,onClick:this.canvasClicked,onKeyDown:this.onKeyDown},i),t,this.getControls(e.createElement(_g,null)))},n}(e.Component),oy=Dl("active","canvas","sprite")(ec(iy)),ry=y.div(Vg||(Vg=A(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"],["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"])),(function(e){return e.isVisible?"block":"none"}),(function(e){return e.theme.measurements.zIndex.canvas.snappingGuide})),ay=function(t){var n=t.isVisible,i=t.className;return e.createElement(ry,{isVisible:n,className:i})};ay.defaultProps={direction:"horizontal",left:0,top:0};var sy,ly,cy,uy,dy,py,hy=y(ay)(cy||(cy=A(["\n  background: ",";\n  ","\n"],["\n  background: ",";\n  ","\n"])),(function(e){return e.theme.snapping.positionGuideColor}),(function(e){return"horizontal"===e.direction?b(sy||(sy=A(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "],["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),(function(){return e.position})):b(ly||(ly=A(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "],["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),(function(){return e.position}))})),fy=y(ay)(uy||(uy=A(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"],["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),(function(e){return e.theme.snapping.rotationGuideColor}),(function(e){return e.position.x}),(function(e){return e.position.y}),(function(e){return e.rotation})),my=y.div(dy||(dy=A(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.top}),(function(e){return e.left})),gy=Dl("snapping","editor")(ec((function(t){var n=t.snapping,i=t.editor.getPreviewSize(),o=i.width,r=i.height,a=n.previewTopLeftPosition,s=a.x,l=a.y,c=n.positionGuides.map((function(t,n){var i=t.direction,o=t.value,r=t.isVisible;return e.createElement(hy,{key:"positionGuide-"+n,direction:i,position:o,isVisible:r})})),u=n.rotationGuides.find((function(e){return e.isVisible}));return e.createElement(my,{width:o,height:r,left:s,top:l},c,e.createElement(fy,{key:"rotationGuide",rotation:u?u.value:0,position:u?u.position:{x:0,y:0},isVisible:!!u}))}))),yy=function(t){function n(n){var i=t.call(this,n)||this;return i.previewCanvasRef=null,i.previewCanvasRef=e.createRef(),i}return S(n,t),n.prototype.componentDidMount=function(){var e=this.previewCanvasRef.current;this.props.canvas.setCanvasElement(e)},n.prototype.render=function(){return e.createElement(Nd,null,this.props.active.isWebcam?e.createElement(jd,null):null,e.createElement(Fd.Element,{ref:this.previewCanvasRef,"aria-label":"Canvas"}),e.createElement(oy,null,e.createElement(gy,null)))},n}(e.Component),by=Dl("active","canvas")(ec(yy)),vy=Fd.Button.TextSecondary,_y=y.span(py||(py=A(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  display: flex;\n  align-self: center;\n"],["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  display: flex;\n  align-self: center;\n"])),(function(e){return e.theme.canvasActionBar.foreground})),xy=Dl("scale","active")(ec((function(t){var n=t.scale,i=t.active,o=n.canZoomIn,r=n.canZoomOut,a=n.zoomLevel;return-1!==[E.TRANSFORM,E.BRUSH,E.FOCUS,E.STICKER,E.TEXT,E.TEXT_DESIGN].indexOf(i.tool)?null:e.createElement(Fd.Bar.ButtonGroup,null,e.createElement(vy,{ariaLabel:"Zoom out",isDisabled:!r,onClick:n.out},"-"),e.createElement(_y,null,a," %"),e.createElement(vy,{ariaLabel:"Zoom in",isDisabled:!o,onClick:n.in},"+"))})));_y.defaultProps={theme:mr};var wy,Sy,ky,Ey,Cy,Ty,Oy,Iy,Ry,My,Py,zy,Ay,Dy,Ly,Fy=Fd.Button.TextSecondary,By=Fd.Button.ContainedPrimary,jy=Fd.Button.OutlinedSecondary,Uy=Dl("config","editor","history","custom")(ec((function(t){var n=t.config,i=t.editor,o=t.history,r=t.custom,a=n.locale.mainCanvasActions,s=o.canUndo,l=o.canRedo,c=n.config.mainCanvasActions,u=function(){i.export()},d=function(){i.close()},p=function(){var t=e.createElement(Hm,null),n=e.createElement(Fy,{ariaLabel:a.buttonUndo,onClick:o.undo,isDisabled:!s,icon:t},a.buttonUndo);return r.getButton("mainCanvasActionUndo")({key:"mainCanvasActionUndo",onClick:o.undo,isDisabled:!s,label:a.buttonUndo,icon:t})||n},h=function(){var t=e.createElement(Wm,null),n=e.createElement(Fy,{ariaLabel:a.buttonRedo,onClick:o.redo,isDisabled:!l,icon:t},a.buttonRedo);return r.getButton("mainCanvasActionRedo")({key:"mainCanvasActionRedo",onClick:o.redo,isDisabled:!l,label:a.buttonRedo,icon:t})||n},f=function(){var t=e.createElement(Gm,null),n=e.createElement(By,{ariaLabel:a.buttonExport,onClick:u,icon:t},a.buttonExport);return r.getButton("mainCanvasActionExport")({key:"mainCanvasActionExport",onClick:u,label:a.buttonExport,icon:t})||n},m=function(){if(!n.displayCloseButton)return null;var t=e.createElement(Vm,null),i=e.createElement(jy,{ariaLabel:a.buttonClose,onClick:d,icon:t},a.buttonClose);return r.getButton("mainCanvasActionClose")({key:"mainCanvasActionClose",onClick:d,label:a.buttonClose,icon:t})||i},g=c.map((function(e){switch(e){case k.UNDO:return p;case k.REDO:return h;case k.EXPORT:return f;case k.CLOSE:return m}return null}));return e.createElement(Fd.Bar.Index,null,e.createElement(Fd.Bar.ButtonGroup,null,g[0]&&g[0]()||null,g[1]&&g[1]()||null),n.config.enableZoom?e.createElement(xy,null):null,e.createElement(Fd.Bar.ButtonGroup,null,g[2]&&g[2]()||null,g[3]&&g[3]()||null))}))),Ny=y.div(wy||(wy=A(["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"],["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"])),(function(e){return e.theme.measurements.advancedToolControlBar.width})),Hy=y.span(Sy||(Sy=A(["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"],["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"])),(function(e){return e.theme.measurements.fontSystem.label.size})),Wy=y(Zf.Input.Label)(ky||(ky=A(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),Vy=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onWidthChange=function(t){e.props.onChangeWidth(parseInt(t,10)||0)},e.onHeightChange=function(t){e.props.onChangeHeight(parseInt(t,10)||0)},e.onKeyUpWidth=function(t){13===t.keyCode&&e.props.onBlurWidth()},e.onKeyUpHeight=function(t){13===t.keyCode&&e.props.onBlurHeight()},e.onBlurHeight=function(){e.props.onBlurHeight()},e.onBlurWidth=function(){e.props.onBlurWidth()},e}return S(n,t),n.prototype.render=function(){var t=this.props,n=t.label,i=t.showLabel,o=t.isDisabled,r=t.labelWidth,a=t.labelHeight,s=t.valueWidth,l=t.valueHeight;return e.createElement("div",null,e.createElement(Zf.Input.Label,{name:n,show:i}),e.createElement(Ny,null,e.createElement(Zf.Input.Text,{id:r.replace(" ","-"),value:s,isDisabled:o,onChange:this.onWidthChange,onBlur:this.onBlurWidth,onKeyUp:this.onKeyUpWidth},e.createElement(Wy,{name:r,htmlFor:r.replace(" ","-")})),e.createElement(Hy,null,"x"),e.createElement(Zf.Input.Text,{id:a.replace(" ","-"),value:l,isDisabled:o,onChange:this.onHeightChange,onBlur:this.onBlurHeight,onKeyUp:this.onKeyUpHeight},e.createElement(Wy,{name:a,htmlFor:a.replace(" ","-")}))))},n.defaultProps={showLabel:!0},n}(e.Component),Gy=Dl("textTool","textDesignTool","modal","custom")(ec((function(t){var n=t.modal,i=t.textTool,o=t.textDesignTool,r=t.custom,a=n,s=a.type,l=a.infoModalProps,c=a.modalProps,u=n.positionOffset,d=r.getLoader(C({},l,{position:u}));switch(s){case Le.INFO:return"loading"===n.identifier?d:e.createElement(Zf.Loader,C({},l,{position:u}));case Le.TEXT_EDIT:return i.isTextSelected?e.createElement(Zf.Input.TextEdit,{defaultText:Vr.defaultText(),show:n.show,save:i.changeText,close:i.setEditMode,text:i.text,position:u,saveLabel:i.locale.canvasControls.buttonSave,closeLabel:i.locale.canvasControls.buttonClose,editLabel:i.locale.canvasControls.inputText}):o.isTextDesignSelected?e.createElement(Zf.Input.TextEdit,{defaultText:Xr.defaultText(),show:n.show,save:o.changeText,close:o.setEditMode,text:o.text,position:u,saveLabel:i.locale.canvasControls.buttonSave,closeLabel:i.locale.canvasControls.buttonClose,editLabel:i.locale.canvasControls.inputText}):null;default:return e.createElement(Zf.Modal,C({},c,{position:u}))}}))),Ky=function(t,n){var i=this;this.getAdvancedCategoryCard=function(e){return i.AdvancedCategoryCard?i.customAdvancedCategoryCard(e):i.currentAdvancedCard(e)},this.getAdvancedOptionCard=function(e){return i.AdvancedOptionCard?i.customAdvancedOptionCard(e):i.currentAdvancedCard(e)},this.getAdvancedToolbarItem=function(e){return i.AdvancedToolbarItem?i.customAdvancedToolbarItem(e):i.currentAdvancedToolbarItem(e)},this.getLoader=function(e){return i.Loader?i.customLoader(e):i.loader(e)},this.getButton=function(e){return function(t){return i.Buttons&&i.Buttons[e]?i.customButton(e)(t):null}},this.customLoader=function(t){var n=t.show,o=i.Loader;return e.createElement(o,{show:n})},this.customAdvancedCategoryCard=function(t){var n=t,o=i.AdvancedCategoryCard;return e.createElement(o,C({},n))},this.customAdvancedOptionCard=function(t){var n=t,o=i.AdvancedOptionCard;return e.createElement(o,C({key:t.key},n))},this.customAdvancedToolbarItem=function(t){var n=t.tool,o={tool:n,icon:t.icon,label:t.label,onClick:t.onClick,isActive:t.isActive},r=i.AdvancedToolbarItem;return e.createElement(r,C({key:n},o))},this.customButton=function(t){return function(n){var o=i.Buttons[t];return e.createElement(o,C({key:n.key},n))}},this.loader=function(t){var n=i.originalComponents.loader;return e.createElement(n,C({},t))},this.currentAdvancedCard=function(t){var n=i.originalComponents.advancedCard;return n?e.createElement(n,C({},t)):null},this.currentAdvancedToolbarItem=function(t){var n=i.originalComponents.advancedToolbarItem;return n?e.createElement(n,C({},t)):null},this.originalComponents=n,this.AdvancedCategoryCard=t&&t.advancedUICategoryCard?t.advancedUICategoryCard:null,this.AdvancedOptionCard=t&&t.advancedUIItemCard?t.advancedUIItemCard:null,this.AdvancedToolbarItem=t&&t.advancedUIToolbarItem?t.advancedUIToolbarItem:null,this.Loader=t&&t.loader?t.loader:null,this.Buttons=t&&t.buttons?t.buttons:null},Xy=y.div(Ey||(Ey=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Yy=function(t){function n(n){var i=t.call(this,n)||this;i.onClick=function(e){return function(t){var n=i.props,o=n.activeColor,r=n.onAddSnapshot,a=n.config,s=i.state,l=s.showColorPicker,c=s.colorList,u=c.find((function(t){return t.identifier===e}));if(o!==u.identifier||l)l?i.setState({showColorPicker:!1}):(i.onChange(e)(u),r&&r());else{var d=c.findIndex((function(t){return t.identifier===e}));import("./index-f817cff7.js").then((function(e){var t=e.ColorPicker;i.UIComponent=t,i.forceUpdate()}));var p=t.currentTarget.getBoundingClientRect(),h=p.left,f=p.width,m=t.currentTarget.parentElement.getBoundingClientRect(),g=m.left,y=m.width,b=h-g-f/2+(a.measurements.color.colorPicker.width-y)/2-1;i.setState({showColorPicker:!0,activeColorName:c[d].identifier,arrowOffset:b})}}},i.onChange=function(e){return function(t){var n=t.color,o=t.colorString,r=i.props.onChange,a=i.state.colorList,s=a.findIndex((function(t){return t.identifier===e})),l=z(a);l[s]={identifier:a[s].identifier,colorString:o,color:n},i.setState({colorList:l}),r(n,a[s].identifier)}},i.onChangeColorPicker=function(e){var t=e.color,n=e.colorString,o=i.state.activeColorName;i.onChange(o)({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:n})},i.closeColorPicker=function(){i.setState({showColorPicker:!1})},i.getColorPicker=function(){var t=i.props,n=t.parentId,o=t.activeColor,r=t.labelsColor,a=t.colorPickerDirection,s=t.onAddSnapshot,l=i.state,c=l.showColorPicker,u=l.arrowOffset,d=l.colorList;if(!i.UIComponent)return null;var p=i.UIComponent,h=d.filter((function(e){return e.identifier===o}))[0].colorString;return e.createElement(p,{parentId:n,color:h,show:c,direction:a,arrowOffset:u,labelHex:r.hex,labelR:r.r,labelG:r.g,labelB:r.b,labelSliderOpacity:r.sliderOpacity,labelSliderHue:r.sliderHue,onChange:i.onChangeColorPicker,onRequestClose:i.closeColorPicker,onAddSnapshot:s})};var o=i.props.colors;return i.state={activeColorName:"",colorList:z(o),showColorPicker:!1,arrowOffset:0},i.UIComponent=null,i}return S(n,t),n.prototype.render=function(){var t=this,n=this.props,i=n.activeColor,o=n.isDisabled,r=this.state.colorList.map((function(n){return e.createElement(Zf.ColorItem,{key:n.colorString+"-item-"+n.identifier,isActive:n.identifier===i,isDisabled:o,onClick:t.onClick(n.identifier),color:n.colorString,label:n.identifier})}));return e.createElement(Xy,null,r,this.getColorPicker())},n.defaultProps={colorPickerDirection:"bottom",isDisabled:!1},n=O([Dl("config"),ec],n)}(e.Component),qy=y(zc)(Cy||(Cy=A(["\n  width: 100%;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  height: 32px;\n"],["\n  width: 100%;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  height: 32px;\n"])),(function(e){return e.theme.button.outlinedPrimaryBackground}),(function(e){return e.theme.button.outlinedPrimaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.measurements.fontSystem.button1.size})),$y=y(zc)(Ty||(Ty=A(["\n  width: 100%;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  height: 32px;\n"],["\n  width: 100%;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  height: 32px;\n"])),(function(e){return e.theme.button.outlinedSecondaryBackground}),(function(e){return e.theme.button.outlinedSecondaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.measurements.fontSystem.button1.size})),Zy=y(zc)(Oy||(Oy=A(["\n  color: ",";\n  font-size: ","px;\n  height: 32px;\n  span.disabled {\n    display: none;\n  }\n  &:disabled,\n  &.disabled {\n    opacity: ",";\n  }\n"],["\n  color: ",";\n  font-size: ","px;\n  height: 32px;\n  span.disabled {\n    display: none;\n  }\n  &:disabled,\n  &.disabled {\n    opacity: ",";\n  }\n"])),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.button.textInactiveOpacity})),Jy=y(cu)(Iy||(Iy=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"])),(function(e){return e.theme.measurements.advancedCard.small.width}),(function(e){return e.theme.measurements.advancedCard.small.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedSpacer})),Qy=y(cu)(Ry||(Ry=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"])),(function(e){return e.theme.measurements.advancedCard.medium.width}),(function(e){return e.theme.measurements.advancedCard.medium.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedSpacer})),eb=y(cu)(My||(My=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"])),(function(e){return e.theme.measurements.advancedCard.large.width}),(function(e){return e.theme.measurements.advancedCard.large.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground})),tb=y.div(Py||(Py=A(["\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  display: flex;\n  flex-wrap: wrap;\n"]))),nb=fu,ib=y.div(Dy||(Dy=A(["\n  z-index: ",";\n  flex-shrink: 0;\n  background-color: ",";\n  color: ",";\n  ","\n  width: ","px;\n"],["\n  z-index: ",";\n  flex-shrink: 0;\n  background-color: ",";\n  color: ",";\n  ","\n  width: ","px;\n"])),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.toolbar.background}),(function(e){return e.theme.toolbar.foreground}),(function(e){return e.reverse?b(Ay||(Ay=A(["\n          border-left: 1px solid ",";\n        "],["\n          border-left: 1px solid ",";\n        "])),e.theme.toolbar.borderColor):b(zy||(zy=A(["\n          border-right: 1px solid ",";\n        "],["\n          border-right: 1px solid ",";\n        "])),e.theme.toolbar.borderColor)}),(function(e){return e.theme.measurements.advancedUIToolbar.width})),ob=y.ul.attrs((function(){return{role:"menubar","aria-label":"Tool Navigation","data-simplebar":"init","data-simplebar-auto-hide":"false"}}))(Ly||(Ly=A(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  list-style: none;\n  overflow-x: hidden;\n  overflow-y: overlay;\n  height: 100%;\n  .simplebar-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"],["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  list-style: none;\n  overflow-x: hidden;\n  overflow-y: overlay;\n  height: 100%;\n  .simplebar-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),rb=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={reverse:!1},e}return S(n,t),n.prototype.componentDidMount=function(){var e=document.getElementById("AdvancedToolbar");e&&(e.offsetLeft>window.innerWidth/2&&this.setState({reverse:!0}))},n.prototype.render=function(){return e.createElement(ib,{reverse:this.state.reverse},e.createElement(ob,{id:"AdvancedToolbar"},this.props.children(this.state.reverse)))},n}(e.Component);ib.defaultProps={theme:mr},ob.defaultProps={theme:mr};var ab,sb,lb,cb,ub=y(Zy)(lb||(lb=A(["\n  width: inherit;\n  height: inherit;\n  color: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n"],["\n  width: inherit;\n  height: inherit;\n  color: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n"])),la()?b(ab||(ab=A(["\n        background-color: transparent;\n      "],["\n        background-color: transparent;\n      "]))):b(sb||(sb=A(["\n        background-color: inherit;\n      "],["\n        background-color: inherit;\n      "])))),db=y.li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})(cb||(cb=A(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n  "," {\n    &:active,\n    &.active {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"],["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n  "," {\n    &:active,\n    &.active {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.itemHeight}),ub,(function(e){return e.theme.toolbar.activeBackground}),(function(e){return e.theme.toolbar.activeForeground}));db.defaultProps={theme:mr};var pb,hb=y.li.attrs({role:"none"})(pb||(pb=A(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"],["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.seperatorHeight}));hb.defaultProps={theme:mr};var fb,mb,gb,yb=y.div(gb||(gb=A(["\n  ","\n  position: -ms-device-fixed;\n  top: ","px;\n  left: ","px;\n  z-index: ",";\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, visibility 0.5s ease-in-out;\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n  cursor: pointer;\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n  &:after {\n    content: '","';\n    position: absolute;\n    transition: margin-left 0.15s ease-in-out, opacity 0.15s ease-in-out;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n  &.reverse {\n    left: unset;\n    right: ","px;\n    direction: rtl;\n    &:before {\n      border-left: 8px solid ",";\n      border-right: unset;\n      right: -8px;\n      left: unset;\n      top: 10px;\n    }\n  }\n  &.show:not(.reverse) {\n    opacity: 1;\n    visibility: visible;\n    left: ","px;\n  }\n  &.show.reverse {\n    opacity: 1;\n    visibility: visible;\n    right: ","px;\n  }\n  span {\n    display: none;\n  }\n"],["\n  ","\n  position: -ms-device-fixed;\n  top: ","px;\n  left: ","px;\n  z-index: ",";\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, visibility 0.5s ease-in-out;\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n  cursor: pointer;\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n  &:after {\n    content: '","';\n    position: absolute;\n    transition: margin-left 0.15s ease-in-out, opacity 0.15s ease-in-out;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n  &.reverse {\n    left: unset;\n    right: ","px;\n    direction: rtl;\n    &:before {\n      border-left: 8px solid ",";\n      border-right: unset;\n      right: -8px;\n      left: unset;\n      top: 10px;\n    }\n  }\n  &.show:not(.reverse) {\n    opacity: 1;\n    visibility: visible;\n    left: ","px;\n  }\n  &.show.reverse {\n    opacity: 1;\n    visibility: visible;\n    right: ","px;\n  }\n  span {\n    display: none;\n  }\n"])),la()?b(fb||(fb=A(["\n          position: -ms-device-fixed;\n        "],["\n          position: -ms-device-fixed;\n        "]))):b(mb||(mb=A(["\n          position: fixed;\n        "],["\n          position: fixed;\n        "]))),(function(e){return e.position.y-5}),(function(e){return e.position.x+e.theme.measurements.advancedUIToolbar.width-10}),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.tooltip.background}),(function(e){return e.label}),(function(e){return e.theme.tooltip.foreground}),(function(e){return e.theme.tooltip.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.shape.radiusSmall}),(function(e){return e.position.x+e.theme.measurements.advancedUIToolbar.width-10}),(function(e){return e.theme.tooltip.background}),(function(e){return e.position.x+e.theme.measurements.advancedUIToolbar.width+16}),(function(e){return e.position.x+e.theme.measurements.advancedUIToolbar.width+16})),bb=function(t){var n=t.show,i=t.reverse,o=t.position,r=t.children,a=[n&&"show",i&&"reverse"].filter(Boolean).join(" "),s="string"==typeof r?r:"";return e.createElement(yb,{"data-test-id":"Tooltip",className:a,position:o,label:s},e.createElement("span",null,s))};yb.defaultProps={theme:mr},bb.defaultProps={show:!1};var vb,_b,xb,wb,Sb=y.div(xb||(xb=A(["\n  flex-shrink: 0;\n  height: 100%;\n  background: ",";\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  width: 0;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.4s ease-in;\n  &.open {\n    width: ","px;\n  }\n  ","\n  z-index: ",";\n  /* for Firefox */\n  min-height: 0;\n"],["\n  flex-shrink: 0;\n  height: 100%;\n  background: ",";\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  width: 0;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.4s ease-in;\n  &.open {\n    width: ","px;\n  }\n  ","\n  z-index: ",";\n  /* for Firefox */\n  min-height: 0;\n"])),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.measurements.advancedToolControlBar.width}),(function(e){return e.reverse?b(_b||(_b=A(["\n          border-left: 1px solid ",";\n        "],["\n          border-left: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor):b(vb||(vb=A(["\n          border-right: 1px solid ",";\n        "],["\n          border-right: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor)}),(function(e){return e.theme.measurements.zIndex.toolControlBar})),kb=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={reverse:!1},e}return S(n,t),n.prototype.componentDidMount=function(){var e=document.getElementById("Sidebar");e&&(e.offsetLeft>window.innerWidth/2&&this.setState({reverse:!0}))},n.prototype.render=function(){return e.createElement(Sb,{id:"Sidebar",reverse:this.state.reverse,className:"open"},this.props.children)},n}(e.Component),Eb=y.h1(wb||(wb=A(["\n  flex-grow: 0;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  text-align: center;\n  font-weight: 500;\n  line-height: 48px;\n"],["\n  flex-grow: 0;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  text-align: center;\n  font-weight: 500;\n  line-height: 48px;\n"])),(function(e){return e.theme.measurements.mainCanvasActionBar.height-2}),(function(e){return e.theme.measurements.fontSystem.headline1.size}),(function(e){return e.theme.measurements.fontSystem.headline1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline1.case}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.toolControlBar.separatorColor}));Eb.defaultProps={theme:mr};var Cb,Tb,Ob=y.div(Cb||(Cb=A(["\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: ","px;\n  opacity: ",";\n  visibility: ",";\n  overflow: ",";\n  transition: ",";\n  background: ",";\n  color: ",";\n  &.overflow {\n    overflow: visible;\n  }\n"],["\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: ","px;\n  opacity: ",";\n  visibility: ",";\n  overflow: ",";\n  transition: ",";\n  background: ",";\n  color: ",";\n  &.overflow {\n    overflow: visible;\n  }\n"])),(function(e){return e.height}),(function(e){return e.opacity}),(function(e){return e.visibility}),(function(e){return e.shoulAnimateOverflow?"hidden":"visible"}),(function(e){return e.shouldAnimateHeight?"opacity 0.5s ease-in, height 0.4s ease-out":"opacity 0.5s ease-in"}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.inputLabelForeground})),Ib=y.div(Tb||(Tb=A(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.theme.measurements.advancedToolControlBar.padding})),Rb=function(t){function n(n){var i=t.call(this,n)||this;return i.contentRef=null,i.overflow=function(){i.props.show&&i.contentRef.current&&i.contentRef.current.classList.add("overflow")},i.contentRef=e.createRef(),i.state={height:0,mounted:!1},i}return S(n,t),n.prototype.componentDidMount=function(){var e=this.props.overflowAfterExpand;this.contentRef.current&&(e&&this.contentRef.current.addEventListener("transitionend",this.overflow),this.setState({height:this.contentRef.current.scrollHeight,mounted:!0}))},n.prototype.componentWillUnmount=function(){this.contentRef.current&&this.contentRef.current.removeEventListener("transitionend",this.overflow)},n.prototype.render=function(){var t=this.props,n=t.show,i=t.shoulAnimateOverflow,o=t.shouldAnimateHeight,r=t.className,a=t.children,s=this.state,l=s.height,c=s.mounted&&(n&&i||!i),u=c?l:0,d=c?1:0,p=c?"visible":"hidden";return e.createElement(Ob,{"data-test-id":"ToolControlBar",ref:this.contentRef,height:u,opacity:d,visibility:p,className:r,shouldAnimateHeight:o,shoulAnimateOverflow:i},e.createElement(Ib,null,a))},n.defaultProps={show:!0,shoulAnimateOverflow:!0,shouldAnimateHeight:!0},n}(e.Component);Ob.defaultProps={theme:mr};var Mb,Pb=y.div.attrs({"data-simplebar":"init","data-simplebar-auto-hide":"false"})(Mb||(Mb=A(["\n  flex-grow: 1;\n  position: relative;\n  box-sizing: border-box;\n  padding: ",";\n  width: ","px;\n  overflow: visible;\n  /* for Firefox */\n  min-height: 0;\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  background: ",";\n  color: ",";\n\n  ","\n  .simplebar-placeholder {\n    height: 0px !important;\n  }\n"],["\n  flex-grow: 1;\n  position: relative;\n  box-sizing: border-box;\n  padding: ",";\n  width: ","px;\n  overflow: visible;\n  /* for Firefox */\n  min-height: 0;\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  background: ",";\n  color: ",";\n\n  ","\n  .simplebar-placeholder {\n    height: 0px !important;\n  }\n"])),(function(e){return e.theme.measurements.advancedToolControlBar.padding}),(function(e){return e.theme.measurements.advancedToolControlBar.width}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),mu.HiddenScrollbar);Pb.defaultProps={theme:mr};var zb,Ab=y.h2(zb||(zb=A(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  height: ","px;\n  line-height: ","px;\n"],["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  height: ","px;\n  line-height: ","px;\n"])),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return 2*e.theme.measurements.advancedSpacer}),(function(e){return 2*e.theme.measurements.advancedSpacer}));Ab.defaultProps={theme:mr};var Db,Lb,Fb=y.div(Lb||(Lb=A(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"],["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"])),(function(e){return e.full?b(Db||(Db=A(["\n            left: -","px;\n            width: calc(100% + ","px);\n          "],["\n            left: -","px;\n            width: calc(100% + ","px);\n          "])),3*e.theme.measurements.advancedSpacer/2,3*e.theme.measurements.advancedSpacer):"\n      left: "+3*e.theme.measurements.advancedSpacer/2+"px;\n      width: calc(100% - "+3*e.theme.measurements.advancedSpacer+"px);\n    "}),(function(e){return e.theme.toolControlBar.separatorColor}));Fb.defaultProps={theme:mr};var Bb,jb,Ub,Nb,Hb,Wb,Vb,Gb,Kb,Xb,Yb,qb,$b,Zb,Jb,Qb={Card:function(t){var n=t.type===kc.LARGE,i=t.type===kc.SMALL,o=Qy;return n?o=eb:i&&(o=Jy),e.createElement(o,C({},t))},CardContainer:tb,CardLabel:nb,Toolbar:{Index:rb,Item:function(t){var n=t.isActive?"active":"";return e.createElement(db,{className:n},e.createElement(ub,C({"data-test-id":t.ariaLabel},t)))},Separator:hb,Tooltip:bb},Button:{OutlinedSecondary:$y,OutlinedPrimary:qy,TextSecondary:Zy},Itemsbar:Pb,BarSeparator:"",ItemsSeparator:Fb,Controlsbar:Rb,Sidebar:{Index:kb,Heading:Eb,SubHeading:Ab}},ev=function(t){function n(n){var i=t.call(this,n)||this;return i.ref=null,i.updatePosition=function(){var e=i.props.isReverse,t={x:0,y:0};if(i.ref.current){var n=i.ref.current.getBoundingClientRect(),o=n.top,r=n.height,a=n.left,s=n.right;t.y=o+r/4,t.x=e?window.innerWidth-s:a}i.setState({tooltipPosition:t})},i.mouseOver=function(e){i.updatePosition(),i.setState({hoverTool:e})},i.mouseOut=function(){i.setState({hoverTool:null})},i.state={hoverTool:null,tooltipPosition:{x:0,y:0}},i.ref=e.createRef(),i}return S(n,t),n.prototype.componentDidMount=function(){this.updatePosition()},n.prototype.componentDidUpdate=function(e){this.props.isReverse!==e.isReverse&&this.updatePosition()},n.prototype.render=function(){var t=this,n=this.props,i=n.tool,o=n.isActive,r=n.isReverse,a=n.icon,s=n.label,l=n.onClick,c=this.state,u=c.hoverTool,d=c.tooltipPosition;return e.createElement(tv,{ref:this.ref,onMouseOver:function(){return t.mouseOver(i)},onMouseOut:function(){return t.mouseOut()}},e.createElement(Qb.Toolbar.Item,{ariaLabel:s,isActive:o,onClick:function(){return l(i)}},a),e.createElement(Qb.Toolbar.Tooltip,{position:d,reverse:r,show:u===i},s))},n}(e.Component),tv=y.div(Bb||(Bb=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),nv=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderIcon=function(t){var n=jm[t];return e.createElement(n,null)||null},n.update=function(e){n.props.active.selectTool(e)},n}return S(n,t),n.prototype.getToolTitle=function(e){return this.props.config.locale[e].title},n.prototype.render=function(){var t=this.props.active.tool,n=this.props.tool;return n?this.props.custom.getAdvancedToolbarItem({isActive:n===t,isReverse:this.props.isReverse,icon:this.renderIcon(n),onClick:this.update.bind(this,n),tool:n,label:this.getToolTitle(n)}):e.createElement(Qb.Toolbar.Separator,null)},n=O([Dl("active","config","custom"),ec],n)}(e.Component),iv=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderTools=function(t){return n.props.config.tools.map((function(n,i){return e.createElement(nv,{key:n||i,tool:n,isReverse:t})}))},n}return S(n,t),n.prototype.render=function(){return e.createElement(Qb.Toolbar.Index,null,this.renderTools)},n=O([Dl("config"),ec],n)}(e.Component),ov=Dl("library","active")(ec((function(t){var n=t.library,i=t.active,o=n.locale.controls.placeholderSearch,r=n,a=r.config,s=r.libraryProvider,l=function(e){var t=e.target.files;if(t.length){var n=new FileReader;n.onload=function(e){i.newImage(e.target.result)},n.readAsDataURL(t[0])}},c=function(){i.selectWebcam(!0)},u=function(){var e=document.getElementById("fileUpload");e&&e.click()};return e.createElement(Qb.Controlsbar,{shouldAnimateHeight:!1,shoulAnimateOverflow:!1},e.createElement(Zf.Spacer,null),s?e.createElement(e.Fragment,null,e.createElement(Zf.Input.Search,{onChange:function(e){n.fetchImages(e)},placeholder:o}),e.createElement(Zf.Spacer,{count:2})):null,a.enableUpload?e.createElement(Qb.Button.OutlinedPrimary,{ariaLabel:n.locale.controls.buttonUpload,onClick:u},n.locale.controls.buttonUpload,e.createElement(Zf.Input.File,{onChange:l})):null,e.createElement(Zf.Spacer,null),a.enableWebcam?e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:n.locale.controls.buttonWebcamOpen,onClick:c},n.locale.controls.buttonWebcamOpen):null,e.createElement(Qb.ItemsSeparator,null))}))),rv=y.div(Nb||(Nb=A(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"],["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"])),(function(e){return e.theme.toolControlBar.background}),la()?b(jb||(jb=A(["\n          display: block;\n        "],["\n          display: block;\n        "]))):b(Ub||(Ub=A(["\n          display: flex;\n        "],["\n          display: flex;\n        "])))),av=Dl("library","active","custom")(ec((function(t){var n=t.active,i=t.library,o=t.custom,r=i,a=r.query,s=r.selectedCategoryIdentifier,l=r.categories,c=r.images,u=function(t,i){return o.getAdvancedOptionCard({tool:E.LIBRARY,type:De.MEDIUM,onClick:function(){return e=t.identifier,void n.newImage(e);var e},key:t.identifier,image:t.coverImage,label:t.defaultName,style:{animationDelay:.08*i+"s"},children:e.createElement(Qb.CardLabel,{hidden:!0},t.defaultName)})},d=i.locale.controls.noResults;return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,a?c.length?c.map(u):e.createElement("p",null,d):l.map((function(t){var n=s===t.identifier;return e.createElement("div",{key:t.identifier},o.getAdvancedCategoryCard({tool:E.LIBRARY,type:De.LARGE,onClick:function(){return e=t.identifier,void i.toggleCategorySelection(e);var e},image:t.coverImage,label:t.defaultName,style:{animationDelay:(t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{withBackground:!0,caret:!0,isActive:n},t.defaultName)}),e.createElement(rv,{className:n?"show":"",key:t.identifier+"-items"},t.items.map(u)))}))))}))),sv=Dl("library")(ec((function(t){var n=t.library;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(ov,null),e.createElement(av,null))}))),lv=Dl("filterTool")(ec((function(t){var n=t.filterTool,i=n.locale.controls,o=n.state,r=function(){n.toolSnapshot()};return e.createElement(Qb.Controlsbar,{show:n.isOptionSelected},e.createElement(Zf.Input.Form,null,e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{"aria-hidden":!n.isOptionSelected,name:i.sliderIntensity,value:o.intensity,min:0,max:1,onChange:n.changeIntensity,onMouseUp:r,onTouchEnd:r,snap:o.isDuotone?.5:null}),e.createElement(Zf.Spacer,null)),e.createElement(Qb.ItemsSeparator,null))}))),cv=y.div(Vb||(Vb=A(["\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"],["\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"])),(function(e){return e.theme.toolControlBar.background}),la()?b(Hb||(Hb=A(["\n          display: block;\n        "],["\n          display: block;\n        "]))):b(Wb||(Wb=A(["\n          display: flex;\n        "],["\n          display: flex;\n        "])))),uv=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={displayStyle:"none"},n.onFilterCilck=function(e){n.filterTool.selectFilter(e.identifier,e.defaultIntensity)},n.onCatgoryClick=function(e){n.filterTool.toggleCategorySelection(e)},n.renderItemCard=function(t){return n.custom.getAdvancedOptionCard({tool:E.FILTER,type:De.MEDIUM,onClick:function(){return n.onFilterCilck(t)},key:t.identifier,image:t.thumbnail||t.thumbnailURI,label:t.name||t.name,style:{animationDelay:(t.delay||0)+"s"},isActive:n.filterTool.identifier===t.identifier,children:e.createElement(Qb.CardLabel,{withBackground:!0},t.name)})},n.renderCategoryCard=function(t){var i=n.filterTool.selectedCategoryIdentifier===t.identifier;return e.createElement("div",{key:t.identifier},n.custom.getAdvancedCategoryCard({tool:E.FILTER,type:De.LARGE,onClick:function(){return n.onCatgoryClick(t.identifier)},image:t.thumbnailURI,label:t.name||t.name,style:{animationDelay:(t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{withBackground:!0,caret:!0,isActive:i},t.name)}),e.createElement(cv,{className:i?"show":""},t.items.map(n.renderItemCard)))},n}return S(n,t),Object.defineProperty(n.prototype,"filterTool",{get:function(){return this.props.filterTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"custom",{get:function(){return this.props.custom},enumerable:!0,configurable:!0}),n.prototype.render=function(){var t=this.filterTool,n=t.categories,i=t.flattenCategories,o=t.entities;return e.createElement(Qb.Itemsbar,{key:"filterToolItemsbar"},e.createElement(Qb.CardContainer,null,i?o.map(this.renderItemCard):n.map(this.renderCategoryCard)))},n}(e.Component),dv=Dl("filterTool","custom")(ec(uv)),pv=Dl("filterTool")(ec((function(t){var n=t.filterTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(lv,null),e.createElement(dv,null))}))),hv=Dl("focusTool")(ec((function(t){var n=t.focusTool,i=n.locale.controls,o=function(){n.toolSnapshot(i.sliderIntensity)};return e.createElement(Qb.Controlsbar,{show:n.isOptionSelected},e.createElement(Zf.Input.Form,null,e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{"aria-hidden":!n.isOptionSelected,name:i.sliderIntensity,value:n.intensity,min:Lo.minIntensity,max:n.maxIntensity,divider:1,onChange:n.changeIntensity,onMouseUp:o,onTouchEnd:o})),e.createElement(Zf.Spacer,{count:1}),e.createElement(Qb.ItemsSeparator,null))}))),fv=Dl("focusTool","custom")(ec((function(t){var n=t.focusTool,i=t.custom,o=n.entities;return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,o.map((function(t){return i.getAdvancedOptionCard({tool:E.FOCUS,type:De.LARGE,onClick:function(){return n.selectFocus(t.identifier)},key:t.identifier,image:t.thumbnailURI,isActive:t.identifier===n.identifier,label:t.name||t.name,style:{animationDelay:(t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{withBackground:!0},t.name)})}))))}))),mv=Dl("focusTool")(ec((function(t){var n=t.focusTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(hv,null),e.createElement(fv,null))}))),gv=Dl("adjustmentsTool")(ec((function(t){var n=t.adjustmentsTool,i=n,o=i.categories,r=i.items,a=i.config,s=function(){n.toolSnapshot()},l=function(t){return e.createElement("div",{key:t.identifier},e.createElement(Zf.Input.Slider,{adjust:!0,key:t.identifier,name:t.name,value:n[t.identifier],onChange:function(e){return function(e,t){n.editAdjustments({type:e,value:t})}(t.identifier,e)},onMouseUp:s,onTouchEnd:s,snap:0}),e.createElement(Zf.Spacer,{count:2}))},c=function(t){return e.createElement("div",{style:{position:"relative"}},t.map(l))};return e.createElement(Qb.Itemsbar,null,a.flattenCategories?c(r):e.createElement(e.Fragment,null,o.map((function(t,n){return t.items&&e.createElement("div",{style:{position:"relative"},key:t.identifier},0!==n?e.createElement(Zf.Spacer,{count:2}):null,e.createElement(Qb.Sidebar.SubHeading,null,t.name),t.items.map(l),e.createElement(Zf.Spacer,{count:2}),n!==o.length-1?e.createElement(Qb.ItemsSeparator,{full:!0}):null)||null})),c(o.filter((function(e){return!e.items})))))}))),yv=Dl("adjustmentsTool")(ec((function(t){var n=t.adjustmentsTool,i=n.locale.controls;return e.createElement(Qb.Controlsbar,{show:n.isDirty},e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Qb.ItemsSeparator,null))}))),bv=Dl("adjustmentsTool")(ec((function(t){var n=t.adjustmentsTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(yv,null),e.createElement(gv,null))}))),vv=Dl("overlayTool")(ec((function(t){var n=t.overlayTool,i=n.locale.controls,o=n.allBlendModes,r=n.blendMode,a=function(){n.toolSnapshot()};return e.createElement(Qb.Controlsbar,{show:n.isOptionSelected},e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.CarouselSlider,{label:i.carouselBlendMode,defaultIdentifier:r,onSelect:function(e){n.changeBlendMode(e)},list:o}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{"aria-hidden":!n.isOptionSelected,name:i.sliderOpacity,value:n.opacity,min:0,max:1,onChange:n.changeOpacity,onMouseUp:a,onTouchEnd:a}),e.createElement(Zf.Spacer,null),e.createElement(Qb.ItemsSeparator,null))}))),_v=Dl("overlayTool","custom")(ec((function(t){var n=t.overlayTool,i=t.custom;return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,n.entities.map((function(t){return i.getAdvancedOptionCard({tool:E.OVERLAY,type:De.MEDIUM,image:t.thumbnailURI,onClick:function(){return n.selectOverlay(t.identifier)},key:t.identifier,isActive:t.identifier===n.identifier,label:t.name,style:{animationDelay:(t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{withBackground:!0},t.name)})}))))}))),xv=Dl("overlayTool")(ec((function(t){var n=t.overlayTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(vv,null),e.createElement(_v,null))}))),wv=y.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(Gb||(Gb=A(["\n  ","\n"],["\n  ","\n"])),mu.VisuallyHidden),Sv=Dl("stickerTool")(ec((function(t){var n=t.stickerTool,i=n.locale.controls,o=n.localeColor.colorPicker,r=Ns.defaultColors,a=n.activeTintColor,s=function(){n.toolSnapshot()},l=function(){var e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},c=function(e){var t=e.target.files;n.addFiles(t)},u=!n.isStickerSelected||!n.tintable&&n.isStickerSelected;return e.createElement(Qb.Controlsbar,{shouldAnimateHeight:!1,shoulAnimateOverflow:!1,overflowAfterExpand:!0},e.createElement(Zf.Input.Form,null,n.isCustomStickerEnabled?e.createElement(Qb.Button.OutlinedPrimary,{ariaLabel:i.buttonUpload,onClick:l},i.buttonUpload,e.createElement(wv,{onChange:c})):null,e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{isDisabled:!n.isStickerSelected,name:i.sliderOpacity,value:n.opacity,min:0,max:1,onChange:n.changeOpacity,onMouseUp:s,onTouchEnd:s}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Selection,{isDisabled:u,label:i.selectColor},e.createElement(Yy,{parentId:i.selectColor,activeColor:a,colors:r,labelsColor:o,isDisabled:u,onChange:n.changeTintColor,onAddSnapshot:n.tintColorSnapshot}))),e.createElement(Qb.ItemsSeparator,null))}))),kv=y.div(Yb||(Yb=A(["\n  opacity: 0;\n  visibility: hidden;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"],["\n  opacity: 0;\n  visibility: hidden;\n  display: none;\n  flex-wrap: wrap;\n  &.show {\n    opacity: 1;\n    visibility: visible;\n    ","\n  }\n"])),la()?b(Kb||(Kb=A(["\n          display: block;\n        "],["\n          display: block;\n        "]))):b(Xb||(Xb=A(["\n          display: flex;\n        "],["\n          display: flex;\n        "])))),Ev=Dl("stickerTool","custom")(ec((function(t){var n=t.stickerTool,i=t.custom,o=n,r=o.categories,a=o.selectedCategoryIdentifier,s=o.flattenCategories,l=o.entities,c=function(t){return i.getAdvancedOptionCard({tool:E.STICKER,type:De.SMALL,onClick:function(){return n.add(t.identifier)},image:t.thumbnailURI,key:t.identifier,label:t.name||t.name,style:{backgroundSize:"75%",animationDelay:(.3*t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{hidden:!0},t.name)})};return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,s?l.map(c):r.map((function(t){var o=a===t.identifier;return e.createElement("div",{key:t.identifier},i.getAdvancedCategoryCard({tool:E.STICKER,type:De.LARGE,onClick:function(){return n.toggleCategorySelection(t.identifier)},image:t.thumbnailURI,label:t.name||t.name,style:{animationDelay:(t.delay||0)+"s"},children:e.createElement(Qb.CardLabel,{withBackground:!0,caret:!0,isActive:o},t.name)}),e.createElement(kv,{className:o?"show":"",key:t.identifier+"-items"},t.items.map(c)))}))))}))),Cv=Dl("stickerTool")(ec((function(t){var n=t.stickerTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Sv,null),e.createElement(Ev,null))}))),Tv=y(Qb.Button.TextSecondary)(qb||(qb=A(["\n  padding: 1px 3px 2px;\n  color: ",";\n"],["\n  padding: 1px 3px 2px;\n  color: ",";\n"])),(function(e){return e.theme.textInput.foreground})),Ov=Dl("textTool")(ec((function(t){var n=t.textTool,i=n.locale.controls,o=n.localeColor.colorPicker,r=n,a=r.fontFamilies,s=r.alignment,l=r.isTextSelected,c=r.fontFamily,u=r.fontStyle,d=r.fontWeight,p=Vr.defaultColors,h=Vr.defaultBackgroundColors,f=function(){n.toolSnapshot()},m=["left","center","right"].map((function(t){var i=Um[t];return e.createElement(Tv,{isDisabled:!l,ariaLabel:"Align "+t,isActive:t===s,key:t,onClick:function(){return n.changeAlignment(t)}},e.createElement(i,null))})),g=a.map((function(e){return{label:e.fontFamily+" "+Vr.getDisplayFontStyle(e),fontWeight:e.fontWeight||"",fontStyle:e.fontStyle||"",fontFamily:e.fontFamily||"",value:e.identifier}})),y=g.filter((function(e){return e.value===n.identifier}))[0];return e.createElement(Qb.Controlsbar,{show:!0,overflowAfterExpand:!0,shouldAnimateHeight:!1},e.createElement(Zf.Input.Form,null,e.createElement(Qb.Button.OutlinedPrimary,{ariaLabel:i.buttonNew,onClick:function(){n.add()}},i.buttonNew),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Dropdown,{isDisabled:!l,style:{fontFamily:c,fontStyle:u,fontWeight:d},itemStyle:function(e){return{fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight}},label:i.dropdownFontFamily,list:g,onSelect:n.changeFont,selectedItem:y.label}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Rv,null,e.createElement(Zf.Input.NummericInput,{value:n.fontSize.toFixed(0),onSubmit:function(e){var t=e?parseFloat(e):0;n.setFontSize(Math.max(10,Math.min(690,t)))},label:i.textFontSize,isDisabled:!l}),e.createElement(Zf.Input.Selection,{isDisabled:!l,inline:!0,label:i.selectAlignment},m)),e.createElement(Zf.Spacer,{count:2}),e.createElement(Iv,null,e.createElement(Qb.ItemsSeparator,{full:!0})),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Selection,{isDisabled:!l,label:i.selectFontColor},e.createElement(Yy,{parentId:i.selectFontColor,activeColor:n.activeTextColor,colors:p,labelsColor:o,isDisabled:!l,onChange:n.changeColor,onAddSnapshot:n.colorSnapshot})),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Selection,{isDisabled:!l,label:i.selectBackgroundColor},e.createElement(Yy,{parentId:i.selectBackgroundColor,activeColor:n.activeBackgroundColor,colors:h,labelsColor:o,isDisabled:!l,onChange:n.changeBackgroundColor,onAddSnapshot:n.backgroundColorSnapshot})),e.createElement(Zf.Spacer,{count:2}),e.createElement(Iv,null,e.createElement(Qb.ItemsSeparator,{full:!0})),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{isDisabled:!l,name:i.sliderLineSpacing,value:n.lineHeight,min:.5,max:3,onChange:n.changeLineHeight,onMouseUp:f,onTouchEnd:f,snap:1,divider:1,decimal:1}),e.createElement(Zf.Spacer,{count:1})))}))),Iv=y.div($b||($b=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Rv=y.div(Zb||(Zb=A(["\n  .dropdown {\n    min-width: 50%;\n  }\n  .selection {\n    padding-left: 8px;\n    width: 50%;\n    .label {\n      padding-left: 8px;\n    }\n  }\n  display: flex;\n  justify-content: space-between;\n"],["\n  .dropdown {\n    min-width: 50%;\n  }\n  .selection {\n    padding-left: 8px;\n    width: 50%;\n    .label {\n      padding-left: 8px;\n    }\n  }\n  display: flex;\n  justify-content: space-between;\n"]))),Mv=Dl("textTool")(ec((function(t){var n=t.textTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Ov,null),e.createElement(Qb.Itemsbar,null))}))),Pv=Dl("textDesignTool")(ec((function(t){var n=t.textDesignTool,i=n.locale.controls,o=n.localeColor.colorPicker,r=Xr.colors,a=n.isTextDesignSelected;return e.createElement(Qb.Controlsbar,{shoulAnimateOverflow:!1,shouldAnimateHeight:!1},e.createElement(Zf.Input.Form,null,e.createElement(Qb.Button.OutlinedPrimary,{ariaLabel:i.buttonNew,onClick:function(){n.add()}},i.buttonNew),e.createElement(Zf.Spacer,{count:2}),e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonShuffle,isDisabled:!a,onClick:function(){n.changeSeed()}},i.buttonShuffle),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Selection,{isDisabled:!a,label:i.selectColor},e.createElement(Yy,{parentId:i.selectColor,activeColor:n.activeTextColor,colors:r,labelsColor:o,isDisabled:!a,onChange:n.changeColor,onAddSnapshot:n.colorSnapshot}))),e.createElement(Qb.ItemsSeparator,null))}))),zv=Dl("textDesignTool","custom")(ec((function(t){var n=t.textDesignTool,i=t.custom,o=n.entities,r=n.identifier;return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,o.map((function(t){return i.getAdvancedOptionCard({tool:E.TEXT_DESIGN,isDisabled:!n.isTextDesignSelected,type:De.MEDIUM,isActive:r===t.identifier,key:t.identifier,onClick:function(){return e=t.identifier,void n.changeIdentifier(e);var e},image:t.thumbnailURI,style:{animationDelay:(t.delay||0)+"s",backgroundSize:"60%"},label:t.name||"",children:e.createElement(Qb.CardLabel,{hidden:!0},t.name)})}))))}))),Av=Dl("textDesignTool")(ec((function(t){var n=t.textDesignTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Pv,null),e.createElement(zv,null))}))),Dv=Dl("frameTool","custom")(ec((function(t){var n=t.frameTool,i=t.custom,o=n.entities,r=n.state?n.state.identifier:null;return e.createElement(Qb.Itemsbar,null,e.createElement(Qb.CardContainer,null,o.map((function(t){return i.getAdvancedOptionCard({tool:E.FRAME,type:De.MEDIUM,image:t.thumbnailURI,onClick:function(){return n.selectFrame(t.identifier)},key:t.identifier,isActive:t.identifier===r,style:{backgroundSize:"75%",animationDelay:(t.delay||0)+"s"},label:t.name,children:e.createElement(Qb.CardLabel,{hidden:!0},t.name)})}))))}))),Lv=Dl("frameTool")(ec((function(t){var n=t.frameTool,i=n.locale.controls,o=n.localeColor.colorPicker,r=n.tintable,a=Xo.colors,s=function(e){n.toolSnapshot(e)};return e.createElement(Qb.Controlsbar,{show:n.isOptionSelected,overflowAfterExpand:!0},e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{"aria-hidden":!n.isOptionSelected,name:i.sliderOpacity,value:n.opacity,min:0,max:1,onChange:n.changeOpacity,onMouseUp:function(){s(i.sliderOpacity)},onTouchEnd:function(){s(i.sliderOpacity)}}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{"aria-hidden":!n.isOptionSelected,name:i.sliderSize,value:n.size,min:n.minSize,max:n.maxSize,divider:1,onChange:n.changeWidth,onMouseUp:function(){s(i.sliderSize)},onTouchEnd:function(){s(i.sliderSize)}}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Selection,{isDisabled:!r,label:i.selectColor},e.createElement(Yy,{parentId:i.selectColor,activeColor:n.activeColor,colors:a,labelsColor:o,isDisabled:!r,onChange:n.changeColor,onAddSnapshot:n.colorSnapshot})),e.createElement(Qb.ItemsSeparator,null))}))),Fv=Dl("frameTool")(ec((function(t){var n=t.frameTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Lv,null),e.createElement(Dv,null))}))),Bv=Dl("brushTool")(ec((function(t){var n=t.brushTool,i=n.locale.controls,o=n.localeColor.colorPicker,r=qo.colors;return e.createElement(e.Fragment,null,e.createElement(Qb.Controlsbar,{show:n.isDirty},e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:n.reset},i.buttonReset),e.createElement(Qb.ItemsSeparator,null)),e.createElement(Qb.Controlsbar,{overflowAfterExpand:!0},e.createElement(Zf.Input.Selection,{label:i.selectColor},e.createElement(Yy,{parentId:i.selectColor,activeColor:n.activeColor,colors:r,labelsColor:o,onChange:n.changeColor})),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Slider,{name:i.sliderSize,value:n.size,min:1,max:100,divider:1,onChange:n.changeSize}),e.createElement(Zf.Spacer,{count:3}),e.createElement(Zf.Input.Slider,{name:i.sliderHardness,value:n.hardness,min:0,max:1,onChange:n.changeHardness}),e.createElement(Zf.Spacer,null)))}))),jv=Dl("brushTool")(ec((function(t){var n=t.brushTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Bv,null),e.createElement(Qb.Itemsbar,null))}))),Uv=Dl("transformTool")(ec((function(t){var n=t.transformTool,i=n.locale.controls,o=n,r=o.forceDimensions,a=o.lockResolution,s=o.localOutputHeight,l=o.localOutputWidth;return e.createElement(Qb.Controlsbar,{shouldAnimateHeight:!1},e.createElement(Zf.Input.Form,null,e.createElement(Qb.Button.OutlinedSecondary,{ariaLabel:i.buttonReset,onClick:function(){n.reset()}},i.buttonReset),e.createElement(Zf.Spacer,{count:2}),e.createElement(Zf.Input.Checkbox,{isDisabled:r,value:a,label:i.checkboxKeepResolution,onChange:n.changeLockResolution}),e.createElement(Zf.Spacer,{count:2}),e.createElement(Vy,{isDisabled:r,showLabel:!0,valueHeight:s,valueWidth:l,onBlurWidth:n.onBlurWidth,onBlurHeight:n.onBlurHeight,onChangeHeight:n.changeLocalOutputHeight,onChangeWidth:n.changeLocalOutputWidth,label:i.inputCropSize,labelHeight:i.inputHeight,labelWidth:i.inputWidth}),e.createElement(Zf.Spacer,{count:1})),e.createElement(Qb.ItemsSeparator,null))}))),Nv=Dl("transformTool","custom","editor")(ec((function(t){var n=t.transformTool,i=t.custom,o=t.editor,r=n,a=r.categories,s=r.items,l=r.identifier,c=r.config,u=function(t){var r=t.identifier===l,a=o.configStore,s=a.theme,c=a.measurements;if(t.thumbnailURI&&n.checkImage(t.thumbnailURI))return i.getAdvancedOptionCard({tool:E.TRANSFORM,type:De.MEDIUM,isActive:r,onClick:function(){return n.changeIdentifier(t.identifier,!0)},key:t.identifier,style:{backgroundSize:"80%",animationDelay:(t.delay||0)+"s"},image:t.thumbnailURI,label:t.name||t.name,children:e.createElement(Qb.CardLabel,null,t.name)});var u=t.identifier.includes("imgly_transform_common"),d=Km.crops[t.identifier]||Km.crops.imgly_transform_common_custom,p=e.createElement(d,{width:c.advancedCard.medium.width-(u?42:0)+"px",height:c.advancedCard.medium.height-(u?42:0)+"px",main:s.transform.crops.main,highlight:s.transform.crops.highlight,shadow:s.transform.crops.shadow});return i.getAdvancedOptionCard({tool:E.TRANSFORM,type:De.MEDIUM,isActive:r,onClick:function(){return n.changeIdentifier(t.identifier,!0)},key:t.identifier,style:{animationDelay:(t.delay||0)+"s",backgroundSize:"unset"},image:"'data:image/svg+xml,"+encodeURIComponent(x(p))+"'",label:t.name||t.name,children:e.createElement(Qb.CardLabel,null,t.name)})},d=function(t){return e.createElement("div",{style:{position:"relative"}},e.createElement(Qb.CardContainer,null,t.map(u)))};return e.createElement(Qb.Itemsbar,null,c.flattenCategories?d(s):e.createElement(e.Fragment,null,a.map((function(t,n){return t.items&&e.createElement("div",{style:{position:"relative"},key:t.identifier},0!==n?e.createElement(Zf.Spacer,{count:2}):null,e.createElement(Qb.Sidebar.SubHeading,null,t.name),e.createElement(Qb.CardContainer,null,t.items.map(u)),e.createElement(Zf.Spacer,{count:2}),n!==a.length-1?e.createElement(Qb.ItemsSeparator,{full:!0}):null)||null})),d(a.filter((function(e){return!e.items})))))}))),Hv=Dl("transformTool")(ec((function(t){var n=t.transformTool;return e.createElement(e.Fragment,null,e.createElement(Qb.Sidebar.Heading,null,n.locale.title),e.createElement(Uv,null),e.createElement(Nv,null))}))),Wv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return S(n,t),n.prototype.render=function(){var t=this.props.active.tool;return e.createElement(Qb.Sidebar.Index,null,e.createElement(Zf.Switch.Index,{type:t},e.createElement(Zf.Switch.Case,{value:E.LIBRARY},e.createElement(sv,null)),e.createElement(Zf.Switch.Case,{value:E.FILTER},e.createElement(pv,null)),e.createElement(Zf.Switch.Case,{value:E.FOCUS},e.createElement(mv,null)),e.createElement(Zf.Switch.Case,{value:E.ADJUSTMENT},e.createElement(bv,null)),e.createElement(Zf.Switch.Case,{value:E.OVERLAY},e.createElement(xv,null)),e.createElement(Zf.Switch.Case,{value:E.STICKER},e.createElement(Cv,null)),e.createElement(Zf.Switch.Case,{value:E.TEXT},e.createElement(Mv,null)),e.createElement(Zf.Switch.Case,{value:E.TEXT_DESIGN},e.createElement(Av,null)),e.createElement(Zf.Switch.Case,{value:E.FRAME},e.createElement(Fv,null)),e.createElement(Zf.Switch.Case,{value:E.BRUSH},e.createElement(jv,null)),e.createElement(Zf.Switch.Case,{value:E.TRANSFORM},e.createElement(Hv,null))))},n=O([Dl("active"),ec],n)}(e.Component),Vv=y.div(Jb||(Jb=A(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"],["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedToolControlBar.width}),(function(e){return e.theme.webcam.backdrop}),(function(e){return e.theme.measurements.zIndex.disable})),Gv=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={hasError:!1},e}return S(n,t),n.getDerivedStateFromError=function(e){return console.error(e),{hasError:!0}},n.prototype.render=function(){var t=this.props,n=t.config,i=t.active;return n.isOrderDefault?e.createElement(Zf.Container,null,i.isWebcam?e.createElement(Vv,{style:{left:0}}):null,e.createElement(Gy,null),e.createElement(iv,null),e.createElement(Wv,null),e.createElement(Eu,null,e.createElement(Uy,null),e.createElement(by,null))):e.createElement(Zf.Container,null,i.isWebcam?e.createElement(Vv,{style:{right:0}}):null,e.createElement(Gy,null),e.createElement(Eu,null,e.createElement(Uy,null),e.createElement(by,null)),e.createElement(Wv,null),e.createElement(iv,null))},n}(e.Component),Kv=Dl("config","active")(ec(Gv)),Xv=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return S(n,t),n.prototype.componentDidMount=function(){this.editor=this.props.editor,this.storeProps=this.props.storeProps;var e=new Ky(this.editor.configStore.config.custom.components,{advancedCard:Qb.Card,advancedToolbarItem:ev,loader:Zf.Loader}),t={getAdvancedCategoryCard:e.getAdvancedCategoryCard,getAdvancedOptionCard:e.getAdvancedOptionCard,getAdvancedToolbarItem:e.getAdvancedToolbarItem,getLoader:e.getLoader,getButton:e.getButton};this.storeProps.custom=t,this.forceUpdate()},n.prototype.render=function(){return this.storeProps?e.createElement(sc,C({},this.storeProps),e.createElement(_,{theme:C({},this.editor.configStore.theme,{measurements:this.editor.configStore.measurements})},e.createElement(Kv,null))):null},n}(e.Component),Yv=Object.freeze({__proto__:null,AdvancedUI:Xv,defaultConfig:rt,deepmergeAll:nr});export{fu as $,K as A,ee as B,k as C,be as D,G as E,q as F,fe as G,ve as H,V as I,xe as J,Se as K,ne as L,z as M,A as N,se as O,Gs as P,zc as Q,Lc as R,H as S,E as T,me as U,F as V,cu as W,kc as X,mu as Y,T as Z,C as _,Ks as a,mr as a0,Su as a1,S as a2,gu as a3,ku as a4,Zf as a5,Dl as a6,ec as a7,jm as a8,js as a9,De as aa,Xm as ab,Vr as ac,Km as ad,O as ae,Nm as af,Lo as ag,Yy as ah,Ns as ai,Um as aj,Xr as ak,Xo as al,qo as am,Vy as an,ng as ao,Gy as ap,Eu as aq,Uy as ar,by as as,Ky as at,sc as au,M as av,Na as aw,nr as b,L as c,rt as d,B as e,j as f,W as g,X as h,D as i,Y as j,$ as k,Z as l,Q as m,J as n,te as o,ie as p,oe as q,ae as r,le as s,ce as t,ue as u,de as v,pe as w,he as x,ge as y,ye as z};
