import{B as Qe,D as ko,G as xe,H as Ze,I as D,K as eo,M as Uo,N as oo,O as Fo,P as to,Q as ro,R as Lo,T as Ee,a as s,b as yo,c as R,f as ye,h as qe,m as oe,n as B,o as Je,p as Eo,q as Ao,r as h,u as a,w as Bo,x as Oo,z as de}from"./chunk-R67T3R6P.js";import{La as Ie,Oa as A,Ta as I,Xa as k,Ya as xo,a as ve,b as To,c as Se,n as Io,s as Te,t as N}from"./chunk-UDNMGV4K.js";var et=ve((bs,Zo)=>{"use strict";var On=false;var Qo=function(){};if(On){Jo=function e(t,r){var n=arguments.length;r=new Array(n>1?n-1:0);for(var o=1;o<n;o++){r[o-1]=arguments[o]}var i=0;var m="Warning: "+t.replace(/%s/g,function(){return r[i++]});if(typeof console!=="undefined"){console.error(m)}try{throw new Error(m)}catch(d){}};Qo=function(e,t,r){var n=arguments.length;r=new Array(n>2?n-2:0);for(var o=2;o<n;o++){r[o-2]=arguments[o]}if(t===void 0){throw new Error("`warning(condition, format, ...args)` requires a warning message argument")}if(!e){Jo.apply(null,[t].concat(r))}}}var Jo;Zo.exports=Qo});var at=ve((Ps,it)=>{"use strict";var Rn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";it.exports=Rn});var dt=ve((Rs,mt)=>{"use strict";var $n=at();function st(){}function lt(){}lt.resetWarningCache=st;mt.exports=function(){function e(n,o,i,m,d,p){if(p===$n){return}var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");c.name="Invariant Violation";throw c};e.isRequired=e;function t(){return e};var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lt,resetWarningCache:st};r.PropTypes=r;return r}});var ct=ve((Ms,pt)=>{if(false){$s=null;Hs=true;pt.exports=null($s.isElement,Hs)}else{pt.exports=dt()()}var $s;var Hs});import Ye from"react";import{ThemeProvider as Ri}from"styled-components";import Zr from"react";import Vr from"react";import Xr from"styled-components";var Kr=Xr(oe)`
  width: ${e=>e.theme.measurements.advancedUICard.large.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.large.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
`;var qr=({isActive:e,...t})=>{return Vr.createElement(Kr,{...t})};var Do=qr;import Jr from"styled-components";var wo=Jr(oe)`
  width: ${e=>e.theme.measurements.advancedUICard.medium.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.medium.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(2n + 1) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;import Qr from"styled-components";var No=Qr(oe)`
  width: ${e=>e.theme.measurements.advancedUICard.small.width}px;
  height: ${e=>e.theme.measurements.advancedUICard.small.height}px;
  margin-bottom: ${e=>e.theme.measurements.advancedUISpacer}px;
  color: ${e=>e.theme.card.foreground};
  &:nth-child(3n + 1),
  &:nth-child(3n + 2) {
    margin-right: ${e=>e.theme.measurements.advancedUISpacer}px;
  }
`;var pe=({type:e,...t})=>{const r=e==="large";const n=e==="small";let o=wo;if(r){o=Do}else if(n){o=No}return Zr.createElement(o,{type:e,...t})};import en from"styled-components";var Ae=en.div.attrs(e=>({"data-test":e["data-test"]||I.CardContainer}))`
  display: flex;
  flex-wrap: wrap;
  /* width - padding on both sides */
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width-48}px;
`;import on from"react";import tn,{css as _o}from"styled-components";var rn=tn.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;

  position: relative;
  width: ${e=>e.theme.measurements.advancedUIToolControlBar.width}px;
  /* for Firefox */
  min-height: 0;
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.marginBottom}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolControlBar};

  background: ${e=>e.theme.toolControlBar.background};
  transition: width 0.4s ease-in;
  ${e=>!e.reverse?_o`
          border-right: 1px solid ${e.theme.toolControlBar.borderColor};
        `:_o`
          border-left: 1px solid ${e.theme.toolControlBar.borderColor};
        `}
`;var Po=({reverse:e=false,style:t,className:r,children:n})=>on.createElement(rn,{"data-test":I.ToolControlBar,reverse:e,className:r,style:t},n);import nn,{css as no}from"styled-components";var Ro=nn.div.attrs(()=>({"data-test":I.CategoryItemsContainer}))`
  transition: max-height 0.8s ease-out, transform 0.8s ease-out;
  background: ${e=>e.theme.toolControlBar.background};
  visibility: hidden;
  opacity: 0;
  transform-origin: 0 0;
  display: none;
  flex-wrap: wrap;

  ${({show:e})=>e&&no`
      opacity: 1;
      visibility: visible;
      ${N()?no`
            display: block;
          `:no`
            display: flex;
          `}
    `}
`;import $o from"react";import Ho from"styled-components";var an=Ho(Eo)`
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* the padding and margin should only be applied to the children */
  margin: 0 !important;
  padding: 0 !important;
`;var sn=Ho.div`
  display: flex;
  flex-direction: column;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var Mo=({show:e,children:t})=>{return $o.createElement(an,{duration:300,height:e?"auto":0,easing:"ease-in-out",animateOpacity:true},$o.createElement(sn,{"data-test":I.ToolControlBarExpandableControls},t))};import ln,{css as mn}from"styled-components";var ce=ln(ye)`
  position: relative;

  box-sizing: border-box;

  /* for Firefox */
  min-height: 0;

  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);
  color: ${e=>e.theme.toolControlBar.inputLabelForeground};

  /* compensate the padding in IE and Edge */
  ${()=>{if(N()||Te()){return mn`
        > ul {
          padding-right: 34px;
          margin-right: -34px;
        }
      `}return""}}
`;ce.defaultProps={direction:"vertical"};import dn,{css as pn}from"styled-components";var cn=dn.div`
  position: relative;
  &:after {
    content: '';
    position: absolute;
    bottom: 0px;
    ${e=>e.full?pn`
            left: -${3*e.theme.measurements.advancedUISpacer/2}px;
            width: calc(
              100% + ${3*e.theme.measurements.advancedUISpacer}px
            );
          `:`
      left: ${3*e.theme.measurements.advancedUISpacer/2}px;
      width: calc(100% - ${3*e.theme.measurements.advancedUISpacer}px);
    `}
    border-bottom: 2px solid ${e=>e.theme.toolControlBar.separatorColor};
  }
`;var Be=cn;import un from"styled-components";var fn=un.h2`
  color: ${e=>e.theme.toolControlBar.titleForeground};
  font-size: ${e=>e.theme.measurements.fontSystem.headline2.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline2.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline2.case};
  font-weight: 500;
  min-height: ${e=>2*e.theme.measurements.advancedUISpacer}px;
  margin-top: 0;
`;var Oe=fn;import H from"react";import Cn from"styled-components";var hn=Cn.div`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  flex: 1 0 auto;
`;var Wo=({name:e,isFirstCategory:t,isLastCategory:r,children:n})=>{return H.createElement(hn,null,!t&&H.createElement(h.Spacer,{count:2}),H.createElement(Oe,{"data-test":e},e),H.createElement(Ae,{"data-test":I.CategoryItemsContainer},n),!r&&H.createElement(H.Fragment,null,H.createElement(h.Spacer,{count:2}),H.createElement(Be,{full:true})))};import bn from"styled-components";var gn=bn.h1`
  /* Center text horizontally and vertically */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 0;
  padding: 0 4px;
  margin: 0;
  min-height: ${e=>e.theme.measurements.mainCanvasActionBar.height-2}px;
  font-size: ${e=>e.theme.measurements.fontSystem.headline1.size}px;
  letter-spacing: ${e=>e.theme.measurements.fontSystem.headline1.letterSpacing}px;
  text-transform: ${e=>e.theme.measurements.fontSystem.headline1.case};
  background: ${e=>e.theme.toolControlBar.background};
  color: ${e=>e.theme.toolControlBar.titleForeground};
  border-bottom: 1px solid ${e=>e.theme.toolControlBar.separatorColor};
  font-weight: 500;
  text-align: center;
  /* prevent the padding from leaving the width of the parent  */
  box-sizing: border-box;
`;var zo=gn;import vn from"react";import Sn from"styled-components";var Tn=Sn.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;

  overflow-y: auto;
  overflow-x: hidden;

  /* calculate the max-height based on the padding and if the heading is used */
  max-height: calc(
    100% -
      ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}px -
      ${e=>e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}px
  );

  padding-top: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingTop}px;
  padding-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingBottom}px;

  > * {
    margin-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    margin-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  /* The scrollable content needs a padding for the scrollbar position */
  > ${ce} {
    margin-left: 0px;
    margin-right: 0px;
    padding-left: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingLeft}px;
    padding-right: ${e=>e.theme.measurements.advancedUIToolControlBar.paddingRight}px;
  }

  > :not(:last-child) {
    margin-bottom: ${e=>e.theme.measurements.advancedUIToolControlBar.controls.gutter}px;
  }
`;var Go=({children:e})=>{const{config:t}=a();const r=t.config.displayToolControlBarTitle;return vn.createElement(Tn,{displayTitle:r},e)};import jo from"react";import In,{css as io}from"styled-components";var yn=In.div`
  display: flex;
  flex: 1 0 auto;
  flex-direction: column;
  align-items: center;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width}px;

  z-index: ${e=>e.theme.measurements.zIndex.toolbar};

  background-color: ${e=>e.theme.toolbar.background};
  color: ${e=>e.theme.toolbar.foreground};
  ${e=>{const t=e.theme.toolbar.border?e.theme.toolbar.border:io`
          1px solid ${e.theme.toolbar.borderColor};
        `;return!e.reverse?io`
          border-right: ${t};
        `:io`
          border-left: ${t};
        `}}
  margin-bottom: ${e=>e.theme.measurements.advancedUIToolbar.marginBottom}px;
`;var Yo=({reverse:e,style:t,className:r,children:n})=>{return jo.createElement(yn,{reverse:e,"data-test":I.Toolbar,className:r,style:t},jo.createElement(ye,{direction:"vertical"},n))};import Vo from"react";import Xo,{css as ao}from"styled-components";var xn=Xo(qe)`
  width: inherit;
  height: inherit;
  padding: 0;
  margin: 0;
  ${N()?ao`
        background-color: transparent;
      `:ao`
        background-color: inherit;
      `}

  ${e=>e.isActive&&ao`
      background-color: ${e.theme.toolbar.activeBackground};
      color: ${e.theme.toolbar.activeForeground};

      svg {
        color: ${e.theme.toolbar.activeForeground};
      }
    `}
`;var En=Xo.li.attrs({"aria-haspopup":true,"aria-hidden":true,role:"menuitem"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.itemHeight}px;
  cursor: pointer;
  position: relative;
`;var Ko=e=>Vo.createElement(En,null,Vo.createElement(xn,{...e,"data-test":I.ToolbarItem}));import An from"styled-components";var Bn=An.li.attrs({role:"none"})`
  height: ${e=>e.theme.measurements.advancedUIToolbar.separatorHeight}px;
  cursor: pointer;
  position: relative;
`;var qo=Bn;import Ue,{useRef as Wn}from"react";import{useRef as rt,createElement as Nn}from"react";var Dn=To(et());import*as gs from"react";import{useLayoutEffect as kn,useEffect as Un,isValidElement as Ss,cloneElement as Ts,createContext as Is,forwardRef as ys,memo as xs,useRef as Es,useState as Fn,useCallback as Ln,useMemo as As}from"react";var ot=wn()?kn:Un;if(false){Bs=typeof process!=="undefined"?process:{env:{NODE_ENV:"development"}},Os=Bs.env;checkStyles=function e(t){if(checkedPkgs[t])return;checkedPkgs[t]=true;if(Os.NODE_ENV!=="test"&&parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-"+t),10)!==1){console.warn("@reach/"+t+' styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import "@reach/'+t+`/styles.css";

  Otherwise you'll need to include them some other way:

    <link rel="stylesheet" type="text/css" href="node_modules/@reach/`+t+'/styles.css" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ')}}}var Bs;var Os;var ks=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();function wn(){return!!(typeof window!=="undefined"&&window.document&&window.document.createElement)}if(false){useControlledSwitchWarning=function e(t,r,n){var o=Es(t!=null);var i=Es({componentName:n,controlledPropName:r});Un(function(){i.current={componentName:n,controlledPropName:r}},[n,r]);Un(function(){var m=o.current;var d=i.current,p=d.componentName,c=d.controlledPropName;var b=t!=null;if(m!==b){console.error("A component is changing an "+(m?"":"un")+"controlled `"+c+"` state of "+p+" to be "+(m?"un":"")+"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled "+p+" element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components")}},[t])}}if(false){useCheckStyles=function e(t){var r=Es(t);Un(function(){return void(r.current=t)},[t]);Un(function(){return checkStyles(r.current)},[])}}function tt(){var e=Fn(Object.create(null)),t=e[1];return Ln(function(){t(Object.create(null))},[])}if(false){useStateLogger=function e(t,r){if(r===void 0){r=false}var n=Es(r);Un(function(){n.current=r},[r]);Un(function(){if(n.current){console.group("State Updated");console.log("%c"+t,"font-weight: normal; font-size: 120%; font-style: italic;");console.groupEnd()}},[t])}}import{createPortal as _n}from"react-dom";var Pn=function e(t){var r=t.children,n=t.type,o=n===void 0?"reach-portal":n;var i=rt(null);var m=rt(null);var d=tt();ot(function(){if(!i.current)return;var p=i.current.ownerDocument;m.current=p===null||p===void 0?void 0:p.createElement(o);p.body.appendChild(m.current);d();return function(){if(m.current&&m.current.ownerDocument){m.current.ownerDocument.body.removeChild(m.current)}}},[o,d]);return m.current?_n(r,m.current):Nn("span",{ref:i})};if(false){Pn.displayName="Portal"}var nt=Pn;function so(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,i;for(i=0;i<n.length;i++){o=n[i];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}function lo(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var Mn=To(ct());import ke from"react";import co from"react-dom";var mo={disabled:false};import Hn from"react";var po=Hn.createContext(null);var ue="unmounted";var Y="exited";var V="entering";var re="entered";var uo="exiting";var P=function(e){lo(t,e);function t(n,o){var i;i=e.call(this,n,o)||this;var m=o;var d=m&&!m.isMounting?n.enter:n.appear;var p;i.appearStatus=null;if(n.in){if(d){p=Y;i.appearStatus=V}else{p=re}}else{if(n.unmountOnExit||n.mountOnEnter){p=ue}else{p=Y}}i.state={status:p};i.nextCallback=null;return i}t.getDerivedStateFromProps=function n(o,i){var m=o.in;if(m&&i.status===ue){return{status:Y}}return null};var r=t.prototype;r.componentDidMount=function n(){this.updateStatus(true,this.appearStatus)};r.componentDidUpdate=function n(o){var i=null;if(o!==this.props){var m=this.state.status;if(this.props.in){if(m!==V&&m!==re){i=V}}else{if(m===V||m===re){i=uo}}}this.updateStatus(false,i)};r.componentWillUnmount=function n(){this.cancelNextCallback()};r.getTimeouts=function n(){var o=this.props.timeout;var i,m,d;i=m=d=o;if(o!=null&&typeof o!=="number"){i=o.exit;m=o.enter;d=o.appear!==void 0?o.appear:m}return{exit:i,enter:m,appear:d}};r.updateStatus=function n(o,i){if(o===void 0){o=false}if(i!==null){this.cancelNextCallback();if(i===V){this.performEnter(o)}else{this.performExit()}}else if(this.props.unmountOnExit&&this.state.status===Y){this.setState({status:ue})}};r.performEnter=function n(o){var i=this;var m=this.props.enter;var d=this.context?this.context.isMounting:o;var p=this.props.nodeRef?[d]:[co.findDOMNode(this),d],c=p[0],b=p[1];var f=this.getTimeouts();var g=d?f.appear:f.enter;if(!o&&!m||mo.disabled){this.safeSetState({status:re},function(){i.props.onEntered(c)});return}this.props.onEnter(c,b);this.safeSetState({status:V},function(){i.props.onEntering(c,b);i.onTransitionEnd(g,function(){i.safeSetState({status:re},function(){i.props.onEntered(c,b)})})})};r.performExit=function n(){var o=this;var i=this.props.exit;var m=this.getTimeouts();var d=this.props.nodeRef?void 0:co.findDOMNode(this);if(!i||mo.disabled){this.safeSetState({status:Y},function(){o.props.onExited(d)});return}this.props.onExit(d);this.safeSetState({status:uo},function(){o.props.onExiting(d);o.onTransitionEnd(m.exit,function(){o.safeSetState({status:Y},function(){o.props.onExited(d)})})})};r.cancelNextCallback=function n(){if(this.nextCallback!==null){this.nextCallback.cancel();this.nextCallback=null}};r.safeSetState=function n(o,i){i=this.setNextCallback(i);this.setState(o,i)};r.setNextCallback=function n(o){var i=this;var m=true;this.nextCallback=function(d){if(m){m=false;i.nextCallback=null;o(d)}};this.nextCallback.cancel=function(){m=false};return this.nextCallback};r.onTransitionEnd=function n(o,i){this.setNextCallback(i);var m=this.props.nodeRef?this.props.nodeRef.current:co.findDOMNode(this);var d=o==null&&!this.props.addEndListener;if(!m||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[m,this.nextCallback],c=p[0],b=p[1];this.props.addEndListener(c,b)}if(o!=null){setTimeout(this.nextCallback,o)}};r.render=function n(){var o=this.state.status;if(o===ue){return null}var i=this.props,m=i.children,d=i.in,p=i.mountOnEnter,c=i.unmountOnExit,b=i.appear,f=i.enter,g=i.exit,C=i.timeout,u=i.addEndListener,S=i.onEnter,T=i.onEntering,E=i.onEntered,w=i.onExit,G=i.onExiting,Z=i.onExited,ee=i.nodeRef,j=so(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ke.createElement(po.Provider,{value:null},typeof m==="function"?m(o,j):ke.cloneElement(ke.Children.only(m),j))};return t}(ke.Component);P.contextType=po;P.propTypes=false?{nodeRef:Mn.default.shape({current:typeof Element==="undefined"?Mn.default.any:Mn.default.instanceOf(Element)}),children:Mn.default.oneOfType([Mn.default.func.isRequired,Mn.default.element.isRequired]).isRequired,in:Mn.default.bool,mountOnEnter:Mn.default.bool,unmountOnExit:Mn.default.bool,appear:Mn.default.bool,enter:Mn.default.bool,exit:Mn.default.bool,timeout:function e(t){var r=timeoutsShape;if(!t.addEndListener)r=r.isRequired;for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}return r.apply(void 0,[t].concat(o))},addEndListener:Mn.default.func,onEnter:Mn.default.func,onEntering:Mn.default.func,onEntered:Mn.default.func,onExit:Mn.default.func,onExiting:Mn.default.func,onExited:Mn.default.func}:{};function te(){}P.defaultProps={in:false,mountOnEnter:false,unmountOnExit:false,appear:false,enter:true,exit:true,onEnter:te,onEntering:te,onEntered:te,onExit:te,onExiting:te,onExited:te};P.UNMOUNTED=ue;P.EXITED=Y;P.ENTERING=V;P.ENTERED=re;P.EXITING=uo;var fo=P;import ut,{css as Co}from"styled-components";var zn=ut.div`
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* added line-height reset from appContainer */
  font-family: '${e=>e.theme.typography.fontFamily}', sans-serif;

  ${N()?Co`
        position: -ms-device-fixed;
      `:Co`
        position: fixed;
      `}
  top: ${e=>e.position.y-5}px;
  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,
    right 0.25s ease-in-out;
  z-index: ${e=>e.theme.measurements.zIndex.toolbar};
  pointer-events: none;
  cursor: pointer;

  &:before {
    content: ' ';
    position: absolute;
    top: 10px;
    left: -8px;
    width: 0;
    height: 0;
    border-right: 8px solid ${e=>e.theme.tooltip.background};
    border-bottom: 6px solid transparent;
    border-top: 6px solid transparent;
  }

  &:after {
    content: '${e=>e.label}';
    position: absolute;
    color: ${e=>e.theme.tooltip.foreground};
    background: ${e=>e.theme.tooltip.background};
    padding: 8px 12px;
    text-align: center;
    vertical-align: super;
    font-size: ${e=>e.theme.measurements.fontSystem.label.size}px;
    letter-spacing: ${e=>e.theme.measurements.fontSystem.label.letterSpacing}px;
    text-transform: ${e=>e.theme.measurements.fontSystem.label.case};
    border-radius: ${e=>e.theme.shape.radiusSmall}px;
    white-space: nowrap;
  }

  ${e=>e.reverse&&Co`
      direction: rtl;

      &:before {
        border-left: 8px solid ${e.theme.tooltip.background};
        border-right: none;
        right: -8px;
        left: unset;
        top: 10px;
      }
    `}
`;var Gn=ut.span`
  display: none;
`;var ft=({show:e=true,reverse:t,position:r,children:n})=>{const o=Wn(null);const{config:i}=a();const{measurements:m}=i;const d=typeof n==="string"?n:"";const p=r.x+m.advancedUIToolbar.width-10;const c=r.x+m.advancedUIToolbar.width+16;const b=t?"right":"left";const f={entering:{opacity:0,[b]:`${p}px`},entered:{opacity:1,[b]:`${c}px`},exiting:{opacity:0,[b]:`${p}px`},exited:{opacity:0,[b]:`${p}px`}};return Ue.createElement(fo,{nodeRef:o,in:e,timeout:{exit:500}},g=>g!=="exited"&&Ue.createElement(nt,null,Ue.createElement(zn,{ref:o,style:f[g],"data-test":I.Tooltip,reverse:t,position:r,label:d},Ue.createElement(Gn,null,d))))};var l={Card:pe,CardContainer:Ae,Toolbar:{Index:Yo,Item:Ko,Separator:qo,Tooltip:ft},Itemsbar:ce,BarSeparator:"",ItemsSeparator:Be,Controlsbar:Mo,ToolControlBarItems:Go,Sidebar:{Index:Po,Heading:zo,SubHeading:Oe,TextCategory:Wo,ExpandableContainer:Ro}};import x from"react";import Ni from"styled-components";import ht from"react";import fe from"react";var Fe=class extends fe.Component{constructor(){super(...arguments);this.renderIcon=t=>{const{tool:r,config:n}=this.props;const o=n.state.config[r];if("icon"in o){const m=o.icon;return fe.createElement(m,null)}const i=Bo[t];return fe.createElement(i,null)||null};this.update=t=>{const{active:r}=this.props;r.selectTool(t)}}getToolTitle(t){const{config:r}=this.props;return r.locale[t].title}render(){const{tool:t,disabled:r,custom:n,active:o,isReverse:i}=this.props;const m=o.tool;if(t){const d=n.getAdvancedToolbarItem();if(!d){return null}return fe.createElement(d,{key:t,isDisabled:r,isActive:t===m,isReverse:i,icon:this.renderIcon(t),onClick:()=>this.update(t),tool:t,label:this.getToolTitle(t)})}return fe.createElement(l.Toolbar.Separator,null)}};Fe=Se([R("active","config","custom"),s],Fe);var Ct=Fe;var ho=s(function e(){const{custom:t,config:r,active:n}=a();const o=r.config.order==="reverse";const i=t.getAdvancedToolbar();if(!i){return null}return ht.createElement(i,{reverse:o},r.tools.map((m,d)=>ht.createElement(Ct,{key:m||d,tool:m,isReverse:o,disabled:!(n.image||m==="library"||m==="customTool")})))});import y from"react";import Le from"react";import Ce from"react";import M from"react";var jn=s(()=>{const{adjustmentsTool:e,custom:t}=a();const{categories:r,items:n,config:o,locale:i}=e;const m=p=>{const c=e[p.identifier];const b=e.locale.categories[p.identifier]||p.name;const f=t.getSlider();if(!f){return null}return M.createElement(f,{tool:"adjustment",identifier:p.identifier,adjust:true,key:p.identifier,label:b,value:c,onChange:g=>{e.editAdjustments({type:p.identifier,value:g})},onMouseUp:()=>e.toolSnapshot(),onTouchEnd:()=>e.toolSnapshot(),snap:0,style:{paddingBottom:"16px",width:"100%"}})};const d=(p,c)=>{const b=i.categories[p.identifier]||p.name;if(!p.items)return null;return M.createElement(l.Sidebar.TextCategory,{key:p.identifier,name:b,isFirstCategory:c===0,isLastCategory:c===r.length-1},p.items.map(m))};if(o.flattenCategories)return M.createElement(M.Fragment,null,n.map(m));return M.createElement(M.Fragment,null,r.map(d))});var bt=()=>{return M.createElement(l.Itemsbar,null,M.createElement(jn,null))};import Yn from"react";var gt=s(()=>{const{adjustmentsTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Yn.createElement(n,{tool:"adjustment",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var vt=s(()=>{const{adjustmentsTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return Ce.createElement(bt,{key:o});case"separator":return Ce.createElement(l.ItemsSeparator,{full:true,key:A()});case"removeAdjustmentButton":return Ce.createElement(gt,{key:o});default:return null}}else if(typeof o==="object"){return Ce.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return Ce.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var St=s(({displayTitle:e})=>{const{adjustmentsTool:t}=a();return Le.createElement(Le.Fragment,null,e&&Le.createElement(l.Sidebar.Heading,null,t.locale.title),Le.createElement(vt,null))});import De from"react";import X from"react";import Tt from"react";var It=s(()=>{const{brushTool:e}=a();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n}=e;return Tt.createElement(h.Input.Selection,{label:t.selectColor},Tt.createElement(D,{tool:"brush",activeColor:e.color,colors:n,labelsColor:r,onChange:e.changeColor}))});import Vn from"react";var yt=s(()=>{const{brushTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return Vn.createElement(n,{identifier:"brush-hardness",tool:"brush","data-test":I.BrushHardness,label:r.sliderHardness,value:e.hardness,min:0,max:1,onChange:e.changeHardness})});import Xn from"react";var xt=s(()=>{const{brushTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getSlider();if(!n){return null}return Xn.createElement(n,{identifier:"brush-size",tool:"brush","data-test":I.BrushSize,label:r.sliderSize,value:e.relativeSize,min:1,max:100,divider:1,onChange:e.changeRelativeSize})});import Kn from"react";var Et=s(()=>{const{brushTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Kn.createElement(n,{tool:"brush",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isDirty,onClick:o})});var At=s(()=>{const{brushTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"brushColorList":return X.createElement(It,{key:o});case"brushHardnessSlider":return X.createElement(yt,{key:o});case"brushSizeSlider":return X.createElement(xt,{key:o});case"separator":return X.createElement(l.ItemsSeparator,{full:true,key:A()});case"removeBrushButton":return X.createElement(Et,{key:o});default:return null}}else if(typeof o==="object"){return X.createElement(l.Controlsbar,{key:o.type,show:e.isDirty},o.children.map(i=>n(i)))}return null};return X.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var qn=({brushTool:e,displayTitle:t})=>De.createElement(De.Fragment,null,t&&De.createElement(l.Sidebar.Heading,null,e.locale.title),De.createElement(At,null));var Bt=R("brushTool")(s(qn));import we from"react";var Ot=({displayTitle:e})=>{const{config:t}=a();const r=t.state.config["customTool"].toolControlBar;const{title:n}=t.state.locale["customTool"];return we.createElement(we.Fragment,null,e&&we.createElement(l.Sidebar.Heading,null,n),we.createElement(r,{language:t.state.locale["customTool"]}))};import Ne from"react";import ne from"react";import Jn from"react";var kt=s(()=>{const{filterTool:e,custom:t}=a();const r=e.locale.controls;const n=e.state;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return Jn.createElement(i,{identifier:"filter-intensity",tool:"filter","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:n.intensity,min:0,max:1,onChange:e.changeIntensity,onMouseUp:o,onTouchEnd:o,snap:n.isDuotone?.5:null,isDisabled:!e.isOptionSelected})});import F from"react";var Qn=s(()=>{const{filterTool:e,custom:t}=a();const{categories:r,config:n,items:o,locale:i}=e;const m=t.getAdvancedItemCard();const d=t.getAdvancedCategoryCard();const p=(f,g)=>{var S;const C=i.items[f.identifier]||f.name;const u=(S=i.controls)==null?void 0:S.itemAriaLabel;if(!m){return null}return F.createElement(m,{tool:"filter",type:"medium",onClick:()=>e.selectFilter(f.identifier,f.defaultIntensity),key:f.identifier,image:f.thumbnailURI,label:C,"aria-label":u==null?void 0:u.replace(`\${label}`,C),style:{animationDelay:`${k(g)}s`},isActive:e.identifier===f.identifier},F.createElement(B,{withBackground:true},C))};const c=(f,g)=>{var E;const{selectedCategoryIdentifier:C}=e;const u=C===f.identifier;const S=i.categories[f.identifier]||f.name;const T=(E=i.controls)==null?void 0:E.categoryAriaLabel;if(!f.items||!d){return null}return F.createElement("div",{key:f.identifier},F.createElement(d,{role:"button","aria-expanded":u,"aria-label":T==null?void 0:T.replace(`\${label}`,S),isActive:u,tool:"filter",type:"large",onClick:()=>e.toggleCategorySelection(f.identifier),image:f.thumbnailURI,label:S,style:{animationDelay:`${k(g)}s`}},F.createElement(B,{withBackground:true,caret:true,isActive:u},S)),F.createElement(l.Sidebar.ExpandableContainer,{show:u},f.items.map(p)))};const b=(f,g)=>{const C=i.categories[f.identifier]||f.name;if(!f.items)return null;return F.createElement(l.Sidebar.TextCategory,{key:f.identifier,name:C,isFirstCategory:g===0,isLastCategory:g===r.length-1},f.items.map(p))};if(n.flattenCategories)return F.createElement(F.Fragment,null,o.map(p));if(n.categoryHeaderType==="card")return F.createElement(F.Fragment,null,r.map(c));if(n.categoryHeaderType==="text")return F.createElement(F.Fragment,null,r.map(b));return null});var Ut=()=>{return F.createElement(l.Itemsbar,null,F.createElement(l.CardContainer,null,F.createElement(Qn,null)))};import Zn from"react";var Ft=s(()=>{const{filterTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Zn.createElement(n,{tool:"filter",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Lt=s(()=>{const{filterTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return ne.createElement(Ut,{key:o});case"separator":return ne.createElement(l.ItemsSeparator,{full:true,key:A()});case"removeFilterButton":return ne.createElement(Ft,{key:o});case"filterIntensitySlider":return ne.createElement(kt,{key:o});default:return null}}else if(typeof o==="object"){return ne.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return ne.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Dt=s(({displayTitle:e})=>{const{filterTool:t}=a();return Ne.createElement(Ne.Fragment,null,e&&Ne.createElement(l.Sidebar.Heading,null,t.locale.title),Ne.createElement(Lt,null))});import _e from"react";import ie from"react";import ei from"react";var wt=s(()=>{const{focusTool:e,custom:t}=a();const r=e.locale.controls;const n=()=>{e.toolSnapshot(r.sliderIntensity)};const o=t.getSlider();if(!o){return null}return ei.createElement(o,{identifier:"focus-intensity",tool:"focus","aria-hidden":!e.isOptionSelected,label:r.sliderIntensity,value:e.relativeIntensity,min:0,max:100,divider:1,onChange:e.changeRelativeIntensity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import K from"react";var oi=s(()=>{const{focusTool:e,custom:t}=a();const{items:r,locale:n}=e;const o=(i,m)=>{var b;const d=n.items[i.identifier]||i.name;const p=(b=n.controls)==null?void 0:b.itemAriaLabel;const c=t.getAdvancedItemCard();if(!c){return null}return K.createElement(c,{tool:"focus",type:"large",onClick:()=>e.selectFocus(i.identifier),key:i.identifier,image:i.thumbnailURI,label:d,"aria-label":p==null?void 0:p.replace(`\${label}`,d),style:{animationDelay:`${k(m)}s`},isActive:i.identifier===e.identifier},K.createElement(B,{withBackground:true},d))};return K.createElement(K.Fragment,null,r.map(o))});var Nt=()=>{return K.createElement(l.Itemsbar,null,K.createElement(l.CardContainer,null,K.createElement(oi,null)))};import ti from"react";var _t=s(()=>{const{focusTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ti.createElement(n,{tool:"focus",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var Pt=s(()=>{const{focusTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"separator":return ie.createElement(l.ItemsSeparator,{full:true,key:A()});case"removeFocusButton":return ie.createElement(_t,{key:o});case"focusIntensitySlider":return ie.createElement(wt,{key:o});case"items":return ie.createElement(Nt,{key:o});default:return null}}else if(typeof o==="object"){return ie.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return ie.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Rt=s(({displayTitle:e})=>{const{focusTool:t}=a();return _e.createElement(_e.Fragment,null,e&&_e.createElement(l.Sidebar.Heading,null,t.locale.title),_e.createElement(Pt,null))});import Re from"react";import z from"react";import $t from"react";var Ht=s(()=>{const{frameTool:e}=a();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{colorList:n,tintable:o}=e;return $t.createElement(h.Input.Selection,{isDisabled:!o,label:t.selectColor},$t.createElement(D,{tool:"frame",activeColor:e.color,colors:n,labelsColor:r,isDisabled:!o,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Pe from"react";var Mt=s(()=>{const{frameTool:e,custom:t}=a();const{items:r,locale:n}=e;const o=e.state?e.state.identifier:null;const i=(m,d)=>{var f;const p=n.items[m.identifier]||m.name;const c=(f=n.controls)==null?void 0:f.itemAriaLabel;const b=t.getAdvancedItemCard();if(!b){return null}return Pe.createElement(b,{tool:"frame",type:"medium",onClick:()=>e.selectFrame(m.identifier),key:m.identifier,image:m.thumbnailURI,label:p,"aria-label":c==null?void 0:c.replace(`\${label}`,p),style:{backgroundSize:"75%",animationDelay:`${k(d)}s`},isActive:m.identifier===o},Pe.createElement(B,{hidden:true},p))};return Pe.createElement(l.Itemsbar,null,Pe.createElement(l.CardContainer,null,r.map(i)))});import ri from"react";var Wt=s(()=>{const{frameTool:e,custom:t}=a();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return ri.createElement(o,{identifier:"frame-opacity",tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:()=>{n(r.sliderOpacity)},onTouchEnd:()=>{n(r.sliderOpacity)},isDisabled:!e.isOptionSelected})});import ni from"react";var zt=s(()=>{const{frameTool:e,custom:t}=a();const r=e.locale.controls;const n=i=>{e.toolSnapshot(i)};const o=t.getSlider();if(!o){return null}return ni.createElement(o,{identifier:"frame-size",tool:"frame","aria-hidden":!e.isOptionSelected,label:r.sliderSize,value:e.size,min:e.minSize,max:e.maxSize,divider:1,onChange:e.changeWidth,onMouseUp:()=>{n(r.sliderSize)},onTouchEnd:()=>{n(r.sliderSize)},isDisabled:!e.isOptionSelected})});import ii from"react";var Gt=s(()=>{const{frameTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ii.createElement(n,{tool:"frame",ariaLabel:r.buttonReset,onClick:o,isDisabled:!e.isOptionSelected,label:r.buttonReset})});var jt=s(()=>{const{frameTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return z.createElement(Mt,{key:o});case"separator":return z.createElement(l.ItemsSeparator,{full:true,key:A()});case"frameOpacitySlider":return z.createElement(Wt,{key:o});case"frameSizeSlider":return z.createElement(zt,{key:o});case"frameColorList":return z.createElement(Ht,{key:o});case"removeFrameButton":return z.createElement(Gt,{key:o});default:return null}}else if(typeof o==="object"){return z.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return z.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Yt=s(({displayTitle:e})=>{const{frameTool:t}=a();return Re.createElement(Re.Fragment,null,e&&Re.createElement(l.Sidebar.Heading,null,t.locale.title),Re.createElement(jt,null))});import $e from"react";import ae from"react";import O from"react";var ai=s(()=>{const{active:e,library:t,custom:r}=a();const{query:n,config:o,selectedCategoryIdentifier:i,categories:m,items:d,locale:p}=t;const c=r.getAdvancedCategoryCard();const b=r.getAdvancedItemCard();const f=(u,S)=>{var E;const T=(E=p.controls)==null?void 0:E.itemAriaLabel;if(!b){return null}return O.createElement(b,{tool:"library",type:"medium",onClick:()=>e.newImage(u.rawUrl),key:`${u.identifier}-${S}`,image:u.thumbnailURI,label:u.name,"aria-label":T==null?void 0:T.replace(`\${label}`,u.name),style:{animationDelay:`${k(S)}s`},authorAvatar:u.authorAvatar,authorName:u.authorName},u.authorAvatar&&O.createElement(Je,{url:u.authorAvatar}),u.authorName&&O.createElement(B,{withBackground:true},u.authorName))};const g=(u,S)=>{var w;const T=i===u.identifier;const E=(w=p.controls)==null?void 0:w.categoryAriaLabel;if(!u.items||!c){return null}return O.createElement("div",{key:u.identifier},O.createElement(c,{role:"button","aria-expanded":T,"aria-label":E==null?void 0:E.replace(`\${label}`,u.name),isActive:T,tool:"library",type:"large",onClick:()=>t.toggleCategorySelection(u.identifier),image:u.thumbnailURI,label:u.name,style:{animationDelay:`${k(S)}s`}},O.createElement(B,{withBackground:true,caret:true,isActive:T},u.name)),O.createElement(l.Sidebar.ExpandableContainer,{show:T},u.items.map(f)))};const C=(u,S)=>{if(!u.items)return null;return O.createElement(l.Sidebar.TextCategory,{key:u.identifier,name:u.name,isFirstCategory:S===0,isLastCategory:S===m.length-1},u.items.map(f))};if(n)return d.length?O.createElement(O.Fragment,null,d.map(f)):O.createElement("p",{"data-test":I.NoResult},t.locale.controls.noResults);if(o.flattenCategories)return O.createElement(O.Fragment,null,d.map(f));if(o.categoryHeaderType==="card")return O.createElement(O.Fragment,null,m.map(g));if(o.categoryHeaderType==="text")return O.createElement(O.Fragment,null,m.map(C));return null});var Vt=()=>{return O.createElement(l.Itemsbar,null,O.createElement(l.CardContainer,null,O.createElement(ai,null)))};import si from"react";var Xt=s(()=>{const{library:e,active:t}=a();const{config:r}=e;const n=e.locale.controls;const o=()=>{t.selectWebcam(true)};if(r.enableWebcam){return si.createElement(Lo,{tool:"library",onClick:o,label:n.buttonWebcamOpen})}return null});import li from"react";var Kt=s(()=>{const{library:e}=a();const{libraryProvider:t}=e;const r=e.locale.controls;const n=o=>{e.fetchImages(o)};if(t){return li.createElement(h.Input.Search,{onChange:n,placeholder:r.placeholderSearch})}return null});import qt from"react";var Jt=s(()=>{const{library:e,active:t,custom:r}=a();const{config:n}=e;const o=e.locale.controls;const i=r.getButton("toolControlBarPrimaryButton");const m=p=>{const{files:c}=p.target;if(c.length){const b=new FileReader;b.onload=f=>{t.newImage(f.target.result)};b.readAsDataURL(c[0])}};const d=()=>{const p=document.getElementById("fileUpload");if(p){p.click()}};if(n.enableUpload){if(!i){return null}return qt.createElement(i,{"data-test":I.LibraryUploadButton,tool:"library",ariaLabel:o.buttonUpload,onClick:d,label:o.buttonUpload},qt.createElement(h.Input.File,{onChange:m}))}return null});var Qt=s(()=>{const{library:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return ae.createElement(Vt,{key:o});case"openWebcamButton":return ae.createElement(Xt,{key:o});case"searchFieldInput":return ae.createElement(Kt,{key:o});case"separator":return ae.createElement(l.ItemsSeparator,{full:true,key:A()});case"uploadImageButton":return ae.createElement(Jt,{key:o});default:return null}};return ae.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Zt=s(({displayTitle:e})=>{const{library:t}=a();return $e.createElement($e.Fragment,null,e&&$e.createElement(l.Sidebar.Heading,null,t.locale.title),$e.createElement(Qt,null))});import He from"react";import J from"react";import mi from"react";var er=s(()=>{const{overlayTool:e}=a();const{allBlendModes:t,blendMode:r}=e;const n=e.locale.controls;const o=i=>{e.changeBlendMode(i)};return mi.createElement(h.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:r,onSelect:o,list:t})});import q from"react";var di=s(()=>{const{overlayTool:e,custom:t}=a();const{items:r,locale:n,identifier:o,selectOverlay:i}=e;const m=(d,p)=>{var g;const c=n.items[d.identifier]||d.name;const b=(g=n.controls)==null?void 0:g.itemAriaLabel;const f=t.getAdvancedItemCard();if(!f){return null}return q.createElement(f,{tool:"overlay",type:"medium",onClick:()=>i(d.identifier),key:d.identifier,image:d.thumbnailURI,label:c,"aria-label":b==null?void 0:b.replace(`\${label}`,c),style:{animationDelay:`${k(p)}s`},isActive:d.identifier===o},q.createElement(B,{withBackground:true},c))};return q.createElement(q.Fragment,null,r.map(m))});var or=()=>{return q.createElement(l.Itemsbar,null,q.createElement(l.CardContainer,null,q.createElement(di,null)))};import pi from"react";var tr=s(()=>{const{overlayTool:e,custom:t}=a();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return pi.createElement(o,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!e.isOptionSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n,isDisabled:!e.isOptionSelected})});import ci from"react";var rr=s(()=>{const{overlayTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return ci.createElement(n,{tool:"overlay",label:r.buttonReset,ariaLabel:r.buttonReset,isDisabled:!e.isOptionSelected,onClick:o})});var nr=s(()=>{const{overlayTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"items":return J.createElement(or,{key:o});case"separator":return J.createElement(l.ItemsSeparator,{full:true,key:A()});case"overlayBlendModeCarousel":return J.createElement(er,{key:o});case"overlayOpacitySlider":return J.createElement(tr,{key:o});case"removeOverlayButton":return J.createElement(rr,{key:o});default:return null}}else if(typeof o==="object"){return J.createElement(l.Controlsbar,{key:o.type,show:e.isOptionSelected},o.children.map(i=>n(i)))}return null};return J.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var ir=s(({displayTitle:e})=>{const{overlayTool:t}=a();return He.createElement(He.Fragment,null,e&&He.createElement(l.Sidebar.Heading,null,t.locale.title),He.createElement(nr,null))});import Me from"react";import se from"react";import ar from"react";var sr=s(()=>{const{stickerTool:e}=a();const{colorList:t}=e;const r=e.locale.controls;const n=e.localeColor.colorPicker;const o=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return ar.createElement(h.Input.Selection,{isDisabled:o,label:r.selectColor},ar.createElement(D,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:n,isDisabled:o,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))});import L from"react";var ui=s(()=>{const{stickerTool:e,custom:t}=a();const{categories:r,selectedCategoryIdentifier:n,config:o,items:i,locale:m}=e;const d=t.getAdvancedCategoryCard();const p=t.getAdvancedItemCard();const c=(g,C)=>{var T;const u=m.items[g.identifier]||g.name;const S=(T=m.controls)==null?void 0:T.itemAriaLabel;if(!p){return null}return L.createElement(p,{key:g.identifier,tool:"sticker",type:"small",onClick:()=>e.add(g.identifier),image:g.thumbnailURI,label:u,"aria-label":S==null?void 0:S.replace(`\${label}`,u),style:{backgroundSize:"75%",animationDelay:`${xo(C)}s`}},L.createElement(B,{hidden:true},u))};const b=(g,C)=>{var E;const u=n===g.identifier;const S=m.categories[g.identifier]||g.name;const T=(E=m.controls)==null?void 0:E.categoryAriaLabel;if(!g.items||!d){return null}return L.createElement("div",{key:g.identifier},L.createElement(d,{role:"button","aria-expanded":u,"aria-label":T==null?void 0:T.replace(`\${label}`,S),isActive:u,tool:"sticker",type:"large",onClick:()=>e.toggleCategorySelection(g.identifier),image:g.thumbnailURI,label:S,style:{animationDelay:`${k(C)}s`}},L.createElement(B,{withBackground:true,caret:true,isActive:u},S)),L.createElement(l.Sidebar.ExpandableContainer,{show:u,key:`${g.identifier}-items`},g.items.map(c)))};const f=(g,C)=>{const u=m.categories[g.identifier]||g.name;if(!g.items)return null;return L.createElement(l.Sidebar.TextCategory,{key:g.identifier,name:u,isFirstCategory:C===0,isLastCategory:C===r.length-1},g.items.map(c))};if(o.flattenCategories)return L.createElement(L.Fragment,null,i.map(c));if(o.categoryHeaderType==="card")return L.createElement(L.Fragment,null,r.map(b));if(o.categoryHeaderType==="text")return L.createElement(L.Fragment,null,r.map(f));return null});var lr=()=>{return L.createElement(l.Itemsbar,null,L.createElement(l.CardContainer,null,L.createElement(ui,null)))};import fi from"react";var mr=s(()=>{const{stickerTool:e,custom:t}=a();const r=e.locale.controls;const n=()=>{e.toolSnapshot()};const o=t.getSlider();if(!o){return null}return fi.createElement(o,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!e.isStickerSelected,label:r.sliderOpacity,value:e.opacity,min:0,max:1,onChange:e.changeOpacity,onMouseUp:n,onTouchEnd:n})});import dr from"react";import Ci from"styled-components";var hi=Ci.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:true})`
  ${Ao.VisuallyHidden}
`;var pr=s(()=>{const{stickerTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{const m=document.getElementById("fileUpload");if(m){m.value=null;m.click()}};const i=m=>{const{files:d}=m.target;e.addFiles(d)};if(e.isCustomStickerEnabled){if(!n){return null}return dr.createElement(n,{tool:"sticker",ariaLabel:r.buttonUpload,onClick:o,label:r.buttonUpload},dr.createElement(hi,{onChange:i}))}return null});var cr=s(()=>{const{stickerTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return se.createElement(lr,{key:o});case"separator":return se.createElement(l.ItemsSeparator,{full:true,key:A()});case"uploadStickerButton":return se.createElement(pr,{key:o});case"stickerColorList":return se.createElement(sr,{key:o});case"stickerOpacitySlider":return se.createElement(mr,{key:o});default:return null}};return se.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var ur=s(({displayTitle:e})=>{const{stickerTool:t}=a();return Me.createElement(Me.Fragment,null,e&&Me.createElement(l.Sidebar.Heading,null,t.locale.title),Me.createElement(cr,null))});import We from"react";import _ from"react";import Ei from"styled-components";import fr from"react";var Cr=s(()=>{const{textTool:e}=a();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,backgroundColorList:o}=e;return fr.createElement(h.Input.Selection,{isDisabled:!n,label:t.selectBackgroundColor},fr.createElement(D,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))});import bi from"react";var hr=s(()=>{const{textTool:e}=a();const t=e.locale.controls;const{fontFamily:r,fontStyle:n,fontWeight:o,fontFamilies:i,isTextSelected:m}=e;const d=i.map(c=>({label:`${c.fontFamily} ${ko.getDisplayFontStyle(c)}`,fontWeight:c.fontWeight,fontStyle:c.fontStyle,fontFamily:c.fontFamily,value:c.identifier}));const p=d.filter(({value:c})=>c===e.identifier)[0];return bi.createElement(h.Input.Dropdown,{isDisabled:!m,style:{fontFamily:r,fontStyle:n,fontWeight:o},itemStyle:c=>({fontFamily:c.fontFamily,fontStyle:c.fontStyle,fontWeight:c.fontWeight}),label:t.dropdownFontFamily,list:d,onSelect:e.changeFont,selectedItem:p.label})});import gi from"react";import vi from"styled-components";var Si=vi(h.Input.NumericInput)`
  max-width: 50%;
  margin-right: 16px;
`;var br=s(()=>{const{textTool:e}=a();const t=e.locale.controls;const{isTextSelected:r}=e;const n=o=>{const i=o?parseFloat(o):0;e.setFontSize(Math.max(10,Math.min(690,i)))};return gi.createElement(Si,{id:"photoeditorsdk-text-font-size-input",value:e.fontSize.toFixed(0),onSubmit:n,label:t.textFontSize,isDisabled:!r})});import Ti from"react";var gr=s(()=>{const{textTool:e,custom:t}=a();const r=e.locale.controls;const{isTextSelected:n}=e;const o=()=>{e.toolSnapshot()};const i=t.getSlider();if(!i){return null}return Ti.createElement(i,{identifier:"text-line-spacing",tool:"text",isDisabled:!n,label:r.sliderLineSpacing,value:e.lineHeight,min:.5,max:3,onChange:e.changeLineHeight,onMouseUp:o,onTouchEnd:o,snap:1,divider:1,decimal:1})});import Ii from"react";var vr=s(()=>{const{textTool:e,custom:t}=a();const r=e.locale.controls;const n=()=>{e.add()};const o=t.getButton("toolControlBarPrimaryButton");if(!o){return null}return Ii.createElement(o,{tool:"text",ariaLabel:r.buttonNew,onClick:n,label:r.buttonNew})});import go from"react";import yi from"styled-components";var xi=yi(h.Input.Selection)`
  width: 50%;
`;var Sr=s(()=>{const{textTool:e,custom:t}=a();const r=e.locale.controls;const{isTextSelected:n,alignment:o}=e;const i=["left","center","right"];const m=t.getButton("textAlignment");return go.createElement(xi,{isDisabled:!n,inline:true,label:r.selectAlignment,"data-test":I.TextAlignment},i.map(d=>{const p=Oo[d];return go.createElement(m,{tool:d,isDisabled:!n,ariaLabel:`Align ${d}`,isActive:d===o,key:d,style:{padding:"1px 3px 2px"},icon:go.createElement(p,null),onClick:()=>e.changeAlignment(d)})}))});import Tr from"react";var Ir=s(()=>{const{textTool:e}=a();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextSelected:n,colorList:o}=e;return Tr.createElement(h.Input.Selection,{isDisabled:!n,label:t.selectFontColor},Tr.createElement(D,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});var Ai=Ei.div`
  display: flex;
  justify-content: space-between;
`;var Bi=({textTool:e})=>{const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{if(typeof o==="string"){switch(o){case"newTextButton":return _.createElement(vr,{key:o});case"fontFamilyDropdown":return _.createElement(hr,{key:o});case"separator":return _.createElement(l.ItemsSeparator,{full:true,key:A()});case"textColorList":return _.createElement(Ir,{key:o});case"backgroundColorList":return _.createElement(Cr,{key:o});case"lineSpacingSlider":return _.createElement(gr,{key:o});case"textAlignmentList":return _.createElement(Sr,{key:o});case"fontSizeInput":return _.createElement(br,{key:o});default:return null}}else if(typeof o==="object"){return _.createElement(Ai,{key:o.type},o.children.map(i=>n(i)))}return null};return _.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))};var yr=R("textTool")(s(Bi));var xr=s(({displayTitle:e})=>{const{textTool:t}=a();return We.createElement(We.Fragment,null,e&&We.createElement(l.Sidebar.Heading,null,t.locale.title),We.createElement(yr,null))});import ze from"react";import le from"react";import Oi from"react";var Er=s(()=>{const{textDesignTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarPrimaryButton");const o=()=>{e.add()};if(!n){return null}return Oi.createElement(n,{tool:"textdesign",ariaLabel:r.buttonNew,onClick:o,label:r.buttonNew})});import ki from"react";var Ar=s(()=>{const{textDesignTool:e,custom:t}=a();const r=e.locale.controls;const{isTextDesignSelected:n}=e;const o=t.getButton("toolControlBarSecondaryButton");const i=()=>{e.changeSeed()};if(!o){return null}return ki.createElement(o,{tool:"textdesign",ariaLabel:r.buttonShuffle,isDisabled:!n,onClick:i,label:r.buttonShuffle})});import Br from"react";var Or=s(()=>{const{textDesignTool:e}=a();const t=e.locale.controls;const r=e.localeColor.colorPicker;const{isTextDesignSelected:n,colorList:o}=e;return Br.createElement(h.Input.Selection,{isDisabled:!n,label:t.selectColor},Br.createElement(D,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:o,labelsColor:r,isDisabled:!n,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))});import Q from"react";var Ui=s(()=>{const{textDesignTool:e,custom:t}=a();const{items:r,identifier:n,locale:o}=e;const i=d=>{e.changeIdentifier(d)};const m=(d,p)=>{var f;const c=(f=o.controls)==null?void 0:f.itemAriaLabel;const b=t.getAdvancedItemCard();if(!b){return null}return Q.createElement(b,{key:d.identifier,tool:"textdesign",type:"medium",onClick:()=>i(d.identifier),image:d.thumbnailURI,label:d.name||"","aria-label":c==null?void 0:c.replace(`\${label}`,d.name),style:{animationDelay:`${k(p)}s`,backgroundSize:"60%"},isDisabled:!e.isTextDesignSelected,isActive:n===d.identifier},Q.createElement(B,{hidden:true},d.name))};return Q.createElement(Q.Fragment,null,r.map(m))});var kr=()=>{return Q.createElement(l.Itemsbar,null,Q.createElement(l.CardContainer,null,Q.createElement(Ui,null)))};var Ur=s(()=>{const{textDesignTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return le.createElement(kr,{key:o});case"separator":return le.createElement(l.ItemsSeparator,{full:true,key:A()});case"newTextDesignButton":return le.createElement(Er,{key:o});case"shuffleLayoutButton":return le.createElement(Ar,{key:o});case"textDesignColorList":return le.createElement(Or,{key:o});default:return null}};return le.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Fr=s(({displayTitle:e})=>{const{textDesignTool:t}=a();return ze.createElement(ze.Fragment,null,e&&ze.createElement(l.Sidebar.Heading,null,t.locale.title),ze.createElement(Ur,null))});import Ge from"react";import me from"react";import Fi from"react";var Lr=s(()=>{const{transformTool:e}=a();const t=e.locale.controls;const{forceDimensions:r,localOutputHeight:n,localOutputWidth:o}=e;return Fi.createElement(Fo,{isDisabled:r,showLabel:true,valueHeight:n,valueWidth:o,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel})});import Li from"react";var Dr=s(()=>{const{transformTool:e,custom:t}=a();const r=e.locale.controls;const{forceDimensions:n,lockResolution:o}=e;const i=t.getCheckbox();if(!i){return null}return Li.createElement(i,{tool:"transform",isDisabled:n,value:o,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:e.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}})});import Di from"react";var wr=s(()=>{const{transformTool:e,custom:t}=a();const r=e.locale.controls;const n=t.getButton("toolControlBarSecondaryButton");const o=()=>{e.reset()};if(!n){return null}return Di.createElement(n,{tool:"transform",ariaLabel:r.buttonReset,onClick:o,label:r.buttonReset})});import U from"react";import{renderToStaticMarkup as Nr}from"react-dom/server";var wi=s(()=>{const{transformTool:e,custom:t,editor:r}=a();const{categories:n,items:o,identifier:i,config:m,locale:d}=e;const p=t.getAdvancedItemCard();const c=t.getAdvancedCategoryCard();const b=(C,u)=>{var ee;const{theme:S,measurements:T}=r.configStore;const E=d.items[C.identifier]||C.name;const w=(ee=d.controls)==null?void 0:ee.itemAriaLabel;let G=C.thumbnailURI||"";let Z="80%";if(!e.checkIfTransformThumbnailExits(C.thumbnailURI)){const j=C.identifier.includes("imgly_transform_common");const Ke=de.crops[C.identifier]||de.crops.imgly_transform_common_custom;const Yr=U.createElement(Ke,{width:T.advancedUICard.medium.width-(j?42:0),height:T.advancedUICard.medium.height-(j?42:0),main:S.transform.crops.main,highlight:S.transform.crops.highlight,shadow:S.transform.crops.shadow});G=`'data:image/svg+xml,${encodeURIComponent(Nr(Yr))}'`;Z=N()||Te()?"auto":"unset"}if(!p){return null}return U.createElement(p,{key:C.identifier,tool:"transform",type:"medium",onClick:()=>e.changeIdentifier(C.identifier,true),image:G,label:E,"aria-label":w==null?void 0:w.replace(`\${label}`,E),style:{backgroundSize:Z,animationDelay:`${k(u)}s`},isActive:C.identifier===i},U.createElement(B,null,E))};const f=(C,u)=>{var ee;const{theme:S,measurements:T}=r.configStore;const E=e.selectedCategoryIdentifier===C.identifier;const w=d.categories[C.identifier]||C.name;const G=(ee=d.controls)==null?void 0:ee.categoryAriaLabel;let Z=C.thumbnailURI||"";if(!C.items||!c){return null}if(!e.checkIfTransformThumbnailExits(C.thumbnailURI)){const j=de.categories[C.identifier]||de.crops.imgly_transform_common_custom;const Ke=U.createElement(j,{width:T.advancedUICard.large.width-42,height:T.advancedUICard.large.height-42,main:S.transform.crops.main,highlight:S.transform.crops.highlight,shadow:S.transform.crops.shadow});Z=`'data:image/svg+xml,${encodeURIComponent(Nr(Ke))}'`}return U.createElement("div",{key:C.identifier},U.createElement(c,{role:"button","aria-expanded":E,"aria-label":G==null?void 0:G.replace(`\${label}`,w),isActive:E,type:"large",onClick:()=>e.toggleCategorySelection(C.identifier),key:C.identifier,image:Z,style:{animationDelay:`${k(u)}s`},label:C.name,tool:"transform"},U.createElement(B,{caret:true,isActive:E},w)),U.createElement(l.Sidebar.ExpandableContainer,{show:E},C.items.map(b)))};const g=(C,u)=>{const S=d.categories[C.identifier]||C.name;if(!C.items)return null;return U.createElement(l.Sidebar.TextCategory,{key:C.identifier,name:S,isFirstCategory:u===0,isLastCategory:u===n.length-1},C.items.map(b))};if(m.flattenCategories)return U.createElement(U.Fragment,null,o.map(b));if(m.categoryHeaderType==="card")return U.createElement(U.Fragment,null,n.map(f));if(m.categoryHeaderType==="text")return U.createElement(U.Fragment,null,n.map(g));return null});var _r=()=>{return U.createElement(l.Itemsbar,null,U.createElement(l.CardContainer,null,U.createElement(wi,null)))};var Pr=s(()=>{const{transformTool:e}=a();const{config:t}=e;const{advancedUIToolControlBarOrder:r}=t;const n=o=>{switch(o){case"items":return me.createElement(_r,{key:o});case"separator":return me.createElement(l.ItemsSeparator,{full:true,key:A()});case"resetTransformButton":return me.createElement(wr,{key:o});case"keepResolutionCheckbox":return me.createElement(Dr,{key:o});case"cropSizeInput":return me.createElement(Lr,{key:o});default:return null}};return me.createElement(l.ToolControlBarItems,null,r.map(o=>n(o)))});var Rr=s(({displayTitle:e})=>{const{transformTool:t}=a();return Ge.createElement(Ge.Fragment,null,e&&Ge.createElement(l.Sidebar.Heading,null,t.locale.title),Ge.createElement(Pr,null))});var vo=s(function e(){const{active:t,config:r,custom:n}=a();const o=t.tool;const i=r.config.displayToolControlBarTitle;const m=n.getAdvancedToolControlBar();if(!m){return null}return y.createElement(m,{reverse:r.config.order==="reverse",tool:o},y.createElement(h.Switch.Index,{type:o},y.createElement(h.Switch.Case,{value:"library"},y.createElement(Zt,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"filter"},y.createElement(Dt,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"focus"},y.createElement(Rt,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"adjustment"},y.createElement(St,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"overlay"},y.createElement(ir,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"sticker"},y.createElement(ur,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"text"},y.createElement(xr,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"textdesign"},y.createElement(Fr,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"frame"},y.createElement(Yt,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"brush"},y.createElement(Bt,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"transform"},y.createElement(Rr,{displayTitle:i})),y.createElement(h.Switch.Case,{value:"customTool"},y.createElement(Ot,{displayTitle:i}))))});var $r=Ni.div`
  position: absolute;
  height: 100%;
  width: ${e=>e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}px;
  top: 0;
  background: ${e=>e.theme.webcam.backdrop};
  z-index: ${e=>e.theme.measurements.zIndex.disable};
`;var he=class extends x.Component{static getDerivedStateFromError(t){console.error(t);return{hasError:true}}render(){const{config:t,active:r,canvas:n,custom:o}=this.props;const i=o.getWindowContainer();return t.isOrderDefault?x.createElement(h.Container,null,r.isWebcam?x.createElement($r,{style:{left:0}}):null,x.createElement(oo,null),x.createElement(ho,null),x.createElement(vo,null),x.createElement(Qe,null,x.createElement(Ze,null),i&&x.createElement(i,{tool:r.tool},x.createElement(ro,null,r.isWebcam?x.createElement(to,null):null,r.image&&n&&x.createElement(eo,null))))):x.createElement(h.Container,null,r.isWebcam?x.createElement($r,{style:{right:0}}):null,x.createElement(oo,null),x.createElement(Qe,null,x.createElement(Ze,null),i&&x.createElement(i,{tool:r.tool},x.createElement(ro,null,r.isWebcam?x.createElement(to,null):null,r.image&&n&&x.createElement(eo,null)))),x.createElement(vo,null),x.createElement(ho,null))}};he=Se([R("config","active","canvas","custom"),s],he);import be from"react";import _i from"styled-components";var Hr=class extends be.Component{constructor(t){super(t);this.ref=null;this.updatePosition=()=>{const{isReverse:t}=this.props;const r={x:0,y:0};if(this.ref.current){const{top:n,height:o,left:i,right:m}=this.ref.current.getBoundingClientRect();r.y=n+o/4;r.x=t?window.innerWidth-m:i}this.setState({tooltipPosition:r})};this.mouseOver=t=>{this.updatePosition();this.setState({hoverTool:t})};this.mouseOut=()=>{this.setState({hoverTool:null})};this.state={hoverTool:null,tooltipPosition:{x:0,y:0}};this.ref=be.createRef()}componentDidMount(){this.updatePosition()}componentDidUpdate(t){const{isReverse:r}=this.props;if(r!==t.isReverse){this.updatePosition()}}render(){const{tool:t,isActive:r,isReverse:n,isDisabled:o,icon:i,label:m,onClick:d,className:p,children:c}=this.props;const{hoverTool:b,tooltipPosition:f}=this.state;return be.createElement(Pi,{ref:this.ref,onMouseOver:()=>this.mouseOver(t),onMouseOut:()=>this.mouseOut(),onFocus:()=>this.mouseOver(t),onBlur:()=>this.mouseOut(),className:p},be.createElement(l.Toolbar.Item,{ariaLabel:m,isActive:r,isDisabled:o,onClick:()=>d(t)},i,c),be.createElement(l.Toolbar.Tooltip,{position:f,reverse:n,show:b===t},m))}};var je=Hr;var Pi=_i.div`
  position: relative;
`;var Ve=class extends Ye.Component{constructor(){super(...arguments);this.componentWillUnmount=()=>{this.editor.cleanUpCanvasMemory()}}componentDidMount(){const{editor:t,storeProps:r}=this.props;this.editor=t;this.storeProps=r;const n=new Uo(this.editor.configStore.config.custom.components,{advancedUICategoryCard:l.Card,advancedUIItemCard:l.Card,advancedUIToolbarItem:je,advancedUIToolbar:l.Toolbar.Index,advancedUIToolControlBar:l.Sidebar.Index});const o={getAdvancedCategoryCard:n.getAdvancedCategoryCard,getAdvancedItemCard:n.getAdvancedItemCard,getAdvancedToolbarItem:n.getAdvancedToolbarItem,getAdvancedToolbar:n.getAdvancedToolbar,getAdvancedToolControlBar:n.getAdvancedToolControlBar,getDialog:n.getDialog,getButton:n.getButton,getColorItem:n.getColorItem,getCheckbox:n.getCheckbox,getWindowContainer:n.getWindowContainer,getSlider:n.getSlider};this.storeProps.custom=o;this.forceUpdate()}render(){return this.storeProps?Ye.createElement(yo,{...this.storeProps},Ye.createElement(Ri,{theme:{...this.editor.configStore.theme,measurements:this.editor.configStore.measurements}},Ye.createElement(he,null))):null}};import Mr,{useEffect as Gi}from"react";import Wr from"react-dom";import ge,{Suspense as $i,useMemo as Hi}from"react";var Mi=ge.lazy(()=>import("./basic-WOC6EDNA.js"));var Wi=e=>{return{filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}};var Xe=({editor:e})=>{const t=Hi(()=>{return Wi(e)},[e]);if(e.configStore.config.layout==="basic"){return ge.createElement($i,{fallback:ge.createElement("div",null)},ge.createElement(Mi,{editor:e,storeProps:t}))}return ge.createElement(Ve,{editor:e,storeProps:t})};var zr=class extends Ie{constructor(t,r,n){super();this.dispose=()=>{if(this.container){Wr.unmountComponentAtNode(this.container);this.removeAllListeners("export");this.removeAllListeners("historyUndo");this.removeAllListeners("historyRedo");this.removeAllListeners("historyChange");this.removeAllListeners("editorReady");this.removeAllListeners("errorImageLoading");this.removeAllListeners("imageLoad");this.removeAllListeners("toolEnter");this.removeAllListeners("stickerUploadAdd");this.removeAllListeners("errorWebGLContextLost");this.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}}};this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.getImageMimeType=()=>{return this.editor.getImageMimeType()};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.container=r;const o={["export"]:i=>{this.emit("export",i)},["close"]:()=>{this.emit("close");this.dispose()},["historyUndo"]:()=>{this.emit("historyUndo")},["historyRedo"]:()=>{this.emit("historyRedo")},["historyChange"]:()=>{this.emit("historyChange")},["stickerUploadAdd"]:i=>{this.emit("stickerUploadAdd",i)},["cropDimensionsChange"]:i=>{this.emit("cropDimensionsChange",i)}};if(n){Object.entries(n).forEach(([i,m])=>{o[i]=m(this)})}this.editor=new xe({...t},o)}hasChanges(){return this.editor.hasChanges()}};var Gr=class{constructor(){this.container=null}init(t){return new Promise((r,n)=>{if(typeof window==="undefined"){r();return}this.container=typeof t.container==="string"?document.querySelector(t.container):t.container;if(this.container){this.editorApi=new zr(t,this.container,{["editorReady"]:o=>()=>{setTimeout(()=>{o.emit("editorReady")},0);r(o)},["errorImageLoading"]:o=>i=>{setTimeout(()=>{o.emit("errorImageLoading",i)},0);r(o)},["errorWebGLContextLost"]:o=>i=>{setTimeout(()=>{o.emit("errorWebGLContextLost",i)},0);r(o)},["imageLoad"]:o=>()=>{setTimeout(()=>{o.emit("imageLoad")},0);r(o)},["toolEnter"]:o=>i=>{setTimeout(()=>{o.emit("toolEnter",i)},0);r(o)}});Wr.render(Mr.createElement(ji,{editor:this.editorApi.editor}),this.container)}else{n(new Error("Provide a container"))}})}};var ji=({editor:e})=>{Gi(()=>{return()=>{var t;if((t=e==null?void 0:e.configStore)==null?void 0:t.events){e.configStore.events.removeAllListeners("export");e.configStore.events.removeAllListeners("close");e.configStore.events.removeAllListeners("historyUndo");e.configStore.events.removeAllListeners("historyRedo");e.configStore.events.removeAllListeners("historyChange");e.configStore.events.removeAllListeners("editorReady");e.configStore.events.removeAllListeners("errorImageLoading");e.configStore.events.removeAllListeners("imageLoad");e.configStore.events.removeAllListeners("toolEnter");e.configStore.events.removeAllListeners("stickerUploadAdd");e.configStore.events.removeAllListeners("errorWebGLContextLost");e.configStore.events.removeAllListeners("cropDimensionsChange")}}},[]);return Mr.createElement(Xe,{editor:e})};var Yi={init:e=>{const t=new Gr;return t.init(e)}};import So from"react";var jr=class extends So.Component{constructor(t){super(t);this.ui=new Ie;this.serialize=t=>{return this.editor.serialize(t)};this.deserialize=t=>{return this.editor.deserialize(t)};this.export=t=>{return this.editor.export(t)};this.close=()=>{return this.editor.close()};this.setImage=t=>{return this.editor.setImage(t,true)};this.getImageDimensions=()=>{return this.editor.getImageDimensions()};this.dispose=()=>{this.ui.removeAllListeners("export");this.ui.removeAllListeners("historyUndo");this.ui.removeAllListeners("historyRedo");this.ui.removeAllListeners("historyChange");this.ui.removeAllListeners("editorReady");this.ui.removeAllListeners("errorImageLoading");this.ui.removeAllListeners("imageLoad");this.ui.removeAllListeners("toolEnter");this.ui.removeAllListeners("stickerUploadAdd");this.ui.removeAllListeners("errorWebGLContextLost");this.ui.removeAllListeners("cropDimensionsChange");if(this.editor){this.editor.dispose()}};this.reset=()=>{this.editor.resetToolStates();this.editor.resize()};this.editor=new xe({...t},{["export"]:r=>{this.ui.emit("export",r)},["close"]:()=>{this.componentWillUnmount();this.ui.emit("close")},["historyUndo"]:()=>{this.ui.emit("historyUndo")},["historyRedo"]:()=>{this.ui.emit("historyRedo")},["historyChange"]:()=>{this.ui.emit("historyChange")},["editorReady"]:()=>{this.ui.emit("editorReady")},["errorImageLoading"]:r=>{this.ui.emit("errorImageLoading",r)},["imageLoad"]:()=>{this.ui.emit("imageLoad")},["toolEnter"]:r=>{this.ui.emit("toolEnter",r)},["stickerUploadAdd"]:r=>{this.ui.emit("stickerUploadAdd",r)},["cropDimensionsChange"]:r=>{this.ui.emit("cropDimensionsChange",r)},["errorWebGLContextLost"]:()=>{this.ui.emit("errorWebGLContextLost")}})}componentWillUnmount(){this.dispose()}hasChanges(){return this.editor.hasChanges()}render(){return So.createElement(Xe,{editor:this.editor})}};var Vi=e=>{if(typeof window==="undefined"){return null}return So.createElement(jr,{...e})};var fS=()=>{const{active:e}=a();return e.newImage};var bS=()=>{const{active:e}=a();return e.image};var SS=()=>{const e=a();return e.config.isLayoutAdvanced};Io({isolateGlobalState:true});var{Container:zS,Input:Xi,ColorItem:GS,ColorItemBase:jS,ColorItemBackground:YS,ColorItemTiledBackground:VS,ColorItemActiveOverlay:XS,Dialog:KS,DialogBase:qS,DialogContainer:JS,DialogBackdrop:QS,DialogHeader:ZS,DialogBody:eT,DialogFooter:oT,DialogSpinner:tT}=h;var{Search:Ki,Label:rT,Checkbox:nT,CheckboxBase:iT,CheckboxInput:aT,CheckboxCheckMark:sT,Dropdown:lT,Slider:mT,SliderBase:dT,SliderContainer:pT,SliderInput:cT,SliderTrack:uT,SliderLabel:fT}=Xi;var CT=pe;var hT=pe;var bT=Ki;var gT=l.Toolbar.Index;var vT=l.Sidebar.Index;var ST=l.Controlsbar;var TT=Ee.Toolbar.Index;var IT=Ee.Controlsbar;var yT=Ee.Itemsbar;export{je as a,Yi as b,Vi as c,fS as d,bS as e,SS as f,zS as g,GS as h,jS as i,YS as j,VS as k,XS as l,KS as m,qS as n,JS as o,QS as p,ZS as q,eT as r,oT as s,tT as t,rT as u,nT as v,iT as w,aT as x,sT as y,lT as z,mT as A,dT as B,pT as C,cT as D,uT as E,fT as F,CT as G,hT as H,bT as I,gT as J,vT as K,ST as L,TT as M,IT as N,yT as O};
